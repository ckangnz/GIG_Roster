var mI=Object.defineProperty;var pI=(n,e,t)=>e in n?mI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ug=(n,e,t)=>pI(n,typeof e!="symbol"?e+"":e,t);function gI(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function YS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cg={exports:{}},Ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function yI(){if(fb)return Ku;fb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:a,key:c,ref:s!==void 0?s:null,props:l}}return Ku.Fragment=e,Ku.jsx=t,Ku.jsxs=t,Ku}var db;function _I(){return db||(db=1,cg.exports=yI()),cg.exports}var T=_I(),hg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function vI(){if(mb)return et;mb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,k={};function K(U,ie,be){this.props=U,this.context=ie,this.refs=k,this.updater=be||O}K.prototype.isReactComponent={},K.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},K.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=K.prototype;function Q(U,ie,be){this.props=U,this.context=ie,this.refs=k,this.updater=be||O}var se=Q.prototype=new B;se.constructor=Q,F(se,K.prototype),se.isPureReactComponent=!0;var ue=Array.isArray;function Z(){}var A={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function N(U,ie,be){var oe=be.ref;return{$$typeof:n,type:U,key:ie,ref:oe!==void 0?oe:null,props:be}}function x(U,ie){return N(U.type,ie,U.props)}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(be){return ie[be]})}var D=/\/+/g;function ce(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):ie.toString(36)}function _e(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Z,Z):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function z(U,ie,be,oe,Ee){var Se=typeof U;(Se==="undefined"||Se==="boolean")&&(U=null);var Ne=!1;if(U===null)Ne=!0;else switch(Se){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(U.$$typeof){case n:case e:Ne=!0;break;case y:return Ne=U._init,z(Ne(U._payload),ie,be,oe,Ee)}}if(Ne)return Ee=Ee(U),Ne=oe===""?"."+ce(U,0):oe,ue(Ee)?(be="",Ne!=null&&(be=Ne.replace(D,"$&/")+"/"),z(Ee,ie,be,"",function(yt){return yt})):Ee!=null&&(M(Ee)&&(Ee=x(Ee,be+(Ee.key==null||U&&U.key===Ee.key?"":(""+Ee.key).replace(D,"$&/")+"/")+Ne)),ie.push(Ee)),1;Ne=0;var Be=oe===""?".":oe+":";if(ue(U))for(var Ge=0;Ge<U.length;Ge++)oe=U[Ge],Se=Be+ce(oe,Ge),Ne+=z(oe,ie,be,Se,Ee);else if(Ge=w(U),typeof Ge=="function")for(U=Ge.call(U),Ge=0;!(oe=U.next()).done;)oe=oe.value,Se=Be+ce(oe,Ge++),Ne+=z(oe,ie,be,Se,Ee);else if(Se==="object"){if(typeof U.then=="function")return z(_e(U),ie,be,oe,Ee);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(U,ie,be){if(U==null)return U;var oe=[],Ee=0;return z(U,oe,"","",function(Se){return ie.call(be,Se,Ee++)}),oe}function he(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(be){(U._status===0||U._status===-1)&&(U._status=1,U._result=be)},function(be){(U._status===0||U._status===-1)&&(U._status=2,U._result=be)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var xe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ue={map:ne,forEach:function(U,ie,be){ne(U,function(){ie.apply(this,arguments)},be)},count:function(U){var ie=0;return ne(U,function(){ie++}),ie},toArray:function(U){return ne(U,function(ie){return ie})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return et.Activity=E,et.Children=Ue,et.Component=K,et.Fragment=t,et.Profiler=s,et.PureComponent=Q,et.StrictMode=a,et.Suspense=m,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,et.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},et.cache=function(U){return function(){return U.apply(null,arguments)}},et.cacheSignal=function(){return null},et.cloneElement=function(U,ie,be){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var oe=F({},U.props),Ee=U.key;if(ie!=null)for(Se in ie.key!==void 0&&(Ee=""+ie.key),ie)!C.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(oe[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)oe.children=be;else if(1<Se){for(var Ne=Array(Se),Be=0;Be<Se;Be++)Ne[Be]=arguments[Be+2];oe.children=Ne}return N(U.type,Ee,oe)},et.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},et.createElement=function(U,ie,be){var oe,Ee={},Se=null;if(ie!=null)for(oe in ie.key!==void 0&&(Se=""+ie.key),ie)C.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ee[oe]=ie[oe]);var Ne=arguments.length-2;if(Ne===1)Ee.children=be;else if(1<Ne){for(var Be=Array(Ne),Ge=0;Ge<Ne;Ge++)Be[Ge]=arguments[Ge+2];Ee.children=Be}if(U&&U.defaultProps)for(oe in Ne=U.defaultProps,Ne)Ee[oe]===void 0&&(Ee[oe]=Ne[oe]);return N(U,Se,Ee)},et.createRef=function(){return{current:null}},et.forwardRef=function(U){return{$$typeof:d,render:U}},et.isValidElement=M,et.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:he}},et.memo=function(U,ie){return{$$typeof:g,type:U,compare:ie===void 0?null:ie}},et.startTransition=function(U){var ie=A.T,be={};A.T=be;try{var oe=U(),Ee=A.S;Ee!==null&&Ee(be,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Z,xe)}catch(Se){xe(Se)}finally{ie!==null&&be.types!==null&&(ie.types=be.types),A.T=ie}},et.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},et.use=function(U){return A.H.use(U)},et.useActionState=function(U,ie,be){return A.H.useActionState(U,ie,be)},et.useCallback=function(U,ie){return A.H.useCallback(U,ie)},et.useContext=function(U){return A.H.useContext(U)},et.useDebugValue=function(){},et.useDeferredValue=function(U,ie){return A.H.useDeferredValue(U,ie)},et.useEffect=function(U,ie){return A.H.useEffect(U,ie)},et.useEffectEvent=function(U){return A.H.useEffectEvent(U)},et.useId=function(){return A.H.useId()},et.useImperativeHandle=function(U,ie,be){return A.H.useImperativeHandle(U,ie,be)},et.useInsertionEffect=function(U,ie){return A.H.useInsertionEffect(U,ie)},et.useLayoutEffect=function(U,ie){return A.H.useLayoutEffect(U,ie)},et.useMemo=function(U,ie){return A.H.useMemo(U,ie)},et.useOptimistic=function(U,ie){return A.H.useOptimistic(U,ie)},et.useReducer=function(U,ie,be){return A.H.useReducer(U,ie,be)},et.useRef=function(U){return A.H.useRef(U)},et.useState=function(U){return A.H.useState(U)},et.useSyncExternalStore=function(U,ie,be){return A.H.useSyncExternalStore(U,ie,be)},et.useTransition=function(){return A.H.useTransition()},et.version="19.2.4",et}var pb;function Pd(){return pb||(pb=1,hg.exports=vI()),hg.exports}var P=Pd();const QS=YS(P),EI=gI({__proto__:null,default:QS},[P]);var fg={exports:{}},Yu={},dg={exports:{}},mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function TI(){return gb||(gb=1,(function(n){function e(z,ne){var he=z.length;z.push(ne);e:for(;0<he;){var xe=he-1>>>1,Ue=z[xe];if(0<s(Ue,ne))z[xe]=ne,z[he]=Ue,he=xe;else break e}}function t(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var ne=z[0],he=z.pop();if(he!==ne){z[0]=he;e:for(var xe=0,Ue=z.length,U=Ue>>>1;xe<U;){var ie=2*(xe+1)-1,be=z[ie],oe=ie+1,Ee=z[oe];if(0>s(be,he))oe<Ue&&0>s(Ee,be)?(z[xe]=Ee,z[oe]=he,xe=oe):(z[xe]=be,z[ie]=he,xe=ie);else if(oe<Ue&&0>s(Ee,he))z[xe]=Ee,z[oe]=he,xe=oe;else break e}}return ne}function s(z,ne){var he=z.sortIndex-ne.sortIndex;return he!==0?he:z.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,E=null,S=3,w=!1,O=!1,F=!1,k=!1,K=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function se(z){for(var ne=t(g);ne!==null;){if(ne.callback===null)a(g);else if(ne.startTime<=z)a(g),ne.sortIndex=ne.expirationTime,e(m,ne);else break;ne=t(g)}}function ue(z){if(F=!1,se(z),!O)if(t(m)!==null)O=!0,Z||(Z=!0,V());else{var ne=t(g);ne!==null&&_e(ue,ne.startTime-z)}}var Z=!1,A=-1,C=5,N=-1;function x(){return k?!0:!(n.unstable_now()-N<C)}function M(){if(k=!1,Z){var z=n.unstable_now();N=z;var ne=!0;try{e:{O=!1,F&&(F=!1,B(A),A=-1),w=!0;var he=S;try{t:{for(se(z),E=t(m);E!==null&&!(E.expirationTime>z&&x());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,S=E.priorityLevel;var Ue=xe(E.expirationTime<=z);if(z=n.unstable_now(),typeof Ue=="function"){E.callback=Ue,se(z),ne=!0;break t}E===t(m)&&a(m),se(z)}else a(m);E=t(m)}if(E!==null)ne=!0;else{var U=t(g);U!==null&&_e(ue,U.startTime-z),ne=!1}}break e}finally{E=null,S=he,w=!1}ne=void 0}}finally{ne?V():Z=!1}}}var V;if(typeof Q=="function")V=function(){Q(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ce=D.port2;D.port1.onmessage=M,V=function(){ce.postMessage(null)}}else V=function(){K(M,0)};function _e(z,ne){A=K(function(){z(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(z){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var he=S;S=ne;try{return z()}finally{S=he}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var he=S;S=z;try{return ne()}finally{S=he}},n.unstable_scheduleCallback=function(z,ne,he){var xe=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?xe+he:xe):he=xe,z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=he+Ue,z={id:y++,callback:ne,priorityLevel:z,startTime:he,expirationTime:Ue,sortIndex:-1},he>xe?(z.sortIndex=he,e(g,z),t(m)===null&&z===t(g)&&(F?(B(A),A=-1):F=!0,_e(ue,he-xe))):(z.sortIndex=Ue,e(m,z),O||w||(O=!0,Z||(Z=!0,V()))),z},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(z){var ne=S;return function(){var he=S;S=ne;try{return z.apply(this,arguments)}finally{S=he}}}})(mg)),mg}var yb;function bI(){return yb||(yb=1,dg.exports=TI()),dg.exports}var pg={exports:{}},er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function SI(){if(_b)return er;_b=1;var n=Pd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,er.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},er.flushSync=function(m){var g=c.T,y=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=g,a.p=y,a.d.f()}},er.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},er.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},er.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:w}):y==="script"&&a.d.X(m,{crossOrigin:E,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},er.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},er.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=d(y,g.crossOrigin);a.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},er.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},er.requestFormReset=function(m){a.d.r(m)},er.unstable_batchedUpdates=function(m,g){return m(g)},er.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},er.useFormStatus=function(){return c.H.useHostTransitionStatus()},er.version="19.2.4",er}var vb;function XS(){if(vb)return pg.exports;vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),pg.exports=SI(),pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function AI(){if(Eb)return Yu;Eb=1;var n=bI(),e=Pd(),t=XS();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(a(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var o=r,u=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),r;if(p===u)return m(f),i;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=p;else{for(var v=!1,R=f.child;R;){if(R===o){v=!0,o=f,u=p;break}if(R===u){v=!0,u=f,o=p;break}R=R.sibling}if(!v){for(R=p.child;R;){if(R===o){v=!0,o=p,u=f;break}if(R===u){v=!0,u=p,o=f;break}R=R.sibling}if(!v)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case K:return"Profiler";case k:return"StrictMode";case ue:return"Suspense";case Z:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case Q:return r.displayName||"Context";case B:return(r._context.displayName||"Context")+".Consumer";case se:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return i=r.displayName||null,i!==null?i:ce(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return ce(r(i))}catch{}}return null}var _e=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],Ue=-1;function U(r){return{current:r}}function ie(r){0>Ue||(r.current=xe[Ue],xe[Ue]=null,Ue--)}function be(r,i){Ue++,xe[Ue]=r.current,r.current=i}var oe=U(null),Ee=U(null),Se=U(null),Ne=U(null);function Be(r,i){switch(be(Se,i),be(Ee,r),be(oe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?VT(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=VT(i),r=kT(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(oe),be(oe,r)}function Ge(){ie(oe),ie(Ee),ie(Se)}function yt(r){r.memoizedState!==null&&be(Ne,r);var i=oe.current,o=kT(i,r.type);i!==o&&(be(Ee,r),be(oe,o))}function Lt(r){Ee.current===r&&(ie(oe),ie(Ee)),Ne.current===r&&(ie(Ne),Fu._currentValue=he)}var mt,en;function hn(r){if(mt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);mt=i&&i[1]||"",en=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mt+r+en}var Fr=!1;function an(r,i){if(!r||Fr)return"";Fr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var te=ae}Reflect.construct(r,[],me)}else{try{me.call()}catch(ae){te=ae}r.call(me.prototype)}}else{try{throw Error()}catch(ae){te=ae}(me=r())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&te&&typeof ae.stack=="string")return[ae.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],R=p[1];if(v&&R){var j=v.split(`
`),J=R.split(`
`);for(f=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(u===j.length||f===J.length)for(u=j.length-1,f=J.length-1;1<=u&&0<=f&&j[u]!==J[f];)f--;for(;1<=u&&0<=f;u--,f--)if(j[u]!==J[f]){if(u!==1||f!==1)do if(u--,f--,0>f||j[u]!==J[f]){var le=`
`+j[u].replace(" at new "," at ");return r.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",r.displayName)),le}while(1<=u&&0<=f);break}}}finally{Fr=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?hn(o):""}function Bn(r,i){switch(r.tag){case 26:case 27:case 5:return hn(r.type);case 16:return hn("Lazy");case 13:return r.child!==i&&i!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return an(r.type,!1);case 11:return an(r.type.render,!1);case 1:return an(r.type,!0);case 31:return hn("Activity");default:return""}}function wr(r){try{var i="",o=null;do i+=Bn(r,o),o=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Pt=Object.prototype.hasOwnProperty,ut=n.unstable_scheduleCallback,On=n.unstable_cancelCallback,wi=n.unstable_shouldYield,ui=n.unstable_requestPaint,qt=n.unstable_now,sn=n.unstable_getCurrentPriorityLevel,sr=n.unstable_ImmediatePriority,Cr=n.unstable_UserBlockingPriority,fn=n.unstable_NormalPriority,Wn=n.unstable_LowPriority,G=n.unstable_IdlePriority,ge=n.log,Ae=n.unstable_setDisableYieldValue,pe=null,Te=null;function Oe(r){if(typeof ge=="function"&&Ae(r),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(pe,r)}catch{}}var We=Math.clz32?Math.clz32:Ve,nt=Math.log,ct=Math.LN2;function Ve(r){return r>>>=0,r===0?32:31-(nt(r)/ct|0)|0}var Qe=256,gn=262144,Ct=4194304;function Tn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function bn(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~p,u!==0?f=Tn(u):(v&=R,v!==0?f=Tn(v):o||(o=R&~r,o!==0&&(f=Tn(o))))):(R=u&~p,R!==0?f=Tn(R):v!==0?f=Tn(v):o||(o=u&~r,o!==0&&(f=Tn(o)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:f}function Mn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Co(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var r=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),r}function or(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Ci(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function tu(r,i,o,u,f,p){var v=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,j=r.expirationTimes,J=r.hiddenUpdates;for(o=v&~o;0<o;){var le=31-We(o),me=1<<le;R[le]=0,j[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var ae=te[le];ae!==null&&(ae.lane&=-536870913)}o&=~me}u!==0&&Xi(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(v&~i))}function Xi(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-We(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function L(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-We(o),f=1<<u;f&i|r[u]&i&&(r[u]|=i),o&=~f}}function q(r,i){var o=i&-i;return o=(o&42)!==0?1:ee(o),(o&(r.suspendedLanes|i))!==0?0:o}function ee(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ve(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function we(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:ab(r.type))}function Me(r,i){var o=ne.p;try{return ne.p=r,i()}finally{ne.p=o}}var Le=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Le,Ie="__reactProps$"+Le,ke="__reactContainer$"+Le,Ke="__reactEvents$"+Le,He="__reactListeners$"+Le,Je="__reactHandles$"+Le,ht="__reactResources$"+Le,jt="__reactMarker$"+Le;function Xt(r){delete r[Ce],delete r[Ie],delete r[Ke],delete r[He],delete r[Je]}function $t(r){var i=r[Ce];if(i)return i;for(var o=r.parentNode;o;){if(i=o[ke]||o[Ce]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=FT(r);r!==null;){if(o=r[Ce])return o;r=FT(r)}return i}r=o,o=r.parentNode}return null}function at(r){if(r=r[Ce]||r[ke]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Kt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function jn(r){var i=r[ht];return i||(i=r[ht]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Yt(r){r[jt]=!0}var dr=new Set,Jn={};function mr(r,i){Zn(r,i),Zn(r+"Capture",i)}function Zn(r,i){for(Jn[r]=i,r=0;r<i.length;r++)dr.add(i[r])}var Rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ri={},Ii={};function dt(r){return Pt.call(Ii,r)?!0:Pt.call(Ri,r)?!1:Rr.test(r)?Ii[r]=!0:(Ri[r]=!0,!1)}function on(r,i,o){if(dt(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Sn(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Ut(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function st(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ir(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Da(r,i,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,p.call(this,v)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Nt(r){if(!r._valueTracker){var i=Ir(r)?"checked":"value";r._valueTracker=Da(r,i,""+r[i])}}function Ms(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=Ir(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function Ni(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ps=/[\n"\\]/g;function pr(r){return r.replace(Ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ro(r,i,o,u,f,p,v,R){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),i!=null?v==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+st(i)):r.value!==""+st(i)&&(r.value=""+st(i)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),i!=null?nu(r,v,st(i)):o!=null?nu(r,v,st(o)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+st(R):r.removeAttribute("name")}function eh(r,i,o,u,f,p,v,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){Nt(r);return}o=o!=null?""+st(o):"",i=i!=null?""+st(i):o,R||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),Nt(r)}function nu(r,i,o){i==="number"&&Ni(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Oa(r,i,o,u){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+st(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function th(r,i,o){if(i!=null&&(i=""+st(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+st(o):""}function Ma(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(_e(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=st(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Nt(r)}function gr(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||nh.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function iu(r,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&ru(r,f,u)}else for(var p in i)i.hasOwnProperty(p)&&ru(r,p,i[p])}function Io(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(r){return Pa.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ci(){}var au=null;function qr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Va=null,xi=null;function Vs(r){var i=at(r);if(i&&(r=i.stateNode)){var o=r[Ie]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ro(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var f=u[Ie]||null;if(!f)throw Error(a(90));Ro(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&Ms(u)}break e;case"textarea":th(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Oa(r,!!o.multiple,i,!1)}}}var xo=!1;function ka(r,i,o){if(xo)return r(i,o);xo=!0;try{var u=r(i);return u}finally{if(xo=!1,(Va!==null||xi!==null)&&(Xh(),Va&&(i=Va,r=xi,xi=Va=null,Vs(i),r)))for(i=0;i<r.length;i++)Vs(r[i])}}function hi(r,i){var o=r.stateNode;if(o===null)return null;var u=o[Ie]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Gr)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){ks=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{ks=!1}var Di=null,su=null,Ls=null;function ou(){if(Ls)return Ls;var r,i=su,o=i.length,u,f="value"in Di?Di.value:Di.textContent,p=f.length;for(r=0;r<o&&i[r]===f[r];r++);var v=o-r;for(u=1;u<=v&&i[o-u]===f[p-u];u++);return Ls=f.slice(r,1<u?1-u:void 0)}function js(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Wi(){return!0}function fi(){return!1}function Hn(r){function i(o,u,f,p,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Wi:fi,this.isPropagationStopped=fi,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Hn(Ji),La=E({},Ji,{view:0,detail:0}),lu=Hn(La),ja,Do,Mi,Oo=E({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Mi&&(Mi&&r.type==="mousemove"?(ja=r.screenX-Mi.screenX,Do=r.screenY-Mi.screenY):Do=ja=0,Mi=r),ja)},movementY:function(r){return"movementY"in r?r.movementY:Do}}),uu=Hn(Oo),Us=E({},Oo,{dataTransfer:0}),ih=Hn(Us),ah=E({},La,{relatedTarget:0}),zs=Hn(ah),cu=E({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Hn(cu),Mo=E({},Ji,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oh=Hn(Mo),lh=E({},Ji,{data:0}),Pi=Hn(lh),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=hh[r])?!!i[r]:!1}function Ua(){return fh}var lr=E({},La,{key:function(r){if(r.key){var i=uh[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=js(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ch[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(r){return r.type==="keypress"?js(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?js(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dh=Hn(lr),mh=E({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Hn(mh),h=E({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),_=Hn(h),b=E({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=Hn(b),X=E({},Oo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Hn(X),Re=E({},Ji,{newState:0,oldState:0}),rt=Hn(Re),yn=[9,13,27,32],xt=Gr&&"CompositionEvent"in window,tn=null;Gr&&"documentMode"in document&&(tn=document.documentMode);var $r=Gr&&"TextEvent"in window&&!tn,Vi=Gr&&(!xt||tn&&8<tn&&11>=tn),di=" ",mi=!1;function Bs(r,i){switch(r){case"keyup":return yn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vo=!1;function jC(r,i){switch(r){case"compositionend":return Po(i);case"keypress":return i.which!==32?null:(mi=!0,di);case"textInput":return r=i.data,r===di&&mi?null:r;default:return null}}function UC(r,i){if(Vo)return r==="compositionend"||!xt&&Bs(r,i)?(r=ou(),Ls=su=Di=null,Vo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $_(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!zC[r.type]:i==="textarea"}function K_(r,i,o,u){Va?xi?xi.push(u):xi=[u]:Va=u,i=rf(i,"onChange"),0<i.length&&(o=new Oi("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var hu=null,fu=null;function BC(r){NT(r,0)}function ph(r){var i=Kt(r);if(Ms(i))return r}function Y_(r,i){if(r==="change")return i}var Q_=!1;if(Gr){var gm;if(Gr){var ym="oninput"in document;if(!ym){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),ym=typeof X_.oninput=="function"}gm=ym}else gm=!1;Q_=gm&&(!document.documentMode||9<document.documentMode)}function W_(){hu&&(hu.detachEvent("onpropertychange",J_),fu=hu=null)}function J_(r){if(r.propertyName==="value"&&ph(fu)){var i=[];K_(i,fu,r,qr(r)),ka(BC,i)}}function HC(r,i,o){r==="focusin"?(W_(),hu=i,fu=o,hu.attachEvent("onpropertychange",J_)):r==="focusout"&&W_()}function FC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ph(fu)}function qC(r,i){if(r==="click")return ph(i)}function GC(r,i){if(r==="input"||r==="change")return ph(i)}function $C(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Nr=typeof Object.is=="function"?Object.is:$C;function du(r,i){if(Nr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Pt.call(i,f)||!Nr(r[f],i[f]))return!1}return!0}function Z_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ev(r,i){var o=Z_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Z_(o)}}function tv(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?tv(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function nv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ni(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Ni(r.document)}return i}function _m(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var KC=Gr&&"documentMode"in document&&11>=document.documentMode,ko=null,vm=null,mu=null,Em=!1;function rv(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||ko==null||ko!==Ni(u)||(u=ko,"selectionStart"in u&&_m(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),mu&&du(mu,u)||(mu=u,u=rf(vm,"onSelect"),0<u.length&&(i=new Oi("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=ko)))}function Hs(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Lo={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Tm={},iv={};Gr&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Fs(r){if(Tm[r])return Tm[r];if(!Lo[r])return r;var i=Lo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in iv)return Tm[r]=i[o];return r}var av=Fs("animationend"),sv=Fs("animationiteration"),ov=Fs("animationstart"),YC=Fs("transitionrun"),QC=Fs("transitionstart"),XC=Fs("transitioncancel"),lv=Fs("transitionend"),uv=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function pi(r,i){uv.set(r,i),mr(i,[r])}var gh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Kr=[],jo=0,Sm=0;function yh(){for(var r=jo,i=Sm=jo=0;i<r;){var o=Kr[i];Kr[i++]=null;var u=Kr[i];Kr[i++]=null;var f=Kr[i];Kr[i++]=null;var p=Kr[i];if(Kr[i++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}p!==0&&cv(o,f,p)}}function _h(r,i,o,u){Kr[jo++]=r,Kr[jo++]=i,Kr[jo++]=o,Kr[jo++]=u,Sm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Am(r,i,o,u){return _h(r,i,o,u),vh(r)}function qs(r,i){return _h(r,null,null,i),vh(r)}function cv(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-We(o),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=o|536870912),p):null}function vh(r){if(50<ku)throw ku=0,Mp=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Uo={};function WC(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(r,i,o,u){return new WC(r,i,o,u)}function wm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ea(r,i){var o=r.alternate;return o===null?(o=xr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function hv(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Eh(r,i,o,u,f,p){var v=0;if(u=r,typeof r=="function")wm(r)&&(v=1);else if(typeof r=="string")v=nI(r,o,oe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=xr(31,o,i,f),r.elementType=N,r.lanes=p,r;case F:return Gs(o.children,f,p,i);case k:v=8,f|=24;break;case K:return r=xr(12,o,i,f|2),r.elementType=K,r.lanes=p,r;case ue:return r=xr(13,o,i,f),r.elementType=ue,r.lanes=p,r;case Z:return r=xr(19,o,i,f),r.elementType=Z,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:v=10;break e;case B:v=9;break e;case se:v=11;break e;case A:v=14;break e;case C:v=16,u=null;break e}v=29,o=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=xr(v,o,i,f),i.elementType=r,i.type=u,i.lanes=p,i}function Gs(r,i,o,u){return r=xr(7,r,u,i),r.lanes=o,r}function Cm(r,i,o){return r=xr(6,r,null,i),r.lanes=o,r}function fv(r){var i=xr(18,null,null,0);return i.stateNode=r,i}function Rm(r,i,o){return i=xr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var dv=new WeakMap;function Yr(r,i){if(typeof r=="object"&&r!==null){var o=dv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:wr(i)},dv.set(r,i),i)}return{value:r,source:i,stack:wr(i)}}var zo=[],Bo=0,Th=null,pu=0,Qr=[],Xr=0,za=null,ki=1,Li="";function ta(r,i){zo[Bo++]=pu,zo[Bo++]=Th,Th=r,pu=i}function mv(r,i,o){Qr[Xr++]=ki,Qr[Xr++]=Li,Qr[Xr++]=za,za=r;var u=ki;r=Li;var f=32-We(u)-1;u&=~(1<<f),o+=1;var p=32-We(i)+f;if(30<p){var v=f-f%5;p=(u&(1<<v)-1).toString(32),u>>=v,f-=v,ki=1<<32-We(i)+f|o<<f|u,Li=p+r}else ki=1<<p|o<<f|u,Li=r}function Im(r){r.return!==null&&(ta(r,1),mv(r,1,0))}function Nm(r){for(;r===Th;)Th=zo[--Bo],zo[Bo]=null,pu=zo[--Bo],zo[Bo]=null;for(;r===za;)za=Qr[--Xr],Qr[Xr]=null,Li=Qr[--Xr],Qr[Xr]=null,ki=Qr[--Xr],Qr[Xr]=null}function pv(r,i){Qr[Xr++]=ki,Qr[Xr++]=Li,Qr[Xr++]=za,ki=i.id,Li=i.overflow,za=r}var Fn=null,Wt=null,St=!1,Ba=null,Wr=!1,xm=Error(a(519));function Ha(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gu(Yr(i,r)),xm}function gv(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[Ce]=r,i[Ie]=u,o){case"dialog":gt("cancel",i),gt("close",i);break;case"iframe":case"object":case"embed":gt("load",i);break;case"video":case"audio":for(o=0;o<ju.length;o++)gt(ju[o],i);break;case"source":gt("error",i);break;case"img":case"image":case"link":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"input":gt("invalid",i),eh(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":gt("invalid",i);break;case"textarea":gt("invalid",i),Ma(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||MT(i.textContent,o)?(u.popover!=null&&(gt("beforetoggle",i),gt("toggle",i)),u.onScroll!=null&&gt("scroll",i),u.onScrollEnd!=null&&gt("scrollend",i),u.onClick!=null&&(i.onclick=ci),i=!0):i=!1,i||Ha(r,!0)}function yv(r){for(Fn=r.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Fn=Fn.return}}function Ho(r){if(r!==Fn)return!1;if(!St)return yv(r),St=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Yp(r.type,r.memoizedProps)),o=!o),o&&Wt&&Ha(r),yv(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Wt=HT(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Wt=HT(r)}else i===27?(i=Wt,ns(r.type)?(r=Zp,Zp=null,Wt=r):Wt=i):Wt=Fn?Zr(r.stateNode.nextSibling):null;return!0}function $s(){Wt=Fn=null,St=!1}function Dm(){var r=Ba;return r!==null&&(Er===null?Er=r:Er.push.apply(Er,r),Ba=null),r}function gu(r){Ba===null?Ba=[r]:Ba.push(r)}var Om=U(null),Ks=null,na=null;function Fa(r,i,o){be(Om,i._currentValue),i._currentValue=o}function ra(r){r._currentValue=Om.current,ie(Om)}function Mm(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function Pm(r,i,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var R=p;p=f;for(var j=0;j<i.length;j++)if(R.context===i[j]){p.lanes|=o,R=p.alternate,R!==null&&(R.lanes|=o),Mm(p.return,o,r),u||(v=null);break e}p=R.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=o,p=v.alternate,p!==null&&(p.lanes|=o),Mm(v,o,r),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===r){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Fo(r,i,o,u){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var R=f.type;Nr(f.pendingProps.value,v.value)||(r!==null?r.push(R):r=[R])}}else if(f===Ne.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Fu):r=[Fu])}f=f.return}r!==null&&Pm(i,r,o,u),i.flags|=262144}function bh(r){for(r=r.firstContext;r!==null;){if(!Nr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ys(r){Ks=r,na=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function qn(r){return _v(Ks,r)}function Sh(r,i){return Ks===null&&Ys(r),_v(r,i)}function _v(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},na===null){if(r===null)throw Error(a(308));na=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else na=na.next=i;return o}var JC=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},ZC=n.unstable_scheduleCallback,eR=n.unstable_NormalPriority,An={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new JC,data:new Map,refCount:0}}function yu(r){r.refCount--,r.refCount===0&&ZC(eR,function(){r.controller.abort()})}var _u=null,km=0,qo=0,Go=null;function tR(r,i){if(_u===null){var o=_u=[];km=0,qo=Up(),Go={status:"pending",value:void 0,then:function(u){o.push(u)}}}return km++,i.then(vv,vv),i}function vv(){if(--km===0&&_u!==null){Go!==null&&(Go.status="fulfilled");var r=_u;_u=null,qo=0,Go=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function nR(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ev=z.S;z.S=function(r,i){rT=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tR(r,i),Ev!==null&&Ev(r,i)};var Qs=U(null);function Lm(){var r=Qs.current;return r!==null?r:Gt.pooledCache}function Ah(r,i){i===null?be(Qs,Qs.current):be(Qs,i.pool)}function Tv(){var r=Lm();return r===null?null:{parent:An._currentValue,pool:r}}var $o=Error(a(460)),jm=Error(a(474)),wh=Error(a(542)),Ch={then:function(){}};function bv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(ci,ci),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,wv(r),r;default:if(typeof i.status=="string")i.then(ci,ci);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,wv(r),r}throw Ws=i,$o}}function Xs(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ws=o,$o):o}}var Ws=null;function Av(){if(Ws===null)throw Error(a(459));var r=Ws;return Ws=null,r}function wv(r){if(r===$o||r===wh)throw Error(a(483))}var Ko=null,vu=0;function Rh(r){var i=vu;return vu+=1,Ko===null&&(Ko=[]),Sv(Ko,r,i)}function Eu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ih(r,i){throw i.$$typeof===S?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Cv(r){function i($,H){if(r){var W=$.deletions;W===null?($.deletions=[H],$.flags|=16):W.push(H)}}function o($,H){if(!r)return null;for(;H!==null;)i($,H),H=H.sibling;return null}function u($){for(var H=new Map;$!==null;)$.key!==null?H.set($.key,$):H.set($.index,$),$=$.sibling;return H}function f($,H){return $=ea($,H),$.index=0,$.sibling=null,$}function p($,H,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<H?($.flags|=67108866,H):W):($.flags|=67108866,H)):($.flags|=1048576,H)}function v($){return r&&$.alternate===null&&($.flags|=67108866),$}function R($,H,W,fe){return H===null||H.tag!==6?(H=Cm(W,$.mode,fe),H.return=$,H):(H=f(H,W),H.return=$,H)}function j($,H,W,fe){var Fe=W.type;return Fe===F?le($,H,W.props.children,fe,W.key):H!==null&&(H.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===C&&Xs(Fe)===H.type)?(H=f(H,W.props),Eu(H,W),H.return=$,H):(H=Eh(W.type,W.key,W.props,null,$.mode,fe),Eu(H,W),H.return=$,H)}function J($,H,W,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Rm(W,$.mode,fe),H.return=$,H):(H=f(H,W.children||[]),H.return=$,H)}function le($,H,W,fe,Fe){return H===null||H.tag!==7?(H=Gs(W,$.mode,fe,Fe),H.return=$,H):(H=f(H,W),H.return=$,H)}function me($,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Cm(""+H,$.mode,W),H.return=$,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return W=Eh(H.type,H.key,H.props,null,$.mode,W),Eu(W,H),W.return=$,W;case O:return H=Rm(H,$.mode,W),H.return=$,H;case C:return H=Xs(H),me($,H,W)}if(_e(H)||V(H))return H=Gs(H,$.mode,W,null),H.return=$,H;if(typeof H.then=="function")return me($,Rh(H),W);if(H.$$typeof===Q)return me($,Sh($,H),W);Ih($,H)}return null}function te($,H,W,fe){var Fe=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Fe!==null?null:R($,H,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===Fe?j($,H,W,fe):null;case O:return W.key===Fe?J($,H,W,fe):null;case C:return W=Xs(W),te($,H,W,fe)}if(_e(W)||V(W))return Fe!==null?null:le($,H,W,fe,null);if(typeof W.then=="function")return te($,H,Rh(W),fe);if(W.$$typeof===Q)return te($,H,Sh($,W),fe);Ih($,W)}return null}function ae($,H,W,fe,Fe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return $=$.get(W)||null,R(H,$,""+fe,Fe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return $=$.get(fe.key===null?W:fe.key)||null,j(H,$,fe,Fe);case O:return $=$.get(fe.key===null?W:fe.key)||null,J(H,$,fe,Fe);case C:return fe=Xs(fe),ae($,H,W,fe,Fe)}if(_e(fe)||V(fe))return $=$.get(W)||null,le(H,$,fe,Fe,null);if(typeof fe.then=="function")return ae($,H,W,Rh(fe),Fe);if(fe.$$typeof===Q)return ae($,H,W,Sh(H,fe),Fe);Ih(H,fe)}return null}function je($,H,W,fe){for(var Fe=null,Rt=null,ze=H,ot=H=0,vt=null;ze!==null&&ot<W.length;ot++){ze.index>ot?(vt=ze,ze=null):vt=ze.sibling;var It=te($,ze,W[ot],fe);if(It===null){ze===null&&(ze=vt);break}r&&ze&&It.alternate===null&&i($,ze),H=p(It,H,ot),Rt===null?Fe=It:Rt.sibling=It,Rt=It,ze=vt}if(ot===W.length)return o($,ze),St&&ta($,ot),Fe;if(ze===null){for(;ot<W.length;ot++)ze=me($,W[ot],fe),ze!==null&&(H=p(ze,H,ot),Rt===null?Fe=ze:Rt.sibling=ze,Rt=ze);return St&&ta($,ot),Fe}for(ze=u(ze);ot<W.length;ot++)vt=ae(ze,$,ot,W[ot],fe),vt!==null&&(r&&vt.alternate!==null&&ze.delete(vt.key===null?ot:vt.key),H=p(vt,H,ot),Rt===null?Fe=vt:Rt.sibling=vt,Rt=vt);return r&&ze.forEach(function(os){return i($,os)}),St&&ta($,ot),Fe}function $e($,H,W,fe){if(W==null)throw Error(a(151));for(var Fe=null,Rt=null,ze=H,ot=H=0,vt=null,It=W.next();ze!==null&&!It.done;ot++,It=W.next()){ze.index>ot?(vt=ze,ze=null):vt=ze.sibling;var os=te($,ze,It.value,fe);if(os===null){ze===null&&(ze=vt);break}r&&ze&&os.alternate===null&&i($,ze),H=p(os,H,ot),Rt===null?Fe=os:Rt.sibling=os,Rt=os,ze=vt}if(It.done)return o($,ze),St&&ta($,ot),Fe;if(ze===null){for(;!It.done;ot++,It=W.next())It=me($,It.value,fe),It!==null&&(H=p(It,H,ot),Rt===null?Fe=It:Rt.sibling=It,Rt=It);return St&&ta($,ot),Fe}for(ze=u(ze);!It.done;ot++,It=W.next())It=ae(ze,$,ot,It.value,fe),It!==null&&(r&&It.alternate!==null&&ze.delete(It.key===null?ot:It.key),H=p(It,H,ot),Rt===null?Fe=It:Rt.sibling=It,Rt=It);return r&&ze.forEach(function(dI){return i($,dI)}),St&&ta($,ot),Fe}function Ft($,H,W,fe){if(typeof W=="object"&&W!==null&&W.type===F&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var Fe=W.key;H!==null;){if(H.key===Fe){if(Fe=W.type,Fe===F){if(H.tag===7){o($,H.sibling),fe=f(H,W.props.children),fe.return=$,$=fe;break e}}else if(H.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===C&&Xs(Fe)===H.type){o($,H.sibling),fe=f(H,W.props),Eu(fe,W),fe.return=$,$=fe;break e}o($,H);break}else i($,H);H=H.sibling}W.type===F?(fe=Gs(W.props.children,$.mode,fe,W.key),fe.return=$,$=fe):(fe=Eh(W.type,W.key,W.props,null,$.mode,fe),Eu(fe,W),fe.return=$,$=fe)}return v($);case O:e:{for(Fe=W.key;H!==null;){if(H.key===Fe)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o($,H.sibling),fe=f(H,W.children||[]),fe.return=$,$=fe;break e}else{o($,H);break}else i($,H);H=H.sibling}fe=Rm(W,$.mode,fe),fe.return=$,$=fe}return v($);case C:return W=Xs(W),Ft($,H,W,fe)}if(_e(W))return je($,H,W,fe);if(V(W)){if(Fe=V(W),typeof Fe!="function")throw Error(a(150));return W=Fe.call(W),$e($,H,W,fe)}if(typeof W.then=="function")return Ft($,H,Rh(W),fe);if(W.$$typeof===Q)return Ft($,H,Sh($,W),fe);Ih($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o($,H.sibling),fe=f(H,W),fe.return=$,$=fe):(o($,H),fe=Cm(W,$.mode,fe),fe.return=$,$=fe),v($)):o($,H)}return function($,H,W,fe){try{vu=0;var Fe=Ft($,H,W,fe);return Ko=null,Fe}catch(ze){if(ze===$o||ze===wh)throw ze;var Rt=xr(29,ze,null,$.mode);return Rt.lanes=fe,Rt.return=$,Rt}finally{}}}var Js=Cv(!0),Rv=Cv(!1),qa=!1;function Um(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ga(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function $a(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Dt&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=vh(r),cv(r,null,o),i}return _h(r,u,i,o),vh(r)}function Tu(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,L(r,o)}}function Bm(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Hm=!1;function bu(){if(Hm){var r=Go;if(r!==null)throw r}}function Su(r,i,o,u){Hm=!1;var f=r.updateQueue;qa=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var j=R,J=j.next;j.next=null,v===null?p=J:v.next=J,v=j;var le=r.alternate;le!==null&&(le=le.updateQueue,R=le.lastBaseUpdate,R!==v&&(R===null?le.firstBaseUpdate=J:R.next=J,le.lastBaseUpdate=j))}if(p!==null){var me=f.baseState;v=0,le=J=j=null,R=p;do{var te=R.lane&-536870913,ae=te!==R.lane;if(ae?(_t&te)===te:(u&te)===te){te!==0&&te===qo&&(Hm=!0),le!==null&&(le=le.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var je=r,$e=R;te=i;var Ft=o;switch($e.tag){case 1:if(je=$e.payload,typeof je=="function"){me=je.call(Ft,me,te);break e}me=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=$e.payload,te=typeof je=="function"?je.call(Ft,me,te):je,te==null)break e;me=E({},me,te);break e;case 2:qa=!0}}te=R.callback,te!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[te]:ae.push(te))}else ae={lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},le===null?(J=le=ae,j=me):le=le.next=ae,v|=te;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ae=R,R=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);le===null&&(j=me),f.baseState=j,f.firstBaseUpdate=J,f.lastBaseUpdate=le,p===null&&(f.shared.lanes=0),Wa|=v,r.lanes=v,r.memoizedState=me}}function Iv(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function Nv(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Iv(o[r],i)}var Yo=U(null),Nh=U(0);function xv(r,i){r=fa,be(Nh,r),be(Yo,i),fa=r|i.baseLanes}function Fm(){be(Nh,fa),be(Yo,Yo.current)}function qm(){fa=Nh.current,ie(Yo),ie(Nh)}var Dr=U(null),Jr=null;function Ka(r){var i=r.alternate;be(_n,_n.current&1),be(Dr,r),Jr===null&&(i===null||Yo.current!==null||i.memoizedState!==null)&&(Jr=r)}function Gm(r){be(_n,_n.current),be(Dr,r),Jr===null&&(Jr=r)}function Dv(r){r.tag===22?(be(_n,_n.current),be(Dr,r),Jr===null&&(Jr=r)):Ya()}function Ya(){be(_n,_n.current),be(Dr,Dr.current)}function Or(r){ie(Dr),Jr===r&&(Jr=null),ie(_n)}var _n=U(0);function xh(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wp(o)||Jp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ia=0,it=null,Bt=null,wn=null,Dh=!1,Qo=!1,Zs=!1,Oh=0,Au=0,Xo=null,rR=0;function dn(){throw Error(a(321))}function $m(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Nr(r[o],i[o]))return!1;return!0}function Km(r,i,o,u,f,p){return ia=p,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=r===null||r.memoizedState===null?mE:lp,Zs=!1,p=o(u,f),Zs=!1,Qo&&(p=Mv(i,o,u,f)),Ov(r),p}function Ov(r){z.H=Ru;var i=Bt!==null&&Bt.next!==null;if(ia=0,wn=Bt=it=null,Dh=!1,Au=0,Xo=null,i)throw Error(a(300));r===null||Cn||(r=r.dependencies,r!==null&&bh(r)&&(Cn=!0))}function Mv(r,i,o,u){it=r;var f=0;do{if(Qo&&(Xo=null),Au=0,Qo=!1,25<=f)throw Error(a(301));if(f+=1,wn=Bt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}z.H=pE,p=i(o,u)}while(Qo);return p}function iR(){var r=z.H,i=r.useState()[0];return i=typeof i.then=="function"?wu(i):i,r=r.useState()[0],(Bt!==null?Bt.memoizedState:null)!==r&&(it.flags|=1024),i}function Ym(){var r=Oh!==0;return Oh=0,r}function Qm(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Xm(r){if(Dh){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dh=!1}ia=0,wn=Bt=it=null,Qo=!1,Au=Oh=0,Xo=null}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?it.memoizedState=wn=r:wn=wn.next=r,wn}function vn(){if(Bt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var i=wn===null?it.memoizedState:wn.next;if(i!==null)wn=i,Bt=r;else{if(r===null)throw it.alternate===null?Error(a(467)):Error(a(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},wn===null?it.memoizedState=wn=r:wn=wn.next=r}return wn}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(r){var i=Au;return Au+=1,Xo===null&&(Xo=[]),r=Sv(Xo,r,i),i=it,(wn===null?i.memoizedState:wn.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?mE:lp),r}function Ph(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return wu(r);if(r.$$typeof===Q)return qn(r)}throw Error(a(438,String(r)))}function Wm(r){var i=null,o=it.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=it.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Mh(),it.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=x;return i.index++,o}function aa(r,i){return typeof i=="function"?i(r):i}function Vh(r){var i=vn();return Jm(i,Bt,r)}function Jm(r,i,o){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}i.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var R=v=null,j=null,J=i,le=!1;do{var me=J.lane&-536870913;if(me!==J.lane?(_t&me)===me:(ia&me)===me){var te=J.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),me===qo&&(le=!0);else if((ia&te)===te){J=J.next,te===qo&&(le=!0);continue}else me={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(R=j=me,v=p):j=j.next=me,it.lanes|=te,Wa|=te;me=J.action,Zs&&o(p,me),p=J.hasEagerState?J.eagerState:o(p,me)}else te={lane:me,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(R=j=te,v=p):j=j.next=te,it.lanes|=me,Wa|=me;J=J.next}while(J!==null&&J!==i);if(j===null?v=p:j.next=R,!Nr(p,r.memoizedState)&&(Cn=!0,le&&(o=Go,o!==null)))throw o;r.memoizedState=p,r.baseState=v,r.baseQueue=j,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Zm(r){var i=vn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=r(p,v.action),v=v.next;while(v!==f);Nr(p,i.memoizedState)||(Cn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function Pv(r,i,o){var u=it,f=vn(),p=St;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=i();var v=!Nr((Bt||f).memoizedState,o);if(v&&(f.memoizedState=o,Cn=!0),f=f.queue,np(Lv.bind(null,u,f,r),[r]),f.getSnapshot!==i||v||wn!==null&&wn.memoizedState.tag&1){if(u.flags|=2048,Wo(9,{destroy:void 0},kv.bind(null,u,f,o,i),null),Gt===null)throw Error(a(349));p||(ia&127)!==0||Vv(u,i,o)}return o}function Vv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=it.updateQueue,i===null?(i=Mh(),it.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function kv(r,i,o,u){i.value=o,i.getSnapshot=u,jv(i)&&Uv(r)}function Lv(r,i,o){return o(function(){jv(i)&&Uv(r)})}function jv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Nr(r,o)}catch{return!0}}function Uv(r){var i=qs(r,2);i!==null&&Tr(i,r,2)}function ep(r){var i=ur();if(typeof r=="function"){var o=r;if(r=o(),Zs){Oe(!0);try{o()}finally{Oe(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:r},i}function zv(r,i,o,u){return r.baseState=o,Jm(r,Bt,typeof u=="function"?u:aa)}function aR(r,i,o,u,f){if(jh(r))throw Error(a(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};z.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,Bv(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Bv(r,i){var o=i.action,u=i.payload,f=r.state;if(i.isTransition){var p=z.T,v={};z.T=v;try{var R=o(f,u),j=z.S;j!==null&&j(v,R),Hv(r,i,R)}catch(J){tp(r,i,J)}finally{p!==null&&v.types!==null&&(p.types=v.types),z.T=p}}else try{p=o(f,u),Hv(r,i,p)}catch(J){tp(r,i,J)}}function Hv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Fv(r,i,u)},function(u){return tp(r,i,u)}):Fv(r,i,o)}function Fv(r,i,o){i.status="fulfilled",i.value=o,qv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,Bv(r,o)))}function tp(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,qv(i),i=i.next;while(i!==u)}r.action=null}function qv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Gv(r,i){return i}function $v(r,i){if(St){var o=Gt.formState;if(o!==null){e:{var u=it;if(St){if(Wt){t:{for(var f=Wt,p=Wr;f.nodeType!==8;){if(!p){f=null;break t}if(f=Zr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Wt=Zr(f.nextSibling),u=f.data==="F!";break e}}Ha(u)}u=!1}u&&(i=o[0])}}return o=ur(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gv,lastRenderedState:i},o.queue=u,o=hE.bind(null,it,u),u.dispatch=o,u=ep(!1),p=op.bind(null,it,!1,u.queue),u=ur(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,o=aR.bind(null,it,f,p,o),f.dispatch=o,u.memoizedState=r,[i,o,!1]}function Kv(r){var i=vn();return Yv(i,Bt,r)}function Yv(r,i,o){if(i=Jm(r,i,Gv)[0],r=Vh(aa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=wu(i)}catch(v){throw v===$o?wh:v}else u=i;i=vn();var f=i.queue,p=f.dispatch;return o!==i.memoizedState&&(it.flags|=2048,Wo(9,{destroy:void 0},sR.bind(null,f,o),null)),[u,p,r]}function sR(r,i){r.action=i}function Qv(r){var i=vn(),o=Bt;if(o!==null)return Yv(i,o,r);vn(),i=i.memoizedState,o=vn();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function Wo(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=it.updateQueue,i===null&&(i=Mh(),it.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function Xv(){return vn().memoizedState}function kh(r,i,o,u){var f=ur();it.flags|=r,f.memoizedState=Wo(1|i,{destroy:void 0},o,u===void 0?null:u)}function Lh(r,i,o,u){var f=vn();u=u===void 0?null:u;var p=f.memoizedState.inst;Bt!==null&&u!==null&&$m(u,Bt.memoizedState.deps)?f.memoizedState=Wo(i,p,o,u):(it.flags|=r,f.memoizedState=Wo(1|i,p,o,u))}function Wv(r,i){kh(8390656,8,r,i)}function np(r,i){Lh(2048,8,r,i)}function oR(r){it.flags|=4;var i=it.updateQueue;if(i===null)i=Mh(),it.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function Jv(r){var i=vn().memoizedState;return oR({ref:i,nextImpl:r}),function(){if((Dt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Zv(r,i){return Lh(4,2,r,i)}function eE(r,i){return Lh(4,4,r,i)}function tE(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function nE(r,i,o){o=o!=null?o.concat([r]):null,Lh(4,4,tE.bind(null,i,r),o)}function rp(){}function rE(r,i){var o=vn();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&$m(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function iE(r,i){var o=vn();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&$m(i,u[1]))return u[0];if(u=r(),Zs){Oe(!0);try{r()}finally{Oe(!1)}}return o.memoizedState=[u,i],u}function ip(r,i,o){return o===void 0||(ia&1073741824)!==0&&(_t&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=aT(),it.lanes|=r,Wa|=r,o)}function aE(r,i,o,u){return Nr(o,i)?o:Yo.current!==null?(r=ip(r,o,u),Nr(r,i)||(Cn=!0),r):(ia&42)===0||(ia&1073741824)!==0&&(_t&261930)===0?(Cn=!0,r.memoizedState=o):(r=aT(),it.lanes|=r,Wa|=r,i)}function sE(r,i,o,u,f){var p=ne.p;ne.p=p!==0&&8>p?p:8;var v=z.T,R={};z.T=R,op(r,!1,i,o);try{var j=f(),J=z.S;if(J!==null&&J(R,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var le=nR(j,u);Cu(r,i,le,Vr(r))}else Cu(r,i,u,Vr(r))}catch(me){Cu(r,i,{then:function(){},status:"rejected",reason:me},Vr())}finally{ne.p=p,v!==null&&R.types!==null&&(v.types=R.types),z.T=v}}function lR(){}function ap(r,i,o,u){if(r.tag!==5)throw Error(a(476));var f=oE(r).queue;sE(r,f,i,he,o===null?lR:function(){return lE(r),o(u)})}function oE(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:he},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function lE(r){var i=oE(r);i.next===null&&(i=r.alternate.memoizedState),Cu(r,i.next.queue,{},Vr())}function sp(){return qn(Fu)}function uE(){return vn().memoizedState}function cE(){return vn().memoizedState}function uR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Vr();r=Ga(o);var u=$a(i,r,o);u!==null&&(Tr(u,i,o),Tu(u,i,o)),i={cache:Vm()},r.payload=i;return}i=i.return}}function cR(r,i,o){var u=Vr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},jh(r)?fE(i,o):(o=Am(r,i,o,u),o!==null&&(Tr(o,r,u),dE(o,i,u)))}function hE(r,i,o){var u=Vr();Cu(r,i,o,u)}function Cu(r,i,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(r))fE(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var v=i.lastRenderedState,R=p(v,o);if(f.hasEagerState=!0,f.eagerState=R,Nr(R,v))return _h(r,i,f,0),Gt===null&&yh(),!1}catch{}finally{}if(o=Am(r,i,f,u),o!==null)return Tr(o,r,u),dE(o,i,u),!0}return!1}function op(r,i,o,u){if(u={lane:2,revertLane:Up(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jh(r)){if(i)throw Error(a(479))}else i=Am(r,o,u,2),i!==null&&Tr(i,r,2)}function jh(r){var i=r.alternate;return r===it||i!==null&&i===it}function fE(r,i){Qo=Dh=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function dE(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,L(r,o)}}var Ru={readContext:qn,use:Ph,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Ru.useEffectEvent=dn;var mE={readContext:qn,use:Ph,useCallback:function(r,i){return ur().memoizedState=[r,i===void 0?null:i],r},useContext:qn,useEffect:Wv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,kh(4194308,4,tE.bind(null,i,r),o)},useLayoutEffect:function(r,i){return kh(4194308,4,r,i)},useInsertionEffect:function(r,i){kh(4,2,r,i)},useMemo:function(r,i){var o=ur();i=i===void 0?null:i;var u=r();if(Zs){Oe(!0);try{r()}finally{Oe(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=ur();if(o!==void 0){var f=o(i);if(Zs){Oe(!0);try{o(i)}finally{Oe(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=cR.bind(null,it,r),[u.memoizedState,r]},useRef:function(r){var i=ur();return r={current:r},i.memoizedState=r},useState:function(r){r=ep(r);var i=r.queue,o=hE.bind(null,it,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:rp,useDeferredValue:function(r,i){var o=ur();return ip(o,r,i)},useTransition:function(){var r=ep(!1);return r=sE.bind(null,it,r.queue,!0,!1),ur().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=it,f=ur();if(St){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Gt===null)throw Error(a(349));(_t&127)!==0||Vv(u,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,Wv(Lv.bind(null,u,p,r),[r]),u.flags|=2048,Wo(9,{destroy:void 0},kv.bind(null,u,p,o,i),null),o},useId:function(){var r=ur(),i=Gt.identifierPrefix;if(St){var o=Li,u=ki;o=(u&~(1<<32-We(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Oh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=rR++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:sp,useFormState:$v,useActionState:$v,useOptimistic:function(r){var i=ur();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=op.bind(null,it,!0,o),o.dispatch=i,[r,i]},useMemoCache:Wm,useCacheRefresh:function(){return ur().memoizedState=uR.bind(null,it)},useEffectEvent:function(r){var i=ur(),o={impl:r};return i.memoizedState=o,function(){if((Dt&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},lp={readContext:qn,use:Ph,useCallback:rE,useContext:qn,useEffect:np,useImperativeHandle:nE,useInsertionEffect:Zv,useLayoutEffect:eE,useMemo:iE,useReducer:Vh,useRef:Xv,useState:function(){return Vh(aa)},useDebugValue:rp,useDeferredValue:function(r,i){var o=vn();return aE(o,Bt.memoizedState,r,i)},useTransition:function(){var r=Vh(aa)[0],i=vn().memoizedState;return[typeof r=="boolean"?r:wu(r),i]},useSyncExternalStore:Pv,useId:uE,useHostTransitionStatus:sp,useFormState:Kv,useActionState:Kv,useOptimistic:function(r,i){var o=vn();return zv(o,Bt,r,i)},useMemoCache:Wm,useCacheRefresh:cE};lp.useEffectEvent=Jv;var pE={readContext:qn,use:Ph,useCallback:rE,useContext:qn,useEffect:np,useImperativeHandle:nE,useInsertionEffect:Zv,useLayoutEffect:eE,useMemo:iE,useReducer:Zm,useRef:Xv,useState:function(){return Zm(aa)},useDebugValue:rp,useDeferredValue:function(r,i){var o=vn();return Bt===null?ip(o,r,i):aE(o,Bt.memoizedState,r,i)},useTransition:function(){var r=Zm(aa)[0],i=vn().memoizedState;return[typeof r=="boolean"?r:wu(r),i]},useSyncExternalStore:Pv,useId:uE,useHostTransitionStatus:sp,useFormState:Qv,useActionState:Qv,useOptimistic:function(r,i){var o=vn();return Bt!==null?zv(o,Bt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Wm,useCacheRefresh:cE};pE.useEffectEvent=Jv;function up(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:E({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var cp={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=Vr(),f=Ga(u);f.payload=i,o!=null&&(f.callback=o),i=$a(r,f,u),i!==null&&(Tr(i,r,u),Tu(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=Vr(),f=Ga(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=$a(r,f,u),i!==null&&(Tr(i,r,u),Tu(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Vr(),u=Ga(o);u.tag=2,i!=null&&(u.callback=i),i=$a(r,u,o),i!==null&&(Tr(i,r,o),Tu(i,r,o))}};function gE(r,i,o,u,f,p,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,v):i.prototype&&i.prototype.isPureReactComponent?!du(o,u)||!du(f,p):!0}function yE(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&cp.enqueueReplaceState(i,i.state,null)}function eo(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=E({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}function _E(r){gh(r)}function vE(r){console.error(r)}function EE(r){gh(r)}function Uh(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function TE(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hp(r,i,o){return o=Ga(o),o.tag=3,o.payload={element:null},o.callback=function(){Uh(r,i)},o}function bE(r){return r=Ga(r),r.tag=3,r}function SE(r,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){TE(i,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){TE(i,o,u),typeof f!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function hR(r,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Fo(i,o,f,!0),o=Dr.current,o!==null){switch(o.tag){case 31:case 13:return Jr===null?Wh():o.alternate===null&&mn===0&&(mn=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Ch?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),kp(r,u,f)),!1;case 22:return o.flags|=65536,u===Ch?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),kp(r,u,f)),!1}throw Error(a(435,o.tag))}return kp(r,u,f),Wh(),!1}if(St)return i=Dr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==xm&&(r=Error(a(422),{cause:u}),gu(Yr(r,o)))):(u!==xm&&(i=Error(a(423),{cause:u}),gu(Yr(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Yr(u,o),f=hp(r.stateNode,u,f),Bm(r,f),mn!==4&&(mn=2)),!1;var p=Error(a(520),{cause:u});if(p=Yr(p,o),Vu===null?Vu=[p]:Vu.push(p),mn!==4&&(mn=2),i===null)return!0;u=Yr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=hp(o.stateNode,u,r),Bm(o,r),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ja===null||!Ja.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=bE(f),SE(f,r,o,u),Bm(o,f),!1}o=o.return}while(o!==null);return!1}var fp=Error(a(461)),Cn=!1;function Gn(r,i,o,u){i.child=r===null?Rv(i,null,o,u):Js(i,r.child,o,u)}function AE(r,i,o,u,f){o=o.render;var p=i.ref;if("ref"in u){var v={};for(var R in u)R!=="ref"&&(v[R]=u[R])}else v=u;return Ys(i),u=Km(r,i,o,v,p,f),R=Ym(),r!==null&&!Cn?(Qm(r,i,f),sa(r,i,f)):(St&&R&&Im(i),i.flags|=1,Gn(r,i,u,f),i.child)}function wE(r,i,o,u,f){if(r===null){var p=o.type;return typeof p=="function"&&!wm(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,CE(r,i,p,u,f)):(r=Eh(o.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!Ep(r,f)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:du,o(v,u)&&r.ref===i.ref)return sa(r,i,f)}return i.flags|=1,r=ea(p,u),r.ref=i.ref,r.return=i,i.child=r}function CE(r,i,o,u,f){if(r!==null){var p=r.memoizedProps;if(du(p,u)&&r.ref===i.ref)if(Cn=!1,i.pendingProps=u=p,Ep(r,f))(r.flags&131072)!==0&&(Cn=!0);else return i.lanes=r.lanes,sa(r,i,f)}return dp(r,i,o,u,f)}function RE(r,i,o,u){var f=u.children,p=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,i.child=null;return IE(r,i,p,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ah(i,p!==null?p.cachePool:null),p!==null?xv(i,p):Fm(),Dv(i);else return u=i.lanes=536870912,IE(r,i,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Ah(i,p.cachePool),xv(i,p),Ya(),i.memoizedState=null):(r!==null&&Ah(i,null),Fm(),Ya());return Gn(r,i,f,o),i.child}function Iu(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function IE(r,i,o,u,f){var p=Lm();return p=p===null?null:{parent:An._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},r!==null&&Ah(i,null),Fm(),Dv(i),r!==null&&Fo(r,i,u,!0),i.childLanes=f,null}function zh(r,i){return i=Hh({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function NE(r,i,o){return Js(i,r.child,null,o),r=zh(i,i.pendingProps),r.flags|=2,Or(i),i.memoizedState=null,r}function fR(r,i,o){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(St){if(u.mode==="hidden")return r=zh(i,u),i.lanes=536870912,Iu(null,r);if(Gm(i),(r=Wt)?(r=BT(r,Wr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:za!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},o=fv(r),o.return=i,i.child=o,Fn=i,Wt=null)):r=null,r===null)throw Ha(i);return i.lanes=536870912,null}return zh(i,u)}var p=r.memoizedState;if(p!==null){var v=p.dehydrated;if(Gm(i),f)if(i.flags&256)i.flags&=-257,i=NE(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(Cn||Fo(r,i,o,!1),f=(o&r.childLanes)!==0,Cn||f){if(u=Gt,u!==null&&(v=q(u,o),v!==0&&v!==p.retryLane))throw p.retryLane=v,qs(r,v),Tr(u,r,v),fp;Wh(),i=NE(r,i,o)}else r=p.treeContext,Wt=Zr(v.nextSibling),Fn=i,St=!0,Ba=null,Wr=!1,r!==null&&pv(i,r),i=zh(i,u),i.flags|=4096;return i}return r=ea(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Bh(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function dp(r,i,o,u,f){return Ys(i),o=Km(r,i,o,u,void 0,f),u=Ym(),r!==null&&!Cn?(Qm(r,i,f),sa(r,i,f)):(St&&u&&Im(i),i.flags|=1,Gn(r,i,o,f),i.child)}function xE(r,i,o,u,f,p){return Ys(i),i.updateQueue=null,o=Mv(i,u,o,f),Ov(r),u=Ym(),r!==null&&!Cn?(Qm(r,i,p),sa(r,i,p)):(St&&u&&Im(i),i.flags|=1,Gn(r,i,o,p),i.child)}function DE(r,i,o,u,f){if(Ys(i),i.stateNode===null){var p=Uo,v=o.contextType;typeof v=="object"&&v!==null&&(p=qn(v)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=cp,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Um(i),v=o.contextType,p.context=typeof v=="object"&&v!==null?qn(v):Uo,p.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(up(i,o,v,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&cp.enqueueReplaceState(p,p.state,null),Su(i,u,p,f),bu(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var R=i.memoizedProps,j=eo(o,R);p.props=j;var J=p.context,le=o.contextType;v=Uo,typeof le=="object"&&le!==null&&(v=qn(le));var me=o.getDerivedStateFromProps;le=typeof me=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,le||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||J!==v)&&yE(i,p,u,v),qa=!1;var te=i.memoizedState;p.state=te,Su(i,u,p,f),bu(),J=i.memoizedState,R||te!==J||qa?(typeof me=="function"&&(up(i,o,me,u),J=i.memoizedState),(j=qa||gE(i,o,j,u,te,J,v))?(le||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=J),p.props=u,p.state=J,p.context=v,u=j):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,zm(r,i),v=i.memoizedProps,le=eo(o,v),p.props=le,me=i.pendingProps,te=p.context,J=o.contextType,j=Uo,typeof J=="object"&&J!==null&&(j=qn(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==me||te!==j)&&yE(i,p,u,j),qa=!1,te=i.memoizedState,p.state=te,Su(i,u,p,f),bu();var ae=i.memoizedState;v!==me||te!==ae||qa||r!==null&&r.dependencies!==null&&bh(r.dependencies)?(typeof R=="function"&&(up(i,o,R,u),ae=i.memoizedState),(le=qa||gE(i,o,le,u,te,ae,j)||r!==null&&r.dependencies!==null&&bh(r.dependencies))?(J||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ae,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ae,j)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ae),p.props=u,p.state=ae,p.context=j,u=le):(typeof p.componentDidUpdate!="function"||v===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,Bh(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=Js(i,r.child,null,f),i.child=Js(i,null,o,f)):Gn(r,i,o,f),i.memoizedState=p.state,r=i.child):r=sa(r,i,f),r}function OE(r,i,o,u){return $s(),i.flags|=256,Gn(r,i,o,u),i.child}var mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(r){return{baseLanes:r,cachePool:Tv()}}function gp(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Pr),r}function ME(r,i,o){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,v;if((v=p)||(v=r!==null&&r.memoizedState===null?!1:(_n.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,r===null){if(St){if(f?Ka(i):Ya(),(r=Wt)?(r=BT(r,Wr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:za!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},o=fv(r),o.return=i,i.child=o,Fn=i,Wt=null)):r=null,r===null)throw Ha(i);return Jp(r)?i.lanes=32:i.lanes=536870912,null}var R=u.children;return u=u.fallback,f?(Ya(),f=i.mode,R=Hh({mode:"hidden",children:R},f),u=Gs(u,f,o,null),R.return=i,u.return=i,R.sibling=u,i.child=R,u=i.child,u.memoizedState=pp(o),u.childLanes=gp(r,v,o),i.memoizedState=mp,Iu(null,u)):(Ka(i),yp(i,R))}var j=r.memoizedState;if(j!==null&&(R=j.dehydrated,R!==null)){if(p)i.flags&256?(Ka(i),i.flags&=-257,i=_p(r,i,o)):i.memoizedState!==null?(Ya(),i.child=r.child,i.flags|=128,i=null):(Ya(),R=u.fallback,f=i.mode,u=Hh({mode:"visible",children:u.children},f),R=Gs(R,f,o,null),R.flags|=2,u.return=i,R.return=i,u.sibling=R,i.child=u,Js(i,r.child,null,o),u=i.child,u.memoizedState=pp(o),u.childLanes=gp(r,v,o),i.memoizedState=mp,i=Iu(null,u));else if(Ka(i),Jp(R)){if(v=R.nextSibling&&R.nextSibling.dataset,v)var J=v.dgst;v=J,u=Error(a(419)),u.stack="",u.digest=v,gu({value:u,source:null,stack:null}),i=_p(r,i,o)}else if(Cn||Fo(r,i,o,!1),v=(o&r.childLanes)!==0,Cn||v){if(v=Gt,v!==null&&(u=q(v,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,qs(r,u),Tr(v,r,u),fp;Wp(R)||Wh(),i=_p(r,i,o)}else Wp(R)?(i.flags|=192,i.child=r.child,i=null):(r=j.treeContext,Wt=Zr(R.nextSibling),Fn=i,St=!0,Ba=null,Wr=!1,r!==null&&pv(i,r),i=yp(i,u.children),i.flags|=4096);return i}return f?(Ya(),R=u.fallback,f=i.mode,j=r.child,J=j.sibling,u=ea(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,J!==null?R=ea(J,R):(R=Gs(R,f,o,null),R.flags|=2),R.return=i,u.return=i,u.sibling=R,i.child=u,Iu(null,u),u=i.child,R=r.child.memoizedState,R===null?R=pp(o):(f=R.cachePool,f!==null?(j=An._currentValue,f=f.parent!==j?{parent:j,pool:j}:f):f=Tv(),R={baseLanes:R.baseLanes|o,cachePool:f}),u.memoizedState=R,u.childLanes=gp(r,v,o),i.memoizedState=mp,Iu(r.child,u)):(Ka(i),o=r.child,r=o.sibling,o=ea(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=o,i.memoizedState=null,o)}function yp(r,i){return i=Hh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Hh(r,i){return r=xr(22,r,null,i),r.lanes=0,r}function _p(r,i,o){return Js(i,r.child,null,o),r=yp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function PE(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Mm(r.return,i,o)}function vp(r,i,o,u,f,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=f,v.treeForkCount=p)}function VE(r,i,o){var u=i.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var v=_n.current,R=(v&2)!==0;if(R?(v=v&1|2,i.flags|=128):v&=1,be(_n,v),Gn(r,i,u,o),u=St?pu:0,!R&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&PE(r,o,i);else if(r.tag===19)PE(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&xh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),vp(i,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&xh(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}vp(i,!0,o,null,p,u);break;case"together":vp(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function sa(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Wa|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Fo(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,o=ea(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=ea(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Ep(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&bh(r)))}function dR(r,i,o){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),Fa(i,An,r.memoizedState.cache),$s();break;case 27:case 5:yt(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:Fa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gm(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ka(i),i.flags|=128,null):(o&i.child.childLanes)!==0?ME(r,i,o):(Ka(i),r=sa(r,i,o),r!==null?r.sibling:null);Ka(i);break;case 19:var f=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Fo(r,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return VE(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),be(_n,_n.current),u)break;return null;case 22:return i.lanes=0,RE(r,i,o,i.pendingProps);case 24:Fa(i,An,r.memoizedState.cache)}return sa(r,i,o)}function kE(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Cn=!0;else{if(!Ep(r,o)&&(i.flags&128)===0)return Cn=!1,dR(r,i,o);Cn=(r.flags&131072)!==0}else Cn=!1,St&&(i.flags&1048576)!==0&&mv(i,pu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Xs(i.elementType),i.type=r,typeof r=="function")wm(r)?(u=eo(r,u),i.tag=1,i=DE(null,i,r,u,o)):(i.tag=0,i=dp(null,i,r,u,o));else{if(r!=null){var f=r.$$typeof;if(f===se){i.tag=11,i=AE(null,i,r,u,o);break e}else if(f===A){i.tag=14,i=wE(null,i,r,u,o);break e}}throw i=ce(r)||r,Error(a(306,i,""))}}return i;case 0:return dp(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=eo(u,i.pendingProps),DE(r,i,u,f,o);case 3:e:{if(Be(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,zm(r,i),Su(i,u,null,o);var v=i.memoizedState;if(u=v.cache,Fa(i,An,u),u!==p.cache&&Pm(i,[An],o,!0),bu(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=OE(r,i,u,o);break e}else if(u!==f){f=Yr(Error(a(424)),i),gu(f),i=OE(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Wt=Zr(r.firstChild),Fn=i,St=!0,Ba=null,Wr=!0,o=Rv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if($s(),u===f){i=sa(r,i,o);break e}Gn(r,i,u,o)}i=i.child}return i;case 26:return Bh(r,i),r===null?(o=KT(i.type,null,i.pendingProps,null))?i.memoizedState=o:St||(o=i.type,r=i.pendingProps,u=af(Se.current).createElement(o),u[Ce]=i,u[Ie]=r,$n(u,o,r),Yt(u),i.stateNode=u):i.memoizedState=KT(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return yt(i),r===null&&St&&(u=i.stateNode=qT(i.type,i.pendingProps,Se.current),Fn=i,Wr=!0,f=Wt,ns(i.type)?(Zp=f,Wt=Zr(u.firstChild)):Wt=f),Gn(r,i,i.pendingProps.children,o),Bh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&St&&((f=u=Wt)&&(u=FR(u,i.type,i.pendingProps,Wr),u!==null?(i.stateNode=u,Fn=i,Wt=Zr(u.firstChild),Wr=!1,f=!0):f=!1),f||Ha(i)),yt(i),f=i.type,p=i.pendingProps,v=r!==null?r.memoizedProps:null,u=p.children,Yp(f,p)?u=null:v!==null&&Yp(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Km(r,i,iR,null,null,o),Fu._currentValue=f),Bh(r,i),Gn(r,i,u,o),i.child;case 6:return r===null&&St&&((r=o=Wt)&&(o=qR(o,i.pendingProps,Wr),o!==null?(i.stateNode=o,Fn=i,Wt=null,r=!0):r=!1),r||Ha(i)),null;case 13:return ME(r,i,o);case 4:return Be(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Js(i,null,u,o):Gn(r,i,u,o),i.child;case 11:return AE(r,i,i.type,i.pendingProps,o);case 7:return Gn(r,i,i.pendingProps,o),i.child;case 8:return Gn(r,i,i.pendingProps.children,o),i.child;case 12:return Gn(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Fa(i,i.type,u.value),Gn(r,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ys(i),f=qn(f),u=u(f),i.flags|=1,Gn(r,i,u,o),i.child;case 14:return wE(r,i,i.type,i.pendingProps,o);case 15:return CE(r,i,i.type,i.pendingProps,o);case 19:return VE(r,i,o);case 31:return fR(r,i,o);case 22:return RE(r,i,o,i.pendingProps);case 24:return Ys(i),u=qn(An),r===null?(f=Lm(),f===null&&(f=Gt,p=Vm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),i.memoizedState={parent:u,cache:f},Um(i),Fa(i,An,f)):((r.lanes&o)!==0&&(zm(r,i),Su(i,null,null,o),bu()),f=r.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Fa(i,An,u)):(u=p.cache,Fa(i,An,u),u!==f.cache&&Pm(i,[An],o,!0))),Gn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function oa(r){r.flags|=4}function Tp(r,i,o,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(uT())r.flags|=8192;else throw Ws=Ch,jm}else r.flags&=-16777217}function LE(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!JT(i))if(uT())r.flags|=8192;else throw Ws=Ch,jm}function Fh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Qi():536870912,r.lanes|=i,tl|=i)}function Nu(r,i){if(!St)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Jt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function mR(r,i,o){var u=i.pendingProps;switch(Nm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(i),null;case 1:return Jt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ra(An),Ge(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ho(i)?oa(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dm())),Jt(i),null;case 26:var f=i.type,p=i.memoizedState;return r===null?(oa(i),p!==null?(Jt(i),LE(i,p)):(Jt(i),Tp(i,f,null,u,o))):p?p!==r.memoizedState?(oa(i),Jt(i),LE(i,p)):(Jt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&oa(i),Jt(i),Tp(i,f,r,u,o)),null;case 27:if(Lt(i),o=Se.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&oa(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Jt(i),null}r=oe.current,Ho(i)?gv(i):(r=qT(f,u,o),i.stateNode=r,oa(i))}return Jt(i),null;case 5:if(Lt(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&oa(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Jt(i),null}if(p=oe.current,Ho(i))gv(i);else{var v=af(Se.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}p[Ce]=i,p[Ie]=u;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=p;e:switch($n(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&oa(i)}}return Jt(i),Tp(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&oa(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=Se.current,Ho(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,f=Fn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Ce]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||MT(r.nodeValue,o)),r||Ha(i,!0)}else r=af(r).createTextNode(u),r[Ce]=i,i.stateNode=r}return Jt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(u=Ho(i),o!==null){if(r===null){if(!u)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[Ce]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),r=!1}else o=Dm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(Or(i),i):(Or(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Jt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ho(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ce]=i}else $s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Jt(i),f=!1}else f=Dm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Or(i),i):(Or(i),null)}return Or(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Fh(i,i.updateQueue),Jt(i),null);case 4:return Ge(),r===null&&Fp(i.stateNode.containerInfo),Jt(i),null;case 10:return ra(i.type),Jt(i),null;case 19:if(ie(_n),u=i.memoizedState,u===null)return Jt(i),null;if(f=(i.flags&128)!==0,p=u.rendering,p===null)if(f)Nu(u,!1);else{if(mn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=xh(r),p!==null){for(i.flags|=128,Nu(u,!1),r=p.updateQueue,i.updateQueue=r,Fh(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)hv(o,r),o=o.sibling;return be(_n,_n.current&1|2),St&&ta(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&qt()>Yh&&(i.flags|=128,f=!0,Nu(u,!1),i.lanes=4194304)}else{if(!f)if(r=xh(p),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,Fh(i,r),Nu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!St)return Jt(i),null}else 2*qt()-u.renderingStartTime>Yh&&o!==536870912&&(i.flags|=128,f=!0,Nu(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(r=u.last,r!==null?r.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=qt(),r.sibling=null,o=_n.current,be(_n,f?o&1|2:o&1),St&&ta(i,u.treeForkCount),r):(Jt(i),null);case 22:case 23:return Or(i),qm(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(Jt(i),i.subtreeFlags&6&&(i.flags|=8192)):Jt(i),o=i.updateQueue,o!==null&&Fh(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&ie(Qs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ra(An),Jt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function pR(r,i){switch(Nm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ra(An),Ge(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Lt(i),null;case 31:if(i.memoizedState!==null){if(Or(i),i.alternate===null)throw Error(a(340));$s()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Or(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));$s()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ie(_n),null;case 4:return Ge(),null;case 10:return ra(i.type),null;case 22:case 23:return Or(i),qm(),r!==null&&ie(Qs),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ra(An),null;case 25:return null;default:return null}}function jE(r,i){switch(Nm(i),i.tag){case 3:ra(An),Ge();break;case 26:case 27:case 5:Lt(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&Or(i);break;case 13:Or(i);break;case 19:ie(_n);break;case 10:ra(i.type);break;case 22:case 23:Or(i),qm(),r!==null&&ie(Qs);break;case 24:ra(An)}}function xu(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var p=o.create,v=o.inst;u=p(),v.destroy=u}o=o.next}while(o!==f)}}catch(R){kt(i,i.return,R)}}function Qa(r,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var v=u.inst,R=v.destroy;if(R!==void 0){v.destroy=void 0,f=i;var j=o,J=R;try{J()}catch(le){kt(f,j,le)}}}u=u.next}while(u!==p)}}catch(le){kt(i,i.return,le)}}function UE(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Nv(i,o)}catch(u){kt(r,r.return,u)}}}function zE(r,i,o){o.props=eo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){kt(r,i,u)}}function Du(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){kt(r,i,f)}}function ji(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){kt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){kt(r,i,f)}else o.current=null}function BE(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){kt(r,r.return,f)}}function bp(r,i,o){try{var u=r.stateNode;LR(u,r.type,o,i),u[Ie]=i}catch(f){kt(r,r.return,f)}}function HE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ns(r.type)||r.tag===4}function Sp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||HE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ns(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ap(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ci));else if(u!==4&&(u===27&&ns(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Ap(r,i,o),r=r.sibling;r!==null;)Ap(r,i,o),r=r.sibling}function qh(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&ns(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(qh(r,i,o),r=r.sibling;r!==null;)qh(r,i,o),r=r.sibling}function FE(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);$n(i,u,o),i[Ce]=r,i[Ie]=o}catch(p){kt(r,r.return,p)}}var la=!1,Rn=!1,wp=!1,qE=typeof WeakSet=="function"?WeakSet:Set,Un=null;function gR(r,i){if(r=r.containerInfo,$p=ff,r=nv(r),_m(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,R=-1,j=-1,J=0,le=0,me=r,te=null;t:for(;;){for(var ae;me!==o||f!==0&&me.nodeType!==3||(R=v+f),me!==p||u!==0&&me.nodeType!==3||(j=v+u),me.nodeType===3&&(v+=me.nodeValue.length),(ae=me.firstChild)!==null;)te=me,me=ae;for(;;){if(me===r)break t;if(te===o&&++J===f&&(R=v),te===p&&++le===u&&(j=v),(ae=me.nextSibling)!==null)break;me=te,te=me.parentNode}me=ae}o=R===-1||j===-1?null:{start:R,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Kp={focusedElem:r,selectionRange:o},ff=!1,Un=i;Un!==null;)if(i=Un,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Un=r;else for(;Un!==null;){switch(i=Un,p=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)f=r[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=i,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var je=eo(o.type,f);r=u.getSnapshotBeforeUpdate(je,p),u.__reactInternalSnapshotBeforeUpdate=r}catch($e){kt(o,o.return,$e)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Xp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,Un=r;break}Un=i.return}}function GE(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ca(r,o),u&4&&xu(5,o);break;case 1:if(ca(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(v){kt(o,o.return,v)}else{var f=eo(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(v){kt(o,o.return,v)}}u&64&&UE(o),u&512&&Du(o,o.return);break;case 3:if(ca(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Nv(r,i)}catch(v){kt(o,o.return,v)}}break;case 27:i===null&&u&4&&FE(o);case 26:case 5:ca(r,o),i===null&&u&4&&BE(o),u&512&&Du(o,o.return);break;case 12:ca(r,o);break;case 31:ca(r,o),u&4&&YE(r,o);break;case 13:ca(r,o),u&4&&QE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=wR.bind(null,o),GR(r,o))));break;case 22:if(u=o.memoizedState!==null||la,!u){i=i!==null&&i.memoizedState!==null||Rn,f=la;var p=Rn;la=u,(Rn=i)&&!p?ha(r,o,(o.subtreeFlags&8772)!==0):ca(r,o),la=f,Rn=p}break;case 30:break;default:ca(r,o)}}function $E(r){var i=r.alternate;i!==null&&(r.alternate=null,$E(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Xt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var nn=null,yr=!1;function ua(r,i,o){for(o=o.child;o!==null;)KE(r,i,o),o=o.sibling}function KE(r,i,o){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(pe,o)}catch{}switch(o.tag){case 26:Rn||ji(o,i),ua(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rn||ji(o,i);var u=nn,f=yr;ns(o.type)&&(nn=o.stateNode,yr=!1),ua(r,i,o),zu(o.stateNode),nn=u,yr=f;break;case 5:Rn||ji(o,i);case 6:if(u=nn,f=yr,nn=null,ua(r,i,o),nn=u,yr=f,nn!==null)if(yr)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(o.stateNode)}catch(p){kt(o,i,p)}else try{nn.removeChild(o.stateNode)}catch(p){kt(o,i,p)}break;case 18:nn!==null&&(yr?(r=nn,UT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ul(r)):UT(nn,o.stateNode));break;case 4:u=nn,f=yr,nn=o.stateNode.containerInfo,yr=!0,ua(r,i,o),nn=u,yr=f;break;case 0:case 11:case 14:case 15:Qa(2,o,i),Rn||Qa(4,o,i),ua(r,i,o);break;case 1:Rn||(ji(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&zE(o,i,u)),ua(r,i,o);break;case 21:ua(r,i,o);break;case 22:Rn=(u=Rn)||o.memoizedState!==null,ua(r,i,o),Rn=u;break;default:ua(r,i,o)}}function YE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ul(r)}catch(o){kt(i,i.return,o)}}}function QE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ul(r)}catch(o){kt(i,i.return,o)}}function yR(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new qE),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new qE),i;default:throw Error(a(435,r.tag))}}function Gh(r,i){var o=yR(r);i.forEach(function(u){if(!o.has(u)){o.add(u);var f=CR.bind(null,r,u);u.then(f,f)}})}function _r(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=r,v=i,R=v;e:for(;R!==null;){switch(R.tag){case 27:if(ns(R.type)){nn=R.stateNode,yr=!1;break e}break;case 5:nn=R.stateNode,yr=!1;break e;case 3:case 4:nn=R.stateNode.containerInfo,yr=!0;break e}R=R.return}if(nn===null)throw Error(a(160));KE(p,v,f),nn=null,yr=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)XE(i,r),i=i.sibling}var gi=null;function XE(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:_r(i,r),vr(r),u&4&&(Qa(3,r,r.return),xu(3,r),Qa(5,r,r.return));break;case 1:_r(i,r),vr(r),u&512&&(Rn||o===null||ji(o,o.return)),u&64&&la&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=gi;if(_r(i,r),vr(r),u&512&&(Rn||o===null||ji(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[jt]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),$n(p,u,o),p[Ce]=r,Yt(p),u=p;break e;case"link":var v=XT("link","href",f).get(u+(o.href||""));if(v){for(var R=0;R<v.length;R++)if(p=v[R],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(R,1);break t}}p=f.createElement(u),$n(p,u,o),f.head.appendChild(p);break;case"meta":if(v=XT("meta","content",f).get(u+(o.content||""))){for(R=0;R<v.length;R++)if(p=v[R],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(R,1);break t}}p=f.createElement(u),$n(p,u,o),f.head.appendChild(p);break;default:throw Error(a(468,u))}p[Ce]=r,Yt(p),u=p}r.stateNode=u}else WT(f,r.type,r.stateNode);else r.stateNode=QT(f,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?WT(f,r.type,r.stateNode):QT(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&bp(r,r.memoizedProps,o.memoizedProps)}break;case 27:_r(i,r),vr(r),u&512&&(Rn||o===null||ji(o,o.return)),o!==null&&u&4&&bp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(_r(i,r),vr(r),u&512&&(Rn||o===null||ji(o,o.return)),r.flags&32){f=r.stateNode;try{gr(f,"")}catch(je){kt(r,r.return,je)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,bp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(wp=!0);break;case 6:if(_r(i,r),vr(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(je){kt(r,r.return,je)}}break;case 3:if(lf=null,f=gi,gi=sf(i.containerInfo),_r(i,r),gi=f,vr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(je){kt(r,r.return,je)}wp&&(wp=!1,WE(r));break;case 4:u=gi,gi=sf(r.stateNode.containerInfo),_r(i,r),vr(r),gi=u;break;case 12:_r(i,r),vr(r);break;case 31:_r(i,r),vr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gh(r,u)));break;case 13:_r(i,r),vr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kh=qt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gh(r,u)));break;case 22:f=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,J=la,le=Rn;if(la=J||f,Rn=le||j,_r(i,r),Rn=le,la=J,vr(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||j||la||Rn||to(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){j=o=i;try{if(p=j.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{R=j.stateNode;var me=j.memoizedProps.style,te=me!=null&&me.hasOwnProperty("display")?me.display:null;R.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(je){kt(j,j.return,je)}}}else if(i.tag===6){if(o===null){j=i;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(je){kt(j,j.return,je)}}}else if(i.tag===18){if(o===null){j=i;try{var ae=j.stateNode;f?zT(ae,!0):zT(j.stateNode,!1)}catch(je){kt(j,j.return,je)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gh(r,o))));break;case 19:_r(i,r),vr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gh(r,u)));break;case 30:break;case 21:break;default:_r(i,r),vr(r)}}function vr(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(HE(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,p=Sp(r);qh(r,p,f);break;case 5:var v=o.stateNode;o.flags&32&&(gr(v,""),o.flags&=-33);var R=Sp(r);qh(r,R,v);break;case 3:case 4:var j=o.stateNode.containerInfo,J=Sp(r);Ap(r,J,j);break;default:throw Error(a(161))}}catch(le){kt(r,r.return,le)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function WE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;WE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ca(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)GE(r,i.alternate,i),i=i.sibling}function to(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Qa(4,i,i.return),to(i);break;case 1:ji(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&zE(i,i.return,o),to(i);break;case 27:zu(i.stateNode);case 26:case 5:ji(i,i.return),to(i);break;case 22:i.memoizedState===null&&to(i);break;case 30:to(i);break;default:to(i)}r=r.sibling}}function ha(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,p=i,v=p.flags;switch(p.tag){case 0:case 11:case 15:ha(f,p,o),xu(4,p);break;case 1:if(ha(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){kt(u,u.return,J)}if(u=p,f=u.updateQueue,f!==null){var R=u.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)Iv(j[f],R)}catch(J){kt(u,u.return,J)}}o&&v&64&&UE(p),Du(p,p.return);break;case 27:FE(p);case 26:case 5:ha(f,p,o),o&&u===null&&v&4&&BE(p),Du(p,p.return);break;case 12:ha(f,p,o);break;case 31:ha(f,p,o),o&&v&4&&YE(f,p);break;case 13:ha(f,p,o),o&&v&4&&QE(f,p);break;case 22:p.memoizedState===null&&ha(f,p,o),Du(p,p.return);break;case 30:break;default:ha(f,p,o)}i=i.sibling}}function Cp(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&yu(o))}function Rp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&yu(r))}function yi(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)JE(r,i,o,u),i=i.sibling}function JE(r,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:yi(r,i,o,u),f&2048&&xu(9,i);break;case 1:yi(r,i,o,u);break;case 3:yi(r,i,o,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&yu(r)));break;case 12:if(f&2048){yi(r,i,o,u),r=i.stateNode;try{var p=i.memoizedProps,v=p.id,R=p.onPostCommit;typeof R=="function"&&R(v,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){kt(i,i.return,j)}}else yi(r,i,o,u);break;case 31:yi(r,i,o,u);break;case 13:yi(r,i,o,u);break;case 23:break;case 22:p=i.stateNode,v=i.alternate,i.memoizedState!==null?p._visibility&2?yi(r,i,o,u):Ou(r,i):p._visibility&2?yi(r,i,o,u):(p._visibility|=2,Jo(r,i,o,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Cp(v,i);break;case 24:yi(r,i,o,u),f&2048&&Rp(i.alternate,i);break;default:yi(r,i,o,u)}}function Jo(r,i,o,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=r,v=i,R=o,j=u,J=v.flags;switch(v.tag){case 0:case 11:case 15:Jo(p,v,R,j,f),xu(8,v);break;case 23:break;case 22:var le=v.stateNode;v.memoizedState!==null?le._visibility&2?Jo(p,v,R,j,f):Ou(p,v):(le._visibility|=2,Jo(p,v,R,j,f)),f&&J&2048&&Cp(v.alternate,v);break;case 24:Jo(p,v,R,j,f),f&&J&2048&&Rp(v.alternate,v);break;default:Jo(p,v,R,j,f)}i=i.sibling}}function Ou(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,f=u.flags;switch(u.tag){case 22:Ou(o,u),f&2048&&Cp(u.alternate,u);break;case 24:Ou(o,u),f&2048&&Rp(u.alternate,u);break;default:Ou(o,u)}i=i.sibling}}var Mu=8192;function Zo(r,i,o){if(r.subtreeFlags&Mu)for(r=r.child;r!==null;)ZE(r,i,o),r=r.sibling}function ZE(r,i,o){switch(r.tag){case 26:Zo(r,i,o),r.flags&Mu&&r.memoizedState!==null&&rI(o,gi,r.memoizedState,r.memoizedProps);break;case 5:Zo(r,i,o);break;case 3:case 4:var u=gi;gi=sf(r.stateNode.containerInfo),Zo(r,i,o),gi=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Mu,Mu=16777216,Zo(r,i,o),Mu=u):Zo(r,i,o));break;default:Zo(r,i,o)}}function eT(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Pu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Un=u,nT(u,r)}eT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tT(r),r=r.sibling}function tT(r){switch(r.tag){case 0:case 11:case 15:Pu(r),r.flags&2048&&Qa(9,r,r.return);break;case 3:Pu(r);break;case 12:Pu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,$h(r)):Pu(r);break;default:Pu(r)}}function $h(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Un=u,nT(u,r)}eT(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Qa(8,i,i.return),$h(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,$h(i));break;default:$h(i)}r=r.sibling}}function nT(r,i){for(;Un!==null;){var o=Un;switch(o.tag){case 0:case 11:case 15:Qa(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Un=u;else e:for(o=r;Un!==null;){u=Un;var f=u.sibling,p=u.return;if($E(u),u===o){Un=null;break e}if(f!==null){f.return=p,Un=f;break e}Un=p}}}var _R={getCacheForType:function(r){var i=qn(An),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return qn(An).controller.signal}},vR=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Gt=null,pt=null,_t=0,Vt=0,Mr=null,Xa=!1,el=!1,Ip=!1,fa=0,mn=0,Wa=0,no=0,Np=0,Pr=0,tl=0,Vu=null,Er=null,xp=!1,Kh=0,rT=0,Yh=1/0,Qh=null,Ja=null,Pn=0,Za=null,nl=null,da=0,Dp=0,Op=null,iT=null,ku=0,Mp=null;function Vr(){return(Dt&2)!==0&&_t!==0?_t&-_t:z.T!==null?Up():we()}function aT(){if(Pr===0)if((_t&536870912)===0||St){var r=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Pr=r}else Pr=536870912;return r=Dr.current,r!==null&&(r.flags|=32),Pr}function Tr(r,i,o){(r===Gt&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(rl(r,0),es(r,_t,Pr,!1)),Ci(r,o),((Dt&2)===0||r!==Gt)&&(r===Gt&&((Dt&2)===0&&(no|=o),mn===4&&es(r,_t,Pr,!1)),Ui(r))}function sT(r,i,o){if((Dt&6)!==0)throw Error(a(327));var u=!o&&(i&127)===0&&(i&r.expiredLanes)===0||Mn(r,i),f=u?bR(r,i):Vp(r,i,!0),p=u;do{if(f===0){el&&!u&&es(r,i,0,!1);break}else{if(o=r.current.alternate,p&&!ER(o)){f=Vp(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var R=r;f=Vu;var j=R.current.memoizedState.isDehydrated;if(j&&(rl(R,v).flags|=256),v=Vp(R,v,!1),v!==2){if(Ip&&!j){R.errorRecoveryDisabledLanes|=p,no|=p,f=4;break e}p=Er,Er=f,p!==null&&(Er===null?Er=p:Er.push.apply(Er,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){rl(r,0),es(r,i,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:es(u,i,Pr,!Xa);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Kh+300-qt(),10<f)){if(es(u,i,Pr,!Xa),bn(u,0,!0)!==0)break e;da=i,u.timeoutHandle=LT(oT.bind(null,u,o,Er,Qh,xp,i,Pr,no,tl,Xa,p,"Throttled",-0,0),f);break e}oT(u,o,Er,Qh,xp,i,Pr,no,tl,Xa,p,null,-0,0)}}break}while(!0);Ui(r)}function oT(r,i,o,u,f,p,v,R,j,J,le,me,te,ae){if(r.timeoutHandle=-1,me=i.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},ZE(i,p,me);var je=(p&62914560)===p?Kh-qt():(p&4194048)===p?rT-qt():0;if(je=iI(me,je),je!==null){da=p,r.cancelPendingCommit=je(pT.bind(null,r,i,p,o,u,f,v,R,j,le,me,null,te,ae)),es(r,p,v,!J);return}}pT(r,i,p,o,u,f,v,R,j)}function ER(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Nr(p(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function es(r,i,o,u){i&=~Np,i&=~no,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var p=31-We(f),v=1<<p;u[p]=-1,f&=~v}o!==0&&Xi(r,o,i)}function Xh(){return(Dt&6)===0?(Lu(0),!1):!0}function Pp(){if(pt!==null){if(Vt===0)var r=pt.return;else r=pt,na=Ks=null,Xm(r),Ko=null,vu=0,r=pt;for(;r!==null;)jE(r.alternate,r),r=r.return;pt=null}}function rl(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,zR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),da=0,Pp(),Gt=r,pt=o=ea(r.current,null),_t=i,Vt=0,Mr=null,Xa=!1,el=Mn(r,i),Ip=!1,tl=Pr=Np=no=Wa=mn=0,Er=Vu=null,xp=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-We(u),p=1<<f;i|=r[f],u&=~p}return fa=i,yh(),o}function lT(r,i){it=null,z.H=Ru,i===$o||i===wh?(i=Av(),Vt=3):i===jm?(i=Av(),Vt=4):Vt=i===fp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mr=i,pt===null&&(mn=1,Uh(r,Yr(i,r.current)))}function uT(){var r=Dr.current;return r===null?!0:(_t&4194048)===_t?Jr===null:(_t&62914560)===_t||(_t&536870912)!==0?r===Jr:!1}function cT(){var r=z.H;return z.H=Ru,r===null?Ru:r}function hT(){var r=z.A;return z.A=_R,r}function Wh(){mn=4,Xa||(_t&4194048)!==_t&&Dr.current!==null||(el=!0),(Wa&134217727)===0&&(no&134217727)===0||Gt===null||es(Gt,_t,Pr,!1)}function Vp(r,i,o){var u=Dt;Dt|=2;var f=cT(),p=hT();(Gt!==r||_t!==i)&&(Qh=null,rl(r,i)),i=!1;var v=mn;e:do try{if(Vt!==0&&pt!==null){var R=pt,j=Mr;switch(Vt){case 8:Pp(),v=6;break e;case 3:case 2:case 9:case 6:Dr.current===null&&(i=!0);var J=Vt;if(Vt=0,Mr=null,il(r,R,j,J),o&&el){v=0;break e}break;default:J=Vt,Vt=0,Mr=null,il(r,R,j,J)}}TR(),v=mn;break}catch(le){lT(r,le)}while(!0);return i&&r.shellSuspendCounter++,na=Ks=null,Dt=u,z.H=f,z.A=p,pt===null&&(Gt=null,_t=0,yh()),v}function TR(){for(;pt!==null;)fT(pt)}function bR(r,i){var o=Dt;Dt|=2;var u=cT(),f=hT();Gt!==r||_t!==i?(Qh=null,Yh=qt()+500,rl(r,i)):el=Mn(r,i);e:do try{if(Vt!==0&&pt!==null){i=pt;var p=Mr;t:switch(Vt){case 1:Vt=0,Mr=null,il(r,i,p,1);break;case 2:case 9:if(bv(p)){Vt=0,Mr=null,dT(i);break}i=function(){Vt!==2&&Vt!==9||Gt!==r||(Vt=7),Ui(r)},p.then(i,i);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:bv(p)?(Vt=0,Mr=null,dT(i)):(Vt=0,Mr=null,il(r,i,p,7));break;case 5:var v=null;switch(pt.tag){case 26:v=pt.memoizedState;case 5:case 27:var R=pt;if(v?JT(v):R.stateNode.complete){Vt=0,Mr=null;var j=R.sibling;if(j!==null)pt=j;else{var J=R.return;J!==null?(pt=J,Jh(J)):pt=null}break t}}Vt=0,Mr=null,il(r,i,p,5);break;case 6:Vt=0,Mr=null,il(r,i,p,6);break;case 8:Pp(),mn=6;break e;default:throw Error(a(462))}}SR();break}catch(le){lT(r,le)}while(!0);return na=Ks=null,z.H=u,z.A=f,Dt=o,pt!==null?0:(Gt=null,_t=0,yh(),mn)}function SR(){for(;pt!==null&&!wi();)fT(pt)}function fT(r){var i=kE(r.alternate,r,fa);r.memoizedProps=r.pendingProps,i===null?Jh(r):pt=i}function dT(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=xE(o,i,i.pendingProps,i.type,void 0,_t);break;case 11:i=xE(o,i,i.pendingProps,i.type.render,i.ref,_t);break;case 5:Xm(i);default:jE(o,i),i=pt=hv(i,fa),i=kE(o,i,fa)}r.memoizedProps=r.pendingProps,i===null?Jh(r):pt=i}function il(r,i,o,u){na=Ks=null,Xm(i),Ko=null,vu=0;var f=i.return;try{if(hR(r,f,i,o,_t)){mn=1,Uh(r,Yr(o,r.current)),pt=null;return}}catch(p){if(f!==null)throw pt=f,p;mn=1,Uh(r,Yr(o,r.current)),pt=null;return}i.flags&32768?(St||u===1?r=!0:el||(_t&536870912)!==0?r=!1:(Xa=r=!0,(u===2||u===9||u===3||u===6)&&(u=Dr.current,u!==null&&u.tag===13&&(u.flags|=16384))),mT(i,r)):Jh(i)}function Jh(r){var i=r;do{if((i.flags&32768)!==0){mT(i,Xa);return}r=i.return;var o=mR(i.alternate,i,fa);if(o!==null){pt=o;return}if(i=i.sibling,i!==null){pt=i;return}pt=i=r}while(i!==null);mn===0&&(mn=5)}function mT(r,i){do{var o=pR(r.alternate,r);if(o!==null){o.flags&=32767,pt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){pt=r;return}pt=r=o}while(r!==null);mn=6,pt=null}function pT(r,i,o,u,f,p,v,R,j){r.cancelPendingCommit=null;do Zh();while(Pn!==0);if((Dt&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=Sm,tu(r,o,p,v,R,j),r===Gt&&(pt=Gt=null,_t=0),nl=i,Za=r,da=o,Dp=p,Op=f,iT=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,RR(fn,function(){return ET(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,f=ne.p,ne.p=2,v=Dt,Dt|=4;try{gR(r,i,o)}finally{Dt=v,ne.p=f,z.T=u}}Pn=1,gT(),yT(),_T()}}function gT(){if(Pn===1){Pn=0;var r=Za,i=nl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var u=ne.p;ne.p=2;var f=Dt;Dt|=4;try{XE(i,r);var p=Kp,v=nv(r.containerInfo),R=p.focusedElem,j=p.selectionRange;if(v!==R&&R&&R.ownerDocument&&tv(R.ownerDocument.documentElement,R)){if(j!==null&&_m(R)){var J=j.start,le=j.end;if(le===void 0&&(le=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(le,R.value.length);else{var me=R.ownerDocument||document,te=me&&me.defaultView||window;if(te.getSelection){var ae=te.getSelection(),je=R.textContent.length,$e=Math.min(j.start,je),Ft=j.end===void 0?$e:Math.min(j.end,je);!ae.extend&&$e>Ft&&(v=Ft,Ft=$e,$e=v);var $=ev(R,$e),H=ev(R,Ft);if($&&H&&(ae.rangeCount!==1||ae.anchorNode!==$.node||ae.anchorOffset!==$.offset||ae.focusNode!==H.node||ae.focusOffset!==H.offset)){var W=me.createRange();W.setStart($.node,$.offset),ae.removeAllRanges(),$e>Ft?(ae.addRange(W),ae.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),ae.addRange(W))}}}}for(me=[],ae=R;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<me.length;R++){var fe=me[R];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}ff=!!$p,Kp=$p=null}finally{Dt=f,ne.p=u,z.T=o}}r.current=i,Pn=2}}function yT(){if(Pn===2){Pn=0;var r=Za,i=nl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var u=ne.p;ne.p=2;var f=Dt;Dt|=4;try{GE(r,i.alternate,i)}finally{Dt=f,ne.p=u,z.T=o}}Pn=3}}function _T(){if(Pn===4||Pn===3){Pn=0,ui();var r=Za,i=nl,o=da,u=iT;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pn=5:(Pn=0,nl=Za=null,vT(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Ja=null),ve(o),i=i.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(pe,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=z.T,f=ne.p,ne.p=2,z.T=null;try{for(var p=r.onRecoverableError,v=0;v<u.length;v++){var R=u[v];p(R.value,{componentStack:R.stack})}}finally{z.T=i,ne.p=f}}(da&3)!==0&&Zh(),Ui(r),f=r.pendingLanes,(o&261930)!==0&&(f&42)!==0?r===Mp?ku++:(ku=0,Mp=r):ku=0,Lu(0)}}function vT(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,yu(i)))}function Zh(){return gT(),yT(),_T(),ET()}function ET(){if(Pn!==5)return!1;var r=Za,i=Dp;Dp=0;var o=ve(da),u=z.T,f=ne.p;try{ne.p=32>o?32:o,z.T=null,o=Op,Op=null;var p=Za,v=da;if(Pn=0,nl=Za=null,da=0,(Dt&6)!==0)throw Error(a(331));var R=Dt;if(Dt|=4,tT(p.current),JE(p,p.current,v,o),Dt=R,Lu(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(pe,p)}catch{}return!0}finally{ne.p=f,z.T=u,vT(r,i)}}function TT(r,i,o){i=Yr(o,i),i=hp(r.stateNode,i,2),r=$a(r,i,2),r!==null&&(Ci(r,2),Ui(r))}function kt(r,i,o){if(r.tag===3)TT(r,r,o);else for(;i!==null;){if(i.tag===3){TT(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ja===null||!Ja.has(u))){r=Yr(o,r),o=bE(2),u=$a(i,o,2),u!==null&&(SE(o,u,i,r),Ci(u,2),Ui(u));break}}i=i.return}}function kp(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new vR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Ip=!0,f.add(o),r=AR.bind(null,r,i,o),i.then(r,r))}function AR(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Gt===r&&(_t&o)===o&&(mn===4||mn===3&&(_t&62914560)===_t&&300>qt()-Kh?(Dt&2)===0&&rl(r,0):Np|=o,tl===_t&&(tl=0)),Ui(r)}function bT(r,i){i===0&&(i=Qi()),r=qs(r,i),r!==null&&(Ci(r,i),Ui(r))}function wR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),bT(r,o)}function CR(r,i){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),bT(r,o)}function RR(r,i){return ut(r,i)}var ef=null,al=null,Lp=!1,tf=!1,jp=!1,ts=0;function Ui(r){r!==al&&r.next===null&&(al===null?ef=al=r:al=al.next=r),tf=!0,Lp||(Lp=!0,NR())}function Lu(r,i){if(!jp&&tf){jp=!0;do for(var o=!1,u=ef;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var v=u.suspendedLanes,R=u.pingedLanes;p=(1<<31-We(42|r)+1)-1,p&=f&~(v&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,CT(u,p))}else p=_t,p=bn(u,u===Gt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Mn(u,p)||(o=!0,CT(u,p));u=u.next}while(o);jp=!1}}function IR(){ST()}function ST(){tf=Lp=!1;var r=0;ts!==0&&UR()&&(r=ts);for(var i=qt(),o=null,u=ef;u!==null;){var f=u.next,p=AT(u,i);p===0?(u.next=null,o===null?ef=f:o.next=f,f===null&&(al=o)):(o=u,(r!==0||(p&3)!==0)&&(tf=!0)),u=f}Pn!==0&&Pn!==5||Lu(r),ts!==0&&(ts=0)}function AT(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var v=31-We(p),R=1<<v,j=f[v];j===-1?((R&o)===0||(R&u)!==0)&&(f[v]=Co(R,i)):j<=i&&(r.expiredLanes|=R),p&=~R}if(i=Gt,o=_t,o=bn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&On(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Mn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&On(u),ve(o)){case 2:case 8:o=Cr;break;case 32:o=fn;break;case 268435456:o=G;break;default:o=fn}return u=wT.bind(null,r),o=ut(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&On(u),r.callbackPriority=2,r.callbackNode=null,2}function wT(r,i){if(Pn!==0&&Pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Zh()&&r.callbackNode!==o)return null;var u=_t;return u=bn(r,r===Gt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(sT(r,u,i),AT(r,qt()),r.callbackNode!=null&&r.callbackNode===o?wT.bind(null,r):null)}function CT(r,i){if(Zh())return null;sT(r,i,!0)}function NR(){BR(function(){(Dt&6)!==0?ut(sr,IR):ST()})}function Up(){if(ts===0){var r=qo;r===0&&(r=Qe,Qe<<=1,(Qe&261888)===0&&(Qe=256)),ts=r}return ts}function RT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:No(""+r)}function IT(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function xR(r,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var p=RT((f[Ie]||null).action),v=u.submitter;v&&(i=(i=v[Ie]||null)?RT(i.formAction):v.getAttribute("formAction"),i!==null&&(p=i,v=null));var R=new Oi("action","action",null,u,f);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ts!==0){var j=v?IT(f,v):new FormData(f);ap(o,{pending:!0,data:j,method:f.method,action:p},null,j)}}else typeof p=="function"&&(R.preventDefault(),j=v?IT(f,v):new FormData(f),ap(o,{pending:!0,data:j,method:f.method,action:p},p,j))},currentTarget:f}]})}}for(var zp=0;zp<bm.length;zp++){var Bp=bm[zp],DR=Bp.toLowerCase(),OR=Bp[0].toUpperCase()+Bp.slice(1);pi(DR,"on"+OR)}pi(av,"onAnimationEnd"),pi(sv,"onAnimationIteration"),pi(ov,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(YC,"onTransitionRun"),pi(QC,"onTransitionStart"),pi(XC,"onTransitionCancel"),pi(lv,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function NT(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var v=u.length-1;0<=v;v--){var R=u[v],j=R.instance,J=R.currentTarget;if(R=R.listener,j!==p&&f.isPropagationStopped())break e;p=R,f.currentTarget=J;try{p(f)}catch(le){gh(le)}f.currentTarget=null,p=j}else for(v=0;v<u.length;v++){if(R=u[v],j=R.instance,J=R.currentTarget,R=R.listener,j!==p&&f.isPropagationStopped())break e;p=R,f.currentTarget=J;try{p(f)}catch(le){gh(le)}f.currentTarget=null,p=j}}}}function gt(r,i){var o=i[Ke];o===void 0&&(o=i[Ke]=new Set);var u=r+"__bubble";o.has(u)||(xT(i,r,2,!1),o.add(u))}function Hp(r,i,o){var u=0;i&&(u|=4),xT(o,r,u,i)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Fp(r){if(!r[nf]){r[nf]=!0,dr.forEach(function(o){o!=="selectionchange"&&(MR.has(o)||Hp(o,!1,r),Hp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[nf]||(i[nf]=!0,Hp("selectionchange",!1,i))}}function xT(r,i,o,u){switch(ab(i)){case 2:var f=oI;break;case 8:f=lI;break;default:f=ig}o=f.bind(null,i,o,r),f=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function qp(r,i,o,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var R=u.stateNode.containerInfo;if(R===f)break;if(v===4)for(v=u.return;v!==null;){var j=v.tag;if((j===3||j===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;R!==null;){if(v=$t(R),v===null)return;if(j=v.tag,j===5||j===6||j===26||j===27){u=p=v;continue e}R=R.parentNode}}u=u.return}ka(function(){var J=p,le=qr(o),me=[];e:{var te=uv.get(r);if(te!==void 0){var ae=Oi,je=r;switch(r){case"keypress":if(js(o)===0)break e;case"keydown":case"keyup":ae=dh;break;case"focusin":je="focus",ae=zs;break;case"focusout":je="blur",ae=zs;break;case"beforeblur":case"afterblur":ae=zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=uu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=_;break;case av:case sv:case ov:ae=sh;break;case lv:ae=I;break;case"scroll":case"scrollend":ae=lu;break;case"wheel":ae=re;break;case"copy":case"cut":case"paste":ae=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Zi;break;case"toggle":case"beforetoggle":ae=rt}var $e=(i&4)!==0,Ft=!$e&&(r==="scroll"||r==="scrollend"),$=$e?te!==null?te+"Capture":null:te;$e=[];for(var H=J,W;H!==null;){var fe=H;if(W=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||W===null||$===null||(fe=hi(H,$),fe!=null&&$e.push(Uu(H,fe,W))),Ft)break;H=H.return}0<$e.length&&(te=new ae(te,je,null,o,le),me.push({event:te,listeners:$e}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",te&&o!==au&&(je=o.relatedTarget||o.fromElement)&&($t(je)||je[ke]))break e;if((ae||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ae?(je=o.relatedTarget||o.toElement,ae=J,je=je?$t(je):null,je!==null&&(Ft=l(je),$e=je.tag,je!==Ft||$e!==5&&$e!==27&&$e!==6)&&(je=null)):(ae=null,je=J),ae!==je)){if($e=uu,fe="onMouseLeave",$="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&($e=Zi,fe="onPointerLeave",$="onPointerEnter",H="pointer"),Ft=ae==null?te:Kt(ae),W=je==null?te:Kt(je),te=new $e(fe,H+"leave",ae,o,le),te.target=Ft,te.relatedTarget=W,fe=null,$t(le)===J&&($e=new $e($,H+"enter",je,o,le),$e.target=W,$e.relatedTarget=Ft,fe=$e),Ft=fe,ae&&je)t:{for($e=PR,$=ae,H=je,W=0,fe=$;fe;fe=$e(fe))W++;fe=0;for(var Fe=H;Fe;Fe=$e(Fe))fe++;for(;0<W-fe;)$=$e($),W--;for(;0<fe-W;)H=$e(H),fe--;for(;W--;){if($===H||H!==null&&$===H.alternate){$e=$;break t}$=$e($),H=$e(H)}$e=null}else $e=null;ae!==null&&DT(me,te,ae,$e,!1),je!==null&&Ft!==null&&DT(me,Ft,je,$e,!0)}}e:{if(te=J?Kt(J):window,ae=te.nodeName&&te.nodeName.toLowerCase(),ae==="select"||ae==="input"&&te.type==="file")var Rt=Y_;else if($_(te))if(Q_)Rt=GC;else{Rt=FC;var ze=HC}else ae=te.nodeName,!ae||ae.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&Io(J.elementType)&&(Rt=Y_):Rt=qC;if(Rt&&(Rt=Rt(r,J))){K_(me,Rt,o,le);break e}ze&&ze(r,te,J),r==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&nu(te,"number",te.value)}switch(ze=J?Kt(J):window,r){case"focusin":($_(ze)||ze.contentEditable==="true")&&(ko=ze,vm=J,mu=null);break;case"focusout":mu=vm=ko=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,rv(me,o,le);break;case"selectionchange":if(KC)break;case"keydown":case"keyup":rv(me,o,le)}var ot;if(xt)e:{switch(r){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Vo?Bs(r,o)&&(vt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(vt="onCompositionStart");vt&&(Vi&&o.locale!=="ko"&&(Vo||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Vo&&(ot=ou()):(Di=le,su="value"in Di?Di.value:Di.textContent,Vo=!0)),ze=rf(J,vt),0<ze.length&&(vt=new Pi(vt,r,null,o,le),me.push({event:vt,listeners:ze}),ot?vt.data=ot:(ot=Po(o),ot!==null&&(vt.data=ot)))),(ot=$r?jC(r,o):UC(r,o))&&(vt=rf(J,"onBeforeInput"),0<vt.length&&(ze=new Pi("onBeforeInput","beforeinput",null,o,le),me.push({event:ze,listeners:vt}),ze.data=ot)),xR(me,r,J,o,le)}NT(me,i)})}function Uu(r,i,o){return{instance:r,listener:i,currentTarget:o}}function rf(r,i){for(var o=i+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=hi(r,o),f!=null&&u.unshift(Uu(r,f,p)),f=hi(r,i),f!=null&&u.push(Uu(r,f,p))),r.tag===3)return u;r=r.return}return[]}function PR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function DT(r,i,o,u,f){for(var p=i._reactName,v=[];o!==null&&o!==u;){var R=o,j=R.alternate,J=R.stateNode;if(R=R.tag,j!==null&&j===u)break;R!==5&&R!==26&&R!==27||J===null||(j=J,f?(J=hi(o,p),J!=null&&v.unshift(Uu(o,J,j))):f||(J=hi(o,p),J!=null&&v.push(Uu(o,J,j)))),o=o.return}v.length!==0&&r.push({event:i,listeners:v})}var VR=/\r\n?/g,kR=/\u0000|\uFFFD/g;function OT(r){return(typeof r=="string"?r:""+r).replace(VR,`
`).replace(kR,"")}function MT(r,i){return i=OT(i),OT(r)===i}function Ht(r,i,o,u,f,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||gr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&gr(r,""+u);break;case"className":Sn(r,"class",u);break;case"tabIndex":Sn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(r,o,u);break;case"style":iu(r,u,p);break;case"data":if(i!=="object"){Sn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=No(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&Ht(r,i,"name",f.name,f,null),Ht(r,i,"formEncType",f.formEncType,f,null),Ht(r,i,"formMethod",f.formMethod,f,null),Ht(r,i,"formTarget",f.formTarget,f,null)):(Ht(r,i,"encType",f.encType,f,null),Ht(r,i,"method",f.method,f,null),Ht(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=No(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ci);break;case"onScroll":u!=null&&gt("scroll",r);break;case"onScrollEnd":u!=null&&gt("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=No(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":gt("beforetoggle",r),gt("toggle",r),on(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":on(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rh.get(o)||o,on(r,o,u))}}function Gp(r,i,o,u,f,p){switch(o){case"style":iu(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof u=="string"?gr(r,u):(typeof u=="number"||typeof u=="bigint")&&gr(r,""+u);break;case"onScroll":u!=null&&gt("scroll",r);break;case"onScrollEnd":u!=null&&gt("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),p=r[Ie]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):on(r,o,u)}}}function $n(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",r),gt("load",r);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ht(r,i,p,v,o,null)}}f&&Ht(r,i,"srcSet",o.srcSet,o,null),u&&Ht(r,i,"src",o.src,o,null);return;case"input":gt("invalid",r);var R=p=v=f=null,j=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var le=o[u];if(le!=null)switch(u){case"name":f=le;break;case"type":v=le;break;case"checked":j=le;break;case"defaultChecked":J=le;break;case"value":p=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(a(137,i));break;default:Ht(r,i,u,le,o,null)}}eh(r,p,R,j,J,v,f,!1);return;case"select":gt("invalid",r),u=v=p=null;for(f in o)if(o.hasOwnProperty(f)&&(R=o[f],R!=null))switch(f){case"value":p=R;break;case"defaultValue":v=R;break;case"multiple":u=R;default:Ht(r,i,f,R,o,null)}i=p,o=v,r.multiple=!!u,i!=null?Oa(r,!!u,i,!1):o!=null&&Oa(r,!!u,o,!0);return;case"textarea":gt("invalid",r),p=f=u=null;for(v in o)if(o.hasOwnProperty(v)&&(R=o[v],R!=null))switch(v){case"value":u=R;break;case"defaultValue":f=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Ht(r,i,v,R,o,null)}Ma(r,u,f,p);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ht(r,i,j,u,o,null)}return;case"dialog":gt("beforetoggle",r),gt("toggle",r),gt("cancel",r),gt("close",r);break;case"iframe":case"object":gt("load",r);break;case"video":case"audio":for(u=0;u<ju.length;u++)gt(ju[u],r);break;case"image":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"embed":case"source":case"link":gt("error",r),gt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ht(r,i,J,u,o,null)}return;default:if(Io(i)){for(le in o)o.hasOwnProperty(le)&&(u=o[le],u!==void 0&&Gp(r,i,le,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Ht(r,i,R,u,o,null))}function LR(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,R=null,j=null,J=null,le=null;for(ae in o){var me=o[ae];if(o.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":j=me;default:u.hasOwnProperty(ae)||Ht(r,i,ae,null,u,me)}}for(var te in u){var ae=u[te];if(me=o[te],u.hasOwnProperty(te)&&(ae!=null||me!=null))switch(te){case"type":p=ae;break;case"name":f=ae;break;case"checked":J=ae;break;case"defaultChecked":le=ae;break;case"value":v=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:ae!==me&&Ht(r,i,te,ae,u,me)}}Ro(r,v,R,j,J,le,p,f);return;case"select":ae=v=R=te=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":ae=j;default:u.hasOwnProperty(p)||Ht(r,i,p,null,u,j)}for(f in u)if(p=u[f],j=o[f],u.hasOwnProperty(f)&&(p!=null||j!=null))switch(f){case"value":te=p;break;case"defaultValue":R=p;break;case"multiple":v=p;default:p!==j&&Ht(r,i,f,p,u,j)}i=R,o=v,u=ae,te!=null?Oa(r,!!o,te,!1):!!u!=!!o&&(i!=null?Oa(r,!!o,i,!0):Oa(r,!!o,o?[]:"",!1));return;case"textarea":ae=te=null;for(R in o)if(f=o[R],o.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ht(r,i,R,null,u,f)}for(v in u)if(f=u[v],p=o[v],u.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":te=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Ht(r,i,v,f,u,p)}th(r,te,ae);return;case"option":for(var je in o)if(te=o[je],o.hasOwnProperty(je)&&te!=null&&!u.hasOwnProperty(je))switch(je){case"selected":r.selected=!1;break;default:Ht(r,i,je,null,u,te)}for(j in u)if(te=u[j],ae=o[j],u.hasOwnProperty(j)&&te!==ae&&(te!=null||ae!=null))switch(j){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Ht(r,i,j,te,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in o)te=o[$e],o.hasOwnProperty($e)&&te!=null&&!u.hasOwnProperty($e)&&Ht(r,i,$e,null,u,te);for(J in u)if(te=u[J],ae=o[J],u.hasOwnProperty(J)&&te!==ae&&(te!=null||ae!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:Ht(r,i,J,te,u,ae)}return;default:if(Io(i)){for(var Ft in o)te=o[Ft],o.hasOwnProperty(Ft)&&te!==void 0&&!u.hasOwnProperty(Ft)&&Gp(r,i,Ft,void 0,u,te);for(le in u)te=u[le],ae=o[le],!u.hasOwnProperty(le)||te===ae||te===void 0&&ae===void 0||Gp(r,i,le,te,u,ae);return}}for(var $ in o)te=o[$],o.hasOwnProperty($)&&te!=null&&!u.hasOwnProperty($)&&Ht(r,i,$,null,u,te);for(me in u)te=u[me],ae=o[me],!u.hasOwnProperty(me)||te===ae||te==null&&ae==null||Ht(r,i,me,te,u,ae)}function PT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,v=f.initiatorType,R=f.duration;if(p&&R&&PT(v)){for(v=0,R=f.responseEnd,u+=1;u<o.length;u++){var j=o[u],J=j.startTime;if(J>R)break;var le=j.transferSize,me=j.initiatorType;le&&PT(me)&&(j=j.responseEnd,v+=le*(j<R?1:(R-J)/(j-J)))}if(--u,i+=8*(p+v)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $p=null,Kp=null;function af(r){return r.nodeType===9?r:r.ownerDocument}function VT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kT(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Yp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qp=null;function UR(){var r=window.event;return r&&r.type==="popstate"?r===Qp?!1:(Qp=r,!0):(Qp=null,!1)}var LT=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,jT=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof jT<"u"?function(r){return jT.resolve(null).then(r).catch(HR)}:LT;function HR(r){setTimeout(function(){throw r})}function ns(r){return r==="head"}function UT(r,i){var o=i,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(f),ul(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")zu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,zu(o);for(var p=o.firstChild;p;){var v=p.nextSibling,R=p.nodeName;p[jt]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=v}}else o==="body"&&zu(r.ownerDocument.body);o=f}while(o);ul(i)}function zT(r,i){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Xp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xp(o),Xt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function FR(r,i,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[jt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Zr(r.nextSibling),r===null)break}return null}function qR(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Zr(r.nextSibling),r===null))return null;return r}function BT(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Zr(r.nextSibling),r===null))return null;return r}function Wp(r){return r.data==="$?"||r.data==="$~"}function Jp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function GR(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Zr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Zp=null;function HT(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Zr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function FT(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function qT(r,i,o){switch(i=af(o),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function zu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Xt(r)}var ei=new Map,GT=new Set;function sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ma=ne.d;ne.d={f:$R,r:KR,D:YR,C:QR,L:XR,m:WR,X:ZR,S:JR,M:eI};function $R(){var r=ma.f(),i=Xh();return r||i}function KR(r){var i=at(r);i!==null&&i.tag===5&&i.type==="form"?lE(i):ma.r(r)}var sl=typeof document>"u"?null:document;function $T(r,i,o){var u=sl;if(u&&typeof i=="string"&&i){var f=pr(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),GT.has(f)||(GT.add(f),r={rel:r,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),$n(i,"link",r),Yt(i),u.head.appendChild(i)))}}function YR(r){ma.D(r),$T("dns-prefetch",r,null)}function QR(r,i){ma.C(r,i),$T("preconnect",r,i)}function XR(r,i,o){ma.L(r,i,o);var u=sl;if(u&&r&&i){var f='link[rel="preload"][as="'+pr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pr(o.imageSizes)+'"]')):f+='[href="'+pr(r)+'"]';var p=f;switch(i){case"style":p=ol(r);break;case"script":p=ll(r)}ei.has(p)||(r=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),ei.set(p,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(Bu(p))||i==="script"&&u.querySelector(Hu(p))||(i=u.createElement("link"),$n(i,"link",r),Yt(i),u.head.appendChild(i)))}}function WR(r,i){ma.m(r,i);var o=sl;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+pr(u)+'"][href="'+pr(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ll(r)}if(!ei.has(p)&&(r=E({rel:"modulepreload",href:r},i),ei.set(p,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hu(p)))return}u=o.createElement("link"),$n(u,"link",r),Yt(u),o.head.appendChild(u)}}}function JR(r,i,o){ma.S(r,i,o);var u=sl;if(u&&r){var f=jn(u).hoistableStyles,p=ol(r);i=i||"default";var v=f.get(p);if(!v){var R={loading:0,preload:null};if(v=u.querySelector(Bu(p)))R.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":i},o),(o=ei.get(p))&&eg(r,o);var j=v=u.createElement("link");Yt(j),$n(j,"link",r),j._p=new Promise(function(J,le){j.onload=J,j.onerror=le}),j.addEventListener("load",function(){R.loading|=1}),j.addEventListener("error",function(){R.loading|=2}),R.loading|=4,of(v,i,u)}v={type:"stylesheet",instance:v,count:1,state:R},f.set(p,v)}}}function ZR(r,i){ma.X(r,i);var o=sl;if(o&&r){var u=jn(o).hoistableScripts,f=ll(r),p=u.get(f);p||(p=o.querySelector(Hu(f)),p||(r=E({src:r,async:!0},i),(i=ei.get(f))&&tg(r,i),p=o.createElement("script"),Yt(p),$n(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function eI(r,i){ma.M(r,i);var o=sl;if(o&&r){var u=jn(o).hoistableScripts,f=ll(r),p=u.get(f);p||(p=o.querySelector(Hu(f)),p||(r=E({src:r,async:!0,type:"module"},i),(i=ei.get(f))&&tg(r,i),p=o.createElement("script"),Yt(p),$n(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function KT(r,i,o,u){var f=(f=Se.current)?sf(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ol(o.href),o=jn(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ol(o.href);var p=jn(f).hoistableStyles,v=p.get(r);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,v),(p=f.querySelector(Bu(r)))&&!p._p&&(v.instance=p,v.state.loading=5),ei.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(r,o),p||tI(f,r,o,v.state))),i&&u===null)throw Error(a(528,""));return v}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ll(o),o=jn(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ol(r){return'href="'+pr(r)+'"'}function Bu(r){return'link[rel="stylesheet"]['+r+"]"}function YT(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function tI(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),$n(i,"link",o),Yt(i),r.head.appendChild(i))}function ll(r){return'[src="'+pr(r)+'"]'}function Hu(r){return"script[async]"+r}function QT(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+pr(o.href)+'"]');if(u)return i.instance=u,Yt(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Yt(u),$n(u,"style",f),of(u,o.precedence,r),i.instance=u;case"stylesheet":f=ol(o.href);var p=r.querySelector(Bu(f));if(p)return i.state.loading|=4,i.instance=p,Yt(p),p;u=YT(o),(f=ei.get(f))&&eg(u,f),p=(r.ownerDocument||r).createElement("link"),Yt(p);var v=p;return v._p=new Promise(function(R,j){v.onload=R,v.onerror=j}),$n(p,"link",u),i.state.loading|=4,of(p,o.precedence,r),i.instance=p;case"script":return p=ll(o.src),(f=r.querySelector(Hu(p)))?(i.instance=f,Yt(f),f):(u=o,(f=ei.get(p))&&(u=E({},o),tg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Yt(f),$n(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,of(u,o.precedence,r));return i.instance}function of(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,v=0;v<u.length;v++){var R=u[v];if(R.dataset.precedence===i)p=R;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function eg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function tg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var lf=null;function XT(r,i,o){if(lf===null){var u=new Map,f=lf=new Map;f.set(o,u)}else f=lf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var p=o[f];if(!(p[jt]||p[Ce]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(i)||"";v=r+v;var R=u.get(v);R?R.push(p):u.set(v,[p])}}return u}function WT(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function nI(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function JT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function rI(r,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ol(u.href),p=i.querySelector(Bu(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=uf.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=p,Yt(p);return}p=i.ownerDocument||i,u=YT(u),(f=ei.get(f))&&eg(u,f),p=p.createElement("link"),Yt(p);var v=p;v._p=new Promise(function(R,j){v.onload=R,v.onerror=j}),$n(p,"link",u),o.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=uf.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var ng=0;function iI(r,i){return r.stylesheets&&r.count===0&&hf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&hf(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4+i);0<r.imgBytes&&ng===0&&(ng=62500*jR());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&hf(r,r.stylesheets),r.unsuspend)){var p=r.unsuspend;r.unsuspend=null,p()}},(r.imgBytes>ng?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function uf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var cf=null;function hf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,cf=new Map,i.forEach(aI,r),cf=null,uf.call(r))}function aI(r,i){if(!(i.state.loading&4)){var o=cf.get(r);if(o)var u=o.get(null);else{o=new Map,cf.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}f=i.instance,v=f.getAttribute("data-precedence"),p=o.get(v)||u,p===u&&o.set(null,f),o.set(v,f),this.count++,u=uf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Fu={$$typeof:Q,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function sI(r,i,o,u,f,p,v,R,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.hiddenUpdates=or(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function ZT(r,i,o,u,f,p,v,R,j,J,le,me){return r=new sI(r,i,o,v,j,J,le,me,R),i=1,p===!0&&(i|=24),p=xr(3,null,null,i),r.current=p,p.stateNode=r,i=Vm(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Um(p),r}function eb(r){return r?(r=Uo,r):Uo}function tb(r,i,o,u,f,p){f=eb(f),u.context===null?u.context=f:u.pendingContext=f,u=Ga(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=$a(r,u,i),o!==null&&(Tr(o,r,i),Tu(o,r,i))}function nb(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function rg(r,i){nb(r,i),(r=r.alternate)&&nb(r,i)}function rb(r){if(r.tag===13||r.tag===31){var i=qs(r,67108864);i!==null&&Tr(i,r,67108864),rg(r,67108864)}}function ib(r){if(r.tag===13||r.tag===31){var i=Vr();i=ee(i);var o=qs(r,i);o!==null&&Tr(o,r,i),rg(r,i)}}var ff=!0;function oI(r,i,o,u){var f=z.T;z.T=null;var p=ne.p;try{ne.p=2,ig(r,i,o,u)}finally{ne.p=p,z.T=f}}function lI(r,i,o,u){var f=z.T;z.T=null;var p=ne.p;try{ne.p=8,ig(r,i,o,u)}finally{ne.p=p,z.T=f}}function ig(r,i,o,u){if(ff){var f=ag(u);if(f===null)qp(r,i,u,df,o),sb(r,u);else if(cI(f,r,i,o,u))u.stopPropagation();else if(sb(r,u),i&4&&-1<uI.indexOf(r)){for(;f!==null;){var p=at(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Tn(p.pendingLanes);if(v!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;v;){var j=1<<31-We(v);R.entanglements[1]|=j,v&=~j}Ui(p),(Dt&6)===0&&(Yh=qt()+500,Lu(0))}}break;case 31:case 13:R=qs(p,2),R!==null&&Tr(R,p,2),Xh(),rg(p,2)}if(p=ag(u),p===null&&qp(r,i,u,df,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else qp(r,i,u,null,o)}}function ag(r){return r=qr(r),sg(r)}var df=null;function sg(r){if(df=null,r=$t(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=d(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return df=r,null}function ab(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sn()){case sr:return 2;case Cr:return 8;case fn:case Wn:return 32;case G:return 268435456;default:return 32}default:return 32}}var og=!1,rs=null,is=null,as=null,qu=new Map,Gu=new Map,ss=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sb(r,i){switch(r){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":qu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(i.pointerId)}}function $u(r,i,o,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=at(i),i!==null&&rb(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function cI(r,i,o,u,f){switch(i){case"focusin":return rs=$u(rs,r,i,o,u,f),!0;case"dragenter":return is=$u(is,r,i,o,u,f),!0;case"mouseover":return as=$u(as,r,i,o,u,f),!0;case"pointerover":var p=f.pointerId;return qu.set(p,$u(qu.get(p)||null,r,i,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Gu.set(p,$u(Gu.get(p)||null,r,i,o,u,f)),!0}return!1}function ob(r){var i=$t(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,Me(r.priority,function(){ib(o)});return}}else if(i===31){if(i=d(o),i!==null){r.blockedOn=i,Me(r.priority,function(){ib(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=ag(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);au=u,o.target.dispatchEvent(u),au=null}else return i=at(o),i!==null&&rb(i),r.blockedOn=o,!1;i.shift()}return!0}function lb(r,i,o){mf(r)&&o.delete(i)}function hI(){og=!1,rs!==null&&mf(rs)&&(rs=null),is!==null&&mf(is)&&(is=null),as!==null&&mf(as)&&(as=null),qu.forEach(lb),Gu.forEach(lb)}function pf(r,i){r.blockedOn===i&&(r.blockedOn=null,og||(og=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hI)))}var gf=null;function ub(r){gf!==r&&(gf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gf===r&&(gf=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(sg(u||o)===null)continue;break}var p=at(o);p!==null&&(r.splice(i,3),i-=3,ap(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ul(r){function i(j){return pf(j,r)}rs!==null&&pf(rs,r),is!==null&&pf(is,r),as!==null&&pf(as,r),qu.forEach(i),Gu.forEach(i);for(var o=0;o<ss.length;o++){var u=ss[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)ob(o),o.blockedOn===null&&ss.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],v=f[Ie]||null;if(typeof p=="function")v||ub(o);else if(v){var R=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[Ie]||null)R=v.formAction;else if(sg(f)!==null)continue}else R=v.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),ub(o)}}}function cb(){function r(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function lg(r){this._internalRoot=r}yf.prototype.render=lg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=Vr();tb(o,u,r,i,null,null)},yf.prototype.unmount=lg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;tb(r.current,2,null,r,null,null),Xh(),i[ke]=null}};function yf(r){this._internalRoot=r}yf.prototype.unstable_scheduleHydration=function(r){if(r){var i=we();r={blockedOn:null,target:r,priority:i};for(var o=0;o<ss.length&&i!==0&&i<ss[o].priority;o++);ss.splice(o,0,r),o===0&&ob(r)}};var hb=e.version;if(hb!=="19.2.4")throw Error(a(527,hb,"19.2.4"));ne.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var fI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{pe=_f.inject(fI),Te=_f}catch{}}return Yu.createRoot=function(r,i){if(!s(r))throw Error(a(299));var o=!1,u="",f=_E,p=vE,v=EE;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=ZT(r,1,!1,null,null,o,u,null,f,p,v,cb),r[ke]=i.current,Fp(r),new lg(i)},Yu.hydrateRoot=function(r,i,o){if(!s(r))throw Error(a(299));var u=!1,f="",p=_E,v=vE,R=EE,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),i=ZT(r,1,!0,i,o??null,u,f,j,p,v,R,cb),i.context=eb(null),o=i.current,u=Vr(),u=ee(u),f=Ga(u),f.callback=null,$a(o,f,u),o=u,i.current.lanes=o,Ci(i,o),Ui(i),r[ke]=i.current,Fp(r),new yf(i)},Yu.version="19.2.4",Yu}var Tb;function wI(){if(Tb)return fg.exports;Tb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fg.exports=AI(),fg.exports}var CI=wI();const RI=YS(CI);var gg={exports:{}},yg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function II(){if(bb)return yg;bb=1;var n=Pd();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,a=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return yg.useSyncExternalStoreWithSelector=function(m,g,y,E,S){var w=s(null);if(w.current===null){var O={hasValue:!1,value:null};w.current=O}else O=w.current;w=c(function(){function k(ue){if(!K){if(K=!0,B=ue,ue=E(ue),S!==void 0&&O.hasValue){var Z=O.value;if(S(Z,ue))return Q=Z}return Q=ue}if(Z=Q,t(B,ue))return Z;var A=E(ue);return S!==void 0&&S(Z,A)?(B=ue,Z):(B=ue,Q=A)}var K=!1,B,Q,se=y===void 0?null:y;return[function(){return k(g())},se===null?void 0:function(){return k(se())}]},[g,y,E,S]);var F=a(m,w[0],w[1]);return l(function(){O.hasValue=!0,O.value=F},[F]),d(F),F},yg}var Sb;function NI(){return Sb||(Sb=1,gg.exports=II()),gg.exports}var xI=NI();function DI(n){n()}function OI(){let n=null,e=null;return{clear(){n=null,e=null},notify(){DI(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=n;for(;a;)t.push(a),a=a.next;return t},subscribe(t){let a=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!a||n===null||(a=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var Ab={notify(){},get:()=>[]};function MI(n,e){let t,a=Ab,s=0,l=!1;function c(F){y();const k=a.subscribe(F);let K=!1;return()=>{K||(K=!0,k(),E())}}function d(){a.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return l}function y(){s++,t||(t=n.subscribe(m),a=OI())}function E(){s--,t&&s===0&&(t(),t=void 0,a.clear(),a=Ab)}function S(){l||(l=!0,y())}function w(){l&&(l=!1,E())}const O={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:S,tryUnsubscribe:w,getListeners:()=>a};return O}var PI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VI=PI(),kI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LI=kI(),jI=()=>VI||LI?P.useLayoutEffect:P.useEffect,UI=jI(),_g=Symbol.for("react-redux-context"),vg=typeof globalThis<"u"?globalThis:{};function zI(){if(!P.createContext)return{};const n=vg[_g]??(vg[_g]=new Map);let e=n.get(P.createContext);return e||(e=P.createContext(null),n.set(P.createContext,e)),e}var Ss=zI();function BI(n){const{children:e,context:t,serverState:a,store:s}=n,l=P.useMemo(()=>{const m=MI(s);return{store:s,subscription:m,getServerState:a?()=>a:void 0}},[s,a]),c=P.useMemo(()=>s.getState(),[s]);UI(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||Ss;return P.createElement(d.Provider,{value:l},e)}var HI=BI;function xy(n=Ss){return function(){return P.useContext(n)}}var WS=xy();function JS(n=Ss){const e=n===Ss?WS:xy(n),t=()=>{const{store:a}=e();return a};return Object.assign(t,{withTypes:()=>t}),t}var FI=JS();function qI(n=Ss){const e=n===Ss?FI:JS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var GI=qI(),$I=(n,e)=>n===e;function KI(n=Ss){const e=n===Ss?WS:xy(n),t=(a,s={})=>{const{equalityFn:l=$I}=typeof s=="function"?{equalityFn:s}:s,c=e(),{store:d,subscription:m,getServerState:g}=c;P.useRef(!0);const y=P.useCallback({[a.name](S){return a(S)}}[a.name],[a]),E=xI.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,y,l);return P.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var YI=KI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZS=n=>{throw TypeError(n)},QI=(n,e,t)=>e.has(n)||ZS("Cannot "+t),Eg=(n,e,t)=>(QI(n,e,"read from private field"),t?t.call(n):e.get(n)),XI=(n,e,t)=>e.has(n)?ZS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),wb="popstate";function WI(n={}){function e(s,l){let{pathname:c="/",search:d="",hash:m=""}=Na(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),gc("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=s.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:$i(l))}function a(s,l){un(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ZI(e,t,a,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function un(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JI(){return Math.random().toString(36).substring(2,10)}function Cb(n,e){return{usr:n.state,key:n.key,idx:e}}function gc(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||a||JI()}}function $i({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Na(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function ZI(n,e,t,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",m=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function E(){d="POP";let k=y(),K=k==null?null:k-g;g=k,m&&m({action:d,location:F.location,delta:K})}function S(k,K){d="PUSH";let B=gc(F.location,k,K);t&&t(B,k),g=y()+1;let Q=Cb(B,g),se=F.createHref(B);try{c.pushState(Q,"",se)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;s.location.assign(se)}l&&m&&m({action:d,location:F.location,delta:1})}function w(k,K){d="REPLACE";let B=gc(F.location,k,K);t&&t(B,k),g=y();let Q=Cb(B,g),se=F.createHref(B);c.replaceState(Q,"",se),l&&m&&m({action:d,location:F.location,delta:0})}function O(k){return eA(k)}let F={get action(){return d},get location(){return n(s,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(wb,E),m=k,()=>{s.removeEventListener(wb,E),m=null}},createHref(k){return e(s,k)},createURL:O,encodeLocation(k){let K=O(k);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:w,go(k){return c.go(k)}};return F}function eA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:$i(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Zu,Rb=class{constructor(n){if(XI(this,Zu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Eg(this,Zu).has(n))return Eg(this,Zu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Eg(this,Zu).set(n,e)}};Zu=new WeakMap;var eN=new Set(["lazy","caseSensitive","path","id","index","children"]);function tN(n){return eN.has(n)}var nN=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function rN(n){return nN.has(n)}function iN(n){return n.index===!0}function yc(n,e,t=[],a={},s=!1){return n.map((l,c)=>{let d=[...t,String(c)],m=typeof l.id=="string"?l.id:d.join("-");if(ft(l.index!==!0||!l.children,"Cannot specify children on an index route"),ft(s||!a[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),iN(l)){let g={...l,id:m};return a[m]=Ib(g,e(g)),g}else{let g={...l,id:m,children:void 0};return a[m]=Ib(g,e(g)),l.children&&(g.children=yc(l.children,e,d,a,s)),g}})}function Ib(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function cs(n,e,t="/"){return ec(n,e,t,!1)}function ec(n,e,t,a){let s=typeof e=="string"?Na(e):e,l=ii(s.pathname||"/",t);if(l==null)return null;let c=tA(n);sN(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=yN(l);d=pN(c[m],g,a)}return d}function aN(n,e){let{route:t,pathname:a,params:s}=n;return{id:t.id,pathname:a,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function tA(n,e=[],t=[],a="",s=!1){let l=(c,d,m=s,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&m)return;ft(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let E=Bi([a,y.relativePath]),S=t.concat(y);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),tA(c.children,e,S,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:dN(E,c.index),routesMeta:S})};return n.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,d);else for(let g of nA(c.path))l(c,d,!0,g)}),e}function nA(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=nA(a.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function sN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mN(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var oN=/^:[\w-]+$/,lN=3,uN=2,cN=1,hN=10,fN=-2,Nb=n=>n==="*";function dN(n,e){let t=n.split("/"),a=t.length;return t.some(Nb)&&(a+=fN),e&&(a+=uN),t.filter(s=>!Nb(s)).reduce((s,l)=>s+(oN.test(l)?lN:l===""?cN:hN),a)}function mN(n,e){return n.length===e.length&&n.slice(0,-1).every((a,s)=>a===e[s])?n[n.length-1]-e[e.length-1]:0}function pN(n,e,t=!1){let{routesMeta:a}=n,s={},l="/",c=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=id({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),S=m.route;if(!E&&g&&t&&!a[a.length-1].route.index&&(E=id({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Bi([l,E.pathname]),pathnameBase:EN(Bi([l,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(l=Bi([l,E.pathnameBase]))}return c}function id(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=gN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:E},S)=>{if(y==="*"){let O=d[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const w=d[S];return E&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function gN(n,e=!1,t=!0){un(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function yN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return un(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ii(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function _N({basename:n,pathname:e}){return e==="/"?n:Bi([n,e])}var rA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dy=n=>rA.test(n);function vN(n,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof n=="string"?Na(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=xb(t.substring(1),"/"):l=xb(t,e)):l=e,{pathname:l,search:TN(a),hash:bN(s)}}function xb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Tg(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vd(n){let e=iA(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function kd(n,e,t,a=!1){let s;typeof n=="string"?s=Na(n):(s={...n},ft(!s.pathname||!s.pathname.includes("?"),Tg("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),Tg("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),Tg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),E-=1;s.pathname=S.join("/")}d=E>=0?e[E]:"/"}let m=vN(s,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Bi=n=>n.join("/").replace(/\/\/+/g,"/"),EN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),TN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Oc=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function _c(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Mc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sA(n,e){let t=n;if(typeof t!="string"||!rA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,s=!1;if(aA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=ii(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:s=!0}catch{un(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:t}}var ps=Symbol("Uninstrumented");function SN(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let d of c)l[d]&&t[d].push(l[d])}}));let a={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=Tl(t.lazy,e.lazy,()=>{});s&&(a.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(l=>{let c=s[l],d=t[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let m=Tl(d,c,()=>{});m&&(a.lazy=Object.assign(a.lazy||{},{[l]:m}))}})}return["loader","action"].forEach(s=>{let l=e[s];if(typeof l=="function"&&t[s].length>0){let c=l[ps]??l,d=Tl(t[s],c,(...m)=>Db(m[0]));d&&(s==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[ps]=c,a[s]=d)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(a.middleware=e.middleware.map(s=>{let l=s[ps]??s,c=Tl(t.middleware,l,(...d)=>Db(d[0]));return c?(c[ps]=l,c):s})),a}function AN(n,e){let t={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(s){let l=Object.keys(s);for(let c of l)s[c]&&t[c].push(s[c])}})),t.navigate.length>0){let a=n.navigate[ps]??n.navigate,s=Tl(t.navigate,a,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?$i(c):".",...Ob(n,d??{})}});s&&(s[ps]=a,n.navigate=s)}if(t.fetch.length>0){let a=n.fetch[ps]??n.fetch,s=Tl(t.fetch,a,(...l)=>{let[c,,d,m]=l;return{href:d??".",fetcherKey:c,...Ob(n,m??{})}});s&&(s[ps]=a,n.fetch=s)}return n}function Tl(n,e,t){return n.length===0?null:async(...a)=>{let s=await oA(n,t(...a),()=>e(...a),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function oA(n,e,t,a){let s=n[a],l;if(s){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=oA(n,e,t,a-1),l=await c,ft(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await s(d,e)}catch(m){console.error("An instrumentation function threw an error:",m)}c||await d(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Db(n){let{request:e,context:t,params:a,unstable_pattern:s}=n;return{request:wN(e),params:{...a},unstable_pattern:s,context:CN(t)}}function Ob(n,e){return{currentUrl:$i(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function wN(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function CN(n){if(IN(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var RN=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function IN(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===RN}var lA=["POST","PUT","PATCH","DELETE"],NN=new Set(lA),xN=["GET",...lA],DN=new Set(xN),uA=new Set([301,302,303,307,308]),ON=new Set([307,308]),bg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},MN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},PN=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),cA="remix-router-transitions",hA=Symbol("ResetLoaderData");function VN(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],s=n.mapRouteProperties||PN,l=s;if(n.unstable_instrumentations){let L=n.unstable_instrumentations;l=q=>({...s(q),...SN(L.map(ee=>ee.route).filter(Boolean),q)})}let c={},d=yc(n.routes,l,void 0,c),m,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let y=n.dataStrategy||zN,E={...n.future},S=null,w=new Set,O=null,F=null,k=null,K=n.hydrationData!=null,B=cs(d,n.history.location,g),Q=!1,se=null,ue;if(B==null&&!n.patchRoutesOnNavigation){let L=ti(404,{pathname:n.history.location.pathname}),{matches:q,route:ee}=vf(d);ue=!0,B=q,se={[ee.id]:L}}else if(B&&!n.hydrationData&&Qi(B,d,n.history.location.pathname).active&&(B=null),B)if(B.some(L=>L.route.lazy))ue=!1;else if(!B.some(L=>Oy(L.route)))ue=!0;else{let L=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let ee=B.findIndex(ve=>q[ve.route.id]!==void 0);ue=B.slice(0,ee+1).every(ve=>!$g(ve.route,L,q))}else ue=B.every(ee=>!$g(ee.route,L,q))}else{ue=!1,B=[];let L=Qi(null,d,n.history.location.pathname);L.active&&L.matches&&(Q=!0,B=L.matches)}let Z,A={historyAction:n.history.action,location:n.history.location,matches:B,initialized:ue,navigation:bg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||se,fetchers:new Map,blockers:new Map},C="POP",N=null,x=!1,M,V=!1,D=new Map,ce=null,_e=!1,z=!1,ne=new Set,he=new Map,xe=0,Ue=-1,U=new Map,ie=new Set,be=new Map,oe=new Map,Ee=new Set,Se=new Map,Ne,Be=null;function Ge(){if(S=n.history.listen(({action:L,location:q,delta:ee})=>{if(Ne){Ne(),Ne=void 0;return}un(Se.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=gn({currentLocation:A.location,nextLocation:q,historyAction:L});if(ve&&ee!=null){let we=new Promise(Me=>{Ne=Me});n.history.go(ee*-1),Qe(ve,{state:"blocked",location:q,proceed(){Qe(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),we.then(()=>n.history.go(ee))},reset(){let Me=new Map(A.blockers);Me.set(ve,Qu),mt({blockers:Me})}}),N==null||N.resolve(),N=null;return}return an(L,q)}),t){ix(e,D);let L=()=>ax(e,D);e.addEventListener("pagehide",L),ce=()=>e.removeEventListener("pagehide",L)}return A.initialized||an("POP",A.location,{initialHydration:!0}),Z}function yt(){S&&S(),ce&&ce(),w.clear(),M&&M.abort(),A.fetchers.forEach((L,q)=>Ae(q)),A.blockers.forEach((L,q)=>Ve(q))}function Lt(L){return w.add(L),()=>w.delete(L)}function mt(L,q={}){L.matches&&(L.matches=L.matches.map(we=>{let Me=c[we.route.id],Le=we.route;return Le.element!==Me.element||Le.errorElement!==Me.errorElement||Le.hydrateFallbackElement!==Me.hydrateFallbackElement?{...we,route:Me}:we})),A={...A,...L};let ee=[],ve=[];A.fetchers.forEach((we,Me)=>{we.state==="idle"&&(Ee.has(Me)?ee.push(Me):ve.push(Me))}),Ee.forEach(we=>{!A.fetchers.has(we)&&!he.has(we)&&ee.push(we)}),[...w].forEach(we=>we(A,{deletedFetchers:ee,newErrors:L.errors??null,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),ee.forEach(we=>Ae(we)),ve.forEach(we=>A.fetchers.delete(we))}function en(L,q,{flushSync:ee}={}){var Ke,He;let ve=A.actionData!=null&&A.navigation.formMethod!=null&&nr(A.navigation.formMethod)&&A.navigation.state==="loading"&&((Ke=L.state)==null?void 0:Ke._isRedirect)!==!0,we;q.actionData?Object.keys(q.actionData).length>0?we=q.actionData:we=null:ve?we=A.actionData:we=null;let Me=q.loaderData?Hb(A.loaderData,q.loaderData,q.matches||[],q.errors):A.loaderData,Le=A.blockers;Le.size>0&&(Le=new Map(Le),Le.forEach((Je,ht)=>Le.set(ht,Qu)));let Ce=_e?!1:Co(L,q.matches||A.matches),Ie=x===!0||A.navigation.formMethod!=null&&nr(A.navigation.formMethod)&&((He=L.state)==null?void 0:He._isRedirect)!==!0;m&&(d=m,m=void 0),_e||C==="POP"||(C==="PUSH"?n.history.push(L,L.state):C==="REPLACE"&&n.history.replace(L,L.state));let ke;if(C==="POP"){let Je=D.get(A.location.pathname);Je&&Je.has(L.pathname)?ke={currentLocation:A.location,nextLocation:L}:D.has(L.pathname)&&(ke={currentLocation:L,nextLocation:A.location})}else if(V){let Je=D.get(A.location.pathname);Je?Je.add(L.pathname):(Je=new Set([L.pathname]),D.set(A.location.pathname,Je)),ke={currentLocation:A.location,nextLocation:L}}mt({...q,actionData:we,loaderData:Me,historyAction:C,location:L,initialized:!0,navigation:bg,revalidation:"idle",restoreScrollPosition:Ce,preventScrollReset:Ie,blockers:Le},{viewTransitionOpts:ke,flushSync:ee===!0}),C="POP",x=!1,V=!1,_e=!1,z=!1,N==null||N.resolve(),N=null,Be==null||Be.resolve(),Be=null}async function hn(L,q){if(N==null||N.resolve(),N=null,typeof L=="number"){N||(N=$b());let ht=N.promise;return n.history.go(L),ht}let ee=Gg(A.location,A.matches,g,L,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:ve,submission:we,error:Me}=Mb(!1,ee,q),Le=A.location,Ce=gc(A.location,ve,q&&q.state);Ce={...Ce,...n.history.encodeLocation(Ce)};let Ie=q&&q.replace!=null?q.replace:void 0,ke="PUSH";Ie===!0?ke="REPLACE":Ie===!1||we!=null&&nr(we.formMethod)&&we.formAction===A.location.pathname+A.location.search&&(ke="REPLACE");let Ke=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,He=(q&&q.flushSync)===!0,Je=gn({currentLocation:Le,nextLocation:Ce,historyAction:ke});if(Je){Qe(Je,{state:"blocked",location:Ce,proceed(){Qe(Je,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),hn(L,q)},reset(){let ht=new Map(A.blockers);ht.set(Je,Qu),mt({blockers:ht})}});return}await an(ke,Ce,{submission:we,pendingError:Me,preventScrollReset:Ke,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:He,callSiteDefaultShouldRevalidate:q&&q.unstable_defaultShouldRevalidate})}function Fr(){Be||(Be=$b()),Cr(),mt({revalidation:"loading"});let L=Be.promise;return A.navigation.state==="submitting"?L:A.navigation.state==="idle"?(an(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),L):(an(C||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:V===!0}),L)}async function an(L,q,ee){M&&M.abort(),M=null,C=L,_e=(ee&&ee.startUninterruptedRevalidation)===!0,Mn(A.location,A.matches),x=(ee&&ee.preventScrollReset)===!0,V=(ee&&ee.enableViewTransition)===!0;let ve=m||d,we=ee&&ee.overrideNavigation,Me=ee!=null&&ee.initialHydration&&A.matches&&A.matches.length>0&&!Q?A.matches:cs(ve,q,g),Le=(ee&&ee.flushSync)===!0;if(Me&&A.initialized&&!z&&YN(A.location,q)&&!(ee&&ee.submission&&nr(ee.submission.formMethod))){en(q,{matches:Me},{flushSync:Le});return}let Ce=Qi(Me,ve,q.pathname);if(Ce.active&&Ce.matches&&(Me=Ce.matches),!Me){let{error:Xt,notFoundMatches:$t,route:at}=Ct(q.pathname);en(q,{matches:$t,loaderData:{},errors:{[at.id]:Xt}},{flushSync:Le});return}M=new AbortController;let Ie=ml(n.history,q,M.signal,ee&&ee.submission),ke=n.getContext?await n.getContext():new Rb,Ke;if(ee&&ee.pendingError)Ke=[hs(Me).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&nr(ee.submission.formMethod)){let Xt=await Bn(Ie,q,ee.submission,Me,ke,Ce.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Le});if(Xt.shortCircuited)return;if(Xt.pendingActionResult){let[$t,at]=Xt.pendingActionResult;if(kr(at)&&_c(at.error)&&at.error.status===404){M=null,en(q,{matches:Xt.matches,loaderData:{},errors:{[$t]:at.error}});return}}Me=Xt.matches||Me,Ke=Xt.pendingActionResult,we=Sg(q,ee.submission),Le=!1,Ce.active=!1,Ie=ml(n.history,Ie.url,Ie.signal)}let{shortCircuited:He,matches:Je,loaderData:ht,errors:jt}=await wr(Ie,q,Me,ke,Ce.active,we,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Le,Ke,ee&&ee.callSiteDefaultShouldRevalidate);He||(M=null,en(q,{matches:Je||Me,...Fb(Ke),loaderData:ht,errors:jt}))}async function Bn(L,q,ee,ve,we,Me,Le,Ce={}){Cr();let Ie=nx(q,ee);if(mt({navigation:Ie},{flushSync:Ce.flushSync===!0}),Me){let He=await or(ve,q.pathname,L.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){if(He.partialMatches.length===0){let{matches:ht,route:jt}=vf(d);return{matches:ht,pendingActionResult:[jt.id,{type:"error",error:He.error}]}}let Je=hs(He.partialMatches).route.id;return{matches:He.partialMatches,pendingActionResult:[Je,{type:"error",error:He.error}]}}else if(He.matches)ve=He.matches;else{let{notFoundMatches:Je,error:ht,route:jt}=Ct(q.pathname);return{matches:Je,pendingActionResult:[jt.id,{type:"error",error:ht}]}}}let ke,Ke=Pf(ve,q);if(!Ke.route.action&&!Ke.route.lazy)ke={type:"error",error:ti(405,{method:L.method,pathname:q.pathname,routeId:Ke.route.id})};else{let He=Al(l,c,L,ve,Ke,Le?[]:a,we),Je=await sn(L,He,we,null);if(ke=Je[Ke.route.id],!ke){for(let ht of ve)if(Je[ht.route.id]){ke=Je[ht.route.id];break}}if(L.signal.aborted)return{shortCircuited:!0}}if(so(ke)){let He;return Ce&&Ce.replace!=null?He=Ce.replace:He=Ub(ke.response.headers.get("Location"),new URL(L.url),g,n.history)===A.location.pathname+A.location.search,await qt(L,ke,!0,{submission:ee,replace:He}),{shortCircuited:!0}}if(kr(ke)){let He=hs(ve,Ke.route.id);return(Ce&&Ce.replace)!==!0&&(C="PUSH"),{matches:ve,pendingActionResult:[He.route.id,ke,Ke.route.id]}}return{matches:ve,pendingActionResult:[Ke.route.id,ke]}}async function wr(L,q,ee,ve,we,Me,Le,Ce,Ie,ke,Ke,He,Je){let ht=Me||Sg(q,Le),jt=Le||Ce||Gb(ht),Xt=!_e&&!ke;if(we){if(Xt){let on=Pt(He);mt({navigation:ht,...on!==void 0?{actionData:on}:{}},{flushSync:Ke})}let dt=await or(ee,q.pathname,L.signal);if(dt.type==="aborted")return{shortCircuited:!0};if(dt.type==="error"){if(dt.partialMatches.length===0){let{matches:Sn,route:Ut}=vf(d);return{matches:Sn,loaderData:{},errors:{[Ut.id]:dt.error}}}let on=hs(dt.partialMatches).route.id;return{matches:dt.partialMatches,loaderData:{},errors:{[on]:dt.error}}}else if(dt.matches)ee=dt.matches;else{let{error:on,notFoundMatches:Sn,route:Ut}=Ct(q.pathname);return{matches:Sn,loaderData:{},errors:{[Ut.id]:on}}}}let $t=m||d,{dsMatches:at,revalidatingFetchers:Kt}=Pb(L,ve,l,c,n.history,A,ee,jt,q,ke?[]:a,ke===!0,z,ne,Ee,be,ie,$t,g,n.patchRoutesOnNavigation!=null,He,Je);if(Ue=++xe,!n.dataStrategy&&!at.some(dt=>dt.shouldLoad)&&!at.some(dt=>dt.route.middleware&&dt.route.middleware.length>0)&&Kt.length===0){let dt=We();return en(q,{matches:ee,loaderData:{},errors:He&&kr(He[1])?{[He[0]]:He[1].error}:null,...Fb(He),...dt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Ke}),{shortCircuited:!0}}if(Xt){let dt={};if(!we){dt.navigation=ht;let on=Pt(He);on!==void 0&&(dt.actionData=on)}Kt.length>0&&(dt.fetchers=ut(Kt)),mt(dt,{flushSync:Ke})}Kt.forEach(dt=>{Te(dt.key),dt.controller&&he.set(dt.key,dt.controller)});let jn=()=>Kt.forEach(dt=>Te(dt.key));M&&M.signal.addEventListener("abort",jn);let{loaderResults:Yt,fetcherResults:dr}=await sr(at,Kt,L,ve);if(L.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",jn),Kt.forEach(dt=>he.delete(dt.key));let Jn=Ef(Yt);if(Jn)return await qt(L,Jn.result,!0,{replace:Ie}),{shortCircuited:!0};if(Jn=Ef(dr),Jn)return ie.add(Jn.key),await qt(L,Jn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:mr,errors:Zn}=Bb(A,ee,Yt,He,Kt,dr);ke&&A.errors&&(Zn={...A.errors,...Zn});let Rr=We(),Ri=nt(Ue),Ii=Rr||Ri||Kt.length>0;return{matches:ee,loaderData:mr,errors:Zn,...Ii?{fetchers:new Map(A.fetchers)}:{}}}function Pt(L){if(L&&!kr(L[1]))return{[L[0]]:L[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function ut(L){return L.forEach(q=>{let ee=A.fetchers.get(q.key),ve=Xu(void 0,ee?ee.data:void 0);A.fetchers.set(q.key,ve)}),new Map(A.fetchers)}async function On(L,q,ee,ve){Te(L);let we=(ve&&ve.flushSync)===!0,Me=m||d,Le=Gg(A.location,A.matches,g,ee,q,ve==null?void 0:ve.relative),Ce=cs(Me,Le,g),Ie=Qi(Ce,Me,Le);if(Ie.active&&Ie.matches&&(Ce=Ie.matches),!Ce){Wn(L,q,ti(404,{pathname:Le}),{flushSync:we});return}let{path:ke,submission:Ke,error:He}=Mb(!0,Le,ve);if(He){Wn(L,q,He,{flushSync:we});return}let Je=n.getContext?await n.getContext():new Rb,ht=(ve&&ve.preventScrollReset)===!0;if(Ke&&nr(Ke.formMethod)){await wi(L,q,ke,Ce,Je,Ie.active,we,ht,Ke,ve&&ve.unstable_defaultShouldRevalidate);return}be.set(L,{routeId:q,path:ke}),await ui(L,q,ke,Ce,Je,Ie.active,we,ht,Ke)}async function wi(L,q,ee,ve,we,Me,Le,Ce,Ie,ke){Cr(),be.delete(L);let Ke=A.fetchers.get(L);fn(L,rx(Ie,Ke),{flushSync:Le});let He=new AbortController,Je=ml(n.history,ee,He.signal,Ie);if(Me){let st=await or(ve,new URL(Je.url).pathname,Je.signal,L);if(st.type==="aborted")return;if(st.type==="error"){Wn(L,q,st.error,{flushSync:Le});return}else if(st.matches)ve=st.matches;else{Wn(L,q,ti(404,{pathname:ee}),{flushSync:Le});return}}let ht=Pf(ve,ee);if(!ht.route.action&&!ht.route.lazy){let st=ti(405,{method:Ie.formMethod,pathname:ee,routeId:q});Wn(L,q,st,{flushSync:Le});return}he.set(L,He);let jt=xe,Xt=Al(l,c,Je,ve,ht,a,we),$t=await sn(Je,Xt,we,L),at=$t[ht.route.id];if(!at){for(let st of Xt)if($t[st.route.id]){at=$t[st.route.id];break}}if(Je.signal.aborted){he.get(L)===He&&he.delete(L);return}if(Ee.has(L)){if(so(at)||kr(at)){fn(L,pa(void 0));return}}else{if(so(at))if(he.delete(L),Ue>jt){fn(L,pa(void 0));return}else return ie.add(L),fn(L,Xu(Ie)),qt(Je,at,!1,{fetcherSubmission:Ie,preventScrollReset:Ce});if(kr(at)){Wn(L,q,at.error);return}}let Kt=A.navigation.location||A.location,jn=ml(n.history,Kt,He.signal),Yt=m||d,dr=A.navigation.state!=="idle"?cs(Yt,A.navigation.location,g):A.matches;ft(dr,"Didn't find any matches after fetcher action");let Jn=++xe;U.set(L,Jn);let mr=Xu(Ie,at.data);A.fetchers.set(L,mr);let{dsMatches:Zn,revalidatingFetchers:Rr}=Pb(jn,we,l,c,n.history,A,dr,Ie,Kt,a,!1,z,ne,Ee,be,ie,Yt,g,n.patchRoutesOnNavigation!=null,[ht.route.id,at],ke);Rr.filter(st=>st.key!==L).forEach(st=>{let Ir=st.key,Da=A.fetchers.get(Ir),Nt=Xu(void 0,Da?Da.data:void 0);A.fetchers.set(Ir,Nt),Te(Ir),st.controller&&he.set(Ir,st.controller)}),mt({fetchers:new Map(A.fetchers)});let Ri=()=>Rr.forEach(st=>Te(st.key));He.signal.addEventListener("abort",Ri);let{loaderResults:Ii,fetcherResults:dt}=await sr(Zn,Rr,jn,we);if(He.signal.aborted)return;if(He.signal.removeEventListener("abort",Ri),U.delete(L),he.delete(L),Rr.forEach(st=>he.delete(st.key)),A.fetchers.has(L)){let st=pa(at.data);A.fetchers.set(L,st)}let on=Ef(Ii);if(on)return qt(jn,on.result,!1,{preventScrollReset:Ce});if(on=Ef(dt),on)return ie.add(on.key),qt(jn,on.result,!1,{preventScrollReset:Ce});let{loaderData:Sn,errors:Ut}=Bb(A,dr,Ii,void 0,Rr,dt);nt(Jn),A.navigation.state==="loading"&&Jn>Ue?(ft(C,"Expected pending action"),M&&M.abort(),en(A.navigation.location,{matches:dr,loaderData:Sn,errors:Ut,fetchers:new Map(A.fetchers)})):(mt({errors:Ut,loaderData:Hb(A.loaderData,Sn,dr,Ut),fetchers:new Map(A.fetchers)}),z=!1)}async function ui(L,q,ee,ve,we,Me,Le,Ce,Ie){let ke=A.fetchers.get(L);fn(L,Xu(Ie,ke?ke.data:void 0),{flushSync:Le});let Ke=new AbortController,He=ml(n.history,ee,Ke.signal);if(Me){let at=await or(ve,new URL(He.url).pathname,He.signal,L);if(at.type==="aborted")return;if(at.type==="error"){Wn(L,q,at.error,{flushSync:Le});return}else if(at.matches)ve=at.matches;else{Wn(L,q,ti(404,{pathname:ee}),{flushSync:Le});return}}let Je=Pf(ve,ee);he.set(L,Ke);let ht=xe,jt=Al(l,c,He,ve,Je,a,we),$t=(await sn(He,jt,we,L))[Je.route.id];if(he.get(L)===Ke&&he.delete(L),!He.signal.aborted){if(Ee.has(L)){fn(L,pa(void 0));return}if(so($t))if(Ue>ht){fn(L,pa(void 0));return}else{ie.add(L),await qt(He,$t,!1,{preventScrollReset:Ce});return}if(kr($t)){Wn(L,q,$t.error);return}fn(L,pa($t.data))}}async function qt(L,q,ee,{submission:ve,fetcherSubmission:we,preventScrollReset:Me,replace:Le}={}){ee||(N==null||N.resolve(),N=null),q.response.headers.has("X-Remix-Revalidate")&&(z=!0);let Ce=q.response.headers.get("Location");ft(Ce,"Expected a Location header on the redirect Response"),Ce=Ub(Ce,new URL(L.url),g,n.history);let Ie=gc(A.location,Ce,{_isRedirect:!0});if(t){let jt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))jt=!0;else if(Dy(Ce)){const Xt=eA(Ce,!0);jt=Xt.origin!==e.location.origin||ii(Xt.pathname,g)==null}if(jt){Le?e.location.replace(Ce):e.location.assign(Ce);return}}M=null;let ke=Le===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ke,formAction:He,formEncType:Je}=A.navigation;!ve&&!we&&Ke&&He&&Je&&(ve=Gb(A.navigation));let ht=ve||we;if(ON.has(q.response.status)&&ht&&nr(ht.formMethod))await an(ke,Ie,{submission:{...ht,formAction:Ce},preventScrollReset:Me||x,enableViewTransition:ee?V:void 0});else{let jt=Sg(Ie,ve);await an(ke,Ie,{overrideNavigation:jt,fetcherSubmission:we,preventScrollReset:Me||x,enableViewTransition:ee?V:void 0})}}async function sn(L,q,ee,ve){var Le;let we,Me={};try{we=await HN(y,L,q,ve,ee,!1)}catch(Ce){return q.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Me[Ie.route.id]={type:"error",error:Ce}}),Me}if(L.signal.aborted)return Me;if(!nr(L.method))for(let Ce of q){if(((Le=we[Ce.route.id])==null?void 0:Le.type)==="error")break;!we.hasOwnProperty(Ce.route.id)&&!A.loaderData.hasOwnProperty(Ce.route.id)&&(!A.errors||!A.errors.hasOwnProperty(Ce.route.id))&&Ce.shouldCallHandler()&&(we[Ce.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ce.route.id}`)})}for(let[Ce,Ie]of Object.entries(we))if(JN(Ie)){let ke=Ie.result;Me[Ce]={type:"redirect",response:$N(ke,L,Ce,q,g)}}else Me[Ce]=await GN(Ie);return Me}async function sr(L,q,ee,ve){let we=sn(ee,L,ve,null),Me=Promise.all(q.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Ke=(await sn(Ie.request,Ie.matches,ve,Ie.key))[Ie.match.route.id];return{[Ie.key]:Ke}}else return Promise.resolve({[Ie.key]:{type:"error",error:ti(404,{pathname:Ie.path})}})})),Le=await we,Ce=(await Me).reduce((Ie,ke)=>Object.assign(Ie,ke),{});return{loaderResults:Le,fetcherResults:Ce}}function Cr(){z=!0,be.forEach((L,q)=>{he.has(q)&&ne.add(q),Te(q)})}function fn(L,q,ee={}){A.fetchers.set(L,q),mt({fetchers:new Map(A.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Wn(L,q,ee,ve={}){let we=hs(A.matches,q);Ae(L),mt({errors:{[we.route.id]:ee},fetchers:new Map(A.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function G(L){return oe.set(L,(oe.get(L)||0)+1),Ee.has(L)&&Ee.delete(L),A.fetchers.get(L)||MN}function ge(L,q){Te(L,q==null?void 0:q.reason),fn(L,pa(null))}function Ae(L){let q=A.fetchers.get(L);he.has(L)&&!(q&&q.state==="loading"&&U.has(L))&&Te(L),be.delete(L),U.delete(L),ie.delete(L),Ee.delete(L),ne.delete(L),A.fetchers.delete(L)}function pe(L){let q=(oe.get(L)||0)-1;q<=0?(oe.delete(L),Ee.add(L)):oe.set(L,q),mt({fetchers:new Map(A.fetchers)})}function Te(L,q){let ee=he.get(L);ee&&(ee.abort(q),he.delete(L))}function Oe(L){for(let q of L){let ee=G(q),ve=pa(ee.data);A.fetchers.set(q,ve)}}function We(){let L=[],q=!1;for(let ee of ie){let ve=A.fetchers.get(ee);ft(ve,`Expected fetcher: ${ee}`),ve.state==="loading"&&(ie.delete(ee),L.push(ee),q=!0)}return Oe(L),q}function nt(L){let q=[];for(let[ee,ve]of U)if(ve<L){let we=A.fetchers.get(ee);ft(we,`Expected fetcher: ${ee}`),we.state==="loading"&&(Te(ee),U.delete(ee),q.push(ee))}return Oe(q),q.length>0}function ct(L,q){let ee=A.blockers.get(L)||Qu;return Se.get(L)!==q&&Se.set(L,q),ee}function Ve(L){A.blockers.delete(L),Se.delete(L)}function Qe(L,q){let ee=A.blockers.get(L)||Qu;ft(ee.state==="unblocked"&&q.state==="blocked"||ee.state==="blocked"&&q.state==="blocked"||ee.state==="blocked"&&q.state==="proceeding"||ee.state==="blocked"&&q.state==="unblocked"||ee.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${q.state}`);let ve=new Map(A.blockers);ve.set(L,q),mt({blockers:ve})}function gn({currentLocation:L,nextLocation:q,historyAction:ee}){if(Se.size===0)return;Se.size>1&&un(!1,"A router only supports one blocker at a time");let ve=Array.from(Se.entries()),[we,Me]=ve[ve.length-1],Le=A.blockers.get(we);if(!(Le&&Le.state==="proceeding")&&Me({currentLocation:L,nextLocation:q,historyAction:ee}))return we}function Ct(L){let q=ti(404,{pathname:L}),ee=m||d,{matches:ve,route:we}=vf(ee);return{notFoundMatches:ve,route:we,error:q}}function Tn(L,q,ee){if(O=L,k=q,F=ee||null,!K&&A.navigation===bg){K=!0;let ve=Co(A.location,A.matches);ve!=null&&mt({restoreScrollPosition:ve})}return()=>{O=null,k=null,F=null}}function bn(L,q){return F&&F(L,q.map(ve=>aN(ve,A.loaderData)))||L.key}function Mn(L,q){if(O&&k){let ee=bn(L,q);O[ee]=k()}}function Co(L,q){if(O){let ee=bn(L,q),ve=O[ee];if(typeof ve=="number")return ve}return null}function Qi(L,q,ee){if(n.patchRoutesOnNavigation)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:ec(q,ee,g,!0)}}else return{active:!0,matches:ec(q,ee,g,!0)||[]};return{active:!1,matches:null}}async function or(L,q,ee,ve){if(!n.patchRoutesOnNavigation)return{type:"success",matches:L};let we=L;for(;;){let Me=m==null,Le=m||d,Ce=c;try{await n.patchRoutesOnNavigation({signal:ee,path:q,matches:we,fetcherKey:ve,patch:(Ke,He)=>{ee.aborted||Vb(Ke,He,Le,Ce,l,!1)}})}catch(Ke){return{type:"error",error:Ke,partialMatches:we}}finally{Me&&!ee.aborted&&(d=[...d])}if(ee.aborted)return{type:"aborted"};let Ie=cs(Le,q,g),ke=null;if(Ie){if(Object.keys(Ie[0].params).length===0)return{type:"success",matches:Ie};if(ke=ec(Le,q,g,!0),!(ke&&we.length<ke.length&&Ci(we,ke.slice(0,we.length))))return{type:"success",matches:Ie}}if(ke||(ke=ec(Le,q,g,!0)),!ke||Ci(we,ke))return{type:"success",matches:null};we=ke}}function Ci(L,q){return L.length===q.length&&L.every((ee,ve)=>ee.route.id===q[ve].route.id)}function tu(L){c={},m=yc(L,l,void 0,c)}function Xi(L,q,ee=!1){let ve=m==null;Vb(L,q,m||d,c,l,ee),ve&&(d=[...d],mt({}))}return Z={get basename(){return g},get future(){return E},get state(){return A},get routes(){return d},get window(){return e},initialize:Ge,subscribe:Lt,enableScrollRestoration:Tn,navigate:hn,fetch:On,revalidate:Fr,createHref:L=>n.history.createHref(L),encodeLocation:L=>n.history.encodeLocation(L),getFetcher:G,resetFetcher:ge,deleteFetcher:pe,dispose:yt,getBlocker:ct,deleteBlocker:Ve,patchRoutes:Xi,_internalFetchControllers:he,_internalSetRoutes:tu,_internalSetStateDoNotUseOrYouWillBreakYourApp(L){mt(L)}},n.unstable_instrumentations&&(Z=AN(Z,n.unstable_instrumentations.map(L=>L.router).filter(Boolean))),Z}function kN(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Gg(n,e,t,a,s,l){let c,d;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){d=g;break}}else c=e,d=e[e.length-1];let m=kd(a||".",Vd(c),ii(n.pathname,t)||n.pathname,l==="path");if(a==null&&(m.search=n.search,m.hash=n.hash),(a==null||a===""||a===".")&&d){let g=Py(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let y=new URLSearchParams(m.search),E=y.getAll("index");y.delete("index"),E.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();m.search=S?`?${S}`:""}}return t!=="/"&&(m.pathname=_N({basename:t,pathname:m.pathname})),$i(m)}function Mb(n,e,t){if(!t||!kN(t))return{path:e};if(t.formMethod&&!tx(t.formMethod))return{path:e,error:ti(405,{method:t.formMethod})};let a=()=>({path:e,error:ti(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=yA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!nr(l))return a();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[w,O])=>`${S}${w}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!nr(l))return a();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return a()}}}ft(typeof FormData=="function","FormData is not available in this environment");let d,m;if(t.formData)d=Yg(t.formData),m=t.formData;else if(t.body instanceof FormData)d=Yg(t.body),m=t.body;else if(t.body instanceof URLSearchParams)d=t.body,m=zb(d);else if(t.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(t.body),m=zb(d)}catch{return a()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(nr(g.formMethod))return{path:e,submission:g};let y=Na(e);return n&&y.search&&Py(y.search)&&d.append("index",""),y.search=`?${d}`,{path:$i(y),submission:g}}function Pb(n,e,t,a,s,l,c,d,m,g,y,E,S,w,O,F,k,K,B,Q,se){var _e;let ue=Q?kr(Q[1])?Q[1].error:Q[1].data:void 0,Z=s.createURL(l.location),A=s.createURL(m),C;if(y&&l.errors){let z=Object.keys(l.errors)[0];C=c.findIndex(ne=>ne.route.id===z)}else if(Q&&kr(Q[1])){let z=Q[0];C=c.findIndex(ne=>ne.route.id===z)-1}let N=Q?Q[1].statusCode:void 0,x=N&&N>=400,M={currentUrl:Z,currentParams:((_e=l.matches[0])==null?void 0:_e.params)||{},nextUrl:A,nextParams:c[0].params,...d,actionResult:ue,actionStatus:N},V=Mc(c),D=c.map((z,ne)=>{let{route:he}=z,xe=null;if(C!=null&&ne>C?xe=!1:he.lazy?xe=!0:Oy(he)?y?xe=$g(he,l.loaderData,l.errors):LN(l.loaderData,l.matches[ne],z)&&(xe=!0):xe=!1,xe!==null)return Kg(t,a,n,V,z,g,e,xe);let Ue=!1;typeof se=="boolean"?Ue=se:x?Ue=!1:(E||Z.pathname+Z.search===A.pathname+A.search||Z.search!==A.search||jN(l.matches[ne],z))&&(Ue=!0);let U={...M,defaultShouldRevalidate:Ue},ie=sc(z,U);return Kg(t,a,n,V,z,g,e,ie,U,se)}),ce=[];return O.forEach((z,ne)=>{if(y||!c.some(Ee=>Ee.route.id===z.routeId)||w.has(ne))return;let he=l.fetchers.get(ne),xe=he&&he.state!=="idle"&&he.data===void 0,Ue=cs(k,z.path,K);if(!Ue){if(B&&xe)return;ce.push({key:ne,routeId:z.routeId,path:z.path,matches:null,match:null,request:null,controller:null});return}if(F.has(ne))return;let U=Pf(Ue,z.path),ie=new AbortController,be=ml(s,z.path,ie.signal),oe=null;if(S.has(ne))S.delete(ne),oe=Al(t,a,be,Ue,U,g,e);else if(xe)E&&(oe=Al(t,a,be,Ue,U,g,e));else{let Ee;typeof se=="boolean"?Ee=se:x?Ee=!1:Ee=E;let Se={...M,defaultShouldRevalidate:Ee};sc(U,Se)&&(oe=Al(t,a,be,Ue,U,g,e,Se))}oe&&ce.push({key:ne,routeId:z.routeId,path:z.path,matches:oe,match:U,request:be,controller:ie})}),{dsMatches:D,revalidatingFetchers:ce}}function Oy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function $g(n,e,t){if(n.lazy)return!0;if(!Oy(n))return!1;let a=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!a&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!s}function LN(n,e,t){let a=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return a||s}function jN(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function sc(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Vb(n,e,t,a,s,l){let c;if(n){let g=a[n];ft(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],m=[];if(e.forEach(g=>{let y=c.find(E=>fA(g,E));y?m.push({existingRoute:y,newRoute:g}):d.push(g)}),d.length>0){let g=yc(d,s,[n||"_","patch",String((c==null?void 0:c.length)||"0")],a);c.push(...g)}if(l&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:y,newRoute:E}=m[g],S=y,[w]=yc([E],s,[],{},!0);Object.assign(S,{element:w.element?w.element:S.element,errorElement:w.errorElement?w.errorElement:S.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:S.hydrateFallbackElement})}}function fA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>{var s;return(s=e.children)==null?void 0:s.some(l=>fA(t,l))}):!1}var kb=new WeakMap,dA=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let s=t[e.id];if(ft(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=kb.get(s);c||(c={},kb.set(s,c));let d=c[n];if(d)return d;let m=(async()=>{let g=tN(n),E=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)un(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)un(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(s,{[n]:S}),Object.assign(s,a(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(S=>S===void 0)&&(s.lazy=void 0))})();return c[n]=m,m},Lb=new WeakMap;function UN(n,e,t,a,s){let l=t[n.id];if(ft(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=Lb.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let E=(async()=>{ft(typeof n.lazy=="function","No lazy route function found");let S=await n.lazy(),w={};for(let O in S){let F=S[O];if(F===void 0)continue;let k=rN(O),B=l[O]!==void 0&&O!=="hasErrorBoundary";k?un(!k,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?un(!B,`Route "${l.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):w[O]=F}Object.assign(l,w),Object.assign(l,{...a(l),lazy:void 0})})();return Lb.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),d=[],m;for(let y of c){if(s&&s.includes(y))continue;let E=dA({key:y,route:n,manifest:t,mapRouteProperties:a});E&&(d.push(E),y===e&&(m=E))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function jb(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function zN(n){return n.matches.some(e=>e.route.middleware)?mA(n,()=>jb(n)):jb(n)}function mA(n,e){return BN(n,e,a=>{if(ex(a))throw a;return a},XN,t);function t(a,s,l){if(l)return Promise.resolve(Object.assign(l.value,{[s]:{type:"error",result:a}}));{let{matches:c}=n,d=Math.min(Math.max(c.findIndex(g=>g.route.id===s),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),m=hs(c,c[d].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:a}})}}}async function BN(n,e,t,a,s){let{matches:l,request:c,params:d,context:m,unstable_pattern:g}=n,y=l.flatMap(S=>S.route.middleware?S.route.middleware.map(w=>[S.route.id,w]):[]);return await pA({request:c,params:d,context:m,unstable_pattern:g},y,e,t,a,s)}async function pA(n,e,t,a,s,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let m=e[c];if(!m)return await t();let[g,y]=m,E,S=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await pA(n,e,t,a,s,l,c+1)},E.value}catch(w){return E={value:await l(w,g,E)},E.value}};try{let w=await y(n,S),O=w!=null?a(w):void 0;return s(O)?O:E?O??E.value:(E={value:await S()},E.value)}catch(w){return await l(w,g,E)}}function gA(n,e,t,a,s){let l=dA({key:"middleware",route:a.route,manifest:e,mapRouteProperties:n}),c=UN(a.route,nr(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Kg(n,e,t,a,s,l,c,d,m=null,g){let y=!1,E=gA(n,e,t,s,l);return{...s,_lazyPromises:E,shouldLoad:d,shouldRevalidateArgs:m,shouldCallHandler(S){return y=!0,m?typeof g=="boolean"?sc(s,{...m,defaultShouldRevalidate:g}):typeof S=="boolean"?sc(s,{...m,defaultShouldRevalidate:S}):sc(s,m):d},resolve(S){let{lazy:w,loader:O,middleware:F}=s.route,k=y||d||S&&!nr(t.method)&&(w||O),K=F&&F.length>0&&!O&&!w;return k&&(nr(t.method)||!K)?FN({request:t,unstable_pattern:a,match:s,lazyHandlerPromise:E==null?void 0:E.handler,lazyRoutePromise:E==null?void 0:E.route,handlerOverride:S,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Al(n,e,t,a,s,l,c,d=null){return a.map(m=>m.route.id!==s.route.id?{...m,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:gA(n,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Kg(n,e,t,Mc(a),m,l,c,!0,d))}async function HN(n,e,t,a,s,l){t.some(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(g=>{var y;return(y=g._lazyPromises)==null?void 0:y.middleware}));let c={request:e,unstable_pattern:Mc(t),params:t[0].params,context:s,matches:t},m=await n({...c,fetcherKey:a,runClientMiddleware:g=>{let y=c;return mA(y,()=>g({...y,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var y,E;return[(y=g._lazyPromises)==null?void 0:y.handler,(E=g._lazyPromises)==null?void 0:E.route]}))}catch{}return m}async function FN({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let d,m,g=nr(n.method),y=g?"action":"loader",E=S=>{let w,O=new Promise((K,B)=>w=B);m=()=>w(),n.signal.addEventListener("abort",m);let F=K=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):S({request:n,unstable_pattern:e,params:t.params,context:c},...K!==void 0?[K]:[]),k=(async()=>{try{return{type:"data",result:await(l?l(B=>F(B)):F())}}catch(K){return{type:"error",result:K}}})();return Promise.race([k,O])};try{let S=g?t.route.action:t.route.loader;if(a||s)if(S){let w,[O]=await Promise.all([E(S).catch(F=>{w=F}),a,s]);if(w!==void 0)throw w;d=O}else{await a;let w=g?t.route.action:t.route.loader;if(w)[d]=await Promise.all([E(w),s]);else if(y==="action"){let O=new URL(n.url),F=O.pathname+O.search;throw ti(405,{method:n.method,pathname:F,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(S)d=await E(S);else{let w=new URL(n.url),O=w.pathname+w.search;throw ti(404,{pathname:O})}}catch(S){return{type:"error",result:S}}finally{m&&n.signal.removeEventListener("abort",m)}return d}async function qN(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function GN(n){var a,s,l,c,d;let{result:e,type:t}=n;if(My(e)){let m;try{m=await qN(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Oc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?qb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:QN(e),statusCode:_c(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:_c(e)?e.status:void 0}:qb(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function $N(n,e,t,a,s){let l=n.headers.get("Location");if(ft(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Dy(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=Gg(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function Ub(n,e,t,a){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Dy(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(s.includes(c.protocol))throw new Error("Invalid redirect location");let d=ii(c.pathname,t)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=a.createURL(n);if(s.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function ml(n,e,t,a){let s=n.createURL(yA(e)).toString(),l={signal:t};if(a&&nr(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=Yg(a.formData):l.body=a.formData}return new Request(s,l)}function Yg(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function zb(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function KN(n,e,t,a=!1,s=!1){let l={},c=null,d,m=!1,g={},y=t&&kr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let S=E.route.id,w=e[S];if(ft(!so(w),"Cannot handle redirect results in processLoaderData"),kr(w)){let O=w.error;if(y!==void 0&&(O=y,y=void 0),c=c||{},s)c[S]=O;else{let F=hs(n,S);c[F.route.id]==null&&(c[F.route.id]=O)}a||(l[S]=hA),m||(m=!0,d=_c(w.error)?w.error.status:500),w.headers&&(g[S]=w.headers)}else l[S]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(d=w.statusCode),w.headers&&(g[S]=w.headers)}),y!==void 0&&t&&(c={[t[0]]:y},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function Bb(n,e,t,a,s,l){let{loaderData:c,errors:d}=KN(e,t,a);return s.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:y,controller:E}=m;if(E&&E.signal.aborted)return;let S=l[g];if(ft(S,"Did not find corresponding fetcher result"),kr(S)){let w=hs(n.matches,y==null?void 0:y.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:S.error}),n.fetchers.delete(g)}else if(so(S))ft(!1,"Unhandled fetcher revalidation redirect");else{let w=pa(S.data);n.fetchers.set(g,w)}}),{loaderData:c,errors:d}}function Hb(n,e,t,a){let s=Object.entries(e).filter(([,l])=>l!==hA).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),a&&a.hasOwnProperty(c))break}return s}function Fb(n){return n?kr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function hs(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function vf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ti(n,{pathname:e,routeId:t,method:a,type:s,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Oc(n||500,c,new Error(d),!0)}function Ef(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,s]=e[t];if(so(s))return{key:a,result:s}}}function yA(n){let e=typeof n=="string"?Na(n):n;return $i({...e,hash:""})}function YN(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function QN(n){var e,t;return new Oc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function XN(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&WN(t))}function WN(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function JN(n){return My(n.result)&&uA.has(n.result.status)}function kr(n){return n.type==="error"}function so(n){return(n&&n.type)==="redirect"}function qb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function My(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function ZN(n){return uA.has(n)}function ex(n){return My(n)&&ZN(n.status)&&n.headers.has("Location")}function tx(n){return DN.has(n.toUpperCase())}function nr(n){return NN.has(n.toUpperCase())}function Py(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Pf(n,e){let t=typeof e=="string"?Na(e).search:e.search;if(n[n.length-1].route.index&&Py(t||""))return n[n.length-1];let a=iA(n);return a[a.length-1]}function Gb(n){let{formMethod:e,formAction:t,formEncType:a,text:s,formData:l,json:c}=n;if(!(!e||!t||!a)){if(s!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function Sg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function pa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function ix(n,e){try{let t=n.sessionStorage.getItem(cA);if(t){let a=JSON.parse(t);for(let[s,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function ax(n,e){if(e.size>0){let t={};for(let[a,s]of e)t[a]=[...s];try{n.sessionStorage.setItem(cA,JSON.stringify(t))}catch(a){un(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function $b(){let n,e,t=new Promise((a,s)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Eo=P.createContext(null);Eo.displayName="DataRouter";var Pc=P.createContext(null);Pc.displayName="DataRouterState";var _A=P.createContext(!1);function sx(){return P.useContext(_A)}var Vy=P.createContext({isTransitioning:!1});Vy.displayName="ViewTransition";var vA=P.createContext(new Map);vA.displayName="Fetchers";var ox=P.createContext(null);ox.displayName="Await";var Br=P.createContext(null);Br.displayName="Navigation";var Ld=P.createContext(null);Ld.displayName="Location";var si=P.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var ky=P.createContext(null);ky.displayName="RouteError";var EA="REACT_ROUTER_ERROR",lx="REDIRECT",ux="ROUTE_ERROR_RESPONSE";function cx(n){if(n.startsWith(`${EA}:${lx}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hx(n){if(n.startsWith(`${EA}:${ux}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Oc(e.status,e.statusText,e.data)}catch{}}function fx(n,{relative:e}={}){ft(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=P.useContext(Br),{hash:s,pathname:l,search:c}=Vc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Bi([t,l])),a.createHref({pathname:d,search:c,hash:s})}function Gl(){return P.useContext(Ld)!=null}function oi(){return ft(Gl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Ld).location}var TA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bA(n){P.useContext(Br).static||P.useLayoutEffect(n)}function To(){let{isDataRoute:n}=P.useContext(si);return n?Rx():dx()}function dx(){ft(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(Eo),{basename:e,navigator:t}=P.useContext(Br),{matches:a}=P.useContext(si),{pathname:s}=oi(),l=JSON.stringify(Vd(a)),c=P.useRef(!1);return bA(()=>{c.current=!0}),P.useCallback((m,g={})=>{if(un(c.current,TA),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=kd(m,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Bi([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,l,s,n])}var mx=P.createContext(null);function px(n){let e=P.useContext(si).outlet;return P.useMemo(()=>e&&P.createElement(mx.Provider,{value:n},e),[e,n])}function jd(){let{matches:n}=P.useContext(si),e=n[n.length-1];return e?e.params:{}}function Vc(n,{relative:e}={}){let{matches:t}=P.useContext(si),{pathname:a}=oi(),s=JSON.stringify(Vd(t));return P.useMemo(()=>kd(n,JSON.parse(s),a,e==="path"),[n,s,a,e])}function gx(n,e,t,a,s){ft(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Br),{matches:c}=P.useContext(si),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let B=E&&E.path||"";AA(g,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=oi(),w;w=S;let O=w.pathname||"/",F=O;if(y!=="/"){let B=y.replace(/^\//,"").split("/");F="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=cs(n,{pathname:F});return un(E||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),un(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Tx(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Bi([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Bi([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,a,s)}function yx(){let n=Cx(),e=_c(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,c)}var _x=P.createElement(yx,null),SA=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=hx(n.digest);t&&(n=t)}let e=n!==void 0?P.createElement(si.Provider,{value:this.props.routeContext},P.createElement(ky.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?P.createElement(vx,{error:n},e):e}};SA.contextType=_A;var Ag=new WeakMap;function vx({children:n,error:e}){let{basename:t}=P.useContext(Br);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=cx(e.digest);if(a){let s=Ag.get(e);if(s)throw s;let l=sA(a.location,t);if(aA&&!Ag.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw Ag.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function Ex({routeContext:n,match:e,children:t}){let a=P.useContext(Eo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(si.Provider,{value:n},t)}function Tx(n,e=[],t=null,a=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let y=l.findIndex(E=>E.route.id&&(c==null?void 0:c[E.route.id])!==void 0);ft(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,m=-1;if(t)for(let y=0;y<l.length;y++){let E=l[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=y),E.route.id){let{loaderData:S,errors:w}=t,O=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||O){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&a?(y,E)=>{var S,w;a(y,{location:t.location,params:((w=(S=t.matches)==null?void 0:S[0])==null?void 0:w.params)??{},unstable_pattern:Mc(t.matches),errorInfo:E})}:void 0;return l.reduceRight((y,E,S)=>{let w,O=!1,F=null,k=null;t&&(w=c&&E.route.id?c[E.route.id]:void 0,F=E.route.errorElement||_x,d&&(m<0&&S===0?(AA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):m===S&&(O=!0,k=E.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,S+1)),B=()=>{let Q;return w?Q=F:O?Q=k:E.route.Component?Q=P.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=y,P.createElement(Ex,{match:E,routeContext:{outlet:y,matches:K,isDataRoute:t!=null},children:Q})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(SA,{location:t.location,revalidation:t.revalidation,component:F,error:w,children:B(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:g}):B()},null)}function Ly(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bx(n){let e=P.useContext(Eo);return ft(e,Ly(n)),e}function Sx(n){let e=P.useContext(Pc);return ft(e,Ly(n)),e}function Ax(n){let e=P.useContext(si);return ft(e,Ly(n)),e}function jy(n){let e=Ax(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function wx(){return jy("useRouteId")}function Cx(){var a;let n=P.useContext(ky),e=Sx("useRouteError"),t=jy("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[t]}function Rx(){let{router:n}=bx("useNavigate"),e=jy("useNavigate"),t=P.useRef(!1);return bA(()=>{t.current=!0}),P.useCallback(async(s,l={})=>{un(t.current,TA),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var Kb={};function AA(n,e,t){!e&&!Kb[n]&&(Kb[n]=!0,un(!1,t))}var Yb={};function Qb(n,e){!n&&!Yb[e]&&(Yb[e]=!0,console.warn(e))}var Ix="useOptimistic",Xb=EI[Ix],Nx=()=>{};function xx(n){return Xb?Xb(n):[n,Nx]}function Dx(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&un(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&un(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&un(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Ox=["HydrateFallback","hydrateFallbackElement"],Mx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function Px({router:n,flushSync:e,onError:t,unstable_useTransitions:a}){a=sx()||a;let[l,c]=P.useState(n.state),[d,m]=xx(l),[g,y]=P.useState(),[E,S]=P.useState({isTransitioning:!1}),[w,O]=P.useState(),[F,k]=P.useState(),[K,B]=P.useState(),Q=P.useRef(new Map),se=P.useCallback((C,{deletedFetchers:N,newErrors:x,flushSync:M,viewTransitionOpts:V})=>{x&&t&&Object.values(x).forEach(ce=>{var _e;return t(ce,{location:C.location,params:((_e=C.matches[0])==null?void 0:_e.params)??{},unstable_pattern:Mc(C.matches)})}),C.fetchers.forEach((ce,_e)=>{ce.data!==void 0&&Q.current.set(_e,ce.data)}),N.forEach(ce=>Q.current.delete(ce)),Qb(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Qb(V==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!D){e&&M?e(()=>c(C)):a===!1?c(C):P.startTransition(()=>{a===!0&&m(ce=>Wb(ce,C)),c(C)});return}if(e&&M){e(()=>{F&&(w==null||w.resolve(),F.skipTransition()),S({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let ce=n.window.document.startViewTransition(()=>{e(()=>c(C))});ce.finished.finally(()=>{e(()=>{O(void 0),k(void 0),y(void 0),S({isTransitioning:!1})})}),e(()=>k(ce));return}F?(w==null||w.resolve(),F.skipTransition(),B({state:C,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(y(C),S({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,e,F,w,a,m,t]);P.useLayoutEffect(()=>n.subscribe(se),[n,se]),P.useEffect(()=>{E.isTransitioning&&!E.flushSync&&O(new Mx)},[E]),P.useEffect(()=>{if(w&&g&&n.window){let C=g,N=w.promise,x=n.window.document.startViewTransition(async()=>{a===!1?c(C):P.startTransition(()=>{a===!0&&m(M=>Wb(M,C)),c(C)}),await N});x.finished.finally(()=>{O(void 0),k(void 0),y(void 0),S({isTransitioning:!1})}),k(x)}},[g,w,n.window,a,m]),P.useEffect(()=>{w&&g&&d.location.key===g.location.key&&w.resolve()},[w,F,d.location,g]),P.useEffect(()=>{!E.isTransitioning&&K&&(y(K.state),S({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}),B(void 0))},[E.isTransitioning,K]);let ue=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,N,x)=>n.navigate(C,{state:N,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(C,N,x)=>n.navigate(C,{replace:!0,state:N,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[n]),Z=n.basename||"/",A=P.useMemo(()=>({router:n,navigator:ue,static:!1,basename:Z,onError:t}),[n,ue,Z,t]);return P.createElement(P.Fragment,null,P.createElement(Eo.Provider,{value:A},P.createElement(Pc.Provider,{value:d},P.createElement(vA.Provider,{value:Q.current},P.createElement(Vy.Provider,{value:E},P.createElement(Lx,{basename:Z,location:d.location,navigationType:d.historyAction,navigator:ue,unstable_useTransitions:a},P.createElement(Vx,{routes:n.routes,future:n.future,state:d,onError:t})))))),null)}function Wb(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var Vx=P.memo(kx);function kx({routes:n,future:e,state:t,onError:a}){return gx(n,void 0,t,a,e)}function ys({to:n,replace:e,state:t,relative:a}){ft(Gl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Br);un(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(si),{pathname:c}=oi(),d=To(),m=kd(n,Vd(l),c,a==="path"),g=JSON.stringify(m);return P.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function wA(n){return px(n.context)}function Lx({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){ft(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=Na(t));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:w="default"}=t,O=P.useMemo(()=>{let F=ii(g,d);return F==null?null:{location:{pathname:F,search:y,hash:E,state:S,key:w},navigationType:a}},[d,g,y,E,S,w,a]);return un(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:P.createElement(Br.Provider,{value:m},P.createElement(Ld.Provider,{children:e,value:O}))}var Vf="get",kf="application/x-www-form-urlencoded";function Ud(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function jx(n){return Ud(n)&&n.tagName.toLowerCase()==="button"}function Ux(n){return Ud(n)&&n.tagName.toLowerCase()==="form"}function zx(n){return Ud(n)&&n.tagName.toLowerCase()==="input"}function Bx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Hx(n,e){return n.button===0&&(!e||e==="_self")&&!Bx(n)}function Qg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let a=n[t];return e.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function Fx(n,e){let t=Qg(n);return e&&e.forEach((a,s)=>{t.has(s)||e.getAll(s).forEach(l=>{t.append(s,l)})}),t}var Tf=null;function qx(){if(Tf===null)try{new FormData(document.createElement("form"),0),Tf=!1}catch{Tf=!0}return Tf}var Gx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wg(n){return n!=null&&!Gx.has(n)?(un(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kf}"`),null):n}function $x(n,e){let t,a,s,l,c;if(Ux(n)){let d=n.getAttribute("action");a=d?ii(d,e):null,t=n.getAttribute("method")||Vf,s=wg(n.getAttribute("enctype"))||kf,l=new FormData(n)}else if(jx(n)||zx(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(a=m?ii(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Vf,s=wg(n.getAttribute("formenctype"))||wg(d.getAttribute("enctype"))||kf,l=new FormData(d,n),!qx()){let{name:g,type:y,value:E}=n;if(y==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,E)}}else{if(Ud(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vf,a=null,s=kf,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kx(n,e,t,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:e&&ii(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function Yx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Xx(n,e,t){let a=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await Yx(l,t);return c.links?c.links():[]}return[]}));return eD(a.flat(1).filter(Qx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Jb(n,e,t,a,s,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var y;return t[g].pathname!==m.pathname||((y=t[g].route.path)==null?void 0:y.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var E;let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Wx(n,e,{includeHydrateFallback:t}={}){return Jx(n.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function Jx(n){return[...new Set(n)]}function Zx(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function eD(n,e){let t=new Set;return new Set(e),n.reduce((a,s)=>{let l=JSON.stringify(Zx(s));return t.has(l)||(t.add(l),a.push({key:l,link:s})),a},[])}function CA(){let n=P.useContext(Eo);return Uy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tD(){let n=P.useContext(Pc);return Uy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zy=P.createContext(void 0);zy.displayName="FrameworkContext";function RA(){let n=P.useContext(zy);return Uy(n,"You must render this element inside a <HydratedRouter> element"),n}function nD(n,e){let t=P.useContext(zy),[a,s]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let F=K=>{K.forEach(B=>{c(B.isIntersecting)})},k=new IntersectionObserver(F,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[n]),P.useEffect(()=>{if(a){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[a]);let w=()=>{s(!0)},O=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Wu(d,w),onBlur:Wu(m,O),onMouseEnter:Wu(g,w),onMouseLeave:Wu(y,O),onTouchStart:Wu(E,w)}]:[!1,S,{}]}function Wu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rD({page:n,...e}){let{router:t}=CA(),a=P.useMemo(()=>cs(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?P.createElement(aD,{page:n,matches:a,...e}):null}function iD(n){let{manifest:e,routeModules:t}=RA(),[a,s]=P.useState([]);return P.useEffect(()=>{let l=!1;return Xx(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),a}function aD({page:n,matches:e,...t}){let a=oi(),{future:s,manifest:l,routeModules:c}=RA(),{basename:d}=CA(),{loaderData:m,matches:g}=tD(),y=P.useMemo(()=>Jb(n,e,g,l,a,"data"),[n,e,g,l,a]),E=P.useMemo(()=>Jb(n,e,g,l,a,"assets"),[n,e,g,l,a]),S=P.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let F=new Set,k=!1;if(e.forEach(B=>{var se;let Q=l.routes[B.route.id];!Q||!Q.hasLoader||(!y.some(ue=>ue.route.id===B.route.id)&&B.route.id in m&&((se=c[B.route.id])!=null&&se.shouldRevalidate)||Q.hasClientLoader?k=!0:F.add(B.route.id))}),F.size===0)return[];let K=Kx(n,d,s.unstable_trailingSlashAwareDataRequests,"data");return k&&F.size>0&&K.searchParams.set("_routes",e.filter(B=>F.has(B.route.id)).map(B=>B.route.id).join(",")),[K.pathname+K.search]},[d,s.unstable_trailingSlashAwareDataRequests,m,a,l,y,e,n,c]),w=P.useMemo(()=>Wx(E,l),[E,l]),O=iD(E);return P.createElement(P.Fragment,null,S.map(F=>P.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...t})),w.map(F=>P.createElement("link",{key:F,rel:"modulepreload",href:F,...t})),O.map(({key:F,link:k})=>P.createElement("link",{key:F,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function sD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oD&&(window.__reactRouterVersion="7.13.0")}catch{}function lD(n,e){return VN({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:WI({window:e==null?void 0:e.window}),hydrationData:uD(),routes:n,mapRouteProperties:Dx,hydrationRouteProperties:Ox,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function uD(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:cD(n.errors)}),n}function cD(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,s]of e)if(s&&s.__type==="RouteErrorResponse")t[a]=new Oc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let l=new Error(s.message);l.stack="",t[a]=l}}else t[a]=s;return t}var IA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NA=P.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:E,unstable_defaultShouldRevalidate:S,...w},O){let{basename:F,unstable_useTransitions:k}=P.useContext(Br),K=typeof g=="string"&&IA.test(g),B=sA(g,F);g=B.to;let Q=fx(g,{relative:s}),[se,ue,Z]=nD(a,w),A=mD(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:s,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function C(x){e&&e(x),x.defaultPrevented||A(x)}let N=P.createElement("a",{...w,...Z,href:B.absoluteURL||Q,onClick:B.isExternal||l?e:C,ref:sD(O,ue),target:m,"data-discover":!K&&t==="render"?"true":void 0});return se&&!K?P.createElement(P.Fragment,null,N,P.createElement(rD,{page:Q})):N});NA.displayName="Link";var hD=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:m,...g},y){let E=Vc(c,{relative:g.relative}),S=oi(),w=P.useContext(Pc),{navigator:O,basename:F}=P.useContext(Br),k=w!=null&&ED(E)&&d===!0,K=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,B=S.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(B=B.toLowerCase(),Q=Q?Q.toLowerCase():null,K=K.toLowerCase()),Q&&F&&(Q=ii(Q,F)||Q);const se=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=B===K||!s&&B.startsWith(K)&&B.charAt(se)==="/",Z=Q!=null&&(Q===K||!s&&Q.startsWith(K)&&Q.charAt(K.length)==="/"),A={isActive:ue,isPending:Z,isTransitioning:k},C=ue?e:void 0,N;typeof a=="function"?N=a(A):N=[a,ue?"active":null,Z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(A):l;return P.createElement(NA,{...g,"aria-current":C,className:N,ref:y,style:x,to:c,viewTransition:d},typeof m=="function"?m(A):m)});hD.displayName="NavLink";var fD=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:l,method:c=Vf,action:d,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,unstable_defaultShouldRevalidate:S,...w},O)=>{let{unstable_useTransitions:F}=P.useContext(Br),k=_D(),K=vD(d,{relative:g}),B=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&IA.test(d),se=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let Z=ue.nativeEvent.submitter,A=(Z==null?void 0:Z.getAttribute("formmethod"))||c,C=()=>k(Z||ue.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:s,state:l,relative:g,preventScrollReset:y,viewTransition:E,unstable_defaultShouldRevalidate:S});F&&t!==!1?P.startTransition(()=>C()):C()};return P.createElement("form",{ref:O,method:B,action:K,onSubmit:a?m:se,...w,"data-discover":!Q&&n==="render"?"true":void 0})});fD.displayName="Form";function dD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(n){let e=P.useContext(Eo);return ft(e,dD(n)),e}function mD(n,{target:e,replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=To(),y=oi(),E=Vc(n,{relative:l});return P.useCallback(S=>{if(Hx(S,e)){S.preventDefault();let w=t!==void 0?t:$i(y)===$i(E),O=()=>g(n,{replace:w,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?P.startTransition(()=>O()):O()}},[y,g,E,t,a,e,n,s,l,c,d,m])}function pD(n){un(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Qg(n)),t=P.useRef(!1),a=oi(),s=P.useMemo(()=>Fx(a.search,t.current?null:e.current),[a.search]),l=To(),c=P.useCallback((d,m)=>{const g=Qg(typeof d=="function"?d(new URLSearchParams(s)):d);t.current=!0,l("?"+g,m)},[l,s]);return[s,c]}var gD=0,yD=()=>`__${String(++gD)}__`;function _D(){let{router:n}=xA("useSubmit"),{basename:e}=P.useContext(Br),t=wx(),a=n.fetch,s=n.navigate;return P.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:y,body:E}=$x(l,e);if(c.navigate===!1){let S=c.fetcherKey||yD();await a(S,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:E,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:E,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,t])}function vD(n,{relative:e}={}){let{basename:t}=P.useContext(Br),a=P.useContext(si);ft(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...Vc(n||".",{relative:e})},c=oi();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let y=d.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Bi([t,l.pathname])),$i(l)}function ED(n,{relative:e}={}){let t=P.useContext(Vy);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xA("useViewTransitionState"),s=Vc(n,{relative:e});if(!t.isTransitioning)return!1;let l=ii(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=ii(t.nextLocation.pathname,a)||t.nextLocation.pathname;return id(s.pathname,c)!=null||id(s.pathname,l)!=null}var DA=XS();function TD(n){return P.createElement(Px,{flushSync:DA.flushSync,...n})}const bD=P.createContext(void 0),li=()=>GI(),lt=YI.withTypes(),SD=({children:n})=>{const e=lt(t=>t.auth.loading);return T.jsx(bD.Provider,{value:{isLoading:e},children:n})},AD=()=>{};var Zb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let s=n.charCodeAt(a);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},wD=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const s=n[t++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},MA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,m=s+2<n.length,g=m?n[s+2]:0,y=l>>2,E=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,w=g&63;m||(w=64,c||(S=64)),a.push(t[y],t[E],t[S],t[w])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||E==null)throw new CD;const S=l<<2|d>>4;if(a.push(S),g!==64){const w=d<<4&240|g>>2;if(a.push(w),E!==64){const O=g<<6&192|E;a.push(O)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(n){const e=OA(n);return MA.encodeByteArray(e,!0)},ad=function(n){return RD(n).replace(/\./g,"")},PA=function(n){try{return MA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=()=>ID().__FIREBASE_DEFAULTS__,xD=()=>{if(typeof process>"u"||typeof Zb>"u")return;const n=Zb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},DD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&PA(n[1]);return e&&JSON.parse(e)},zd=()=>{try{return AD()||ND()||xD()||DD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VA=n=>{var e,t;return(t=(e=zd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},OD=n=>{const e=VA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},kA=()=>{var n;return(n=zd())==null?void 0:n.config},LA=n=>{var e;return(e=zd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ad(JSON.stringify(t)),ad(JSON.stringify(c)),""].join(".")}const oc={};function VD(){const n={prod:[],emulator:[]};for(const e of Object.keys(oc))oc[e]?n.emulator.push(e):n.prod.push(e);return n}function kD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let e0=!1;function UA(n,e){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||oc[n]===e||oc[n]||e0)return;oc[n]=e;function t(S){return`__firebase__banner__${S}`}const a="__firebase__banner",l=VD().prod.length>0;function c(){const S=document.getElementById(a);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{e0=!0,c()},S}function y(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=kD(a),w=t("text"),O=document.getElementById(w)||document.createElement("span"),F=t("learnmore"),k=document.getElementById(F)||document.createElement("a"),K=t("preprendIcon"),B=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Q=S.element;d(Q),y(k,F);const se=g();m(B,K),Q.append(B,O,k,se),document.body.appendChild(Q)}l?(O.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function jD(){var e;const n=(e=zd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function BD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HD(){const n=ar();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FD(){return!jD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qD(){try{return typeof indexedDB=="object"}catch{return!1}}function GD(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="FirebaseError";class xa extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=$D,Object.setPrototypeOf(this,xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?KD(l,a):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new xa(s,d,a)}}function KD(n,e){return n.replace(YD,(t,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const YD=/\{\$([^}]+)}/g;function QD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mo(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const s of t){if(!a.includes(s))return!1;const l=n[s],c=e[s];if(t0(l)&&t0(c)){if(!mo(l,c))return!1}else if(l!==c)return!1}for(const s of a)if(!t.includes(s))return!1;return!0}function t0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function XD(n,e){const t=new WD(n,e);return t.subscribe.bind(t)}class WD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let s;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");JD(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:a},s.next===void 0&&(s.next=Cg),s.error===void 0&&(s.error=Cg),s.complete===void 0&&(s.complete=Cg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(n){return n&&n._delegate?n._delegate:n}class po{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new MD;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t2(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(s)}return s}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(a)??new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const s of a)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:e2(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(n){return n===ao?void 0:n}function t2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ZD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Et||(Et={}));const r2={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},i2=Et.INFO,a2={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},s2=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),s=a2[e];if(s)console[s](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=i2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const o2=(n,e)=>e.some(t=>n instanceof t);let n0,r0;function l2(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return r0||(r0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zA=new WeakMap,Xg=new WeakMap,BA=new WeakMap,Rg=new WeakMap,Hy=new WeakMap;function c2(n){const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(_s(n.result)),s()},c=()=>{a(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zA.set(t,n)}).catch(()=>{}),Hy.set(e,n),e}function h2(n){if(Xg.has(n))return;const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Xg.set(n,e)}let Wg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function f2(n){Wg=n(Wg)}function d2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(Ig(this),e,...t);return BA.set(a,e.sort?e.sort():[e]),_s(a)}:u2().includes(n)?function(...e){return n.apply(Ig(this),e),_s(zA.get(this))}:function(...e){return _s(n.apply(Ig(this),e))}}function m2(n){return typeof n=="function"?d2(n):(n instanceof IDBTransaction&&h2(n),o2(n,l2())?new Proxy(n,Wg):n)}function _s(n){if(n instanceof IDBRequest)return c2(n);if(Rg.has(n))return Rg.get(n);const e=m2(n);return e!==n&&(Rg.set(n,e),Hy.set(e,n)),e}const Ig=n=>Hy.get(n);function p2(n,e,{blocked:t,upgrade:a,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=_s(c);return a&&c.addEventListener("upgradeneeded",m=>{a(_s(c.result),m.oldVersion,m.newVersion,_s(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const g2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Ng=new Map;function i0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,s=y2.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(s||g2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&m.done]))[0]};return Ng.set(e,l),l}f2(n=>({...n,get:(e,t,a)=>i0(e,t)||n.get(e,t,a),has:(e,t)=>!!i0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v2(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function v2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",a0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new By("@firebase/app"),E2="@firebase/app-compat",T2="@firebase/analytics-compat",b2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",w2="@firebase/auth",C2="@firebase/auth-compat",R2="@firebase/database",I2="@firebase/data-connect",N2="@firebase/database-compat",x2="@firebase/functions",D2="@firebase/functions-compat",O2="@firebase/installations",M2="@firebase/installations-compat",P2="@firebase/messaging",V2="@firebase/messaging-compat",k2="@firebase/performance",L2="@firebase/performance-compat",j2="@firebase/remote-config",U2="@firebase/remote-config-compat",z2="@firebase/storage",B2="@firebase/storage-compat",H2="@firebase/firestore",F2="@firebase/ai",q2="@firebase/firestore-compat",G2="firebase",$2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",K2={[Jg]:"fire-core",[E2]:"fire-core-compat",[b2]:"fire-analytics",[T2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[w2]:"fire-auth",[C2]:"fire-auth-compat",[R2]:"fire-rtdb",[I2]:"fire-data-connect",[N2]:"fire-rtdb-compat",[x2]:"fire-fn",[D2]:"fire-fn-compat",[O2]:"fire-iid",[M2]:"fire-iid-compat",[P2]:"fire-fcm",[V2]:"fire-fcm-compat",[k2]:"fire-perf",[L2]:"fire-perf-compat",[j2]:"fire-rc",[U2]:"fire-rc-compat",[z2]:"fire-gcs",[B2]:"fire-gcs-compat",[H2]:"fire-fst",[q2]:"fire-fst-compat",[F2]:"fire-vertex","fire-js":"fire-js",[G2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,Y2=new Map,ey=new Map;function s0(n,e){try{n.container.addComponent(e)}catch(t){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ml(n){const e=n.name;if(ey.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;ey.set(e,n);for(const t of sd.values())s0(t,n);for(const t of Y2.values())s0(t,n);return!0}function Fy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _i(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new kc("app","Firebase",Q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=$2;function HA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a={name:Zg,automaticDataCollectionEnabled:!0,...e},s=a.name;if(typeof s!="string"||!s)throw vs.create("bad-app-name",{appName:String(s)});if(t||(t=kA()),!t)throw vs.create("no-options");const l=sd.get(s);if(l){if(mo(t,l.options)&&mo(a,l.config))return l;throw vs.create("duplicate-app",{appName:s})}const c=new n2(s);for(const m of ey.values())c.addComponent(m);const d=new X2(t,a,c);return sd.set(s,d),d}function FA(n=Zg){const e=sd.get(n);if(!e&&n===Zg&&kA())return HA();if(!e)throw vs.create("no-app",{appName:n});return e}function Es(n,e,t){let a=K2[n]??n;t&&(a+=`-${t}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(c.join(" "));return}Ml(new po(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebase-heartbeat-database",J2=1,vc="firebase-heartbeat-store";let xg=null;function qA(){return xg||(xg=p2(W2,J2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw vs.create("idb-open",{originalErrorMessage:n.message})})),xg}async function Z2(n){try{const t=(await qA()).transaction(vc),a=await t.objectStore(vc).get(GA(n));return await t.done,a}catch(e){if(e instanceof xa)Aa.warn(e.message);else{const t=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Aa.warn(t.message)}}}async function o0(n,e){try{const a=(await qA()).transaction(vc,"readwrite");await a.objectStore(vc).put(e,GA(n)),await a.done}catch(t){if(t instanceof xa)Aa.warn(t.message);else{const a=vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Aa.warn(a.message)}}}function GA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1024,tO=30;class nO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iO(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=l0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>tO){const c=aO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Aa.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=l0(),{heartbeatsToSend:a,unsentEntries:s}=rO(this._heartbeatsCache.heartbeats),l=ad(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Aa.warn(t),""}}}function l0(){return new Date().toISOString().substring(0,10)}function rO(n,e=eO){const t=[];let a=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),u0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),u0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class iO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qD()?GD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Z2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function u0(n){return ad(JSON.stringify({version:2,heartbeats:n})).length}function aO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(n){Ml(new po("platform-logger",e=>new _2(e),"PRIVATE")),Ml(new po("heartbeat",e=>new nO(e),"PRIVATE")),Es(Jg,a0,n),Es(Jg,a0,"esm2020"),Es("fire-js","")}sO("");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,$A;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function N(){}N.prototype=C.prototype,A.F=C.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(x,M,V){for(var D=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)D[ce-2]=arguments[ce];return C.prototype[M].apply(x,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,C,N){N||(N=0);const x=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)x[M]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(M=0;M<16;++M)x[M]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=A.g[0],N=A.g[1],M=A.g[2];let V=A.g[3],D;D=C+(V^N&(M^V))+x[0]+3614090360&4294967295,C=N+(D<<7&4294967295|D>>>25),D=V+(M^C&(N^M))+x[1]+3905402710&4294967295,V=C+(D<<12&4294967295|D>>>20),D=M+(N^V&(C^N))+x[2]+606105819&4294967295,M=V+(D<<17&4294967295|D>>>15),D=N+(C^M&(V^C))+x[3]+3250441966&4294967295,N=M+(D<<22&4294967295|D>>>10),D=C+(V^N&(M^V))+x[4]+4118548399&4294967295,C=N+(D<<7&4294967295|D>>>25),D=V+(M^C&(N^M))+x[5]+1200080426&4294967295,V=C+(D<<12&4294967295|D>>>20),D=M+(N^V&(C^N))+x[6]+2821735955&4294967295,M=V+(D<<17&4294967295|D>>>15),D=N+(C^M&(V^C))+x[7]+4249261313&4294967295,N=M+(D<<22&4294967295|D>>>10),D=C+(V^N&(M^V))+x[8]+1770035416&4294967295,C=N+(D<<7&4294967295|D>>>25),D=V+(M^C&(N^M))+x[9]+2336552879&4294967295,V=C+(D<<12&4294967295|D>>>20),D=M+(N^V&(C^N))+x[10]+4294925233&4294967295,M=V+(D<<17&4294967295|D>>>15),D=N+(C^M&(V^C))+x[11]+2304563134&4294967295,N=M+(D<<22&4294967295|D>>>10),D=C+(V^N&(M^V))+x[12]+1804603682&4294967295,C=N+(D<<7&4294967295|D>>>25),D=V+(M^C&(N^M))+x[13]+4254626195&4294967295,V=C+(D<<12&4294967295|D>>>20),D=M+(N^V&(C^N))+x[14]+2792965006&4294967295,M=V+(D<<17&4294967295|D>>>15),D=N+(C^M&(V^C))+x[15]+1236535329&4294967295,N=M+(D<<22&4294967295|D>>>10),D=C+(M^V&(N^M))+x[1]+4129170786&4294967295,C=N+(D<<5&4294967295|D>>>27),D=V+(N^M&(C^N))+x[6]+3225465664&4294967295,V=C+(D<<9&4294967295|D>>>23),D=M+(C^N&(V^C))+x[11]+643717713&4294967295,M=V+(D<<14&4294967295|D>>>18),D=N+(V^C&(M^V))+x[0]+3921069994&4294967295,N=M+(D<<20&4294967295|D>>>12),D=C+(M^V&(N^M))+x[5]+3593408605&4294967295,C=N+(D<<5&4294967295|D>>>27),D=V+(N^M&(C^N))+x[10]+38016083&4294967295,V=C+(D<<9&4294967295|D>>>23),D=M+(C^N&(V^C))+x[15]+3634488961&4294967295,M=V+(D<<14&4294967295|D>>>18),D=N+(V^C&(M^V))+x[4]+3889429448&4294967295,N=M+(D<<20&4294967295|D>>>12),D=C+(M^V&(N^M))+x[9]+568446438&4294967295,C=N+(D<<5&4294967295|D>>>27),D=V+(N^M&(C^N))+x[14]+3275163606&4294967295,V=C+(D<<9&4294967295|D>>>23),D=M+(C^N&(V^C))+x[3]+4107603335&4294967295,M=V+(D<<14&4294967295|D>>>18),D=N+(V^C&(M^V))+x[8]+1163531501&4294967295,N=M+(D<<20&4294967295|D>>>12),D=C+(M^V&(N^M))+x[13]+2850285829&4294967295,C=N+(D<<5&4294967295|D>>>27),D=V+(N^M&(C^N))+x[2]+4243563512&4294967295,V=C+(D<<9&4294967295|D>>>23),D=M+(C^N&(V^C))+x[7]+1735328473&4294967295,M=V+(D<<14&4294967295|D>>>18),D=N+(V^C&(M^V))+x[12]+2368359562&4294967295,N=M+(D<<20&4294967295|D>>>12),D=C+(N^M^V)+x[5]+4294588738&4294967295,C=N+(D<<4&4294967295|D>>>28),D=V+(C^N^M)+x[8]+2272392833&4294967295,V=C+(D<<11&4294967295|D>>>21),D=M+(V^C^N)+x[11]+1839030562&4294967295,M=V+(D<<16&4294967295|D>>>16),D=N+(M^V^C)+x[14]+4259657740&4294967295,N=M+(D<<23&4294967295|D>>>9),D=C+(N^M^V)+x[1]+2763975236&4294967295,C=N+(D<<4&4294967295|D>>>28),D=V+(C^N^M)+x[4]+1272893353&4294967295,V=C+(D<<11&4294967295|D>>>21),D=M+(V^C^N)+x[7]+4139469664&4294967295,M=V+(D<<16&4294967295|D>>>16),D=N+(M^V^C)+x[10]+3200236656&4294967295,N=M+(D<<23&4294967295|D>>>9),D=C+(N^M^V)+x[13]+681279174&4294967295,C=N+(D<<4&4294967295|D>>>28),D=V+(C^N^M)+x[0]+3936430074&4294967295,V=C+(D<<11&4294967295|D>>>21),D=M+(V^C^N)+x[3]+3572445317&4294967295,M=V+(D<<16&4294967295|D>>>16),D=N+(M^V^C)+x[6]+76029189&4294967295,N=M+(D<<23&4294967295|D>>>9),D=C+(N^M^V)+x[9]+3654602809&4294967295,C=N+(D<<4&4294967295|D>>>28),D=V+(C^N^M)+x[12]+3873151461&4294967295,V=C+(D<<11&4294967295|D>>>21),D=M+(V^C^N)+x[15]+530742520&4294967295,M=V+(D<<16&4294967295|D>>>16),D=N+(M^V^C)+x[2]+3299628645&4294967295,N=M+(D<<23&4294967295|D>>>9),D=C+(M^(N|~V))+x[0]+4096336452&4294967295,C=N+(D<<6&4294967295|D>>>26),D=V+(N^(C|~M))+x[7]+1126891415&4294967295,V=C+(D<<10&4294967295|D>>>22),D=M+(C^(V|~N))+x[14]+2878612391&4294967295,M=V+(D<<15&4294967295|D>>>17),D=N+(V^(M|~C))+x[5]+4237533241&4294967295,N=M+(D<<21&4294967295|D>>>11),D=C+(M^(N|~V))+x[12]+1700485571&4294967295,C=N+(D<<6&4294967295|D>>>26),D=V+(N^(C|~M))+x[3]+2399980690&4294967295,V=C+(D<<10&4294967295|D>>>22),D=M+(C^(V|~N))+x[10]+4293915773&4294967295,M=V+(D<<15&4294967295|D>>>17),D=N+(V^(M|~C))+x[1]+2240044497&4294967295,N=M+(D<<21&4294967295|D>>>11),D=C+(M^(N|~V))+x[8]+1873313359&4294967295,C=N+(D<<6&4294967295|D>>>26),D=V+(N^(C|~M))+x[15]+4264355552&4294967295,V=C+(D<<10&4294967295|D>>>22),D=M+(C^(V|~N))+x[6]+2734768916&4294967295,M=V+(D<<15&4294967295|D>>>17),D=N+(V^(M|~C))+x[13]+1309151649&4294967295,N=M+(D<<21&4294967295|D>>>11),D=C+(M^(N|~V))+x[4]+4149444226&4294967295,C=N+(D<<6&4294967295|D>>>26),D=V+(N^(C|~M))+x[11]+3174756917&4294967295,V=C+(D<<10&4294967295|D>>>22),D=M+(C^(V|~N))+x[2]+718787259&4294967295,M=V+(D<<15&4294967295|D>>>17),D=N+(V^(M|~C))+x[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+V&4294967295}a.prototype.v=function(A,C){C===void 0&&(C=A.length);const N=C-this.blockSize,x=this.C;let M=this.h,V=0;for(;V<C;){if(M==0)for(;V<=N;)s(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<C;)if(x[M++]=A.charCodeAt(V++),M==this.blockSize){s(this,x),M=0;break}}else for(;V<C;)if(x[M++]=A[V++],M==this.blockSize){s(this,x),M=0;break}}this.h=M,this.o+=C},a.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;C=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=C&255,C/=256;for(this.v(A),A=Array(16),C=0,N=0;N<4;++N)for(let x=0;x<32;x+=8)A[C++]=this.g[N]>>>x&255;return A};function l(A,C){var N=d;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=C(A)}function c(A,C){this.h=C;const N=[];let x=!0;for(let M=A.length-1;M>=0;M--){const V=A[M]|0;x&&V==C||(N[M]=V,x=!1)}this.g=N}var d={};function m(A){return-128<=A&&A<128?l(A,function(C){return new c([C|0],C<0?-1:0)}):new c([A|0],A<0?-1:0)}function g(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return k(g(-A));const C=[];let N=1;for(let x=0;A>=N;x++)C[x]=A/N|0,N*=4294967296;return new c(C,0)}function y(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return k(y(A.substring(1),C));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(C,8));let x=E;for(let V=0;V<A.length;V+=8){var M=Math.min(8,A.length-V);const D=parseInt(A.substring(V,V+M),C);M<8?(M=g(Math.pow(C,M)),x=x.j(M).add(g(D))):(x=x.j(N),x=x.add(g(D)))}return x}var E=m(0),S=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(F(this))return-k(this).m();let A=0,C=1;for(let N=0;N<this.g.length;N++){const x=this.i(N);A+=(x>=0?x:4294967296+x)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(F(this))return"-"+k(this).toString(A);const C=g(Math.pow(A,6));var N=this;let x="";for(;;){const M=se(N,C).g;N=K(N,M.j(C));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=M,O(N))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(let C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function F(A){return A.h==-1}n.l=function(A){return A=K(this,A),F(A)?-1:O(A)?0:1};function k(A){const C=A.g.length,N=[];for(let x=0;x<C;x++)N[x]=~A.g[x];return new c(N,~A.h).add(S)}n.abs=function(){return F(this)?k(this):this},n.add=function(A){const C=Math.max(this.g.length,A.g.length),N=[];let x=0;for(let M=0;M<=C;M++){let V=x+(this.i(M)&65535)+(A.i(M)&65535),D=(V>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);x=D>>>16,V&=65535,D&=65535,N[M]=D<<16|V}return new c(N,N[N.length-1]&-2147483648?-1:0)};function K(A,C){return A.add(k(C))}n.j=function(A){if(O(this)||O(A))return E;if(F(this))return F(A)?k(this).j(k(A)):k(k(this).j(A));if(F(A))return k(this.j(k(A)));if(this.l(w)<0&&A.l(w)<0)return g(this.m()*A.m());const C=this.g.length+A.g.length,N=[];for(var x=0;x<2*C;x++)N[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<A.g.length;M++){const V=this.i(x)>>>16,D=this.i(x)&65535,ce=A.i(M)>>>16,_e=A.i(M)&65535;N[2*x+2*M]+=D*_e,B(N,2*x+2*M),N[2*x+2*M+1]+=V*_e,B(N,2*x+2*M+1),N[2*x+2*M+1]+=D*ce,B(N,2*x+2*M+1),N[2*x+2*M+2]+=V*ce,B(N,2*x+2*M+2)}for(A=0;A<C;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=C;A<2*C;A++)N[A]=0;return new c(N,0)};function B(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function Q(A,C){this.g=A,this.h=C}function se(A,C){if(O(C))throw Error("division by zero");if(O(A))return new Q(E,E);if(F(A))return C=se(k(A),C),new Q(k(C.g),k(C.h));if(F(C))return C=se(A,k(C)),new Q(k(C.g),C.h);if(A.g.length>30){if(F(A)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var N=S,x=C;x.l(A)<=0;)N=ue(N),x=ue(x);var M=Z(N,1),V=Z(x,1);for(x=Z(x,2),N=Z(N,2);!O(x);){var D=V.add(x);D.l(A)<=0&&(M=M.add(N),V=D),x=Z(x,1),N=Z(N,1)}return C=K(A,M.j(C)),new Q(M,C)}for(M=E;A.l(C)>=0;){for(N=Math.max(1,Math.floor(A.m()/C.m())),x=Math.ceil(Math.log(N)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=g(N),D=V.j(C);F(D)||D.l(A)>0;)N-=x,V=g(N),D=V.j(C);O(V)&&(V=S),M=M.add(V),A=K(A,D)}return new Q(M,A)}n.B=function(A){return se(this,A).h},n.and=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let x=0;x<C;x++)N[x]=this.i(x)&A.i(x);return new c(N,this.h&A.h)},n.or=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let x=0;x<C;x++)N[x]=this.i(x)|A.i(x);return new c(N,this.h|A.h)},n.xor=function(A){const C=Math.max(this.g.length,A.g.length),N=[];for(let x=0;x<C;x++)N[x]=this.i(x)^A.i(x);return new c(N,this.h^A.h)};function ue(A){const C=A.g.length+1,N=[];for(let x=0;x<C;x++)N[x]=A.i(x)<<1|A.i(x-1)>>>31;return new c(N,A.h)}function Z(A,C){const N=C>>5;C%=32;const x=A.g.length-N,M=[];for(let V=0;V<x;V++)M[V]=C>0?A.i(V+N)>>>C|A.i(V+N+1)<<32-C:A.i(V+N);return new c(M,A.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,$A=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Ts=c}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KA,tc,YA,Lf,ty,QA,XA,WA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bf=="object"&&bf];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=t(this);function s(h,_){if(_)e:{var b=a;h=h.split(".");for(var I=0;I<h.length-1;I++){var X=h[I];if(!(X in b))break e;b=b[X]}h=h[h.length-1],I=b[h],_=_(I),_!=I&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var b=[],I;for(I in _)Object.prototype.hasOwnProperty.call(_,I)&&b.push([I,_[I]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,b){return h.call.apply(h.bind,arguments)}function g(h,_,b){return g=m,g.apply(null,arguments)}function y(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function E(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(I,X,re){for(var Re=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Re[rt-2]=arguments[rt];return _.prototype[X].apply(I,Re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const b=Array(_);for(let I=0;I<_;I++)b[I]=h[I];return b}return[]}function O(h,_){for(let I=1;I<arguments.length;I++){const X=arguments[I];var b=typeof X;if(b=b!="object"?b:X?Array.isArray(X)?"array":b:"null",b=="array"||b=="object"&&typeof X.length=="number"){b=h.length||0;const re=X.length||0;h.length=b+re;for(let Re=0;Re<re;Re++)h[b+Re]=X[Re]}else h.push(X)}}class F{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(h){c.setTimeout(()=>{throw h},0)}function K(){var h=A;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,b){const I=Q.get();I.set(_,b),this.h?this.h.next=I:this.g=I,this.h=I}}var Q=new F(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Z=!1,A=new B,C=()=>{const h=Promise.resolve(void 0);ue=()=>{h.then(N)}};function N(){for(var h;h=K();){try{h.h.call(h.g)}catch(b){k(b)}var _=Q;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}Z=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,_),c.removeEventListener("test",b,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ce(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(ce,M),ce.prototype.init=function(h,_){const b=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),z=0;function ne(h,_,b,I,X){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!I,this.ha=X,this.key=++z,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h,_,b){for(const I in h)_.call(b,h[I],I,h)}function Ue(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function U(h){const _={};for(const b in h)_[b]=h[b];return _}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(h,_){let b,I;for(let X=1;X<arguments.length;X++){I=arguments[X];for(b in I)h[b]=I[b];for(let re=0;re<ie.length;re++)b=ie[re],Object.prototype.hasOwnProperty.call(I,b)&&(h[b]=I[b])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,_,b,I,X){const re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);const Re=Se(h,_,I,X);return Re>-1?(_=h[Re],b||(_.fa=!1)):(_=new ne(_,this.src,re,!!I,X),_.fa=b,h.push(_)),_};function Ee(h,_){const b=_.type;if(b in h.g){var I=h.g[b],X=Array.prototype.indexOf.call(I,_,void 0),re;(re=X>=0)&&Array.prototype.splice.call(I,X,1),re&&(he(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Se(h,_,b,I){for(let X=0;X<h.length;++X){const re=h[X];if(!re.da&&re.listener==_&&re.capture==!!b&&re.ha==I)return X}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Be={};function Ge(h,_,b,I,X){if(Array.isArray(_)){for(let re=0;re<_.length;re++)Ge(h,_[re],b,I,X);return null}return b=wr(b),h&&h[_e]?h.J(_,b,d(I)?!!I.capture:!1,X):yt(h,_,b,!1,I,X)}function yt(h,_,b,I,X,re){if(!_)throw Error("Invalid event type");const Re=d(X)?!!X.capture:!!X;let rt=an(h);if(rt||(h[Ne]=rt=new oe(h)),b=rt.add(_,b,I,Re,re),b.proxy)return b;if(I=Lt(),b.proxy=I,I.src=h,I.listener=b,h.addEventListener)V||(X=Re),X===void 0&&(X=!1),h.addEventListener(_.toString(),I,X);else if(h.attachEvent)h.attachEvent(hn(_.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Lt(){function h(b){return _.call(h.src,h.listener,b)}const _=Fr;return h}function mt(h,_,b,I,X){if(Array.isArray(_))for(var re=0;re<_.length;re++)mt(h,_[re],b,I,X);else I=d(I)?!!I.capture:!!I,b=wr(b),h&&h[_e]?(h=h.i,re=String(_).toString(),re in h.g&&(_=h.g[re],b=Se(_,b,I,X),b>-1&&(he(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[re],h.h--)))):h&&(h=an(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Se(_,b,I,X)),(b=h>-1?_[h]:null)&&en(b))}function en(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[_e])Ee(_.i,h);else{var b=h.type,I=h.proxy;_.removeEventListener?_.removeEventListener(b,I,h.capture):_.detachEvent?_.detachEvent(hn(b),I):_.addListener&&_.removeListener&&_.removeListener(I),(b=an(_))?(Ee(b,h),b.h==0&&(b.src=null,_[Ne]=null)):he(h)}}}function hn(h){return h in Be?Be[h]:Be[h]="on"+h}function Fr(h,_){if(h.da)h=!0;else{_=new ce(_,this);const b=h.listener,I=h.ha||h.src;h.fa&&en(h),h=b.call(I,_)}return h}function an(h){return h=h[Ne],h instanceof oe?h:null}var Bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function wr(h){return typeof h=="function"?h:(h[Bn]||(h[Bn]=function(_){return h.handleEvent(_)}),h[Bn])}function Pt(){x.call(this),this.i=new oe(this),this.M=this,this.G=null}E(Pt,x),Pt.prototype[_e]=!0,Pt.prototype.removeEventListener=function(h,_,b,I){mt(this,h,_,b,I)};function ut(h,_){var b,I=h.G;if(I)for(b=[];I;I=I.G)b.push(I);if(h=h.M,I=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var X=_;_=new M(I,h),be(_,X)}X=!0;let re,Re;if(b)for(Re=b.length-1;Re>=0;Re--)re=_.g=b[Re],X=On(re,I,!0,_)&&X;if(re=_.g=h,X=On(re,I,!0,_)&&X,X=On(re,I,!1,_)&&X,b)for(Re=0;Re<b.length;Re++)re=_.g=b[Re],X=On(re,I,!1,_)&&X}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let I=0;I<b.length;I++)he(b[I]);delete h.g[_],h.h--}}this.G=null},Pt.prototype.J=function(h,_,b,I){return this.i.add(String(h),_,!1,b,I)},Pt.prototype.K=function(h,_,b,I){return this.i.add(String(h),_,!0,b,I)};function On(h,_,b,I){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let X=!0;for(let re=0;re<_.length;++re){const Re=_[re];if(Re&&!Re.da&&Re.capture==b){const rt=Re.listener,yn=Re.ha||Re.src;Re.fa&&Ee(h.i,Re),X=rt.call(yn,I)!==!1&&X}}return X&&!I.defaultPrevented}function wi(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function ui(h){h.g=wi(()=>{h.g=null,h.i&&(h.i=!1,ui(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class qt extends x{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(h){x.call(this),this.h=h,this.g={}}E(sn,x);var sr=[];function Cr(h){xe(h.g,function(_,b){this.g.hasOwnProperty(b)&&en(_)},h),h.g={}}sn.prototype.N=function(){sn.Z.N.call(this),Cr(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=c.JSON.stringify,Wn=c.JSON.parse,G=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ge(){}function Ae(){}var pe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){M.call(this,"d")}E(Te,M);function Oe(){M.call(this,"c")}E(Oe,M);var We={},nt=null;function ct(){return nt=nt||new Pt}We.Ia="serverreachability";function Ve(h){M.call(this,We.Ia,h)}E(Ve,M);function Qe(h){const _=ct();ut(_,new Ve(_))}We.STAT_EVENT="statevent";function gn(h,_){M.call(this,We.STAT_EVENT,h),this.stat=_}E(gn,M);function Ct(h){const _=ct();ut(_,new gn(_,h))}We.Ja="timingevent";function Tn(h,_){M.call(this,We.Ja,h),this.size=_}E(Tn,M);function bn(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Co(h,_,b,I,X,re){h.info(function(){if(h.g)if(re){var Re="",rt=re.split("&");for(let xt=0;xt<rt.length;xt++){var yn=rt[xt].split("=");if(yn.length>1){const tn=yn[0];yn=yn[1];const $r=tn.split("_");Re=$r.length>=2&&$r[1]=="type"?Re+(tn+"="+yn+"&"):Re+(tn+"=redacted&")}}}else Re=null;else Re=re;return"XMLHTTP REQ ("+I+") [attempt "+X+"]: "+_+`
`+b+`
`+Re})}function Qi(h,_,b,I,X,re,Re){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+X+"]: "+_+`
`+b+`
`+re+" "+Re})}function or(h,_,b,I){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+tu(h,b)+(I?" "+I:"")})}function Ci(h,_){h.info(function(){return"TIMEOUT: "+_})}Mn.prototype.info=function(){};function tu(h,_){if(!h.g)return _;if(!_)return null;try{const re=JSON.parse(_);if(re){for(h=0;h<re.length;h++)if(Array.isArray(re[h])){var b=re[h];if(!(b.length<2)){var I=b[1];if(Array.isArray(I)&&!(I.length<1)){var X=I[0];if(X!="noop"&&X!="stop"&&X!="close")for(let Re=1;Re<I.length;Re++)I[Re]=""}}}}return fn(re)}catch{return _}}var Xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},L={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},q;function ee(){}E(ee,ge),ee.prototype.g=function(){return new XMLHttpRequest},q=new ee;function ve(h){return encodeURIComponent(String(h))}function we(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function Me(h,_,b,I){this.j=h,this.i=_,this.l=b,this.S=I||1,this.V=new sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}var Ce={},Ie={};function ke(h,_,b){h.M=1,h.A=Ms(Ut(_)),h.u=b,h.R=!0,Ke(h,null)}function Ke(h,_){h.F=Date.now(),jt(h),h.B=Ut(h.A);var b=h.B,I=h.S;Array.isArray(I)||(I=[String(I)]),Io(b.i,"t",I),h.C=0,b=h.j.L,h.h=new Le,h.g=hh(h.j,b?_:null,!h.u),h.P>0&&(h.O=new qt(g(h.Y,h,h.g),h.P)),_=h.V,b=h.g,I=h.ba;var X="readystatechange";Array.isArray(X)||(X&&(sr[0]=X.toString()),X=sr);for(let re=0;re<X.length;re++){const Re=Ge(b,X[re],I||_.handleEvent,!1,_.h||_);if(!Re)break;_.g[Re.key]=Re}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Qe(),Co(h.i,h.v,h.B,h.l,h.S,h.u)}Me.prototype.ba=function(h){h=h.target;const _=this.O;_&&fi(h)==3?_.j():this.Y(h)},Me.prototype.Y=function(h){try{if(h==this.g)e:{const rt=fi(this.g),yn=this.g.ya(),xt=this.g.ca();if(!(rt<3)&&(rt!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||rt!=4||yn==7||(yn==8||xt<=0?Qe(3):Qe(2)),$t(this);var _=this.g.ca();this.X=_;var b=He(this);if(this.o=_==200,Qi(this.i,this.v,this.B,this.l,this.S,rt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var I,X=this.g;if((I=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(I)){var re=I;break t}}re=null}if(h=re)or(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jn(this,h);else{this.o=!1,this.m=3,Ct(12),Kt(this),at(this);break e}}if(this.R){h=!0;let tn;for(;!this.K&&this.C<b.length;)if(tn=ht(this,b),tn==Ie){rt==4&&(this.m=4,Ct(14),h=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==Ce){this.m=4,Ct(15),or(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else or(this.i,this.l,tn,null),jn(this,tn);if(Je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||b.length!=0||this.h.h||(this.m=1,Ct(16),h=!1),this.o=this.o&&h,!h)or(this.i,this.l,b,"[Invalid Chunked Response]"),Kt(this),at(this);else if(b.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),cu(Re),Re.P=!0,Ct(11))}}else or(this.i,this.l,b,null),jn(this,b);rt==4&&Kt(this),this.o&&!this.K&&(rt==4?oh(this.j,this):(this.o=!1,jt(this)))}else Ji(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Kt(this),at(this)}}}catch{}finally{}};function He(h){if(!Je(h))return h.g.la();const _=Hn(h.g);if(_==="")return"";let b="";const I=_.length,X=fi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Kt(h),at(h),"";h.h.i=new c.TextDecoder}for(let re=0;re<I;re++)h.h.h=!0,b+=h.h.i.decode(_[re],{stream:!(X&&re==I-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function Je(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ht(h,_){var b=h.C,I=_.indexOf(`
`,b);return I==-1?Ie:(b=Number(_.substring(b,I)),isNaN(b)?Ce:(I+=1,I+b>_.length?Ie:(_=_.slice(I,I+b),h.C=I+b,_)))}Me.prototype.cancel=function(){this.K=!0,Kt(this)};function jt(h){h.T=Date.now()+h.H,Xt(h,h.H)}function Xt(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=bn(g(h.aa,h),_)}function $t(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Me.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ci(this.i,this.B),this.M!=2&&(Qe(),Ct(17)),Kt(this),this.m=2,at(this)):Xt(this,this.T-h)};function at(h){h.j.I==0||h.K||oh(h.j,h)}function Kt(h){$t(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Cr(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function jn(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Zn(b.h,h))){if(!h.L&&Zn(b.h,h)&&b.I==3){try{var I=b.Ba.g.parse(_)}catch{I=null}if(Array.isArray(I)&&I.length==3){var X=I;if(X[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Mo(b),ja(b);else break e;zs(b),Ct(18)}}else b.xa=X[1],0<b.xa-b.K&&X[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=bn(g(b.Va,b),6e3));mr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Pi(b,11)}else if((h.L||b.g==h)&&Mo(b),!D(_))for(X=b.Ba.g.parse(_),_=0;_<X.length;_++){let xt=X[_];const tn=xt[0];if(!(tn<=b.K))if(b.K=tn,xt=xt[1],b.I==2)if(xt[0]=="c"){b.M=xt[1],b.ba=xt[2];const $r=xt[3];$r!=null&&(b.ka=$r,b.j.info("VER="+b.ka));const Vi=xt[4];Vi!=null&&(b.za=Vi,b.j.info("SVER="+b.za));const di=xt[5];di!=null&&typeof di=="number"&&di>0&&(I=1.5*di,b.O=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const mi=h.g;if(mi){const Bs=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var re=I.h;re.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Rr(re,re.h),re.h=null))}if(I.G){const Po=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(I.wa=Po,Nt(I.J,I.G,Po))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),I=b;var Re=h;if(I.na=ch(I,I.L?I.ba:null,I.W),Re.L){Ri(I.h,Re);var rt=Re,yn=I.O;yn&&(rt.H=yn),rt.D&&($t(rt),jt(rt)),I.g=Re}else ah(I);b.i.length>0&&Mi(b)}else xt[0]!="stop"&&xt[0]!="close"||Pi(b,7);else b.I==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Pi(b,7):lu(b):xt[0]!="noop"&&b.l&&b.l.qa(xt),b.A=0)}}Qe(4)}catch{}}var Yt=class{constructor(h,_){this.g=h,this.map=_}};function dr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function mr(h){return h.h?1:h.g?h.g.size:0}function Zn(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Rr(h,_){h.g?h.g.add(_):h.h=_}function Ri(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}dr.prototype.cancel=function(){if(this.i=Ii(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ii(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return w(h.i)}var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function on(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const I=h[b].indexOf("=");let X,re=null;I>=0?(X=h[b].substring(0,I),re=h[b].substring(I+1)):X=h[b],_(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Sn?(this.l=h.l,st(this,h.j),this.o=h.o,this.g=h.g,Ir(this,h.u),this.h=h.h,Da(this,rh(h.i)),this.m=h.m):h&&(_=String(h).match(dt))?(this.l=!1,st(this,_[1]||"",!0),this.o=Ni(_[2]||""),this.g=Ni(_[3]||"",!0),Ir(this,_[4]),this.h=Ni(_[5]||"",!0),Da(this,_[6]||"",!0),this.m=Ni(_[7]||"")):(this.l=!1,this.i=new Ma(null,this.l))}Sn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Ps(_,Ro,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Ps(_,Ro,!0),"@"),h.push(ve(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ps(b,b.charAt(0)=="/"?nu:eh,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ps(b,th)),h.join("")},Sn.prototype.resolve=function(h){const _=Ut(this);let b=!!h.j;b?st(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var I=h.h;if(b)Ir(_,h.u);else if(b=!!h.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var X=_.h.lastIndexOf("/");X!=-1&&(I=_.h.slice(0,X+1)+I)}if(X=I,X==".."||X==".")I="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){I=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let Re=0;Re<X.length;){const rt=X[Re++];rt=="."?I&&Re==X.length&&re.push(""):rt==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),I&&Re==X.length&&re.push("")):(re.push(rt),I=!0)}I=re.join("/")}else I=X}return b?_.h=I:b=h.i.toString()!=="",b?Da(_,rh(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Ut(h){return new Sn(h)}function st(h,_,b){h.j=b?Ni(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ir(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Da(h,_,b){_ instanceof Ma?(h.i=_,No(h.i,h.l)):(b||(_=Ps(_,Oa)),h.i=new Ma(_,h.l))}function Nt(h,_,b){h.i.set(_,b)}function Ms(h){return Nt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ni(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ps(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,pr),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pr(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ro=/[#\/\?@]/g,eh=/[#\?:]/g,nu=/[#\?]/g,Oa=/[#\?@]/g,th=/#/g;function Ma(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function gr(h){h.g||(h.g=new Map,h.h=0,h.i&&on(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Ma.prototype,n.add=function(h,_){gr(this),this.i=null,h=Pa(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function nh(h,_){gr(h),_=Pa(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function ru(h,_){return gr(h),_=Pa(h,_),h.g.has(_)}n.forEach=function(h,_){gr(this),this.g.forEach(function(b,I){b.forEach(function(X){h.call(_,X,I,this)},this)},this)};function iu(h,_){gr(h);let b=[];if(typeof _=="string")ru(h,_)&&(b=b.concat(h.g.get(Pa(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}n.set=function(h,_){return gr(this),this.i=null,h=Pa(this,h),ru(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=iu(this,h),h.length>0?String(h[0]):_):_};function Io(h,_,b){nh(h,_),b.length>0&&(h.i=null,h.g.set(Pa(h,_),w(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let I=0;I<_.length;I++){var b=_[I];const X=ve(b);b=iu(this,b);for(let re=0;re<b.length;re++){let Re=X;b[re]!==""&&(Re+="="+ve(b[re])),h.push(Re)}}return this.i=h.join("&")};function rh(h){const _=new Ma;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Pa(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function No(h,_){_&&!h.j&&(gr(h),h.i=null,h.g.forEach(function(b,I){const X=I.toLowerCase();I!=X&&(nh(this,I),Io(this,X,b))},h)),h.j=_}function ci(h,_){const b=new Mn;if(c.Image){const I=new Image;I.onload=y(qr,b,"TestLoadImage: loaded",!0,_,I),I.onerror=y(qr,b,"TestLoadImage: error",!1,_,I),I.onabort=y(qr,b,"TestLoadImage: abort",!1,_,I),I.ontimeout=y(qr,b,"TestLoadImage: timeout",!1,_,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else _(!1)}function au(h,_){const b=new Mn,I=new AbortController,X=setTimeout(()=>{I.abort(),qr(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:I.signal}).then(re=>{clearTimeout(X),re.ok?qr(b,"TestPingServer: ok",!0,_):qr(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(X),qr(b,"TestPingServer: error",!1,_)})}function qr(h,_,b,I,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),I(b)}catch{}}function Va(){this.g=new G}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(xi,ge),xi.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(h,_){Pt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Vs,Pt),n=Vs.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,hi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function xo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ka(this):hi(this),this.readyState==3&&xo(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ka(this))},n.Na=function(h){this.g&&(this.response=h,ka(this))},n.ga=function(){this.g&&ka(this)};function ka(h){h.readyState=4,h.l=null,h.j=null,h.B=null,hi(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gr(h){let _="";return xe(h,function(b,I){_+=I,_+=":",_+=b,_+=`\r
`}),_}function ks(h,_,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=Gr(b),typeof h=="string"?b!=null&&ve(b):Nt(h,_,b))}function zt(h){Pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(zt,Pt);var Di=/^https?$/i,su=["POST","PUT"];n=zt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():q.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(re){Ls(this,re);return}if(h=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var X in I)b.set(X,I[X]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const re of I.keys())b.set(re,I.get(re));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(re=>re.toLowerCase()=="content-type"),X=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(su,_,void 0)>=0)||I||X||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,Re]of b)this.g.setRequestHeader(re,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(re){Ls(this,re)}};function Ls(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,ou(h),Wi(h)}function ou(h){h.A||(h.A=!0,ut(h,"complete"),ut(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ut(this,"complete"),ut(this,"abort"),Wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),zt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},n.Xa=function(){js(this)};function js(h){if(h.h&&typeof l<"u"){if(h.v&&fi(h)==4)setTimeout(h.Ca.bind(h),0);else if(ut(h,"readystatechange"),fi(h)==4){h.h=!1;try{const re=h.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var I;if(I=re===0){let Re=String(h.D).match(dt)[1]||null;!Re&&c.self&&c.self.location&&(Re=c.self.location.protocol.slice(0,-1)),I=!Di.test(Re?Re.toLowerCase():"")}b=I}if(b)ut(h,"complete"),ut(h,"success");else{h.o=6;try{var X=fi(h)>2?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.ca()+"]",ou(h)}}finally{Wi(h)}}}}function Wi(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||ut(h,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Wn(_)}};function Hn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(h){const _={};h=(h.g&&fi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(D(h[I]))continue;var b=we(h[I]);const X=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const re=_[X]||[];_[X]=re,re.push(b)}Ue(_,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function La(h){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,h),this.Za=Oi("retryDelaySeedMs",1e4,h),this.Ta=Oi("forwardChannelMaxRetries",2,h),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new dr(h&&h.concurrentRequestLimit),this.Ba=new Va,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=La.prototype,n.ka=8,n.I=1,n.connect=function(h,_,b,I){Ct(0),this.W=h,this.H=_||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.J=ch(this,null,this.W),Mi(this)};function lu(h){if(Do(h),h.I==3){var _=h.V++,b=Ut(h.J);if(Nt(b,"SID",h.M),Nt(b,"RID",_),Nt(b,"TYPE","terminate"),Us(h,b),_=new Me(h,h.j,_),_.M=2,_.A=Ms(Ut(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=_.A,b=!0),b||(_.g=hh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),jt(_)}uh(h)}function ja(h){h.g&&(cu(h),h.g.cancel(),h.g=null)}function Do(h){ja(h),h.v&&(c.clearTimeout(h.v),h.v=null),Mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Mi(h){if(!Jn(h.h)&&!h.m){h.m=!0;var _=h.Ea;ue||C(),Z||(ue(),Z=!0),A.add(_,h),h.D=0}}function Oo(h,_){return mr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=bn(g(h.Ea,h,_),lh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const X=new Me(this,this.j,h);let re=this.o;if(this.U&&(re?(re=U(re),be(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(_+=I,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=ih(this,X,_),b=Ut(this.J),Nt(b,"RID",h),Nt(b,"CVER",22),this.G&&Nt(b,"X-HTTP-Session-Id",this.G),Us(this,b),re&&(this.R?_="headers="+ve(Gr(re))+"&"+_:this.u&&ks(b,this.u,re)),Rr(this.h,X),this.Ra&&Nt(b,"TYPE","init"),this.S?(Nt(b,"$req",_),Nt(b,"SID","null"),X.U=!0,ke(X,b,null)):ke(X,b,_),this.I=2}}else this.I==3&&(h?uu(this,h):this.i.length==0||Jn(this.h)||uu(this))};function uu(h,_){var b;_?b=_.l:b=h.V++;const I=Ut(h.J);Nt(I,"SID",h.M),Nt(I,"RID",b),Nt(I,"AID",h.K),Us(h,I),h.u&&h.o&&ks(I,h.u,h.o),b=new Me(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=ih(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Rr(h.h,b),ke(b,I,_)}function Us(h,_){h.H&&xe(h.H,function(b,I){Nt(_,I,b)}),h.l&&xe({},function(b,I){Nt(_,I,b)})}function ih(h,_,b){b=Math.min(h.i.length,b);const I=h.l?g(h.l.Ka,h.l,h):null;e:{var X=h.i;let rt=-1;for(;;){const yn=["count="+b];rt==-1?b>0?(rt=X[0].g,yn.push("ofs="+rt)):rt=0:yn.push("ofs="+rt);let xt=!0;for(let tn=0;tn<b;tn++){var re=X[tn].g;const $r=X[tn].map;if(re-=rt,re<0)rt=Math.max(0,X[tn].g-100),xt=!1;else try{re="req"+re+"_"||"";try{var Re=$r instanceof Map?$r:Object.entries($r);for(const[Vi,di]of Re){let mi=di;d(di)&&(mi=fn(di)),yn.push(re+Vi+"="+encodeURIComponent(mi))}}catch(Vi){throw yn.push(re+"type="+encodeURIComponent("_badmap")),Vi}}catch{I&&I($r)}}if(xt){Re=yn.join("&");break e}}Re=void 0}return h=h.i.splice(0,b),_.G=h,Re}function ah(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ue||C(),Z||(ue(),Z=!0),A.add(_,h),h.A=0}}function zs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=bn(g(h.Da,h),lh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=bn(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ja(this),sh(this))};function cu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function sh(h){h.g=new Me(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);Nt(_,"RID","rpc"),Nt(_,"SID",h.M),Nt(_,"AID",h.K),Nt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Nt(_,"TO",h.ia),Nt(_,"TYPE","xmlhttp"),Us(h,_),h.u&&h.o&&ks(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Ms(Ut(_)),b.u=null,b.R=!0,Ke(b,h)}n.Va=function(){this.C!=null&&(this.C=null,ja(this),zs(this),Ct(19))};function Mo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function oh(h,_){var b=null;if(h.g==_){Mo(h),cu(h),h.g=null;var I=2}else if(Zn(h.h,_))b=_.G,Ri(h.h,_),I=1;else return;if(h.I!=0){if(_.o)if(I==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var X=h.D;I=ct(),ut(I,new Tn(I,b)),Mi(h)}else ah(h);else if(X=_.m,X==3||X==0&&_.X>0||!(I==1&&Oo(h,_)||I==2&&zs(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),X){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function lh(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function Pi(h,_){if(h.j.info("Error code "+_),_==2){var b=g(h.bb,h),I=h.Ua;const X=!I;I=new Sn(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||st(I,"https"),Ms(I),X?ci(I.toString(),b):au(I.toString(),b)}else Ct(2);h.I=0,h.l&&h.l.pa(_),uh(h),Do(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function uh(h){if(h.I=0,h.ja=[],h.l){const _=Ii(h.h);(_.length!=0||h.i.length!=0)&&(O(h.ja,_),O(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function ch(h,_,b){var I=b instanceof Sn?Ut(b):new Sn(b);if(I.g!="")_&&(I.g=_+"."+I.g),Ir(I,I.u);else{var X=c.location;I=X.protocol,_=_?_+"."+X.hostname:X.hostname,X=+X.port;const re=new Sn(null);I&&st(re,I),_&&(re.g=_),X&&Ir(re,X),b&&(re.h=b),I=re}return b=h.G,_=h.wa,b&&_&&Nt(I,b,_),Nt(I,"VER",h.ka),Us(h,I),I}function hh(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new zt(new xi({ab:b})):new zt(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}n=fh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ua(){}Ua.prototype.g=function(h,_){return new lr(h,_)};function lr(h,_){Pt.call(this),this.g=new La(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Zi(this)}E(lr,Pt),lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){lu(this.g)},lr.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=fn(h),h=b);_.i.push(new Yt(_.Ya++,h)),_.I==3&&Mi(_)},lr.prototype.N=function(){this.g.l=null,delete this.j,lu(this.g),delete this.g,lr.Z.N.call(this)};function dh(h){Te.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(dh,Te);function mh(){Oe.call(this),this.status=1}E(mh,Oe);function Zi(h){this.g=h}E(Zi,fh),Zi.prototype.ra=function(){ut(this.g,"a")},Zi.prototype.qa=function(h){ut(this.g,new dh(h))},Zi.prototype.pa=function(h){ut(this.g,new mh)},Zi.prototype.oa=function(){ut(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,WA=function(){return new Ua},XA=function(){return ct()},QA=We,ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Lf=Xi,L.COMPLETE="complete",YA=L,Ae.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,tc=Ae,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,KA=zt}).apply(typeof bf<"u"?bf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="12.8.0";function oO(n){Yl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new By("@firebase/firestore");function pl(){return go.logLevel}function Pe(n,...e){if(go.logLevel<=Et.DEBUG){const t=e.map(qy);go.debug(`Firestore (${Yl}): ${n}`,...t)}}function wa(n,...e){if(go.logLevel<=Et.ERROR){const t=e.map(qy);go.error(`Firestore (${Yl}): ${n}`,...t)}}function Pl(n,...e){if(go.logLevel<=Et.WARN){const t=e.map(qy);go.warn(`Firestore (${Yl}): ${n}`,...t)}}function qy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,JA(n,a,t)}function JA(n,e,t){let a=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw wa(a),new Error(a)}function Mt(n,e,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,n||JA(e,s,a)}function tt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends xa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rr.UNAUTHENTICATED)))}shutdown(){}}class uO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class cO{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0,42304);let a=this.i;const s=m=>this.i!==a?(a=this.i,t(m)):Promise.resolve();let l=new Ta;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ta,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},d=m=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ta)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Mt(typeof a.accessToken=="string",31837,{l:a}),new ZA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new rr(e)}}class hO{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fO{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new hO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(this.o===void 0,3512);const a=l=>{l.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const s=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new h0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=mO(40);for(let l=0;l<s.length;++l)a.length<20&&s[l]<t&&(a+=e.charAt(s[l]%62))}return a}}function Tt(n,e){return n<e?-1:n>e?1:0}function ny(n,e){const t=Math.min(n.length,e.length);for(let a=0;a<t;a++){const s=n.charAt(a),l=e.charAt(a);if(s!==l)return Dg(s)===Dg(l)?Tt(s,l):Dg(s)?1:-1}return Tt(n.length,e.length)}const pO=55296,gO=57343;function Dg(n){const e=n.charCodeAt(0);return e>=pO&&e<=gO}function Vl(n,e,t){return n.length===e.length&&n.every(((a,s)=>t(a,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class zi{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ye(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ye(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let s=0;s<a;s++){const l=zi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Tt(e.length,t.length)}static compareSegments(e,t){const a=zi.isNumericId(e),s=zi.isNumericId(t);return a&&!s?-1:!a&&s?1:a&&s?zi.extractNumericId(e).compare(zi.extractNumericId(t)):ny(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class Qt extends zi{construct(e,t,a){return new Qt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((s=>s.length>0)))}return new Qt(t)}static emptyPath(){return new Qt([])}}const yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends zi{construct(e,t,a){return new Qn(e,t,a)}static isValidIdentifier(e){return yO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new Qn([f0])}static fromServerFormat(e){const t=[];let a="",s=0;const l=()=>{if(a.length===0)throw new De(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new De(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new De(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(a+=d,s++):(l(),s++)}if(l(),c)throw new De(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Qt.fromString(e))}static fromName(e){return new qe(Qt.fromString(e).popFirst(5))}static empty(){return new qe(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,e,t){if(!t)throw new De(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _O(n,e,t,a){if(e===!0&&a===!0)throw new De(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function d0(n){if(!qe.isDocumentKey(n))throw new De(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function m0(n){if(qe.isDocumentKey(n))throw new De(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ye(12329,{type:typeof n})}function Ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bd(n);throw new De(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(n,e){const t={typeString:n};return e&&(t.value=e),t}function jc(n,e){if(!tw(n))throw new De(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const s=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const c=n[a];if(s&&typeof c!==s){t=`JSON field '${a}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new De(de.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-62135596800,g0=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*g0);return new Zt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<p0)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jc(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Dn("string",Zt._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Zt(0,0))}static max(){return new Ze(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function vO(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,s=Ze.fromTimestamp(a===1e9?new Zt(t+1,0):new Zt(t,a));return new As(s,qe.empty(),e)}function EO(n){return new As(n.readTime,n.key,Ec)}class As{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new As(Ze.min(),qe.empty(),Ec)}static max(){return new As(Ze.max(),qe.empty(),Ec)}}function TO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=qe.comparator(n.documentKey,e.documentKey),t!==0?t:Tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==bO)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((a,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,a)=>{t(e)}))}static reject(e){return new ye(((t,a)=>{a(e)}))}static waitFor(e){return new ye(((t,a)=>{let s=0,l=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&t()}),(m=>a(m)))})),c=!0,l===s&&t()}))}static or(e){let t=ye.resolve(!1);for(const a of e)t=t.next((s=>s?ye.resolve(s):a()));return t}static forEach(e,t){const a=[];return e.forEach(((s,l)=>{a.push(t.call(this,s,l))})),this.waitFor(a)}static mapArray(e,t){return new ye(((a,s)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((y=>{c[g]=y,++d,d===l&&a(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new ye(((a,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):a()};l()}))}}function AO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-1;function Fd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function wO(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="";function CO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=y0(e)),e=RO(n.get(t),e);return y0(e)}function RO(n,e){let t=e;const a=n.length;for(let s=0;s<a;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case nw:t+="";break;default:t+=l}}return t}function y0(n){return n+nw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ds(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return t+a.left.size;s<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sf(this.root,e,this.comparator,!0)}}class Sf{constructor(e,t,a,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,t,a,s,l){this.key=e,this.value=t,this.color=a??Yn.RED,this.left=s??Yn.EMPTY,this.right=l??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,s,l){return new Yn(e??this.key,t??this.value,a??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let s=this;const l=a(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,a),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yn.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,t,a,s,l){return this}insert(e,t,a){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Lr([])}unionWith(e){let t=new Vn(Qn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Lr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new iw("Invalid base64 string: "+l):l}})(e);return new Xn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new Xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(n){if(Mt(!!n,39018),typeof n=="string"){let e=0;const t=IO.exec(n);if(Mt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:En(n.seconds),nanos:En(n.nanos)}}function En(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?Xn.fromBase64String(n):Xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="server_timestamp",sw="__type__",ow="__previous_value__",lw="__local_write_time__";function Ky(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[sw])==null?void 0:a.stringValue)===aw}function qd(n){const e=n.mapValue.fields[ow];return Ky(e)?qd(e):e}function Tc(n){const e=ws(n.mapValue.fields[lw].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,a,s,l,c,d,m,g,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=E}}const ld="(default)";class bc{constructor(e,t){this.projectId=e,this.database=t||ld}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===ld}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}function xO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new De(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="__type__",DO="__max__",Af={mapValue:{}},cw="__vector__",ud="value";function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ky(n)?4:MO(n)?9007199254740991:OO(n)?10:11:Ye(28295,{value:n})}function Ki(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tc(n).isEqual(Tc(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ws(s.timestampValue),d=ws(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return Cs(s.bytesValue).isEqual(Cs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return En(s.geoPointValue.latitude)===En(l.geoPointValue.latitude)&&En(s.geoPointValue.longitude)===En(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return En(s.integerValue)===En(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=En(s.doubleValue),d=En(l.doubleValue);return c===d?od(c)===od(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Vl(n.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(_0(c)!==_0(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ki(c[m],d[m])))return!1;return!0})(n,e);default:return Ye(52216,{left:n})}}function Sc(n,e){return(n.values||[]).find((t=>Ki(t,e)))!==void 0}function kl(n,e){if(n===e)return 0;const t=Rs(n),a=Rs(e);if(t!==a)return Tt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=En(l.integerValue||l.doubleValue),m=En(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return E0(n.timestampValue,e.timestampValue);case 4:return E0(Tc(n),Tc(e));case 5:return ny(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Cs(l),m=Cs(c);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=Tt(d[g],m[g]);if(y!==0)return y}return Tt(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Tt(En(l.latitude),En(c.latitude));return d!==0?d:Tt(En(l.longitude),En(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return T0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,w,O,F;const d=l.fields||{},m=c.fields||{},g=(S=d[ud])==null?void 0:S.arrayValue,y=(w=m[ud])==null?void 0:w.arrayValue,E=Tt(((O=g==null?void 0:g.values)==null?void 0:O.length)||0,((F=y==null?void 0:y.values)==null?void 0:F.length)||0);return E!==0?E:T0(g,y)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Af.mapValue&&c===Af.mapValue)return 0;if(l===Af.mapValue)return 1;if(c===Af.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const S=ny(m[E],y[E]);if(S!==0)return S;const w=kl(d[m[E]],g[y[E]]);if(w!==0)return w}return Tt(m.length,y.length)})(n.mapValue,e.mapValue);default:throw Ye(23264,{he:t})}}function E0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Tt(n,e);const t=ws(n),a=ws(e),s=Tt(t.seconds,a.seconds);return s!==0?s:Tt(t.nanos,a.nanos)}function T0(n,e){const t=n.values||[],a=e.values||[];for(let s=0;s<t.length&&s<a.length;++s){const l=kl(t[s],a[s]);if(l)return l}return Tt(t.length,a.length)}function Ll(n){return ry(n)}function ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const a=ws(t);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Cs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return qe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let a="[",s=!0;for(const l of t.values||[])s?s=!1:a+=",",a+=ry(l);return a+"]"})(n.arrayValue):"mapValue"in n?(function(t){const a=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of a)l?l=!1:s+=",",s+=`${c}:${ry(t.fields[c])}`;return s+"}"})(n.mapValue):Ye(61005,{value:n})}function jf(n){switch(Rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qd(n);return e?16+jf(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((s,l)=>s+jf(l)),0)})(n.arrayValue);case 10:case 11:return(function(a){let s=0;return Ds(a.fields,((l,c)=>{s+=l.length+jf(c)})),s})(n.mapValue);default:throw Ye(13486,{value:n})}}function b0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iy(n){return!!n&&"integerValue"in n}function Yy(n){return!!n&&"arrayValue"in n}function S0(n){return!!n&&"nullValue"in n}function A0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uf(n){return!!n&&"mapValue"in n}function OO(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[uw])==null?void 0:a.stringValue)===cw}function lc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ds(n.mapValue.fields,((t,a)=>e.mapValue.fields[t]=lc(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lc(n.arrayValue.values[t]);return e}return{...n}}function MO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.value=e}static empty(){return new Sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(t)}setAll(e){let t=Qn.emptyPath(),a={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,a,s),a={},s=[],t=d.popLast()}c?a[d.lastSegment()]=lc(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,a,s)}delete(e){const t=this.field(e.popLast());Uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=t.mapValue.fields[e.get(a)];Uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,a){Ds(t,((s,l)=>e[s]=l));for(const s of a)delete e[s]}clone(){return new Sr(lc(this.value))}}function hw(n){const e=[];return Ds(n.fields,((t,a)=>{const s=new Qn([t]);if(Uf(a)){const l=hw(a.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t,a,s,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ir(e,0,Ze.min(),Ze.min(),Ze.min(),Sr.empty(),0)}static newFoundDocument(e,t,a,s){return new ir(e,1,t,Ze.min(),a,s,0)}static newNoDocument(e,t){return new ir(e,2,t,Ze.min(),Ze.min(),Sr.empty(),0)}static newUnknownDocument(e,t){return new ir(e,3,t,Ze.min(),Ze.min(),Sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t){this.position=e,this.inclusive=t}}function w0(n,e,t){let a=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?a=qe.comparator(qe.fromName(c.referenceValue),t.key):a=kl(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function C0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ki(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t="asc"){this.field=e,this.dir=t}}function PO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{}class xn extends fw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new kO(e,t,a):t==="array-contains"?new UO(e,a):t==="in"?new zO(e,a):t==="not-in"?new BO(e,a):t==="array-contains-any"?new HO(e,a):new xn(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new LO(e,a):new jO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(kl(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends fw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Si(e,t)}matches(e){return dw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dw(n){return n.op==="and"}function mw(n){return VO(n)&&dw(n)}function VO(n){for(const e of n.filters)if(e instanceof Si)return!1;return!0}function ay(n){if(n instanceof xn)return n.field.canonicalString()+n.op.toString()+Ll(n.value);if(mw(n))return n.filters.map((e=>ay(e))).join(",");{const e=n.filters.map((t=>ay(t))).join(",");return`${n.op}(${e})`}}function pw(n,e){return n instanceof xn?(function(a,s){return s instanceof xn&&a.op===s.op&&a.field.isEqual(s.field)&&Ki(a.value,s.value)})(n,e):n instanceof Si?(function(a,s){return s instanceof Si&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce(((l,c,d)=>l&&pw(c,s.filters[d])),!0):!1})(n,e):void Ye(19439)}function gw(n){return n instanceof xn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(n):n instanceof Si?(function(t){return t.op.toString()+" {"+t.getFilters().map(gw).join(" ,")+"}"})(n):"Filter"}class kO extends xn{constructor(e,t,a){super(e,t,a),this.key=qe.fromName(a.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class LO extends xn{constructor(e,t){super(e,"in",t),this.keys=yw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jO extends xn{constructor(e,t){super(e,"not-in",t),this.keys=yw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((a=>qe.fromName(a.referenceValue)))}class UO extends xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yy(t)&&Sc(t.arrayValue,this.value)}}class zO extends xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Sc(this.value.arrayValue,t)}}class BO extends xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Sc(this.value.arrayValue,t)}}class HO extends xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>Sc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t=null,a=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function R0(n,e=null,t=[],a=[],s=null,l=null,c=null){return new FO(n,e,t,a,s,l,c)}function Qy(n){const e=tt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>ay(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),Fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Ll(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Ll(a))).join(",")),e.Te=t}return e.Te}function Xy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C0(n.startAt,e.startAt)&&C0(n.endAt,e.endAt)}function sy(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t=null,a=[],s=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function qO(n,e,t,a,s,l,c,d){return new Uc(n,e,t,a,s,l,c,d)}function Gd(n){return new Uc(n)}function I0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GO(n){return qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function _w(n){return n.collectionGroup!==null}function uc(n){const e=tt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Vn(Qn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new hd(l,a))})),t.has(Qn.keyField().canonicalString())||e.Ie.push(new hd(Qn.keyField(),a))}return e.Ie}function Hi(n){const e=tt(n);return e.Ee||(e.Ee=$O(e,uc(n))),e.Ee}function $O(n,e){if(n.limitType==="F")return R0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new hd(s.field,l)}));const t=n.endAt?new cd(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new cd(n.startAt.position,n.startAt.inclusive):null;return R0(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function oy(n,e){const t=n.filters.concat([e]);return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ly(n,e,t){return new Uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $d(n,e){return Xy(Hi(n),Hi(e))&&n.limitType===e.limitType}function vw(n){return`${Qy(Hi(n))}|lt:${n.limitType}`}function gl(n){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((s=>gw(s))).join(", ")}]`),Fd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((s=>Ll(s))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((s=>Ll(s))).join(",")),`Target(${a})`})(Hi(n))}; limitType=${n.limitType})`}function Kd(n,e){return e.isFoundDocument()&&(function(a,s){const l=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):qe.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(n,e)&&(function(a,s){for(const l of uc(a))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(a,s){for(const l of a.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(a,s){return!(a.startAt&&!(function(c,d,m){const g=w0(c,d,m);return c.inclusive?g<=0:g<0})(a.startAt,uc(a),s)||a.endAt&&!(function(c,d,m){const g=w0(c,d,m);return c.inclusive?g>=0:g>0})(a.endAt,uc(a),s))})(n,e)}function KO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ew(n){return(e,t)=>{let a=!1;for(const s of uc(n)){const l=YO(s,e,t);if(l!==0)return l;a=a||s.field.isKeyField()}return 0}}function YO(n,e,t){const a=n.field.isKeyField()?qe.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?kl(m,g):Ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[s,l]of a)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[t]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((t,a)=>{for(const[s,l]of a)e(s,l)}))}isEmpty(){return rw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new cn(qe.comparator);function Ca(){return QO}const Tw=new cn(qe.comparator);function nc(...n){let e=Tw;for(const t of n)e=e.insert(t.key,t);return e}function bw(n){let e=Tw;return n.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function oo(){return cc()}function Sw(){return cc()}function cc(){return new bo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XO=new cn(qe.comparator),WO=new Vn(qe.comparator);function bt(...n){let e=WO;for(const t of n)e=e.add(t);return e}const JO=new Vn(Tt);function ZO(){return JO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function Aw(n){return{integerValue:""+n}}function eM(n,e){return wO(e)?Aw(e):Wy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function tM(n,e,t){return n instanceof fd?(function(s,l){const c={fields:{[sw]:{stringValue:aw},[lw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Ky(l)&&(l=qd(l)),l&&(c.fields[ow]=l),{mapValue:c}})(t,e):n instanceof Ac?Cw(n,e):n instanceof wc?Rw(n,e):(function(s,l){const c=ww(s,l),d=N0(c)+N0(s.Ae);return iy(c)&&iy(s.Ae)?Aw(d):Wy(s.serializer,d)})(n,e)}function nM(n,e,t){return n instanceof Ac?Cw(n,e):n instanceof wc?Rw(n,e):t}function ww(n,e){return n instanceof dd?(function(a){return iy(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class fd extends Yd{}class Ac extends Yd{constructor(e){super(),this.elements=e}}function Cw(n,e){const t=Iw(e);for(const a of n.elements)t.some((s=>Ki(s,a)))||t.push(a);return{arrayValue:{values:t}}}class wc extends Yd{constructor(e){super(),this.elements=e}}function Rw(n,e){let t=Iw(e);for(const a of n.elements)t=t.filter((s=>!Ki(s,a)));return{arrayValue:{values:t}}}class dd extends Yd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function N0(n){return En(n.integerValue||n.doubleValue)}function Iw(n){return Yy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function rM(n,e){return n.field.isEqual(e.field)&&(function(a,s){return a instanceof Ac&&s instanceof Ac||a instanceof wc&&s instanceof wc?Vl(a.elements,s.elements,Ki):a instanceof dd&&s instanceof dd?Ki(a.Ae,s.Ae):a instanceof fd&&s instanceof fd})(n.transform,e.transform)}class iM{constructor(e,t){this.version=e,this.transformResults=t}}class zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qd{}function Nw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,zr.none()):new zc(n.key,n.data,zr.none());{const t=n.data,a=Sr.empty();let s=new Vn(Qn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),s=s.add(l)}return new Os(n.key,a,new Lr(s.toArray()),zr.none())}}function aM(n,e,t){n instanceof zc?(function(s,l,c){const d=s.value.clone(),m=D0(s.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Os?(function(s,l,c){if(!zf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=D0(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(xw(s)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function hc(n,e,t,a){return n instanceof zc?(function(l,c,d,m){if(!zf(l.precondition,c))return d;const g=l.value.clone(),y=O0(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,a):n instanceof Os?(function(l,c,d,m){if(!zf(l.precondition,c))return d;const g=O0(l.fieldTransforms,m,c),y=c.data;return y.setAll(xw(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,a):(function(l,c,d){return zf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function sM(n,e){let t=null;for(const a of n.fieldTransforms){const s=e.data.field(a.field),l=ww(a.transform,s||null);l!=null&&(t===null&&(t=Sr.empty()),t.set(a.field,l))}return t||null}function x0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&Vl(a,s,((l,c)=>rM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zc extends Qd{constructor(e,t,a,s=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Os extends Qd{constructor(e,t,a,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}})),e}function D0(n,e,t){const a=new Map;Mt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);a.set(l.field,nM(c,d,t[s]))}return a}function O0(n,e,t){const a=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);a.set(s.field,tM(l,c,e))}return a}class Jy extends Qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends Qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t,a,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&aM(l,e,a[s])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=hc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=hc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Sw();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const m=Nw(c,d);m!==null&&a.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Ze.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),bt())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,((t,a)=>x0(t,a)))&&Vl(this.baseMutations,e.baseMutations,((t,a)=>x0(t,a)))}}class Zy{constructor(e,t,a,s){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=s}static from(e,t,a){Mt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let s=(function(){return XO})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,a[c].version);return new Zy(e,t,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,At;function hM(n){switch(n){case de.OK:return Ye(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ye(15467,{code:n})}}function Dw(n){if(n===void 0)return wa("GRPC error has no .code"),de.UNKNOWN;switch(n){case In.OK:return de.OK;case In.CANCELLED:return de.CANCELLED;case In.UNKNOWN:return de.UNKNOWN;case In.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case In.INTERNAL:return de.INTERNAL;case In.UNAVAILABLE:return de.UNAVAILABLE;case In.UNAUTHENTICATED:return de.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case In.NOT_FOUND:return de.NOT_FOUND;case In.ALREADY_EXISTS:return de.ALREADY_EXISTS;case In.PERMISSION_DENIED:return de.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case In.ABORTED:return de.ABORTED;case In.OUT_OF_RANGE:return de.OUT_OF_RANGE;case In.UNIMPLEMENTED:return de.UNIMPLEMENTED;case In.DATA_LOSS:return de.DATA_LOSS;default:return Ye(39323,{code:n})}}(At=In||(In={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Ts([4294967295,4294967295],0);function M0(n){const e=fM().encode(n),t=new $A;return t.update(e),new Uint8Array(t.digest())}function P0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ts([t,a],0),new Ts([s,l],0)]}class e_{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new rc(`Invalid padding: ${t}`);if(a<0)throw new rc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new rc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ts.fromNumber(this.ge)}ye(e,t,a){let s=e.add(t.multiply(Ts.fromNumber(a)));return s.compare(dM)===1&&(s=new Ts([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=M0(e),[a,s]=P0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);if(!this.we(c))return!1}return!0}static create(e,t,a){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new e_(l,s,t);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=M0(e),[a,s]=P0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);this.be(c)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,a,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Xd(Ze.min(),s,new cn(Tt),Ca(),bt())}}class Bc{constructor(e,t,a,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Bc(a,t,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t,a,s){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=s}}class Ow{constructor(e,t){this.targetId=e,this.Ce=t}}class Mw{constructor(e,t,a=Xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=s}}class V0{constructor(){this.ve=0,this.Fe=k0(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),t=bt(),a=bt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:a=a.add(s);break;default:Ye(38017,{changeType:l})}})),new Bc(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=k0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ca(),this.He=wf(),this.Je=wf(),this.Ze=new cn(Tt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,a=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(sy(l))if(a===0){const c=new qe(l.path);this.et(t,c,ir.newNoDocument(c,Ze.min()))}else Mt(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=Cs(a).toUint8Array()}catch(m){if(m instanceof iw)return Pl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new e_(c,s,l)}catch(m){return Pl(m instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let s=0;return a.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&sy(d.target)){const m=new qe(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ir.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let a=bt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new Xd(e,t,this.Ze,this.je,a);return this.je=Ca(),this.He=wf(),this.Je=wf(),this.Ze=new cn(Tt),s}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new V0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Vn(Tt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Vn(Tt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wf(){return new cn(qe.comparator)}function k0(){return new cn(qe.comparator)}const pM={asc:"ASCENDING",desc:"DESCENDING"},gM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yM={and:"AND",or:"OR"};class _M{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function uy(n,e){return n.useProto3Json||Fd(e)?e:{value:e}}function md(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vM(n,e){return md(n,e.toTimestamp())}function Fi(n){return Mt(!!n,49232),Ze.fromTimestamp((function(t){const a=ws(t);return new Zt(a.seconds,a.nanos)})(n))}function t_(n,e){return cy(n,e).canonicalString()}function cy(n,e){const t=(function(s){return new Qt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Vw(n){const e=Qt.fromString(n);return Mt(zw(e),10190,{key:e.toString()}),e}function hy(n,e){return t_(n.databaseId,e.path)}function Og(n,e){const t=Vw(e);if(t.get(1)!==n.databaseId.projectId)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(Lw(t))}function kw(n,e){return t_(n.databaseId,e)}function EM(n){const e=Vw(n);return e.length===4?Qt.emptyPath():Lw(e)}function fy(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lw(n){return Mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function L0(n,e,t){return{name:hy(n,e),fields:t.value.mapValue.fields}}function TM(n,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Mt(y===void 0||typeof y=="string",58123),Xn.fromBase64String(y||"")):(Mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Xn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?de.UNKNOWN:Dw(g.code);return new De(y,g.message||"")})(c);t=new Mw(a,s,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=Og(n,a.document.name),l=Fi(a.document.updateTime),c=a.document.createTime?Fi(a.document.createTime):Ze.min(),d=new Sr({mapValue:{fields:a.document.fields}}),m=ir.newFoundDocument(s,l,c,d),g=a.targetIds||[],y=a.removedTargetIds||[];t=new Bf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=Og(n,a.document),l=a.readTime?Fi(a.readTime):Ze.min(),c=ir.newNoDocument(s,l),d=a.removedTargetIds||[];t=new Bf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=Og(n,a.document),l=a.removedTargetIds||[];t=new Bf([],l,s,null)}else{if(!("filter"in e))return Ye(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:l}=a,c=new cM(s,l),d=a.targetId;t=new Ow(d,c)}}return t}function bM(n,e){let t;if(e instanceof zc)t={update:L0(n,e.key,e.value)};else if(e instanceof Jy)t={delete:hy(n,e.key)};else if(e instanceof Os)t={update:L0(n,e.key,e.data),updateMask:DM(e.fieldMask)};else{if(!(e instanceof oM))return Ye(16599,{dt:e.type});t={verify:hy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof fd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dd)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ye(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:vM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ye(27497)})(n,e.precondition)),t}function SM(n,e){return n&&n.length>0?(Mt(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Fi(s.updateTime):Fi(l);return c.isEqual(Ze.min())&&(c=Fi(l)),new iM(c,s.transformResults||[])})(t,e)))):[]}function AM(n,e){return{documents:[kw(n,e.path)]}}function wM(n,e){const t={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=kw(n,s);const l=(function(g){if(g.length!==0)return Uw(Si.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(S){return{field:yl(S.field),direction:IM(S.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=uy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function CM(n){let e=EM(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let s=null;if(a>0){Mt(a===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(E){const S=jw(E);return S instanceof Si&&mw(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((S=>(function(O){return new hd(_l(O.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let S;return S=typeof E=="object"?E.value:E,Fd(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(E){const S=!!E.before,w=E.values||[];return new cd(w,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const S=!E.before,w=E.values||[];return new cd(w,S)})(t.endAt)),qO(e,s,c,l,d,"F",m,g)}function RM(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=_l(t.unaryFilter.field);return xn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=_l(t.unaryFilter.field);return xn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_l(t.unaryFilter.field);return xn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_l(t.unaryFilter.field);return xn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return xn.create(_l(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Si.create(t.compositeFilter.filters.map((a=>jw(a))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(t.compositeFilter.op))})(n):Ye(30097,{filter:n})}function IM(n){return pM[n]}function NM(n){return gM[n]}function xM(n){return yM[n]}function yl(n){return{fieldPath:n.canonicalString()}}function _l(n){return Qn.fromServerFormat(n.fieldPath)}function Uw(n){return n instanceof xn?(function(t){if(t.op==="=="){if(A0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NAN"}};if(S0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(A0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NAN"}};if(S0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(t.field),op:NM(t.op),value:t.value}}})(n):n instanceof Si?(function(t){const a=t.getFilters().map((s=>Uw(s)));return a.length===1?a[0]:{compositeFilter:{op:xM(t.op),filters:a}}})(n):Ye(54877,{filter:n})}function DM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Bw(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,a,s,l=Ze.min(),c=Ze.min(),d=Xn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.yt=e}}function MM(n){const e=CM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ly(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.Sn=new VM}addToCollectionParentIndex(e,t){return this.Sn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(As.min())}updateCollectionGroup(e,t,a){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class VM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t]||new Vn(Qt.comparator),l=!s.has(a);return this.index[t]=s.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t];return s&&s.has(a)}getEntries(e){return(this.index[e]||new Vn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hw=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(Hw,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new jl(0)}static ar(){return new jl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",kM=1048576;function z0([n,e],[t,a]){const s=Tt(n,t);return s===0?Tt(e,a):s}class LM{constructor(e){this.Pr=e,this.buffer=new Vn(z0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();z0(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe(U0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xl(t)?Pe(U0,"Ignoring IndexedDB error during garbage collection: ",t):await Ql(t)}await this.Ar(3e5)}))}}class UM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(Hd.ce);const a=new LM(t);return this.Vr.forEachTarget(e,(s=>a.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>a.Er(s))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(j0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,s,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(a=E,d=Date.now(),this.removeTargets(e,a,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),pl()<=Et.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E}))))}}function zM(n,e){return new UM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.changes=new bo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ye.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t,a,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(a=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(a!==null&&hc(a.mutation,s,Lr.empty(),Zt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,bt()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=bt()){const s=oo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,a).next((l=>{let c=nc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=oo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,bt())))}populateOverlays(e,t,a){const s=[];return a.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,a,s){let l=Ca();const c=cc(),d=(function(){return cc()})();return t.forEach(((m,g)=>{const y=a.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof Os)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),hc(y.mutation,g,y.mutation.getFieldMask(),Zt.now())):c.set(g.key,Lr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>c.set(g,y))),t.forEach(((g,y)=>d.set(g,new HM(y,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const a=cc();let s=new cn(((c,d)=>c-d)),l=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let y=a.get(m)||Lr.empty();y=d.applyToLocalView(g,y),a.set(m,y);const E=(s.get(d.batchId)||bt()).add(m);s=s.insert(d.batchId,E)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,E=Sw();y.forEach((S=>{if(!l.has(S)){const w=Nw(t.get(S),a.get(S));w!==null&&E.set(S,w),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ye.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,s){return GO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_w(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,s):this.getDocumentsMatchingCollectionQuery(e,t,a,s)}getNextDocuments(e,t,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,s-l.size):ye.resolve(oo());let d=Ec,m=l;return c.next((g=>ye.forEach(g,((y,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(y)?ye.resolve():this.remoteDocumentCache.getEntry(e,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,bt()))).next((y=>({batchId:d,changes:bw(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next((a=>{let s=nc();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,s){const l=t.collectionGroup;let c=nc();return this.indexManager.getCollectionParents(e,l).next((d=>ye.forEach(d,(m=>{const g=(function(E,S){return new Uc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next((y=>{y.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,s)))).next((c=>{l.forEach(((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,ir.newInvalidDocument(y)))}));let d=nc();return c.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&hc(y.mutation,g,Lr.empty(),Zt.now()),Kd(t,g)&&(d=d.insert(m,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ye.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Fi(s.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:MM(s.bundledQuery),readTime:Fi(s.readTime)}})(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.overlays=new cn(qe.comparator),this.Lr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const a=oo();return ye.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&a.set(s,l)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((s,l)=>{this.bt(e,t,l)})),ye.resolve()}removeOverlaysForBatchId(e,t,a){const s=this.Lr.get(a);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(a)),ye.resolve()}getOverlaysForCollection(e,t,a){const s=oo(),l=t.length+1,c=new qe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>a&&s.set(m.getKey(),m)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,t,a,s){let l=new cn(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let y=l.get(g.largestBatchId);y===null&&(y=oo(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=oo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=s)););return ye.resolve(d)}bt(e,t,a){const s=this.overlays.get(a.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(a.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new uM(t,a));let l=this.Lr.get(t);l===void 0&&(l=bt(),this.Lr.set(t,l)),this.Lr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.kr=new Vn(zn.Kr),this.qr=new Vn(zn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new zn(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new zn(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new qe(new Qt([])),a=new zn(t,e),s=new zn(t,e+1),l=[];return this.qr.forEachInRange([a,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new qe(new Qt([])),a=new zn(t,e),s=new zn(t,e+1);let l=bt();return this.qr.forEachInRange([a,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new zn(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class zn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return qe.comparator(e.key,t.key)||Tt(e.Hr,t.Hr)}static Ur(e,t){return Tt(e.Hr,t.Hr)||qe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Vn(zn.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lM(l,t,a,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new zn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,s=this.Xr(a),l=s<0?0:s;return ye.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?$y:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new zn(t,0),s=new zn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([a,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ye.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Vn(Tt);return t.forEach((s=>{const l=new zn(s,0),c=new zn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{a=a.add(d.Hr)}))})),ye.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,s=a.length+1;let l=a;qe.isDocumentKey(l)||(l=l.child(""));const c=new zn(new qe(l),0);let d=new Vn(Tt);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(d=d.add(m.Hr)),!0)}),c),ye.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((a=>{const s=this.Zr(a);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Mt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ye.forEach(t.mutations,(s=>{const l=new zn(s.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new zn(t,0),s=this.Jr.firstAfterOrEqual(a);return ye.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.ti=e,this.docs=(function(){return new cn(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,s=this.docs.get(a),l=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ye.resolve(a?a.document.mutableCopy():ir.newInvalidDocument(t))}getEntries(e,t){let a=Ca();return t.forEach((s=>{const l=this.docs.get(s);a=a.insert(s,l?l.document.mutableCopy():ir.newInvalidDocument(s))})),ye.resolve(a)}getDocumentsMatchingQuery(e,t,a,s){let l=Ca();const c=t.path,d=new qe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||TO(EO(y),a)<=0||(s.has(y.key)||Kd(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ye.resolve(l)}getAllFromCollectionGroup(e,t,a,s){Ye(9500)}ni(e,t){return ye.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new QM(this)}getSize(e){return ye.resolve(this.size)}}class QM extends BM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(a)})),ye.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.persistence=e,this.ri=new bo((t=>Qy(t)),Xy),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.ii=0,this.si=new n_,this.targetCount=0,this.oi=jl._r()}forEachTarget(e,t){return this.ri.forEach(((a,s)=>t(s))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),ye.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new jl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.lr(t),ye.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,a){let s=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ye.waitFor(l).next((()=>s))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return ye.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),ye.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),ye.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return ye.resolve(a)}containsKey(e,t){return ye.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this._i={},this.overlays={},this.ai=new Hd(0),this.ui=!1,this.ui=!0,this.ci=new $M,this.referenceDelegate=e(this),this.li=new XM(this),this.indexManager=new PM,this.remoteDocumentCache=(function(s){return new YM(s)})((a=>this.referenceDelegate.hi(a))),this.serializer=new OM(t),this.Pi=new qM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new KM(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){Pe("MemoryPersistence","Starting transaction:",e);const s=new WM(this.ai.next());return this.referenceDelegate.Ti(),a(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(e,t){return ye.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class WM extends SO{constructor(e){super(),this.currentSequenceNumber=e}}class r_{constructor(e){this.persistence=e,this.Ri=new n_,this.Ai=null}static Vi(e){return new r_(e)}get di(){if(this.Ai)return this.Ai;throw Ye(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),ye.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(a=>{const s=qe.fromPath(a);return this.mi(e,s).next((l=>{l||t.removeEntry(s,Ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class pd{constructor(e,t){this.persistence=e,this.fi=new bo((a=>CO(a.path)),((a,s)=>a.isEqual(s))),this.garbageCollector=zM(this,t)}static Vi(e,t){return new pd(e,t)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((s=>a+s))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return ye.forEach(this.fi,((a,s)=>this.wr(e,a,s).next((l=>l?ye.resolve():t(s)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(a++,l.removeEntry(c,Ze.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jf(e.data.value)),t}wr(e,t,a){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return ye.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,a,s){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=s}static Es(e,t){let a=bt(),s=bt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new i_(e,t.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return FD()?8:AO(ar())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,s){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,s,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new JM;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,a,s){return a.documentReadCount<this.Vs?(pl()<=Et.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",gl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(pl()<=Et.DEBUG&&Pe("QueryEngine","Query:",gl(t),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ds*s?(pl()<=Et.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",gl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):ye.resolve())}gs(e,t){if(I0(t))return ye.resolve(null);let a=Hi(t);return this.indexManager.getIndexType(e,a).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=ly(t,null,"F"),a=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=bt(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((m=>{const g=this.bs(t,d);return this.Ss(t,g,c,m.readTime)?this.gs(e,ly(t,null,"F")):this.Ds(e,g,t,m)}))))})))))}ps(e,t,a,s){return I0(t)||s.isEqual(Ze.min())?ye.resolve(null):this.fs.getDocuments(e,a).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,a,s)?ye.resolve(null):(pl()<=Et.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gl(t)),this.Ds(e,c,t,vO(s,Ec)).next((d=>d)))}))}bs(e,t){let a=new Vn(Ew(e));return t.forEach(((s,l)=>{Kd(e,l)&&(a=a.add(l))})),a}Ss(e,t,a,s){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(e,t,a){return pl()<=Et.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",gl(t)),this.fs.getDocumentsMatchingQuery(e,t,As.min(),a)}Ds(e,t,a,s){return this.fs.getDocumentsMatchingQuery(e,a,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LocalStore",eP=3e8;class tP{constructor(e,t,a,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new cn(Tt),this.Fs=new bo((l=>Qy(l)),Xy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function nP(n,e,t,a){return new tP(n,e,t,a)}async function qw(n,e){const t=tt(n);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let s;return t.mutationQueue.getAllMutationBatches(a).next((l=>(s=l,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let m=bt();for(const g of s){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(a,m).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function rP(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const s=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,y){const E=g.batch,S=E.keys();let w=ye.resolve();return S.forEach((O=>{w=w.next((()=>y.getEntry(m,O))).next((F=>{const k=g.docVersions.get(O);Mt(k!==null,48541),F.version.compareTo(k)<0&&(E.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),y.addEntry(F)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(m,E)))})(t,a,e,l).next((()=>l.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let m=bt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(a,s)))}))}function Gw(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function iP(n,e){const t=tt(n),a=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((y,E)=>{const S=s.get(E);if(!S)return;d.push(t.li.removeMatchingKeys(l,y.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,E))));let w=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?w=w.withResumeToken(Xn.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,a)),s=s.insert(E,w),(function(F,k,K){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=eP?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,w,y)&&d.push(t.li.updateTargetData(l,w))}));let m=Ca(),g=bt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(aP(l,c,e.documentUpdates).next((y=>{m=y.Bs,g=y.Ls}))),!a.isEqual(Ze.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(y)}return ye.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.vs=s,l)))}function aP(n,e,t){let a=bt(),s=bt();return t.forEach((l=>a=a.add(l))),e.getEntries(n,a).next((l=>{let c=Ca();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Ze.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):Pe(a_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{Bs:c,Ls:s}}))}function sP(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=$y),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function oP(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let s;return t.li.getTargetData(a,e).next((l=>l?(s=l,ye.resolve(s)):t.li.allocateTargetId(a).next((c=>(s=new gs(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,s).next((()=>s)))))))})).then((a=>{const s=t.vs.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function dy(n,e,t){const a=tt(n),s=a.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Xl(c))throw c;Pe(a_,`Failed to update sequence numbers for target ${e}: ${c}`)}a.vs=a.vs.remove(e),a.Fs.delete(s.target)}function B0(n,e,t){const a=tt(n);let s=Ze.min(),l=bt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,y){const E=tt(m),S=E.Fs.get(y);return S!==void 0?ye.resolve(E.vs.get(S)):E.li.getTargetData(g,y)})(a,c,Hi(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>a.Cs.getDocumentsMatchingQuery(c,e,t?s:Ze.min(),t?l:bt()))).next((d=>(lP(a,KO(e),d),{documents:d,ks:l})))))}function lP(n,e,t){let a=n.Ms.get(e)||Ze.min();t.forEach(((s,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),n.Ms.set(e,a)}class H0{constructor(){this.activeTargetIds=ZO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uP{constructor(){this.vo=new H0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new H0,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class q0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(F0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf=null;function my(){return Cf===null?Cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cf++,"0x"+Cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="RestConnection",hP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${s}`,this.$o=this.databaseId.database===ld?`project_id=${a}`:`project_id=${a}&database_id=${s}`}Wo(e,t,a,s,l){const c=my(),d=this.Qo(e,t.toUriEncodedString());Pe(Mg,`Sending RPC '${e}' ${c}:`,d,a);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,s,l);const{host:g}=new URL(d),y=$l(g);return this.zo(e,d,m,a,y).then((E=>(Pe(Mg,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Pl(Mg,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",a),E}))}jo(e,t,a,s,l,c){return this.Wo(e,t,a,s,l)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),a&&a.headers.forEach(((s,l)=>e[l]=s))}Qo(e,t){const a=hP[e];let s=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection",Ju=(n,e,t)=>{n.listen(e,(a=>{try{t(a)}catch(s){setTimeout((()=>{throw s}),0)}}))};class wl extends fP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wl.c_){const e=XA();Ju(e,QA.STAT_EVENT,(t=>{t.stat===ty.PROXY?Pe(tr,"STAT_EVENT: detected buffering proxy"):t.stat===ty.NOPROXY&&Pe(tr,"STAT_EVENT: detected no buffering proxy")})),wl.c_=!0}}zo(e,t,a,s,l){const c=my();return new Promise(((d,m)=>{const g=new KA;g.setWithCredentials(!0),g.listenOnce(YA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lf.NO_ERROR:const E=g.getResponseJson();Pe(tr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Lf.TIMEOUT:Pe(tr,`RPC '${e}' ${c} timed out`),m(new De(de.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const S=g.getStatus();if(Pe(tr,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const F=(function(K){const B=K.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(B)>=0?B:de.UNKNOWN})(O.status);m(new De(F,O.message))}else m(new De(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new De(de.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Pe(tr,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);Pe(tr,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",y,a,15)}))}T_(e,t,a){const s=my(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,a),d.encodeInitMessageHeaders=!0;const g=l.join("");Pe(tr,`Creating RPC '${e}' stream ${s}: ${g}`,d);const y=c.createWebChannel(g,d);this.I_(y);let E=!1,S=!1;const w=new dP({Ho:O=>{S?Pe(tr,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(E||(Pe(tr,`Opening RPC '${e}' stream ${s} transport.`),y.open(),E=!0),Pe(tr,`RPC '${e}' stream ${s} sending:`,O),y.send(O))},Jo:()=>y.close()});return Ju(y,tc.EventType.OPEN,(()=>{S||(Pe(tr,`RPC '${e}' stream ${s} transport opened.`),w.i_())})),Ju(y,tc.EventType.CLOSE,(()=>{S||(S=!0,Pe(tr,`RPC '${e}' stream ${s} transport closed`),w.o_(),this.E_(y))})),Ju(y,tc.EventType.ERROR,(O=>{S||(S=!0,Pl(tr,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),w.o_(new De(de.UNAVAILABLE,"The operation could not be completed")))})),Ju(y,tc.EventType.MESSAGE,(O=>{var F;if(!S){const k=O.data[0];Mt(!!k,16349);const K=k,B=(K==null?void 0:K.error)||((F=K[0])==null?void 0:F.error);if(B){Pe(tr,`RPC '${e}' stream ${s} received error:`,B);const Q=B.status;let se=(function(A){const C=In[A];if(C!==void 0)return Dw(C)})(Q),ue=B.message;se===void 0&&(se=de.INTERNAL,ue="Unknown error status: "+Q+" with message "+B.message),S=!0,w.o_(new De(se,ue)),y.close()}else Pe(tr,`RPC '${e}' stream ${s} received:`,k),w.__(k)}})),wl.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return WA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n){return new wl(n)}function Pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n){return new _M(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wl.c_=!1;class $w{constructor(e,t,a=1e3,s=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-a);s>0&&Pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class Kw{constructor(e,t,a,s,l,c,d,m){this.Ci=e,this.b_=a,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $w(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(wa(t.toString()),wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,s])=>{this.D_===t&&this.G_(a,s)}),(a=>{e((()=>{const s=new De(de.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(s)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{a((()=>this.z_(s)))})),this.stream.onMessage((s=>{a((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Pe(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pP extends Kw{constructor(e,t,a,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=TM(this.serializer,e),a=(function(l){if(!("targetChange"in l))return Ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ze.min():c.readTime?Fi(c.readTime):Ze.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=fy(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=sy(m)?{documents:AM(l,m)}:{query:wM(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Pw(l,c.resumeToken);const g=uy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ze.min())>0){d.readTime=md(l,c.snapshotVersion.toTimestamp());const g=uy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=RM(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=fy(this.serializer),t.removeTarget=e,this.K_(t)}}class gP extends Kw{constructor(e,t,a,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=SM(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=fy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>bM(this.serializer,a)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{}class _P extends yP{constructor(e,t,a,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,cy(t,a),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(de.UNKNOWN,l.toString())}))}jo(e,t,a,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,cy(t,a),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new De(de.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vP(n,e,t,a){return new _P(n,e,t,a)}class EP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wa(t),this.aa=!1):Pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class TP{constructor(e,t,a,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{a.enqueueAndForget((async()=>{So(this)&&(Pe(yo,"Restarting streams for network reachability change."),await(async function(m){const g=tt(m);g.Ea.add(4),await Hc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Jd(g)})(this))}))})),this.Va=new EP(a,s)}}async function Jd(n){if(So(n))for(const e of n.Ra)await e(!0)}async function Hc(n){for(const e of n.Ra)await e(!1)}function Yw(n,e){const t=tt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),u_(t)?l_(t):Wl(t).O_()&&o_(t,e))}function s_(n,e){const t=tt(n),a=Wl(t);t.Ia.delete(e),a.O_()&&Qw(t,e),t.Ia.size===0&&(a.O_()?a.L_():So(t)&&t.Va.set("Unknown"))}function o_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wl(n).Z_(e)}function Qw(n,e){n.da.$e(e),Wl(n).X_(e)}function l_(n){n.da=new mM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Wl(n).start(),n.Va.ua()}function u_(n){return So(n)&&!Wl(n).x_()&&n.Ia.size>0}function So(n){return tt(n).Ea.size===0}function Xw(n){n.da=void 0}async function bP(n){n.Va.set("Online")}async function SP(n){n.Ia.forEach(((e,t)=>{o_(n,e)}))}async function AP(n,e){Xw(n),u_(n)?(n.Va.ha(e),l_(n)):n.Va.set("Unknown")}async function wP(n,e,t){if(n.Va.set("Online"),e instanceof Mw&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(a){Pe(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gd(n,a)}else if(e instanceof Bf?n.da.Xe(e):e instanceof Ow?n.da.st(e):n.da.tt(e),!t.isEqual(Ze.min()))try{const a=await Gw(n.localStore);t.compareTo(a)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Xn.EMPTY_BYTE_STRING,y.snapshotVersion)),Qw(l,m);const E=new gs(y.target,m,g,y.sequenceNumber);o_(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(a){Pe(yo,"Failed to raise snapshot:",a),await gd(n,a)}}async function gd(n,e,t){if(!Xl(e))throw e;n.Ea.add(1),await Hc(n),n.Va.set("Offline"),t||(t=()=>Gw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Pe(yo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Jd(n)}))}function Ww(n,e){return e().catch((t=>gd(n,t,e)))}async function Zd(n){const e=tt(n),t=Is(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$y;for(;CP(e);)try{const s=await sP(e.localStore,a);if(s===null){e.Ta.length===0&&t.L_();break}a=s.batchId,RP(e,s)}catch(s){await gd(e,s)}Jw(e)&&Zw(e)}function CP(n){return So(n)&&n.Ta.length<10}function RP(n,e){n.Ta.push(e);const t=Is(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Jw(n){return So(n)&&!Is(n).x_()&&n.Ta.length>0}function Zw(n){Is(n).start()}async function IP(n){Is(n).ra()}async function NP(n){const e=Is(n);for(const t of n.Ta)e.ea(t.mutations)}async function xP(n,e,t){const a=n.Ta.shift(),s=Zy.from(a,e,t);await Ww(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Zd(n)}async function DP(n,e){e&&Is(n).Y_&&await(async function(a,s){if((function(c){return hM(c)&&c!==de.ABORTED})(s.code)){const l=a.Ta.shift();Is(a).B_(),await Ww(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Zd(a)}})(n,e),Jw(n)&&Zw(n)}async function $0(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Pe(yo,"RemoteStore received new credentials");const a=So(t);t.Ea.add(3),await Hc(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Jd(t)}async function OP(n,e){const t=tt(n);e?(t.Ea.delete(2),await Jd(t)):e||(t.Ea.add(2),await Hc(t),t.Va.set("Unknown"))}function Wl(n){return n.ma||(n.ma=(function(t,a,s){const l=tt(t);return l.sa(),new pP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:bP.bind(null,n),Yo:SP.bind(null,n),t_:AP.bind(null,n),J_:wP.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),u_(n)?l_(n):n.Va.set("Unknown")):(await n.ma.stop(),Xw(n))}))),n.ma}function Is(n){return n.fa||(n.fa=(function(t,a,s){const l=tt(t);return l.sa(),new gP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:IP.bind(null,n),t_:DP.bind(null,n),ta:NP.bind(null,n),na:xP.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Zd(n)):(await n.fa.stop(),n.Ta.length>0&&(Pe(yo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,a,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=s,this.removalCallback=l,this.deferred=new Ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,s,l){const c=Date.now()+a,d=new c_(e,t,c,s,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(n,e){if(wa("AsyncQueue",`${e}: ${n}`),Xl(n))return new De(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||qe.comparator(t.key,a.key):(t,a)=>qe.comparator(t.key,a.key),this.keyedMap=nc(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.ga=new cn(qe.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ye(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Ul{constructor(e,t,a,s,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,s,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Ul(e,t,Cl.emptySet(t),c,a,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==a[s].type||!t[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class PP{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const s=tt(t),l=s.queries;s.queries=Y0(),l.forEach(((c,d)=>{for(const m of d.ba)m.onError(a)}))})(this,new De(de.ABORTED,"Firestore shutting down"))}}function Y0(){return new bo((n=>vw(n)),$d)}async function f_(n,e){const t=tt(n);let a=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.Da()&&(a=2):(l=new MP,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=h_(c,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&m_(t)}async function d_(n,e){const t=tt(n),a=e.query;let s=3;const l=t.queries.get(a);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=e.Da()?0:1:!l.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function VP(n,e){const t=tt(n);let a=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(s)&&(a=!0);c.wa=s}}a&&m_(t)}function kP(n,e,t){const a=tt(n),s=a.queries.get(e);if(s)for(const l of s.ba)l.onError(t);a.queries.delete(e)}function m_(n){n.Ca.forEach((e=>{e.next()}))}var py,Q0;(Q0=py||(py={})).Ma="default",Q0.Cache="cache";class p_{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new Ul(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.key=e}}class t1{constructor(e){this.key=e}}class LP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=bt(),this.mutatedKeys=bt(),this.eu=Ew(e),this.tu=new Cl(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new K0,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,E)=>{const S=s.get(y),w=Kd(this.query,E)?E:null,O=!!S&&this.mutatedKeys.has(S.key),F=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;S&&w?S.data.isEqual(w.data)?O!==F&&(a.track({type:3,doc:w}),k=!0):this.su(S,w)||(a.track({type:2,doc:w}),k=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(d=!0)):!S&&w?(a.track({type:0,doc:w}),k=!0):S&&!w&&(a.track({type:1,doc:S}),k=!0,(m||g)&&(d=!0)),k&&(w?(c=c.add(w),l=F?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),a.track({type:1,doc:y})}return{tu:c,iu:a,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,E)=>(function(w,O){const F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Vt:k})}};return F(w)-F(O)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(a),s=s??!1;const d=t&&!s?this._u():[],m=this.Ya.size===0&&this.current&&!s?1:0,g=m!==this.Xa;return this.Xa=m,c.length!==0||g?{snapshot:new Ul(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=bt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new t1(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new e1(a))})),t}cu(e){this.Za=e.ks,this.Ya=bt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const g_="SyncEngine";class jP{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class UP{constructor(e){this.key=e,this.hu=!1}}class zP{constructor(e,t,a,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new bo((d=>vw(d)),$d),this.Iu=new Map,this.Eu=new Set,this.Ru=new cn(qe.comparator),this.Au=new Map,this.Vu=new n_,this.du={},this.mu=new Map,this.fu=jl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BP(n,e,t=!0){const a=o1(n);let s;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await n1(a,e,t,!0),s}async function HP(n,e){const t=o1(n);await n1(t,e,!0,!1)}async function n1(n,e,t,a){const s=await oP(n.localStore,Hi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await FP(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Yw(n.remoteStore,s),d}async function FP(n,e,t,a,s){n.pu=(E,S,w)=>(async function(F,k,K,B){let Q=k.view.ru(K);Q.Ss&&(Q=await B0(F.localStore,k.query,!1).then((({documents:A})=>k.view.ru(A,Q))));const se=B&&B.targetChanges.get(k.targetId),ue=B&&B.targetMismatches.get(k.targetId)!=null,Z=k.view.applyChanges(Q,F.isPrimaryClient,se,ue);return W0(F,k.targetId,Z.au),Z.snapshot})(n,E,S,w);const l=await B0(n.localStore,e,!0),c=new LP(e,l.ks),d=c.ru(l.documents),m=Bc.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,m);W0(n,t,g.au);const y=new jP(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function qP(n,e,t){const a=tt(n),s=a.Tu.get(e),l=a.Iu.get(s.targetId);if(l.length>1)return a.Iu.set(s.targetId,l.filter((c=>!$d(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await dy(a.localStore,s.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(s.targetId),t&&s_(a.remoteStore,s.targetId),gy(a,s.targetId)})).catch(Ql)):(gy(a,s.targetId),await dy(a.localStore,s.targetId,!0))}async function GP(n,e){const t=tt(n),a=t.Tu.get(e),s=t.Iu.get(a.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),s_(t.remoteStore,a.targetId))}async function $P(n,e,t){const a=ZP(n);try{const s=await(function(c,d){const m=tt(c),g=Zt.now(),y=d.reduce(((w,O)=>w.add(O.key)),bt());let E,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let O=Ca(),F=bt();return m.xs.getEntries(w,y).next((k=>{O=k,O.forEach(((K,B)=>{B.isValidDocument()||(F=F.add(K))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,O))).next((k=>{E=k;const K=[];for(const B of d){const Q=sM(B,E.get(B.key).overlayedDocument);Q!=null&&K.push(new Os(B.key,Q,hw(Q.value.mapValue),zr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,K,d)})).next((k=>{S=k;const K=k.applyToLocalDocumentSet(E,F);return m.documentOverlayCache.saveOverlays(w,k.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:bw(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),(function(c,d,m){let g=c.du[c.currentUser.toKey()];g||(g=new cn(Tt)),g=g.insert(d,m),c.du[c.currentUser.toKey()]=g})(a,s.batchId,t),await Fc(a,s.changes),await Zd(a.remoteStore)}catch(s){const l=h_(s,"Failed to persist write");t.reject(l)}}async function r1(n,e){const t=tt(n);try{const a=await iP(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Au.get(l);c&&(Mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Mt(c.hu,14607):s.removedDocuments.size>0&&(Mt(c.hu,42227),c.hu=!1))})),await Fc(t,a,e)}catch(a){await Ql(a)}}function X0(n,e,t){const a=tt(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const s=[];a.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const m=tt(c);m.onlineState=d;let g=!1;m.queries.forEach(((y,E)=>{for(const S of E.ba)S.va(d)&&(g=!0)})),g&&m_(m)})(a.eventManager,e),s.length&&a.Pu.J_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function KP(n,e,t){const a=tt(n);a.sharedClientState.updateQueryState(e,"rejected",t);const s=a.Au.get(e),l=s&&s.key;if(l){let c=new cn(qe.comparator);c=c.insert(l,ir.newNoDocument(l,Ze.min()));const d=bt().add(l),m=new Xd(Ze.min(),new Map,new cn(Tt),c,d);await r1(a,m),a.Ru=a.Ru.remove(l),a.Au.delete(e),y_(a)}else await dy(a.localStore,e,!1).then((()=>gy(a,e,t))).catch(Ql)}async function YP(n,e){const t=tt(n),a=e.batch.batchId;try{const s=await rP(t.localStore,e);a1(t,a,null),i1(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Fc(t,s)}catch(s){await Ql(s)}}async function QP(n,e,t){const a=tt(n);try{const s=await(function(c,d){const m=tt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next((E=>(Mt(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(a.localStore,e);a1(a,e,t),i1(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Fc(a,s)}catch(s){await Ql(s)}}function i1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function a1(n,e,t){const a=tt(n);let s=a.du[a.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),a.du[a.currentUser.toKey()]=s}}function gy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Iu.get(e))n.Tu.delete(a),t&&n.Pu.yu(a,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((a=>{n.Vu.containsKey(a)||s1(n,a)}))}function s1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(s_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),y_(n))}function W0(n,e,t){for(const a of t)a instanceof e1?(n.Vu.addReference(a.key,e),XP(n,a)):a instanceof t1?(Pe(g_,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,e),n.Vu.containsKey(a.key)||s1(n,a.key)):Ye(19791,{wu:a})}function XP(n,e){const t=e.key,a=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(a)||(Pe(g_,"New document in limbo: "+t),n.Eu.add(a),y_(n))}function y_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new qe(Qt.fromString(e)),a=n.fu.next();n.Au.set(a,new UP(t)),n.Ru=n.Ru.insert(t,a),Yw(n.remoteStore,new gs(Hi(Gd(t.path)),a,"TargetPurposeLimboResolution",Hd.ce))}}async function Fc(n,e,t){const a=tt(n),s=[],l=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,m)=>{c.push(a.pu(m,e,t).then((g=>{var y;if((g||t)&&a.isPrimaryClient){const E=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:y.current;a.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){s.push(g);const E=i_.Es(m.targetId,g);l.push(E)}})))})),await Promise.all(c),a.Pu.J_(s),await(async function(m,g){const y=tt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ye.forEach(g,(S=>ye.forEach(S.Ts,(w=>y.persistence.referenceDelegate.addReference(E,S.targetId,w))).next((()=>ye.forEach(S.Is,(w=>y.persistence.referenceDelegate.removeReference(E,S.targetId,w)))))))))}catch(E){if(!Xl(E))throw E;Pe(a_,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const w=y.vs.get(S),O=w.snapshotVersion,F=w.withLastLimboFreeSnapshotVersion(O);y.vs=y.vs.insert(S,F)}}})(a.localStore,l))}async function WP(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Pe(g_,"User change. New user:",e.toKey());const a=await qw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new De(de.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Fc(t,a.Ns)}}function JP(n,e){const t=tt(n),a=t.Au.get(e);if(a&&a.hu)return bt().add(a.key);{let s=bt();const l=t.Iu.get(e);if(!l)return s;for(const c of l){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function o1(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KP.bind(null,e),e.Pu.J_=VP.bind(null,e.eventManager),e.Pu.yu=kP.bind(null,e.eventManager),e}function ZP(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QP.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nP(this.persistence,new ZM,e.initialUser,this.serializer)}Cu(e){return new Fw(r_.Vi,this.serializer)}Du(e){return new uP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class e4 extends yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mt(this.persistence.referenceDelegate instanceof pd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jM(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new Fw((a=>pd.Vi(a,t)),this.serializer)}}class yy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>X0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WP.bind(null,this.syncEngine),await OP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PP})()}createDatastore(e){const t=Wd(e.databaseInfo.databaseId),a=mP(e.databaseInfo);return vP(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,s,l,c,d){return new TP(a,s,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>X0(this.syncEngine,t,0)),(function(){return q0.v()?new q0:new cP})())}createSyncEngine(e,t){return(function(s,l,c,d,m,g,y){const E=new zP(s,l,c,d,m,g);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const l=tt(s);Pe(yo,"RemoteStore shutting down."),l.Ea.add(5),await Hc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class t4{constructor(e,t,a,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=s,this.user=rr.UNAUTHENTICATED,this.clientId=Gy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{Pe(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Pe(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=h_(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Vg(n,e){n.asyncQueue.verifyOperationInProgress(),Pe(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener((async s=>{a.isEqual(s)||(await qw(e.localStore,s),a=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function J0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await n4(n);Pe(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((a=>$0(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,s)=>$0(e.remoteStore,s))),n._onlineComponents=e}async function n4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe(Ns,"Using user provided OfflineComponentProvider");try{await Vg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Pl("Error using user provided cache. Falling back to memory cache: "+t),await Vg(n,new yd)}}else Pe(Ns,"Using default OfflineComponentProvider"),await Vg(n,new e4(void 0));return n._offlineComponents}async function l1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe(Ns,"Using user provided OnlineComponentProvider"),await J0(n,n._uninitializedComponentsProvider._online)):(Pe(Ns,"Using default OnlineComponentProvider"),await J0(n,new yy))),n._onlineComponents}function r4(n){return l1(n).then((e=>e.syncEngine))}async function _d(n){const e=await l1(n),t=e.eventManager;return t.onListen=BP.bind(null,e.syncEngine),t.onUnlisten=qP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GP.bind(null,e.syncEngine),t}function i4(n,e,t,a){const s=new __(a),l=new p_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>f_(await _d(n),l))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>d_(await _d(n),l)))}}function a4(n,e,t={}){const a=new Ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new __({next:S=>{y.Nu(),c.enqueueAndForget((()=>d_(l,E)));const w=S.docs.has(d);!w&&S.fromCache?g.reject(new De(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&m&&m.source==="server"?g.reject(new De(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new p_(Gd(d.path),y,{includeMetadataChanges:!0,Ka:!0});return f_(l,E)})(await _d(n),n.asyncQueue,e,t,a))),a.promise}function s4(n,e,t={}){const a=new Ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const y=new __({next:S=>{y.Nu(),c.enqueueAndForget((()=>d_(l,E))),S.fromCache&&m.source==="server"?g.reject(new De(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new p_(d,y,{includeMetadataChanges:!0,Ka:!0});return f_(l,E)})(await _d(n),n.asyncQueue,e,t,a))),a.promise}function o4(n,e){const t=new Ta;return n.asyncQueue.enqueueAndForget((async()=>$P(await r4(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="ComponentProvider",Z0=new Map;function u4(n,e,t,a,s){return new NO(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,u1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firestore.googleapis.com",eS=!0;class tS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c1,this.ssl=eS}else this.host=e.host,this.ssl=e.ssl??eS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kM)throw new De(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,s){return a.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,t,a,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new lO;switch(a.type){case"firstParty":return new fO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new De(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=Z0.get(t);a&&(Pe(l4,"Removing Datastore"),Z0.delete(t),a.terminate())})(this),Promise.resolve()}}function c4(n,e,t,a={}){var g;n=Ur(n,em);const s=$l(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(jA(`https://${d}`),UA("Firestore",!0)),l.host!==c1&&l.host!==d&&Pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:s,emulatorOptions:a};if(!mo(m,c)&&(n._setSettings(m),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=rr.MOCK_USER;else{y=PD(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new De(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rr(S)}n._authCredentials=new uO(new ZA(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class pn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}toJSON(){return{type:pn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(jc(t,pn._jsonSchema))return new pn(e,a||null,new qe(Qt.fromString(t.referencePath)))}}pn._jsonSchemaVersion="firestore/documentReference/1.0",pn._jsonSchema={type:Dn("string",pn._jsonSchemaVersion),referencePath:Dn("string")};class bs extends Ao{constructor(e,t,a){super(e,t,Gd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new qe(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function qc(n,e,...t){if(n=kn(n),ew("collection","path",e),n instanceof em){const a=Qt.fromString(e,...t);return m0(a),new bs(n,null,a)}{if(!(n instanceof pn||n instanceof bs))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Qt.fromString(e,...t));return m0(a),new bs(n.firestore,null,a)}}function ai(n,e,...t){if(n=kn(n),arguments.length===1&&(e=Gy.newId()),ew("doc","path",e),n instanceof em){const a=Qt.fromString(e,...t);return d0(a),new pn(n,null,new qe(a))}{if(!(n instanceof pn||n instanceof bs))throw new De(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Qt.fromString(e,...t));return d0(a),new pn(n.firestore,n instanceof bs?n.converter:null,new qe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="AsyncQueue";class rS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $w(this,"async_queue_retry"),this._c=()=>{const a=Pg();a&&Pe(nS,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Xl(e))throw e;Pe(nS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,wa("INTERNAL UNHANDLED ERROR: ",iS(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=c_.createAndSchedule(this,e,t,a,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Ye(47125,{Pc:iS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function iS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class xs extends em{constructor(e,t,a,s){super(e,t,a,s),this.type="firestore",this._queue=new rS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rS(e),this._firestoreClient=void 0,await e}}}function h4(n,e){const t=typeof n=="object"?n:FA(),a=typeof n=="string"?n:ld,s=Fy(t,"firestore").getImmediate({identifier:a});if(!s._initialized){const l=OD("firestore");l&&c4(s,...l)}return s}function Gc(n){if(n._terminated)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f4(n),n._firestoreClient}function f4(n){var a,s,l,c;const e=n._freezeSettings(),t=u4(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new t4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(Xn.fromBase64String(e))}catch(t){throw new De(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ni(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jc(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Dn("string",ni._jsonSchemaVersion),bytes:Dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new De(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(jc(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Dn("string",qi._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jc(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ti(e.vectorValues);throw new De(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Dn("string",Ti._jsonSchemaVersion),vectorValues:Dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^__.*__$/;class m4{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,t,this.fieldTransforms):new zc(e,this.data,t,this.fieldTransforms)}}class h1{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye(40011,{dataSource:n})}}class E_{constructor(e,t,a,s,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new E_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(f1(this.dataSource)&&d4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class p4{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Wd(e)}createContext(e,t,a,s=!1){return new E_({dataSource:e,methodName:t,targetDoc:a,path:Qn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nm(n){const e=n._freezeSettings(),t=Wd(n._databaseId);return new p4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function d1(n,e,t,a,s,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,s);T_("Data must be an object, but it was:",c,a);const d=g1(a,c);let m,g;if(l.merge)m=new Lr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const S=zl(e,E,t);if(!c.contains(S))throw new De(de.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);v1(y,S)||y.push(S)}m=new Lr(y),g=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=c.fieldTransforms;return new m4(new Sr(d),m,g)}class rm extends v_{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rm}}function m1(n,e,t,a){const s=n.createContext(1,e,t);T_("Data must be an object, but it was:",s,a);const l=[],c=Sr.empty();Ds(a,((m,g)=>{const y=_1(e,m,t);g=kn(g);const E=s.childContextForFieldPath(y);if(g instanceof rm)l.push(y);else{const S=$c(g,E);S!=null&&(l.push(y),c.set(y,S))}}));const d=new Lr(l);return new h1(c,d,s.fieldTransforms)}function p1(n,e,t,a,s,l){const c=n.createContext(1,e,t),d=[zl(e,a,t)],m=[s];if(l.length%2!=0)throw new De(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(zl(e,l[S])),m.push(l[S+1]);const g=[],y=Sr.empty();for(let S=d.length-1;S>=0;--S)if(!v1(g,d[S])){const w=d[S];let O=m[S];O=kn(O);const F=c.childContextForFieldPath(w);if(O instanceof rm)g.push(w);else{const k=$c(O,F);k!=null&&(g.push(w),y.set(w,k))}}const E=new Lr(g);return new h1(y,E,c.fieldTransforms)}function g4(n,e,t,a=!1){return $c(t,n.createContext(a?4:3,e))}function $c(n,e){if(y1(n=kn(n)))return T_("Unsupported field value:",e,n),g1(n,e);if(n instanceof v_)return(function(a,s){if(!f1(s.dataSource))throw s.createError(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,s){const l=[];let c=0;for(const d of a){let m=$c(d,s.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(a,s){if((a=kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return eM(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Zt.fromDate(a);return{timestampValue:md(s.serializer,l)}}if(a instanceof Zt){const l=new Zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:md(s.serializer,l)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ni)return{bytesValue:Pw(s.serializer,a._byteString)};if(a instanceof pn){const l=s.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t_(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof Ti)return(function(c,d){const m=c instanceof Ti?c.toArray():c;return{mapValue:{fields:{[uw]:{stringValue:cw},[ud]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return Wy(d.serializer,y)}))}}}}}})(a,s);if(Bw(a))return a._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Bd(a)}`)})(n,e)}function g1(n,e){const t={};return rw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(n,((a,s)=>{const l=$c(s,e.childContextForField(a));l!=null&&(t[a]=l)})),{mapValue:{fields:t}}}function y1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof qi||n instanceof ni||n instanceof pn||n instanceof v_||n instanceof Ti||Bw(n))}function T_(n,e,t){if(!y1(t)||!tw(t)){const a=Bd(t);throw a==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+a)}}function zl(n,e,t){if((e=kn(e))instanceof tm)return e._internalPath;if(typeof e=="string")return _1(n,e);throw vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const y4=new RegExp("[~\\*/\\[\\]]");function _1(n,e,t){if(e.search(y4)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tm(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vd(n,e,t,a,s){const l=a&&!a.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${a}`),c&&(m+=` in document ${s}`),m+=")"),new De(de.INVALID_ARGUMENT,d+n+m)}function v1(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ds(e,((s,l)=>{a[s]=this.convertValue(l,t)})),a}convertVectorValue(e){var a,s,l;const t=(l=(s=(a=e.fields)==null?void 0:a[ud].arrayValue)==null?void 0:s.values)==null?void 0:l.map((c=>En(c.doubleValue)));return new Ti(t)}convertGeoPoint(e){return new qi(En(e.latitude),En(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=qd(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=ws(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Qt.fromString(e);Mt(zw(a),9688,{name:e});const s=new bc(a.get(1),a.get(3)),l=new qe(a.popFirst(5));return s.isEqual(t)||wa(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends _4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,t)}}const aS="@firebase/firestore",sS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n){return(function(t,a){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of a)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,a,s,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(zl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class v4 extends E1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new De(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{}class E4 extends S_{}function Kc(n,e,...t){let a=[];e instanceof S_&&a.push(e),a=a.concat(t),(function(l){const c=l.filter((m=>m instanceof w_)).length,d=l.filter((m=>m instanceof im)).length;if(c>1||c>0&&d>0)throw new De(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const s of a)n=s._apply(n);return n}class im extends E4{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new im(e,t,a)}_apply(e){const t=this._parse(e);return b1(e._query,t),new Ao(e.firestore,e.converter,oy(e._query,t))}_parse(e){const t=nm(e.firestore);return(function(l,c,d,m,g,y,E){let S;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new De(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){uS(E,y);const O=[];for(const F of E)O.push(lS(m,l,F));S={arrayValue:{values:O}}}else S=lS(m,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||uS(E,y),S=g4(d,c,E,y==="in"||y==="not-in");return xn.create(g,y,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function A_(n,e,t){const a=e,s=zl("where",n);return im._create(s,a,t)}class w_ extends S_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new w_(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:Si.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const m of d)b1(c,m),c=oy(c,m)})(e._query,t),new Ao(e.firestore,e.converter,oy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lS(n,e,t){if(typeof(t=kn(t))=="string"){if(t==="")throw new De(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(e)&&t.indexOf("/")!==-1)throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Qt.fromString(t));if(!qe.isDocumentKey(a))throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return b0(n,new qe(a))}if(t instanceof pn)return b0(n,t._key);throw new De(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(t)}.`)}function uS(n,e){if(!Array.isArray(n)||n.length===0)throw new De(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b1(n,e){const t=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new De(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function S1(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends E1{constructor(e,t,a,s,l,c){super(e,t,a,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(zl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=uo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:Dn("string",uo._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class Hf extends uo{data(e={}){return super.data(e)}}class co{constructor(e,t,a,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ic(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new Hf(this._firestore,this._userDataWriter,a.key,a,new ic(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const m=new Hf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ic(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Hf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ic(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:T4(d.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Dn("string",co._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nm(e)}set(e,t,a){this._verifyNotCommitted();const s=kg(e,this._firestore),l=S1(s.converter,t,a),c=d1(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,a);return this._mutations.push(c.toMutation(s._key,zr.none())),this}update(e,t,a,...s){this._verifyNotCommitted();const l=kg(e,this._firestore);let c;return c=typeof(t=kn(t))=="string"||t instanceof tm?p1(this._dataReader,"WriteBatch.update",l._key,t,a,s):m1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kg(e,this._firestore);return this._mutations=this._mutations.concat(new Jy(t._key,zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kg(n,e){if((n=kn(n)).firestore!==e)throw new De(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){n=Ur(n,pn);const e=Ur(n.firestore,xs),t=Gc(e);return a4(t,n._key).then((a=>w1(e,n,a)))}function Qc(n){n=Ur(n,Ao);const e=Ur(n.firestore,xs),t=Gc(e),a=new b_(e);return T1(n._query),s4(t,n._query).then((s=>new co(e,a,n,s)))}function C_(n,e,t){n=Ur(n,pn);const a=Ur(n.firestore,xs),s=S1(n.converter,e,t),l=nm(a);return R_(a,[d1(l,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,zr.none())])}function A1(n,e,t,...a){n=Ur(n,pn);const s=Ur(n.firestore,xs),l=nm(s);let c;return c=typeof(e=kn(e))=="string"||e instanceof tm?p1(l,"updateDoc",n._key,e,t,a):m1(l,"updateDoc",n._key,e),R_(s,[c.toMutation(n._key,zr.exists(!0))])}function S4(n,...e){var g,y,E;n=kn(n);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||oS(e[a])||(t=e[a++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(oS(e[a])){const S=e[a];e[a]=(g=S.next)==null?void 0:g.bind(S),e[a+1]=(y=S.error)==null?void 0:y.bind(S),e[a+2]=(E=S.complete)==null?void 0:E.bind(S)}let l,c,d;if(n instanceof pn)c=Ur(n.firestore,xs),d=Gd(n._key.path),l={next:S=>{e[a]&&e[a](w1(c,n,S))},error:e[a+1],complete:e[a+2]};else{const S=Ur(n,Ao);c=Ur(S.firestore,xs),d=S._query;const w=new b_(c);l={next:O=>{e[a]&&e[a](new co(c,w,S,O))},error:e[a+1],complete:e[a+2]},T1(n._query)}const m=Gc(c);return i4(m,d,s,l)}function R_(n,e){const t=Gc(n);return o4(t,e)}function w1(n,e,t){const a=t.docs.get(e._key),s=new b_(n);return new uo(n,s,e._key,a,new ic(t.hasPendingWrites,t.fromCache),e.converter)}function C1(n){return n=Ur(n,xs),Gc(n),new b4(n,(e=>R_(n,e)))}(function(e,t=!0){oO(Kl),Ml(new po("firestore",((a,{instanceIdentifier:s,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new xs(new cO(a.getProvider("auth-internal")),new dO(c,a.getProvider("app-check-internal")),xO(c,s),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Es(aS,sS,e),Es(aS,sS,"esm2020")})();var A4="firebase",w4="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(A4,w4,"app");function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C4=R1,I1=new kc("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new By("@firebase/auth");function R4(n,...e){Ed.logLevel<=Et.WARN&&Ed.warn(`Auth (${Kl}): ${n}`,...e)}function Ff(n,...e){Ed.logLevel<=Et.ERROR&&Ed.error(`Auth (${Kl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,...e){throw N_(n,...e)}function bi(n,...e){return N_(n,...e)}function I_(n,e,t){const a={...C4(),[e]:t};return new kc("auth","Firebase",a).create(e,{appName:n.name})}function ho(n){return I_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I4(n,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&Yi(n,"argument-error"),I_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function N_(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return I1.create(n,...e)}function Xe(n,e,...t){if(!n)throw N_(e,...t)}function va(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ff(e),new Error(e)}function Ra(n,e){n||va(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function N4(){return cS()==="http:"||cS()==="https:"}function cS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N4()||zD()||"connection"in navigator)?navigator.onLine:!0}function D4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ra(t>e,"Short delay should be less than long delay!"),this.isMobile=LD()||BD()}get(){return x4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n,e){Ra(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P4=new Xc(3e4,6e4);function D_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Jl(n,e,t,a,s={}){return x1(n,s,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=Lc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return UD()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&$l(n.emulatorConfig.host)&&(g.credentials="include"),N1.fetch()(await D1(n,n.config.apiHost,t,d),g)})}async function x1(n,e,t){n._canInitEmulator=!1;const a={...O4,...e};try{const s=new k4(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Rf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Rf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Rf(n,"user-disabled",c);const y=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw I_(n,y,g);Yi(n,y)}}catch(s){if(s instanceof xa)throw s;Yi(n,"network-request-failed",{message:String(s)})}}async function V4(n,e,t,a,s={}){const l=await Jl(n,e,t,a,s);return"mfaPendingCredential"in l&&Yi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function D1(n,e,t,a){const s=`${e}${t}?${a}`,l=n,c=l.config.emulator?x_(n.config,s):`${n.config.apiScheme}://${s}`;return M4.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class k4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),P4.get())})}}function Rf(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const s=bi(n,e,a);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(n,e){return Jl(n,"POST","/v1/accounts:delete",e)}async function Td(n,e){return Jl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j4(n,e=!1){const t=kn(n),a=await t.getIdToken(e),s=O_(a);Xe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:a,authTime:fc(Lg(s.auth_time)),issuedAtTime:fc(Lg(s.iat)),expirationTime:fc(Lg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Lg(n){return Number(n)*1e3}function O_(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=PA(t);return s?JSON.parse(s):(Ff("Failed to decode base64 JWT payload"),null)}catch(s){return Ff("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hS(n){const e=O_(n);return Xe(e,"internal-error"),Xe(typeof e.exp<"u","internal-error"),Xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof xa&&U4(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function U4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(n){var E;const e=n.auth,t=await n.getIdToken(),a=await Cc(n,Td(e,{idToken:t}));Xe(a==null?void 0:a.users.length,e,"internal-error");const s=a.users[0];n._notifyReloadListener(s);const l=(E=s.providerUserInfo)!=null&&E.length?O1(s.providerUserInfo):[],c=H4(n.providerData,l),d=n.isAnonymous,m=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),g=d?m:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new vy(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function B4(n){const e=kn(n);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H4(n,e){return[...n.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function O1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,e){const t=await x1(n,{},async()=>{const a=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await D1(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:a};return n.emulatorConfig&&$l(n.emulatorConfig.host)&&(m.credentials="include"),N1.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function q4(n,e){return Jl(n,"POST","/v2/accounts:revokeToken",D_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xe(e.idToken,"internal-error"),Xe(typeof e.idToken<"u","internal-error"),Xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xe(e.length!==0,"internal-error");const t=hS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:s,expiresIn:l}=await F4(e,t);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:s,expirationTime:l}=t,c=new Rl;return a&&(Xe(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),s&&(Xe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(n,e){Xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:t,stsTokenManager:a,...s}){this.providerId="firebase",this.proactiveRefresh=new z4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return Xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j4(this,e)}reload(){return B4(this)}_assign(e){this!==e&&(Xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await bd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await Cc(this,L4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:w,providerData:O,stsTokenManager:F}=t;Xe(E&&F,e,"internal-error");const k=Rl.fromJSON(this.name,F);Xe(typeof E=="string",e,"internal-error"),ls(a,e.name),ls(s,e.name),Xe(typeof S=="boolean",e,"internal-error"),Xe(typeof w=="boolean",e,"internal-error"),ls(l,e.name),ls(c,e.name),ls(d,e.name),ls(m,e.name),ls(g,e.name),ls(y,e.name);const K=new Ei({uid:E,auth:e,email:s,emailVerified:S,displayName:a,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:y});return O&&Array.isArray(O)&&(K.providerData=O.map(B=>({...B}))),m&&(K._redirectEventId=m),K}static async _fromIdTokenResponse(e,t,a=!1){const s=new Rl;s.updateFromServerResponse(t);const l=new Ei({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await bd(l),l}static async _fromGetAccountInfoResponse(e,t,a){const s=t.users[0];Xe(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?O1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new Rl;d.updateFromIdToken(a);const m=new Ei({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new vy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new Map;function Ea(n){Ra(n instanceof Function,"Expected a class definition");let e=fS.get(n);return e?(Ra(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}M1.type="NONE";const dS=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(n,e,t){return`firebase:${n}:${e}:${t}`}class Il{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=qf(this.userKey,s.apiKey,l),this.fullPersistenceKey=qf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Td(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Il(Ea(dS),e,a);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Ea(dS);const c=qf(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const y=await g._get(c);if(y){let E;if(typeof y=="string"){const S=await Td(e,{idToken:y}).catch(()=>{});if(!S)break;E=await Ei._fromGetAccountInfoResponse(e,S,y)}else E=Ei._fromJSON(e,y);g!==l&&(d=E),l=g;break}}catch{}const m=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Il(l,e,a):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Il(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(V1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(j1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function P1(n=ar()){return/firefox\//i.test(n)}function V1(n=ar()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(n=ar()){return/crios\//i.test(n)}function L1(n=ar()){return/iemobile/i.test(n)}function j1(n=ar()){return/android/i.test(n)}function U1(n=ar()){return/blackberry/i.test(n)}function z1(n=ar()){return/webos/i.test(n)}function M_(n=ar()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function G4(n=ar()){var e;return M_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function $4(){return HD()&&document.documentMode===10}function B1(n=ar()){return M_(n)||j1(n)||z1(n)||U1(n)||/windows phone/i.test(n)||L1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n,e=[]){let t;switch(n){case"Browser":t=mS(ar());break;case"Worker":t=`${mS(ar())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});a.onAbort=t,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(n,e={}){return Jl(n,"GET","/v2/passwordPolicy",D_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=6;class X4{constructor(e){var a;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Q4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t,a,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pS(this),this.idTokenSubscription=new pS(this),this.beforeStateQueue=new K4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ea(t)),this._initializationPromise=this.queue(async()=>{var a,s,l;if(!this._deleted&&(this.persistenceManager=await Il.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Td(this,{idToken:e}),a=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(_i(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(ho(this));const t=e?kn(e):null;return t&&Xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),t=new X4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await q4(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ea(e)||this._popupRedirectResolver;Xe(t,this,"argument-error"),this.redirectPersistenceManager=await Il.create(this,[Ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,a,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&R4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function am(n){return kn(n)}class pS{constructor(e){this.auth=e,this.observer=null,this.addObserver=XD(t=>this.observer=t)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J4(n){P_=n}function Z4(n){return P_.loadJS(n)}function eV(){return P_.gapiScript}function tV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(n,e){const t=Fy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(mo(l,e??{}))return s;Yi(s,"already-initialized")}return t.initialize({options:e})}function rV(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Ea);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function iV(n,e,t){const a=am(n);Xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,l=F1(e),{host:c,port:d}=aV(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){Xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Xe(mo(g,a.config.emulator)&&mo(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,$l(c)?(jA(`${l}//${c}${m}`),UA("Auth",!0)):sV()}function F1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aV(n){const e=F1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:gS(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:gS(c)}}}function gS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return va("not implemented")}_getIdTokenResponse(e){return va("not implemented")}_linkToIdToken(e,t){return va("not implemented")}_getReauthenticationResolver(e){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n,e){return V4(n,"POST","/v1/accounts:signInWithIdp",D_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="http://localhost";class _o extends q1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s,...l}=t;if(!a||!s)return null;const c=new _o(a,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Nl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Nl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}buildRequest(){const e={requestUri:oV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends V_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Wc{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _o._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return ya.credential(t,a)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Wc{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Wc{constructor(){super("twitter.com")}static credential(e,t){return _o._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ms.credential(t,a)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,s=!1){const l=await Ei._fromIdTokenResponse(e,a,s),c=yS(a);return new Bl({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const s=yS(a);return new Bl({user:e,providerId:s,_tokenResponse:a,operationType:t})}}function yS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends xa{constructor(e,t,a,s){super(t.code,t.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,s){return new Sd(e,t,a,s)}}function G1(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(n,l,e,a):l})}async function lV(n,e,t=!1){const a=await Cc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Bl._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(n,e,t=!1){const{auth:a}=n;if(_i(a.app))return Promise.reject(ho(a));const s="reauthenticate";try{const l=await Cc(n,G1(a,s,e,n),t);Xe(l.idToken,a,"internal-error");const c=O_(l.idToken);Xe(c,a,"internal-error");const{sub:d}=c;return Xe(n.uid===d,a,"user-mismatch"),Bl._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Yi(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(n,e,t=!1){if(_i(n.app))return Promise.reject(ho(n));const a="signIn",s=await G1(n,a,e),l=await Bl._fromIdTokenResponse(n,a,s);return t||await n._updateCurrentUser(l.user),l}function hV(n,e,t,a){return kn(n).onIdTokenChanged(e,t,a)}function fV(n,e,t){return kn(n).beforeAuthStateChanged(e,t)}function dV(n,e,t,a){return kn(n).onAuthStateChanged(e,t,a)}const Ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ad,"1"),this.storage.removeItem(Ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1e3,pV=10;class K1 extends $1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),s=this.localCache[t];a!==s&&e(t,s,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const a=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);$4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pV):s()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},mV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const gV=K1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends $1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Y1.type="SESSION";const Q1=Y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const a=new sm(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await yV(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=k_("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},a);c={messageChannel:s,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function vV(n){Gi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function EV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function bV(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebaseLocalStorageDb",SV=1,wd="firebaseLocalStorage",J1="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function om(n,e){return n.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function AV(){const n=indexedDB.deleteDatabase(W1);return new Jc(n).toPromise()}function Ey(){const n=indexedDB.open(W1,SV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(wd,{keyPath:J1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(wd)?e(a):(a.close(),await AV(),e(await Ey()))})})}async function _S(n,e,t){const a=om(n,!0).put({[J1]:e,value:t});return new Jc(a).toPromise()}async function wV(n,e){const t=om(n,!1).get(e),a=await new Jc(t).toPromise();return a===void 0?null:a.value}function vS(n,e){const t=om(n,!0).delete(e);return new Jc(t).toPromise()}const CV=800,RV=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>RV)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(bV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,a;if(this.activeServiceWorker=await EV(),!this.activeServiceWorker)return;this.sender=new _V(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ey();return await _S(e,Ad,"1"),await vS(e,Ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>_S(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>wV(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=om(s,!1).getAll();return new Jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const IV=Z1;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,e){return e?Ea(e):(Xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends q1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NV(n){return cV(n.auth,new L_(n),n.bypassAuthState)}function xV(n){const{auth:e,user:t}=n;return Xe(t,e,"internal-error"),uV(t,new L_(n),n.bypassAuthState)}async function DV(n){const{auth:e,user:t}=n;return Xe(t,e,"internal-error"),lV(t,new L_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,a,s,l=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NV;case"linkViaPopup":case"linkViaRedirect":return DV;case"reauthViaPopup":case"reauthViaRedirect":return xV;default:Yi(this.auth,"internal-error")}}resolve(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new Xc(2e3,1e4);async function MV(n,e,t){if(_i(n.app))return Promise.reject(bi(n,"operation-not-supported-in-this-environment"));const a=am(n);I4(n,e,V_);const s=eC(a,t);return new lo(a,"signInViaPopup",e,s).executeNotNull()}class lo extends tC{constructor(e,t,a,s,l){super(e,t,s,l),this.provider=a,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xe(e,this.auth,"internal-error"),e}async onExecution(){Ra(this.filter.length===1,"Popup operations only handle one event");const e=k_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if((a=(t=this.authWindow)==null?void 0:t.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OV.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="pendingRedirect",Gf=new Map;class VV extends tC{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Gf.get(this.auth._key());if(!e){try{const a=await kV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Gf.set(this.auth._key(),e)}return this.bypassAuthState||Gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kV(n,e){const t=UV(e),a=jV(n);if(!await a._isAvailable())return!1;const s=await a._get(t)==="true";return await a._remove(t),s}function LV(n,e){Gf.set(n._key(),e)}function jV(n){return Ea(n._redirectPersistence)}function UV(n){return qf(PV,n.config.apiKey,n.name)}async function zV(n,e,t=!1){if(_i(n.app))return Promise.reject(ho(n));const a=am(n),s=eC(a,e),c=await new VV(a,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=600*1e3;class HV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!nC(e)){const s=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";t.onError(bi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BV&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(e))}saveEventToCache(e){this.cachedEventUids.add(ES(e)),this.lastProcessedEventTime=Date.now()}}function ES(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e={}){return Jl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function KV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qV(n);for(const t of e)try{if(YV(t))return}catch{}Yi(n,"unauthorized-domain")}function YV(n){const e=_y(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!$V.test(t))return!1;if(GV.test(n))return a===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new Xc(3e4,6e4);function TS(){const n=Gi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XV(n){return new Promise((e,t)=>{var s,l,c;function a(){TS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TS(),t(bi(n,"network-request-failed"))},timeout:QV.get()})}if((l=(s=Gi().gapi)==null?void 0:s.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Gi().gapi)!=null&&c.load)a();else{const d=tV("iframefcb");return Gi()[d]=()=>{gapi.load?a():t(bi(n,"network-request-failed"))},Z4(`${eV()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw $f=null,e})}let $f=null;function WV(n){return $f=$f||XV(n),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Xc(5e3,15e3),ZV="__/auth/iframe",ek="emulator/auth/iframe",tk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rk(n){const e=n.config;Xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?x_(e,ek):`https://${n.config.authDomain}/${ZV}`,a={apiKey:e.apiKey,appName:n.name,v:Kl},s=nk.get(n.config.apiHost);s&&(a.eid=s);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Lc(a).slice(1)}`}async function ik(n){const e=await WV(n),t=Gi().gapi;return Xe(t,n,"internal-error"),e.open({where:document.body,url:rk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tk,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const c=bi(n,"network-request-failed"),d=Gi().setTimeout(()=>{l(c)},JV.get());function m(){Gi().clearTimeout(d),s(a)}a.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sk=500,ok=600,lk="_blank",uk="http://localhost";class bS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ck(n,e,t,a=sk,s=ok){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m={...ak,width:a.toString(),height:s.toString(),top:l,left:c},g=ar().toLowerCase();t&&(d=k1(g)?lk:t),P1(g)&&(e=e||uk,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[w,O])=>`${S}${w}=${O},`,"");if(G4(g)&&d!=="_self")return hk(e||"",d),new bS(null);const E=window.open(e||"",d,y);Xe(E,n,"popup-blocked");try{E.focus()}catch{}return new bS(E)}function hk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="__/auth/handler",dk="emulator/auth/handler",mk=encodeURIComponent("fac");async function SS(n,e,t,a,s,l){Xe(n.config.authDomain,n,"auth-domain-config-required"),Xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Kl,eventId:s};if(e instanceof V_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",QD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(e instanceof Wc){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await n._getAppCheckToken(),g=m?`#${mk}=${encodeURIComponent(m)}`:"";return`${pk(n)}?${Lc(d).slice(1)}${g}`}function pk({config:n}){return n.emulator?x_(n,dk):`https://${n.authDomain}/${fk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="webStorageSupport";class gk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=zV,this._overrideRedirectResult=LV}async _openPopup(e,t,a,s){var c;Ra((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await SS(e,t,a,_y(),s);return ck(e,l,k_())}async _openRedirect(e,t,a,s){await this._originValidation(e);const l=await SS(e,t,a,_y(),s);return vV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ra(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await ik(e),a=new HV(e);return t.register("authEvent",s=>(Xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jg,{type:jg},s=>{var c;const l=(c=s==null?void 0:s[0])==null?void 0:c[jg];l!==void 0&&t(!!l),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B1()||V1()||M_()}}const yk=gk;var AS="@firebase/auth",wS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ek(n){Ml(new po("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;Xe(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H1(n)},g=new W4(a,s,l,m);return rV(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Ml(new po("auth-internal",e=>{const t=am(e.getProvider("auth").getImmediate());return(a=>new _k(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(AS,wS,vk(n)),Es(AS,wS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=300,bk=LA("authIdTokenMaxAge")||Tk;let CS=null;const Sk=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>bk)return;const s=t==null?void 0:t.token;CS!==s&&(CS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Ak(n=FA()){const e=Fy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=nV(n,{popupRedirectResolver:yk,persistence:[IV,gV,Q1]}),a=LA("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=Sk(l.toString());fV(t,c,()=>c(t.currentUser)),hV(t,d=>c(d))}}const s=VA("auth");return s&&iV(t,`http://${s}`),t}function wk(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}J4({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=s=>{const l=bi("internal-error");l.customData=s,t(l)},a.type="text/javascript",a.charset="UTF-8",wk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ek("Browser");const Ck={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function cl(n){const e=Ck[n];if(!e)throw new Error(`Missing environment variable: ${n}. Did you forget to create a .env.local?`);return e}const Rk={apiKey:cl("VITE_FIREBASE_API_KEY"),authDomain:cl("VITE_FIREBASE_AUTH_DOMAIN"),projectId:cl("VITE_FIREBASE_PROJECT_ID"),storageBucket:cl("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:cl("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:cl("VITE_FIREBASE_APP_ID")},rC=HA(Rk),Hl=Ak(rC),Ik=new ya,Ln=h4(rC),iC=P.createContext(void 0),Nk=({children:n})=>{const[e,t]=P.useState(()=>{const c=localStorage.getItem("app-theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),a=P.useCallback(c=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("app-theme",c)},[]);P.useEffect(()=>{a(e)},[e,a]);const s=P.useCallback(c=>{t(c),a(c);const d=Hl.currentUser;if(d){const m=ai(Ln,"users",d.uid);A1(m,{preferredTheme:c}).catch(g=>console.error("Error updating preferred theme in Firebase:",g))}},[a]),l=P.useCallback(()=>{t(c=>c==="light"?"dark":"light")},[t]);return P.useEffect(()=>Hl.onAuthStateChanged(async d=>{if(d){const m=ai(Ln,"users",d.uid),g=await Yc(m);if(g.exists()&&g.data().preferredTheme){const y=g.data().preferredTheme;t(y),a(y)}}}),[a]),T.jsx(iC.Provider,{value:{theme:e,toggleTheme:l,setTheme:s},children:n})},xk="_spinner_5jyct_1",Dk="_spinnerContainer_5jyct_19",RS={spinner:xk,spinnerContainer:Dk},Zl=({container:n=!0})=>{const e=T.jsx("div",{className:RS.spinner});return n?T.jsx("div",{className:RS.spinnerContainer,children:e}):e},Ok="_loadingContainer_1n1m5_1",Mk={loadingContainer:Ok},Fl=()=>T.jsx("div",{className:Mk.loadingContainer,children:T.jsx(Zl,{container:!1})}),Pk=()=>{const n=lt(a=>a.auth.firebaseUser),e=lt(a=>a.auth.userData);return lt(a=>a.auth.loading)?T.jsx(Fl,{}):n?e?e.isApproved?T.jsx(ys,{to:"/app/dashboard",replace:!0}):T.jsx(ys,{to:"/guest",replace:!0}):T.jsx(Fl,{}):T.jsx(ys,{to:"/login",replace:!0})};function Kn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Vk=typeof Symbol=="function"&&Symbol.observable||"@@observable",IS=Vk,Ug=()=>Math.random().toString(36).substring(7).split("").join("."),kk={INIT:`@@redux/INIT${Ug()}`,REPLACE:`@@redux/REPLACE${Ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ug()}`},Cd=kk;function j_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function aC(n,e,t){if(typeof n!="function")throw new Error(Kn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Kn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Kn(1));return t(aC)(n,e)}let a=n,s=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((k,K)=>{c.set(K,k)}))}function y(){if(m)throw new Error(Kn(3));return s}function E(k){if(typeof k!="function")throw new Error(Kn(4));if(m)throw new Error(Kn(5));let K=!0;g();const B=d++;return c.set(B,k),function(){if(K){if(m)throw new Error(Kn(6));K=!1,g(),c.delete(B),l=null}}}function S(k){if(!j_(k))throw new Error(Kn(7));if(typeof k.type>"u")throw new Error(Kn(8));if(typeof k.type!="string")throw new Error(Kn(17));if(m)throw new Error(Kn(9));try{m=!0,s=a(s,k)}finally{m=!1}return(l=c).forEach(B=>{B()}),k}function w(k){if(typeof k!="function")throw new Error(Kn(10));a=k,S({type:Cd.REPLACE})}function O(){const k=E;return{subscribe(K){if(typeof K!="object"||K===null)throw new Error(Kn(11));function B(){const se=K;se.next&&se.next(y())}return B(),{unsubscribe:k(B)}},[IS](){return this}}}return S({type:Cd.INIT}),{dispatch:S,subscribe:E,getState:y,replaceReducer:w,[IS]:O}}function Lk(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Cd.INIT})>"u")throw new Error(Kn(12));if(typeof t(void 0,{type:Cd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kn(13))})}function jk(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const a=Object.keys(t);let s;try{Lk(t)}catch(l){s=l}return function(c={},d){if(s)throw s;let m=!1;const g={};for(let y=0;y<a.length;y++){const E=a[y],S=t[E],w=c[E],O=S(w,d);if(typeof O>"u")throw d&&d.type,new Error(Kn(14));g[E]=O,m=m||O!==w}return m=m||a.length!==Object.keys(c).length,m?g:c}}function Rd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...a)=>e(t(...a)))}function Uk(...n){return e=>(t,a)=>{const s=e(t,a);let l=()=>{throw new Error(Kn(15))};const c={getState:s.getState,dispatch:(m,...g)=>l(m,...g)},d=n.map(m=>m(c));return l=Rd(...d)(s.dispatch),{...s,dispatch:l}}}function zk(n){return j_(n)&&"type"in n&&typeof n.type=="string"}var sC=Symbol.for("immer-nothing"),NS=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function vi(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var jr=Object,ql=jr.getPrototypeOf,Id="constructor",lm="prototype",Ty="configurable",Nd="enumerable",Kf="writable",Rc="value",Ia=n=>!!n&&!!n[hr];function Ai(n){var e;return n?oC(n)||cm(n)||!!n[NS]||!!((e=n[Id])!=null&&e[NS])||hm(n)||fm(n):!1}var Bk=jr[lm][Id].toString(),xS=new WeakMap;function oC(n){if(!n||!U_(n))return!1;const e=ql(n);if(e===null||e===jr[lm])return!0;const t=jr.hasOwnProperty.call(e,Id)&&e[Id];if(t===Object)return!0;if(!vl(t))return!1;let a=xS.get(t);return a===void 0&&(a=Function.toString.call(t),xS.set(t,a)),a===Bk}function um(n,e,t=!0){Zc(n)===0?(t?Reflect.ownKeys(n):jr.keys(n)).forEach(s=>{e(s,n[s],n)}):n.forEach((a,s)=>e(s,a,n))}function Zc(n){const e=n[hr];return e?e.type_:cm(n)?1:hm(n)?2:fm(n)?3:0}var DS=(n,e,t=Zc(n))=>t===2?n.has(e):jr[lm].hasOwnProperty.call(n,e),by=(n,e,t=Zc(n))=>t===2?n.get(e):n[e],xd=(n,e,t,a=Zc(n))=>{a===2?n.set(e,t):a===3?n.add(t):n[e]=t};function Hk(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var cm=Array.isArray,hm=n=>n instanceof Map,fm=n=>n instanceof Set,U_=n=>typeof n=="object",vl=n=>typeof n=="function",zg=n=>typeof n=="boolean";function Fk(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var ga=n=>n.copy_||n.base_,z_=n=>n.modified_?n.copy_:n.base_;function Sy(n,e){if(hm(n))return new Map(n);if(fm(n))return new Set(n);if(cm(n))return Array[lm].slice.call(n);const t=oC(n);if(e===!0||e==="class_only"&&!t){const a=jr.getOwnPropertyDescriptors(n);delete a[hr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[Kf]===!1&&(d[Kf]=!0,d[Ty]=!0),(d.get||d.set)&&(a[c]={[Ty]:!0,[Kf]:!0,[Nd]:d[Nd],[Rc]:n[c]})}return jr.create(ql(n),a)}else{const a=ql(n);if(a!==null&&t)return{...n};const s=jr.create(a);return jr.assign(s,n)}}function B_(n,e=!1){return dm(n)||Ia(n)||!Ai(n)||(Zc(n)>1&&jr.defineProperties(n,{set:If,add:If,clear:If,delete:If}),jr.freeze(n),e&&um(n,(t,a)=>{B_(a,!0)},!1)),n}function qk(){vi(2)}var If={[Rc]:qk};function dm(n){return n===null||!U_(n)?!0:jr.isFrozen(n)}var Dd="MapSet",Ay="Patches",OS="ArrayMethods",lC={};function vo(n){const e=lC[n];return e||vi(0,n),e}var MS=n=>!!lC[n],Ic,uC=()=>Ic,Gk=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MS(Dd)?vo(Dd):void 0,arrayMethodsPlugin_:MS(OS)?vo(OS):void 0});function PS(n,e){e&&(n.patchPlugin_=vo(Ay),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function wy(n){Cy(n),n.drafts_.forEach($k),n.drafts_=null}function Cy(n){n===Ic&&(Ic=n.parent_)}var VS=n=>Ic=Gk(Ic,n);function $k(n){const e=n[hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kS(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[hr].modified_&&(wy(e),vi(4)),Ai(n)&&(n=LS(e,n));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(t[hr].base_,n,e)}else n=LS(e,t);return Kk(e,n,!0),wy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==sC?n:void 0}function LS(n,e){if(dm(e))return e;const t=e[hr];if(!t)return Od(e,n.handledSet_,n);if(!mm(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:a}=t;if(a)for(;a.length>0;)a.pop()(n);fC(t,n)}return t.copy_}function Kk(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&B_(e,t)}function cC(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var mm=(n,e)=>n.scope_===e,Yk=[];function hC(n,e,t,a){const s=ga(n),l=n.type_;if(a!==void 0&&by(s,a,l)===e){xd(s,a,t,l);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;um(s,(m,g)=>{if(Ia(g)){const y=d.get(g)||[];y.push(m),d.set(g,y)}})}const c=n.draftLocations_.get(e)??Yk;for(const d of c)xd(s,d,t,l)}function Qk(n,e,t){n.callbacks_.push(function(s){var d;const l=e;if(!l||!mm(l,s))return;(d=s.mapSetPlugin_)==null||d.fixSetContents(l);const c=z_(l);hC(n,l.draft_??l,c,t),fC(l,s)})}function fC(n,e){var a;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((a=n.assigned_)==null?void 0:a.size)??0)>0)){const{patchPlugin_:s}=e;if(s){const l=s.getPath(n);l&&s.generatePatches_(n,l,e)}cC(n)}}function Xk(n,e,t){const{scope_:a}=n;if(Ia(t)){const s=t[hr];mm(s,a)&&s.callbacks_.push(function(){Yf(n);const c=z_(s);hC(n,t,c,e)})}else Ai(t)&&n.callbacks_.push(function(){const l=ga(n);n.type_===3?l.has(t)&&Od(t,a.handledSet_,a):by(l,e,n.type_)===t&&a.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Od(by(n.copy_,e,n.type_),a.handledSet_,a)})}function Od(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Ia(n)||e.has(n)||!Ai(n)||dm(n)||(e.add(n),um(n,(a,s)=>{if(Ia(s)){const l=s[hr];if(mm(l,t)){const c=z_(l);xd(n,a,c,n.type_),cC(l)}}else Ai(s)&&Od(s,e,t)})),n}function Wk(n,e){const t=cm(n),a={type_:t?1:0,scope_:e?e.scope_:uC(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=Md;t&&(s=[a],l=Nc);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var Md={get(n,e){if(e===hr)return n;let t=n.scope_.arrayMethodsPlugin_;const a=n.type_===1&&typeof e=="string";if(a&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const s=ga(n);if(!DS(s,e,n.type_))return Jk(n,s,e);const l=s[e];if(n.finalized_||!Ai(l)||a&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&Fk(e))return l;if(l===Bg(n.base_,e)){Yf(n);const c=n.type_===1?+e:e,d=Iy(n.scope_,l,n,c);return n.copy_[c]=d}return l},has(n,e){return e in ga(n)},ownKeys(n){return Reflect.ownKeys(ga(n))},set(n,e,t){const a=dC(ga(n),e);if(a!=null&&a.set)return a.set.call(n.draft_,t),!0;if(!n.modified_){const s=Bg(ga(n),e),l=s==null?void 0:s[hr];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(Hk(t,s)&&(t!==void 0||DS(n.base_,e,n.type_)))return!0;Yf(n),Ry(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),Xk(n,e,t)),!0},deleteProperty(n,e){return Yf(n),Bg(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),Ry(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ga(n),a=Reflect.getOwnPropertyDescriptor(t,e);return a&&{[Kf]:!0,[Ty]:n.type_!==1||e!=="length",[Nd]:a[Nd],[Rc]:t[e]}},defineProperty(){vi(11)},getPrototypeOf(n){return ql(n.base_)},setPrototypeOf(){vi(12)}},Nc={};for(let n in Md){let e=Md[n];Nc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}Nc.deleteProperty=function(n,e){return Nc.set.call(this,n,e,void 0)};Nc.set=function(n,e,t){return Md.set.call(this,n[0],e,t,n[0])};function Bg(n,e){const t=n[hr];return(t?ga(t):n)[e]}function Jk(n,e,t){var s;const a=dC(e,t);return a?Rc in a?a[Rc]:(s=a.get)==null?void 0:s.call(n.draft_):void 0}function dC(n,e){if(!(e in n))return;let t=ql(n);for(;t;){const a=Object.getOwnPropertyDescriptor(t,e);if(a)return a;t=ql(t)}}function Ry(n){n.modified_||(n.modified_=!0,n.parent_&&Ry(n.parent_))}function Yf(n){n.copy_||(n.assigned_=new Map,n.copy_=Sy(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Zk=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,a)=>{if(vl(e)&&!vl(t)){const l=t;t=e;const c=this;return function(m=l,...g){return c.produce(m,y=>t.call(this,y,...g))}}vl(t)||vi(6),a!==void 0&&!vl(a)&&vi(7);let s;if(Ai(e)){const l=VS(this),c=Iy(l,e,void 0);let d=!0;try{s=t(c),d=!1}finally{d?wy(l):Cy(l)}return PS(l,a),kS(s,l)}else if(!e||!U_(e)){if(s=t(e),s===void 0&&(s=e),s===sC&&(s=void 0),this.autoFreeze_&&B_(s,!0),a){const l=[],c=[];vo(Ay).generateReplacementPatches_(e,s,{patches_:l,inversePatches_:c}),a(l,c)}return s}else vi(1,e)},this.produceWithPatches=(e,t)=>{if(vl(e))return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let a,s;return[this.produce(e,t,(c,d)=>{a=c,s=d}),a,s]},zg(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),zg(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),zg(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Ai(n)||vi(8),Ia(n)&&(n=eL(n));const e=VS(this),t=Iy(e,n,void 0);return t[hr].isManual_=!0,Cy(e),t}finishDraft(n,e){const t=n&&n[hr];(!t||!t.isManual_)&&vi(9);const{scope_:a}=t;return PS(a,e),kS(void 0,a)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const a=vo(Ay).applyPatches_;return Ia(n)?a(n,e):this.produce(n,s=>a(s,e))}};function Iy(n,e,t,a){const[s,l]=hm(e)?vo(Dd).proxyMap_(e,t):fm(e)?vo(Dd).proxySet_(e,t):Wk(e,t);return((t==null?void 0:t.scope_)??uC()).drafts_.push(s),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=a,t&&a!==void 0?Qk(t,l,a):l.callbacks_.push(function(m){var y;(y=m.mapSetPlugin_)==null||y.fixSetContents(l);const{patchPlugin_:g}=m;l.modified_&&g&&g.generatePatches_(l,[],m)}),s}function eL(n){return Ia(n)||vi(10,n),mC(n)}function mC(n){if(!Ai(n)||dm(n))return n;const e=n[hr];let t,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Sy(n,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else t=Sy(n,!0);return um(t,(s,l)=>{xd(t,s,mC(l))},a),e&&(e.finalized_=!1),t}var tL=new Zk,pC=tL.produce;function gC(n){return({dispatch:t,getState:a})=>s=>l=>typeof l=="function"?l(t,a,n):s(l)}var nL=gC(),rL=gC,iL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rd:Rd.apply(null,arguments)},aL=n=>n&&typeof n.match=="function";function dc(n,e){function t(...a){if(e){let s=e(...a);if(!s)throw new Error(ba(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:a[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=a=>zk(a)&&a.type===n,t}var yC=class ac extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ac.prototype)}static get[Symbol.species](){return ac}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ac(...e[0].concat(this)):new ac(...e.concat(this))}};function jS(n){return Ai(n)?pC(n,()=>{}):n}function Nf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function sL(n){return typeof n=="boolean"}var oL=()=>function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let c=new yC;return t&&(sL(t)?c.push(nL):c.push(rL(t.extraArgument))),c},lL="RTK_autoBatch",US=n=>e=>{setTimeout(e,n)},uL=(n={type:"raf"})=>e=>(...t)=>{const a=e(...t);let s=!0,l=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:US(10):n.type==="callback"?n.queueNotification:US(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(y=>y()))};return Object.assign({},a,{subscribe(y){const E=()=>s&&y(),S=a.subscribe(E);return d.add(y),()=>{S(),d.delete(y)}},dispatch(y){var E;try{return s=!((E=y==null?void 0:y.meta)!=null&&E[lL]),l=!s,l&&(c||(c=!0,m(g))),a.dispatch(y)}finally{s=!0}}})},cL=n=>function(t){const{autoBatch:a=!0}=t??{};let s=new yC(n);return a&&s.push(uL(typeof a=="object"?a:void 0)),s};function hL(n){const e=oL(),{reducer:t=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(j_(t))d=jk(t);else throw new Error(ba(1));let m;typeof a=="function"?m=a(e):m=e();let g=Rd;s&&(g=iL({trace:!1,...typeof s=="object"&&s}));const y=Uk(...m),E=cL(y);let S=typeof c=="function"?c(E):E();const w=g(...S);return aC(d,l,w)}function _C(n){const e={},t=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ba(28));if(d in e)throw new Error(ba(29));return e[d]=c,s},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return t.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return n(s),[e,t,a]}function fL(n){return typeof n=="function"}function dL(n,e){let[t,a,s]=_C(e),l;if(fL(n))l=()=>jS(n());else{const d=jS(n);l=()=>d}function c(d=l(),m){let g=[t[m.type],...a.filter(({matcher:y})=>y(m)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[s]),g.reduce((y,E)=>{if(E)if(Ia(y)){const w=E(y,m);return w===void 0?y:w}else{if(Ai(y))return pC(y,S=>E(S,m));{const S=E(y,m);if(S===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return y},d)}return c.getInitialState=l,c}var mL=(n,e)=>aL(n)?n.match(e):n(e);function pL(...n){return e=>n.some(t=>mL(t,e))}var gL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yL=(n=21)=>{let e="",t=n;for(;t--;)e+=gL[Math.random()*64|0];return e},_L=["name","message","stack","code"],Hg=class{constructor(n,e){ug(this,"_type");this.payload=n,this.meta=e}},zS=class{constructor(n,e){ug(this,"_type");this.payload=n,this.meta=e}},vL=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of _L)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},BS="External signal was aborted",Hr=(()=>{function n(e,t,a){const s=dc(e+"/fulfilled",(m,g,y,E)=>({payload:m,meta:{...E||{},arg:y,requestId:g,requestStatus:"fulfilled"}})),l=dc(e+"/pending",(m,g,y)=>({payload:void 0,meta:{...y||{},arg:g,requestId:m,requestStatus:"pending"}})),c=dc(e+"/rejected",(m,g,y,E,S)=>({payload:E,error:(a&&a.serializeError||vL)(m||"Rejected"),meta:{...S||{},arg:y,requestId:g,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function d(m,{signal:g}={}){return(y,E,S)=>{const w=a!=null&&a.idGenerator?a.idGenerator(m):yL(),O=new AbortController;let F,k;function K(Q){k=Q,O.abort()}g&&(g.aborted?K(BS):g.addEventListener("abort",()=>K(BS),{once:!0}));const B=(async function(){var ue,Z;let Q;try{let A=(ue=a==null?void 0:a.condition)==null?void 0:ue.call(a,m,{getState:E,extra:S});if(TL(A)&&(A=await A),A===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((N,x)=>{F=()=>{x({name:"AbortError",message:k||"Aborted"})},O.signal.addEventListener("abort",F,{once:!0})});y(l(w,m,(Z=a==null?void 0:a.getPendingMeta)==null?void 0:Z.call(a,{requestId:w,arg:m},{getState:E,extra:S}))),Q=await Promise.race([C,Promise.resolve(t(m,{dispatch:y,getState:E,extra:S,requestId:w,signal:O.signal,abort:K,rejectWithValue:(N,x)=>new Hg(N,x),fulfillWithValue:(N,x)=>new zS(N,x)})).then(N=>{if(N instanceof Hg)throw N;return N instanceof zS?s(N.payload,w,m,N.meta):s(N,w,m)})])}catch(A){Q=A instanceof Hg?c(null,w,m,A.payload,A.meta):c(A,w,m)}finally{F&&O.signal.removeEventListener("abort",F)}return a&&!a.dispatchConditionRejection&&c.match(Q)&&Q.meta.condition||y(Q),Q})();return Object.assign(B,{abort:K,requestId:w,arg:m,unwrap(){return B.then(EL)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:s,settled:pL(c,s),typePrefix:e})}return n.withTypes=()=>n,n})();function EL(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function TL(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var bL=Symbol.for("rtk-slice-createasyncthunk");function SL(n,e){return`${n}/${e}`}function AL({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[bL];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(ba(11));const d=(typeof s.reducers=="function"?s.reducers(CL()):s.reducers)||{},m=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(se,ue){const Z=typeof se=="string"?se:se.type;if(!Z)throw new Error(ba(12));if(Z in g.sliceCaseReducersByType)throw new Error(ba(13));return g.sliceCaseReducersByType[Z]=ue,y},addMatcher(se,ue){return g.sliceMatchers.push({matcher:se,reducer:ue}),y},exposeAction(se,ue){return g.actionCreators[se]=ue,y},exposeCaseReducer(se,ue){return g.sliceCaseReducersByName[se]=ue,y}};m.forEach(se=>{const ue=d[se],Z={reducerName:se,type:SL(l,se),createNotation:typeof s.reducers=="function"};IL(ue)?xL(Z,ue,y,e):RL(Z,ue,y)});function E(){const[se={},ue=[],Z=void 0]=typeof s.extraReducers=="function"?_C(s.extraReducers):[s.extraReducers],A={...se,...g.sliceCaseReducersByType};return dL(s.initialState,C=>{for(let N in A)C.addCase(N,A[N]);for(let N of g.sliceMatchers)C.addMatcher(N.matcher,N.reducer);for(let N of ue)C.addMatcher(N.matcher,N.reducer);Z&&C.addDefaultCase(Z)})}const S=se=>se,w=new Map,O=new WeakMap;let F;function k(se,ue){return F||(F=E()),F(se,ue)}function K(){return F||(F=E()),F.getInitialState()}function B(se,ue=!1){function Z(C){let N=C[se];return typeof N>"u"&&ue&&(N=Nf(O,Z,K)),N}function A(C=S){const N=Nf(w,ue,()=>new WeakMap);return Nf(N,C,()=>{const x={};for(const[M,V]of Object.entries(s.selectors??{}))x[M]=wL(V,C,()=>Nf(O,C,K),ue);return x})}return{reducerPath:se,getSelectors:A,get selectors(){return A(Z)},selectSlice:Z}}const Q={name:l,reducer:k,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:K,...B(c),injectInto(se,{reducerPath:ue,...Z}={}){const A=ue??c;return se.inject({reducerPath:A,reducer:k},Z),{...Q,...B(A,!0)}}};return Q}}function wL(n,e,t,a){function s(l,...c){let d=e(l);return typeof d>"u"&&a&&(d=t()),n(d,...c)}return s.unwrapped=n,s}var wo=AL();function CL(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function RL({type:n,reducerName:e,createNotation:t},a,s){let l,c;if("reducer"in a){if(t&&!NL(a))throw new Error(ba(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?dc(n,c):dc(n))}function IL(n){return n._reducerDefinitionType==="asyncThunk"}function NL(n){return n._reducerDefinitionType==="reducerWithPrepare"}function xL({type:n,reducerName:e},t,a,s){if(!s)throw new Error(ba(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:y}=t,E=s(n,l,y);a.exposeAction(e,E),c&&a.addCase(E.fulfilled,c),d&&a.addCase(E.pending,d),m&&a.addCase(E.rejected,m),g&&a.addMatcher(E.settled,g),a.exposeCaseReducer(e,{fulfilled:c||xf,pending:d||xf,rejected:m||xf,settled:g||xf})}function xf(){}function ba(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const DL={positions:[],loading:!1,error:null,fetched:!1,isDirty:!1},Sa=Hr("positions/fetchPositions",async(n,{rejectWithValue:e})=>{try{const t=ai(Ln,"metadata","positions"),a=await Yc(t);if(a.exists()){const s=a.data();return Array.isArray(s.list)?s.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch positions")}}),H_=Hr("positions/updatePositions",async(n,{rejectWithValue:e})=>{try{const t=ai(Ln,"metadata","positions");return await C_(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update positions")}}),vC=wo({name:"positions",initialState:DL,reducers:{updatePositionCustomLabels:(n,e)=>{const{positionName:t,labels:a}=e.payload,s=n.positions.find(l=>l.name===t);s&&(s.customLabels=a,n.isDirty=!0)},resetPositionsDirty:n=>{n.isDirty=!1}},extraReducers:n=>{n.addCase(Sa.pending,e=>{e.loading=!0,e.error=null}).addCase(Sa.fulfilled,(e,t)=>{e.positions=t.payload,e.loading=!1,e.fetched=!0}).addCase(Sa.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(H_.fulfilled,(e,t)=>{e.positions=t.payload,e.isDirty=!1})}}),{updatePositionCustomLabels:Df,resetPositionsDirty:OL}=vC.actions,ML=vC.reducer,PL={teams:[],loading:!1,error:null,fetched:!1},fo=Hr("teams/fetchTeams",async(n,{rejectWithValue:e})=>{try{const t=ai(Ln,"metadata","teams"),a=await Yc(t);if(a.exists()){const s=a.data();return Array.isArray(s.list)?s.list.map(c=>({...c,maxConflict:c.maxConflict||1})):[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch teams")}}),Qf=Hr("teams/updateTeams",async(n,{rejectWithValue:e})=>{try{const t=ai(Ln,"metadata","teams");return await C_(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update teams")}}),EC=wo({name:"teams",initialState:PL,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(fo.pending,e=>{e.loading=!0,e.error=null}).addCase(fo.fulfilled,(e,t)=>{e.teams=t.payload,e.loading=!1,e.fetched=!0}).addCase(fo.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Qf.pending,e=>{e.error=null}).addCase(Qf.fulfilled,(e,t)=>{e.teams=t.payload}).addCase(Qf.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:U9}=EC.actions,VL=EC.reducer,kL=()=>{const n=li(),{firebaseUser:e,userData:t,loading:a}=lt(m=>m.auth),{fetched:s,loading:l}=lt(m=>m.teams),{fetched:c,loading:d}=lt(m=>m.positions);return P.useEffect(()=>{e&&(t!=null&&t.isApproved)&&(!s&&!l&&n(fo()),!c&&!d&&n(Sa()))},[n,e,t,s,l,c,d]),a||t!=null&&t.isApproved&&(!s||!c)?T.jsx(Fl,{}):e?t?t.isApproved?T.jsx(wA,{}):T.jsx(ys,{to:"/guest",replace:!0}):T.jsx(Fl,{}):T.jsx(ys,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=(...n)=>n.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=n=>{const e=jL(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},m)=>P.createElement("svg",{ref:m,...UL,width:e,height:e,stroke:n,strokeWidth:a?Number(t)*24/Number(e):t,className:TC("lucide",s),...!l&&!zL(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,y])=>P.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=(n,e)=>{const t=P.forwardRef(({className:a,...s},l)=>P.createElement(BL,{ref:l,iconNode:e,className:TC(`lucide-${LL(HS(n))}`,`lucide-${n}`,a),...s}));return t.displayName=HS(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FL=fr("arrow-left",HL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],GL=fr("arrow-right",qL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bC=fr("chevron-up",$L);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],YL=fr("circle-check",KL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XL=fr("copy",QL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],SC=fr("corner-down-right",WL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ZL=fr("layout-grid",JL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tj=fr("moon",ej);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],rj=fr("panel-left-close",nj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],aj=fr("panel-left-open",ij);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xc=fr("plus",sj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lj=fr("sun",oj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AC=fr("trash-2",uj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hj=fr("users",cj);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ny=fr("x",fj),dj=()=>{try{const n=localStorage.getItem("hidden-users");return n?JSON.parse(n):{}}catch{return{}}},mj={isMobileSidebarOpen:!1,isDesktopSidebarExpanded:!0,expandedTeams:[],hiddenUsers:dj(),lastVisitedPaths:{},rosterAllViewMode:"user"},wC=wo({name:"ui",initialState:mj,reducers:{setMobileSidebarOpen:(n,e)=>{n.isMobileSidebarOpen=e.payload},setDesktopSidebarExpanded:(n,e)=>{n.isDesktopSidebarExpanded=e.payload},setRosterAllViewMode:(n,e)=>{n.rosterAllViewMode=e.payload},setLastVisitedPath:(n,e)=>{const{tabId:t,path:a}=e.payload;n.lastVisitedPaths[t]=a},toggleTeamExpansion:(n,e)=>{const t=e.payload,a=n.expandedTeams.indexOf(t);a>=0?n.expandedTeams.splice(a,1):n.expandedTeams.push(t)},expandTeam:(n,e)=>{const t=e.payload;n.expandedTeams.includes(t)||n.expandedTeams.push(t)},toggleUserVisibility:(n,e)=>{const{teamName:t,positionName:a,userEmail:s}=e.payload;n.hiddenUsers[t]||(n.hiddenUsers[t]={}),n.hiddenUsers[t][a]||(n.hiddenUsers[t][a]=[]);const l=n.hiddenUsers[t][a],c=l.indexOf(s);c>=0?l.splice(c,1):l.push(s),localStorage.setItem("hidden-users",JSON.stringify(n.hiddenUsers))}}}),{setMobileSidebarOpen:El,setDesktopSidebarExpanded:pj,setRosterAllViewMode:FS,setLastVisitedPath:gj,toggleTeamExpansion:yj,expandTeam:_j,toggleUserVisibility:vj}=wC.actions,Ej=wC.reducer,Tj=()=>{const n=P.useContext(iC);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},bj="_themeToggleButton_yikav_1",Sj={themeToggleButton:bj},pm=({showText:n,className:e})=>{const{theme:t,toggleTheme:a}=Tj();return T.jsxs("button",{className:`${Sj.themeToggleButton} ${e||""}`,onClick:a,"aria-label":"Toggle theme",children:[t==="dark"?T.jsx(lj,{size:20}):T.jsx(tj,{size:20}),n&&T.jsx("span",{children:"Toggle theme"})]})},Aj="_mobileHeader_rrb9m_1",wj="_mobileHeaderPill_rrb9m_16",Cj="_mobileHeaderPillDisabled_rrb9m_28",Rj="_mobileHeaderPillActive_rrb9m_32",Ij="_mobileHeaderText_rrb9m_43",Nj="_mobileHeaderChevron_rrb9m_51",xj="_rotate_rrb9m_56",ro={mobileHeader:Aj,mobileHeaderPill:wj,mobileHeaderPillDisabled:Cj,mobileHeaderPillActive:Rj,mobileHeaderText:Ij,mobileHeaderChevron:Nj,rotate:xj},Dj=({title:n,hasSideNav:e=!0})=>{const t=li(),{isMobileSidebarOpen:a}=lt(l=>l.ui),s=()=>{e&&t(El(!a))};return T.jsxs("header",{className:ro.mobileHeader,children:[T.jsxs("div",{className:`${ro.mobileHeaderPill} ${a?ro.mobileHeaderPillActive:""} ${e?"":ro.mobileHeaderPillDisabled}`,onClick:s,children:[T.jsx("span",{className:ro.mobileHeaderText,children:n}),e&&T.jsx(bC,{className:`${ro.mobileHeaderChevron} ${a?ro.rotate:""}`})]}),T.jsx(pm,{})]})};var rn=(n=>(n.DASHBOARD="dashboard",n.ROSTER="roster",n.SETTINGS="settings",n))(rn||{}),bl=(n=>(n.PROFILE="Profile",n.USER_MANAGEMENT="Users",n.POSITIONS="Positions",n.TEAMS="Teams",n))(bl||{});const F_=[{id:"dashboard",label:"Dashboard",icon:""},{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],qS=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],Oj="_bottomNavContainer_1c0tq_1",Mj="_bottomNav_1c0tq_1",Pj="_bottomNavBtn_1c0tq_18",Vj="_bottomNavBtnActive_1c0tq_42",Of={bottomNavContainer:Oj,bottomNav:Mj,bottomNavBtn:Pj,bottomNavBtnActive:Vj},kj=()=>{const n=To(),e=oi(),{lastVisitedPaths:t}=lt(l=>l.ui),a=e.pathname.includes("/settings")?rn.SETTINGS:e.pathname.includes("/dashboard")?rn.DASHBOARD:rn.ROSTER,s=l=>{if(a===l){l===rn.DASHBOARD&&n("/app/dashboard");return}const c=t[l];n(c||`/app/${l}`)};return T.jsx("nav",{className:Of.bottomNavContainer,children:T.jsx("div",{className:Of.bottomNav,children:F_.map(l=>T.jsxs("button",{className:`${Of.bottomNavBtn} ${a===l.id?Of.bottomNavBtnActive:""}`,onClick:()=>s(l.id),children:[T.jsx("span",{children:l.icon}),T.jsx("span",{children:l.label})]},l.id))})})},Lj="_sideNav_wbcy2_1",jj="_menuOpen_wbcy2_21",Uj="_sidebarContent_wbcy2_27",zj="_tabletSidebarHeader_wbcy2_34",Bj="_sideMenuList_wbcy2_38",Hj="_sidenavMenuSubheading_wbcy2_43",Fj="_sideNavItem_wbcy2_67",qj="_sideNavItemActive_wbcy2_95",Gj="_sideEmoji_wbcy2_102",$j="_loading_wbcy2_109",Kj="_sidebarToggleButton_wbcy2_116",Yj="_sidebarFooter_wbcy2_117",Qj="_sidebarCollapsed_wbcy2_173",Xj="_adminOnlySectionWrapper_wbcy2_194",wt={sideNav:Lj,menuOpen:jj,sidebarContent:Uj,tabletSidebarHeader:zj,sideMenuList:Bj,sidenavMenuSubheading:Hj,sideNavItem:Fj,sideNavItemActive:qj,sideEmoji:Gj,loading:$j,sidebarToggleButton:Kj,sidebarFooter:Yj,sidebarCollapsed:Qj,adminOnlySectionWrapper:Xj},Wj=()=>{var Z;const n=To(),e=oi(),t=jd(),a=li(),{userData:s}=lt(A=>A.auth),{isDesktopSidebarExpanded:l,isMobileSidebarOpen:c,expandedTeams:d}=lt(A=>A.ui),{teams:m,fetched:g,loading:y}=lt(A=>A.teams),{fetched:E}=lt(A=>A.positions),S=e.pathname.includes("/settings")?rn.SETTINGS:e.pathname.includes("/dashboard")?rn.DASHBOARD:rn.ROSTER,{teamName:w,positionName:O,section:F}=t,k=O||F,K=P.useRef(void 0);P.useEffect(()=>{w&&S===rn.ROSTER&&w!==K.current&&a(_j(w)),K.current=w},[w,S,a]),P.useEffect(()=>{g||a(fo()),E||a(Sa())},[a,g,E]);const B=P.useCallback(A=>{n(A)},[n]),Q=A=>{a(yj(A))},se=()=>{const A=F_.find(N=>N.id===S),C=A?A.label:"GIG ROSTER";return w&&k?`${w}  ${k}`:w||(k?`${C}  ${k}`:C)},ue=[wt.sideNav,c?wt.menuOpen:"",l?"":wt.sidebarCollapsed].filter(Boolean).join(" ");return T.jsxs("aside",{className:ue,children:[T.jsxs("div",{className:wt.sidebarContent,children:[T.jsxs("div",{className:wt.tabletSidebarHeader,children:[l&&T.jsx("h3",{children:se()}),T.jsx("button",{className:wt.sidebarToggleButton,onClick:()=>a(pj(!l)),"aria-label":l?"Collapse sidebar":"Expand sidebar",children:l?T.jsx(rj,{size:20}):T.jsx(aj,{size:20})})]}),T.jsxs("nav",{className:wt.sideMenuList,children:[S===rn.ROSTER&&y&&T.jsx("div",{className:`${wt.sideNavItem} ${wt.loading}`,children:"Loading teams..."}),S===rn.ROSTER?(Z=s==null?void 0:s.teams)==null?void 0:Z.map(A=>{var M,V;const C=m.find(D=>D.name===A);if(!C)return null;const N=s.teams.length===1,x=N||d.includes(C.name);return T.jsxs("div",{children:[!N&&T.jsxs("div",{className:`${wt.sidenavMenuSubheading} ${wt.sidenavMenuSubheadingClickable}`,style:{cursor:"pointer"},onClick:()=>{Q(C.name),B(`/app/roster/${C.name}/All`)},children:[T.jsxs("div",{children:[C.emoji," ",l&&C.name]}),T.jsx("span",{className:wt.expandIcon,children:x?"":""})]}),x&&T.jsxs("div",{className:wt.sideNavSubItems,children:[T.jsxs("button",{className:`${wt.sideNavItem} ${wt.sideNavItemSub} ${k==="All"&&w===C.name?wt.sideNavItemActive:""}`,onClick:()=>{B(`/app/roster/${C.name}/All`),a(El(!1))},style:{borderLeft:k==="All"&&w===C.name?"4px solid var(--color-primary)":"4px solid transparent",backgroundColor:k==="All"&&w===C.name?"var(--background-toggle-on-transparent)":"transparent",color:k==="All"&&w===C.name?"var(--color-primary)":""},children:[T.jsx("span",{className:wt.sideEmoji,children:""})," ",l&&"All"]}),(V=(M=C.positions)==null?void 0:M.filter(D=>!D.parentId))==null?void 0:V.map(D=>{const ce=k===D.name&&w===C.name;return T.jsxs("button",{className:`${wt.sideNavItem} ${wt.sideNavItemSub} ${ce?wt.sideNavItemActive:""}`,onClick:()=>{B(`/app/roster/${C.name}/${D.name}`),a(El(!1))},style:{borderLeft:ce?`4px solid ${D.colour}`:"4px solid transparent",backgroundColor:ce?`${D.colour}15`:"transparent",color:ce?D.colour:""},children:[T.jsx("span",{className:wt.sideEmoji,children:D.emoji})," ",l&&D.name]},D.name)}),C.allowAbsence!==!1&&T.jsxs("button",{className:`${wt.sideNavItem} ${wt.sideNavItemSub} ${k==="Absence"&&w===C.name?wt.sideNavItemActive:""}`,onClick:()=>{B(`/app/roster/${C.name}/Absence`),a(El(!1))},style:{borderLeft:k==="Absence"&&w===C.name?"4px solid var(--color-error)":"4px solid transparent",backgroundColor:k==="Absence"&&w===C.name?"var(--background-toggle-off-transparent)":"transparent"},children:[T.jsx("span",{className:wt.sideEmoji,children:""})," ",l&&"Absence"]})]})]},C.name)}):qS.filter(A=>!A.adminOnly).map(A=>T.jsxs("button",{className:`${wt.sideNavItem} ${k===A.id?wt.sideNavItemActive:""}`,onClick:()=>{B(`/app/settings/${A.id}`),a(El(!1))},children:[T.jsx("span",{className:wt.sideEmoji,children:A.icon})," ",l&&A.label]},A.id))]})]}),(s==null?void 0:s.isAdmin)&&S===rn.SETTINGS&&T.jsxs("div",{className:wt.adminOnlySectionWrapper,children:[T.jsx("div",{className:wt.sidenavMenuSubheading,children:l&&T.jsx("h4",{children:"Admin Only"})}),qS.filter(A=>A.adminOnly).map(A=>T.jsxs("button",{className:`${wt.sideNavItem} ${k===A.id?wt.sideNavItemActive:""}`,onClick:()=>{B(`/app/settings/${A.id}`),a(El(!1))},children:[T.jsx("span",{className:wt.sideEmoji,children:A.icon})," ",l&&A.label]},A.id))]}),T.jsx("div",{className:wt.sidebarFooter,children:T.jsx(pm,{showText:l})})]})},Jj="_layoutWrapper_ysxiy_1",Zj="_innerWrapper_ysxiy_13",eU="_mainContent_ysxiy_21",hl={layoutWrapper:Jj,innerWrapper:Zj,mainContent:eU},tU=()=>{const n=li(),e=To(),t=oi(),a=jd(),{userData:s}=lt(k=>k.auth),{teams:l}=lt(k=>k.teams),{isMobileSidebarOpen:c,isDesktopSidebarExpanded:d,lastVisitedPaths:m}=lt(k=>k.ui),g=t.pathname.includes("/settings")?rn.SETTINGS:t.pathname.includes("/dashboard")?rn.DASHBOARD:rn.ROSTER,{teamName:y,positionName:E,section:S}=a,w=E||S||null,O=g!==rn.DASHBOARD;P.useEffect(()=>{const k=g===rn.ROSTER&&!y,K=g===rn.SETTINGS&&!w;if(t.pathname.startsWith("/app/")&&!k&&!K&&g!==rn.DASHBOARD){const B=t.pathname+t.search;n(gj({tabId:g,path:B}))}},[t.pathname,t.search,g,y,w,n]),P.useEffect(()=>{var Q;const k=t.pathname==="/app"||t.pathname==="/app/",K=g===rn.ROSTER&&!y,B=g===rn.SETTINGS&&!w;if(k)e(m[rn.DASHBOARD]||"/app/dashboard",{replace:!0});else if(K){const se=m[rn.ROSTER];if(se)e(se,{replace:!0});else if((Q=s==null?void 0:s.teams)!=null&&Q[0]&&l.length>0){const ue=l.find(Z=>Z.name===s.teams[0]);ue&&e(`/app/roster/${ue.name}/All`,{replace:!0})}}else if(B){const se=m[rn.SETTINGS];e(se||`/app/settings/${bl.PROFILE}`,{replace:!0})}},[g,y,w,s,l,e,t.pathname,t.search,m]);const F=()=>{const k=F_.find(B=>B.id===g),K=k?k.label:"GIG ROSTER";return y&&w?`${y}  ${w}`:y||(w?`${K}  ${w}`:K)};return T.jsxs("div",{className:`${hl.layoutWrapper} ${c?hl.menuOpen:""} ${d?hl.sidebarExpanded:hl.sidebarCollapsed}`,children:[O&&T.jsx(Wj,{}),T.jsxs("div",{className:hl.innerWrapper,children:[T.jsx(Dj,{title:F(),hasSideNav:O}),T.jsx("main",{className:hl.mainContent,children:T.jsx(wA,{})}),T.jsx(kj,{})]})]})},nU="_rosterSaveFooter_1ce1v_1",rU="_saveFooterContent_1ce1v_23",iU="_changesLabel_1ce1v_32",aU="_saveFooterActions_1ce1v_37",sU="_saveBtn_1ce1v_42",oU="_cancelBtn_1ce1v_57",lU="_sidebarCollapsed_1ce1v_77",uU="_noSidebar_1ce1v_81",us={rosterSaveFooter:nU,saveFooterContent:rU,changesLabel:iU,saveFooterActions:aU,saveBtn:sU,cancelBtn:oU,sidebarCollapsed:lU,noSidebar:uU},eu=({label:n="You have unsaved changes",onSave:e,onCancel:t,isSaving:a,saveText:s="Save",discardText:l="Discard",hasSideNav:c=!0})=>{const{isDesktopSidebarExpanded:d}=lt(g=>g.ui),m=[us.rosterSaveFooter,c?"":us.noSidebar,!d&&c?us.sidebarCollapsed:""].filter(Boolean).join(" ");return T.jsx("div",{className:m,children:T.jsxs("div",{className:us.saveFooterContent,children:[T.jsx("span",{className:us.changesLabel,children:n}),T.jsxs("div",{className:us.saveFooterActions,children:[T.jsx("button",{className:us.cancelBtn,onClick:t,disabled:a,children:l}),T.jsx("button",{className:us.saveBtn,onClick:e,disabled:a,children:a?"Saving...":s})]})]})})},CC=n=>{const e=[];return Object.entries(n).forEach(([t,a])=>{a.forEach(s=>{e.push(`${t}|${s}`)})}),e},RC=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${a}`},xl=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Pacific/Auckland",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),cU={entries:{},dirtyEntries:{},loading:!1,saving:!1,error:null},mc=Hr("roster/fetchEntries",async(n,{rejectWithValue:e})=>{try{const t=Kc(qc(Ln,"roster")),a=await Qc(t),s={};return a.docs.forEach(l=>{const c=l.data(),d=c.updatedAt,m={...c,updatedAt:d&&typeof d=="object"&&"toMillis"in d?d.toMillis():d};s[l.id]={...m,id:l.id}}),s}catch(t){return e(t instanceof Error?t.message:"Failed to fetch roster entries")}}),pc=Hr("roster/saveChanges",async(n,{rejectWithValue:e})=>{try{const t=C1(Ln),a=Date.now(),s={};return Object.values(n).forEach(l=>{const c=ai(Ln,"roster",l.id),d={...l,updatedAt:a};t.set(c,d),s[l.id]=d}),await t.commit(),s}catch(t){return e(t instanceof Error?t.message:"Failed to save roster changes")}}),IC=wo({name:"roster",initialState:cU,reducers:{clearError:n=>{n.error=null},updateLocalAssignment(n,e){const{date:t,teamName:a,userIdentifier:s,positionGroupNames:l,maxConflict:c}=e.payload,d=n.dirtyEntries[t]||n.entries[t];let m;d?m=JSON.parse(JSON.stringify(d)):m={id:t,date:t,teams:{},absence:{}},m.teams[a]||(m.teams[a]={});const g=m.teams[a][s]||[],y=l.findIndex(O=>g.includes(O)),E=y>=0?l[y]:null;let S=null;E===null?S=l[0]:y<l.length-1?S=l[y+1]:S=null;const w=g.filter(O=>!l.includes(O));if(S)if(w.length<c)w.push(S);else{n.error=`User already has ${c} assignment(s) in this team.`;return}w.length===0?delete m.teams[a][s]:m.teams[a][s]=w,n.dirtyEntries[t]=m},updateLocalEventName(n,e){const{date:t,eventName:a}=e.payload,s=n.dirtyEntries[t]||n.entries[t];let l;s?l=JSON.parse(JSON.stringify(s)):l={id:t,date:t,teams:{},absence:{}},l.eventName=a,n.dirtyEntries[t]=l},resetRosterEdits(n){n.dirtyEntries={},n.error=null},updateLocalAbsence(n,e){var m;const{date:t,userIdentifier:a,reason:s,isAbsent:l}=e.payload,c=n.dirtyEntries[t]||n.entries[t];let d;c?d=JSON.parse(JSON.stringify(c)):d={id:t,date:t,teams:{},absence:{}},l?d.absence[a]={reason:s??((m=d.absence[a])==null?void 0:m.reason)??""}:delete d.absence[a],n.dirtyEntries[t]=d}},extraReducers:n=>{n.addCase(mc.pending,e=>{e.loading=!0,e.error=null}).addCase(mc.fulfilled,(e,t)=>{e.entries=t.payload,e.loading=!1}).addCase(mc.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(pc.pending,e=>{e.saving=!0,e.error=null}).addCase(pc.fulfilled,(e,t)=>{e.entries={...e.entries,...t.payload},e.dirtyEntries={},e.saving=!1}).addCase(pc.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{clearError:z9,updateLocalAssignment:hU,updateLocalEventName:fU,resetRosterEdits:NC,updateLocalAbsence:GS}=IC.actions,dU=IC.reducer,Xf=(n,e,t)=>{const a=[],s=new Date;s.setHours(0,0,0,0);const l=s.getFullYear(),c=e||l,d=t||l,m={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g=n.map(w=>m[w]);let y;c===l?y=new Date(s):y=new Date(c,0,1),y.setHours(0,0,0,0);const E=new Date(d,11,31);E.setHours(23,59,59,999);const S=new Date(y);for(;S.getTime()<=E.getTime();)g.includes(S.getDay())&&a.push(new Date(S)),S.setDate(S.getDate()+1);return a.sort((w,O)=>w.getTime()-O.getTime()),a.map(w=>RC(w))},mU=(n,e,t=5)=>{const a=[],s=new Date(e);s.setHours(0,0,0,0);const l={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c=n.map(m=>l[m]),d=new Date(s);for(;a.length<t;){d.setDate(d.getDate()-1),c.includes(d.getDay())&&a.push(new Date(d));const m=new Date(s);if(m.setFullYear(m.getFullYear()-1),d<m)break}return a.map(m=>RC(m)).sort()},pU={users:[],allTeamUsers:[],currentTeamData:null,rosterDates:[],loadingUsers:!1,loadingTeam:!1,loadingAllTeamUsers:!1,error:null},Wf=Hr("rosterView/fetchAllTeamUsers",async(n,{rejectWithValue:e})=>{if(!n)return[];try{const t=qc(Ln,"users"),a=Kc(t,A_("teams","array-contains",n)),s=await Qc(a),l=[];return s.forEach(c=>{l.push(c.data())}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return console.error("Error fetching team users:",t),e("Failed to load team users.")}}),Jf=Hr("rosterView/fetchUsers",async({teamName:n,positionName:e},{rejectWithValue:t,getState:a})=>{if(!n||!e)return[];try{const c=a().positions.positions.filter(w=>w.parentId===e),m=[e,...c.map(w=>w.name)].map(w=>`${n}|${w}`),g=qc(Ln,"users"),y=Kc(g,A_("indexedAssignments","array-contains-any",m)),E=await Qc(y),S=[];return E.forEach(w=>{S.push(w.data())}),S.sort((w,O)=>(w.name||"").localeCompare(O.name||""))}catch(s){return console.error("Error fetching users:",s),t("Failed to load users.")}}),Zf=Hr("rosterView/fetchTeamData",async(n,{rejectWithValue:e})=>{if(!n)return null;try{const t=ai(Ln,"metadata","teams"),a=await Yc(t);if(a.exists()){const s=a.data();return(Array.isArray(s.list)?s.list.map(d=>({...d,preferredDays:d.preferredDays||[],positions:d.positions||[]})):[]).find(d=>d.name===n)||null}return null}catch(t){return console.error("Error fetching team data:",t),e("Failed to load team data.")}}),xC=wo({name:"rosterView",initialState:pU,reducers:{loadPreviousDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const e=mU(n.currentTeamData.preferredDays,n.rosterDates[0]);n.rosterDates=[...e,...n.rosterDates]}},resetToUpcomingDates(n){var e;(e=n.currentTeamData)!=null&&e.preferredDays&&(n.rosterDates=Xf(n.currentTeamData.preferredDays))},loadNextYearDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const t=new Date(n.rosterDates[n.rosterDates.length-1]).getFullYear()+1,a=Xf(n.currentTeamData.preferredDays,t,t);n.rosterDates=[...n.rosterDates,...a]}}},extraReducers:n=>{n.addCase(Jf.pending,e=>{e.loadingUsers=!0,e.users=[],e.error=null}).addCase(Jf.fulfilled,(e,t)=>{e.users=t.payload,e.loadingUsers=!1}).addCase(Jf.rejected,(e,t)=>{e.error=t.payload,e.loadingUsers=!1}).addCase(Wf.pending,e=>{e.loadingAllTeamUsers=!0,e.allTeamUsers=[]}).addCase(Wf.fulfilled,(e,t)=>{e.allTeamUsers=t.payload,e.loadingAllTeamUsers=!1}).addCase(Wf.rejected,(e,t)=>{e.error=t.payload,e.loadingAllTeamUsers=!1}).addCase(Zf.pending,e=>{e.loadingTeam=!0,e.currentTeamData=null,e.rosterDates=[],e.error=null}).addCase(Zf.fulfilled,(e,t)=>{var a;e.currentTeamData=t.payload,(a=t.payload)!=null&&a.preferredDays&&(e.rosterDates=Xf(t.payload.preferredDays)),e.loadingTeam=!1}).addCase(Zf.rejected,(e,t)=>{e.error=t.payload,e.loadingTeam=!1})}}),{loadPreviousDates:gU,resetToUpcomingDates:yU,loadNextYearDates:_U}=xC.actions,vU=xC.reducer,EU="_dashboardContainer_19qve_1",TU="_dashboardHeader_19qve_10",bU="_dashboardHeaderActions_19qve_24",SU="_clearPastBtn_19qve_32",AU="_eventNameContainer_19qve_48",wU="_dashboardEventNameInput_19qve_55",CU="_dashboardEventNameInputHasEvent_19qve_79",RU="_carouselOuterWrapper_19qve_90",IU="_eventsCarouselTrack_19qve_98",NU="_eventCardWrapper_19qve_112",xU="_peek_19qve_123",DU="_active_19qve_129",OU="_eventCardDate_19qve_135",MU="_dashboardTodayBadge_19qve_147",PU="_teamCardsContainer_19qve_158",VU="_teamEventCard_19qve_166",kU="_dashboardThemeToggle_19qve_174",LU="_teamEventHeader_19qve_178",jU="_teamCardEmoji_19qve_197",UU="_teamCardName_19qve_201",zU="_copyRosterBtn_19qve_205",BU="_copyRosterBtnSuccess_19qve_226",HU="_teamEventDetails_19qve_232",FU="_posAssignmentRow_19qve_238",qU="_posEmojiLabel_19qve_244",GU="_assignedNames_19qve_250",$U="_unassigned_19qve_256",KU="_meTag_19qve_264",YU="_carouselPagination_19qve_286",QU="_dashboardEmpty_19qve_295",Ot={dashboardContainer:EU,dashboardHeader:TU,dashboardHeaderActions:bU,clearPastBtn:SU,eventNameContainer:AU,dashboardEventNameInput:wU,dashboardEventNameInputHasEvent:CU,carouselOuterWrapper:RU,eventsCarouselTrack:IU,eventCardWrapper:NU,peek:xU,active:DU,eventCardDate:OU,dashboardTodayBadge:MU,teamCardsContainer:PU,teamEventCard:VU,dashboardThemeToggle:kU,teamEventHeader:LU,teamCardEmoji:jU,teamCardName:UU,copyRosterBtn:zU,copyRosterBtnSuccess:BU,teamEventDetails:HU,posAssignmentRow:FU,posEmojiLabel:qU,assignedNames:GU,unassigned:$U,meTag:KU,carouselPagination:YU,dashboardEmpty:QU},XU=()=>{const n=li(),[e,t]=pD(),a=e.get("date"),{userData:s}=lt(oe=>oe.auth),{teams:l}=lt(oe=>oe.teams),{entries:c,dirtyEntries:d,loading:m,saving:g}=lt(oe=>oe.roster),{positions:y}=lt(oe=>oe.positions),[E,S]=P.useState([]),[w,O]=P.useState(!1),[F,k]=P.useState(null),[K,B]=P.useState(0),[Q,se]=P.useState(0),[ue,Z]=P.useState(!1),A=P.useRef(null),C=P.useRef(!1),N=Object.keys(d).length>0;P.useEffect(()=>{n(mc())},[n]),P.useEffect(()=>{const oe=A.current;if(!oe)return;const Ee=new ResizeObserver(Se=>{for(const Ne of Se){const Be=Ne.contentRect.width;Be>0&&se(Be)}});return Ee.observe(oe),()=>Ee.disconnect()},[m,w]);const x=P.useMemo(()=>{const oe=xl();if(!(s!=null&&s.teams)||l.length===0)return[];const Ee=l.filter(Be=>s.teams.includes(Be.name)),Se=new Set;Ee.forEach(Be=>{Xf(Be.preferredDays).forEach(yt=>Se.add(yt))});const Ne=Array.from(Se).sort();return a&&a<oe?[a]:Ne.filter(Be=>{const Ge=Be;if(a===Ge)return!0;const yt=c[Ge]||d[Ge];return yt?Ee.some(Lt=>{var en;const mt=((en=yt.teams)==null?void 0:en[Lt.name])||{};return Object.values(mt).some(hn=>hn.length>0)}):!1})},[s,l,c,d,a]);P.useEffect(()=>{if(x.length===0||!A.current||m||Q===0)return;const oe=A.current,Ee=(Se,Ne)=>{const Be=oe.offsetWidth||Q;Be!==0&&(oe.style.scrollSnapType="none",oe.scrollTo({left:Be*Se,behavior:Ne?"smooth":"auto"}),setTimeout(()=>{oe&&(oe.style.scrollSnapType="x mandatory"),Z(!0)},50),B(Se),C.current=!0)};if(a){const Se=x.findIndex(Ne=>Ne===a);if(Se>=0){const Ne=Math.round(oe.scrollLeft/(oe.offsetWidth||Q||1));!C.current||Ne!==Se?requestAnimationFrame(()=>{Ee(Se,C.current)}):Z(!0)}else Z(!0)}else oe.scrollLeft!==0?Ee(0,!0):Z(!0),C.current=!0},[a,x,m,Q]);const M=()=>{t({},{replace:!0})};P.useEffect(()=>{(async()=>{if(!(!(s!=null&&s.teams)||s.teams.length===0)){O(!0);try{const Ee=qc(Ln,"users"),Se=Kc(Ee,A_("teams","array-contains-any",s.teams)),Ne=await Qc(Se),Be=[];Ne.forEach(Ge=>Be.push(Ge.data())),S(Be)}catch(Ee){console.error("Error fetching users for dashboard:",Ee)}finally{O(!1)}}})()},[s==null?void 0:s.teams]);const V=P.useCallback(oe=>{if(!oe||!(s!=null&&s.teams)||l.length===0)return null;const Ee=oe,Se=d[Ee]||c[Ee],Ge=l.filter(yt=>s.teams.includes(yt.name)).sort((yt,Lt)=>{const mt=s.teams.indexOf(yt.name),en=s.teams.indexOf(Lt.name);return mt-en}).map(yt=>{var Fr;const Lt=((Fr=Se==null?void 0:Se.teams)==null?void 0:Fr[yt.name])||{},mt=[],en=yt.positions.map(an=>an.name);let hn=0;return en.forEach(an=>{const Bn=y.find(ut=>ut.name===an),wr=[];Object.entries(Lt).forEach(([ut,On])=>{if(On.includes(an)){const wi=E.find(ui=>ui.email===ut);wi?wr.push(wi):wr.push({email:ut,name:ut}),hn++}});const Pt=[...wr].sort((ut,On)=>Bn!=null&&Bn.sortByGender&&ut.gender!==On.gender?ut.gender==="Male"?-1:On.gender==="Male"?1:(ut.gender||"").localeCompare(On.gender||""):(ut.name||"").localeCompare(On.name||""));mt.push({posName:an,emoji:(Bn==null?void 0:Bn.emoji)||"",assignedUsers:Pt.map(ut=>({name:ut.name||ut.email||"Unknown",isMe:ut.email===s.email}))})}),{teamName:yt.name,teamEmoji:yt.emoji,positions:mt,hasAssignments:hn>0}}).filter(yt=>yt.hasAssignments);return Ge.length>0?Ge:null},[c,d,s,l,y,E]),D=(oe,Ee,Se,Ne)=>{const Ge=new Date(oe).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",timeZone:"UTC"});let yt=`${Se} ${Ee} - ${Ge}
`;Ne.forEach(Lt=>{const mt=Lt.assignedUsers.length>0?Lt.assignedUsers.map(en=>en.name).join(", "):"-";yt+=`${Lt.emoji}: ${mt}
`}),navigator.clipboard.writeText(yt).then(()=>{const Lt=`${oe}-${Ee}`;k(Lt),setTimeout(()=>k(null),2e3)})},ce=()=>{if(!A.current)return;const oe=A.current,Ee=oe.offsetWidth,Se=Math.round(oe.scrollLeft/Ee);if(Se!==K&&x[Se]){B(Se);const Ne=x[Se];if(a!==Ne){const Be=xl();Se===0&&Be===Ne?t({},{replace:!0}):t({date:Ne},{replace:!0})}}},_e=(oe,Ee)=>{n(fU({date:oe,eventName:Ee}))},z=()=>{n(pc(d))},ne=()=>{n(NC())};if(m||w)return T.jsx(Zl,{});if(x.length===0)return T.jsxs("div",{className:Ot.dashboardEmpty,children:[T.jsx("h2",{children:"No upcoming events found"}),T.jsx("p",{children:"You are not rostered for any upcoming team events."})]});const he=x[K],xe=xl(),Ue=he&&he<xe,U=Ue?"Previous Event":"Upcoming Events",ie=oe=>new Date(oe).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric",timeZone:"UTC"}),be=(oe,Ee=!1)=>{const Se=V(oe);return Se?T.jsx("div",{className:Ot.teamCardsContainer,children:Se.map(Ne=>{const Be=F===`${oe}-${Ne.teamName}`;return T.jsxs("div",{className:Ot.teamEventCard,children:[T.jsxs("div",{className:Ot.teamEventHeader,children:[T.jsxs("h3",{children:[T.jsx("span",{className:Ot.teamCardEmoji,children:Ne.teamEmoji}),T.jsx("span",{className:Ot.teamCardName,children:Ne.teamName})]}),!Ee&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx(pm,{className:Ot.dashboardThemeToggle}),T.jsx("button",{className:`${Ot.copyRosterBtn} ${Be?Ot.copyRosterBtnSuccess:""}`,onClick:()=>D(oe,Ne.teamName,Ne.teamEmoji,Ne.positions),title:"Copy to clipboard",children:Be?T.jsxs(T.Fragment,{children:[T.jsx(YL,{size:16})," Copied"]}):T.jsxs(T.Fragment,{children:[T.jsx(XL,{size:16})," Copy"]})})]})]}),T.jsx("div",{className:Ot.teamEventDetails,children:Ne.positions.map(Ge=>T.jsxs("div",{className:Ot.posAssignmentRow,children:[T.jsx("span",{className:Ot.posEmojiLabel,title:Ge.posName,children:Ge.emoji}),T.jsx("span",{className:`${Ot.assignedNames} ${Ge.assignedUsers.length===0?Ot.unassigned:""}`,children:Ge.assignedUsers.length>0?Ge.assignedUsers.map((yt,Lt)=>T.jsxs(P.Fragment,{children:[yt.name,yt.isMe&&T.jsx("span",{className:Ot.meTag,children:"Me"}),Lt<Ge.assignedUsers.length-1?", ":""]},`${yt.name}-${Lt}`)):"Unassigned"})]},Ge.posName))})]},Ne.teamName)})}):null};return T.jsxs("div",{className:Ot.dashboardContainer,children:[T.jsxs("div",{className:Ot.dashboardHeader,children:[T.jsx("h1",{children:U}),T.jsx("div",{className:Ot.dashboardHeaderActions,children:Ue&&T.jsx("button",{className:Ot.clearPastBtn,onClick:M,children:"Reset to upcoming"})})]}),T.jsx("div",{className:Ot.carouselOuterWrapper,style:{opacity:ue?1:0,transition:"opacity 0.3s ease-in-out"},children:T.jsx("div",{className:Ot.eventsCarouselTrack,ref:A,onScroll:ce,children:x.map((oe,Ee)=>{const Se=oe,Ne=d[Se]||c[Se],Be=(Ne==null?void 0:Ne.eventName)||"";return T.jsxs("div",{className:`${Ot.eventCardWrapper} ${Ee===K?Ot.active:Ot.peek}`,children:[T.jsx("div",{className:Ot.eventNameContainer,children:T.jsx("input",{type:"text",className:`${Ot.dashboardEventNameInput} ${Be?Ot.dashboardEventNameInputHasEvent:""}`,placeholder:"Event name (e.g. Easter Sunday)",value:Be,onChange:Ge=>_e(oe,Ge.target.value),disabled:Ee!==K})}),T.jsxs("div",{className:Ot.eventCardDate,children:[ie(oe),oe===xe&&T.jsx("span",{className:Ot.dashboardTodayBadge,children:"TODAY"})]}),be(oe,Ee!==K)]},oe)})})}),T.jsxs("div",{className:Ot.carouselPagination,children:[K+1," / ",x.length]}),N&&T.jsx(eu,{label:"Unsaved event labels",saveText:"Save Changes",onSave:z,onCancel:ne,isSaving:g,hasSideNav:!1})]})},WU="_button_4hh4s_1",JU="_primary_4hh4s_26",ZU="_secondary_4hh4s_31",e3="_icon_4hh4s_42",t3="_small_4hh4s_48",Mf={button:WU,primary:JU,secondary:ZU,delete:"_delete_4hh4s_36",icon:e3,small:t3},cr=({variant:n="primary",size:e="medium",isIcon:t=!1,className:a="",children:s,...l})=>{const c=[Mf.button,Mf[n],e==="small"?Mf.small:"",t?Mf.icon:"",a].filter(Boolean).join(" ");return T.jsx("button",{className:c,...l,children:s})},n3="_pillGroup_ti99d_1",r3="_pillGroupNowrap_ti99d_9",i3="_pill_ti99d_1",a3="_pillActive_ti99d_35",s3="_pillDisabled_ti99d_40",o3="_pillText_ti99d_61",Sl={pillGroup:n3,pillGroupNowrap:r3,pill:i3,pillActive:a3,pillDisabled:s3,pillText:o3},Dl=({children:n,nowrap:e})=>T.jsx("div",{className:`${Sl.pillGroup} ${e?Sl.pillGroupNowrap:""}`,children:n}),Ar=({colour:n,isDropdown:e,isActive:t,isDisabled:a,minWidth:s,onClick:l,children:c})=>{const[d,m]=P.useState(!1);return n&&n.startsWith("var(--color-")&&(n=getComputedStyle(document.documentElement).getPropertyValue(n.slice(4,-1)).trim()),T.jsxs("div",{className:`${Sl.pill} ${Sl.pillText} ${t?Sl.pillActive:""} ${a?Sl.pillDisabled:""}`,style:{"--pill-colour":n||"var(--color-link)","--pill-subtle-hover-color":`${n}15`,minWidth:s?`${s}px`:"fit-content"},onClick:g=>{a||(m(y=>!y),l&&l(g))},children:[c,e&&T.jsx(bC,{style:{rotate:d?"90deg":"0"}})]})},l3="_settingsSection_5m9oe_1",u3="_sectionLabel_5m9oe_7",c3="_subSectionGroup_5m9oe_17",h3="_subSectionHeader_5m9oe_21",f3="_formGroup_5m9oe_31",d3="_summaryButton_5m9oe_35",m3="_summaryPrimary_5m9oe_57",p3="_summarySeparator_5m9oe_66",g3="_summarySecondary_5m9oe_73",y3="_summaryEmoji_5m9oe_78",_3="_remainingCount_5m9oe_82",Nn={settingsSection:l3,sectionLabel:u3,subSectionGroup:c3,subSectionHeader:h3,formGroup:f3,summaryButton:d3,summaryPrimary:m3,summarySeparator:p3,summarySecondary:g3,summaryEmoji:y3,remainingCount:_3},DC=({selectedTeams:n,teamPositions:e,onToggleTeam:t,onTogglePosition:a,onMoveTeam:s,availableTeams:l,globalPositions:c})=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Teams"}),T.jsx(Dl,{children:l.map(d=>{const m=n.includes(d.name);return T.jsxs(Ar,{onClick:()=>t(d.name),isActive:m,children:[T.jsx("span",{children:d.emoji})," ",d.name]},d.name)})})]}),n.length>0&&T.jsxs("div",{className:Nn.settingsSection,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Positions per Team"}),n.map((d,m)=>{var E;const g=l.find(S=>S.name===d);if(!g)return null;const y=((E=g.positions)==null?void 0:E.filter(S=>{const w=c.find(O=>O.name===S.name);return!S.parentId&&!(w!=null&&w.isCustom)}))||[];return T.jsxs("div",{className:Nn.subSectionGroup,children:[T.jsxs("div",{className:Nn.subSectionHeader,style:{justifyContent:"space-between"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.emoji," ",g.name]}),s&&T.jsxs("div",{style:{display:"flex",gap:"4px"},children:[T.jsx(cr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(d,"up"),disabled:m===0,children:""}),T.jsx(cr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(d,"down"),disabled:m===n.length-1,children:""})]})]}),y.length>0?T.jsx(Dl,{children:y.map(S=>{var O;const w=(O=e[d])==null?void 0:O.includes(S.name);return T.jsxs(Ar,{onClick:()=>a(d,S.name),isActive:w,colour:S.colour,children:[T.jsx("span",{children:S.emoji})," ",S.name]},S.name)})}):T.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-dim)",margin:"8px 0"},children:"No assignable positions for this team."})]},d)})]})]}),v3={firebaseUser:null,userData:null,loading:!0,error:null},ed=Hr("auth/initializeUserData",async(n,{rejectWithValue:e})=>{try{const t=ai(Ln,"users",n),a=await Yc(t);if(!a.exists()){const s="chris.sm.kang542@gmail.com",l=Hl.currentUser,c=(l==null?void 0:l.email)===s,d={name:(l==null?void 0:l.displayName)||null,email:(l==null?void 0:l.email)||null,isApproved:c,isAdmin:c,isActive:!0,teams:[],teamPositions:{},indexedAssignments:[],gender:""};return await C_(t,d),d}return a.data()}catch(t){return e(t instanceof Error?t.message:"Unknown error")}}),td=Hr("auth/updateUserProfile",async({uid:n,data:e},{rejectWithValue:t})=>{try{const a=ai(Ln,"users",n),s={...e};return s.teamPositions&&(s.indexedAssignments=CC(s.teamPositions)),await A1(a,s),s}catch(a){return t(a instanceof Error?a.message:"Failed to update profile")}}),OC=wo({name:"auth",initialState:v3,reducers:{setUser:(n,e)=>{n.firebaseUser=e.payload},setUserData:(n,e)=>{n.userData=e.payload},setLoading:(n,e)=>{n.loading=e.payload},logout:n=>{n.firebaseUser=null,n.userData=null,n.loading=!1}},extraReducers:n=>{n.addCase(ed.pending,e=>{e.loading=!0,e.error=null}).addCase(ed.fulfilled,(e,t)=>{e.userData=t.payload,e.loading=!1}).addCase(ed.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(td.pending,e=>{e.error=null}).addCase(td.fulfilled,(e,t)=>{e.userData&&(e.userData={...e.userData,...t.payload})}).addCase(td.rejected,(e,t)=>{e.error=t.payload})}}),{setUser:E3,setUserData:T3,setLoading:B9,logout:b3}=OC.actions,S3=OC.reducer,A3="_formGroup_163vy_1",w3="_formInput_163vy_16",C3="_formSelect_163vy_52",R3="_colorInput_163vy_86",I3="_fieldHint_163vy_104",_a={formGroup:A3,formInput:w3,formSelect:C3,colorInput:R3,fieldHint:I3},N3="_profileCard_1qei9_1",x3="_profileReadonly_1qei9_11",D3="_actionContainer_1qei9_59",Fg={profileCard:N3,profileReadonly:x3,actionContainer:D3},MC=({className:n})=>{const e=li(),{userData:t,firebaseUser:a}=lt(x=>x.auth),{teams:s,fetched:l}=lt(x=>x.teams),{positions:c,fetched:d}=lt(x=>x.positions),[m,g]=P.useState((t==null?void 0:t.name)||""),[y,E]=P.useState((t==null?void 0:t.gender)||""),[S,w]=P.useState((t==null?void 0:t.isActive)??!0),[O,F]=P.useState((t==null?void 0:t.teams)||[]),[k,K]=P.useState((t==null?void 0:t.teamPositions)||{}),[B,Q]=P.useState("idle");P.useEffect(()=>{l||e(fo()),d||e(Sa())},[e,l,d]);const se=P.useMemo(()=>{if(!t)return!1;const x={name:m,gender:y,isActive:S,teams:O,teamPositions:k},M={name:t.name||"",gender:t.gender||"",isActive:t.isActive??!0,teams:t.teams||[],teamPositions:t.teamPositions||{}};return JSON.stringify(x)!==JSON.stringify(M)},[m,y,S,O,k,t]),ue=async()=>{if(a){Q("saving");try{const x={name:m,gender:y,isActive:S,teams:O,teamPositions:k};await e(td({uid:a.uid,data:x})).unwrap(),Q("success"),setTimeout(()=>Q("idle"),2e3)}catch(x){console.error(x),Q("idle")}}},Z=()=>{t&&(g(t.name||""),E(t.gender||""),w(t.isActive??!0),F(t.teams||[]),K(t.teamPositions||{}))},A=x=>{F(M=>{const V=M.includes(x),D=V?M.filter(ce=>ce!==x):[...M,x];return K(ce=>{const _e={...ce};return V?delete _e[x]:_e[x]||(_e[x]=[]),_e}),D})},C=(x,M)=>{K(V=>{const D=V[x]||[],ce=D.includes(M)?D.filter(_e=>_e!==M):[...D,M];return{...V,[x]:ce}})},N=(x,M)=>{const V=O.indexOf(x);if(V===-1)return;const D=M==="up"?V-1:V+1;if(D<0||D>=O.length)return;const ce=[...O];[ce[V],ce[D]]=[ce[D],ce[V]],F(ce)};return t?T.jsxs("section",{className:`${Fg.profileCard} ${n||""}`,children:[T.jsx("div",{className:Fg.profileReadonly,children:T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",t.email]})}),T.jsxs("div",{className:_a.formGroup,children:[T.jsx("label",{children:"Name"}),T.jsx("input",{type:"text",value:m,onChange:x=>g(x.target.value),className:_a.formInput})]}),T.jsxs("div",{className:_a.formGroup,children:[T.jsx("label",{children:"Gender"}),T.jsx(Dl,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(x=>T.jsx(Ar,{colour:x.colour,onClick:()=>E(x.value),isActive:y===x.value,children:x.value},x.value))})]}),T.jsx(DC,{selectedTeams:O,teamPositions:k,onToggleTeam:A,onTogglePosition:C,onMoveTeam:N,availableTeams:s,globalPositions:c}),T.jsxs("div",{className:_a.formGroup,children:[T.jsx("label",{children:"Availability Status"}),T.jsx(Ar,{colour:S?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>w(!S),isActive:!0,children:S?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),T.jsx("p",{className:_a.fieldHint,children:"Turn off if you want to be hidden from the roster."})]}),T.jsx("div",{className:Fg.actionContainer,children:T.jsx(cr,{variant:"delete",onClick:()=>Hl.signOut(),children:"Logout"})}),se&&T.jsx(eu,{label:"Unsaved profile changes",saveText:"Update Profile",onSave:ue,onCancel:Z,isSaving:B==="saving"})]}):T.jsx("div",{children:"Loading profile..."})},O3="_guestContainer_1m4dd_1",M3="_profileCardOverride_1m4dd_14",P3="_guestHeader_1m4dd_21",V3="_brandTitle_1m4dd_28",k3="_guestThemeToggleContainer_1m4dd_32",L3="_pendingLabel_1m4dd_38",fl={guestContainer:O3,profileCardOverride:M3,guestHeader:P3,brandTitle:V3,guestThemeToggleContainer:k3,pendingLabel:L3},j3=()=>{const{userData:n,firebaseUser:e,loading:t}=lt(a=>a.auth);return t?T.jsx(Fl,{}):e?n?n.isApproved?T.jsx(ys,{to:"/app",replace:!0}):T.jsxs("div",{className:fl.guestContainer,children:[T.jsxs("header",{className:fl.guestHeader,children:[T.jsx("h2",{className:fl.brandTitle,children:"God is Good"}),T.jsx("p",{className:fl.pendingLabel,children:"PENDING ADMIN APPROVAL"}),T.jsx("div",{className:fl.guestThemeToggleContainer,children:T.jsx(pm,{})})]}),T.jsx(MC,{className:fl.profileCardOverride})]}):T.jsx(Fl,{}):T.jsx(ys,{to:"/login",replace:!0})},U3="_loginContainer_12x6v_1",z3="_loginHeader_12x6v_12",B3="_brandTitle_12x6v_16",H3="_brandSubtitle_12x6v_24",F3="_loginButtonContainer_12x6v_33",q3="_loginButton_12x6v_33",G3="_google_12x6v_57",io={loginContainer:U3,loginHeader:z3,brandTitle:B3,brandSubtitle:H3,loginButtonContainer:F3,loginButton:q3,google:G3},$3=()=>{const{firebaseUser:n,loading:e}=lt(a=>a.auth),t=()=>MV(Hl,Ik);return e?null:n?T.jsx(ys,{to:"/",replace:!0}):T.jsxs("div",{className:io.loginContainer,children:[T.jsxs("header",{className:io.loginHeader,children:[T.jsx("h1",{className:io.brandTitle,children:"God is Good"}),T.jsx("p",{className:io.brandSubtitle,children:"Worship Team Roster"})]}),T.jsx("div",{className:io.loginButtonContainer,children:T.jsxs("button",{onClick:t,className:`${io.loginButton} ${io.google}`,children:[T.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},K3="_rosterTableContainer_td1yg_1",Y3="_rosterTable_td1yg_1",Q3="_stickyCol_td1yg_35",X3="_rosterTableHeaderCell_td1yg_58",W3="_rosterTableLoading_td1yg_63",J3="_rosterTableError_td1yg_64",Z3="_rosterTableWrapper_td1yg_71",e6="_loadMoreFooter_td1yg_78",t6="_loadNextYearBtn_td1yg_84",n6="_clickable_td1yg_102",r6="_disabled_td1yg_111",i6="_dateCell_td1yg_117",a6="_rosterCell_td1yg_125",s6="_genderDividerCell_td1yg_130",o6="_assignedPositions_td1yg_144",l6="_posEmoji_td1yg_152",u6="_otherTeamEmoji_td1yg_158",c6="_dateHeaderContent_td1yg_166",h6="_dateHeaderActions_td1yg_173",f6="_loadPrevBtn_td1yg_178",d6="_resetDatesBtn_td1yg_200",m6="_peekHeader_td1yg_210",p6="_peekSelector_td1yg_215",g6="_peekCell_td1yg_232",y6="_stickyRight_td1yg_242",_6="_clickableHeader_td1yg_253",v6="_topControls_td1yg_263",E6="_viewToggleBar_td1yg_275",T6="_hiddenMembersBar_td1yg_286",b6="_toggleButtonGap_td1yg_298",S6="_unhideButton_td1yg_302",A6="_allViewPositionHeader_td1yg_308",w6="_allViewPositionName_td1yg_315",C6="_headerActions_td1yg_321",R6="_headerActionBtn_td1yg_328",I6="_removeHeaderBtn_td1yg_352",N6="_assignedUsersText_td1yg_357",x6="_meTag_td1yg_363",D6="_isMe_td1yg_385",O6="_headerInput_td1yg_394",M6="_addColumnBtn_td1yg_420",P6="_hiddenMembersLabel_td1yg_508",V6="_hiddenMembersList_td1yg_512",k6="_specialEventDot_td1yg_526",L6="_absenceReasonInput_td1yg_531",j6="_removeAbsenceBtn_td1yg_535",U6="_genderLabel_td1yg_541",z6="_absentStrike_td1yg_576",B6="_pastDate_td1yg_581",H6="_noData_td1yg_585",F6="_closestNextDateRow_td1yg_597",q6="_todayDate_td1yg_598",G6="_dateCellContent_td1yg_616",$6="_highlightedHeader_td1yg_640",K6="_highlightedCell_td1yg_645",Y6="_rosterTodayDot_td1yg_660",Q6="_absentCell_td1yg_671",X6="_absenceInputContainer_td1yg_675",W6="_absenceRosterCell_td1yg_727",J6="_focused_td1yg_738",Y={rosterTableContainer:K3,rosterTable:Y3,stickyCol:Q3,rosterTableHeaderCell:X3,rosterTableLoading:W3,rosterTableError:J3,rosterTableWrapper:Z3,loadMoreFooter:e6,loadNextYearBtn:t6,clickable:n6,disabled:r6,dateCell:i6,rosterCell:a6,genderDividerCell:s6,assignedPositions:o6,posEmoji:l6,otherTeamEmoji:u6,dateHeaderContent:c6,dateHeaderActions:h6,loadPrevBtn:f6,resetDatesBtn:d6,peekHeader:m6,peekSelector:p6,peekCell:g6,stickyRight:y6,clickableHeader:_6,topControls:v6,viewToggleBar:E6,hiddenMembersBar:T6,toggleButtonGap:b6,unhideButton:S6,allViewPositionHeader:A6,allViewPositionName:w6,headerActions:C6,headerActionBtn:R6,removeHeaderBtn:I6,assignedUsersText:N6,meTag:x6,isMe:D6,headerInput:O6,addColumnBtn:M6,hiddenMembersLabel:P6,hiddenMembersList:V6,specialEventDot:k6,absenceReasonInput:L6,removeAbsenceBtn:j6,genderLabel:U6,absentStrike:z6,pastDate:B6,noData:H6,closestNextDateRow:F6,todayDate:q6,dateCellContent:G6,highlightedHeader:$6,highlightedCell:K6,rosterTodayDot:Y6,absentCell:Q6,absenceInputContainer:X6,absenceRosterCell:W6,focused:J6},Z6=()=>{const n=li(),e=To(),{teamName:t,positionName:a}=jd(),{userData:s}=lt(G=>G.auth),{users:l,allTeamUsers:c,rosterDates:d,currentTeamData:m,loadingUsers:g,loadingTeam:y,loadingAllTeamUsers:E,error:S}=lt(G=>G.rosterView),{entries:w,dirtyEntries:O,saving:F,error:k}=lt(G=>G.roster),{positions:K,isDirty:B}=lt(G=>G.positions),{teams:Q}=lt(G=>G.teams),{hiddenUsers:se,rosterAllViewMode:ue}=lt(G=>G.ui),[Z,A]=P.useState(null),[C,N]=P.useState(null),x=Object.keys(O).length>0,M=x||B,V=a==="Absence",D=a==="All",ce=P.useMemo(()=>K.find(G=>G.name===a),[K,a]),_e=P.useMemo(()=>m?m.positions.filter(G=>G.name!==a):[],[m,a]),z=P.useMemo(()=>{var G;return!t||!a?[]:((G=se[t])==null?void 0:G[a])||[]},[se,t,a]),ne=P.useMemo(()=>c.filter(G=>{var Ae;return!G.isActive||!t?!1:(((Ae=G.teamPositions)==null?void 0:Ae[t])||[]).length>0}),[c,t]),he=P.useMemo(()=>{const G=ne.map(pe=>({id:pe.email||"",name:pe.name||"",isUser:!0,gender:pe.gender}));if(!m)return G;const ge=m.positions.map(pe=>pe.name),Ae=Array.from(new Set(K.filter(pe=>ge.includes(pe.name)&&pe.isCustom).flatMap(pe=>pe.customLabels||[]).map(pe=>pe.trim()).filter(pe=>pe!==""))).map(pe=>({id:pe,name:pe,isUser:!1}));return[...G,...Ae]},[ne,m,K]),xe=P.useMemo(()=>{const G=l.filter(ge=>ge.email&&!z.includes(ge.email)&&ge.isActive);return ce!=null&&ce.sortByGender?G.sort((ge,Ae)=>ge.gender===Ae.gender?(ge.name||"").localeCompare(Ae.name||""):ge.gender==="Male"?-1:Ae.gender==="Male"?1:(ge.gender||"").localeCompare(Ae.gender||"")):G},[l,ce,z]),Ue=P.useMemo(()=>{if(!(ce!=null&&ce.sortByGender)||xe.length===0)return-1;const G=xe.findIndex(ge=>ge.gender==="Female");return G>0&&G<xe.length?G:-1},[ce,xe]),U=G=>{!t||!a||n(vj({teamName:t,positionName:a,userEmail:G}))},ie=()=>{n(gU())},be=()=>{n(yU())},oe=()=>{n(_U())},Ee=G=>{Se(G)&&e(`/app/dashboard?date=${G}`)},Se=P.useCallback(G=>{const ge=G.split("T")[0],Ae=O[ge]||w[ge];return Ae?Object.values(Ae.teams).some(pe=>Object.values(pe).some(Te=>Te.length>0)):!1},[w,O]),Ne=P.useCallback(G=>{if(!C||!t)return[];const ge=G.split("T")[0],Ae=O[ge]||w[ge];return!Ae||!Ae.teams[t]?[]:Object.entries(Ae.teams[t]).filter(([,pe])=>pe.includes(C)).map(([pe])=>{const Te=c.find(Oe=>Oe.email===pe);return(Te==null?void 0:Te.name)||pe})},[C,t,O,w,c]);P.useEffect(()=>{n(mc())},[n]),P.useEffect(()=>{a&&t&&!["Absence","All"].includes(a)&&n(Jf({teamName:t,positionName:a}))},[a,t,n]),P.useEffect(()=>{t&&(n(Zf(t)),n(Wf(t)))},[t,n]);const Be=P.useCallback((G,ge)=>{const Ae=G,pe=O[Ae]||w[Ae];return!!(pe&&pe.absence&&pe.absence[ge])},[O,w]),Ge=P.useCallback((G,ge)=>{var Te,Oe;const Ae=G,pe=O[Ae]||w[Ae];return((Oe=(Te=pe==null?void 0:pe.absence)==null?void 0:Te[ge])==null?void 0:Oe.reason)||""},[O,w]),yt=P.useCallback((G,ge)=>{if(!t||!a||a==="Absence")return!1;if(Be(G,ge))return!0;const Ae=G,pe=O[Ae]||w[Ae],Te=Q.find(Qe=>Qe.name===t),Oe=(Te==null?void 0:Te.maxConflict)||1;if(!pe||!pe.teams[t]||!pe.teams[t][ge])return!1;const We=pe.teams[t][ge],nt=K.filter(Qe=>Qe.parentId===a),ct=[a,...nt.map(Qe=>Qe.name)];return We.some(Qe=>ct.includes(Qe))?!1:We.length>=Oe},[t,a,Be,O,w,Q,K]),Lt=P.useCallback((G,ge,Ae,pe)=>{if(!t||!a||a==="Absence"||yt(G,ge)){A({row:Ae,col:pe,table:"roster"});return}A({row:Ae,col:pe,table:"roster"});const Te=Q.find(ct=>ct.name===t),Oe=(Te==null?void 0:Te.maxConflict)||1,We=K.filter(ct=>ct.parentId===a),nt=[a,...We.map(ct=>ct.name)];n(hU({date:G,teamName:t,userIdentifier:ge,positionGroupNames:nt,maxConflict:Oe}))},[n,t,a,yt,Q,K]),mt=P.useCallback((G,ge,Ae,pe)=>{A({row:Ae,col:pe,table:"absence"});const Te=Be(G,ge);n(GS({date:G,userIdentifier:ge,isAbsent:!Te}))},[n,Be]),en=P.useCallback((G,ge,Ae)=>{n(GS({date:G,userIdentifier:ge,reason:Ae,isAbsent:!0}))},[n]),hn=P.useCallback(()=>{x&&n(pc(O)),B&&n(H_(K))},[n,O,K,x,B]),Fr=()=>{if(!ce||!a)return;const G=ce.customLabels||[];n(Df({positionName:a,labels:[...G,""]}))},an=(G,ge)=>{if(!ce||!a)return;const Ae=[...ce.customLabels||[]];Ae[G]=ge,n(Df({positionName:a,labels:Ae}))},Bn=(G,ge)=>{if(!ce||!a)return;const Ae=[...ce.customLabels||[]],pe=ge==="left"?G-1:G+1;if(pe<0||pe>=Ae.length)return;const Te=Ae[G];Ae[G]=Ae[pe],Ae[pe]=Te,n(Df({positionName:a,labels:Ae}))},wr=G=>{if(!ce||!a||!window.confirm("Remove this column?"))return;const ge=[...ce.customLabels||[]];ge.splice(G,1),n(Df({positionName:a,labels:ge}))},Pt=P.useCallback(()=>{x&&n(NC()),B&&(n(OL()),n(Sa())),A(null)},[n,x,B]),ut=(G,ge)=>{const Ae=G.split("T")[0],pe=O[Ae]||w[Ae];if(!pe||!t||!pe.teams[t])return[];let Te=pe.teams[t][ge]||[];if(Te.length===0){const Oe=ge.trim(),We=Object.keys(pe.teams[t]).find(nt=>nt.trim()===Oe);We&&(Te=pe.teams[t][We])}return Te},On=(G,ge)=>{const Ae=ut(G,ge);return Ae.length===0?"":T.jsx("div",{className:Y.assignedPositions,children:Ae.map(pe=>{const Te=K.find(Oe=>Oe.name===pe);return T.jsx("span",{className:Y.posEmoji,onClick:Oe=>{Oe.stopPropagation(),e(`/app/roster/${t}/${pe}`)},title:pe,style:{cursor:"pointer"},children:(Te==null?void 0:Te.emoji)||""},pe)})})},wi=(G,ge)=>{const Ae=G.split("T")[0],pe=O[Ae]||w[Ae];if(!pe||!t)return"";const Te=Object.entries(pe.teams[t]||{}).filter(([,Oe])=>Oe.includes(ge));return T.jsx("div",{className:Y.assignedUsersText,children:Te.map(([Oe],We)=>{const nt=ne.find(Qe=>Qe.email===Oe),ct=Oe===(s==null?void 0:s.email),Ve=nt?nt.name:Oe;return T.jsxs(P.Fragment,{children:[T.jsx("span",{className:ct?Y.isMe:"",children:Ve}),ct&&T.jsx("span",{className:Y.meTag,children:"Me"}),We<Te.length-1?", ":""]},Oe)})})},ui=(G,ge)=>{var We;const Ae=G,pe=O[Ae]||w[Ae];if(!pe||!t)return"";const Te=((We=pe.teams[t])==null?void 0:We[ge])||[],Oe=[];return Object.entries(pe.teams).forEach(([nt,ct])=>{nt!==t&&ct[ge]&&Oe.push({team:nt,positions:ct[ge]})}),Te.length===0&&Oe.length===0?"":T.jsxs("div",{className:Y.assignedPositions,children:[Te.map(nt=>{const ct=K.find(Ve=>Ve.name===nt);return T.jsx("span",{title:`${t}: ${nt}`,className:Y.posEmoji,children:(ct==null?void 0:ct.emoji)||""},nt)}),Oe.map(nt=>nt.positions.map(ct=>{const Ve=K.find(Qe=>Qe.name===ct);return T.jsx("span",{title:`${nt.team}: ${ct}`,className:`${Y.posEmoji} ${Y.otherTeamEmoji}`,children:(Ve==null?void 0:Ve.emoji)||""},`${nt.team}-${ct}`)}))]})};P.useEffect(()=>{const G=ge=>{const Ae=ge.target;if(Ae.tagName==="INPUT"||Ae.tagName==="TEXTAREA"||!Z)return;const{row:pe,col:Te,table:Oe}=Z,We=d;let nt=[];switch(Oe==="roster"?nt=xe:Oe==="absence"?nt=c:Oe==="all"&&(nt=ue==="user"?he:(m==null?void 0:m.positions)||[]),ge.key){case"ArrowUp":ge.preventDefault(),pe>0&&A({row:pe-1,col:Te,table:Oe});break;case"ArrowDown":ge.preventDefault(),pe<We.length-1&&A({row:pe+1,col:Te,table:Oe});break;case"ArrowLeft":ge.preventDefault(),Te>0&&A({row:pe,col:Te-1,table:Oe});break;case"ArrowRight":ge.preventDefault(),Te<nt.length-1&&A({row:pe,col:Te+1,table:Oe});break;case"Tab":ge.preventDefault(),ge.shiftKey?pe>0&&A({row:pe-1,col:Te,table:Oe}):pe<We.length-1&&A({row:pe+1,col:Te,table:Oe});break;case" ":{if(ge.preventDefault(),Oe==="all")break;const ct=d[pe],Ve=nt[Te];Ve!=null&&Ve.email&&(Oe==="roster"?Lt(ct,Ve.email,pe,Te):mt(ct,Ve.email,pe,Te));break}case"Enter":M&&(ge.preventDefault(),hn());break;case"Escape":M&&(ge.preventDefault(),Pt());break}};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[Z,d,xe,c,M,Lt,mt,hn,Pt,ue,he,m==null?void 0:m.positions]);const qt=P.useMemo(()=>{const G=xl();return d.length===0?!1:d[0]<G},[d]),sn=P.useMemo(()=>{const G=xl();return d.find(ge=>ge.split("T")[0]>=G)},[d]),sr=P.useMemo(()=>{if(!sn||!t||!a)return[];const G=sn.split("T")[0],ge=O[G]||w[G];if(!ge||!ge.teams[t])return[];const Ae=K.filter(Te=>Te.parentId===a),pe=[a,...Ae.map(Te=>Te.name)];return Object.entries(ge.teams[t]).filter(([,Te])=>Te.some(Oe=>pe.includes(Oe))).map(([Te])=>Te)},[sn,t,a,O,w,K]),Cr=P.useCallback(G=>{const ge=xl(),Ae=G.split("T")[0];return Ae<ge?"past-date":Ae===ge?"today-date":"future-date"},[]),fn=()=>{const G=!V&&z.length>0;return!G&&!D?null:T.jsxs("div",{className:Y.topControls,children:[D&&T.jsxs("div",{className:Y.viewToggleBar,children:[T.jsxs(cr,{variant:ue==="user"?"primary":"secondary",size:"small",onClick:()=>n(FS("user")),className:Y.toggleButtonGap,children:[T.jsx(hj,{size:18})," ",T.jsx("span",{children:"User View"})]}),T.jsxs(cr,{variant:ue==="position"?"primary":"secondary",size:"small",onClick:()=>n(FS("position")),className:Y.toggleButtonGap,children:[T.jsx(ZL,{size:18})," ",T.jsx("span",{children:"Position View"})]})]}),G&&T.jsxs("div",{className:Y.hiddenMembersBar,children:[T.jsx("span",{className:Y.hiddenMembersLabel,children:"Hidden Members:"}),T.jsx("div",{className:Y.hiddenMembersList,children:z.map(Ae=>{const pe=l.find(Te=>Te.email===Ae);return T.jsxs(cr,{variant:"secondary",size:"small",onClick:()=>U(Ae),className:Y.unhideButton,children:[(pe==null?void 0:pe.name)||Ae," ",T.jsx(xc,{size:14})]},Ae)})})]})]})};if(g||y||E)return T.jsx(Zl,{});const Wn=S||k;return Wn?T.jsxs("div",{className:Y.rosterTableError,children:["Error: ",Wn]}):D?T.jsxs("div",{className:Y.rosterTableWrapper,children:[fn(),T.jsxs("div",{className:Y.rosterSection,children:[T.jsx("div",{className:Y.rosterTableContainer,children:T.jsxs("table",{className:Y.rosterTable,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:`${Y.rosterTableHeaderCell} ${Y.stickyCol} sticky-header`,children:T.jsxs("div",{className:Y.dateHeaderContent,children:["Date",T.jsxs("div",{className:Y.dateHeaderActions,children:[T.jsx("button",{className:Y.loadPrevBtn,onClick:ie,title:"Load 5 previous dates",children:""}),qt&&T.jsx("button",{className:`${Y.loadPrevBtn} ${Y.resetDatesBtn}`,onClick:be,title:"Hide previous dates",children:""})]})]})}),ue==="user"?he.map(G=>{const ge=G.id===(s==null?void 0:s.email);return T.jsxs("th",{className:`${Y.rosterTableHeaderCell} sticky-header ${G.id&&sr.includes(G.id)?Y.highlightedHeader:""} ${ge?Y.isMe:""}`,children:[G.name,ge&&T.jsx("span",{className:Y.meTag,children:"Me"})]},G.id)}):((m==null?void 0:m.positions)||[]).map(G=>T.jsx("th",{className:`${Y.rosterTableHeaderCell} ${Y.clickableHeader} sticky-header`,onClick:()=>e(`/app/roster/${t}/${G.name}`),children:T.jsxs("div",{className:Y.allViewPositionHeader,children:[T.jsx("span",{children:G.emoji}),T.jsx("span",{className:Y.allViewPositionName,children:G.name})]})},G.name))]})}),T.jsx("tbody",{children:d.map((G,ge)=>{const Ae=G.split("T")[0],pe=O[Ae]||w[Ae],Te=pe==null?void 0:pe.eventName,Oe=Cr(G),We=Oe==="today-date",nt=Se(G),ct=[Oe==="past-date"?Y.pastDate:"",Oe==="today-date"?Y.todayDate:"",Oe==="future-date"?Y.futureDate:"",nt?"":Y.noData,Te?Y.specialEventRow:"",G===sn?Y.closestNextDateRow:""].filter(Boolean).join(" ");return T.jsxs("tr",{className:ct,children:[T.jsx("td",{className:`${Y.dateCell} ${Y.stickyCol} ${nt?Y.clickable:""}`,onClick:()=>Ee(G),title:Te,children:T.jsxs("div",{className:Y.dateCellContent,children:[Te&&T.jsx("span",{className:Y.specialEventDot}),We&&T.jsx("span",{className:Y.rosterTodayDot,title:"Today"}),new Date(G.replace(/-/g,"/")).toLocaleDateString()]})}),ue==="user"?he.map((Ve,Qe)=>{const gn=(Z==null?void 0:Z.row)===ge&&(Z==null?void 0:Z.col)===Qe&&(Z==null?void 0:Z.table)==="all",Ct=Ve.id?Be(G,Ve.id):!1,Tn=G===sn&&Ve.id&&sr.includes(Ve.id);return T.jsx("td",{className:`${Y.rosterCell} ${Y.clickable} ${gn?Y.focused:""} ${Ct?Y.absentStrike:""} ${Tn?Y.highlightedCell:""}`,tabIndex:0,onClick:()=>{const bn=ut(G,Ve.id);bn.length>0&&e(`/app/roster/${t}/${bn[0]}`)},onFocus:()=>A({row:ge,col:Qe,table:"all"}),children:Ve.id&&(Ct?T.jsx("span",{title:Ge(G,Ve.id),children:""}):On(G,Ve.id))},Ve.id)}):((m==null?void 0:m.positions)||[]).map((Ve,Qe)=>{const gn=(Z==null?void 0:Z.row)===ge&&(Z==null?void 0:Z.col)===Qe&&(Z==null?void 0:Z.table)==="all";return T.jsx("td",{className:`${Y.rosterCell} ${gn?Y.focused:""}`,tabIndex:0,onFocus:()=>A({row:ge,col:Qe,table:"all"}),children:wi(G,Ve.name)},Ve.name)})]},G)})})]})}),T.jsx("div",{className:Y.loadMoreFooter,children:T.jsx("button",{className:Y.loadNextYearBtn,onClick:oe,children:"Load Next Year "})})]})]}):!V&&!(ce!=null&&ce.isCustom)&&xe.length===0?T.jsxs("div",{className:Y.rosterTableWrapper,children:[fn(),T.jsx("div",{className:Y.rosterTableLoading,children:"No users found for this position."})]}):T.jsxs("div",{className:Y.rosterTableWrapper,children:[fn(),V?T.jsxs("div",{className:`${Y.rosterSection} ${Y.absenceSection}`,children:[T.jsx("div",{className:Y.rosterTableContainer,children:T.jsxs("table",{className:`${Y.rosterTable} ${Y.absenceTable}`,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:`${Y.rosterTableHeaderCell} ${Y.stickyCol} sticky-header`,children:T.jsxs("div",{className:Y.dateHeaderContent,children:["Date",T.jsxs("div",{className:Y.dateHeaderActions,children:[T.jsx("button",{className:Y.loadPrevBtn,onClick:ie,title:"Load 5 previous dates",children:""}),qt&&T.jsx("button",{className:`${Y.loadPrevBtn} ${Y.resetDatesBtn}`,onClick:be,title:"Hide previous dates",children:""})]})]})}),c.map(G=>T.jsx("th",{className:`${Y.rosterTableHeaderCell} sticky-header ${G.email&&sr.includes(G.email)?Y.highlightedHeader:""}`,children:G.name},G.email)),T.jsx("th",{className:`${Y.genderDividerCell} sticky-header`}),T.jsx("th",{className:`${Y.rosterTableHeaderCell} sticky-header ${Y.stickyRight} ${Y.peekHeader}`,children:T.jsxs("select",{className:Y.peekSelector,value:C||"",onChange:G=>N(G.target.value||null),children:[T.jsx("option",{value:"",children:"Peek Position..."}),_e.map(G=>T.jsxs("option",{value:G.name,children:[G.emoji," ",G.name]},G.name))]})})]})}),T.jsx("tbody",{children:d.map((G,ge)=>{const Ae=G.split("T")[0],pe=O[Ae]||w[Ae],Te=pe==null?void 0:pe.eventName,Oe=Cr(G),We=Oe==="today-date",nt=Se(G),ct=[Oe==="past-date"?Y.pastDate:"",Oe==="today-date"?Y.todayDate:"",Oe==="future-date"?Y.futureDate:"",nt?"":Y.noData,Te?Y.specialEventRow:"",G===sn?Y.closestNextDateRow:""].filter(Boolean).join(" ");return T.jsxs("tr",{className:ct,children:[T.jsx("td",{className:`${Y.dateCell} ${Y.stickyCol} ${nt?Y.clickable:""}`,onClick:()=>Ee(G),title:Te,children:T.jsxs("div",{className:Y.dateCellContent,children:[Te&&T.jsx("span",{className:Y.specialEventDot}),new Date(G.replace(/-/g,"/")).toLocaleDateString(),We&&T.jsx("span",{className:Y.rosterTodayDot,title:"Today"})]})}),c.map((Ve,Qe)=>{const gn=(Z==null?void 0:Z.row)===ge&&(Z==null?void 0:Z.col)===Qe&&(Z==null?void 0:Z.table)==="absence",Ct=Ve.email?Be(G,Ve.email):!1,Tn=Ve.email?Ge(G,Ve.email):"",bn=G===sn&&Ve.email&&sr.includes(Ve.email);return T.jsx("td",{className:`${Y.rosterCell} ${Y.clickable} ${Y.absenceRosterCell} ${gn?Y.focused:""} ${Ct?Y.absentCell:""} ${bn?Y.highlightedCell:""}`,onClick:()=>{Ve.email&&mt(G,Ve.email,ge,Qe)},tabIndex:0,onFocus:()=>A({row:ge,col:Qe,table:"absence"}),title:Tn,children:Ct?T.jsxs("div",{className:Y.absenceInputContainer,children:[T.jsx("input",{type:"text",className:Y.absenceReasonInput,value:Tn,placeholder:"Reason...",maxLength:20,autoFocus:gn,onClick:Mn=>Mn.stopPropagation(),onChange:Mn=>{Ve.email&&en(G,Ve.email,Mn.target.value)}}),T.jsx("button",{className:Y.removeAbsenceBtn,onClick:Mn=>{Mn.stopPropagation(),Ve.email&&mt(G,Ve.email,ge,Qe)},title:"Mark as present",children:T.jsx(Ny,{size:14})})]}):""},Ve.email)}),T.jsx("td",{className:Y.genderDividerCell}),T.jsx("td",{className:`${Y.rosterCell} ${Y.peekCell} ${Y.stickyRight}`,children:Ne(G).join(", ")||""})]},G)})})]})}),T.jsx("div",{className:Y.loadMoreFooter,children:T.jsx("button",{className:Y.loadNextYearBtn,onClick:oe,children:"Load Next Year "})})]}):T.jsxs("div",{className:Y.rosterSection,children:[T.jsx("div",{className:Y.rosterTableContainer,children:T.jsxs("table",{className:Y.rosterTable,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:`${Y.rosterTableHeaderCell} ${Y.stickyCol} sticky-header`,children:T.jsxs("div",{className:Y.dateHeaderContent,children:["Date",T.jsxs("div",{className:Y.dateHeaderActions,children:[T.jsx("button",{className:Y.loadPrevBtn,onClick:ie,title:"Load 5 previous dates",children:""}),qt&&T.jsx("button",{className:`${Y.loadPrevBtn} ${Y.resetDatesBtn}`,onClick:be,title:"Hide previous dates",children:""})]})]})}),ce!=null&&ce.isCustom?(ce.customLabels||[]).map((G,ge)=>{var Ae;return T.jsxs("th",{className:`${Y.rosterTableHeaderCell} sticky-header`,children:[T.jsx("input",{type:"text",className:Y.headerInput,value:G,placeholder:"New Heading...",readOnly:!(s!=null&&s.isAdmin),onChange:pe=>an(ge,pe.target.value)}),(s==null?void 0:s.isAdmin)&&T.jsxs("div",{className:Y.headerActions,children:[T.jsx("button",{className:Y.headerActionBtn,onClick:()=>Bn(ge,"left"),disabled:ge===0,title:"Move Left",children:T.jsx(FL,{size:12})}),T.jsx("button",{className:`${Y.headerActionBtn} ${Y.removeHeaderBtn}`,onClick:()=>wr(ge),title:"Remove Column",children:T.jsx(Ny,{size:12})}),T.jsx("button",{className:Y.headerActionBtn,onClick:()=>Bn(ge,"right"),disabled:ge===(((Ae=ce.customLabels)==null?void 0:Ae.length)||0)-1,title:"Move Right",children:T.jsx(GL,{size:12})})]})]},`custom-${ge}`)}):xe.map((G,ge)=>T.jsxs(P.Fragment,{children:[Ue===ge&&T.jsx("th",{className:`${Y.genderDividerCell} sticky-header`}),T.jsxs("th",{className:`${Y.rosterTableHeaderCell} sticky-header ${Y.clickableHeader} ${G.email&&sr.includes(G.email)?Y.highlightedHeader:""}`,onClick:()=>G.email&&U(G.email),title:"Click to hide member",children:[G.name,(ce==null?void 0:ce.sortByGender)&&T.jsxs("span",{className:Y.genderLabel,children:["(",G.gender==="Male"?"M":G.gender==="Female"?"F":"?",")"]})]})]},G.email)),(ce==null?void 0:ce.isCustom)&&(s==null?void 0:s.isAdmin)&&T.jsx("th",{className:`${Y.rosterTableHeaderCell} sticky-header`,children:T.jsx("button",{className:Y.addColumnBtn,onClick:Fr,title:"Add Column",children:T.jsx(xc,{size:16})})}),T.jsx("th",{className:`${Y.genderDividerCell} sticky-header`}),T.jsx("th",{className:`${Y.rosterTableHeaderCell} sticky-header ${Y.stickyRight} ${Y.peekHeader}`,children:T.jsxs("select",{className:Y.peekSelector,value:C||"",onChange:G=>N(G.target.value||null),children:[T.jsx("option",{value:"",children:"Peek Position..."}),_e.map(G=>T.jsxs("option",{value:G.name,children:[G.emoji," ",G.name]},G.name))]})})]})}),T.jsx("tbody",{children:d.map((G,ge)=>{const Ae=G.split("T")[0],pe=O[Ae]||w[Ae],Te=pe==null?void 0:pe.eventName,Oe=Cr(G),We=Oe==="today-date",nt=Se(G),ct=[Oe==="past-date"?Y.pastDate:"",Oe==="today-date"?Y.todayDate:"",Oe==="future-date"?Y.futureDate:"",nt?"":Y.noData,Te?Y.specialEventRow:"",G===sn?Y.closestNextDateRow:""].filter(Boolean).join(" ");return T.jsxs("tr",{className:ct,children:[T.jsx("td",{className:`${Y.dateCell} ${Y.stickyCol} ${nt?Y.clickable:""}`,onClick:()=>Ee(G),title:Te,children:T.jsxs("div",{className:Y.dateCellContent,children:[Te&&T.jsx("span",{className:Y.specialEventDot}),We&&T.jsx("span",{className:Y.rosterTodayDot,title:"Today"}),new Date(G.replace(/-/g,"/")).toLocaleDateString()]})}),ce!=null&&ce.isCustom?(ce.customLabels||[]).map((Ve,Qe)=>{const gn=(Z==null?void 0:Z.row)===ge&&(Z==null?void 0:Z.col)===Qe&&(Z==null?void 0:Z.table)==="roster";return T.jsx("td",{className:`${Y.rosterCell} ${Y.clickable} ${gn?Y.focused:""}`,onClick:()=>{Ve&&Lt(G,Ve,ge,Qe)},tabIndex:0,onFocus:()=>A({row:ge,col:Qe,table:"roster"}),children:Ve&&ui(G,Ve)},`custom-cell-${Qe}`)}):xe.map((Ve,Qe)=>{const gn=(Z==null?void 0:Z.row)===ge&&(Z==null?void 0:Z.col)===Qe&&(Z==null?void 0:Z.table)==="roster",Ct=Ve.email?yt(G,Ve.email):!1,Tn=Ve.email?Be(G,Ve.email):!1,bn=G===sn&&Ve.email&&sr.includes(Ve.email);return T.jsxs(P.Fragment,{children:[Ue===Qe&&T.jsx("td",{className:Y.genderDividerCell}),T.jsx("td",{className:`${Y.rosterCell} ${Ct?Y.disabled:Y.clickable} ${gn?Y.focused:""} ${Tn?Y.absentStrike:""} ${bn?Y.highlightedCell:""}`,onClick:()=>{Ve.email&&!Ct&&Lt(G,Ve.email,ge,Qe)},tabIndex:0,onFocus:()=>A({row:ge,col:Qe,table:"roster"}),children:Ve.email&&(Tn?T.jsx("span",{title:Ge(G,Ve.email),children:""}):ui(G,Ve.email))})]},Ve.email)}),(ce==null?void 0:ce.isCustom)&&T.jsx("td",{className:`${Y.rosterCell} ${Y.disabled}`}),T.jsx("td",{className:Y.genderDividerCell}),T.jsx("td",{className:`${Y.rosterCell} ${Y.peekCell} ${Y.stickyRight}`,children:Ne(G).join(", ")||""})]},G)})})]})}),T.jsx("div",{className:Y.loadMoreFooter,children:T.jsx("button",{className:Y.loadNextYearBtn,onClick:oe,children:"Load Next Year "})})]}),M&&T.jsx(eu,{onSave:hn,onCancel:Pt,isSaving:F,saveText:"Save Roster"})]})},e9="_rosterPage_z6eme_1",t9={rosterPage:e9},n9=()=>T.jsx("div",{className:t9.rosterPage,children:T.jsx(Z6,{})}),r9="_appTableContainer_1bvz5_1",i9="_appTable_1bvz5_1",a9="_colorPickerGroup_1bvz5_44",s9="_stickyCol_1bvz5_54",Dc={appTableContainer:r9,appTable:i9,colorPickerGroup:a9,stickyCol:s9},o9=({text:n,textAlign:e="left",width:t,minWidth:a,isSticky:s=!1})=>T.jsx("th",{className:s?Dc.stickyCol:void 0,style:{textAlign:e,width:t?`${t}px`:"auto",minWidth:a?`${a}px`:"auto"},children:n}),ln=({isSticky:n=!1,textAlign:e="left",className:t,children:a})=>T.jsx("td",{style:{textAlign:e,display:e==="center"?"table-cell":void 0},className:`${t||""} ${n?Dc.stickyCol:""}
`,children:T.jsx("div",{style:{display:"flex",justifyContent:e==="center"?"center":e==="right"?"flex-end":"flex-start",alignItems:"center",gap:"8px",height:"100%"},children:a})}),ri=({name:n,value:e,placeholder:t,type:a="text",isSticky:s,isReadOnly:l=!1,isChild:c=!1,onChange:d})=>T.jsxs(ln,{isSticky:s,children:[c&&T.jsx(SC,{}),T.jsx("input",{name:n,className:_a.formInput,type:a,placeholder:t,value:e,onChange:d,readOnly:l})]}),PC=({name:n,value:e,placeholder:t,onChange:a})=>T.jsxs(ln,{className:Dc.colorPickerGroup,children:[T.jsx("input",{name:n,type:"color",className:_a.colorInput,value:e||"#FFFFFF",onChange:a}),T.jsx("input",{name:n,className:_a.formInput,value:e,placeholder:t,onChange:a})]}),q_=({headers:n,children:e})=>T.jsx("div",{className:Dc.appTableContainer,children:T.jsxs("table",{className:Dc.appTable,children:[T.jsx("thead",{children:T.jsx("tr",{children:n.map((t,a)=>T.jsx(o9,{...t},a))})}),T.jsx("tbody",{children:e})]})}),l9=({position:n,index:e,onUpdate:t,onMove:a,onDelete:s,onAddChild:l,isFirst:c,isLast:d})=>T.jsxs("tr",{children:[T.jsx(ri,{name:`name-${e}`,value:n.name,onChange:m=>t(e,"name",m.target.value),isSticky:!0}),T.jsx(ln,{textAlign:"center",children:n.parentId?T.jsx(SC,{}):T.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[T.jsx(cr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>a(e,"up"),disabled:c,children:""}),T.jsx(cr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>a(e,"down"),disabled:d,children:""})]})}),T.jsx(ri,{name:`emoji-${e}`,value:n.emoji,onChange:m=>t(e,"emoji",m.target.value)}),T.jsx(PC,{name:`colour-${e}`,value:n.colour,onChange:m=>t(e,"colour",m.target.value)}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:n.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:n.sortByGender,onClick:()=>t(e,"sortByGender",!n.sortByGender),isDisabled:n.isCustom,children:n.sortByGender?"YES":"NO"})}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:n.isCustom?"var(--color-success-dark)":"var(--color-text-dim)",isActive:n.isCustom,onClick:()=>t(e,"isCustom",!n.isCustom),children:n.isCustom?"YES":"NO"})}),T.jsx(ln,{textAlign:"center",children:!n.parentId&&T.jsxs(cr,{variant:"secondary",size:"small",onClick:()=>l(n.name),title:"Add Child Position",children:[T.jsx(xc,{size:14,style:{marginRight:"4px"}}),"Add"]})}),T.jsx(ln,{textAlign:"center",children:T.jsxs(cr,{variant:"delete",size:"small",onClick:()=>s(e),children:[T.jsx(AC,{size:14,style:{marginRight:"4px"}}),"Delete"]})})]}),u9="_settingsContainer_gfw12_1",c9="_managementWrapper_gfw12_13",Ol={settingsContainer:u9,managementWrapper:c9},qg={name:"",emoji:"",colour:"",parentId:void 0,sortByGender:!1},h9=()=>{const n=li(),{positions:e,fetched:t,loading:a}=lt(B=>B.positions),[s,l]=P.useState(e),[c,d]=P.useState(qg),[m,g]=P.useState("idle"),y=P.useMemo(()=>{const B=Q=>Q.map(se=>({name:se.name||"",emoji:se.emoji||"",colour:se.colour||"",parentId:se.parentId||void 0,sortByGender:!!se.sortByGender,isCustom:!!se.isCustom}));return JSON.stringify(B(s))!==JSON.stringify(B(e))},[s,e]);P.useEffect(()=>{t||n(Sa())},[n,t]),P.useEffect(()=>{l(e)},[e]);const E=(B,Q,se)=>{const ue=[...s];ue[B]={...ue[B],[Q]:se},l(ue)},S=(B,Q)=>{const se=[...s],ue=se[B],Z=ue.parentId,A=C=>{const N=se[C];if(!N)return{block:[],startIndex:-1,endIndex:-1};const x=[],M=[N],V=new Set;let D=C,ce=C,_e=0;for(;_e<M.length;){const ne=M[_e++];V.has(ne.name)||(V.add(ne.name),x.push(ne),se.forEach((he,xe)=>{he.parentId===ne.name&&!V.has(he.name)&&(M.push(he),D=Math.min(D,xe),ce=Math.max(ce,xe))}))}return{block:x,startIndex:D,endIndex:ce}};if(Z){const C=se.filter(_e=>_e.parentId===Z),x=C.findIndex(_e=>_e.name===ue.name)+(Q==="up"?-1:1);if(x<0||x>=C.length)return;const M=C[x],V=se.indexOf(ue),D=se.indexOf(M);if(V===-1||D===-1)return;const ce=[...se];ce[V]=M,ce[D]=ue,l(ce)}else{const C=A(B),{block:N,startIndex:x,endIndex:M}=C;if(!N||N.length===0)return;if(Q==="up"){if(x===0)return;let V=x-1;for(;V>=0&&se[V].parentId;)V--;if(V<0)return;const D=A(V),{block:ce,startIndex:_e}=D;if(!ce||ce.length===0)return;const z=[...se.slice(0,_e),...N,...ce,...se.slice(M+1)].filter(Boolean);l(z)}else{if(M===se.length-1)return;let V=M+1;for(;V<se.length&&se[V].parentId;)V++;if(V>=se.length)return;const D=A(V),{block:ce,startIndex:_e}=D;if(!ce||ce.length===0)return;const z=[...se.slice(0,x),...ce,...N,...se.slice(_e+ce.length)].filter(Boolean);l(z)}}},w=()=>{if(!c.name.trim()||!c.emoji.trim())return alert("Please provide both an emoji and a name.");l([...s,c]),d(qg)},O=B=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const Q=s[B];let se=s.filter((ue,Z)=>Z!==B);Q.parentId||(se=se.filter(ue=>ue.parentId!==Q.name)),l(se)}},F=async()=>{g("saving");try{const B=s.map(Q=>{const se={name:Q.name||"",emoji:Q.emoji||"",colour:Q.colour||"",sortByGender:!!Q.sortByGender,isCustom:!!Q.isCustom,customLabels:Q.customLabels||[]};return Q.parentId&&(se.parentId=Q.parentId),se});await n(H_(B)).unwrap(),g("success"),setTimeout(()=>g("idle"),2e3)}catch(B){console.error("Save Error:",B),alert("Error saving: "+(B instanceof Error?B.message:"Unknown error")),g("idle")}},k=B=>{l(Q=>{const se={...qg,parentId:B},ue=Q.findIndex(C=>C.name===B);if(ue===-1)return[...Q,se];let Z=ue;for(;Z+1<Q.length&&Q[Z+1].parentId===B;)Z++;return[...Q.slice(0,Z+1),se,...Q.slice(Z+1)]})},K=()=>{l(e)};return a?T.jsx(Zl,{}):T.jsxs("div",{className:Ol.managementWrapper,children:[T.jsxs(q_,{headers:[{text:"Name",minWidth:80,width:200,textAlign:"center",isSticky:!0},{text:"Order",width:30,textAlign:"center"},{text:"Emoji",width:30,textAlign:"center"},{text:"Colour",minWidth:100,textAlign:"center"},{text:"Sort by Gender",width:100,textAlign:"center"},{text:"Custom Headings",width:100,textAlign:"center"},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[s.map((B,Q)=>T.jsx(l9,{position:B,index:Q,onUpdate:E,onMove:S,onDelete:O,onAddChild:k,isFirst:Q===0,isLast:Q===s.length-1},`${B.emoji}-${Q}`)),T.jsxs("tr",{className:"pos-row-new",children:[T.jsx(ri,{name:"new-name",value:c.name,placeholder:"Position Name",onChange:B=>d({...c,name:B.target.value}),isSticky:!0}),T.jsx(ln,{textAlign:"center",children:""}),T.jsx(ri,{name:"new-emoji",value:c.emoji,placeholder:"",onChange:B=>d({...c,emoji:B.target.value})}),T.jsx(PC,{name:"new-colour",value:c.colour,placeholder:"#FFFFFF",onChange:B=>d({...c,colour:B.target.value})}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:c.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:c.sortByGender,onClick:()=>d({...c,sortByGender:!c.sortByGender}),isDisabled:c.isCustom,children:c.sortByGender?"YES":"NO"})}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:c.isCustom?"var(--color-success-dark)":"var(--color-text-dim)",isActive:c.isCustom,onClick:()=>d({...c,isCustom:!c.isCustom}),children:c.isCustom?"YES":"NO"})}),T.jsx(ln,{textAlign:"center",children:T.jsxs(cr,{onClick:w,disabled:!c.name.trim()||!c.emoji.trim(),children:[T.jsx(xc,{size:16,style:{marginRight:"6px"}}),"Add"]})}),T.jsx(ln,{textAlign:"center",children:""})]})]}),y&&T.jsx(eu,{label:"Unsaved position changes",saveText:"Save Positions",onSave:F,onCancel:K,isSaving:m==="saving"})]})},f9="_modalOverlay_ah937_1",d9="_modalContent_ah937_16",m9="_modalHeader_ah937_34",p9="_closeButton_ah937_48",g9="_modalBody_ah937_64",y9="_modalFooter_ah937_70",dl={modalOverlay:f9,modalContent:d9,modalHeader:m9,closeButton:p9,modalBody:g9,modalFooter:y9},VC=({isOpen:n,onClose:e,title:t,children:a,footer:s})=>{if(P.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),!n)return null;const l=T.jsx("div",{className:dl.modalOverlay,onClick:e,children:T.jsxs("div",{className:dl.modalContent,onClick:c=>c.stopPropagation(),children:[T.jsxs("div",{className:dl.modalHeader,children:[T.jsx("h2",{children:t}),T.jsx("button",{className:dl.closeButton,onClick:e,"aria-label":"Close",children:T.jsx(Ny,{size:24})})]}),T.jsx("div",{className:dl.modalBody,children:a}),s&&T.jsx("div",{className:dl.modalFooter,children:s})]})});return DA.createPortal(l,document.body)},_9=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kC=({isOpen:n,onClose:e,team:t,availablePositions:a,onTogglePosition:s,onToggleDay:l,onToggleAllowAbsence:c})=>{var d;return T.jsxs(VC,{isOpen:n,onClose:e,title:`Edit Team: ${t.name}`,children:[T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Allowed Positions"}),T.jsx(Dl,{children:(d=a==null?void 0:a.filter(m=>!m.parentId))==null?void 0:d.map(m=>{var y;const g=(y=t.positions)==null?void 0:y.some(E=>E.name===m.name);return T.jsxs(Ar,{colour:m.colour,isActive:g,onClick:()=>s(m),children:[m.emoji," ",m.name]},m.name)})})]}),T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Preferred Days"}),T.jsx(Dl,{children:_9.map(m=>{var y;const g=(y=t.preferredDays)==null?void 0:y.includes(m);return T.jsx(Ar,{isActive:g,onClick:()=>l(m),children:m},m)})})]}),T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Feature Settings"}),T.jsx(Dl,{children:T.jsxs(Ar,{isActive:t.allowAbsence!==!1,onClick:()=>c(t.allowAbsence===!1),colour:t.allowAbsence!==!1?"var(--color-success-dark)":"var(--color-text-dim)",children:["Allow Absence: ",t.allowAbsence!==!1?"YES":"NO"]})})]})]})},G_=({primaryText:n,secondaryText:e,onClick:t})=>T.jsxs("button",{className:Nn.summaryButton,onClick:t,type:"button",children:[T.jsx("span",{className:Nn.summaryPrimary,children:n}),e&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:Nn.summarySeparator,children:""}),T.jsx("span",{className:Nn.summarySecondary,children:e})]})]}),v9=({team:n,teamIndex:e,availablePositions:t,onUpdate:a,onMove:s,onDelete:l,onTogglePosition:c,onToggleDay:d,onToggleAllowAbsence:m,isFirst:g,isLast:y})=>{var F;const[E,S]=P.useState(!1),w=()=>{if(!n.positions||n.positions.length===0)return"No positions";const k=n.positions.slice(0,3).map(B=>T.jsx("span",{className:Nn.summaryEmoji,children:B.emoji},B.name)),K=n.positions.length-3;return T.jsxs(T.Fragment,{children:[k,K>0&&T.jsxs("span",{className:Nn.remainingCount,children:["+",K]})]})},O=()=>!n.preferredDays||n.preferredDays.length===0?"No days":n.preferredDays.map(k=>k.substring(0,3)).join(", ");return T.jsxs(T.Fragment,{children:[T.jsxs("tr",{children:[T.jsx(ri,{name:`team-name-${e}`,value:n.name,onChange:k=>a(e,"name",k.target.value),isSticky:!0}),T.jsx(ln,{children:T.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[T.jsx(cr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(e,"up"),disabled:g,children:""}),T.jsx(cr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(e,"down"),disabled:y,children:""})]})}),T.jsx(ri,{name:`team-emoji-${e}`,value:n.emoji,onChange:k=>a(e,"emoji",k.target.value)}),T.jsx(ri,{name:`team-maxConflict-${e}`,value:((F=n.maxConflict)==null?void 0:F.toString())||"1",type:"number",onChange:k=>a(e,"maxConflict",parseInt(k.target.value)||1)}),T.jsx(ln,{children:T.jsx(G_,{primaryText:w(),secondaryText:O(),onClick:()=>S(!0)})}),T.jsx(ln,{children:T.jsxs(cr,{variant:"delete",size:"small",onClick:()=>l(e),children:[T.jsx(AC,{size:14,style:{marginRight:"6px"}}),"Delete"]})})]}),T.jsx(kC,{isOpen:E,onClose:()=>S(!1),team:n,availablePositions:t,onTogglePosition:k=>c(e,k),onToggleDay:k=>d(e,k),onToggleAllowAbsence:k=>m(e,k)})]})},$S={name:"",emoji:"",positions:[],preferredDays:[],maxConflict:1,allowAbsence:!0},E9=()=>{var ce;const n=li(),{teams:e,fetched:t,loading:a}=lt(_e=>_e.teams),{positions:s,fetched:l,loading:c}=lt(_e=>_e.positions),[d,m]=P.useState(e),[g,y]=P.useState($S),[E,S]=P.useState("idle"),[w,O]=P.useState(!1),F=P.useMemo(()=>{const _e=z=>z.map(ne=>({name:ne.name||"",emoji:ne.emoji||"",positions:(ne.positions||[]).map(he=>he.name).sort(),preferredDays:[...ne.preferredDays||[]].sort(),maxConflict:ne.maxConflict||1,allowAbsence:ne.allowAbsence!==!1}));return JSON.stringify(_e(d))!==JSON.stringify(_e(e))},[d,e]);P.useEffect(()=>{t||n(fo()),l||n(Sa())},[n,t,l]),P.useEffect(()=>{m(e)},[e]);const k=(_e,z,ne)=>{const he=[...d];he[_e]={...he[_e],[z]:ne},m(he)},K=(_e,z)=>{const ne=[...d],he=z==="up"?_e-1:_e+1;if(he<0||he>=ne.length)return;const xe=ne[_e];ne[_e]=ne[he],ne[he]=xe,m(ne)},B=(_e,z)=>{const ne=d.map((he,xe)=>{if(xe!==_e)return he;const Ue=he.positions||[],U=Ue.find(ie=>ie.name===z.name)?Ue.filter(ie=>ie.name!==z.name):[...Ue,z];return{...he,positions:U}});m(ne)},Q=(_e,z)=>{const ne=d.map((he,xe)=>{if(xe!==_e)return he;const Ue=he.preferredDays||[],U=Ue.includes(z)?Ue.filter(ie=>ie!==z):[...Ue,z];return{...he,preferredDays:U}});m(ne)},se=(_e,z)=>{const ne=d.map((he,xe)=>xe!==_e?he:{...he,allowAbsence:z});m(ne)},ue=_e=>{const z=g.positions||[],ne=z.some(he=>he.name===_e.name)?z.filter(he=>he.name!==_e.name):[...z,_e];y({...g,positions:ne})},Z=_e=>{const z=g.preferredDays||[],ne=z.includes(_e)?z.filter(he=>he!==_e):[...z,_e];y({...g,preferredDays:ne})},A=_e=>{y({...g,allowAbsence:_e})},C=()=>{if(!g.name.trim()||!g.emoji.trim())return alert("Please provide both an emoji and a name for the team.");m([...d,g]),y($S)},N=_e=>{window.confirm("Are you sure you want to delete this team?")&&m(d.filter((z,ne)=>ne!==_e))},x=async()=>{S("saving");try{const _e=d.map(z=>({name:z.name||"",emoji:z.emoji||"",maxConflict:z.maxConflict||1,allowAbsence:z.allowAbsence!==!1,preferredDays:z.preferredDays||[],positions:(z.positions||[]).map(ne=>({name:ne.name||"",emoji:ne.emoji||"",colour:ne.colour||"",sortByGender:!!ne.sortByGender,isCustom:!!ne.isCustom,customLabels:ne.customLabels||[],...ne.parentId?{parentId:ne.parentId}:{}}))}));await n(Qf(_e)).unwrap(),S("success"),setTimeout(()=>S("idle"),2e3)}catch(_e){console.error("Save Error:",_e),alert("Error saving: "+(_e instanceof Error?_e.message:"Unknown error")),S("idle")}},M=()=>{m(e)};if(a||c)return T.jsx(Zl,{});const V=()=>{if(!g.positions||g.positions.length===0)return"No positions";const _e=g.positions.slice(0,3).map(ne=>T.jsx("span",{className:Ol.summaryEmoji,children:ne.emoji},ne.name)),z=g.positions.length-3;return T.jsxs(T.Fragment,{children:[_e,z>0&&T.jsxs("span",{className:Ol.remainingCount,children:["+",z]})]})},D=()=>!g.preferredDays||g.preferredDays.length===0?"No days":g.preferredDays.map(_e=>_e.substring(0,3)).join(", ");return T.jsxs("div",{className:Ol.managementWrapper,children:[T.jsxs(q_,{headers:[{text:"Name",minWidth:100,width:120,textAlign:"center",isSticky:!0},{text:"Order",width:30,textAlign:"center"},{text:"Emoji",width:30,textAlign:"center"},{text:"Conflicts",width:60,textAlign:"center"},{text:"Config",minWidth:180,textAlign:"center"},{text:"",width:50}],children:[d.map((_e,z)=>T.jsx(v9,{team:_e,teamIndex:z,availablePositions:s,onUpdate:k,onMove:K,onDelete:N,onTogglePosition:B,onToggleDay:Q,onToggleAllowAbsence:se,isFirst:z===0,isLast:z===d.length-1},`${_e.emoji}-${z}`)),T.jsxs("tr",{className:"team-row-new",children:[T.jsx(ri,{name:"new-team-name",value:g.name,placeholder:"Team Name",onChange:_e=>y({...g,name:_e.target.value}),isSticky:!0}),T.jsx(ln,{children:""}),T.jsx(ri,{name:"new-team-emoji",value:g.emoji,placeholder:"",onChange:_e=>y({...g,emoji:_e.target.value})}),T.jsx(ri,{name:"new-team-maxConflict",value:((ce=g.maxConflict)==null?void 0:ce.toString())||"1",type:"number",onChange:_e=>y({...g,maxConflict:parseInt(_e.target.value)||1})}),T.jsx(ln,{children:T.jsx(G_,{primaryText:V(),secondaryText:D(),onClick:()=>O(!0)})}),T.jsx(ln,{children:T.jsxs(cr,{onClick:C,disabled:!g.name.trim()||!g.emoji.trim(),children:[T.jsx(xc,{size:16,style:{marginRight:"6px"}}),"Add"]})})]})]}),T.jsx(kC,{isOpen:w,onClose:()=>O(!1),team:g,availablePositions:s,onTogglePosition:ue,onToggleDay:Z,onToggleAllowAbsence:A}),F&&T.jsx(eu,{label:"Unsaved team changes",saveText:"Save All Team Changes",onSave:x,onCancel:M,isSaving:E==="saving"})]})},T9={allUsers:[],originalUsers:[],loading:!1,saving:!1,error:null},nd=Hr("userManagement/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=qc(Ln,"users"),a=Kc(t),s=await Qc(a),l=[];return s.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch all users")}}),rd=Hr("userManagement/saveAllChanges",async(n,{rejectWithValue:e})=>{try{const t=C1(Ln);n.forEach(a=>{const{id:s,...l}=a;l.teamPositions&&(l.indexedAssignments=CC(l.teamPositions)),t.update(ai(Ln,"users",s),l)}),await t.commit();return}catch(t){return e(t instanceof Error?t.message:"Failed to save changes")}}),LC=wo({name:"userManagement",initialState:T9,reducers:{updateUserField(n,e){const{id:t,field:a,value:s}=e.payload,l=n.allUsers.find(c=>c.id===t);l&&(l[a]=s)},toggleUserTeam(n,e){const{userId:t,teamName:a}=e.payload,s=n.allUsers.find(l=>l.id===t);if(s){const l=s.teams||[],c=l.includes(a)?l.filter(d=>d!==a):[...l,a];s.teams=c,s.teamPositions||(s.teamPositions={}),c.includes(a)?s.teamPositions[a]||(s.teamPositions[a]=[]):delete s.teamPositions[a]}},toggleUserTeamPosition(n,e){const{userId:t,teamName:a,posName:s}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l){l.teamPositions||(l.teamPositions={}),l.teamPositions[a]||(l.teamPositions[a]=[]);const c=l.teamPositions[a],d=c.includes(s)?c.filter(m=>m!==s):[...c,s];l.teamPositions[a]=d}},moveUserTeam(n,e){const{userId:t,teamName:a,direction:s}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l&&l.teams){const c=l.teams.indexOf(a);if(c===-1)return;const d=s==="up"?c-1:c+1;if(d<0||d>=l.teams.length)return;const m=[...l.teams];[m[c],m[d]]=[m[d],m[c]],l.teams=m}},resetUserChanges(n){n.allUsers=JSON.parse(JSON.stringify(n.originalUsers))}},extraReducers:n=>{n.addCase(nd.pending,e=>{e.loading=!0,e.error=null}).addCase(nd.fulfilled,(e,t)=>{e.allUsers=t.payload,e.originalUsers=JSON.parse(JSON.stringify(t.payload)),e.loading=!1}).addCase(nd.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(rd.pending,e=>{e.saving=!0,e.error=null}).addCase(rd.fulfilled,e=>{e.saving=!1,e.originalUsers=JSON.parse(JSON.stringify(e.allUsers))}).addCase(rd.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{updateUserField:b9,toggleUserTeam:S9,toggleUserTeamPosition:A9,moveUserTeam:w9,resetUserChanges:C9}=LC.actions,R9=LC.reducer,I9=({isOpen:n,onClose:e,user:t,availableTeams:a})=>{const s=li(),{positions:l}=lt(g=>g.positions),c=g=>{s(S9({userId:t.id,teamName:g}))},d=(g,y)=>{s(A9({userId:t.id,teamName:g,posName:y}))},m=(g,y)=>{s(w9({userId:t.id,teamName:g,direction:y}))};return T.jsx(VC,{isOpen:n,onClose:e,title:`Edit Assignments: ${t.name}`,children:T.jsx(DC,{selectedTeams:t.teams||[],teamPositions:t.teamPositions||{},onToggleTeam:c,onTogglePosition:d,onMoveTeam:m,availableTeams:a,globalPositions:l})})},N9=({user:n,availableTeams:e,adminEmail:t})=>{const a=li(),{positions:s}=lt(y=>y.positions),[l,c]=P.useState(!1),d=(y,E)=>{a(b9({id:n.id,field:y,value:E}))},m=()=>{if(!n.teams||n.teams.length===0)return"No teams";const y=n.teams.map(w=>{const O=e.find(F=>F.name===w);return(O==null?void 0:O.emoji)||""}).filter(Boolean),E=y.slice(0,3).map((w,O)=>T.jsx("span",{className:Nn.summaryEmoji,children:w},O)),S=y.length-3;return T.jsxs(T.Fragment,{children:[E,S>0&&T.jsxs("span",{className:Nn.remainingCount,children:["+",S]})]})},g=()=>n.teamPositions?Object.entries(n.teamPositions).reduce((y,[,E])=>{const S=E.filter(w=>{const O=s.find(F=>F.name===w);return!(O!=null&&O.isCustom)});return y+S.length},0):0;return T.jsxs(T.Fragment,{children:[T.jsxs("tr",{children:[T.jsx(ri,{name:`name-${n.id}`,value:n.name||"",onChange:y=>d("name",y.target.value),isSticky:!0}),T.jsx(ri,{name:`email-${n.id}`,value:n.email||"",isReadOnly:!0}),T.jsx(ln,{children:T.jsxs("select",{name:`gender-${n.id}`,className:_a.formSelect,value:n.gender,onChange:y=>d("gender",y.target.value),children:[T.jsx("option",{value:"",children:"-"}),T.jsx("option",{value:"Male",children:"Male"}),T.jsx("option",{value:"Female",children:"Female"})]})}),T.jsx(ln,{children:T.jsx(G_,{primaryText:m(),secondaryText:`(${g()} pos)`,onClick:()=>c(!0)})}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:n.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>d("isActive",!n.isActive),isActive:!0,children:n.isActive?"YES":"NO"})}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:n.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>d("isApproved",!n.isApproved),isActive:!0,children:n.isApproved?"YES":"NO"})}),T.jsx(ln,{textAlign:"center",children:T.jsx(Ar,{colour:n.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>d("isAdmin",!n.isAdmin),isActive:!0,isDisabled:n.email===t,children:n.isAdmin?"YES":"NO"})})]},n.id),T.jsx(I9,{isOpen:l,onClose:()=>c(!1),user:n,availableTeams:e})]})},x9=()=>{const n=li(),{allUsers:e,originalUsers:t,loading:a,saving:s,error:l}=lt(y=>y.userManagement),c=lt(y=>y.teams.teams),d=P.useMemo(()=>{const y=E=>E.map(S=>({name:S.name||"",gender:S.gender||"",teams:[...S.teams||[]].sort(),teamPositions:Object.keys(S.teamPositions||{}).sort().reduce((w,O)=>{var F;return w[O]=[...((F=S.teamPositions)==null?void 0:F[O])||[]].sort(),w},{}),isActive:!!S.isActive,isApproved:!!S.isApproved,isAdmin:!!S.isAdmin}));return JSON.stringify(y(e))!==JSON.stringify(y(t))},[e,t]);P.useEffect(()=>{n(nd())},[n]);const m=()=>{n(rd(e))},g=()=>{n(C9())};return a?T.jsx(Zl,{}):l?T.jsxs("div",{children:["Error: ",l]}):T.jsxs("div",{className:Ol.managementWrapper,children:[T.jsx(q_,{headers:[{text:"Name",minWidth:70,width:100,textAlign:"center",isSticky:!0},{text:"Email",minWidth:170,textAlign:"center"},{text:"Gender",minWidth:90,textAlign:"center"},{text:"Assignments",minWidth:150,textAlign:"center"},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:e.map(y=>T.jsx(N9,{user:y,availableTeams:c,adminEmail:"chris.sm.kang542@gmail.com"},y.id))}),d&&T.jsx(eu,{label:"Unsaved user changes",saveText:"Save All User Changes",onSave:m,onCancel:g,isSaving:s})]})},D9=()=>{const{userData:n}=lt(t=>t.auth),{section:e}=jd();return n?T.jsxs("div",{className:Ol.settingsContainer,children:[e===bl.PROFILE&&T.jsx(MC,{}),e===bl.USER_MANAGEMENT&&(n.isAdmin?T.jsx(x9,{}):T.jsx("p",{children:"Access Denied"})),e===bl.TEAMS&&(n.isAdmin?T.jsx(E9,{}):T.jsx("p",{children:"Access Denied"})),e===bl.POSITIONS&&(n.isAdmin?T.jsx(h9,{}):T.jsx("p",{children:"Access Denied"}))]}):null},O9=[{path:"/",element:T.jsx(Pk,{})},{path:"/login",element:T.jsx($3,{})},{path:"/guest",element:T.jsx(j3,{})},{path:"/app",element:T.jsx(kL,{}),children:[{path:"",element:T.jsx(tU,{}),children:[{path:"dashboard",element:T.jsx(XU,{})},{path:"roster/:teamName?/:positionName?",element:T.jsx(n9,{})},{path:"settings/:section?",element:T.jsx(D9,{})}]}]}];let KS=!1;const M9=n=>{if(!KS){KS=!0;let e;dV(Hl,t=>{if(t){n.dispatch(E3(t)),n.dispatch(ed(t.uid));const a=ai(Ln,"users",t.uid);e=S4(a,s=>{if(s.exists()){const l=s.data();n.dispatch(T3(l))}})}else n.dispatch(b3()),e&&e()})}return e=>t=>e(t)},P9=hL({reducer:{auth:S3,positions:ML,roster:dU,rosterView:vU,teams:VL,ui:Ej,userManagement:R9},middleware:n=>n({serializableCheck:{ignoredActions:["auth/setUser","roster/fetchEntries/fulfilled","roster/saveChanges/fulfilled"],ignoredPaths:["auth.firebaseUser","roster.entries","roster.dirtyEntries","rosterView.users","rosterView.allTeamUsers"]}}).concat(M9)}),V9=lD(O9);RI.createRoot(document.getElementById("root")).render(T.jsx(QS.StrictMode,{children:T.jsx(HI,{store:P9,children:T.jsx(SD,{children:T.jsx(Nk,{children:T.jsx(TD,{router:V9})})})})}));
