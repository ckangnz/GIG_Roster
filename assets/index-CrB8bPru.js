(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function OE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ud={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function PS(){if(G_)return Al;G_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var Q_;function zS(){return Q_||(Q_=1,Ud.exports=PS()),Ud.exports}var N=zS(),Ld={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function jS(){if(K_)return St;K_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function V(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,F={};function W(x,J,at){this.props=x,this.context=J,this.refs=F,this.updater=at||z}W.prototype.isReactComponent={},W.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},W.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=W.prototype;function st(x,J,at){this.props=x,this.context=J,this.refs=F,this.updater=at||z}var nt=st.prototype=new et;nt.constructor=st,q(nt,W.prototype),nt.isPureReactComponent=!0;var ft=Array.isArray;function ht(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(x,J,at){var lt=at.ref;return{$$typeof:s,type:x,key:J,ref:lt!==void 0?lt:null,props:at}}function k(x,J){return I(x.type,J,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function L(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(at){return J[at]})}var C=/\/+/g;function se(x,J){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):J.toString(36)}function Ce(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ht,ht):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Y(x,J,at,lt,Tt){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var Lt=!1;if(x===null)Lt=!0;else switch(It){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(x.$$typeof){case s:case t:Lt=!0;break;case T:return Lt=x._init,Y(Lt(x._payload),J,at,lt,Tt)}}if(Lt)return Tt=Tt(x),Lt=lt===""?"."+se(x,0):lt,ft(Tt)?(at="",Lt!=null&&(at=Lt.replace(C,"$&/")+"/"),Y(Tt,J,at,"",function(cr){return cr})):Tt!=null&&(O(Tt)&&(Tt=k(Tt,at+(Tt.key==null||x&&x.key===Tt.key?"":(""+Tt.key).replace(C,"$&/")+"/")+Lt)),J.push(Tt)),1;Lt=0;var De=lt===""?".":lt+":";if(ft(x))for(var re=0;re<x.length;re++)lt=x[re],It=De+se(lt,re),Lt+=Y(lt,J,at,It,Tt);else if(re=V(x),typeof re=="function")for(x=re.call(x),re=0;!(lt=x.next()).done;)lt=lt.value,It=De+se(lt,re++),Lt+=Y(lt,J,at,It,Tt);else if(It==="object"){if(typeof x.then=="function")return Y(Ce(x),J,at,lt,Tt);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function rt(x,J,at){if(x==null)return x;var lt=[],Tt=0;return Y(x,lt,"","",function(It){return J.call(at,It,Tt++)}),lt}function gt(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(at){(x._status===0||x._status===-1)&&(x._status=1,x._result=at)},function(at){(x._status===0||x._status===-1)&&(x._status=2,x._result=at)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var zt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Gt={map:rt,forEach:function(x,J,at){rt(x,function(){J.apply(this,arguments)},at)},count:function(x){var J=0;return rt(x,function(){J++}),J},toArray:function(x){return rt(x,function(J){return J})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=b,St.Children=Gt,St.Component=W,St.Fragment=i,St.Profiler=l,St.PureComponent=st,St.StrictMode=r,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return R.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,J,at){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=q({},x.props),Tt=x.key;if(J!=null)for(It in J.key!==void 0&&(Tt=""+J.key),J)!w.call(J,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&J.ref===void 0||(lt[It]=J[It]);var It=arguments.length-2;if(It===1)lt.children=at;else if(1<It){for(var Lt=Array(It),De=0;De<It;De++)Lt[De]=arguments[De+2];lt.children=Lt}return I(x.type,Tt,lt)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},St.createElement=function(x,J,at){var lt,Tt={},It=null;if(J!=null)for(lt in J.key!==void 0&&(It=""+J.key),J)w.call(J,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Tt[lt]=J[lt]);var Lt=arguments.length-2;if(Lt===1)Tt.children=at;else if(1<Lt){for(var De=Array(Lt),re=0;re<Lt;re++)De[re]=arguments[re+2];Tt.children=De}if(x&&x.defaultProps)for(lt in Lt=x.defaultProps,Lt)Tt[lt]===void 0&&(Tt[lt]=Lt[lt]);return I(x,It,Tt)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:g,render:x}},St.isValidElement=O,St.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:gt}},St.memo=function(x,J){return{$$typeof:y,type:x,compare:J===void 0?null:J}},St.startTransition=function(x){var J=R.T,at={};R.T=at;try{var lt=x(),Tt=R.S;Tt!==null&&Tt(at,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(ht,zt)}catch(It){zt(It)}finally{J!==null&&at.types!==null&&(J.types=at.types),R.T=J}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(x){return R.H.use(x)},St.useActionState=function(x,J,at){return R.H.useActionState(x,J,at)},St.useCallback=function(x,J){return R.H.useCallback(x,J)},St.useContext=function(x){return R.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,J){return R.H.useDeferredValue(x,J)},St.useEffect=function(x,J){return R.H.useEffect(x,J)},St.useEffectEvent=function(x){return R.H.useEffectEvent(x)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(x,J,at){return R.H.useImperativeHandle(x,J,at)},St.useInsertionEffect=function(x,J){return R.H.useInsertionEffect(x,J)},St.useLayoutEffect=function(x,J){return R.H.useLayoutEffect(x,J)},St.useMemo=function(x,J){return R.H.useMemo(x,J)},St.useOptimistic=function(x,J){return R.H.useOptimistic(x,J)},St.useReducer=function(x,J,at){return R.H.useReducer(x,J,at)},St.useRef=function(x){return R.H.useRef(x)},St.useState=function(x){return R.H.useState(x)},St.useSyncExternalStore=function(x,J,at){return R.H.useSyncExternalStore(x,J,at)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var Y_;function Im(){return Y_||(Y_=1,Ld.exports=jS()),Ld.exports}var _t=Im();const BS=OE(_t);var Pd={exports:{}},Sl={},zd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function qS(){return X_||(X_=1,(function(s){function t(Y,rt){var gt=Y.length;Y.push(rt);t:for(;0<gt;){var zt=gt-1>>>1,Gt=Y[zt];if(0<l(Gt,rt))Y[zt]=rt,Y[gt]=Gt,gt=zt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var rt=Y[0],gt=Y.pop();if(gt!==rt){Y[0]=gt;t:for(var zt=0,Gt=Y.length,x=Gt>>>1;zt<x;){var J=2*(zt+1)-1,at=Y[J],lt=J+1,Tt=Y[lt];if(0>l(at,gt))lt<Gt&&0>l(Tt,at)?(Y[zt]=Tt,Y[lt]=gt,zt=lt):(Y[zt]=at,Y[J]=gt,zt=J);else if(lt<Gt&&0>l(Tt,gt))Y[zt]=Tt,Y[lt]=gt,zt=lt;else break t}}return rt}function l(Y,rt){var gt=Y.sortIndex-rt.sortIndex;return gt!==0?gt:Y.id-rt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],T=1,b=null,S=3,V=!1,z=!1,q=!1,F=!1,W=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function nt(Y){for(var rt=i(y);rt!==null;){if(rt.callback===null)r(y);else if(rt.startTime<=Y)r(y),rt.sortIndex=rt.expirationTime,t(_,rt);else break;rt=i(y)}}function ft(Y){if(q=!1,nt(Y),!z)if(i(_)!==null)z=!0,ht||(ht=!0,L());else{var rt=i(y);rt!==null&&Ce(ft,rt.startTime-Y)}}var ht=!1,R=-1,w=5,I=-1;function k(){return F?!0:!(s.unstable_now()-I<w)}function O(){if(F=!1,ht){var Y=s.unstable_now();I=Y;var rt=!0;try{t:{z=!1,q&&(q=!1,et(R),R=-1),V=!0;var gt=S;try{e:{for(nt(Y),b=i(_);b!==null&&!(b.expirationTime>Y&&k());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,S=b.priorityLevel;var Gt=zt(b.expirationTime<=Y);if(Y=s.unstable_now(),typeof Gt=="function"){b.callback=Gt,nt(Y),rt=!0;break e}b===i(_)&&r(_),nt(Y)}else r(_);b=i(_)}if(b!==null)rt=!0;else{var x=i(y);x!==null&&Ce(ft,x.startTime-Y),rt=!1}}break t}finally{b=null,S=gt,V=!1}rt=void 0}}finally{rt?L():ht=!1}}}var L;if(typeof st=="function")L=function(){st(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,se=C.port2;C.port1.onmessage=O,L=function(){se.postMessage(null)}}else L=function(){W(O,0)};function Ce(Y,rt){R=W(function(){Y(s.unstable_now())},rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var gt=S;S=rt;try{return Y()}finally{S=gt}},s.unstable_requestPaint=function(){F=!0},s.unstable_runWithPriority=function(Y,rt){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var gt=S;S=Y;try{return rt()}finally{S=gt}},s.unstable_scheduleCallback=function(Y,rt,gt){var zt=s.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?zt+gt:zt):gt=zt,Y){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=gt+Gt,Y={id:T++,callback:rt,priorityLevel:Y,startTime:gt,expirationTime:Gt,sortIndex:-1},gt>zt?(Y.sortIndex=gt,t(y,Y),i(_)===null&&Y===i(y)&&(q?(et(R),R=-1):q=!0,Ce(ft,gt-zt))):(Y.sortIndex=Gt,t(_,Y),z||V||(z=!0,ht||(ht=!0,L()))),Y},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(Y){var rt=S;return function(){var gt=S;S=rt;try{return Y.apply(this,arguments)}finally{S=gt}}}})(jd)),jd}var $_;function HS(){return $_||($_=1,zd.exports=qS()),zd.exports}var Bd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function FS(){if(J_)return Xe;J_=1;var s=Im();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,T)},Xe.flushSync=function(_){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=T,r.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:V}):T==="script"&&r.d.X(_,{crossOrigin:b,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);r.d.L(_,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Xe.requestFormReset=function(_){r.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,T){return d.H.useFormState(_,y,T)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var Z_;function GS(){if(Z_)return Bd.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=FS(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function QS(){if(W_)return Sl;W_=1;var s=HS(),t=Im(),i=GS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),st=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case W:return"Profiler";case F:return"StrictMode";case ft:return"Suspense";case ht:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case st:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case nt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ce=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function x(e){return{current:e}}function J(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function at(e,n){Gt++,zt[Gt]=e.current,e.current=n}var lt=x(null),Tt=x(null),It=x(null),Lt=x(null);function De(e,n){switch(at(It,n),at(Tt,e),at(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=m_(n),e=g_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(lt),at(lt,e)}function re(){J(lt),J(Tt),J(It)}function cr(e){e.memoizedState!==null&&at(Lt,e);var n=lt.current,a=g_(n,e.type);n!==a&&(at(Tt,e),at(lt,a))}function ea(e){Tt.current===e&&(J(lt),J(Tt)),Lt.current===e&&(J(Lt),_l._currentValue=gt)}var na,ia;function ri(e){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+e+ia}var _o=!1;function hr(e,n){if(!e||_o)return"";_o=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Q){var H=Q}Reflect.construct(e,[],$)}else{try{$.call()}catch(Q){H=Q}e.call($.prototype)}}else{try{throw Error()}catch(Q){H=Q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var D=p.split(`
`),B=E.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===B.length)for(o=D.length-1,h=B.length-1;1<=o&&0<=h&&D[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==B[h]){var K=`
`+D[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{_o=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ri(a):""}function vo(e,n){switch(e.tag){case 26:case 27:case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return e.child!==n&&n!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return hr(e.type,!1);case 11:return hr(e.type.render,!1);case 1:return hr(e.type,!0);case 31:return ri("Activity");default:return""}}function Eo(e){try{var n="",a=null;do n+=vo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,Lh=s.unstable_shouldYield,iu=s.unstable_requestPaint,tn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Ph=s.unstable_LowPriority,su=s.unstable_IdlePriority,ru=s.log,au=s.unstable_setDisableYieldValue,qn=null,je=null;function Cn(e){if(typeof ru=="function"&&au(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var he=Math.clz32?Math.clz32:lu,ou=Math.log,sa=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/sa|0)|0}var ai=256,dr=262144,_e=4194304;function oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(p&=E,p!==0?h=oi(p):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):p!==0?h=oi(p):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ui(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function mr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,B=e.hiddenUpdates;for(a=p&~a;0<a;){var K=31-he(a),$=1<<K;E[K]=0,D[K]=-1;var H=B[K];if(H!==null)for(B[K]=null,K=0;K<H.length;K++){var Q=H[K];Q!==null&&(Q.lane&=-536870913)}a&=~$}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function gr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function So(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function bo(e,n){var a=n&-n;return a=(a&42)!==0?1:pr(a),(a&(e.suspendedLanes|n))!==0?0:a}function pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function Fn(e,n){var a=rt.p;try{return rt.p=e,n()}finally{rt.p=a}}var Gn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Gn,ke="__reactProps$"+Gn,ci="__reactContainer$"+Gn,ra="__reactEvents$"+Gn,Bh="__reactListeners$"+Gn,hu="__reactHandles$"+Gn,fu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function aa(e){delete e[ve],delete e[ke],delete e[ra],delete e[Bh],delete e[hu]}function fi(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ci]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=A_(e);e!==null;){if(a=e[ve])return a;e=A_(e)}return n}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[ve]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function di(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[hi]=!0}var wo=new Set,Ro={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},Do={};function du(e){return ye.call(Do,e)?!0:ye.call(Co,e)?!1:Io.test(e)?Do[e]=!0:(Co[e]=!0,!1)}function oa(e,n,a){if(du(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function gn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=ds(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function yr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ds(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _r=/[\n"\\]/g;function rn(e){return e.replace(_r,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,p,Ue(n)):a!=null?Oo(e,p,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function mu(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function Oo(e,n,a){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function gu(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function gs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||pu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Mo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var xo=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,yi=null;function vr(e){var n=Dn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(la(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(r(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&yr(o)}break t;case"textarea":gu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ms(e,!!a.multiple,n,!1)}}}var ha=!1;function _s(e,n,a){if(ha)return e(n,a);ha=!0;try{var o=e(n);return o}finally{if(ha=!1,(ys!==null||yi!==null)&&(cc(),ys&&(n=ys,e=yi,yi=ys=null,vr(n),e)))for(n=0;n<e.length;n++)vr(e[n])}}function Kn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(On)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Er=!1}var _i=null,ko=null,Tr=null;function Uo(){if(Tr)return Tr;var e,n=ko,a=n.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return Tr=h.slice(e,1<o?1-o:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Yn(){return!1}function Be(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Yn,this.isPropagationStopped=Yn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Be(zi),vs=b({},zi,{view:0,detail:0}),Lo=Be(vs),Es,fa,Ei,da=b({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Es=e.screenX-Ei.screenX,fa=e.screenY-Ei.screenY):fa=Es=0,Ei=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Po=Be(da),Sr=b({},da,{dataTransfer:0}),_u=Be(Sr),vu=b({},vs,{relatedTarget:0}),br=Be(vu),zo=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Be(zo),ma=b({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Be(ma),Au=b({},zi,{data:0}),Ti=Be(Au),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wu[e])?!!n[e]:!1}function Ts(){return Ru}var en=b({},vs,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=Be(en),Cu=b({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=Be(Cu),u=b({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Be(u),v=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),P=b({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Be(P),it=b({},zi,{newState:0,oldState:0}),wt=Be(it),fe=[9,13,27,32],qt=On&&"CompositionEvent"in window,ae=null;On&&"documentMode"in document&&(ae=document.documentMode);var Vn=On&&"TextEvent"in window&&!ae,Ai=On&&(!qt||ae&&8<ae&&11>=ae),Xn=" ",$n=!1;function wr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function lA(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function uA(e,n){if(pa)return e==="compositionend"||!qt&&wr(e,n)?(e=Uo(),Tr=ko=_i=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cA[e.type]:n==="textarea"}function Rg(e,n,a,o){ys?yi?yi.push(o):yi=[o]:ys=o,n=yc(n,"onChange"),0<n.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var jo=null,Bo=null;function hA(e){l_(e,0)}function Du(e){var n=mn(e);if(yr(n))return e}function Ig(e,n){if(e==="change")return n}var Cg=!1;if(On){var qh;if(On){var Hh="oninput"in document;if(!Hh){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Hh=typeof Dg.oninput=="function"}qh=Hh}else qh=!1;Cg=qh&&(!document.documentMode||9<document.documentMode)}function Ng(){jo&&(jo.detachEvent("onpropertychange",Og),Bo=jo=null)}function Og(e){if(e.propertyName==="value"&&Du(Bo)){var n=[];Rg(n,Bo,e,Nn(e)),_s(hA,n)}}function fA(e,n,a){e==="focusin"?(Ng(),jo=n,Bo=a,jo.attachEvent("onpropertychange",Og)):e==="focusout"&&Ng()}function dA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Bo)}function mA(e,n){if(e==="click")return Du(n)}function gA(e,n){if(e==="input"||e==="change")return Du(n)}function pA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:pA;function qo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mg(e,n){var a=Vg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vg(a)}}function xg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=pi(e.document)}return n}function Fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yA=On&&"documentMode"in document&&11>=document.documentMode,ya=null,Gh=null,Ho=null,Qh=!1;function Ug(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ya==null||ya!==pi(o)||(o=ya,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=yc(Gh,"onSelect"),0<o.length&&(n=new vi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ya)))}function Rr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var _a={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Kh={},Lg={};On&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ir(e){if(Kh[e])return Kh[e];if(!_a[e])return e;var n=_a[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lg)return Kh[e]=n[a];return e}var Pg=Ir("animationend"),zg=Ir("animationiteration"),jg=Ir("animationstart"),_A=Ir("transitionrun"),vA=Ir("transitionstart"),EA=Ir("transitioncancel"),Bg=Ir("transitionend"),qg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Jn(e,n){qg.set(e,n),mi(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mn=[],va=0,Xh=0;function Ou(){for(var e=va,n=Xh=va=0;n<e;){var a=Mn[n];Mn[n++]=null;var o=Mn[n];Mn[n++]=null;var h=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Hg(a,h,f)}}function Vu(e,n,a,o){Mn[va++]=e,Mn[va++]=n,Mn[va++]=a,Mn[va++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,a,o){return Vu(e,n,a,o),Mu(e)}function Cr(e,n){return Vu(e,null,null,n),Mu(e)}function Hg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Mu(e){if(50<hl)throw hl=0,ad=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function TA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new TA(e,n,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Jh(e)&&(p=1);else if(typeof e=="string")p=RS(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,n,h),e.elementType=I,e.lanes=f,e;case q:return Dr(a.children,h,f,n);case F:p=8,h|=24;break;case W:return e=yn(12,a,n,h|2),e.elementType=W,e.lanes=f,e;case ft:return e=yn(13,a,n,h),e.elementType=ft,e.lanes=f,e;case ht:return e=yn(19,a,n,h),e.elementType=ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:p=10;break t;case et:p=9;break t;case nt:p=11;break t;case R:p=14;break t;case w:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Dr(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Zh(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function Gg(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var a=Qg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Eo(n)},Qg.set(e,n),n)}return{value:e,source:n,stack:Eo(n)}}var Ta=[],Aa=0,ku=null,Fo=0,kn=[],Un=0,As=null,Si=1,bi="";function qi(e,n){Ta[Aa++]=Fo,Ta[Aa++]=ku,ku=e,Fo=n}function Kg(e,n,a){kn[Un++]=Si,kn[Un++]=bi,kn[Un++]=As,As=e;var o=Si;e=bi;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Si=1<<32-he(n)+h|a<<h|o,bi=f+e}else Si=1<<f|a<<h|o,bi=e}function tf(e){e.return!==null&&(qi(e,1),Kg(e,1,0))}function ef(e){for(;e===ku;)ku=Ta[--Aa],Ta[Aa]=null,Fo=Ta[--Aa],Ta[Aa]=null;for(;e===As;)As=kn[--Un],kn[Un]=null,bi=kn[--Un],kn[Un]=null,Si=kn[--Un],kn[Un]=null}function Yg(e,n){kn[Un++]=Si,kn[Un++]=bi,kn[Un++]=As,Si=n.id,bi=n.overflow,As=e}var qe=null,te=null,Ut=!1,Ss=null,Ln=!1,nf=Error(r(519));function bs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(xn(n,e)),nf}function Xg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<dl.length;a++)Nt(dl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),gs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||f_(n.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||bs(e,!0)}function $g(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:qe=qe.return}}function Sa(e){if(e!==qe)return!1;if(!Ut)return $g(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&te&&bs(e),$g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=T_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=T_(e)}else n===27?(n=te,Ps(e.type)?(e=Rd,Rd=null,te=e):te=n):te=qe?zn(e.stateNode.nextSibling):null;return!0}function Nr(){te=qe=null,Ut=!1}function sf(){var e=Ss;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ss=null),e}function Go(e){Ss===null?Ss=[e]:Ss.push(e)}var rf=x(null),Or=null,Hi=null;function ws(e,n,a){at(rf,n._currentValue),n._currentValue=a}function Fi(e){e._currentValue=rf.current,J(rf)}function af(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function of(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),af(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ba(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&of(n,e,a,o),n.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Or=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Jg(Or,e)}function Lu(e,n){return Or===null&&Vr(e),Jg(e,n)}function Jg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Hi===null){if(e===null)throw Error(r(308));Hi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hi=Hi.next=n;return a}var AA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},SA=s.unstable_scheduleCallback,bA=s.unstable_NormalPriority,Ae={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new AA,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&SA(bA,function(){e.controller.abort()})}var Ko=null,uf=0,wa=0,Ra=null;function wA(e,n){if(Ko===null){var a=Ko=[];uf=0,wa=fd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(Zg,Zg),n}function Zg(){if(--uf===0&&Ko!==null){Ra!==null&&(Ra.status="fulfilled");var e=Ko;Ko=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Wg=Y.S;Y.S=function(e,n){Uy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wA(e,n),Wg!==null&&Wg(e,n)};var Mr=x(null);function cf(){var e=Mr.current;return e!==null?e:Wt.pooledCache}function Pu(e,n){n===null?at(Mr,Mr.current):at(Mr,n.pool)}function tp(){var e=cf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Ia=Error(r(460)),hf=Error(r(474)),zu=Error(r(542)),ju={then:function(){}};function ep(e){return e=e.status,e==="fulfilled"||e==="rejected"}function np(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Qn,Qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e}throw kr=n,Ia}}function xr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,Ia):a}}var kr=null;function ip(){if(kr===null)throw Error(r(459));var e=kr;return kr=null,e}function sp(e){if(e===Ia||e===zu)throw Error(r(483))}var Ca=null,Yo=0;function Bu(e){var n=Yo;return Yo+=1,Ca===null&&(Ca=[]),np(Ca,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){function n(U,M){if(e){var j=U.deletions;j===null?(U.deletions=[M],U.flags|=16):j.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Bi(U,M),U.index=0,U.sibling=null,U}function f(U,M,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<M?(U.flags|=67108866,M):j):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,j,X){return M===null||M.tag!==6?(M=Zh(j,U.mode,X),M.return=U,M):(M=h(M,j),M.return=U,M)}function D(U,M,j,X){var mt=j.type;return mt===q?K(U,M,j.props.children,X,j.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&xr(mt)===M.type)?(M=h(M,j.props),Xo(M,j),M.return=U,M):(M=xu(j.type,j.key,j.props,null,U.mode,X),Xo(M,j),M.return=U,M)}function B(U,M,j,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Wh(j,U.mode,X),M.return=U,M):(M=h(M,j.children||[]),M.return=U,M)}function K(U,M,j,X,mt){return M===null||M.tag!==7?(M=Dr(j,U.mode,X,mt),M.return=U,M):(M=h(M,j),M.return=U,M)}function $(U,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zh(""+M,U.mode,j),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V:return j=xu(M.type,M.key,M.props,null,U.mode,j),Xo(j,M),j.return=U,j;case z:return M=Wh(M,U.mode,j),M.return=U,M;case w:return M=xr(M),$(U,M,j)}if(Ce(M)||L(M))return M=Dr(M,U.mode,j,null),M.return=U,M;if(typeof M.then=="function")return $(U,Bu(M),j);if(M.$$typeof===st)return $(U,Lu(U,M),j);qu(U,M)}return null}function H(U,M,j,X){var mt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:E(U,M,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===mt?D(U,M,j,X):null;case z:return j.key===mt?B(U,M,j,X):null;case w:return j=xr(j),H(U,M,j,X)}if(Ce(j)||L(j))return mt!==null?null:K(U,M,j,X,null);if(typeof j.then=="function")return H(U,M,Bu(j),X);if(j.$$typeof===st)return H(U,M,Lu(U,j),X);qu(U,j)}return null}function Q(U,M,j,X,mt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(j)||null,E(M,U,""+X,mt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return U=U.get(X.key===null?j:X.key)||null,D(M,U,X,mt);case z:return U=U.get(X.key===null?j:X.key)||null,B(M,U,X,mt);case w:return X=xr(X),Q(U,M,j,X,mt)}if(Ce(X)||L(X))return U=U.get(j)||null,K(M,U,X,mt,null);if(typeof X.then=="function")return Q(U,M,j,Bu(X),mt);if(X.$$typeof===st)return Q(U,M,j,Lu(M,X),mt);qu(M,X)}return null}function ut(U,M,j,X){for(var mt=null,jt=null,dt=M,Ct=M=0,Vt=null;dt!==null&&Ct<j.length;Ct++){dt.index>Ct?(Vt=dt,dt=null):Vt=dt.sibling;var Bt=H(U,dt,j[Ct],X);if(Bt===null){dt===null&&(dt=Vt);break}e&&dt&&Bt.alternate===null&&n(U,dt),M=f(Bt,M,Ct),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt,dt=Vt}if(Ct===j.length)return a(U,dt),Ut&&qi(U,Ct),mt;if(dt===null){for(;Ct<j.length;Ct++)dt=$(U,j[Ct],X),dt!==null&&(M=f(dt,M,Ct),jt===null?mt=dt:jt.sibling=dt,jt=dt);return Ut&&qi(U,Ct),mt}for(dt=o(dt);Ct<j.length;Ct++)Vt=Q(dt,U,Ct,j[Ct],X),Vt!==null&&(e&&Vt.alternate!==null&&dt.delete(Vt.key===null?Ct:Vt.key),M=f(Vt,M,Ct),jt===null?mt=Vt:jt.sibling=Vt,jt=Vt);return e&&dt.forEach(function(Hs){return n(U,Hs)}),Ut&&qi(U,Ct),mt}function yt(U,M,j,X){if(j==null)throw Error(r(151));for(var mt=null,jt=null,dt=M,Ct=M=0,Vt=null,Bt=j.next();dt!==null&&!Bt.done;Ct++,Bt=j.next()){dt.index>Ct?(Vt=dt,dt=null):Vt=dt.sibling;var Hs=H(U,dt,Bt.value,X);if(Hs===null){dt===null&&(dt=Vt);break}e&&dt&&Hs.alternate===null&&n(U,dt),M=f(Hs,M,Ct),jt===null?mt=Hs:jt.sibling=Hs,jt=Hs,dt=Vt}if(Bt.done)return a(U,dt),Ut&&qi(U,Ct),mt;if(dt===null){for(;!Bt.done;Ct++,Bt=j.next())Bt=$(U,Bt.value,X),Bt!==null&&(M=f(Bt,M,Ct),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return Ut&&qi(U,Ct),mt}for(dt=o(dt);!Bt.done;Ct++,Bt=j.next())Bt=Q(dt,U,Ct,Bt.value,X),Bt!==null&&(e&&Bt.alternate!==null&&dt.delete(Bt.key===null?Ct:Bt.key),M=f(Bt,M,Ct),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return e&&dt.forEach(function(LS){return n(U,LS)}),Ut&&qi(U,Ct),mt}function Zt(U,M,j,X){if(typeof j=="object"&&j!==null&&j.type===q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:t:{for(var mt=j.key;M!==null;){if(M.key===mt){if(mt=j.type,mt===q){if(M.tag===7){a(U,M.sibling),X=h(M,j.props.children),X.return=U,U=X;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&xr(mt)===M.type){a(U,M.sibling),X=h(M,j.props),Xo(X,j),X.return=U,U=X;break t}a(U,M);break}else n(U,M);M=M.sibling}j.type===q?(X=Dr(j.props.children,U.mode,X,j.key),X.return=U,U=X):(X=xu(j.type,j.key,j.props,null,U.mode,X),Xo(X,j),X.return=U,U=X)}return p(U);case z:t:{for(mt=j.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(U,M.sibling),X=h(M,j.children||[]),X.return=U,U=X;break t}else{a(U,M);break}else n(U,M);M=M.sibling}X=Wh(j,U.mode,X),X.return=U,U=X}return p(U);case w:return j=xr(j),Zt(U,M,j,X)}if(Ce(j))return ut(U,M,j,X);if(L(j)){if(mt=L(j),typeof mt!="function")throw Error(r(150));return j=mt.call(j),yt(U,M,j,X)}if(typeof j.then=="function")return Zt(U,M,Bu(j),X);if(j.$$typeof===st)return Zt(U,M,Lu(U,j),X);qu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,j),X.return=U,U=X):(a(U,M),X=Zh(j,U.mode,X),X.return=U,U=X),p(U)):a(U,M)}return function(U,M,j,X){try{Yo=0;var mt=Zt(U,M,j,X);return Ca=null,mt}catch(dt){if(dt===Ia||dt===zu)throw dt;var jt=yn(29,dt,null,U.mode);return jt.lanes=X,jt.return=U,jt}finally{}}}var Ur=rp(!0),ap=rp(!1),Rs=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),Hg(e,null,a),n}return Vu(e,o,n,a),Mu(e)}function $o(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,So(e,a)}}function mf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var gf=!1;function Jo(){if(gf){var e=Ra;if(e!==null)throw e}}function Zo(e,n,a,o){gf=!1;var h=e.updateQueue;Rs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,B=D.next;D.next=null,p===null?f=B:p.next=B,p=D;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==p&&(E===null?K.firstBaseUpdate=B:E.next=B,K.lastBaseUpdate=D))}if(f!==null){var $=h.baseState;p=0,K=B=D=null,E=f;do{var H=E.lane&-536870913,Q=H!==E.lane;if(Q?(Ot&H)===H:(o&H)===H){H!==0&&H===wa&&(gf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,yt=E;H=n;var Zt=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){$=ut.call(Zt,$,H);break t}$=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,H=typeof ut=="function"?ut.call(Zt,$,H):ut,H==null)break t;$=b({},$,H);break t;case 2:Rs=!0}}H=E.callback,H!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(B=K=Q,D=$):K=K.next=Q,p|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(D=$),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ms|=p,e.lanes=p,e.memoizedState=$}}function op(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function lp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)op(a[e],n)}var Da=x(null),Hu=x(0);function up(e,n){e=Wi,at(Hu,e),at(Da,n),Wi=e|n.baseLanes}function pf(){at(Hu,Wi),at(Da,Da.current)}function yf(){Wi=Hu.current,J(Da),J(Hu)}var _n=x(null),Pn=null;function Ds(e){var n=e.alternate;at(de,de.current&1),at(_n,e),Pn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Pn=e)}function _f(e){at(de,de.current),at(_n,e),Pn===null&&(Pn=e)}function cp(e){e.tag===22?(at(de,de.current),at(_n,e),Pn===null&&(Pn=e)):Ns()}function Ns(){at(de,de.current),at(_n,_n.current)}function vn(e){J(_n),Pn===e&&(Pn=null),J(de)}var de=x(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,Rt=null,$t=null,Se=null,Gu=!1,Na=!1,Lr=!1,Qu=0,Wo=0,Oa=null,IA=0;function ue(){throw Error(r(321))}function vf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function Ef(e,n,a,o,h,f){return Gi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Kp:kf,Lr=!1,f=a(o,h),Lr=!1,Na&&(f=fp(n,a,o,h)),hp(e),f}function hp(e){Y.H=nl;var n=$t!==null&&$t.next!==null;if(Gi=0,Se=$t=Rt=null,Gu=!1,Wo=0,Oa=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Uu(e)&&(be=!0))}function fp(e,n,a,o){Rt=e;var h=0;do{if(Na&&(Oa=null),Wo=0,Na=!1,25<=h)throw Error(r(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Yp,f=n(a,o)}while(Na);return f}function CA(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Tf(){var e=Qu!==0;return Qu=0,e}function Af(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Sf(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}Gi=0,Se=$t=Rt=null,Na=!1,Wo=Qu=0,Oa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Rt.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if($t===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?Rt.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?Rt.memoizedState=Se=e:Se=Se.next=e}return Se}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,Oa===null&&(Oa=[]),e=np(Oa,e,n),n=Rt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Kp:kf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===st)return He(e)}throw Error(r(438,String(e)))}function bf(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ku(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=k;return n.index++,a}function Qi(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=me();return wf(n,$t,e)}function wf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,D=null,B=n,K=!1;do{var $=B.lane&-536870913;if($!==B.lane?(Ot&$)===$:(Gi&$)===$){var H=B.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===wa&&(K=!0);else if((Gi&H)===H){B=B.next,H===wa&&(K=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=$,p=f):D=D.next=$,Rt.lanes|=H,Ms|=H;$=B.action,Lr&&a(f,$),f=B.hasEagerState?B.eagerState:a(f,$)}else H={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=H,p=f):D=D.next=H,Rt.lanes|=$,Ms|=$;B=B.next}while(B!==null&&B!==n);if(D===null?p=f:D.next=E,!pn(f,e.memoizedState)&&(be=!0,K&&(a=Ra,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function dp(e,n,a){var o=Rt,h=me(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!pn(($t||h).memoizedState,a);if(p&&(h.memoizedState=a,be=!0),h=h.queue,Df(pp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},gp.bind(null,o,h,a,n),null),Wt===null)throw Error(r(349));f||(Gi&127)!==0||mp(o,n,a)}return a}function mp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Ku(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function gp(e,n,a,o){n.value=a,n.getSnapshot=o,yp(n)&&_p(e)}function pp(e,n,a){return a(function(){yp(n)&&_p(e)})}function yp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function _p(e){var n=Cr(e,2);n!==null&&hn(n,e,2)}function If(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Lr){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},n}function vp(e,n,a,o){return e.baseState=a,wf(e,$t,typeof o=="function"?o:Qi)}function DA(e,n,a,o,h){if(Zu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Y.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ep(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ep(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Y.T,p={};Y.T=p;try{var E=a(h,o),D=Y.S;D!==null&&D(p,E),Tp(e,n,E)}catch(B){Cf(e,n,B)}finally{f!==null&&p.types!==null&&(f.types=p.types),Y.T=f}}else try{f=a(h,o),Tp(e,n,f)}catch(B){Cf(e,n,B)}}function Tp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ap(e,n,o)},function(o){return Cf(e,n,o)}):Ap(e,n,a)}function Ap(e,n,a){n.status="fulfilled",n.value=a,Sp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ep(e,a)))}function Cf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Sp(n),n=n.next;while(n!==o)}e.action=null}function Sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bp(e,n){return n}function wp(e,n){if(Ut){var a=Wt.formState;if(a!==null){t:{var o=Rt;if(Ut){if(te){e:{for(var h=te,f=Ln;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=zn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},a.queue=o,a=Fp.bind(null,Rt,o),o.dispatch=a,o=If(!1),f=xf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=DA.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Rp(e){var n=me();return Ip(n,$t,e)}function Ip(e,n,a){if(n=wf(e,n,bp)[0],e=Xu(Qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(p){throw p===Ia?zu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Va(9,{destroy:void 0},NA.bind(null,h,a),null)),[o,f,e]}function NA(e,n){e.action=n}function Cp(e){var n=me(),a=$t;if(a!==null)return Ip(n,a,e);me(),n=n.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Va(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Ku(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Dp(){return me().memoizedState}function $u(e,n,a,o){var h=nn();Rt.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ju(e,n,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&vf(o,$t.memoizedState.deps)?h.memoizedState=Va(n,f,a,o):(Rt.flags|=e,h.memoizedState=Va(1|n,f,a,o))}function Np(e,n){$u(8390656,8,e,n)}function Df(e,n){Ju(2048,8,e,n)}function OA(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Ku(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Op(e){var n=me().memoizedState;return OA({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Vp(e,n){return Ju(4,2,e,n)}function Mp(e,n){return Ju(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kp(e,n,a){a=a!=null?a.concat([e]):null,Ju(4,4,xp.bind(null,n,e),a)}function Nf(){}function Up(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Lp(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),Lr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,n],o}function Of(e,n,a){return a===void 0||(Gi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Py(),Rt.lanes|=e,Ms|=e,a)}function Pp(e,n,a,o){return pn(a,n)?a:Da.current!==null?(e=Of(e,a,o),pn(e,n)||(be=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(Ot&261930)===0?(be=!0,e.memoizedState=a):(e=Py(),Rt.lanes|=e,Ms|=e,n)}function zp(e,n,a,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=Y.T,E={};Y.T=E,xf(e,!1,n,a);try{var D=h(),B=Y.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=RA(D,o);el(e,n,K,An(e))}else el(e,n,o,An(e))}catch($){el(e,n,{then:function(){},status:"rejected",reason:$},An())}finally{rt.p=f,p!==null&&E.types!==null&&(p.types=E.types),Y.T=p}}function VA(){}function Vf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=jp(e).queue;zp(e,h,n,gt,a===null?VA:function(){return Bp(e),a(o)})}function jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bp(e){var n=jp(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},An())}function Mf(){return He(_l)}function qp(){return me().memoizedState}function Hp(){return me().memoizedState}function MA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=Is(a);var o=Cs(n,e,a);o!==null&&(hn(o,n,a),$o(o,n,a)),n={cache:lf()},e.payload=n;return}n=n.return}}function xA(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(e)?Gp(n,a):(a=$h(e,n,a,o),a!==null&&(hn(a,e,o),Qp(a,n,o)))}function Fp(e,n,a){var o=An();el(e,n,a,o)}function el(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))Gp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return Vu(e,n,h,0),Wt===null&&Ou(),!1}catch{}finally{}if(a=$h(e,n,h,o),a!==null)return hn(a,e,o),Qp(a,n,o),!0}return!1}function xf(e,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(n)throw Error(r(479))}else n=$h(e,a,o,2),n!==null&&hn(n,e,2)}function Zu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function Gp(e,n){Na=Gu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Qp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,So(e,a)}}var nl={readContext:He,use:Yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};nl.useEffectEvent=ue;var Kp={readContext:He,use:Yu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Np,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,$u(4194308,4,xp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Lr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Lr){Cn(!0);try{a(n)}finally{Cn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=xA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,a=Fp.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,n){var a=nn();return Of(a,e,n)},useTransition:function(){var e=If(!1);return e=zp.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=nn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Wt===null)throw Error(r(349));(Ot&127)!==0||mp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Np(pp.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},gp.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(Ut){var a=bi,o=Si;a=(o&~(1<<32-he(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=IA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:wp,useActionState:wp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return nn().memoizedState=MA.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:He,use:Yu,useCallback:Up,useContext:He,useEffect:Df,useImperativeHandle:kp,useInsertionEffect:Vp,useLayoutEffect:Mp,useMemo:Lp,useReducer:Xu,useRef:Dp,useState:function(){return Xu(Qi)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=me();return Pp(a,$t.memoizedState,e,n)},useTransition:function(){var e=Xu(Qi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:Mf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var a=me();return vp(a,$t,e,n)},useMemoCache:bf,useCacheRefresh:Hp};kf.useEffectEvent=Op;var Yp={readContext:He,use:Yu,useCallback:Up,useContext:He,useEffect:Df,useImperativeHandle:kp,useInsertionEffect:Vp,useLayoutEffect:Mp,useMemo:Lp,useReducer:Rf,useRef:Dp,useState:function(){return Rf(Qi)},useDebugValue:Nf,useDeferredValue:function(e,n){var a=me();return $t===null?Of(a,e,n):Pp(a,$t.memoizedState,e,n)},useTransition:function(){var e=Rf(Qi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:Mf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=me();return $t!==null?vp(a,$t,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Hp};Yp.useEffectEvent=Op;function Uf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=Is(o);h.payload=n,a!=null&&(h.callback=a),n=Cs(e,h,o),n!==null&&(hn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=Is(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Cs(e,h,o),n!==null&&(hn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=Is(a);o.tag=2,n!=null&&(o.callback=n),n=Cs(e,o,a),n!==null&&(hn(n,e,a),$o(n,e,a))}};function Xp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(a,o)||!qo(h,f):!0}function $p(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function Pr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Jp(e){Nu(e)}function Zp(e){console.error(e)}function Wp(e){Nu(e)}function Wu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,n,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,n)},a}function ey(e){return e=Is(e),e.tag=3,e}function ny(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ty(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ty(n,a,o),typeof h!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function kA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?hc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ju?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return a.flags|=65536,o===ju?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(e,o,h)),!1}throw Error(r(435,a.tag))}return ud(e,o,h),hc(),!1}if(Ut)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(r(422),{cause:o}),Go(xn(e,a)))):(o!==nf&&(n=Error(r(423),{cause:o}),Go(xn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Pf(e.stateNode,o,h),mf(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=xn(f,a),cl===null?cl=[f]:cl.push(f),ce!==4&&(ce=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,o,e),mf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xs===null||!xs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ny(h,e,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(r(461)),be=!1;function Fe(e,n,a,o){n.child=e===null?ap(n,null,a,o):Ur(n,e.child,a,o)}function iy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Vr(n),o=Ef(e,n,a,p,f,h),E=Tf(),e!==null&&!be?(Af(e,n,h),Ki(e,n,h)):(Ut&&E&&tf(n),n.flags|=1,Fe(e,n,o,h),n.child)}function sy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=xu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Kf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(p,o)&&e.ref===n.ref)return Ki(e,n,h)}return n.flags|=1,e=Bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Kf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Ki(e,n,h)}return jf(e,n,a,o,h)}function ay(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pu(n,f!==null?f.cachePool:null),f!==null?up(n,f):pf(),cp(n);else return o=n.lanes=536870912,oy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Pu(n,f.cachePool),up(n,f),Ns(),n.memoizedState=null):(e!==null&&Pu(n,null),pf(),Ns());return Fe(e,n,h,a),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(e,n,a,o,h){var f=cf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Pu(n,null),pf(),cp(n),e!==null&&ba(e,n,o,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ly(e,n,a){return Ur(n,e.child,null,a),e=tc(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function UA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=tc(n,o),n.lanes=536870912,il(null,e);if(_f(n),(e=te)?(e=E_(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:As!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=n,n.child=a,qe=n,te=null)):e=null,e===null)throw bs(n);return n.lanes=536870912,null}return tc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=ly(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||ba(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Wt,o!==null&&(p=bo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Cr(e,p),hn(o,e,p),zf;hc(),n=ly(e,n,a)}else e=f.treeContext,te=zn(p.nextSibling),qe=n,Ut=!0,Ss=null,Ln=!1,e!==null&&Yg(n,e),n=tc(n,o),n.flags|=4096;return n}return e=Bi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,o,h){return Vr(n),a=Ef(e,n,a,o,void 0,h),o=Tf(),e!==null&&!be?(Af(e,n,h),Ki(e,n,h)):(Ut&&o&&tf(n),n.flags|=1,Fe(e,n,a,h),n.child)}function uy(e,n,a,o,h,f){return Vr(n),n.updateQueue=null,a=fp(n,o,a,h),hp(e),o=Tf(),e!==null&&!be?(Af(e,n,f),Ki(e,n,f)):(Ut&&o&&tf(n),n.flags|=1,Fe(e,n,a,f),n.child)}function cy(e,n,a,o,h){if(Vr(n),n.stateNode===null){var f=Ea,p=a.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?He(p):Ea,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Uf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,D=Pr(a,E);f.props=D;var B=f.context,K=a.contextType;p=Ea,typeof K=="object"&&K!==null&&(p=He(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==p)&&$p(n,f,o,p),Rs=!1;var H=n.memoizedState;f.state=H,Zo(n,o,f,h),Jo(),B=n.memoizedState,E||H!==B||Rs?(typeof $=="function"&&(Uf(n,a,$,o),B=n.memoizedState),(D=Rs||Xp(n,a,D,o,H,B,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=p,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(e,n),p=n.memoizedProps,K=Pr(a,p),f.props=K,$=n.pendingProps,H=f.context,B=a.contextType,D=Ea,typeof B=="object"&&B!==null&&(D=He(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||H!==D)&&$p(n,f,o,D),Rs=!1,H=n.memoizedState,f.state=H,Zo(n,o,f,h),Jo();var Q=n.memoizedState;p!==$||H!==Q||Rs||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof E=="function"&&(Uf(n,a,E,o),Q=n.memoizedState),(K=Rs||Xp(n,a,K,o,H,Q,D)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Q),f.props=o,f.state=Q,f.context=D,o=K):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ur(n,e.child,null,h),n.child=Ur(n,null,a,h)):Fe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ki(e,n,h),e}function hy(e,n,a,o){return Nr(),n.flags|=256,Fe(e,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:tp()}}function Hf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function fy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ds(n):Ns(),(e=te)?(e=E_(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:As!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=n,n.child=a,qe=n,te=null)):e=null,e===null)throw bs(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ns(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=Dr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,p,a),n.memoizedState=Bf,il(null,o)):(Ds(n),Ff(n,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=Gf(e,n,a)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=Dr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ur(n,e.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(e,p,a),n.memoizedState=Bf,n=il(null,o));else if(Ds(n),wd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,o=Error(r(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=Gf(e,n,a)}else if(be||ba(e,n,a,!1),p=(a&e.childLanes)!==0,be||p){if(p=Wt,p!==null&&(o=bo(p,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,Cr(e,o),hn(p,e,o),zf;bd(E)||hc(),n=Gf(e,n,a)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,te=zn(E.nextSibling),qe=n,Ut=!0,Ss=null,Ln=!1,e!==null&&Yg(n,e),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Ns(),E=o.fallback,h=n.mode,D=e.child,B=D.sibling,o=Bi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=Bi(B,E):(E=Dr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(D=Ae._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=tp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,p,a),n.memoizedState=Bf,il(e.child,o)):(Ds(n),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function Ff(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Gf(e,n,a){return Ur(n,e.child,null,a),e=Ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,a)}function Qf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function my(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,at(de,p),Fe(e,n,o,a),o=Ut?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,a,n);else if(e.tag===19)dy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ba(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function LA(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),ws(n,Ae,e.memoizedState.cache),Nr();break;case 27:case 5:cr(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ds(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fy(e,n,a):(Ds(n),e=Ki(e,n,a),e!==null?e.sibling:null);Ds(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return my(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(de,de.current),o)break;return null;case 22:return n.lanes=0,ay(e,n,a,n.pendingProps);case 24:ws(n,Ae,e.memoizedState.cache)}return Ki(e,n,a)}function gy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Kf(e,a)&&(n.flags&128)===0)return be=!1,LA(e,n,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(n.flags&1048576)!==0&&Kg(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")Jh(e)?(o=Pr(e,o),n.tag=1,n=cy(null,n,e,o,a)):(n.tag=0,n=jf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===nt){n.tag=11,n=iy(null,n,e,o,a);break t}else if(h===R){n.tag=14,n=sy(null,n,e,o,a);break t}}throw n=se(e)||e,Error(r(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Pr(o,n.pendingProps),cy(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),Zo(n,o,null,a);var p=n.memoizedState;if(o=p.cache,ws(n,Ae,o),o!==f.cache&&of(n,[Ae],a,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(e,n,o,a);break t}else if(o!==h){h=xn(Error(r(424)),n),Go(h),n=hy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=zn(e.firstChild),qe=n,Ut=!0,Ss=null,Ln=!0,a=ap(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Nr(),o===h){n=Ki(e,n,a);break t}Fe(e,n,o,a)}n=n.child}return n;case 26:return ec(e,n),e===null?(a=R_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=_c(It.current).createElement(a),o[ve]=n,o[ke]=e,Ge(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=R_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return cr(n),e===null&&Ut&&(o=n.stateNode=S_(n.type,n.pendingProps,It.current),qe=n,Ln=!0,h=te,Ps(n.type)?(Rd=h,te=zn(o.firstChild)):te=h),Fe(e,n,n.pendingProps.children,a),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=te)&&(o=dS(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,qe=n,te=zn(o.firstChild),Ln=!1,h=!0):h=!1),h||bs(n)),cr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:p!==null&&Td(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,CA,null,null,a),_l._currentValue=h),ec(e,n),Fe(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=te)&&(a=mS(a,n.pendingProps,Ln),a!==null?(n.stateNode=a,qe=n,te=null,e=!0):e=!1),e||bs(n)),null;case 13:return fy(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ur(n,null,o,a):Fe(e,n,o,a),n.child;case 11:return iy(e,n,n.type,n.pendingProps,a);case 7:return Fe(e,n,n.pendingProps,a),n.child;case 8:return Fe(e,n,n.pendingProps.children,a),n.child;case 12:return Fe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),Fe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Vr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,a),n.child;case 14:return sy(e,n,n.type,n.pendingProps,a);case 15:return ry(e,n,n.type,n.pendingProps,a);case 19:return my(e,n,a);case 31:return UA(e,n,a);case 22:return ay(e,n,a,n.pendingProps);case 24:return Vr(n),o=He(Ae),e===null?(h=cf(),h===null&&(h=Wt,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),ws(n,Ae,h)):((e.lanes&a)!==0&&(df(e,n),Zo(n,null,null,a),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,Ae,o)):(o=f.cache,ws(n,Ae,o),o!==h.cache&&of(n,[Ae],a,!0))),Fe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Yi(e){e.flags|=4}function Yf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw kr=ju,hf}else e.flags&=-16777217}function py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(n))if(qy())e.flags|=8192;else throw kr=ju,hf}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,Ua|=n)}function sl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function PA(e,n,a){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fi(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?Yi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Yi(n),f!==null?(ee(n),py(n,f)):(ee(n),Yf(n,h,null,o,a))):f?f!==e.memoizedState?(Yi(n),ee(n),py(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(n),ee(n),Yf(n,h,e,o,a)),null;case 27:if(ea(n),a=It.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}e=lt.current,Sa(n)?Xg(n):(e=S_(h,o,a),n.stateNode=e,Yi(n))}return ee(n),null;case 5:if(ea(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=lt.current,Sa(n))Xg(n);else{var p=_c(It.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(n)}}return ee(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Yi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=It.current,Sa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||f_(e.nodeValue,a)),e||bs(n,!0)}else e=_c(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else a=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ic(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&pd(n.stateNode.containerInfo),ee(n),null;case 10:return Fi(n.type),ee(n),null;case 19:if(J(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Fg(a,e),a=a.sibling;return at(de,de.current&1|2),Ut&&qi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>lc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ee(n),null}else 2*tn()-o.renderingStartTime>lc&&a!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=de.current,at(de,h?a&1|2:a&1),Ut&&qi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return vn(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&ic(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&J(Mr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Fi(Ae),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function zA(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ea(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(de),null;case 4:return re(),null;case 10:return Fi(n.type),null;case 22:case 23:return vn(n),yf(),e!==null&&J(Mr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Ae),null;case 25:return null;default:return null}}function yy(e,n){switch(ef(n),n.tag){case 3:Fi(Ae),re();break;case 26:case 27:case 5:ea(n);break;case 4:re();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:J(de);break;case 10:Fi(n.type);break;case 22:case 23:vn(n),yf(),e!==null&&J(Mr);break;case 24:Fi(Ae)}}function rl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function Os(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var D=a,B=E;try{B()}catch(K){Yt(h,D,K)}}}o=o.next}while(o!==f)}}catch(K){Yt(n,n.return,K)}}function _y(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{lp(n,a)}catch(o){Yt(e,e.return,o)}}}function vy(e,n,a){a.props=Pr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function al(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function wi(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function Ey(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Xf(e,n,a){try{var o=e.stateNode;oS(o,e.type,a,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&Ps(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function sc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ps(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(sc(e,n,a),e=e.sibling;e!==null;)sc(e,n,a),e=e.sibling}function Ay(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[ve]=e,n[ke]=a}catch(f){Yt(e,e.return,f)}}var Xi=!1,we=!1,Zf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function jA(e,n){if(e=e.containerInfo,vd=wc,e=kg(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,D=-1,B=0,K=0,$=e,H=null;e:for(;;){for(var Q;$!==a||h!==0&&$.nodeType!==3||(E=p+h),$!==f||o!==0&&$.nodeType!==3||(D=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(Q=$.firstChild)!==null;)H=$,$=Q;for(;;){if($===e)break e;if(H===a&&++B===h&&(E=p),H===f&&++K===o&&(D=p),(Q=$.nextSibling)!==null)break;$=H,H=$.parentNode}$=Q}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},wc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=Pr(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Yt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function by(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&rl(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=Pr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&_y(a),o&512&&al(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{lp(e,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&o&4&&Ay(a);case 26:case 5:Ji(e,a),n===null&&o&4&&Ey(a),o&512&&al(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&Iy(e,a);break;case 13:Ji(e,a),o&4&&Cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=XA.bind(null,a),gS(e,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){n=n!==null&&n.memoizedState!==null||we,h=Xi;var f=we;Xi=o,(we=n)&&!f?Zi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),Xi=h,we=f}break;case 30:break;default:Ji(e,a)}}function wy(e){var n=e.alternate;n!==null&&(e.alternate=null,wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,on=!1;function $i(e,n,a){for(a=a.child;a!==null;)Ry(e,n,a),a=a.sibling}function Ry(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:we||wi(a,n),$i(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||wi(a,n);var o=oe,h=on;Ps(a.type)&&(oe=a.stateNode,on=!1),$i(e,n,a),gl(a.stateNode),oe=o,on=h;break;case 5:we||wi(a,n);case 6:if(o=oe,h=on,oe=null,$i(e,n,a),oe=o,on=h,oe!==null)if(on)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(on?(e=oe,__(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Fa(e)):__(oe,a.stateNode));break;case 4:o=oe,h=on,oe=a.stateNode.containerInfo,on=!0,$i(e,n,a),oe=o,on=h;break;case 0:case 11:case 14:case 15:Os(2,a,n),we||Os(4,a,n),$i(e,n,a);break;case 1:we||(wi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&vy(a,n,o)),$i(e,n,a);break;case 21:$i(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,$i(e,n,a),we=o;break;default:$i(e,n,a)}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(a){Yt(n,n.return,a)}}}function Cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(a){Yt(n,n.return,a)}}function BA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(r(435,e.tag))}}function rc(e,n){var a=BA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=$A.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ps(E.type)){oe=E.stateNode,on=!1;break t}break;case 5:oe=E.stateNode,on=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(oe===null)throw Error(r(160));Ry(f,p,h),oe=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dy(n,e),n=n.sibling}var Zn=null;function Dy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Os(3,e,e.return),rl(3,e),Os(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var p=D_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(p=D_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=C_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?N_(h,e.type,e.stateNode):C_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),a!==null&&o&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(we||a===null||wi(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ut){Yt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(Tc=null,h=Zn,Zn=vc(n.containerInfo),ln(n,e),Zn=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fa(n.containerInfo)}catch(ut){Yt(e,e.return,ut)}Zf&&(Zf=!1,Ny(e));break;case 4:o=Zn,Zn=vc(e.stateNode.containerInfo),ln(n,e),un(e),Zn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Xi,K=we;if(Xi=B||h,we=K||D,ln(n,e),we=K,Xi=B,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Xi||we||zr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=D.stateNode;var $=D.memoizedProps.style,H=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ut){Yt(D,D.return,ut)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ut){Yt(D,D.return,ut)}}}else if(n.tag===18){if(a===null){D=n;try{var Q=D.stateNode;h?v_(Q,!0):v_(D.stateNode,!1)}catch(ut){Yt(D,D.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ty(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(e);sc(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(an(p,""),a.flags&=-33);var E=$f(e);sc(e,E,p);break;case 3:case 4:var D=a.stateNode.containerInfo,B=$f(e);Jf(e,B,D);break;default:throw Error(r(161))}}catch(K){Yt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),zr(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vy(n,n.return,a),zr(n);break;case 27:gl(n.stateNode);case 26:case 5:wi(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function Zi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),rl(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Yt(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)op(D[h],E)}catch(B){Yt(o,o.return,B)}}a&&p&64&&_y(f),al(f,f.return);break;case 27:Ay(f);case 26:case 5:Zi(h,f,a),a&&o===null&&p&4&&Ey(f),al(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&p&4&&Iy(h,f);break;case 13:Zi(h,f,a),a&&p&4&&Cy(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),al(f,f.return);break;case 30:break;default:Zi(h,f,a)}n=n.sibling}}function Wf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qo(a))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function Wn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(e,n,a,o),n=n.sibling}function Oy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,a,o),h&2048&&rl(9,n);break;case 1:Wn(e,n,a,o);break;case 3:Wn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){Wn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Yt(n,n.return,D)}}else Wn(e,n,a,o);break;case 31:Wn(e,n,a,o);break;case 13:Wn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,a,o):ol(e,n):f._visibility&2?Wn(e,n,a,o):(f._visibility|=2,Ma(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(p,n);break;case 24:Wn(e,n,a,o),h&2048&&td(n.alternate,n);break;default:Wn(e,n,a,o)}}function Ma(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,D=o,B=p.flags;switch(p.tag){case 0:case 11:case 15:Ma(f,p,E,D,h),rl(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Ma(f,p,E,D,h):ol(f,p):(K._visibility|=2,Ma(f,p,E,D,h)),h&&B&2048&&Wf(p.alternate,p);break;case 24:Ma(f,p,E,D,h),h&&B&2048&&td(p.alternate,p);break;default:Ma(f,p,E,D,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:ol(a,o),h&2048&&Wf(o.alternate,o);break;case 24:ol(a,o),h&2048&&td(o.alternate,o);break;default:ol(a,o)}n=n.sibling}}var ll=8192;function xa(e,n,a){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Vy(e,n,a),e=e.sibling}function Vy(e,n,a){switch(e.tag){case 26:xa(e,n,a),e.flags&ll&&e.memoizedState!==null&&IS(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,a);break;case 3:case 4:var o=Zn;Zn=vc(e.stateNode.containerInfo),xa(e,n,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,xa(e,n,a),ll=o):xa(e,n,a));break;default:xa(e,n,a)}}function My(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,ky(o,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Os(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):ul(e);break;default:ul(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,ky(o,e)}My(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),ac(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function ky(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Os(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(wy(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var qA={getCacheForType:function(e){var n=He(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(Ae).controller.signal}},HA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Dt=null,Ot=0,Kt=0,En=null,Vs=!1,ka=!1,ed=!1,Wi=0,ce=0,Ms=0,jr=0,nd=0,Tn=0,Ua=0,cl=null,cn=null,id=!1,oc=0,Uy=0,lc=1/0,uc=null,xs=null,Oe=0,ks=null,La=null,ts=0,sd=0,rd=null,Ly=null,hl=0,ad=null;function An(){return(Ht&2)!==0&&Ot!==0?Ot&-Ot:Y.T!==null?fd():cu()}function Py(){if(Tn===0)if((Ot&536870912)===0||Ut){var e=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,a){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Us(e,Ot,Tn,!1)),mr(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(jr|=a),ce===4&&Us(e,Ot,Tn,!1)),Ri(e))}function zy(e,n,a){if((Ht&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?QA(e,n):ld(e,n,!0),f=o;do{if(h===0){ka&&!o&&Us(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!FA(a)){h=ld(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=cl;var D=E.current.memoizedState.isDehydrated;if(D&&(Pa(E,p).flags|=256),p=ld(E,p,!1),p!==2){if(ed&&!D){E.errorRecoveryDisabledLanes|=f,jr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),Us(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Us(o,n,Tn,!Vs);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=oc+300-tn(),10<h)){if(Us(o,n,Tn,!Vs),li(o,0,!0)!==0)break t;ts=n,o.timeoutHandle=p_(jy.bind(null,o,a,cn,uc,id,n,Tn,jr,Ua,Vs,f,"Throttled",-0,0),h);break t}jy(o,a,cn,uc,id,n,Tn,jr,Ua,Vs,f,null,-0,0)}}break}while(!0);Ri(e)}function jy(e,n,a,o,h,f,p,E,D,B,K,$,H,Q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Vy(n,f,$);var ut=(f&62914560)===f?oc-tn():(f&4194048)===f?Uy-tn():0;if(ut=CS($,ut),ut!==null){ts=f,e.cancelPendingCommit=ut(Yy.bind(null,e,n,f,a,o,h,p,E,D,K,$,null,H,Q)),Us(e,f,p,!B);return}}Yy(e,n,f,a,o,h,p,E,D)}function FA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Us(e,n,a,o){n&=~nd,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&gr(e,a,n)}function cc(){return(Ht&6)===0?(fl(0),!1):!0}function od(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,Hi=Or=null,Sf(e),Ca=null,Yo=0,e=Dt;for(;e!==null;)yy(e.alternate,e),e=e.return;Dt=null}}function Pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,cS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ts=0,od(),Wt=e,Dt=a=Bi(e.current,null),Ot=n,Kt=0,En=null,Vs=!1,ka=Hn(e,n),ed=!1,Ua=Tn=nd=jr=Ms=ce=0,cn=cl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Wi=n,Ou(),a}function By(e,n){Rt=null,Y.H=nl,n===Ia||n===zu?(n=ip(),Kt=3):n===hf?(n=ip(),Kt=4):Kt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Dt===null&&(ce=1,Wu(e,xn(n,e.current)))}function qy(){var e=_n.current;return e===null?!0:(Ot&4194048)===Ot?Pn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Pn:!1}function Hy(){var e=Y.H;return Y.H=nl,e===null?nl:e}function Fy(){var e=Y.A;return Y.A=qA,e}function hc(){ce=4,Vs||(Ot&4194048)!==Ot&&_n.current!==null||(ka=!0),(Ms&134217727)===0&&(jr&134217727)===0||Wt===null||Us(Wt,Ot,Tn,!1)}function ld(e,n,a){var o=Ht;Ht|=2;var h=Hy(),f=Fy();(Wt!==e||Ot!==n)&&(uc=null,Pa(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Dt!==null){var E=Dt,D=En;switch(Kt){case 8:od(),p=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var B=Kt;if(Kt=0,En=null,za(e,E,D,B),a&&ka){p=0;break t}break;default:B=Kt,Kt=0,En=null,za(e,E,D,B)}}GA(),p=ce;break}catch(K){By(e,K)}while(!0);return n&&e.shellSuspendCounter++,Hi=Or=null,Ht=o,Y.H=h,Y.A=f,Dt===null&&(Wt=null,Ot=0,Ou()),p}function GA(){for(;Dt!==null;)Gy(Dt)}function QA(e,n){var a=Ht;Ht|=2;var o=Hy(),h=Fy();Wt!==e||Ot!==n?(uc=null,lc=tn()+500,Pa(e,n)):ka=Hn(e,n);t:do try{if(Kt!==0&&Dt!==null){n=Dt;var f=En;e:switch(Kt){case 1:Kt=0,En=null,za(e,n,f,1);break;case 2:case 9:if(ep(f)){Kt=0,En=null,Qy(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ri(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:ep(f)?(Kt=0,En=null,Qy(n)):(Kt=0,En=null,za(e,n,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(p?O_(p):E.stateNode.complete){Kt=0,En=null;var D=E.sibling;if(D!==null)Dt=D;else{var B=E.return;B!==null?(Dt=B,fc(B)):Dt=null}break e}}Kt=0,En=null,za(e,n,f,5);break;case 6:Kt=0,En=null,za(e,n,f,6);break;case 8:od(),ce=6;break t;default:throw Error(r(462))}}KA();break}catch(K){By(e,K)}while(!0);return Hi=Or=null,Y.H=o,Y.A=h,Ht=a,Dt!==null?0:(Wt=null,Ot=0,Ou(),ce)}function KA(){for(;Dt!==null&&!Lh();)Gy(Dt)}function Gy(e){var n=gy(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,n===null?fc(e):Dt=n}function Qy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=uy(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=uy(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Sf(n);default:yy(a,n),n=Dt=Fg(n,Wi),n=gy(a,n,Wi)}e.memoizedProps=e.pendingProps,n===null?fc(e):Dt=n}function za(e,n,a,o){Hi=Or=null,Sf(n),Ca=null,Yo=0;var h=n.return;try{if(kA(e,h,n,a,Ot)){ce=1,Wu(e,xn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,Wu(e,xn(a,e.current)),Dt=null;return}n.flags&32768?(Ut||o===1?e=!0:ka||(Ot&536870912)!==0?e=!1:(Vs=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Ky(n,Vs);return}e=n.return;var a=PA(n.alternate,n,Wi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ce===0&&(ce=5)}function Ky(e,n){do{var a=zA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function Yy(e,n,a,o,h,f,p,E,D){e.cancelPendingCommit=null;do dc();while(Oe!==0);if((Ht&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,jh(e,a,f,p,E,D),e===Wt&&(Dt=Wt=null,Ot=0),La=n,ks=e,ts=a,sd=f,rd=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JA(fs,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=rt.p,rt.p=2,p=Ht,Ht|=4;try{jA(e,n,a)}finally{Ht=p,rt.p=h,Y.T=o}}Oe=1,Xy(),$y(),Jy()}}function Xy(){if(Oe===1){Oe=0;var e=ks,n=La,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var o=rt.p;rt.p=2;var h=Ht;Ht|=4;try{Dy(n,e);var f=Ed,p=kg(e.containerInfo),E=f.focusedElem,D=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&xg(E.ownerDocument.documentElement,E)){if(D!==null&&Fh(E)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(K,E.value.length);else{var $=E.ownerDocument||document,H=$&&$.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ut=E.textContent.length,yt=Math.min(D.start,ut),Zt=D.end===void 0?yt:Math.min(D.end,ut);!Q.extend&&yt>Zt&&(p=Zt,Zt=yt,yt=p);var U=Mg(E,yt),M=Mg(E,Zt);if(U&&M&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var j=$.createRange();j.setStart(U.node,U.offset),Q.removeAllRanges(),yt>Zt?(Q.addRange(j),Q.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),Q.addRange(j))}}}}for($=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&$.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var X=$[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}wc=!!vd,Ed=vd=null}finally{Ht=h,rt.p=o,Y.T=a}}e.current=n,Oe=2}}function $y(){if(Oe===2){Oe=0;var e=ks,n=La,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var o=rt.p;rt.p=2;var h=Ht;Ht|=4;try{by(e,n.alternate,n)}finally{Ht=h,rt.p=o,Y.T=a}}Oe=3}}function Jy(){if(Oe===4||Oe===3){Oe=0,iu();var e=ks,n=La,a=ts,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,La=ks=null,Zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(xs=null),Li(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,h=rt.p,rt.p=2,Y.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{Y.T=n,rt.p=h}}(ts&3)!==0&&dc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?hl++:(hl=0,ad=e):hl=0,fl(0)}}function Zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function dc(){return Xy(),$y(),Jy(),Wy()}function Wy(){if(Oe!==5)return!1;var e=ks,n=sd;sd=0;var a=Li(ts),o=Y.T,h=rt.p;try{rt.p=32>a?32:a,Y.T=null,a=rd,rd=null;var f=ks,p=ts;if(Oe=0,La=ks=null,ts=0,(Ht&6)!==0)throw Error(r(331));var E=Ht;if(Ht|=4,xy(f.current),Oy(f,f.current,p,a),Ht=E,fl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{rt.p=h,Y.T=o,Zy(e,n)}}function t_(e,n,a){n=xn(a,n),n=Pf(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(mr(e,2),Ri(e))}function Yt(e,n,a){if(e.tag===3)t_(e,e,a);else for(;n!==null;){if(n.tag===3){t_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xs===null||!xs.has(o))){e=xn(a,e),a=ey(2),o=Cs(n,a,2),o!==null&&(ny(a,o,n,e),mr(o,2),Ri(o));break}}n=n.return}}function ud(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new HA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(ed=!0,h.add(a),e=YA.bind(null,e,n,a),n.then(e,e))}function YA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Ot&a)===a&&(ce===4||ce===3&&(Ot&62914560)===Ot&&300>tn()-oc?(Ht&2)===0&&Pa(e,0):nd|=a,Ua===Ot&&(Ua=0)),Ri(e)}function e_(e,n){n===0&&(n=uu()),e=Cr(e,n),e!==null&&(mr(e,n),Ri(e))}function XA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),e_(e,a)}function $A(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),e_(e,a)}function JA(e,n){return Ne(e,n)}var mc=null,ja=null,cd=!1,gc=!1,hd=!1,Ls=0;function Ri(e){e!==ja&&e.next===null&&(ja===null?mc=ja=e:ja=ja.next=e),gc=!0,cd||(cd=!0,WA())}function fl(e,n){if(!hd&&gc){hd=!0;do for(var a=!1,o=mc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,r_(o,f))}else f=Ot,f=li(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,r_(o,f));o=o.next}while(a);hd=!1}}function ZA(){n_()}function n_(){gc=cd=!1;var e=0;Ls!==0&&uS()&&(e=Ls);for(var n=tn(),a=null,o=mc;o!==null;){var h=o.next,f=i_(o,n);f===0?(o.next=null,a===null?mc=h:a.next=h,h===null&&(ja=a)):(a=o,(e!==0||(f&3)!==0)&&(gc=!0)),o=h}Oe!==0&&Oe!==5||fl(e),Ls!==0&&(Ls=0)}function i_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,D=h[p];D===-1?((E&a)===0||(E&o)!==0)&&(h[p]=zh(E,n)):D<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,a=Ot,a=li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&hs(o),Li(a)){case 2:case 8:a=Ao;break;case 32:a=fs;break;case 268435456:a=su;break;default:a=fs}return o=s_.bind(null,e),a=Ne(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&hs(o),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var o=Ot;return o=li(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,n),i_(e,tn()),e.callbackNode!=null&&e.callbackNode===a?s_.bind(null,e):null)}function r_(e,n){if(dc())return null;zy(e,n,!0)}function WA(){hS(function(){(Ht&6)!==0?Ne(To,ZA):n_()})}function fd(){if(Ls===0){var e=wa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ls=e}return Ls}function a_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function o_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function tS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=a_((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?a_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ls!==0){var D=p?o_(h,p):new FormData(h);Vf(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=p?o_(h,p):new FormData(h),Vf(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],eS=md.toLowerCase(),nS=md[0].toUpperCase()+md.slice(1);Jn(eS,"on"+nS)}Jn(Pg,"onAnimationEnd"),Jn(zg,"onAnimationIteration"),Jn(jg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(_A,"onTransitionRun"),Jn(vA,"onTransitionStart"),Jn(EA,"onTransitionCancel"),Jn(Bg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function l_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(K){Nu(K)}h.currentTarget=null,f=D}else for(p=0;p<o.length;p++){if(E=o[p],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(K){Nu(K)}h.currentTarget=null,f=D}}}}function Nt(e,n){var a=n[ra];a===void 0&&(a=n[ra]=new Set);var o=e+"__bubble";a.has(o)||(u_(n,e,2,!1),a.add(o))}function gd(e,n,a){var o=0;n&&(o|=4),u_(a,e,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[pc]){e[pc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||gd(a,!1,e),gd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,gd("selectionchange",!1,n))}}function u_(e,n,a,o){switch(P_(n)){case 2:var h=OS;break;case 8:h=VS;break;default:h=Od}a=h.bind(null,n,a,e),h=void 0,!Er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function yd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=fi(E),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){o=f=p;continue t}E=E.parentNode}}o=o.return}_s(function(){var B=f,K=Nn(a),$=[];t:{var H=qg.get(e);if(H!==void 0){var Q=vi,ut=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":Q=Iu;break;case"focusin":ut="focus",Q=br;break;case"focusout":ut="blur",Q=br;break;case"beforeblur":case"afterblur":Q=br;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=m;break;case Pg:case zg:case jg:Q=Eu;break;case Bg:Q=A;break;case"scroll":case"scrollend":Q=Lo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ji;break;case"toggle":case"beforetoggle":Q=wt}var yt=(n&4)!==0,Zt=!yt&&(e==="scroll"||e==="scrollend"),U=yt?H!==null?H+"Capture":null:H;yt=[];for(var M=B,j;M!==null;){var X=M;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||U===null||(X=Kn(M,U),X!=null&&yt.push(ml(M,X,j))),Zt)break;M=M.return}0<yt.length&&(H=new Q(H,ut,null,a,K),$.push({event:H,listeners:yt}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",H&&a!==xo&&(ut=a.relatedTarget||a.fromElement)&&(fi(ut)||ut[ci]))break t;if((Q||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ut=a.relatedTarget||a.toElement,Q=B,ut=ut?fi(ut):null,ut!==null&&(Zt=c(ut),yt=ut.tag,ut!==Zt||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(Q=null,ut=B),Q!==ut)){if(yt=Po,X="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ji,X="onPointerLeave",U="onPointerEnter",M="pointer"),Zt=Q==null?H:mn(Q),j=ut==null?H:mn(ut),H=new yt(X,M+"leave",Q,a,K),H.target=Zt,H.relatedTarget=j,X=null,fi(K)===B&&(yt=new yt(U,M+"enter",ut,a,K),yt.target=j,yt.relatedTarget=Zt,X=yt),Zt=X,Q&&ut)e:{for(yt=sS,U=Q,M=ut,j=0,X=U;X;X=yt(X))j++;X=0;for(var mt=M;mt;mt=yt(mt))X++;for(;0<j-X;)U=yt(U),j--;for(;0<X-j;)M=yt(M),X--;for(;j--;){if(U===M||M!==null&&U===M.alternate){yt=U;break e}U=yt(U),M=yt(M)}yt=null}else yt=null;Q!==null&&c_($,H,Q,yt,!1),ut!==null&&Zt!==null&&c_($,Zt,ut,yt,!0)}}t:{if(H=B?mn(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var jt=Ig;else if(wg(H))if(Cg)jt=gA;else{jt=dA;var dt=fA}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&ua(B.elementType)&&(jt=Ig):jt=mA;if(jt&&(jt=jt(e,B))){Rg($,jt,a,K);break t}dt&&dt(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Oo(H,"number",H.value)}switch(dt=B?mn(B):window,e){case"focusin":(wg(dt)||dt.contentEditable==="true")&&(ya=dt,Gh=B,Ho=null);break;case"focusout":Ho=Gh=ya=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Ug($,a,K);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Ug($,a,K)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else pa?wr(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ai&&a.locale!=="ko"&&(pa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&pa&&(Ct=Uo()):(_i=K,ko="value"in _i?_i.value:_i.textContent,pa=!0)),dt=yc(B,Vt),0<dt.length&&(Vt=new Ti(Vt,e,null,a,K),$.push({event:Vt,listeners:dt}),Ct?Vt.data=Ct:(Ct=ga(a),Ct!==null&&(Vt.data=Ct)))),(Ct=Vn?lA(e,a):uA(e,a))&&(Vt=yc(B,"onBeforeInput"),0<Vt.length&&(dt=new Ti("onBeforeInput","beforeinput",null,a,K),$.push({event:dt,listeners:Vt}),dt.data=Ct)),tS($,e,B,a,K)}l_($,n)})}function ml(e,n,a){return{instance:e,listener:n,currentTarget:a}}function yc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(e,a),h!=null&&o.unshift(ml(e,h,f)),h=Kn(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function sS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||B===null||(D=B,h?(B=Kn(a,f),B!=null&&p.unshift(ml(a,B,D))):h||(B=Kn(a,f),B!=null&&p.push(ml(a,B,D)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var rS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(rS,`
`).replace(aS,"")}function f_(e,n){return n=h_(n),h_(e)===n}function Jt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ca(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ca(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),oa(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,oa(e,a,o))}}function _d(e,n,a,o,h,f){switch(a){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):oa(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,f,p,a,null)}}h&&Jt(e,n,"srcSet",a.srcSet,a,null),o&&Jt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,D=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":p=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Jt(e,n,o,K,a,null)}}mu(e,f,E,D,B,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ms(e,!!o,n,!1):a!=null&&ms(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Jt(e,n,p,E,a,null)}gs(e,o,h,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,D,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Nt(dl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Jt(e,n,B,o,a,null)}return;default:if(ua(n)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&_d(e,n,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Jt(e,n,E,o,a,null))}function oS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,D=null,B=null,K=null;for(Q in a){var $=a[Q];if(a.hasOwnProperty(Q)&&$!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=$;default:o.hasOwnProperty(Q)||Jt(e,n,Q,null,o,$)}}for(var H in o){var Q=o[H];if($=a[H],o.hasOwnProperty(H)&&(Q!=null||$!=null))switch(H){case"type":f=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":K=Q;break;case"value":p=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Q!==$&&Jt(e,n,H,Q,o,$)}}la(e,p,E,D,B,K,f,h);return;case"select":Q=p=E=H=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Q=D;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,D)}for(h in o)if(f=o[h],D=a[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==D&&Jt(e,n,h,f,o,D)}n=E,a=p,o=Q,H!=null?ms(e,!!a,H,!1):!!o!=!!a&&(n!=null?ms(e,!!a,n,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Jt(e,n,p,h,o,f)}gu(e,H,Q);return;case"option":for(var ut in a)if(H=a[ut],a.hasOwnProperty(ut)&&H!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Jt(e,n,ut,null,o,H)}for(D in o)if(H=o[D],Q=a[D],o.hasOwnProperty(D)&&H!==Q&&(H!=null||Q!=null))switch(D){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Jt(e,n,D,H,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!o.hasOwnProperty(yt)&&Jt(e,n,yt,null,o,H);for(B in o)if(H=o[B],Q=a[B],o.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Jt(e,n,B,H,o,Q)}return;default:if(ua(n)){for(var Zt in a)H=a[Zt],a.hasOwnProperty(Zt)&&H!==void 0&&!o.hasOwnProperty(Zt)&&_d(e,n,Zt,void 0,o,H);for(K in o)H=o[K],Q=a[K],!o.hasOwnProperty(K)||H===Q||H===void 0&&Q===void 0||_d(e,n,K,H,o,Q);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!o.hasOwnProperty(U)&&Jt(e,n,U,null,o,H);for($ in o)H=o[$],Q=a[$],!o.hasOwnProperty($)||H===Q||H==null&&Q==null||Jt(e,n,$,H,o,Q)}function d_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&d_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var D=a[o],B=D.startTime;if(B>E)break;var K=D.transferSize,$=D.initiatorType;K&&d_($)&&(D=D.responseEnd,p+=K*(D<E?1:(E-B)/(D-B)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function uS(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(fS)}:p_;function fS(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function __(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Fa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")gl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,gl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&gl(e.ownerDocument.body);a=h}while(a);Fa(n)}function v_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sd(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function dS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function mS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function E_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function gS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function T_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return zn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function A_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function S_(e,n,a){switch(n=_c(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var jn=new Map,b_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var es=rt.d;rt.d={f:pS,r:yS,D:_S,C:vS,L:ES,m:TS,X:SS,S:AS,M:bS};function pS(){var e=es.f(),n=cc();return e||n}function yS(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?Bp(n):es.r(e)}var Ba=typeof document>"u"?null:document;function w_(e,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b_.has(h)||(b_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function _S(e){es.D(e),w_("dns-prefetch",e,null)}function vS(e,n){es.C(e,n),w_("preconnect",e,n)}function ES(e,n,a){es.L(e,n,a);var o=Ba;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Ha(e)}jn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function TS(e,n){es.m(e,n);var a=Ba;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!jn.has(f)&&(e=b({rel:"modulepreload",href:e},n),jn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function AS(e,n,a){es.S(e,n,a);var o=Ba;if(o&&e){var h=di(o).hoistableStyles,f=qa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(pl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=jn.get(f))&&Id(e,a);var D=p=o.createElement("link");Ee(D),Ge(D,"link",e),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ec(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function SS(e,n){es.X(e,n);var a=Ba;if(a&&e){var o=di(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(yl(h)),f||(e=b({src:e,async:!0},n),(n=jn.get(h))&&Cd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function bS(e,n){es.M(e,n);var a=Ba;if(a&&e){var o=di(a).hoistableScripts,h=Ha(e),f=o.get(h);f||(f=a.querySelector(yl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Cd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function R_(e,n,a,o){var h=(h=It.current)?vc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=di(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var f=di(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(pl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),jn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(e,a),f||wS(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(a),a=di(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function qa(e){return'href="'+rn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function wS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ee(n),e.head.appendChild(n))}function Ha(e){return'[src="'+rn(e)+'"]'}function yl(e){return"script[async]"+e}function C_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),Ec(o,a.precedence,e),n.instance=o;case"stylesheet":h=qa(a.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=I_(a),(h=jn.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),Ge(f,"link",o),n.state.loading|=4,Ec(f,a.precedence,e),n.instance=f;case"script":return f=Ha(a.src),(h=e.querySelector(yl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=jn.get(f))&&(o=b({},a),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ec(o,a.precedence,e));return n.instance}function Ec(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function D_(e,n,a){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(a,o)}else h=Tc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function N_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function RS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function IS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ac.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=I_(o),(h=jn.get(h))&&Id(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ac.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Dd=0;function CS(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Dd===0&&(Dd=62500*lS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Dd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(DS,e),Sc=null,Ac.call(e))}function DS(e,n){if(!(n.state.loading&4)){var a=Sc.get(e);if(a)var o=a.get(null);else{a=new Map,Sc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:st,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function NS(e,n,a,o,h,f,p,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function V_(e,n,a,o,h,f,p,E,D,B,K,$){return e=new NS(e,n,a,p,D,B,K,$,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),e}function M_(e){return e?(e=Ea,e):Ea}function x_(e,n,a,o,h,f){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Is(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Cs(e,o,n),a!==null&&(hn(a,e,n),$o(a,e,n))}function k_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Nd(e,n){k_(e,n),(e=e.alternate)&&k_(e,n)}function U_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&hn(n,e,67108864),Nd(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var n=An();n=pr(n);var a=Cr(e,n);a!==null&&hn(a,e,n),Nd(e,n)}}var wc=!0;function OS(e,n,a,o){var h=Y.T;Y.T=null;var f=rt.p;try{rt.p=2,Od(e,n,a,o)}finally{rt.p=f,Y.T=h}}function VS(e,n,a,o){var h=Y.T;Y.T=null;var f=rt.p;try{rt.p=8,Od(e,n,a,o)}finally{rt.p=f,Y.T=h}}function Od(e,n,a,o){if(wc){var h=Vd(o);if(h===null)yd(e,n,o,Rc,a),z_(e,o);else if(xS(h,e,n,a,o))o.stopPropagation();else if(z_(e,o),n&4&&-1<MS.indexOf(e)){for(;h!==null;){var f=Dn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=oi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var D=1<<31-he(p);E.entanglements[1]|=D,p&=~D}Ri(f),(Ht&6)===0&&(lc=tn()+500,fl(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&hn(E,f,2),cc(),Nd(f,2)}if(f=Vd(o),f===null&&yd(e,n,o,Rc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,n,o,null,a)}}function Vd(e){return e=Nn(e),Md(e)}var Rc=null;function Md(e){if(Rc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case To:return 2;case Ao:return 8;case fs:case Ph:return 32;case su:return 268435456;default:return 32}default:return 32}}var xd=!1,zs=null,js=null,Bs=null,vl=new Map,El=new Map,qs=[],MS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Dn(n),n!==null&&U_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function xS(e,n,a,o,h){switch(n){case"focusin":return zs=Tl(zs,e,n,a,o,h),!0;case"dragenter":return js=Tl(js,e,n,a,o,h),!0;case"mouseover":return Bs=Tl(Bs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,a,o,h)),!0}return!1}function j_(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Fn(e.priority,function(){L_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Fn(e.priority,function(){L_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);xo=o,a.target.dispatchEvent(o),xo=null}else return n=Dn(a),n!==null&&U_(n),e.blockedOn=a,!1;n.shift()}return!0}function B_(e,n,a){Ic(e)&&a.delete(n)}function kS(){xd=!1,zs!==null&&Ic(zs)&&(zs=null),js!==null&&Ic(js)&&(js=null),Bs!==null&&Ic(Bs)&&(Bs=null),vl.forEach(B_),El.forEach(B_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,kS)))}var Dc=null;function q_(e){Dc!==e&&(Dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=Dn(a);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Fa(e){function n(D){return Cc(D,e)}zs!==null&&Cc(zs,e),js!==null&&Cc(js,e),Bs!==null&&Cc(Bs,e),vl.forEach(n),El.forEach(n);for(var a=0;a<qs.length;a++){var o=qs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ke]||null;if(typeof f=="function")p||q_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Md(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),q_(a)}}}function H_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Nc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();x_(a,o,e,n,null,null)},Nc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),cc(),n[ci]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<qs.length&&n!==0&&n<qs[a].priority;a++);qs.splice(a,0,e),a===0&&j_(e)}};var F_=t.version;if(F_!=="19.2.4")throw Error(r(527,F_,"19.2.4"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var US={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{qn=Oc.inject(US),je=Oc}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Jp,f=Zp,p=Wp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=V_(e,1,!1,null,null,a,o,null,h,f,p,H_),e[ci]=n.current,pd(e),new kd(n)},Sl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Jp,p=Zp,E=Wp,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=V_(e,1,!0,n,a??null,o,h,D,f,p,E,H_),n.context=M_(null),a=n.current,o=An(),o=pr(o),h=Is(o),h.callback=null,Cs(a,h,o),a=o,n.current.lanes=a,mr(n,a),Ri(n),e[ci]=n.current,pd(e),new Nc(n)},Sl.version="19.2.4",Sl}var tv;function KS(){if(tv)return Pd.exports;tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pd.exports=QS(),Pd.exports}var YS=KS();const XS=OE(YS),$S=()=>{};var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},JS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,T=c>>2,b=(c&3)<<4|g>>4;let S=(g&15)<<2|y>>6,V=y&63;_||(V=64,d||(S=64)),r.push(i[T],i[b],i[S],i[V])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(VE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):JS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new ZS;const S=c<<2|g>>4;if(r.push(S),y!==64){const V=g<<4&240|y>>2;if(r.push(V),b!==64){const z=y<<6&192|b;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(s){const t=VE(s);return ME.encodeByteArray(t,!0)},Yc=function(s){return WS(s).replace(/\./g,"")},xE=function(s){try{return ME.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=()=>t1().__FIREBASE_DEFAULTS__,n1=()=>{if(typeof process>"u"||typeof ev>"u")return;const s=ev.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},i1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&xE(s[1]);return t&&JSON.parse(t)},gh=()=>{try{return $S()||e1()||n1()||i1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kE=s=>{var t,i;return(i=(t=gh())==null?void 0:t.emulatorHosts)==null?void 0:i[s]},s1=s=>{const t=kE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},UE=()=>{var s;return(s=gh())==null?void 0:s.config},LE=s=>{var t;return(t=gh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Dl={};function o1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?s.emulator.push(t):s.prod.push(t);return s}function l1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let nv=!1;function zE(s,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Dl[s]===t||Dl[s]||nv)return;Dl[s]=t;function i(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=o1().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function _(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{nv=!0,d()},S}function T(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=l1(r),V=i("text"),z=document.getElementById(V)||document.createElement("span"),q=i("learnmore"),F=document.getElementById(q)||document.createElement("a"),W=i("preprendIcon"),et=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const st=S.element;g(st),T(F,q);const nt=y();_(et,W),st.append(et,z,F,nt),document.body.appendChild(st)}c?(z.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function c1(){var t;const s=(t=gh())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function f1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function d1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m1(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function g1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p1(){try{return typeof indexedDB=="object"}catch{return!1}}function y1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)==null?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="FirebaseError";class cs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=_1,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?v1(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new cs(l,g,r)}}function v1(s,t){return s.replace(E1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const E1=/\{\$([^}]+)}/g;function T1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Yr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(iv(c)&&iv(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function iv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function A1(s,t){const i=new S1(s,t);return i.subscribe.bind(i)}class S1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");b1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s){return s&&s._delegate?s._delegate:s}class Xr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new r1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(I1(t))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Br){return this.instances.has(t)}getOptions(t=Br){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Br){return this.component?this.component.multipleInstances?t:Br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(s){return s===Br?void 0:s}function I1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new w1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const D1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},N1=Mt.INFO,O1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},V1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=O1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=N1,this._logHandler=V1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const M1=(s,t)=>t.some(i=>s instanceof i);let sv,rv;function x1(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jE=new WeakMap,im=new WeakMap,BE=new WeakMap,Hd=new WeakMap,Dm=new WeakMap;function U1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Xs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&jE.set(i,s)}).catch(()=>{}),Dm.set(t,s),t}function L1(s){if(im.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});im.set(s,t)}let sm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return im.get(s);if(t==="objectStoreNames")return s.objectStoreNames||BE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function P1(s){sm=s(sm)}function z1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Fd(this),t,...i);return BE.set(r,t.sort?t.sort():[t]),Xs(r)}:k1().includes(s)?function(...t){return s.apply(Fd(this),t),Xs(jE.get(this))}:function(...t){return Xs(s.apply(Fd(this),t))}}function j1(s){return typeof s=="function"?z1(s):(s instanceof IDBTransaction&&L1(s),M1(s,x1())?new Proxy(s,sm):s)}function Xs(s){if(s instanceof IDBRequest)return U1(s);if(Hd.has(s))return Hd.get(s);const t=j1(s);return t!==s&&(Hd.set(s,t),Dm.set(t,s)),t}const Fd=s=>Dm.get(s);function B1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=Xs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Xs(d.result),_.oldVersion,_.newVersion,Xs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const q1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],Gd=new Map;function av(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=H1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||q1.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Gd.set(t,c),c}P1(s=>({...s,get:(t,i,r)=>av(t,i)||s.get(t,i,r),has:(t,i)=>!!av(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(G1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function G1(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const rm="@firebase/app",ov="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Cm("@firebase/app"),Q1="@firebase/app-compat",K1="@firebase/analytics-compat",Y1="@firebase/analytics",X1="@firebase/app-check-compat",$1="@firebase/app-check",J1="@firebase/auth",Z1="@firebase/auth-compat",W1="@firebase/database",tb="@firebase/data-connect",eb="@firebase/database-compat",nb="@firebase/functions",ib="@firebase/functions-compat",sb="@firebase/installations",rb="@firebase/installations-compat",ab="@firebase/messaging",ob="@firebase/messaging-compat",lb="@firebase/performance",ub="@firebase/performance-compat",cb="@firebase/remote-config",hb="@firebase/remote-config-compat",fb="@firebase/storage",db="@firebase/storage-compat",mb="@firebase/firestore",gb="@firebase/ai",pb="@firebase/firestore-compat",yb="firebase",_b="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",vb={[rm]:"fire-core",[Q1]:"fire-core-compat",[Y1]:"fire-analytics",[K1]:"fire-analytics-compat",[$1]:"fire-app-check",[X1]:"fire-app-check-compat",[J1]:"fire-auth",[Z1]:"fire-auth-compat",[W1]:"fire-rtdb",[tb]:"fire-data-connect",[eb]:"fire-rtdb-compat",[nb]:"fire-fn",[ib]:"fire-fn-compat",[sb]:"fire-iid",[rb]:"fire-iid-compat",[ab]:"fire-fcm",[ob]:"fire-fcm-compat",[lb]:"fire-perf",[ub]:"fire-perf-compat",[cb]:"fire-rc",[hb]:"fire-rc-compat",[fb]:"fire-gcs",[db]:"fire-gcs-compat",[mb]:"fire-fst",[pb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[yb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,Eb=new Map,om=new Map;function lv(s,t){try{s.container.addComponent(t)}catch(i){as.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function eo(s){const t=s.name;if(om.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,s);for(const i of Xc.values())lv(i,s);for(const i of Eb.values())lv(i,s);return!0}function Nm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ei(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$s=new Gl("app","Firebase",Tb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=_b;function qE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:am,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw $s.create("bad-app-name",{appName:String(l)});if(i||(i=UE()),!i)throw $s.create("no-options");const c=Xc.get(l);if(c){if(Yr(i,c.options)&&Yr(r,c.config))return c;throw $s.create("duplicate-app",{appName:l})}const d=new C1(l);for(const _ of om.values())d.addComponent(_);const g=new Ab(i,r,d);return Xc.set(l,g),g}function HE(s=am){const t=Xc.get(s);if(!t&&s===am&&UE())return qE();if(!t)throw $s.create("no-app",{appName:s});return t}function Js(s,t,i){let r=vb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(d.join(" "));return}eo(new Xr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firebase-heartbeat-database",bb=1,kl="firebase-heartbeat-store";let Qd=null;function FE(){return Qd||(Qd=B1(Sb,bb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw $s.create("idb-open",{originalErrorMessage:s.message})})),Qd}async function wb(s){try{const i=(await FE()).transaction(kl),r=await i.objectStore(kl).get(GE(s));return await i.done,r}catch(t){if(t instanceof cs)as.warn(t.message);else{const i=$s.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});as.warn(i.message)}}}async function uv(s,t){try{const r=(await FE()).transaction(kl,"readwrite");await r.objectStore(kl).put(t,GE(s)),await r.done}catch(i){if(i instanceof cs)as.warn(i.message);else{const r=$s.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});as.warn(r.message)}}}function GE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=1024,Ib=30;class Cb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Nb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=cv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Ib){const d=Ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){as.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cv(),{heartbeatsToSend:r,unsentEntries:l}=Db(this._heartbeatsCache.heartbeats),c=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return as.warn(i),""}}}function cv(){return new Date().toISOString().substring(0,10)}function Db(s,t=Rb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),hv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),hv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p1()?y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await wb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function hv(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function Ob(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(s){eo(new Xr("platform-logger",t=>new F1(t),"PRIVATE")),eo(new Xr("heartbeat",t=>new Cb(t),"PRIVATE")),Js(rm,ov,s),Js(rm,ov,"esm2020"),Js("fire-js","")}Vb("");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,QE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(k,O,L){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return w.prototype[O].apply(k,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,I){I||(I=0);const k=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)k[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)k[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],O=R.g[2];let L=R.g[3],C;C=w+(L^I&(O^L))+k[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(O^w&(I^O))+k[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=O+(I^L&(w^I))+k[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(w^O&(L^w))+k[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=w+(L^I&(O^L))+k[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(O^w&(I^O))+k[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=O+(I^L&(w^I))+k[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(w^O&(L^w))+k[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=w+(L^I&(O^L))+k[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(O^w&(I^O))+k[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=O+(I^L&(w^I))+k[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(w^O&(L^w))+k[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=w+(L^I&(O^L))+k[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(O^w&(I^O))+k[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=O+(I^L&(w^I))+k[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=I+(w^O&(L^w))+k[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=w+(O^L&(I^O))+k[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(w^I))+k[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=O+(w^I&(L^w))+k[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(O^L))+k[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=w+(O^L&(I^O))+k[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(w^I))+k[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=O+(w^I&(L^w))+k[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(O^L))+k[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=w+(O^L&(I^O))+k[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(w^I))+k[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=O+(w^I&(L^w))+k[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(O^L))+k[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=w+(O^L&(I^O))+k[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^O&(w^I))+k[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=O+(w^I&(L^w))+k[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(O^L))+k[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=w+(I^O^L)+k[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^O)+k[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=O+(L^w^I)+k[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^w)+k[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=w+(I^O^L)+k[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^O)+k[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=O+(L^w^I)+k[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^w)+k[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=w+(I^O^L)+k[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^O)+k[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=O+(L^w^I)+k[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^w)+k[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=w+(I^O^L)+k[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^O)+k[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=O+(L^w^I)+k[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=I+(O^L^w)+k[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=w+(O^(I|~L))+k[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~O))+k[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=O+(w^(L|~I))+k[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~w))+k[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=w+(O^(I|~L))+k[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~O))+k[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=O+(w^(L|~I))+k[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~w))+k[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=w+(O^(I|~L))+k[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~O))+k[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=O+(w^(L|~I))+k[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~w))+k[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=w+(O^(I|~L))+k[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~O))+k[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=O+(w^(L|~I))+k[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=I+(L^(O|~w))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,k=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=I;)l(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(k[O++]=R.charCodeAt(L++),O==this.blockSize){l(this,k),O=0;break}}else for(;L<w;)if(k[O++]=R[L++],O==this.blockSize){l(this,k),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)R[w++]=this.g[I]>>>k&255;return R};function c(R,w){var I=g;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function d(R,w){this.h=w;const I=[];let k=!0;for(let O=R.length-1;O>=0;O--){const L=R[O]|0;k&&L==w||(I[O]=L,k=!1)}this.g=I}var g={};function _(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return F(y(-R));const w=[];let I=1;for(let k=0;R>=I;k++)w[k]=R/I|0,I*=4294967296;return new d(w,0)}function T(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return F(T(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(w,8));let k=b;for(let L=0;L<R.length;L+=8){var O=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+O),w);O<8?(O=y(Math.pow(w,O)),k=k.j(O).add(y(C))):(k=k.j(I),k=k.add(y(C)))}return k}var b=_(0),S=_(1),V=_(16777216);s=d.prototype,s.m=function(){if(q(this))return-F(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);R+=(k>=0?k:4294967296+k)*w,w*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(z(this))return"0";if(q(this))return"-"+F(this).toString(R);const w=y(Math.pow(R,6));var I=this;let k="";for(;;){const O=nt(I,w).g;I=W(I,O.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=O,z(I))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function z(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function q(R){return R.h==-1}s.l=function(R){return R=W(this,R),q(R)?-1:z(R)?0:1};function F(R){const w=R.g.length,I=[];for(let k=0;k<w;k++)I[k]=~R.g[k];return new d(I,~R.h).add(S)}s.abs=function(){return q(this)?F(this):this},s.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let k=0;for(let O=0;O<=w;O++){let L=k+(this.i(O)&65535)+(R.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);k=C>>>16,L&=65535,C&=65535,I[O]=C<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function W(R,w){return R.add(F(w))}s.j=function(R){if(z(this)||z(R))return b;if(q(this))return q(R)?F(this).j(F(R)):F(F(this).j(R));if(q(R))return F(this.j(F(R)));if(this.l(V)<0&&R.l(V)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var k=0;k<2*w;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<R.g.length;O++){const L=this.i(k)>>>16,C=this.i(k)&65535,se=R.i(O)>>>16,Ce=R.i(O)&65535;I[2*k+2*O]+=C*Ce,et(I,2*k+2*O),I[2*k+2*O+1]+=L*Ce,et(I,2*k+2*O+1),I[2*k+2*O+1]+=C*se,et(I,2*k+2*O+1),I[2*k+2*O+2]+=L*se,et(I,2*k+2*O+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new d(I,0)};function et(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function st(R,w){this.g=R,this.h=w}function nt(R,w){if(z(w))throw Error("division by zero");if(z(R))return new st(b,b);if(q(R))return w=nt(F(R),w),new st(F(w.g),F(w.h));if(q(w))return w=nt(R,F(w)),new st(F(w.g),w.h);if(R.g.length>30){if(q(R)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,k=w;k.l(R)<=0;)I=ft(I),k=ft(k);var O=ht(I,1),L=ht(k,1);for(k=ht(k,2),I=ht(I,2);!z(k);){var C=L.add(k);C.l(R)<=0&&(O=O.add(I),L=C),k=ht(k,1),I=ht(I,1)}return w=W(R,O.j(w)),new st(O,w)}for(O=b;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=y(I),C=L.j(w);q(C)||C.l(R)>0;)I-=k,L=y(I),C=L.j(w);z(L)&&(L=S),O=O.add(L),R=W(R,C)}return new st(O,R)}s.B=function(R){return nt(this,R).h},s.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)&R.i(k);return new d(I,this.h&R.h)},s.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)|R.i(k);return new d(I,this.h|R.h)},s.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let k=0;k<w;k++)I[k]=this.i(k)^R.i(k);return new d(I,this.h^R.h)};function ft(R){const w=R.g.length+1,I=[];for(let k=0;k<w;k++)I[k]=R.i(k)<<1|R.i(k-1)>>>31;return new d(I,R.h)}function ht(R,w){const I=w>>5;w%=32;const k=R.g.length-I,O=[];for(let L=0;L<k;L++)O[L]=w>0?R.i(L+I)>>>w|R.i(L+I+1)<<32-w:R.i(L+I);return new d(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,QE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Zs=d}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,wl,YE,Pc,lm,XE,$E,JE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break t;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,G){for(var it=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)it[wt-2]=arguments[wt];return m.prototype[P].apply(A,it)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function z(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const G=P.length||0;u.length=v+G;for(let it=0;it<G;it++)u[v+it]=P[it]}else u.push(P)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(u){d.setTimeout(()=>{throw u},0)}function W(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class et{constructor(){this.h=this.g=null}add(m,v){const A=st.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new q(()=>new nt,u=>u.reset());class nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ht=!1,R=new et,w=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(I)}};function I(){for(var u;u=W();){try{u.h.call(u.g)}catch(v){F(v)}var m=st;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ht=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(se,O),se.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),Y=0;function rt(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++Y,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let G=0;G<J.length;G++)v=J[G],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,A,P){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const it=It(u,m,A,P);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,G,!!A,P),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),G;(G=P>=0)&&Array.prototype.splice.call(A,P,1),G&&(gt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function It(u,m,v,A){for(let P=0;P<u.length;++P){const G=u[P];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==A)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,A,P){if(Array.isArray(m)){for(let G=0;G<m.length;G++)re(u,m[G],v,A,P);return null}return v=Eo(v),u&&u[Ce]?u.J(m,v,g(A)?!!A.capture:!1,P):cr(u,m,v,!1,A,P)}function cr(u,m,v,A,P,G){if(!m)throw Error("Invalid event type");const it=g(P)?!!P.capture:!!P;let wt=hr(u);if(wt||(u[Lt]=wt=new lt(u)),v=wt.add(m,v,A,it,G),v.proxy)return v;if(A=ea(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(ri(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ea(){function u(v){return m.call(u.src,u.listener,v)}const m=_o;return u}function na(u,m,v,A,P){if(Array.isArray(m))for(var G=0;G<m.length;G++)na(u,m[G],v,A,P);else A=g(A)?!!A.capture:!!A,v=Eo(v),u&&u[Ce]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],v=It(m,v,A,P),v>-1&&(gt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=hr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=It(m,v,A,P)),(v=u>-1?m[u]:null)&&ia(v))}function ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Tt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ri(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=hr(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Lt]=null)):gt(u)}}}function ri(u){return u in De?De[u]:De[u]="on"+u}function _o(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ia(u),u=v.call(A,m)}return u}function hr(u){return u=u[Lt],u instanceof lt?u:null}var vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(u){return typeof u=="function"?u:(u[vo]||(u[vo]=function(m){return u.handleEvent(m)}),u[vo])}function ye(){k.call(this),this.i=new lt(this),this.M=this,this.G=null}b(ye,k),ye.prototype[Ce]=!0,ye.prototype.removeEventListener=function(u,m,v,A){na(this,u,m,v,A)};function Ne(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(A,u),at(m,P)}P=!0;let G,it;if(v)for(it=v.length-1;it>=0;it--)G=m.g=v[it],P=hs(G,A,!0,m)&&P;if(G=m.g=u,P=hs(G,A,!0,m)&&P,P=hs(G,A,!1,m)&&P,v)for(it=0;it<v.length;it++)G=m.g=v[it],P=hs(G,A,!1,m)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)gt(v[A]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ye.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function hs(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let G=0;G<m.length;++G){const it=m[G];if(it&&!it.da&&it.capture==v){const wt=it.listener,fe=it.ha||it.src;it.fa&&Tt(u.i,it),P=wt.call(fe,A)!==!1&&P}}return P&&!A.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function iu(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,iu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(u){k.call(this),this.h=u,this.g={}}b(fr,k);var To=[];function Ao(u){zt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},u),u.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Ao(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,Ph=d.JSON.parse,su=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ru(){}function au(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){O.call(this,"d")}b(je,O);function Cn(){O.call(this,"c")}b(Cn,O);var he={},ou=null;function sa(){return ou=ou||new ye}he.Ia="serverreachability";function lu(u){O.call(this,he.Ia,u)}b(lu,O);function ai(u){const m=sa();Ne(m,new lu(m))}he.STAT_EVENT="statevent";function dr(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}b(dr,O);function _e(u){const m=sa();Ne(m,new dr(m,u))}he.Ja="timingevent";function oi(u,m){O.call(this,he.Ja,u),this.size=m}b(oi,O);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function zh(u,m,v,A,P,G){u.info(function(){if(u.g)if(G){var it="",wt=G.split("&");for(let qt=0;qt<wt.length;qt++){var fe=wt[qt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Vn=ae.split("_");it=Vn.length>=2&&Vn[1]=="type"?it+(ae+"="+fe+"&"):it+(ae+"=redacted&")}}}else it=null;else it=G;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+it})}function uu(u,m,v,A,P,G,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+G+" "+it})}function ui(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(A?" "+A:"")})}function mr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var v=G[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return fs(G)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function pr(){}b(pr,ru),pr.prototype.g=function(){return new XMLHttpRequest},bo=new pr;function Li(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function ci(u,m,v){u.M=1,u.A=yr(Te(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),hi(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ua(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Gn,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(To[0]=P.toString()),P=To);for(let G=0;G<P.length;G++){const it=re(v,P[G],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),zh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Yn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||wt!=4||fe==7||(fe==8||qt<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var G=A;break e}}G=null}if(u=G)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,_e(12),mn(this),Dn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=fu(this,v),ae==ke){wt==4&&(this.m=4,_e(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ae,null),di(this,ae);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(it),it.P=!0,_e(11))}}else ui(this.i,this.l,v,null),di(this,v);wt==4&&mn(this),this.o&&!this.K&&(wt==4?Tu(this.j,this):(this.o=!1,hi(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),mn(this),Dn(this)}}}catch{}finally{}};function Bh(u){if(!hu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,P=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Dn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<A;G++)u.h.h=!0,v+=u.h.i.decode(m[G],{stream:!(P&&G==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ke:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?ke:(m=m.slice(A,A+v),u.C=A+v,m)))}Fn.prototype.cancel=function(){this.K=!0,mn(this)};function hi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(mr(this.i,this.B),this.M!=2&&(ai(),_e(17)),mn(this),this.m=2,Dn(this)):aa(this,this.T-u)};function Dn(u){u.j.I==0||u.K||Tu(u.j,u)}function mn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),Es(v);else break t;br(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&ma(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qt=P[m];const ae=qt[0];if(!(ae<=v.K))if(v.K=ae,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Vn=qt[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ai=qt[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Xn=qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=u.g;if($n){const wr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var G=A.h;G.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Io(G,G.h),G.h=null))}if(A.G){const ga=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(A.wa=ga,Qt(A.J,A.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var it=u;if(A.na=bu(A,A.L?A.ba:null,A.W),it.L){Co(A.h,it);var wt=it,fe=A.O;fe&&(wt.H=fe),wt.D&&(fi(wt),hi(wt)),A.g=it}else vu(A);v.i.length>0&&Ei(v)}else qt[0]!="stop"&&qt[0]!="close"||Ti(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ti(v,7):Lo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ai(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=Do(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Do(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return V(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,G=null;A>=0?(P=u[v].substring(0,A),G=u[v].substring(A+1)):P=u[v],m(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,No(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),ds(this,m[4]),this.h=pi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(_r(m,la,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(_r(m,la,!0),"@"),u.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(_r(v,v.charAt(0)=="/"?Oo:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",_r(v,gu)),u.join("")},gn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ds(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let it=0;it<P.length;){const wt=P[it++];wt=="."?A&&it==P.length&&G.push(""):wt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&it==P.length&&G.push("")):(G.push(wt),A=!0)}A=G.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?No(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new gn(u)}function Ue(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof gs?(u.i=m,ca(u.i,u.l)):(v||(m=_r(m,ms)),u.i=new gs(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function yr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _r(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var la=/[#\/\?@]/g,mu=/[#\?:]/g,Oo=/[#\?]/g,ms=/[#\?@]/g,gu=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&oa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=gs.prototype,s.add=function(u,m){an(this),this.i=null,u=ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){an(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vo(u,m){return an(u),m=ps(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function Mo(u,m){an(u);let v=[];if(typeof m=="string")Vo(u,m)&&(v=v.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=ps(this,u),Vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(ps(u,m),V(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Li(v);v=Mo(this,v);for(let G=0;G<v.length;G++){let it=P;v[G]!==""&&(it+="="+Li(v[G])),u.push(it)}}return this.i=u.join("&")};function yu(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(pu(this,A),ua(this,P,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const A=new Image;A.onload=T(Nn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Nn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Nn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Nn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function xo(u,m){const v=new Hn,A=new AbortController,P=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(G=>{clearTimeout(P),G.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function ys(){this.g=new su}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(yi,ru),yi.prototype.g=function(){return new vr(this.i,this.h)};function vr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(vr,ye),s=vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_s(this):Kn(this),this.readyState==3&&ha(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},s.Na=function(u){this.g&&(this.response=u,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return zt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Er(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=On(v),typeof u=="string"?v!=null&&Li(v):Qt(u,m,v))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xt,ye);var _i=/^https?$/i,ko=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Tr(this,G);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,it]of v)this.g.setRequestHeader(G,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Tr(this,G)}};function Tr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Pi(u)}function Uo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},s.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const G=u.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=G===0){let it=String(u.D).match(du)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),A=!_i.test(it?it.toLowerCase():"")}v=A}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var P=Yn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Uo(u)}}finally{Pi(u)}}}}function Pi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var v=cu(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[P]||[];m[P]=G,G.push(v)}Gt(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){_e(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),Ei(this)};function Lo(u){if(fa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Sr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=yr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}Su(u)}function Es(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function fa(u){Es(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||w(),ht||(ft(),ht=!0),R.add(m,u),u.D=0}}function da(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(y(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Fn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=x(G),at(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,P,m),v=Te(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),G&&(this.R?m="headers="+Li(On(G))+"&"+m:this.u&&Er(v,this.u,G)),Io(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),P.U=!0,ci(P,v,null)):ci(P,v,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Qt(A,"SID",u.M),Qt(A,"RID",v),Qt(A,"AID",u.K),Sr(u,A),u.u&&u.o&&Er(A,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),ci(v,A,m)}function Sr(u,m){u.H&&zt(u.H,function(v,A){Qt(m,A,v)}),u.l&&zt({},function(v,A){Qt(m,A,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const fe=["count="+v];wt==-1?v>0?(wt=P[0].g,fe.push("ofs="+wt)):wt=0:fe.push("ofs="+wt);let qt=!0;for(let ae=0;ae<v;ae++){var G=P[ae].g;const Vn=P[ae].map;if(G-=wt,G<0)wt=Math.max(0,P[ae].g-100),qt=!1;else try{G="req"+G+"_"||"";try{var it=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ai,Xn]of it){let $n=Xn;g(Xn)&&($n=fs(Xn)),fe.push(G+Ai+"="+encodeURIComponent($n))}}catch(Ai){throw fe.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Vn)}}if(qt){it=fe.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||w(),ht||(ft(),ht=!0),R.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(y(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),Es(this),Eu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&Er(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=yr(Te(m)),v.u=null,v.R=!0,ra(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),br(this),_e(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){ma(u),zo(u),u.g=null;var A=2}else if(gi(u.h,m))v=m.G,Co(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=sa(),Ne(A,new oi(A,v)),Ei(u)}else vu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&da(u,m)||A==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const P=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),yr(A),P?Qn(A.toString(),v):xo(A.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),Su(u),fa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Do(u.h);(m.length!=0||u.i.length!=0)&&(z(u.ja,m),z(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var A=v instanceof gn?Te(v):new gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ds(A,A.u);else{var P=d.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const G=new gn(null);A&&Ue(G,A),m&&(G.g=m),P&&ds(G,P),v&&(G.h=v),A=G}return v=u.G,m=u.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",u.ka),Sr(u,A),A}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new yi({ab:v})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}s=Ru.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ji(this)}b(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Lo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fs(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&Ei(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,en.Z.N.call(this)};function Iu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Iu,je);function Cu(){Cn.call(this),this.status=1}b(Cu,Cn);function ji(u){this.g=u}b(ji,Ru),ji.prototype.ra=function(){Ne(this.g,"a")},ji.prototype.qa=function(u){Ne(this.g,new Iu(u))},ji.prototype.pa=function(u){Ne(this.g,new Cu)},ji.prototype.oa=function(){Ne(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,JE=function(){return new Ts},$E=function(){return sa()},XE=he,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Pc=gr,So.COMPLETE="complete",YE=So,au.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,wl=au,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,KE=Xt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="12.8.0";function Mb(s){ho=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Cm("@firebase/firestore");function Qa(){return $r.logLevel}function ot(s,...t){if($r.logLevel<=Mt.DEBUG){const i=t.map(Om);$r.debug(`Firestore (${ho}): ${s}`,...i)}}function os(s,...t){if($r.logLevel<=Mt.ERROR){const i=t.map(Om);$r.error(`Firestore (${ho}): ${s}`,...i)}}function no(s,...t){if($r.logLevel<=Mt.WARN){const i=t.map(Om);$r.warn(`Firestore (${ho}): ${s}`,...i)}}function Om(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,ZE(s,r,i)}function ZE(s,t,i){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw os(r),new Error(r)}function Ft(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||ZE(t,l,r)}function bt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class kb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ub{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new rs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new rs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new WE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Lb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Pb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Lb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const r=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new dv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=jb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function xt(s,t){return s<t?-1:s>t?1:0}function um(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Kd(l)===Kd(c)?xt(l,c):Kd(l)?1:-1}return xt(s.length,t.length)}const Bb=55296,qb=57343;function Kd(s){const t=s.charCodeAt(0);return t>=Bb&&t<=qb}function io(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__name__";class Ii{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ii.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const r=Ii.isNumericId(t),l=Ii.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ii.extractNumericId(t).compare(Ii.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class ne extends Ii{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const Hb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ii{construct(t,i,r){return new Ke(t,i,r)}static isValidIdentifier(t){return Hb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mv}static keyField(){return new Ke([mv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(s,t,i){if(!i)throw new ct(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Fb(s,t,i,r){if(t===!0&&r===!0)throw new ct(tt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function gv(s){if(!pt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function pv(s){if(pt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function eT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Mm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function wn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(s);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function Kl(s,t){if(!eT(s))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-62135596800,_v=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*_v);return new ie(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<yv)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_v}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-yv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ie("string",ie._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new ie(0,0))}static max(){return new At(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function Gb(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=At.fromTimestamp(r===1e9?new ie(i+1,0):new ie(i,r));return new tr(l,pt.empty(),t)}function Qb(s){return new tr(s.readTime,s.key,Ul)}class tr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new tr(At.min(),pt.empty(),Ul)}static max(){return new tr(At.max(),pt.empty(),Ul)}}function Kb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:xt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==Yb)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((T=>{d[y]=T,++g,g===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function $b(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function yh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function Jb(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="";function Zb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=vv(t)),t=Wb(s.get(i),t);return vv(t)}function Wb(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case nT:i+="";break;default:i+=c}}return i}function vv(s){return s+nT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function lr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function iT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Qe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Tv(this.data.getIterator())}getIteratorFrom(t){return new Tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class Tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new bn([])}unionWith(t){let i=new xe(Ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sT("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const tw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=tw.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="server_timestamp",aT="__type__",oT="__previous_value__",lT="__local_write_time__";function km(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[aT])==null?void 0:r.stringValue)===rT}function _h(s){const t=s.mapValue.fields[oT];return km(t)?_h(t):t}function Ll(s){const t=er(s.mapValue.fields[lT].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i,r,l,c,d,g,_,y,T,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=b}}const Jc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}function nw(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(s.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__type__",iw="__max__",xc={mapValue:{}},cT="__vector__",Zc="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?km(s)?4:rw(s)?9007199254740991:sw(s)?10:11:vt(28295,{value:s})}function xi(s,t){if(s===t)return!0;const i=ir(s);if(i!==ir(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ll(s).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=er(l.timestampValue),g=er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return nr(l.bytesValue).isEqual(nr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?$c(d)===$c(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return io(s.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Ev(d)!==Ev(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!xi(d[_],g[_])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function zl(s,t){return(s.values||[]).find((i=>xi(i,t)))!==void 0}function so(s,t){if(s===t)return 0;const i=ir(s),r=ir(t);if(i!==r)return xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Av(s.timestampValue,t.timestampValue);case 4:return Av(Ll(s),Ll(t));case 5:return um(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=nr(c),_=nr(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=xt(g[y],_[y]);if(T!==0)return T}return xt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=xt(ge(c.latitude),ge(d.latitude));return g!==0?g:xt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Sv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var S,V,z,q;const g=c.fields||{},_=d.fields||{},y=(S=g[Zc])==null?void 0:S.arrayValue,T=(V=_[Zc])==null?void 0:V.arrayValue,b=xt(((z=y==null?void 0:y.values)==null?void 0:z.length)||0,((q=T==null?void 0:T.values)==null?void 0:q.length)||0);return b!==0?b:Sv(y,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let b=0;b<_.length&&b<T.length;++b){const S=um(_[b],T[b]);if(S!==0)return S;const V=so(g[_[b]],y[T[b]]);if(V!==0)return V}return xt(_.length,T.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function Av(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const i=er(s),r=er(t),l=xt(i.seconds,r.seconds);return l!==0?l:xt(i.nanos,r.nanos)}function Sv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=so(i[l],r[l]);if(c)return c}return xt(i.length,r.length)}function ro(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=cm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function zc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return lr(r.fields,((c,d)=>{l+=c.length+zc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function hm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function bv(s){return!!s&&"nullValue"in s}function wv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function sw(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[uT])==null?void 0:r.stringValue)===cT}function Nl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return lr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Nl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(s.arrayValue.values[i]);return t}return{...s}}function rw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=Ke.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Nl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){lr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Nl(this.value))}}function hT(s){const t=[];return lr(s.fields,((i,r)=>{const l=new Ke([i]);if(jc(r)){const c=hT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,At.min(),At.min(),At.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,At.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,At.min(),At.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,At.min(),At.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Rv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=so(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!xi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function aw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{}class Me extends fT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new lw(t,i,r):i==="array-contains"?new hw(t,r):i==="in"?new fw(t,r):i==="not-in"?new dw(t,r):i==="array-contains-any"?new mw(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new uw(t,r):new cw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends fT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ki(t,i)}matches(t){return dT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dT(s){return s.op==="and"}function mT(s){return ow(s)&&dT(s)}function ow(s){for(const t of s.filters)if(t instanceof ki)return!1;return!0}function fm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+ro(s.value);if(mT(s))return s.filters.map((t=>fm(t))).join(",");{const t=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${t})`}}function gT(s,t){return s instanceof Me?(function(r,l){return l instanceof Me&&r.op===l.op&&r.field.isEqual(l.field)&&xi(r.value,l.value)})(s,t):s instanceof ki?(function(r,l){return l instanceof ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&gT(d,l.filters[g])),!0):!1})(s,t):void vt(19439)}function pT(s){return s instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(s):s instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(pT).join(" ,")+"}"})(s):"Filter"}class lw extends Me{constructor(t,i,r){super(t,i,r),this.key=pt.fromName(r.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class uw extends Me{constructor(t,i){super(t,"in",i),this.keys=yT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cw extends Me{constructor(t,i){super(t,"not-in",i),this.keys=yT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function yT(s,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>pt.fromName(r.referenceValue)))}class hw extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&zl(i.arrayValue,this.value)}}class fw extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class dw extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class mw extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>zl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Cv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new gw(s,t,i,r,l,c,d)}function Lm(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>fm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ro(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ro(r))).join(",")),t.Te=i}return t.Te}function Pm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!gT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Iv(s.startAt,t.startAt)&&Iv(s.endAt,t.endAt)}function dm(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pw(s,t,i,r,l,c,d,g){return new vh(s,t,i,r,l,c,d,g)}function Eh(s){return new vh(s)}function Dv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yw(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function _w(s){return s.collectionGroup!==null}function Ol(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,r))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new th(Ke.keyField(),r))}return t.Ie}function Ni(s){const t=bt(s);return t.Ee||(t.Ee=vw(t,Ol(s))),t.Ee}function vw(s,t){if(s.limitType==="F")return Cv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Cv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function mm(s,t,i){return new vh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Th(s,t){return Pm(Ni(s),Ni(t))&&s.limitType===t.limitType}function _T(s){return`${Lm(Ni(s))}|lt:${s.limitType}`}function Ka(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>pT(l))).join(", ")}]`),yh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function Ah(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Ol(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,_){const y=Rv(d,g,_);return d.inclusive?y<=0:y<0})(r.startAt,Ol(r),l)||r.endAt&&!(function(d,g,_){const y=Rv(d,g,_);return d.inclusive?y>=0:y>0})(r.endAt,Ol(r),l))})(s,t)}function Ew(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function vT(s){return(t,i)=>{let r=!1;for(const l of Ol(s)){const c=Tw(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Tw(s,t,i){const r=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?so(_,y):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new le(pt.comparator);function ls(){return Aw}const ET=new le(pt.comparator);function Rl(...s){let t=ET;for(const i of s)t=t.insert(i.key,i);return t}function TT(s){let t=ET;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function qr(){return Vl()}function AT(){return Vl()}function Vl(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Sw=new le(pt.comparator),bw=new xe(pt.comparator);function kt(...s){let t=bw;for(const i of s)t=t.add(i);return t}const ww=new xe(xt);function Rw(){return ww}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function ST(s){return{integerValue:""+s}}function Iw(s,t){return Jb(t)?ST(t):zm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function Cw(s,t,i){return s instanceof eh?(function(l,c){const d={fields:{[aT]:{stringValue:rT},[lT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&km(c)&&(c=_h(c)),c&&(d.fields[oT]=c),{mapValue:d}})(i,t):s instanceof jl?wT(s,t):s instanceof Bl?RT(s,t):(function(l,c){const d=bT(l,c),g=Nv(d)+Nv(l.Ae);return hm(d)&&hm(l.Ae)?ST(g):zm(l.serializer,g)})(s,t)}function Dw(s,t,i){return s instanceof jl?wT(s,t):s instanceof Bl?RT(s,t):i}function bT(s,t){return s instanceof nh?(function(r){return hm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class eh extends Sh{}class jl extends Sh{constructor(t){super(),this.elements=t}}function wT(s,t){const i=IT(t);for(const r of s.elements)i.some((l=>xi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Bl extends Sh{constructor(t){super(),this.elements=t}}function RT(s,t){let i=IT(t);for(const r of s.elements)i=i.filter((l=>!xi(l,r)));return{arrayValue:{values:i}}}class nh extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Nv(s){return ge(s.integerValue||s.doubleValue)}function IT(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Nw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof jl&&l instanceof jl||r instanceof Bl&&l instanceof Bl?io(r.elements,l.elements,xi):r instanceof nh&&l instanceof nh?xi(r.Ae,l.Ae):r instanceof eh&&l instanceof eh})(s.transform,t.transform)}class Ow{constructor(t,i){this.version=t,this.transformResults=i}}class Rn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class bh{}function CT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new jm(s.key,Rn.none()):new Yl(s.key,s.data,Rn.none());{const i=s.data,r=dn.empty();let l=new xe(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ur(s.key,r,new bn(l.toArray()),Rn.none())}}function Vw(s,t,i){s instanceof Yl?(function(l,c,d){const g=l.value.clone(),_=Vv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ur?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(DT(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(s,t,i,r){return s instanceof Yl?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=c.value.clone(),T=Mv(c.fieldTransforms,_,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof ur?(function(c,d,g,_){if(!Bc(c.precondition,d))return g;const y=Mv(c.fieldTransforms,_,d),T=d.data;return T.setAll(DT(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function Mw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=bT(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function Ov(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&io(r,l,((c,d)=>Nw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yl extends bh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ur extends bh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Vv(s,t,i){const r=new Map;Ft(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,Dw(d,g,i[l]))}return r}function Mv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Cw(c,d,t))}return r}class jm extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xw extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Vw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=AT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=CT(d,g);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,r)=>Ov(i,r)))&&io(this.baseMutations,t.baseMutations,((i,r)=>Ov(i,r)))}}class Bm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ft(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Sw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Bm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Pt;function Pw(s){switch(s){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function NT(s){if(s===void 0)return os("GRPC error has no .code"),tt.UNKNOWN;switch(s){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:s})}}(Pt=Re||(Re={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Zs([4294967295,4294967295],0);function xv(s){const t=zw().encode(s),i=new QE;return i.update(t),new Uint8Array(i.digest())}function kv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zs([i,r],0),new Zs([l,c],0)]}class qm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Zs.fromNumber(r)));return l.compare(jw)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[r,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=xv(t),[r,l]=kv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new wh(At.min(),l,new le(xt),ls(),kt())}}class Xl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Xl(r,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class OT{constructor(t,i){this.targetId=t,this.Ce=i}}class VT{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Uv{constructor(){this.ve=0,this.Fe=Lv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),r=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=Lv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Bw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.He=kc(),this.Je=kc(),this.Ze=new le(xt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(r===0){const d=new pt(c.path);this.et(i,d,Ze.newNoDocument(d,At.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=nr(r).toUint8Array()}catch(_){if(_ instanceof sT)return no("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new qm(d,l,c)}catch(_){return no(_ instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=kt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ze,this.je,r);return this.je=ls(),this.He=kc(),this.Je=kc(),this.Ze=new le(xt),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Uv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new xe(xt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Uv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new le(pt.comparator)}function Lv(){return new le(pt.comparator)}const qw={asc:"ASCENDING",desc:"DESCENDING"},Hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fw={and:"AND",or:"OR"};class Gw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gm(s,t){return s.useProto3Json||yh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function MT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Qw(s,t){return ih(s,t.toTimestamp())}function Oi(s){return Ft(!!s,49232),At.fromTimestamp((function(i){const r=er(i);return new ie(r.seconds,r.nanos)})(s))}function Hm(s,t){return pm(s,t).canonicalString()}function pm(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function xT(s){const t=ne.fromString(s);return Ft(zT(t),10190,{key:t.toString()}),t}function ym(s,t){return Hm(s.databaseId,t.path)}function Yd(s,t){const i=xT(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(UT(i))}function kT(s,t){return Hm(s.databaseId,t)}function Kw(s){const t=xT(s);return t.length===4?ne.emptyPath():UT(t)}function _m(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function UT(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Pv(s,t,i){return{name:ym(s,t),fields:i.value.mapValue.fields}}function Yw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?tt.UNKNOWN:NT(y.code);return new ct(T,y.message||"")})(d);i=new VT(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Yd(s,r.document.name),c=Oi(r.document.updateTime),d=r.document.createTime?Oi(r.document.createTime):At.min(),g=new dn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(l,c,d,g),y=r.targetIds||[],T=r.removedTargetIds||[];i=new qc(y,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Yd(s,r.document),c=r.readTime?Oi(r.readTime):At.min(),d=Ze.newNoDocument(l,c),g=r.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Yd(s,r.document),c=r.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Lw(l,c),g=r.targetId;i=new OT(g,d)}}return i}function Xw(s,t){let i;if(t instanceof Yl)i={update:Pv(s,t.key,t.value)};else if(t instanceof jm)i={delete:ym(s,t.key)};else if(t instanceof ur)i={update:Pv(s,t.key,t.data),updateMask:sR(t.fieldMask)};else{if(!(t instanceof xw))return vt(16599,{dt:t.type});i={verify:ym(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Qw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function $w(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Oi(l.updateTime):Oi(c);return d.isEqual(At.min())&&(d=Oi(c)),new Ow(d,l.transformResults||[])})(i,t)))):[]}function Jw(s,t){return{documents:[kT(s,t.path)]}}function Zw(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=kT(s,l);const c=(function(y){if(y.length!==0)return PT(ki.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:Ya(S.field),direction:eR(S.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=gm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Ww(s){let t=Kw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ft(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(b){const S=LT(b);return S instanceof ki&&mT(S)?S.getFilters():[S]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((S=>(function(z){return new th(Xa(z.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(S)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let S;return S=typeof b=="object"?b.value:b,yh(S)?null:S})(i.limit));let _=null;i.startAt&&(_=(function(b){const S=!!b.before,V=b.values||[];return new Wc(V,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,V=b.values||[];return new Wc(V,S)})(i.endAt)),pw(t,l,d,c,g,"F",_,y)}function tR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function LT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Xa(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xa(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Me.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((r=>LT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function eR(s){return qw[s]}function nR(s){return Hw[s]}function iR(s){return Fw[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Xa(s){return Ke.fromServerFormat(s.fieldPath)}function PT(s){return s instanceof Me?(function(i){if(i.op==="=="){if(wv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(bv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(wv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(bv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:nR(i.op),value:i.value}}})(s):s instanceof ki?(function(i){const r=i.getFilters().map((l=>PT(l)));return r.length===1?r[0]:{compositeFilter:{op:iR(i.op),filters:r}}})(s):vt(54877,{filter:s})}function sR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function zT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,i,r,l,c=At.min(),d=At.min(),g=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.yt=t}}function aR(s){const t=Ww({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.Sn=new lR}addToCollectionParentIndex(t,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(tr.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class lR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new xe(ne.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(BT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",uR=1048576;function Bv([s,t],[i,r]){const l=xt(s,i);return l===0?xt(t,r):l}class cR{constructor(t){this.Pr=t,this.buffer=new xe(Bv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Bv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class hR{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ot(jv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Ar(3e5)}))}}class fR{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(ph.ce);const r=new cR(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(zv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,g,_,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),Qa()<=Mt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function dR(s,t){return new fR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ml(r.mutation,l,bn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=kt()){const l=qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Rl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=qr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,kt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=ls();const d=Vl(),g=(function(){return Vl()})();return i.forEach(((_,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof ur)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Ml(T.mutation,y,T.mutation.getFieldMask(),ie.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new gR(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Vl();let l=new le(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=r.get(_)||bn.empty();T=g.applyToLocalView(y,T),r.set(_,T);const b=(l.get(g.batchId)||kt()).add(_);l=l.insert(g.batchId,b)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,b=AT();T.forEach((S=>{if(!c.has(S)){const V=CT(i.get(S),r.get(S));V!==null&&b.set(S,V),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return yw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):_w(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(qr());let g=Ul,_=c;return d.next((y=>Z.forEach(y,((T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((S=>{_=_.insert(T,S)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((T=>({batchId:g,changes:TT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((r=>{let l=Rl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(_=>{const y=(function(b,S){return new vh(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ze.newInvalidDocument(T)))}));let g=Rl();return d.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Ml(T.mutation,y,bn.empty(),ie.now()),Ah(i,y)&&(g=g.insert(_,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:aR(l.bundledQuery),readTime:Oi(l.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.overlays=new le(pt.comparator),this.Lr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=qr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=qr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new le(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=qr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=qr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=l)););return Z.resolve(g)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Uw(i,r));let c=this.Lr.get(i);c===void 0&&(c=kt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.kr=new xe(Pe.Kr),this.qr=new xe(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new pt(new ne([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new pt(new ne([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=kt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return pt.comparator(t.key,i.key)||xt(t.Hr,i.Hr)}static Ur(t,i){return xt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Pe.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new kw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?xm:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(xt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),Z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;pt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new pt(c),0);let g=new xe(xt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Z.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Jr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.ti=t,this.docs=(function(){return new le(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ls();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ls();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Kb(Qb(T),r)<=0||(l.has(T.key)||Ah(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ni(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new AR(this)}getSize(t){return Z.resolve(this.size)}}class AR extends mR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.persistence=t,this.ri=new Wr((i=>Lm(i)),Pm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ii=0,this.si=new Fm,this.targetCount=0,this.oi=ao._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),Z.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.lr(i),Z.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new vR,this.referenceDelegate=t(this),this.li=new SR(this),this.indexManager=new oR,this.remoteDocumentCache=(function(l){return new TR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new rR(i),this.Pi=new yR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new _R,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new ER(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new bR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Z.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class bR extends Xb{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Ai=null}static Vi(t){return new Gm(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(r=>{const l=pt.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Wr((r=>Zb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=dR(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return Z.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(r++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}wr(t,i,r){return Z.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return g1()?8:$b(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new wR;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(Qa()<=Mt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Qa()<=Mt.DEBUG&&ot("QueryEngine","Query:",Ka(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Qa()<=Mt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Z.resolve())}gs(t,i){if(Dv(i))return Z.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=kt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,mm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,r,l){return Dv(i)||l.isEqual(At.min())?Z.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?Z.resolve(null):(Qa()<=Mt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.Ds(t,d,i,Gb(l,Ul)).next((g=>g)))}))}bs(t,i){let r=new xe(vT(t));return i.forEach(((l,c)=>{Ah(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return Qa()<=Mt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.fs.getDocumentsMatchingQuery(t,i,tr.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",IR=3e8;class CR{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(xt),this.Fs=new Wr((c=>Lm(c)),Pm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new pR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function DR(s,t,i,r){return new CR(s,t,i,r)}async function HT(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let _=kt();for(const y of l){d.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function NR(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const b=y.batch,S=b.keys();let V=Z.resolve();return S.forEach((z=>{V=V.next((()=>T.getEntry(_,z))).next((q=>{const F=y.docVersions.get(z);Ft(F!==null,48541),q.version.compareTo(F)<0&&(b.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),T.addEntry(q)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(_,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function FT(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function OR(s,t){const i=bt(s),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((T,b)=>{const S=l.get(b);if(!S)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,b))));let V=S.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?V=V.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),l=l.insert(b,V),(function(q,F,W){return q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=IR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(S,V,T)&&g.push(i.li.updateTargetData(c,V))}));let _=ls(),y=kt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(VR(c,d,t.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!r.isEqual(At.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function VR(s,t,i){let r=kt(),l=kt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ls();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):ot(Km,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function MR(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function xR(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Ys(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function vm(s,t,i){const r=bt(s),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;ot(Km,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function qv(s,t,i){const r=bt(s);let l=At.min(),c=kt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,T){const b=bt(_),S=b.Fs.get(T);return S!==void 0?Z.resolve(b.vs.get(S)):b.li.getTargetData(y,T)})(r,d,Ni(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:kt()))).next((g=>(kR(r,Ew(t),g),{documents:g,ks:c})))))}function kR(s,t,i){let r=s.Ms.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class Hv{constructor(){this.activeTargetIds=Rw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class UR{constructor(){this.vo=new Hv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Hv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Gv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(Fv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(Fv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Em(){return Uc===null?Uc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",PR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class zR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=Em(),g=this.Qo(t,i.toUriEncodedString());ot(Xd,`Sending RPC '${t}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),T=uo(y);return this.zo(t,g,_,r,T).then((b=>(ot(Xd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw no(Xd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",r),b}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=PR[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection",bl=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class $a extends zR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!$a.c_){const t=$E();bl(t,XE.STAT_EVENT,(i=>{i.stat===lm.PROXY?ot($e,"STAT_EVENT: detected buffering proxy"):i.stat===lm.NOPROXY&&ot($e,"STAT_EVENT: detected no buffering proxy")})),$a.c_=!0}}zo(t,i,r,l,c){const d=Em();return new Promise(((g,_)=>{const y=new KE;y.setWithCredentials(!0),y.listenOnce(YE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const b=y.getResponseJson();ot($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Pc.TIMEOUT:ot($e,`RPC '${t}' ${d} timed out`),_(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const S=y.getStatus();if(ot($e,`RPC '${t}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V==null?void 0:V.error;if(z&&z.status&&z.message){const q=(function(W){const et=W.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(et)>=0?et:tt.UNKNOWN})(z.status);_(new ct(q,z.message))}else _(new ct(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot($e,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);ot($e,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=Em(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const y=c.join("");ot($e,`Creating RPC '${t}' stream ${l}: ${y}`,g);const T=d.createWebChannel(y,g);this.I_(T);let b=!1,S=!1;const V=new jR({Ho:z=>{S?ot($e,`Not sending because RPC '${t}' stream ${l} is closed:`,z):(b||(ot($e,`Opening RPC '${t}' stream ${l} transport.`),T.open(),b=!0),ot($e,`RPC '${t}' stream ${l} sending:`,z),T.send(z))},Jo:()=>T.close()});return bl(T,wl.EventType.OPEN,(()=>{S||(ot($e,`RPC '${t}' stream ${l} transport opened.`),V.i_())})),bl(T,wl.EventType.CLOSE,(()=>{S||(S=!0,ot($e,`RPC '${t}' stream ${l} transport closed`),V.o_(),this.E_(T))})),bl(T,wl.EventType.ERROR,(z=>{S||(S=!0,no($e,`RPC '${t}' stream ${l} transport errored. Name:`,z.name,"Message:",z.message),V.o_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),bl(T,wl.EventType.MESSAGE,(z=>{var q;if(!S){const F=z.data[0];Ft(!!F,16349);const W=F,et=(W==null?void 0:W.error)||((q=W[0])==null?void 0:q.error);if(et){ot($e,`RPC '${t}' stream ${l} received error:`,et);const st=et.status;let nt=(function(R){const w=Re[R];if(w!==void 0)return NT(w)})(st),ft=et.message;nt===void 0&&(nt=tt.INTERNAL,ft="Unknown error status: "+st+" with message "+et.message),S=!0,V.o_(new ct(nt,ft)),T.close()}else ot($e,`RPC '${t}' stream ${l} received:`,F),V.__(F)}})),$a.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(s){return new $a(s)}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(s){return new Gw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a.c_=!1;class GT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="PersistentStream";class QT{constructor(t,i,r,l,c,d,g,_){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(Qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qR extends QT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Yw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Oi(d.readTime):At.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=dm(_)?{documents:Jw(c,_)}:{query:Zw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=MT(c,d.resumeToken);const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=gm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=tR(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.K_(i)}}class HR extends QT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=$w(t.writeResults,t.commitTime),r=Oi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=_m(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Xw(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{}class GR extends FR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,pm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,pm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QR(s,t,i,r){return new GR(s,t,i,r)}class KR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="RemoteStore";class YR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ta(this)&&(ot(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await $l(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ih(y)})(this))}))})),this.Va=new KR(r,l)}}async function Ih(s){if(ta(s))for(const t of s.Ra)await t(!0)}async function $l(s){for(const t of s.Ra)await t(!1)}function KT(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?$m(i):go(i).O_()&&Xm(i,t))}function Ym(s,t){const i=bt(s),r=go(i);i.Ia.delete(t),r.O_()&&YT(i,t),i.Ia.size===0&&(r.O_()?r.L_():ta(i)&&i.Va.set("Unknown"))}function Xm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(s).Z_(t)}function YT(s,t){s.da.$e(t),go(s).X_(t)}function $m(s){s.da=new Bw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Va.ua()}function Jm(s){return ta(s)&&!go(s).x_()&&s.Ia.size>0}function ta(s){return bt(s).Ea.size===0}function XT(s){s.da=void 0}async function XR(s){s.Va.set("Online")}async function $R(s){s.Ia.forEach(((t,i)=>{Xm(s,t)}))}async function JR(s,t){XT(s),Jm(s)?(s.Va.ha(t),$m(s)):s.Va.set("Unknown")}async function ZR(s,t,i){if(s.Va.set("Online"),t instanceof VT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(r){ot(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await rh(s,r)}else if(t instanceof qc?s.da.Xe(t):t instanceof OT?s.da.st(t):s.da.tt(t),!i.isEqual(At.min()))try{const r=await FT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),YT(c,_);const b=new Ys(T.target,_,y,T.sequenceNumber);Xm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ot(Jr,"Failed to raise snapshot:",r),await rh(s,r)}}async function rh(s,t,i){if(!mo(t))throw t;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>FT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Jr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function $T(s,t){return t().catch((i=>rh(s,i,t)))}async function Ch(s){const t=bt(s),i=sr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;WR(t);)try{const l=await MR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,tI(t,l)}catch(l){await rh(t,l)}JT(t)&&ZT(t)}function WR(s){return ta(s)&&s.Ta.length<10}function tI(s,t){s.Ta.push(t);const i=sr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function JT(s){return ta(s)&&!sr(s).x_()&&s.Ta.length>0}function ZT(s){sr(s).start()}async function eI(s){sr(s).ra()}async function nI(s){const t=sr(s);for(const i of s.Ta)t.ea(i.mutations)}async function iI(s,t,i){const r=s.Ta.shift(),l=Bm.from(r,t,i);await $T(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function sI(s,t){t&&sr(s).Y_&&await(async function(r,l){if((function(d){return Pw(d)&&d!==tt.ABORTED})(l.code)){const c=r.Ta.shift();sr(r).B_(),await $T(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(r)}})(s,t),JT(s)&&ZT(s)}async function Kv(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),ot(Jr,"RemoteStore received new credentials");const r=ta(i);i.Ea.add(3),await $l(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function rI(s,t){const i=bt(s);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(i,r,l){const c=bt(i);return c.sa(),new qR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:XR.bind(null,s),Yo:$R.bind(null,s),t_:JR.bind(null,s),J_:ZR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Jm(s)?$m(s):s.Va.set("Unknown")):(await s.ma.stop(),XT(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(i,r,l){const c=bt(i);return c.sa(),new HR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eI.bind(null,s),t_:sI.bind(null,s),ta:nI.bind(null,s),na:iI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Jr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new Zm(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(s,t){if(os("AsyncQueue",`${t}: ${s}`),mo(s))return new ct(tt.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=Rl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.ga=new le(pt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class oo{constructor(t,i,r,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new oo(t,i,Ja.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class oI{constructor(){this.queries=Xv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=bt(i),c=l.queries;l.queries=Xv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(r)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function Xv(){return new Wr((s=>_T(s)),Th)}async function tg(s,t){const i=bt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new aI,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Wm(d,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ng(i)}async function eg(s,t){const i=bt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function lI(s,t){const i=bt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&ng(i)}function uI(s,t,i){const r=bt(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function ng(s){s.Ca.forEach((t=>{t.next()}))}var Tm,$v;($v=Tm||(Tm={})).Ma="default",$v.Cache="cache";class ig{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t){this.key=t}}class t0{constructor(t){this.key=t}}class cI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=vT(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new Yv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,b)=>{const S=l.get(T),V=Ah(this.query,b)?b:null,z=!!S&&this.mutatedKeys.has(S.key),q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;S&&V?S.data.isEqual(V.data)?z!==q&&(r.track({type:3,doc:V}),F=!0):this.su(S,V)||(r.track({type:2,doc:V}),F=!0,(_&&this.eu(V,_)>0||y&&this.eu(V,y)<0)&&(g=!0)):!S&&V?(r.track({type:0,doc:V}),F=!0):S&&!V&&(r.track({type:1,doc:S}),F=!0,(_||y)&&(g=!0)),F&&(V?(d=d.add(V),c=q?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,b)=>(function(V,z){const q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:F})}};return q(V)-q(z)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new t0(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new WT(r))})),i}cu(t){this.Za=t.ks,this.Ya=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class hI{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class fI{constructor(t){this.key=t,this.hu=!1}}class dI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((g=>_T(g)),Th),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(pt.comparator),this.Au=new Map,this.Vu=new Fm,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mI(s,t,i=!0){const r=a0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await e0(r,t,i,!0),l}async function gI(s,t){const i=a0(s);await e0(i,t,!0,!1)}async function e0(s,t,i,r){const l=await xR(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await pI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&KT(s.remoteStore,l),g}async function pI(s,t,i,r,l){s.pu=(b,S,V)=>(async function(q,F,W,et){let st=F.view.ru(W);st.Ss&&(st=await qv(q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,st))));const nt=et&&et.targetChanges.get(F.targetId),ft=et&&et.targetMismatches.get(F.targetId)!=null,ht=F.view.applyChanges(st,q.isPrimaryClient,nt,ft);return Zv(q,F.targetId,ht.au),ht.snapshot})(s,b,S,V);const c=await qv(s.localStore,t,!0),d=new cI(t,c.ks),g=d.ru(c.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);Zv(s,i,y.au);const T=new hI(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function yI(s,t,i){const r=bt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Ym(r.remoteStore,l.targetId),Am(r,l.targetId)})).catch(fo)):(Am(r,l.targetId),await vm(r.localStore,l.targetId,!0))}async function _I(s,t){const i=bt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(i.remoteStore,r.targetId))}async function vI(s,t,i){const r=RI(s);try{const l=await(function(d,g){const _=bt(d),y=ie.now(),T=g.reduce(((V,z)=>V.add(z.key)),kt());let b,S;return _.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let z=ls(),q=kt();return _.xs.getEntries(V,T).next((F=>{z=F,z.forEach(((W,et)=>{et.isValidDocument()||(q=q.add(W))}))})).next((()=>_.localDocuments.getOverlayedDocuments(V,z))).next((F=>{b=F;const W=[];for(const et of g){const st=Mw(et,b.get(et.key).overlayedDocument);st!=null&&W.push(new ur(et.key,st,hT(st.value.mapValue),Rn.exists(!0)))}return _.mutationQueue.addMutationBatch(V,y,W,g)})).next((F=>{S=F;const W=F.applyToLocalDocumentSet(b,q);return _.documentOverlayCache.saveOverlays(V,F.batchId,W)}))})).then((()=>({batchId:S.batchId,changes:TT(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(r,l.batchId,i),await Jl(r,l.changes),await Ch(r.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function n0(s,t){const i=bt(s);try{const r=await OR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Jl(i,r,t)}catch(r){await fo(r)}}function Jv(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=bt(d);_.onlineState=g;let y=!1;_.queries.forEach(((T,b)=>{for(const S of b.ba)S.va(g)&&(y=!0)})),y&&ng(_)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function EI(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new le(pt.comparator);d=d.insert(c,Ze.newNoDocument(c,At.min()));const g=kt().add(c),_=new wh(At.min(),new Map,new le(xt),d,g);await n0(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(t),rg(r)}else await vm(r.localStore,t,!1).then((()=>Am(r,t,i))).catch(fo)}async function TI(s,t){const i=bt(s),r=t.batch.batchId;try{const l=await NR(i.localStore,t);s0(i,r,null),i0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(i,l)}catch(l){await fo(l)}}async function AI(s,t,i){const r=bt(s);try{const l=await(function(d,g){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((b=>(Ft(b!==null,37113),T=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);s0(r,t,i),i0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Jl(r,l)}catch(l){await fo(l)}}function i0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function s0(s,t,i){const r=bt(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function Am(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||r0(s,r)}))}function r0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Ym(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),rg(s))}function Zv(s,t,i){for(const r of i)r instanceof WT?(s.Vu.addReference(r.key,t),SI(s,r)):r instanceof t0?(ot(sg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||r0(s,r.key)):vt(19791,{wu:r})}function SI(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ot(sg,"New document in limbo: "+i),s.Eu.add(r),rg(s))}function rg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(ne.fromString(t)),r=s.fu.next();s.Au.set(r,new fI(i)),s.Ru=s.Ru.insert(i,r),KT(s.remoteStore,new Ys(Ni(Eh(i.path)),r,"TargetPurposeLimboResolution",ph.ce))}}async function Jl(s,t,i){const r=bt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{d.push(r.pu(_,t,i).then((y=>{var T;if((y||i)&&r.isPrimaryClient){const b=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Qm.Es(_.targetId,y);c.push(b)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,y){const T=bt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(S=>Z.forEach(S.Ts,(V=>T.persistence.referenceDelegate.addReference(b,S.targetId,V))).next((()=>Z.forEach(S.Is,(V=>T.persistence.referenceDelegate.removeReference(b,S.targetId,V)))))))))}catch(b){if(!mo(b))throw b;ot(Km,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const V=T.vs.get(S),z=V.snapshotVersion,q=V.withLastLimboFreeSnapshotVersion(z);T.vs=T.vs.insert(S,q)}}})(r.localStore,c))}async function bI(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){ot(sg,"User change. New user:",t.toKey());const r=await HT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Jl(i,r.Ns)}}function wI(s,t){const i=bt(s),r=i.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function a0(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=n0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EI.bind(null,t),t.Pu.J_=lI.bind(null,t.eventManager),t.Pu.yu=uI.bind(null,t.eventManager),t}function RI(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AI.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return DR(this.persistence,new RR,t.initialUser,this.serializer)}Cu(t){return new qT(Gm.Vi,this.serializer)}Du(t){return new UR}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class II extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hR(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new qT((r=>sh.Vi(r,i)),this.serializer)}}class Sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new oI})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),r=BR(t.databaseInfo);return QR(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new YR(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Gv.v()?new Gv:new LR})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,T){const b=new dI(l,c,d,g,_,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=bt(l);ot(Jr,"RemoteStore shutting down."),c.Ea.add(5),await $l(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class CI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ot(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Wm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(rr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await HT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Wv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await DI(s);ot(rr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Kv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Kv(t.remoteStore,l))),s._onlineComponents=t}async function DI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(rr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new ah)}}else ot(rr,"Using default OfflineComponentProvider"),await Jd(s,new II(void 0));return s._offlineComponents}async function o0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(rr,"Using user provided OnlineComponentProvider"),await Wv(s,s._uninitializedComponentsProvider._online)):(ot(rr,"Using default OnlineComponentProvider"),await Wv(s,new Sm))),s._onlineComponents}function NI(s){return o0(s).then((t=>t.syncEngine))}async function oh(s){const t=await o0(s),i=t.eventManager;return i.onListen=mI.bind(null,t.syncEngine),i.onUnlisten=yI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=_I.bind(null,t.syncEngine),i}function OI(s,t,i,r){const l=new ag(r),c=new ig(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>tg(await oh(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>eg(await oh(s),c)))}}function VI(s,t,i={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new ag({next:S=>{T.Nu(),d.enqueueAndForget((()=>eg(c,b)));const V=S.docs.has(g);!V&&S.fromCache?y.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&_&&_.source==="server"?y.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new ig(Eh(g.path),T,{includeMetadataChanges:!0,Ka:!0});return tg(c,b)})(await oh(s),s.asyncQueue,t,i,r))),r.promise}function MI(s,t,i={}){const r=new rs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const T=new ag({next:S=>{T.Nu(),d.enqueueAndForget((()=>eg(c,b))),S.fromCache&&_.source==="server"?y.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new ig(g,T,{includeMetadataChanges:!0,Ka:!0});return tg(c,b)})(await oh(s),s.asyncQueue,t,i,r))),r.promise}function xI(s,t){const i=new rs;return s.asyncQueue.enqueueAndForget((async()=>vI(await NI(s),t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="ComponentProvider",tE=new Map;function UI(s,t,i,r,l){return new ew(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firestore.googleapis.com",eE=!0;class nE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u0,this.ssl=eE}else this.host=t.host,this.ssl=t.ssl??eE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<uR)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Fb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xb;switch(r.type){case"firstParty":return new Pb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=tE.get(i);r&&(ot(kI,"Removing Datastore"),tE.delete(i),r.terminate())})(this),Promise.resolve()}}function LI(s,t,i,r={}){var y;s=wn(s,Dh);const l=uo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(PE(`https://${g}`),zE("Firestore",!0)),c.host!==u0&&c.host!==g&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:r};if(!Yr(_,d)&&(s._setSettings(_),r.mockUserToken)){let T,b;if(typeof r.mockUserToken=="string")T=r.mockUserToken,b=Je.MOCK_USER;else{T=a1(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(S)}s._authCredentials=new kb(new WE(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Zl(this.firestore,t,this._query)}}class pe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Kl(i,pe._jsonSchema))return new pe(t,r||null,new pt(ne.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ie("string",pe._jsonSchemaVersion),referencePath:Ie("string")};class Ws extends Zl{constructor(t,i,r){super(t,i,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new pt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function PI(s,t,...i){if(s=ze(s),tT("collection","path",t),s instanceof Dh){const r=ne.fromString(t,...i);return pv(r),new Ws(s,null,r)}{if(!(s instanceof pe||s instanceof Ws))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return pv(r),new Ws(s.firestore,null,r)}}function In(s,t,...i){if(s=ze(s),arguments.length===1&&(t=Vm.newId()),tT("doc","path",t),s instanceof Dh){const r=ne.fromString(t,...i);return gv(r),new pe(s,null,new pt(r))}{if(!(s instanceof pe||s instanceof Ws))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return gv(r),new pe(s.firestore,s instanceof Ws?s.converter:null,new pt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class sE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GT(this,"async_queue_retry"),this._c=()=>{const r=$d();r&&ot(iE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ot(iE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",rE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Zm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function rE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ar extends Dh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new sE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sE(t),this._firestoreClient=void 0,await t}}}function zI(s,t){const i=typeof s=="object"?s:HE(),r=typeof s=="string"?s:Jc,l=Nm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=s1("firestore");c&&LI(l,...c)}return l}function Wl(s){if(s._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jI(s),s._firestoreClient}function jI(s){var r,l,c,d;const t=s._freezeSettings(),i=UI(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(l=s._app)==null?void 0:l.options.apiKey,t);s._componentsProvider||(c=t.localCache)!=null&&c._offlineComponentProvider&&((d=t.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new CI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(_){const y=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Ye.fromBase64String(t))}catch(i){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Bn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Ie("string",Bn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,Vi._jsonSchema))return new Vi(t.latitude,t.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Ie("string",Vi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ii(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ie("string",ii._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^__.*__$/;class qI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class c0{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ur(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function h0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class lg{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new lg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var l;const i=(l=this.path)==null?void 0:l.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var l;const i=(l=this.path)==null?void 0:l.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(h0(this.dataSource)&&BI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class HI{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Rh(t)}createContext(t,i,r,l=!1){return new lg({dataSource:t,methodName:i,targetDoc:r,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(s){const t=s._freezeSettings(),i=Rh(s._databaseId);return new HI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function f0(s,t,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);cg("Data must be an object, but it was:",d,r);const g=g0(r,d);let _,y;if(c.merge)_=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const S=ql(t,b,i);if(!d.contains(S))throw new ct(tt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);_0(T,S)||T.push(S)}_=new bn(T),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new qI(new dn(g),_,y)}class Oh extends og{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function d0(s,t,i,r){const l=s.createContext(1,t,i);cg("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();lr(r,((_,y)=>{const T=y0(t,_,i);y=ze(y);const b=l.childContextForFieldPath(T);if(y instanceof Oh)c.push(T);else{const S=Vh(y,b);S!=null&&(c.push(T),d.set(T,S))}}));const g=new bn(c);return new c0(d,g,l.fieldTransforms)}function m0(s,t,i,r,l,c){const d=s.createContext(1,t,i),g=[ql(t,r,i)],_=[l];if(c.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)g.push(ql(t,c[S])),_.push(c[S+1]);const y=[],T=dn.empty();for(let S=g.length-1;S>=0;--S)if(!_0(y,g[S])){const V=g[S];let z=_[S];z=ze(z);const q=d.childContextForFieldPath(V);if(z instanceof Oh)y.push(V);else{const F=Vh(z,q);F!=null&&(y.push(V),T.set(V,F))}}const b=new bn(y);return new c0(T,b,d.fieldTransforms)}function Vh(s,t){if(p0(s=ze(s)))return cg("Unsupported field value:",t,s),g0(s,t);if(s instanceof og)return(function(r,l){if(!h0(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let _=Vh(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Iw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ie.fromDate(r);return{timestampValue:ih(l.serializer,c)}}if(r instanceof ie){const c=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(r instanceof Vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:MT(l.serializer,r._byteString)};if(r instanceof pe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ii)return(function(d,g){const _=d instanceof ii?d.toArray():d;return{mapValue:{fields:{[uT]:{stringValue:cT},[Zc]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return zm(g.serializer,T)}))}}}}}})(r,l);if(jT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Mm(r)}`)})(s,t)}function g0(s,t){const i={};return iT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(s,((r,l)=>{const c=Vh(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function p0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Vi||s instanceof Bn||s instanceof pe||s instanceof og||s instanceof ii||jT(s))}function cg(s,t,i){if(!p0(i)||!eT(i)){const r=Mm(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function ql(s,t,i){if((t=ze(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return y0(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const FI=new RegExp("[~\\*/\\[\\]]");function y0(s,t,i){if(t.search(FI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Nh(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new ct(tt.INVALID_ARGUMENT,g+s+_)}function _0(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{convertValue(t,i="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return lr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){var r,l,c;const i=(c=(l=(r=t.fields)==null?void 0:r[Zc].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>ge(d.doubleValue)));return new ii(i)}convertGeoPoint(t){return new Vi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=_h(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=er(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Ft(zT(r),9688,{name:t});const l=new Pl(r.get(1),r.get(3)),c=new pt(r.popFirst(5));return l.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends GI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,i)}}const aE="@firebase/firestore",oE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const i=this._document.data.field(ql("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QI extends v0{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function T0(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends v0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(ql("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ie("string",Gr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Hc extends Gr{data(t={}){return super.data(t)}}class Qr{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Hc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:KI(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function KI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:Ie("string",Qr._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ug(t)}set(t,i,r){this._verifyNotCommitted();const l=Zd(t,this._firestore),c=T0(l.converter,i,r),d=f0(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,Rn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=Zd(t,this._firestore);let d;return d=typeof(i=ze(i))=="string"||i instanceof Nh?m0(this._dataReader,"WriteBatch.update",c._key,i,r,l):d0(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Rn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Zd(t,this._firestore);return this._mutations=this._mutations.concat(new jm(i._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zd(s,t){if((s=ze(s)).firestore!==t)throw new ct(tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(s){s=wn(s,pe);const t=wn(s.firestore,ar),i=Wl(t);return VI(i,s._key).then((r=>A0(t,s,r)))}function XI(s){s=wn(s,Zl);const t=wn(s.firestore,ar),i=Wl(t),r=new hg(t);return E0(s._query),MI(i,s._query).then((l=>new Qr(t,r,s,l)))}function $I(s,t,i){s=wn(s,pe);const r=wn(s.firestore,ar),l=T0(s.converter,t,i),c=ug(r);return fg(r,[f0(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Rn.none())])}function Mh(s,t,i,...r){s=wn(s,pe);const l=wn(s.firestore,ar),c=ug(l);let d;return d=typeof(t=ze(t))=="string"||t instanceof Nh?m0(c,"updateDoc",s._key,t,i,r):d0(c,"updateDoc",s._key,t),fg(l,[d.toMutation(s._key,Rn.exists(!0))])}function JI(s,...t){var y,T,b;s=ze(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||lE(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lE(t[r])){const S=t[r];t[r]=(y=S.next)==null?void 0:y.bind(S),t[r+1]=(T=S.error)==null?void 0:T.bind(S),t[r+2]=(b=S.complete)==null?void 0:b.bind(S)}let c,d,g;if(s instanceof pe)d=wn(s.firestore,ar),g=Eh(s._key.path),c={next:S=>{t[r]&&t[r](A0(d,s,S))},error:t[r+1],complete:t[r+2]};else{const S=wn(s,Zl);d=wn(S.firestore,ar),g=S._query;const V=new hg(d);c={next:z=>{t[r]&&t[r](new Qr(d,V,S,z))},error:t[r+1],complete:t[r+2]},E0(s._query)}const _=Wl(d);return OI(_,g,l,c)}function fg(s,t){const i=Wl(s);return xI(i,t)}function A0(s,t,i){const r=i.docs.get(t._key),l=new hg(s);return new Gr(s,l,t._key,r,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}function ZI(s){return s=wn(s,ar),Wl(s),new YI(s,(t=>fg(s,t)))}(function(t,i=!0){Mb(co),eo(new Xr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ar(new Ub(r.getProvider("auth-internal")),new zb(d,r.getProvider("app-check-internal")),nw(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Js(aE,oE,t),Js(aE,oE,"esm2020")})();var WI="firebase",tC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(WI,tC,"app");function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eC=S0,b0=new Gl("auth","Firebase",S0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Cm("@firebase/auth");function nC(s,...t){uh.logLevel<=Mt.WARN&&uh.warn(`Auth (${co}): ${s}`,...t)}function Fc(s,...t){uh.logLevel<=Mt.ERROR&&uh.error(`Auth (${co}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(s,...t){throw mg(s,...t)}function si(s,...t){return mg(s,...t)}function dg(s,t,i){const r={...eC(),[t]:i};return new Gl("auth","Firebase",r).create(t,{appName:s.name})}function Kr(s){return dg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iC(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ui(s,"argument-error"),dg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mg(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return b0.create(s,...t)}function Et(s,t,...i){if(!s)throw mg(t,...i)}function is(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Fc(t),new Error(t)}function us(s,t){s||is(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function sC(){return uE()==="http:"||uE()==="https:"}function uE(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sC()||f1()||"connection"in navigator)?navigator.onLine:!0}function aC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=u1()||d1()}get(){return rC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(s,t){us(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uC=new tu(3e4,6e4);function pg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function po(s,t,i,r,l={}){return R0(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ql({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return h1()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(y.credentials="include"),w0.fetch()(await I0(s,s.config.apiHost,i,g),y)})}async function R0(s,t,i){s._canInitEmulator=!1;const r={...oC,...t};try{const l=new hC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Lc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dg(s,T,y);Ui(s,T)}}catch(l){if(l instanceof cs)throw l;Ui(s,"network-request-failed",{message:String(l)})}}async function cC(s,t,i,r,l={}){const c=await po(s,t,i,r,l);return"mfaPendingCredential"in c&&Ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function I0(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?gg(s.config,l):`${s.config.apiScheme}://${l}`;return lC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class hC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),uC.get())})}}function Lc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=si(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(s,t){return po(s,"POST","/v1/accounts:delete",t)}async function ch(s,t){return po(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dC(s,t=!1){const i=ze(s),r=await i.getIdToken(t),l=yg(r);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:xl(Wd(l.auth_time)),issuedAtTime:xl(Wd(l.iat)),expirationTime:xl(Wd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Wd(s){return Number(s)*1e3}function yg(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const l=xE(i);return l?JSON.parse(l):(Fc("Failed to decode base64 JWT payload"),null)}catch(l){return Fc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function cE(s){const t=yg(s);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof cs&&mC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function mC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(s){var b;const t=s.auth,i=await s.getIdToken(),r=await Hl(s,ch(t,{idToken:i}));Et(r==null?void 0:r.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=(b=l.providerUserInfo)!=null&&b.length?C0(l.providerUserInfo):[],d=yC(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),y=g?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function pC(s){const t=ze(s);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yC(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function C0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(s,t){const i=await R0(s,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await I0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),w0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function vC(s,t){return po(s,"POST","/v2/accounts:revokeToken",pg(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=cE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await _C(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Za;return r&&(Et(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(s,t){Et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new gC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new wm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return dC(this,t)}reload(){return pC(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Kr(this.auth));const t=await this.getIdToken();return await Hl(this,fC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:V,providerData:z,stsTokenManager:q}=i;Et(b&&q,t,"internal-error");const F=Za.fromJSON(this.name,q);Et(typeof b=="string",t,"internal-error"),Fs(r,t.name),Fs(l,t.name),Et(typeof S=="boolean",t,"internal-error"),Et(typeof V=="boolean",t,"internal-error"),Fs(c,t.name),Fs(d,t.name),Fs(g,t.name),Fs(_,t.name),Fs(y,t.name),Fs(T,t.name);const W=new ni({uid:b,auth:t,email:l,emailVerified:S,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:F,createdAt:y,lastLoginAt:T});return z&&Array.isArray(z)&&(W.providerData=z.map(et=>({...et}))),_&&(W._redirectEventId=_),W}static async _fromIdTokenResponse(t,i,r=!1){const l=new Za;l.updateFromServerResponse(i);const c=new ni({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await hh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?C0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Za;g.updateFromIdToken(r);const _=new ni({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new wm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function ss(s){us(s instanceof Function,"Expected a class definition");let t=hE.get(s);return t?(us(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,hE.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}D0.type="NONE";const fE=D0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(s,t,i){return`firebase:${s}:${t}:${i}`}class Wa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ch(this.auth,{idToken:t}).catch(()=>{});return i?ni._fromGetAccountInfoResponse(this.auth,i,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Wa(ss(fE),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ss(fE);const d=Gc(r,t.config.apiKey,t.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const S=await ch(t,{idToken:T}).catch(()=>{});if(!S)break;b=await ni._fromGetAccountInfoResponse(t,S,T)}else b=ni._fromJSON(t,T);y!==c&&(g=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Wa(c,t,r):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Wa(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(M0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(N0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(k0(t))return"Blackberry";if(U0(t))return"Webos";if(O0(t))return"Safari";if((t.includes("chrome/")||V0(t))&&!t.includes("edge/"))return"Chrome";if(x0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N0(s=We()){return/firefox\//i.test(s)}function O0(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function V0(s=We()){return/crios\//i.test(s)}function M0(s=We()){return/iemobile/i.test(s)}function x0(s=We()){return/android/i.test(s)}function k0(s=We()){return/blackberry/i.test(s)}function U0(s=We()){return/webos/i.test(s)}function _g(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function EC(s=We()){var t;return _g(s)&&!!((t=window.navigator)!=null&&t.standalone)}function TC(){return m1()&&document.documentMode===10}function L0(s=We()){return _g(s)||x0(s)||U0(s)||k0(s)||/windows phone/i.test(s)||M0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(s,t=[]){let i;switch(s){case"Browser":i=dE(We());break;case"Worker":i=`${dE(We())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(s,t={}){return po(s,"GET","/v2/passwordPolicy",pg(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=6;class wC{constructor(t){var r;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??bC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new AC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ch(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var c;if(ei(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=r==null?void 0:r._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===g)&&(_!=null&&_.user)&&(r=_.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(Kr(this));const i=t?ze(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await SC(this),i=new wC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await vC(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ss(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=P0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var i;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&nC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xh(s){return ze(s)}class mE{constructor(t){this.auth=t,this.observer=null,this.addObserver=A1(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IC(s){vg=s}function CC(s){return vg.loadJS(s)}function DC(){return vg.gapiScript}function NC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(s,t){const i=Nm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return l;Ui(l,"already-initialized")}return i.initialize({options:t})}function VC(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ss);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function MC(s,t,i){const r=xh(s);Et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=z0(t),{host:d,port:g}=xC(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Et(Yr(y,r.config.emulator)&&Yr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,uo(d)?(PE(`${c}//${d}${_}`),zE("Auth",!0)):kC()}function z0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function xC(s){const t=z0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:gE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:gE(d)}}}function gE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function kC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,i){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(s,t){return cC(s,"POST","/v1/accounts:signInWithIdp",pg(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="http://localhost";class Zr extends j0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Zr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,to(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:UC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ql(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends eu{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ns.credential(i,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends eu{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends eu{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ks.credential(i,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ni._fromIdTokenResponse(t,r,l),d=pE(r);return new lo({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=pE(r);return new lo({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function pE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends cs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new fh(t,i,r,l)}}function B0(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(s,c,t,r):c})}async function LC(s,t,i=!1){const r=await Hl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return lo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(s,t,i=!1){const{auth:r}=s;if(ei(r.app))return Promise.reject(Kr(r));const l="reauthenticate";try{const c=await Hl(s,B0(r,l,t,s),i);Et(c.idToken,r,"internal-error");const d=yg(c.idToken);Et(d,r,"internal-error");const{sub:g}=d;return Et(s.uid===g,r,"user-mismatch"),lo._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ui(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(s,t,i=!1){if(ei(s.app))return Promise.reject(Kr(s));const r="signIn",l=await B0(s,r,t),c=await lo._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function jC(s,t,i,r){return ze(s).onIdTokenChanged(t,i,r)}function BC(s,t,i){return ze(s).beforeAuthStateChanged(t,i)}function qC(s,t,i,r){return ze(s).onAuthStateChanged(t,i,r)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1e3,FC=10;class H0 extends q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);TC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,FC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}H0.type="LOCAL";const GC=H0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}F0.type="SESSION";const G0=F0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new kh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await QC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Tg("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(S.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function YC(s){Mi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function XC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function JC(){return Q0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firebaseLocalStorageDb",ZC=1,mh="firebaseLocalStorage",Y0="fbase_key";class nu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uh(s,t){return s.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function WC(){const s=indexedDB.deleteDatabase(K0);return new nu(s).toPromise()}function Rm(){const s=indexedDB.open(K0,ZC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(mh,{keyPath:Y0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(mh)?t(r):(r.close(),await WC(),t(await Rm()))})})}async function yE(s,t,i){const r=Uh(s,!0).put({[Y0]:t,value:i});return new nu(r).toPromise()}async function t2(s,t){const i=Uh(s,!1).get(t),r=await new nu(i).toPromise();return r===void 0?null:r.value}function _E(s,t){const i=Uh(s,!0).delete(t);return new nu(i).toPromise()}const e2=800,n2=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>n2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(JC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rm();return await yE(t,dh,"1"),await _E(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>yE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>t2(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_E(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Uh(l,!1).getAll();return new nu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const i2=X0;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(s,t){return t?ss(t):(Et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends j0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function s2(s){return zC(s.auth,new Ag(s),s.bypassAuthState)}function r2(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),PC(i,new Ag(s),s.bypassAuthState)}async function a2(s){const{auth:t,user:i}=s;return Et(i,t,"internal-error"),LC(i,new Ag(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return s2;case"linkViaPopup":case"linkViaRedirect":return a2;case"reauthViaPopup":case"reauthViaRedirect":return r2;default:Ui(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new tu(2e3,1e4);async function l2(s,t,i){if(ei(s.app))return Promise.reject(si(s,"operation-not-supported-in-this-environment"));const r=xh(s);iC(s,t,Eg);const l=$0(r,i);return new Hr(r,"signInViaPopup",t,l).executeNotNull()}class Hr extends J0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,o2.get())};t()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="pendingRedirect",Qc=new Map;class c2 extends J0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Qc.get(this.auth._key());if(!t){try{const r=await h2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Qc.set(this.auth._key(),t)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h2(s,t){const i=m2(t),r=d2(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function f2(s,t){Qc.set(s._key(),t)}function d2(s){return ss(s._redirectPersistence)}function m2(s){return Gc(u2,s.config.apiKey,s.name)}async function g2(s,t,i=!1){if(ei(s.app))return Promise.reject(Kr(s));const r=xh(s),l=$0(r,t),d=await new c2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=600*1e3;class y2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!Z0(t)){const l=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(si(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=p2&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(t))}saveEventToCache(t){this.cachedEventUids.add(vE(t)),this.lastProcessedEventTime=Date.now()}}function vE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Z0({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function _2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(s,t={}){return po(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function A2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await v2(s);for(const i of t)try{if(S2(i))return}catch{}Ui(s,"unauthorized-domain")}function S2(s){const t=bm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!T2.test(i))return!1;if(E2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new tu(3e4,6e4);function EE(){const s=Mi().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function w2(s){return new Promise((t,i)=>{var l,c,d;function r(){EE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{EE(),i(si(s,"network-request-failed"))},timeout:b2.get()})}if((c=(l=Mi().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)t(gapi.iframes.getContext());else if((d=Mi().gapi)!=null&&d.load)r();else{const g=NC("iframefcb");return Mi()[g]=()=>{gapi.load?r():i(si(s,"network-request-failed"))},CC(`${DC()}?onload=${g}`).catch(_=>i(_))}}).catch(t=>{throw Kc=null,t})}let Kc=null;function R2(s){return Kc=Kc||w2(s),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new tu(5e3,15e3),C2="__/auth/iframe",D2="emulator/auth/iframe",N2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(s){const t=s.config;Et(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?gg(t,D2):`https://${s.config.authDomain}/${C2}`,r={apiKey:t.apiKey,appName:s.name,v:co},l=O2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ql(r).slice(1)}`}async function M2(s){const t=await R2(s),i=Mi().gapi;return Et(i,s,"internal-error"),t.open({where:document.body,url:V2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=si(s,"network-request-failed"),g=Mi().setTimeout(()=>{c(d)},I2.get());function _(){Mi().clearTimeout(g),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k2=500,U2=600,L2="_blank",P2="http://localhost";class TE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(s,t,i,r=k2,l=U2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...x2,width:r.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=V0(y)?L2:i),N0(y)&&(t=t||P2,_.scrollbars="yes");const T=Object.entries(_).reduce((S,[V,z])=>`${S}${V}=${z},`,"");if(EC(y)&&g!=="_self")return j2(t||"",g),new TE(null);const b=window.open(t||"",g,T);Et(b,s,"popup-blocked");try{b.focus()}catch{}return new TE(b)}function j2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="__/auth/handler",q2="emulator/auth/handler",H2=encodeURIComponent("fac");async function AE(s,t,i,r,l,c){Et(s.config.authDomain,s,"auth-domain-config-required"),Et(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:co,eventId:l};if(t instanceof Eg){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",T1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(t instanceof eu){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${H2}=${encodeURIComponent(_)}`:"";return`${F2(s)}?${Ql(g).slice(1)}${y}`}function F2({config:s}){return s.emulator?gg(s,q2):`https://${s.authDomain}/${B2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G0,this._completeRedirectFn=g2,this._overrideRedirectResult=f2}async _openPopup(t,i,r,l){var d;us((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await AE(t,i,r,bm(),l);return z2(t,c,Tg())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await AE(t,i,r,bm(),l);return YC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(us(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await M2(t),r=new y2(t);return i.register("authEvent",l=>(Et(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(tm,{type:tm},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[tm];c!==void 0&&i(!!c),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=A2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return L0()||O0()||_g()}}const Q2=G2;var SE="@firebase/auth",bE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X2(s){eo(new Xr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P0(s)},y=new RC(r,l,c,_);return VC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),eo(new Xr("auth-internal",t=>{const i=xh(t.getProvider("auth").getImmediate());return(r=>new K2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(SE,bE,Y2(s)),Js(SE,bE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=300,J2=LE("authIdTokenMaxAge")||$2;let wE=null;const Z2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>J2)return;const l=i==null?void 0:i.token;wE!==l&&(wE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function W2(s=HE()){const t=Nm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=OC(s,{popupRedirectResolver:Q2,persistence:[i2,GC,G0]}),r=LE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Z2(c.toString());BC(i,d,()=>d(i.currentUser)),jC(i,g=>d(g))}}const l=kE("auth");return l&&MC(i,`http://${l}`),i}function tD(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}IC({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=si("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",tD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X2("Browser");const eD={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function Ga(s){const t=eD[s];if(!t)throw new Error(`Missing environment variable: ${s}. Did you forget to create a .env.local?`);return t}const nD={apiKey:Ga("VITE_FIREBASE_API_KEY"),authDomain:Ga("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Ga("VITE_FIREBASE_PROJECT_ID"),storageBucket:Ga("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Ga("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Ga("VITE_FIREBASE_APP_ID")},W0=qE(nD),Fl=W2(W0),iD=new ns,sn=zI(W0),tA=_t.createContext(void 0),sD=({children:s})=>{const[t,i]=_t.useState(()=>{const d=localStorage.getItem("app-theme");return d||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),r=_t.useCallback(d=>{document.documentElement.setAttribute("data-theme",d),localStorage.setItem("app-theme",d)},[]);_t.useEffect(()=>{r(t)},[t,r]);const l=_t.useCallback(d=>{i(d),r(d);const g=Fl.currentUser;if(g){const _=In(sn,"users",g.uid);Mh(_,{preferredTheme:d}).catch(y=>console.error("Error updating preferred theme in Firebase:",y))}},[r]),c=_t.useCallback(()=>{i(d=>d==="light"?"dark":"light")},[i]);return _t.useEffect(()=>Fl.onAuthStateChanged(async g=>{if(g){const _=In(sn,"users",g.uid),y=await or(_);if(y.exists()&&y.data().preferredTheme){const T=y.data().preferredTheme;i(T),r(T)}}}),[r]),N.jsx(tA.Provider,{value:{theme:t,toggleTheme:c,setTheme:l},children:s})},eA=()=>{const[s,t]=_t.useState(null),[i,r]=_t.useState(null),[l,c]=_t.useState(!0);return _t.useEffect(()=>{let d;const g=qC(Fl,async _=>{if(_){t(_);const y=In(sn,"users",_.uid);if(!(await or(y)).exists()){const S=_.email==="chris.sm.kang542@gmail.com",V={name:_.displayName,email:_.email,isApproved:S,isAdmin:S,isActive:!0,teams:[],positions:[],gender:""};await $I(y,V)}d=JI(y,b=>{b.exists()&&r(b.data()),c(!1)})}else t(null),r(null),c(!1)});return()=>{g(),d&&d()}},[]),{user:s,userData:i,loading:l}};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=s=>{const t=aD(s);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=_t.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},_)=>_t.createElement("svg",{ref:_,...oD,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:nA("lucide",l),...!c&&!lD(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,T])=>_t.createElement(y,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=(s,t)=>{const i=_t.forwardRef(({className:r,...l},c)=>_t.createElement(uD,{ref:c,iconNode:t,className:nA(`lucide-${rD(RE(s))}`,`lucide-${s}`,r),...l}));return i.displayName=RE(s),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iA=yo("chevron-up",cD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],sA=yo("corner-down-right",hD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dD=yo("moon",fD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],gD=yo("panel-left-close",mD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],yD=yo("panel-left-open",pD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vD=yo("sun",_D),ED=()=>{const s=_t.useContext(tA);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},Sg=({showText:s})=>{const{theme:t,toggleTheme:i}=ED();return N.jsxs("button",{className:"theme-toggle-button",onClick:i,"aria-label":"Toggle theme",children:[t==="dark"?N.jsx(vD,{size:20}):N.jsx(dD,{size:20}),s&&N.jsx("span",{children:"Toggle theme"})]})},TD=({title:s,isSidebarOpen:t,setSidebarOpen:i})=>N.jsxs("header",{className:"mobile-header",children:[N.jsxs("div",{className:`mobile-header-pill ${t?"mobile-header-pill-active":""}`,onClick:()=>i(!t),children:[N.jsx("span",{className:"mobile-header-text",children:s}),N.jsx(iA,{className:`mobile-header-chevron ${t?"rotate":""}`})]}),N.jsx(Sg,{})]});var ti=(s=>(s.ROSTER="roster",s.SETTINGS="settings",s))(ti||{}),Fr=(s=>(s.PROFILE="Profile",s.USER_MANAGEMENT="Users",s.POSITIONS="Positions",s.TEAMS="Teams",s))(Fr||{});const rA=[{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],em=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],AD=({activeTab:s,onTabChange:t})=>N.jsx("nav",{className:"bottom-nav-container",children:N.jsx("div",{className:"bottom-nav",children:rA.map(i=>N.jsxs("button",{className:`bottom-nav-btn ${s===i.id?"bottom-nav-btn-active":""}`,onClick:()=>t(i.id),children:[N.jsx("span",{children:i.icon}),N.jsx("span",{children:i.label})]},i.id))})}),SD=({activeTab:s,activeSideItem:t,onSideItemChange:i,isSidebarOpen:r,setSidebarOpen:l,headerTitle:c})=>{const{userData:d}=eA(),[g,_]=_t.useState([]),[y,T]=_t.useState([]),b=S=>{T(V=>V.includes(S)?V.filter(z=>z!==S):[...V,S])};return _t.useEffect(()=>{const S=async()=>{try{const V=In(sn,"metadata","teams"),z=await or(V);if(z.exists()){const q=z.data(),F=Array.isArray(q.list)?q.list.map(W=>({...W,preferredDays:W.preferredDays||[],positions:W.positions||[]})):[];_(F),s===ti.ROSTER&&!t&&F.length>0&&F[0].positions.length>0&&i(F[0].positions[0].name,!1)}}catch(V){console.error("Error fetching teams:",V)}};s===ti.ROSTER?S():s===ti.SETTINGS&&!t&&i(Fr.PROFILE,!1)},[s,t,i]),N.jsxs("aside",{className:"side-nav",children:[N.jsxs("div",{className:"sidebar-content",children:[N.jsxs("div",{className:"tablet-sidebar-header",children:[r&&N.jsx("h3",{children:c}),N.jsx("button",{className:"sidebar-toggle-button",onClick:()=>l(!r),"aria-label":r?"Collapse sidebar":"Expand sidebar",children:r?N.jsx(gD,{size:20}):N.jsx(yD,{size:20})})]}),N.jsxs("nav",{className:"side-menu-list",children:[s===ti.ROSTER&&d&&d.teams&&d.teams.length>0&&g.length===0&&N.jsx("div",{className:"side-nav-item loading",children:"Loading teams..."}),s===ti.ROSTER&&g.length===0&&N.jsx("div",{className:"side-nav-item loading",children:"Loading positions..."}),s===ti.ROSTER?d&&d.teams&&d.teams.length>0?d.teams.map(S=>{const V=g.find(F=>F.name===S);if(!V)return null;const z=d.teams.length===1,q=z?!0:y.includes(V.name);return N.jsxs("div",{children:[!z&&N.jsxs("div",{className:"sidenav-menu-subheading sidenav-menu-subheading-clickable",style:{cursor:"pointer"},onClick:()=>b(V.name),children:[N.jsxs("div",{children:[V.emoji," ",r&&V.name]}),N.jsx("span",{className:"expand-icon",children:q?"":""})]}),q&&V.positions&&V.positions.length>0&&N.jsx("div",{className:"side-nav-sub-items",children:V.positions.map(F=>{const W=t===F.name;return N.jsxs("button",{className:`side-nav-item side-nav-item-sub ${W?"side-nav-item-active":""}`,onClick:()=>i(F.name,!0),style:{borderLeft:W?`4px solid ${F.colour}`:"4px solid transparent",backgroundColor:W?`${F.colour}15`:"transparent",color:W?F.colour:""},children:[N.jsx("span",{className:"side-emoji",children:F.emoji})," ",r&&F.name]},F.name)})})]},V.name)}):N.jsx("div",{className:"side-nav-item no-teams",children:"No teams assigned."}):N.jsx(N.Fragment,{children:em.filter(S=>!S.adminOnly).map(S=>N.jsxs("button",{className:`side-nav-item ${t===S.id?"side-nav-item-active":""}`,onClick:()=>i(S.id,!0),children:[N.jsx("span",{className:"side-emoji",children:S.icon})," ",r&&S.label]},S.id))})]})]}),d&&d.isAdmin&&s===ti.SETTINGS&&em.some(S=>S.adminOnly)&&N.jsxs("div",{className:"admin-only-section-wrapper",children:[N.jsx("div",{className:"sidenav-menu-subheading",children:r&&N.jsx("h4",{children:"Admin Only"})}),em.filter(S=>S.adminOnly).map(S=>N.jsxs("button",{className:`side-nav-item ${t===S.id?"side-nav-item-active":""}`,onClick:()=>i(S.id,!0),children:[N.jsx("span",{className:"side-emoji",children:S.icon})," ",r&&S.label]},S.id))]}),N.jsx("div",{className:"sidebar-footer",children:N.jsx(Sg,{showText:r})})]})},bD=({children:s,activeTab:t,onTabChange:i,activeSideItem:r,onSideItemChange:l})=>{const[c,d]=_t.useState(!1),[g,_]=_t.useState(!0);_t.useEffect(()=>{const S=()=>{};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[]);const y=()=>{const S=rA.find(z=>z.id===t),V=S?S.label:"GIG ROSTER";return r?`${V}  ${r}`:V},T=_t.useCallback((S,V)=>{l(S),V&&window.innerWidth<768&&d(!1)},[l,d]),b=["app-shell",window.innerWidth<768&&c?"menu-open":"",window.innerWidth>=768&&!g?"sidebar-collapsed":"",window.innerWidth>=768&&g?"sidebar-expanded":""].filter(Boolean).join(" ");return N.jsxs(N.Fragment,{children:[N.jsx(TD,{title:y(),isSidebarOpen:c,setSidebarOpen:d}),N.jsxs("div",{className:b,children:[N.jsx(SD,{activeTab:t,activeSideItem:r,onSideItemChange:T,isSidebarOpen:g,setSidebarOpen:_,headerTitle:y()}),N.jsx("main",{className:"main-content",children:N.jsx("div",{className:"content-container",children:s})}),N.jsx(AD,{activeTab:t,onTabChange:i})]})]})},Ci=({children:s,nowrap:t})=>N.jsx("div",{className:`pill-group ${t?"pill-group-nowrap":""}`,children:s}),Sn=({colour:s,isDropdown:t,isActive:i,isDisabled:r,minWidth:l,onClick:c,children:d})=>{const[g,_]=_t.useState(!1);return s&&s.startsWith("var(--color-")&&(s=getComputedStyle(document.documentElement).getPropertyValue(s.slice(4,-1)).trim()),N.jsxs("div",{className:`pill pill--text ${i?"pill-active":""} ${r?"pill-disabled":""}`,style:{"--pill-colour":s||"var(--color-link)","--pill-subtle-hover-color":`${s}15`,minWidth:l?`${l}px`:"fit-content"},onClick:y=>{r||(_(T=>!T),c&&c(y))},children:[d,t&&N.jsx(iA,{style:{rotate:g?"90deg":"0"}})]})},aA=(s,t)=>_t.useMemo(()=>{if(s.length===0)return[];const i=new Set,r=[];return s.forEach(l=>{const c=t.find(d=>d.name===l);c&&c.positions.forEach(d=>{i.has(d.name)||(i.add(d.name),r.push(d))})}),[...r]},[s,t]),oA=({userData:s,uid:t})=>{const[i,r]=_t.useState(s.name||""),[l,c]=_t.useState(s.gender||""),[d,g]=_t.useState(s.positions||[]),[_,y]=_t.useState(s.isActive??!0),[T,b]=_t.useState(s.teams||[]),[S,V]=_t.useState([]),[z,q]=_t.useState("idle"),F=aA(T,S);_t.useEffect(()=>{(async()=>{try{const ft=In(sn,"metadata","teams"),ht=await or(ft);if(ht.exists()){const R=ht.data();V(Array.isArray(R.list)?R.list.map(w=>({...w,preferredDays:w.preferredDays||[],positions:w.positions||[]})):[])}}catch(ft){console.error("Error fetching teams:",ft)}})()},[]);const W=async()=>{if(t){q("saving");try{const nt={name:i,gender:l,positions:d,isActive:_,teams:T};await Mh(In(sn,"users",t),nt),q("success"),setTimeout(()=>q("idle"),2e3)}catch(nt){console.error(nt),q("idle")}}},et=nt=>{g(ft=>ft.includes(nt)?ft.filter(ht=>ht!==nt):[...ft,nt])},st=nt=>{b(ft=>ft.includes(nt)?ft.filter(ht=>ht!==nt):[...ft,nt])};return N.jsxs("section",{className:"profile-card",children:[N.jsx("div",{className:"profile-readonly",children:N.jsxs("p",{children:[N.jsx("strong",{children:"Email:"})," ",s.email]})}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Name"}),N.jsx(Ci,{children:N.jsx("input",{type:"text",value:i,onChange:nt=>r(nt.target.value),className:"form-input form-input-width-auto"})})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Gender"}),N.jsx(Ci,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(nt=>N.jsx(Sn,{colour:nt.colour,onClick:()=>c(nt.value),isActive:l===nt.value,children:nt.value},nt.value))})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"My Teams"}),N.jsx(Ci,{children:S.map(nt=>{const ft=T.includes(nt.name);return N.jsxs(Sn,{onClick:()=>st(nt.name),isActive:ft,children:[N.jsx("span",{children:nt.emoji})," ",nt.name]},nt.name)})})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"My Positions"}),N.jsx(Ci,{children:F.map(nt=>{const ft=d.includes(nt.name);return N.jsxs(Sn,{onClick:()=>et(nt.name),isActive:ft,colour:nt.colour,children:[N.jsx("span",{children:nt.emoji})," ",nt.name]},nt.name)})})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Availability Status"}),N.jsx(Sn,{colour:_?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>y(!_),isActive:!0,children:_?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),N.jsx("p",{className:"form-field-hint",children:"Turn off if you want to be hidden from the roster."})]}),N.jsxs("div",{className:"action-container",children:[N.jsx("button",{onClick:W,disabled:z!=="idle",className:`save-button ${z}`,children:z==="saving"?"Saving...":z==="success"?"Done ":"Update Profile"}),N.jsx("button",{onClick:()=>Fl.signOut(),className:"logout-btn",children:"Logout"})]})]})},wD=({user:s,uid:t})=>N.jsxs("div",{className:"guest-container",children:[N.jsxs("header",{className:"guest-header",children:[N.jsx("h2",{className:"brand-title",children:"God is Good"}),N.jsx("p",{className:"pending-label",children:"PENDING ADMIN APPROVAL"}),N.jsx("div",{className:"guest-theme-toggle-container",children:N.jsx(Sg,{})})]}),N.jsx(oA,{userData:s,uid:t})]}),IE=()=>N.jsx("div",{className:"loading-container",children:N.jsx("div",{className:"spinner"})}),RD=()=>{const s=()=>l2(Fl,iD);return N.jsxs("div",{className:"login-container",children:[N.jsxs("header",{className:"login-header",children:[N.jsx("h1",{className:"brand-title",children:"God is Good"}),N.jsx("p",{className:"brand-subtitle",children:"Worship Team Roster"})]}),N.jsx("div",{className:"login-button-container",children:N.jsxs("button",{onClick:s,className:"login-button google",children:[N.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},ID=({activePosition:s})=>N.jsxs("div",{className:"table-placeholder",children:["Grid for ",s||"All Positions","..."]}),CD=({activePosition:s})=>N.jsx("div",{className:"roster-page",children:N.jsx(ID,{activePosition:s})}),DD=({text:s,textAlign:t="left",width:i,minWidth:r,isSticky:l=!1})=>N.jsx("th",{className:l?"sticky-col":void 0,style:{textAlign:t,width:i?`${i}px`:"auto",minWidth:r?`${r}px`:"auto"},children:s}),Ve=({isSticky:s=!1,textAlign:t="left",className:i,children:r})=>N.jsx("td",{style:{textAlign:t},className:`${i||""} ${s?"sticky-col":""}
`,children:r}),Di=({name:s,value:t,placeholder:i,type:r="text",isSticky:l,isReadOnly:c=!1,isChild:d=!1,onChange:g})=>N.jsxs(Ve,{isSticky:l,children:[d&&N.jsx(sA,{}),N.jsx("input",{name:s,className:"form-input",type:r,placeholder:i,value:t,onChange:g,readOnly:c})]}),CE=({name:s,value:t,placeholder:i,onChange:r})=>N.jsxs(Ve,{className:"color-picker-group",children:[N.jsx("input",{name:s,type:"color",value:t||"#FFFFFF",onChange:r}),N.jsx("input",{name:s,className:"form-input",value:t,placeholder:i,onChange:r})]}),bg=({headers:s,children:t})=>N.jsx("div",{className:"app-table-container",children:N.jsxs("table",{className:"app-table",children:[N.jsx("thead",{children:N.jsx("tr",{children:s.map((i,r)=>N.jsx(DD,{...i},r))})}),N.jsx("tbody",{children:t})]})}),nm={name:"",emoji:"",colour:"",parentId:void 0},ND=()=>{const[s,t]=_t.useState([]),[i,r]=_t.useState(nm),[l,c]=_t.useState("idle");_t.useEffect(()=>{(async()=>{try{const V=In(sn,"metadata","positions"),z=await or(V);if(z.exists()){const q=z.data();t(Array.isArray(q.list)?q.list.map(F=>({...F,parentId:F.parentId||void 0})):[])}}catch(V){console.error("Error fetching positions:",V)}})()},[]);const d=(S,V,z)=>{const q=[...s];q[S]={...q[S],[V]:z},t(q)},g=(S,V)=>{const z=[...s],q=z[S],F=q.parentId,W=et=>{const st=z[et];if(!st)return{block:[],startIndex:-1,endIndex:-1};const nt=[],ft=[st],ht=new Set;let R=et,w=et,I=0;for(;I<ft.length;){const O=ft[I++];ht.has(O.name)||(ht.add(O.name),nt.push(O),z.forEach((L,C)=>{L.parentId===O.name&&!ht.has(L.name)&&(ft.push(L),R=Math.min(R,C),w=Math.max(w,C))}))}return{block:nt,startIndex:R,endIndex:w}};if(F){const et=z.filter(I=>I.parentId===F),nt=et.findIndex(I=>I.name===q.name)+(V==="up"?-1:1);if(nt<0||nt>=et.length)return;const ft=et[nt],ht=z.indexOf(q),R=z.indexOf(ft);if(ht===-1||R===-1)return;const w=[...z];w[ht]=ft,w[R]=q,t(w)}else{const et=W(S),{block:st,startIndex:nt,endIndex:ft}=et;if(!st||st.length===0)return;if(V==="up"){if(nt===0)return;let ht=nt-1;for(;ht>=0&&z[ht].parentId;)ht--;if(ht<0)return;const R=W(ht),{block:w,startIndex:I}=R;if(!w||w.length===0)return;const k=[...z.slice(0,I),...st,...w,...z.slice(ft+1)].filter(Boolean);t(k)}else{if(ft===z.length-1)return;let ht=ft+1;for(;ht<z.length&&z[ht].parentId;)ht++;if(ht>=z.length)return;const R=W(ht),{block:w,startIndex:I}=R;if(!w||w.length===0)return;const k=[...z.slice(0,nt),...w,...st,...z.slice(I+w.length)].filter(Boolean);t(k)}}},_=()=>{if(!i.name.trim()||!i.emoji.trim())return alert("Please provide both an emoji and a name.");t([...s,i]),r(nm)},y=S=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const V=s[S];let z=s.filter((q,F)=>F!==S);V.parentId||(z=z.filter(q=>q.parentId!==V.name)),t(z)}},T=async()=>{c("saving");try{const S=In(sn,"metadata","positions"),V=s.map(z=>({...z,parentId:z.parentId===void 0?null:z.parentId}));await Mh(S,{list:V}),c("success"),setTimeout(()=>c("idle"),2e3)}catch(S){console.error("Save Error:",S),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),c("idle")}},b=S=>{t(V=>{const z={...nm,parentId:S},q=V.findIndex(et=>et.name===S);if(q===-1)return[...V,z];let F=q;for(;F+1<V.length&&V[F+1].parentId===S;)F++;return[...V.slice(0,F+1),z,...V.slice(F+1)]})};return N.jsxs(N.Fragment,{children:[N.jsxs(bg,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:80},{text:"Colour",minWidth:100},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[s.map((S,V)=>N.jsxs("tr",{children:[N.jsx(Ve,{textAlign:"center",children:S.parentId?N.jsx(sA,{}):N.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>g(V,"up"),disabled:V===0,children:""}),N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>g(V,"down"),disabled:V===s.length-1,children:""})]})}),N.jsx(Di,{name:`emoji-${V}`,value:S.emoji,onChange:z=>d(V,"emoji",z.target.value)}),N.jsx(Di,{name:`name-${V}`,value:S.name,onChange:z=>d(V,"name",z.target.value)}),N.jsx(CE,{name:`colour-${V}`,value:S.colour,onChange:z=>d(V,"colour",z.target.value)}),N.jsx(Ve,{textAlign:"center",children:!S.parentId&&N.jsx("button",{className:"icon-button icon-button--add-child",onClick:()=>b(S.name),title:"Add Child Position",children:"+"})}),N.jsx(Ve,{textAlign:"center",children:N.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>y(V),children:""})})]},`${S.emoji}-${V}`)),N.jsxs("tr",{className:"pos-row-new",children:[N.jsx("td",{className:"",children:""}),N.jsx(Di,{name:"new-emoji",value:i.emoji,placeholder:"",onChange:S=>r({...i,emoji:S.target.value})}),N.jsx(Di,{name:"new-name",value:i.name,placeholder:"Position Name",onChange:S=>r({...i,name:S.target.value})}),N.jsx(CE,{name:"new-colour",value:i.colour,placeholder:"#FFFFFF",onChange:S=>r({...i,colour:S.target.value})}),N.jsx("td",{className:""}),N.jsx(Ve,{textAlign:"center",children:N.jsx("button",{onClick:_,className:"icon-button icon-button--add",disabled:!i.name.trim()||!i.emoji.trim(),children:"Add"})})]})]}),N.jsx("div",{className:"settings-footer",children:N.jsx("button",{className:`save-button ${l}`,onClick:T,disabled:l!=="idle",children:l==="saving"?"Saving...":l==="success"?"Done ":"Save"})})]})},DE={name:"",emoji:"",positions:[],preferredDays:[]},NE=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],OD=()=>{const[s,t]=_t.useState([]),[i,r]=_t.useState([]),[l,c]=_t.useState(DE),[d,g]=_t.useState("idle");_t.useEffect(()=>{(async()=>{let F=[];try{const W=In(sn,"metadata","positions"),et=await or(W);if(et.exists()){const st=et.data();F=Array.isArray(st.list)?st.list:[],r(F)}}catch(W){console.error("Error fetching positions:",W)}try{const W=In(sn,"metadata","teams"),et=await or(W);if(et.exists()){const st=et.data();t(Array.isArray(st.list)?st.list.map(nt=>({...nt,preferredDays:nt.preferredDays||[],positions:nt.positions||[]})):[])}}catch(W){console.error("Error fetching teams:",W)}})()},[]);const _=(q,F,W)=>{const et=[...s];et[q]={...et[q],[F]:W},t(et)},y=(q,F)=>{const W=[...s],et=F==="up"?q-1:q+1;if(et<0||et>=W.length)return;const st=W[q];W[q]=W[et],W[et]=st,t(W)},T=(q,F)=>{const W=s.map((et,st)=>{if(st!==q)return et;const nt=et.positions||[],ft=nt.find(ht=>ht.name===F.name)?nt.filter(ht=>ht.name!==F.name):[...nt,F];return{...et,positions:ft}});t(W)},b=(q,F)=>{const W=s.map((et,st)=>{if(st!==q)return et;const nt=et.preferredDays||[],ft=nt.includes(F)?nt.filter(ht=>ht!==F):[...nt,F];return{...et,preferredDays:ft}});t(W)},S=()=>{if(!l.name.trim()||!l.emoji.trim())return alert("Please provide both an emoji and a name for the team.");t([...s,l]),c(DE)},V=q=>{window.confirm("Are you sure you want to delete this team?")&&t(s.filter((F,W)=>W!==q))},z=async()=>{g("saving");try{const q=In(sn,"metadata","teams"),F=s.map(({...W})=>W);await Mh(q,{list:F}),g("success"),setTimeout(()=>g("idle"),2e3)}catch(q){console.error("Save Error:",q),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),g("idle")}};return N.jsxs(N.Fragment,{children:[N.jsxs(bg,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:100},{text:"Allowed Positions",minWidth:200},{text:"Preferred Days",minWidth:250},{text:"",width:50}],children:[s.map((q,F)=>N.jsxs("tr",{children:[N.jsxs(Ve,{children:[" ",N.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>y(F,"up"),disabled:F===0,children:""}),N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>y(F,"down"),disabled:F===s.length-1,children:""})]})]}),N.jsx(Di,{name:`team-emoji-${F}`,value:q.emoji,onChange:W=>_(F,"emoji",W.target.value)}),N.jsx(Di,{name:`team-name-${F}`,value:q.name,onChange:W=>_(F,"name",W.target.value)}),N.jsx(Ve,{children:N.jsx(Ci,{nowrap:!0,children:i.map(W=>{var st;const et=(st=q.positions)==null?void 0:st.some(nt=>nt.name===W.name);return N.jsx(Sn,{colour:W.colour,isActive:et,onClick:()=>T(F,W),children:W.emoji},W.name)})})}),N.jsx(Ve,{children:N.jsx(Ci,{nowrap:!0,children:NE.map(W=>{var st;const et=(st=q.preferredDays)==null?void 0:st.includes(W);return N.jsx(Sn,{isActive:et,onClick:()=>b(F,W),children:W.substring(0,3)},W)})})}),N.jsx(Ve,{children:N.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>V(F),children:""})})]},`${q.emoji}-${F}`)),N.jsxs("tr",{className:"team-row-new",children:[N.jsx("td",{className:"",children:""}),N.jsx(Di,{name:"new-team-emoji",value:l.emoji,placeholder:"",onChange:q=>c({...l,emoji:q.target.value})}),N.jsx(Di,{name:"new-team-name",value:l.name,placeholder:"Team Name",onChange:q=>c({...l,name:q.target.value})}),N.jsx(Ve,{children:N.jsx(Ci,{nowrap:!0,children:i.map(q=>{var W;const F=(W=l.positions)==null?void 0:W.some(et=>et.name===q.name);return N.jsx(Sn,{colour:q.colour,isActive:F,onClick:()=>c(et=>{const st=et.positions||[],nt=st.some(ft=>ft.name===q.name)?st.filter(ft=>ft.name!==q.name):[...st,q];return{...et,positions:nt}}),children:q.emoji},`new-${q.name}`)})})}),N.jsx(Ve,{children:N.jsx(Ci,{nowrap:!0,children:NE.map(q=>{var W;const F=(W=l.preferredDays)==null?void 0:W.includes(q);return N.jsx(Sn,{isActive:F,onClick:()=>c(et=>{const st=et.preferredDays||[],nt=st.includes(q)?st.filter(ft=>ft!==q):[...st,q];return{...et,preferredDays:nt}}),children:q.substring(0,3)},`new-team-${q}`)})})}),N.jsx(Ve,{children:N.jsx("button",{onClick:S,className:"icon-button icon-button--add",disabled:!l.name.trim()||!l.emoji.trim(),children:"+"})})]})]}),N.jsx("div",{className:"settings-footer",children:N.jsx("button",{className:`save-button ${d}`,onClick:z,disabled:d!=="idle",children:d==="saving"?"Saving...":d==="success"?"Done ":"Save All Team Changes"})})]})},VD=({user:s,availableTeams:t,onTogglePosition:i,onToggleTeam:r,onHandleUpdate:l,adminEmail:c})=>{const d=aA(s.teams||[],t);return N.jsxs("tr",{children:[N.jsx(Di,{name:`name-${s.id}`,value:s.name||"",onChange:g=>l(s.id,"name",g.target.value),isSticky:!0}),N.jsx(Di,{name:`email-${s.id}`,value:s.email||"",isReadOnly:!0}),N.jsx(Ve,{children:N.jsxs("select",{name:`gender-${s.id}`,className:"form-select",value:s.gender,onChange:g=>l(s.id,"gender",g.target.value),children:[N.jsx("option",{value:"",children:"-"}),N.jsx("option",{value:"Male",children:"Male"}),N.jsx("option",{value:"Female",children:"Female"})]})}),N.jsx(Ve,{children:N.jsx(Ci,{nowrap:!0,children:t.map(g=>{var y;const _=(y=s.teams)==null?void 0:y.includes(g.name);return N.jsxs(Sn,{onClick:()=>r(s.id,g.name),isActive:_,children:[N.jsx("span",{children:g.emoji})," ",g.name]},g.name)})})}),N.jsx(Ve,{children:N.jsx(Ci,{nowrap:!0,children:d.map(g=>{var y;const _=(y=s.positions)==null?void 0:y.includes(g.name);return N.jsx(Sn,{colour:g.colour,isActive:_,onClick:()=>i(s.id,g.name),children:g.emoji},g.name)})})}),N.jsx(Ve,{children:N.jsx(Sn,{colour:s.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>l(s.id,"isActive",!s.isActive),isActive:!0,children:s.isActive?"YES":"NO"})}),N.jsx(Ve,{children:N.jsx(Sn,{colour:s.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>l(s.id,"isApproved",!s.isApproved),isActive:!0,children:s.isApproved?"YES":"NO"})}),N.jsx(Ve,{children:N.jsx(Sn,{colour:s.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>l(s.id,"isAdmin",!s.isAdmin),isActive:!0,isDisabled:s.email===c,children:s.isAdmin?"YES":"NO"})})]},s.id)},MD=()=>{const[s,t]=_t.useState([]),[i,r]=_t.useState([]),[l,c]=_t.useState("idle");_t.useEffect(()=>{(async()=>{const S=(await XI(PI(sn,"users"))).docs.map(z=>({...z.data(),id:z.id}));t(S.sort((z,q)=>z.name.localeCompare(q.name)));const V=await or(In(sn,"metadata","teams"));if(V.exists()){const z=V.data();r(Array.isArray(z.list)?z.list.map(q=>({...q,preferredDays:q.preferredDays||[]})):[])}})()},[]);const d=(T,b)=>{t(S=>S.map(V=>{if(V.id!==T)return V;const z=V.positions||[],q=z.includes(b)?z.filter(F=>F!==b):[...z,b];return{...V,positions:q}}))},g=(T,b)=>{t(S=>S.map(V=>{if(V.id!==T)return V;const z=V.teams||[],q=z.includes(b)?z.filter(F=>F!==b):[...z,b];return{...V,teams:q}}))},_=(T,b,S)=>{t(V=>V.map(z=>z.id===T?{...z,[b]:S}:z))},y=async()=>{c("saving");const T=ZI(sn);s.forEach(b=>{const{id:S,...V}=b;T.update(In(sn,"users",S),V)});try{await T.commit(),c("success"),setTimeout(()=>c("idle"),2e3)}catch(b){console.error(b),alert("Error saving users."),c("idle")}};return N.jsxs(N.Fragment,{children:[N.jsx(bg,{headers:[{text:"Name",minWidth:70,isSticky:!0},{text:"Email",minWidth:170},{text:"Gender",minWidth:90},{text:"Teams",minWidth:200},{text:"Positions",minWidth:200},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:s.map(T=>N.jsx(VD,{user:T,availableTeams:i,onTogglePosition:d,onToggleTeam:g,onHandleUpdate:_,adminEmail:"chris.sm.kang542@gmail.com"},T.id))}),N.jsx("div",{className:"settings-footer",children:N.jsx("button",{className:`save-button ${l}`,onClick:y,disabled:l!=="idle",children:l==="saving"?"Saving Changes...":l==="success"?"Done ":"Save All User Changes"})})]})},xD=({userData:s,uid:t,activeSection:i})=>N.jsxs("div",{className:"settings-container",children:[i===Fr.PROFILE&&N.jsx(oA,{userData:s,uid:t},t),i===Fr.USER_MANAGEMENT&&(s.isAdmin?N.jsx(MD,{}):N.jsx("p",{children:"Access Denied"})),i===Fr.TEAMS&&(s.isAdmin?N.jsx(OD,{}):N.jsx("p",{children:"Access Denied"})),i===Fr.POSITIONS&&(s.isAdmin?N.jsx(ND,{}):N.jsx("p",{children:"Access Denied"}))]}),kD=()=>{const{user:s,userData:t,loading:i}=eA(),[r,l]=_t.useState(ti.ROSTER),[c,d]=_t.useState(null);return i?N.jsx(IE,{}):s?t?t&&!t.isApproved?N.jsx(wD,{user:t,uid:s.uid}):N.jsx(bD,{activeTab:r,onTabChange:g=>{g!==r&&(l(g),g===ti.SETTINGS?d(Fr.PROFILE):d(null))},activeSideItem:c,onSideItemChange:d,children:r===ti.ROSTER?N.jsx(CD,{userData:t,uid:s.uid,activePosition:c}):N.jsx(xD,{userData:t,uid:s.uid,activeSection:c})}):N.jsx(IE,{}):N.jsx(RD,{})};XS.createRoot(document.getElementById("root")).render(N.jsx(BS.StrictMode,{children:N.jsx(sD,{children:N.jsx(kD,{})})}));
