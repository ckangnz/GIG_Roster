var IC=Object.defineProperty;var DC=(n,e,t)=>e in n?IC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var kp=(n,e,t)=>DC(n,typeof e!="symbol"?e+"":e,t);function NC(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function yb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Up={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function xC(){if(kT)return Iu;kT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:a,key:c,ref:o!==void 0?o:null,props:l}}return Iu.Fragment=e,Iu.jsx=t,Iu.jsxs=t,Iu}var UT;function OC(){return UT||(UT=1,Up.exports=xC()),Up.exports}var x=OC(),jp={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function MC(){if(jT)return Be;jT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function C(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function $(U,ie,he){this.props=U,this.context=ie,this.refs=k,this.updater=he||L}$.prototype.isReactComponent={},$.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},$.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=$.prototype;function K(U,ie,he){this.props=U,this.context=ie,this.refs=k,this.updater=he||L}var ee=K.prototype=new H;ee.constructor=K,z(ee,$.prototype),ee.isPureReactComponent=!0;var te=Array.isArray;function G(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(U,ie,he){var _e=he.ref;return{$$typeof:n,type:U,key:ie,ref:_e!==void 0?_e:null,props:he}}function D(U,ie){return R(U.type,ie,U.props)}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(he){return ie[he]})}var O=/\/+/g;function Oe(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):ie.toString(36)}function Ue(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(G,G):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,ie,he,_e,Ae){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var Ye=!1;if(U===null)Ye=!0;else switch(Ne){case"bigint":case"string":case"number":Ye=!0;break;case"object":switch(U.$$typeof){case n:case e:Ye=!0;break;case _:return Ye=U._init,W(Ye(U._payload),ie,he,_e,Ae)}}if(Ye)return Ae=Ae(U),Ye=_e===""?"."+Oe(U,0):_e,te(Ae)?(he="",Ye!=null&&(he=Ye.replace(O,"$&/")+"/"),W(Ae,ie,he,"",function(Ii){return Ii})):Ae!=null&&(N(Ae)&&(Ae=D(Ae,he+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(O,"$&/")+"/")+Ye)),ie.push(Ae)),1;Ye=0;var St=_e===""?".":_e+":";if(te(U))for(var At=0;At<U.length;At++)_e=U[At],Ne=St+Oe(_e,At),Ye+=W(_e,ie,he,Ne,Ae);else if(At=C(U),typeof At=="function")for(U=At.call(U),At=0;!(_e=U.next()).done;)_e=_e.value,Ne=St+Oe(_e,At++),Ye+=W(_e,ie,he,Ne,Ae);else if(Ne==="object"){if(typeof U.then=="function")return W(Ue(U),ie,he,_e,Ae);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ye}function fe(U,ie,he){if(U==null)return U;var _e=[],Ae=0;return W(U,_e,"","",function(Ne){return ie.call(he,Ne,Ae++)}),_e}function ye(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(he){(U._status===0||U._status===-1)&&(U._status=1,U._result=he)},function(he){(U._status===0||U._status===-1)&&(U._status=2,U._result=he)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var Me=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:fe,forEach:function(U,ie,he){fe(U,function(){ie.apply(this,arguments)},he)},count:function(U){var ie=0;return fe(U,function(){ie++}),ie},toArray:function(U){return fe(U,function(ie){return ie})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Be.Activity=E,Be.Children=Ve,Be.Component=$,Be.Fragment=t,Be.Profiler=o,Be.PureComponent=K,Be.StrictMode=a,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Be.__COMPILER_RUNTIME={__proto__:null,c:function(U){return S.H.useMemoCache(U)}},Be.cache=function(U){return function(){return U.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(U,ie,he){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var _e=z({},U.props),Ae=U.key;if(ie!=null)for(Ne in ie.key!==void 0&&(Ae=""+ie.key),ie)!w.call(ie,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ie.ref===void 0||(_e[Ne]=ie[Ne]);var Ne=arguments.length-2;if(Ne===1)_e.children=he;else if(1<Ne){for(var Ye=Array(Ne),St=0;St<Ne;St++)Ye[St]=arguments[St+2];_e.children=Ye}return R(U.type,Ae,_e)},Be.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Be.createElement=function(U,ie,he){var _e,Ae={},Ne=null;if(ie!=null)for(_e in ie.key!==void 0&&(Ne=""+ie.key),ie)w.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ae[_e]=ie[_e]);var Ye=arguments.length-2;if(Ye===1)Ae.children=he;else if(1<Ye){for(var St=Array(Ye),At=0;At<Ye;At++)St[At]=arguments[At+2];Ae.children=St}if(U&&U.defaultProps)for(_e in Ye=U.defaultProps,Ye)Ae[_e]===void 0&&(Ae[_e]=Ye[_e]);return R(U,Ne,Ae)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(U){return{$$typeof:d,render:U}},Be.isValidElement=N,Be.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ye}},Be.memo=function(U,ie){return{$$typeof:g,type:U,compare:ie===void 0?null:ie}},Be.startTransition=function(U){var ie=S.T,he={};S.T=he;try{var _e=U(),Ae=S.S;Ae!==null&&Ae(he,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(G,Me)}catch(Ne){Me(Ne)}finally{ie!==null&&he.types!==null&&(ie.types=he.types),S.T=ie}},Be.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Be.use=function(U){return S.H.use(U)},Be.useActionState=function(U,ie,he){return S.H.useActionState(U,ie,he)},Be.useCallback=function(U,ie){return S.H.useCallback(U,ie)},Be.useContext=function(U){return S.H.useContext(U)},Be.useDebugValue=function(){},Be.useDeferredValue=function(U,ie){return S.H.useDeferredValue(U,ie)},Be.useEffect=function(U,ie){return S.H.useEffect(U,ie)},Be.useEffectEvent=function(U){return S.H.useEffectEvent(U)},Be.useId=function(){return S.H.useId()},Be.useImperativeHandle=function(U,ie,he){return S.H.useImperativeHandle(U,ie,he)},Be.useInsertionEffect=function(U,ie){return S.H.useInsertionEffect(U,ie)},Be.useLayoutEffect=function(U,ie){return S.H.useLayoutEffect(U,ie)},Be.useMemo=function(U,ie){return S.H.useMemo(U,ie)},Be.useOptimistic=function(U,ie){return S.H.useOptimistic(U,ie)},Be.useReducer=function(U,ie,he){return S.H.useReducer(U,ie,he)},Be.useRef=function(U){return S.H.useRef(U)},Be.useState=function(U){return S.H.useState(U)},Be.useSyncExternalStore=function(U,ie,he){return S.H.useSyncExternalStore(U,ie,he)},Be.useTransition=function(){return S.H.useTransition()},Be.version="19.2.4",Be}var zT;function ld(){return zT||(zT=1,jp.exports=MC()),jp.exports}var B=ld();const _b=yb(B),VC=NC({__proto__:null,default:_b},[B]);var zp={exports:{}},Du={},Bp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function PC(){return BT||(BT=1,(function(n){function e(W,fe){var ye=W.length;W.push(fe);e:for(;0<ye;){var Me=ye-1>>>1,Ve=W[Me];if(0<o(Ve,fe))W[Me]=fe,W[ye]=Ve,ye=Me;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var fe=W[0],ye=W.pop();if(ye!==fe){W[0]=ye;e:for(var Me=0,Ve=W.length,U=Ve>>>1;Me<U;){var ie=2*(Me+1)-1,he=W[ie],_e=ie+1,Ae=W[_e];if(0>o(he,ye))_e<Ve&&0>o(Ae,he)?(W[Me]=Ae,W[_e]=ye,Me=_e):(W[Me]=he,W[ie]=ye,Me=ie);else if(_e<Ve&&0>o(Ae,ye))W[Me]=Ae,W[_e]=ye,Me=_e;else break e}}return fe}function o(W,fe){var ye=W.sortIndex-fe.sortIndex;return ye!==0?ye:W.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,E=null,b=3,C=!1,L=!1,z=!1,k=!1,$=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ee(W){for(var fe=t(g);fe!==null;){if(fe.callback===null)a(g);else if(fe.startTime<=W)a(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function te(W){if(z=!1,ee(W),!L)if(t(p)!==null)L=!0,G||(G=!0,V());else{var fe=t(g);fe!==null&&Ue(te,fe.startTime-W)}}var G=!1,S=-1,w=5,R=-1;function D(){return k?!0:!(n.unstable_now()-R<w)}function N(){if(k=!1,G){var W=n.unstable_now();R=W;var fe=!0;try{e:{L=!1,z&&(z=!1,H(S),S=-1),C=!0;var ye=b;try{t:{for(ee(W),E=t(p);E!==null&&!(E.expirationTime>W&&D());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,b=E.priorityLevel;var Ve=Me(E.expirationTime<=W);if(W=n.unstable_now(),typeof Ve=="function"){E.callback=Ve,ee(W),fe=!0;break t}E===t(p)&&a(p),ee(W)}else a(p);E=t(p)}if(E!==null)fe=!0;else{var U=t(g);U!==null&&Ue(te,U.startTime-W),fe=!1}}break e}finally{E=null,b=ye,C=!1}fe=void 0}}finally{fe?V():G=!1}}}var V;if(typeof K=="function")V=function(){K(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Oe=O.port2;O.port1.onmessage=N,V=function(){Oe.postMessage(null)}}else V=function(){$(N,0)};function Ue(W,fe){S=$(function(){W(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var ye=b;b=fe;try{return W()}finally{b=ye}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=b;b=W;try{return fe()}finally{b=ye}},n.unstable_scheduleCallback=function(W,fe,ye){var Me=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Me+ye:Me):ye=Me,W){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ye+Ve,W={id:_++,callback:fe,priorityLevel:W,startTime:ye,expirationTime:Ve,sortIndex:-1},ye>Me?(W.sortIndex=ye,e(g,W),t(p)===null&&W===t(g)&&(z?(H(S),S=-1):z=!0,Ue(te,ye-Me))):(W.sortIndex=Ve,e(p,W),L||C||(L=!0,G||(G=!0,V()))),W},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(W){var fe=b;return function(){var ye=b;b=fe;try{return W.apply(this,arguments)}finally{b=ye}}}})(Fp)),Fp}var FT;function LC(){return FT||(FT=1,Bp.exports=PC()),Bp.exports}var Hp={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function kC(){if(HT)return Cn;HT=1;var n=ld();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Cn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Cn.flushSync=function(p){var g=c.T,_=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=_,a.d.f()}},Cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Cn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:C}):_==="script"&&a.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Cn.requestFormReset=function(p){a.d.r(p)},Cn.unstable_batchedUpdates=function(p,g){return p(g)},Cn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.2.4",Cn}var qT;function vb(){if(qT)return Hp.exports;qT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hp.exports=kC(),Hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function UC(){if(GT)return Du;GT=1;var n=LC(),e=ld(),t=vb();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(a(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,u=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return p(h),r;if(m===u)return p(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=m;else{for(var v=!1,A=h.child;A;){if(A===s){v=!0,s=h,u=m;break}if(A===u){v=!0,u=h,s=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===s){v=!0,s=m,u=h;break}if(A===u){v=!0,u=m,s=h;break}A=A.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function _(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=_(r),i!==null)return i;r=r.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function Oe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case $:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case L:return"Portal";case K:return r.displayName||"Context";case H:return(r._context.displayName||"Context")+".Consumer";case ee:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return i=r.displayName||null,i!==null?i:Oe(r.type)||"Memo";case w:i=r._payload,r=r._init;try{return Oe(r(i))}catch{}}return null}var Ue=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Me=[],Ve=-1;function U(r){return{current:r}}function ie(r){0>Ve||(r.current=Me[Ve],Me[Ve]=null,Ve--)}function he(r,i){Ve++,Me[Ve]=r.current,r.current=i}var _e=U(null),Ae=U(null),Ne=U(null),Ye=U(null);function St(r,i){switch(he(Ne,i),he(Ae,r),he(_e,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?sT(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=sT(i),r=oT(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(_e),he(_e,r)}function At(){ie(_e),ie(Ae),ie(Ne)}function Ii(r){r.memoizedState!==null&&he(Ye,r);var i=_e.current,s=oT(i,r.type);i!==s&&(he(Ae,r),he(_e,s))}function fa(r){Ae.current===r&&(ie(_e),ie(Ae)),Ye.current===r&&(ie(Ye),wu._currentValue=ye)}var Ut,Wn;function Jn(r){if(Ut===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ut=i&&i[1]||"",Wn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+r+Wn}var gs=!1;function Mn(r,i){if(!r||gs)return"";gs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var Z=re}Reflect.construct(r,[],le)}else{try{le.call()}catch(re){Z=re}r.call(le.prototype)}}else{try{throw Error()}catch(re){Z=re}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&Z&&typeof re.stack=="string")return[re.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],A=m[1];if(v&&A){var P=v.split(`
`),X=A.split(`
`);for(h=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(u===P.length||h===X.length)for(u=P.length-1,h=X.length-1;1<=u&&0<=h&&P[u]!==X[h];)h--;for(;1<=u&&0<=h;u--,h--)if(P[u]!==X[h]){if(u!==1||h!==1)do if(u--,h--,0>h||P[u]!==X[h]){var ae=`
`+P[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=h);break}}}finally{gs=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?Jn(s):""}function ys(r,i){switch(r.tag){case 26:case 27:case 5:return Jn(r.type);case 16:return Jn("Lazy");case 13:return r.child!==i&&i!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return Mn(r.type,!1);case 11:return Mn(r.type.render,!1);case 1:return Mn(r.type,!0);case 31:return Jn("Activity");default:return""}}function _s(r){try{var i="",s=null;do i+=ys(r,s),s=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var jt=Object.prototype.hasOwnProperty,Kt=n.unstable_scheduleCallback,ni=n.unstable_cancelCallback,Pl=n.unstable_shouldYield,fo=n.unstable_requestPaint,zt=n.unstable_now,Zn=n.unstable_getCurrentPriorityLevel,ha=n.unstable_ImmediatePriority,Di=n.unstable_UserBlockingPriority,fn=n.unstable_NormalPriority,er=n.unstable_LowPriority,vs=n.unstable_IdlePriority,ho=n.log,da=n.unstable_setDisableYieldValue,tr=null,bt=null;function Vn(r){if(typeof ho=="function"&&da(r),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(tr,r)}catch{}}var Vt=Math.clz32?Math.clz32:Ts,Es=Math.log,ma=Math.LN2;function Ts(r){return r>>>=0,r===0?32:31-(Es(r)/ma|0)|0}var Pn=256,ri=262144,Pt=4194304;function Tr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function nr(r,i,s){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?h=Tr(u):(v&=A,v!==0?h=Tr(v):s||(s=A&~r,s!==0&&(h=Tr(s))))):(A=u&~m,A!==0?h=Tr(A):v!==0?h=Tr(v):s||(s=u&~r,s!==0&&(h=Tr(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function rr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function mo(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var r=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),r}function Ln(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function ii(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ll(r,i,s,u,h,m){var v=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var A=r.entanglements,P=r.expirationTimes,X=r.hiddenUpdates;for(s=v&~s;0<s;){var ae=31-Vt(s),le=1<<ae;A[ae]=0,P[ae]=-1;var Z=X[ae];if(Z!==null)for(X[ae]=null,ae=0;ae<Z.length;ae++){var re=Z[ae];re!==null&&(re.lane&=-536870913)}s&=~le}u!==0&&xi(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(v&~i))}function xi(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Vt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|s&261930}function M(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var u=31-Vt(s),h=1<<u;h&i|r[u]&i&&(r[u]|=i),s&=~h}}function F(r,i){var s=i&-i;return s=(s&42)!==0?1:J(s),(s&(r.suspendedLanes|i))!==0?0:s}function J(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ce(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function de(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:NT(r.type))}function Ee(r,i){var s=fe.p;try{return fe.p=r,i()}finally{fe.p=s}}var be=Math.random().toString(36).slice(2),me="__reactFiber$"+be,ge="__reactProps$"+be,Se="__reactContainer$"+be,Pe="__reactEvents$"+be,Ce="__reactListeners$"+be,je="__reactHandles$"+be,Qe="__reactResources$"+be,gt="__reactMarker$"+be;function Nt(r){delete r[me],delete r[ge],delete r[Pe],delete r[Ce],delete r[je]}function Rt(r){var i=r[me];if(i)return i;for(var s=r.parentNode;s;){if(i=s[Se]||s[me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=mT(r);r!==null;){if(s=r[me])return s;r=mT(r)}return i}r=s,s=r.parentNode}return null}function Ge(r){if(r=r[me]||r[Se]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Ct(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function hn(r){var i=r[Qe];return i||(i=r[Qe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(r){r[gt]=!0}var zn=new Set,An={};function Bn(r,i){Rn(r,i),Rn(r+"Capture",i)}function Rn(r,i){for(An[r]=i,r=0;r<i.length;r++)zn.add(i[r])}var ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ai={},si={};function We(r){return jt.call(si,r)?!0:jt.call(ai,r)?!1:ir.test(r)?si[r]=!0:(ai[r]=!0,!1)}function Bt(r,i,s){if(We(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Jt(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function yt(r,i,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+u)}}function $e(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ar(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pa(r,i,s){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,m.call(this,v)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ut(r){if(!r._valueTracker){var i=ar(r)?"checked":"value";r._valueTracker=pa(r,i,""+r[i])}}function Ss(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return r&&(u=ar(r)?r.checked?"true":"false":r.value),r=u,r!==s?(i.setValue(r),!0):!1}function oi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var bs=/[\n"\\]/g;function Fn(r){return r.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function po(r,i,s,u,h,m,v,A){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),i!=null?v==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+$e(i)):r.value!==""+$e(i)&&(r.value=""+$e(i)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),i!=null?kl(r,v,$e(i)):s!=null?kl(r,v,$e(s)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+$e(A):r.removeAttribute("name")}function Nc(r,i,s,u,h,m,v,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ut(r);return}s=s!=null?""+$e(s):"",i=i!=null?""+$e(i):s,A||i===r.value||(r.value=i),r.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),ut(r)}function kl(r,i,s){i==="number"&&oi(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function ga(r,i,s,u){if(r=r.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<r.length;s++)h=i.hasOwnProperty("$"+r[s].value),r[s].selected!==h&&(r[s].selected=h),h&&u&&(r[s].defaultSelected=!0)}else{for(s=""+$e(s),i=null,h=0;h<r.length;h++){if(r[h].value===s){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function xc(r,i,s){if(i!=null&&(i=""+$e(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+$e(s):""}function ya(r,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(Ue(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=$e(i),r.defaultValue=s,u=r.textContent,u===s&&u!==""&&u!==null&&(r.value=u),ut(r)}function Hn(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var Oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(r,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,s):typeof s!="number"||s===0||Oc.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function jl(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&s[h]!==u&&Ul(r,h,u)}else for(var m in i)i.hasOwnProperty(m)&&Ul(r,m,i[m])}function go(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(r){return _a.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function zr(){}var zl=null;function Sr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var va=null,li=null;function ws(r){var i=Ge(r);if(i&&(r=i.stateNode)){var s=r[ge]||null;e:switch(r=i.stateNode,i.type){case"input":if(po(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Fn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==r&&u.form===r.form){var h=u[ge]||null;if(!h)throw Error(a(90));po(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===r.form&&Ss(u)}break e;case"textarea":xc(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ga(r,!!s.multiple,i,!1)}}}var _o=!1;function Ea(r,i,s){if(_o)return r(i,s);_o=!0;try{var u=r(i);return u}finally{if(_o=!1,(va!==null||li!==null)&&(Cf(),va&&(i=va,r=li,li=va=null,ws(i),r)))for(i=0;i<r.length;i++)ws(r[i])}}function Br(r,i){var s=r.stateNode;if(s===null)return null;var u=s[ge]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(br)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){As=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{As=!1}var ui=null,Bl=null,Rs=null;function Fl(){if(Rs)return Rs;var r,i=Bl,s=i.length,u,h="value"in ui?ui.value:ui.textContent,m=h.length;for(r=0;r<s&&i[r]===h[r];r++);var v=s-r;for(u=1;u<=v&&i[s-u]===h[m-u];u++);return Rs=h.slice(r,1<u?1-u:void 0)}function Cs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Oi(){return!0}function Fr(){return!1}function pn(r){function i(s,u,h,m,v){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(s=r[A],this[A]=s?s(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Oi:Fr,this.isPropagationStopped=Fr,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=pn(Mi),Ta=E({},Mi,{view:0,detail:0}),Hl=pn(Ta),Sa,vo,fi,Eo=E({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fi&&(fi&&r.type==="mousemove"?(Sa=r.screenX-fi.screenX,vo=r.screenY-fi.screenY):vo=Sa=0,fi=r),Sa)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),ql=pn(Eo),Is=E({},Eo,{dataTransfer:0}),Vc=pn(Is),Pc=E({},Ta,{relatedTarget:0}),Ds=pn(Pc),Gl=E({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=pn(Gl),To=E({},Mi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),kc=pn(To),Uc=E({},Mi,{data:0}),hi=pn(Uc),jc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Bc[r])?!!i[r]:!1}function ba(){return Fc}var kn=E({},Ta,{key:function(r){if(r.key){var i=jc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?zc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(r){return r.type==="keypress"?Cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Hc=pn(kn),qc=E({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=pn(qc),f=E({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),y=pn(f),T=E({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=pn(T),Y=E({},Eo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=pn(Y),pe=E({},Mi,{newState:0,oldState:0}),He=pn(pe),Yt=[9,13,27,32],ct=br&&"CompositionEvent"in window,Lt=null;br&&"documentMode"in document&&(Lt=document.documentMode);var wr=br&&"TextEvent"in window&&!Lt,di=br&&(!ct||Lt&&8<Lt&&11>=Lt),Hr=" ",qr=!1;function Ns(r,i){switch(r){case"keyup":return Yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function So(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bo=!1;function JR(r,i){switch(r){case"compositionend":return So(i);case"keypress":return i.which!==32?null:(qr=!0,Hr);case"textInput":return r=i.data,r===Hr&&qr?null:r;default:return null}}function ZR(r,i){if(bo)return r==="compositionend"||!ct&&Ns(r,i)?(r=Fl(),Rs=Bl=ui=null,bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return di&&i.locale!=="ko"?null:i.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!e1[r.type]:i==="textarea"}function __(r,i,s,u){va?li?li.push(u):li=[u]:va=u,i=Vf(i,"onChange"),0<i.length&&(s=new ci("onChange","change",null,s,u),r.push({event:s,listeners:i}))}var $l=null,Kl=null;function t1(r){eT(r,0)}function Gc(r){var i=Ct(r);if(Ss(i))return r}function v_(r,i){if(r==="change")return i}var E_=!1;if(br){var qd;if(br){var Gd="oninput"in document;if(!Gd){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Gd=typeof T_.oninput=="function"}qd=Gd}else qd=!1;E_=qd&&(!document.documentMode||9<document.documentMode)}function S_(){$l&&($l.detachEvent("onpropertychange",b_),Kl=$l=null)}function b_(r){if(r.propertyName==="value"&&Gc(Kl)){var i=[];__(i,Kl,r,Sr(r)),Ea(t1,i)}}function n1(r,i,s){r==="focusin"?(S_(),$l=i,Kl=s,$l.attachEvent("onpropertychange",b_)):r==="focusout"&&S_()}function r1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Gc(Kl)}function i1(r,i){if(r==="click")return Gc(i)}function a1(r,i){if(r==="input"||r==="change")return Gc(i)}function s1(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var sr=typeof Object.is=="function"?Object.is:s1;function Yl(r,i){if(sr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!jt.call(i,h)||!sr(r[h],i[h]))return!1}return!0}function w_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function A_(r,i){var s=w_(r);r=0;for(var u;s;){if(s.nodeType===3){if(u=r+s.textContent.length,r<=i&&u>=i)return{node:s,offset:i-r};r=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=w_(s)}}function R_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?R_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function C_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=oi(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=oi(r.document)}return i}function $d(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var o1=br&&"documentMode"in document&&11>=document.documentMode,wo=null,Kd=null,Ql=null,Yd=!1;function I_(r,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yd||wo==null||wo!==oi(u)||(u=wo,"selectionStart"in u&&$d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Yl(Ql,u)||(Ql=u,u=Vf(Kd,"onSelect"),0<u.length&&(i=new ci("onSelect","select",null,i,s),r.push({event:i,listeners:u}),i.target=wo)))}function xs(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var Ao={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Qd={},D_={};br&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Os(r){if(Qd[r])return Qd[r];if(!Ao[r])return r;var i=Ao[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in D_)return Qd[r]=i[s];return r}var N_=Os("animationend"),x_=Os("animationiteration"),O_=Os("animationstart"),l1=Os("transitionrun"),u1=Os("transitionstart"),c1=Os("transitioncancel"),M_=Os("transitionend"),V_=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function Gr(r,i){V_.set(r,i),Bn(i,[r])}var $c=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ar=[],Ro=0,Wd=0;function Kc(){for(var r=Ro,i=Wd=Ro=0;i<r;){var s=Ar[i];Ar[i++]=null;var u=Ar[i];Ar[i++]=null;var h=Ar[i];Ar[i++]=null;var m=Ar[i];if(Ar[i++]=null,u!==null&&h!==null){var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}m!==0&&P_(s,h,m)}}function Yc(r,i,s,u){Ar[Ro++]=r,Ar[Ro++]=i,Ar[Ro++]=s,Ar[Ro++]=u,Wd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Jd(r,i,s,u){return Yc(r,i,s,u),Qc(r)}function Ms(r,i){return Yc(r,null,null,i),Qc(r)}function P_(r,i,s){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s);for(var h=!1,m=r.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-Vt(s),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[i]:u.push(i),i.lane=s|536870912),m):null}function Qc(r){if(50<yu)throw yu=0,op=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Co={};function f1(r,i,s,u){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(r,i,s,u){return new f1(r,i,s,u)}function Zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pi(r,i){var s=r.alternate;return s===null?(s=or(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function L_(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Xc(r,i,s,u,h,m){var v=0;if(u=r,typeof r=="function")Zd(r)&&(v=1);else if(typeof r=="string")v=gC(r,s,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=or(31,s,i,h),r.elementType=R,r.lanes=m,r;case z:return Vs(s.children,h,m,i);case k:v=8,h|=24;break;case $:return r=or(12,s,i,h|2),r.elementType=$,r.lanes=m,r;case te:return r=or(13,s,i,h),r.elementType=te,r.lanes=m,r;case G:return r=or(19,s,i,h),r.elementType=G,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:v=10;break e;case H:v=9;break e;case ee:v=11;break e;case S:v=14;break e;case w:v=16,u=null;break e}v=29,s=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=or(v,s,i,h),i.elementType=r,i.type=u,i.lanes=m,i}function Vs(r,i,s,u){return r=or(7,r,u,i),r.lanes=s,r}function em(r,i,s){return r=or(6,r,null,i),r.lanes=s,r}function k_(r){var i=or(18,null,null,0);return i.stateNode=r,i}function tm(r,i,s){return i=or(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var U_=new WeakMap;function Rr(r,i){if(typeof r=="object"&&r!==null){var s=U_.get(r);return s!==void 0?s:(i={value:r,source:i,stack:_s(i)},U_.set(r,i),i)}return{value:r,source:i,stack:_s(i)}}var Io=[],Do=0,Wc=null,Xl=0,Cr=[],Ir=0,wa=null,mi=1,pi="";function Li(r,i){Io[Do++]=Xl,Io[Do++]=Wc,Wc=r,Xl=i}function j_(r,i,s){Cr[Ir++]=mi,Cr[Ir++]=pi,Cr[Ir++]=wa,wa=r;var u=mi;r=pi;var h=32-Vt(u)-1;u&=~(1<<h),s+=1;var m=32-Vt(i)+h;if(30<m){var v=h-h%5;m=(u&(1<<v)-1).toString(32),u>>=v,h-=v,mi=1<<32-Vt(i)+h|s<<h|u,pi=m+r}else mi=1<<m|s<<h|u,pi=r}function nm(r){r.return!==null&&(Li(r,1),j_(r,1,0))}function rm(r){for(;r===Wc;)Wc=Io[--Do],Io[Do]=null,Xl=Io[--Do],Io[Do]=null;for(;r===wa;)wa=Cr[--Ir],Cr[Ir]=null,pi=Cr[--Ir],Cr[Ir]=null,mi=Cr[--Ir],Cr[Ir]=null}function z_(r,i){Cr[Ir++]=mi,Cr[Ir++]=pi,Cr[Ir++]=wa,mi=i.id,pi=i.overflow,wa=r}var gn=null,xt=null,at=!1,Aa=null,Dr=!1,im=Error(a(519));function Ra(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Rr(i,r)),im}function B_(r){var i=r.stateNode,s=r.type,u=r.memoizedProps;switch(i[me]=r,i[ge]=u,s){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(s=0;s<vu.length;s++)Ze(vu[s],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),Nc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),ya(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||iT(i.textContent,s)?(u.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),u.onScroll!=null&&Ze("scroll",i),u.onScrollEnd!=null&&Ze("scrollend",i),u.onClick!=null&&(i.onclick=zr),i=!0):i=!1,i||Ra(r,!0)}function F_(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:gn=gn.return}}function No(r){if(r!==gn)return!1;if(!at)return F_(r),at=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||Sp(r.type,r.memoizedProps)),s=!s),s&&xt&&Ra(r),F_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));xt=dT(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));xt=dT(r)}else i===27?(i=xt,za(r.type)?(r=Cp,Cp=null,xt=r):xt=i):xt=gn?xr(r.stateNode.nextSibling):null;return!0}function Ps(){xt=gn=null,at=!1}function am(){var r=Aa;return r!==null&&(Kn===null?Kn=r:Kn.push.apply(Kn,r),Aa=null),r}function Wl(r){Aa===null?Aa=[r]:Aa.push(r)}var sm=U(null),Ls=null,ki=null;function Ca(r,i,s){he(sm,i._currentValue),i._currentValue=s}function Ui(r){r._currentValue=sm.current,ie(sm)}function om(r,i,s){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===s)break;r=r.return}}function lm(r,i,s,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=h;for(var P=0;P<i.length;P++)if(A.context===i[P]){m.lanes|=s,A=m.alternate,A!==null&&(A.lanes|=s),om(m.return,s,r),u||(v=null);break e}m=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,m=v.alternate,m!==null&&(m.lanes|=s),om(v,s,r),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===r){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function xo(r,i,s,u){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var A=h.type;sr(h.pendingProps.value,v.value)||(r!==null?r.push(A):r=[A])}}else if(h===Ye.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}h=h.return}r!==null&&lm(i,r,s,u),i.flags|=262144}function Jc(r){for(r=r.firstContext;r!==null;){if(!sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ks(r){Ls=r,ki=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function yn(r){return H_(Ls,r)}function Zc(r,i){return Ls===null&&ks(r),H_(r,i)}function H_(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ki===null){if(r===null)throw Error(a(308));ki=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ki=ki.next=i;return s}var h1=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},d1=n.unstable_scheduleCallback,m1=n.unstable_NormalPriority,Zt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new h1,data:new Map,refCount:0}}function Jl(r){r.refCount--,r.refCount===0&&d1(m1,function(){r.controller.abort()})}var Zl=null,cm=0,Oo=0,Mo=null;function p1(r,i){if(Zl===null){var s=Zl=[];cm=0,Oo=dp(),Mo={status:"pending",value:void 0,then:function(u){s.push(u)}}}return cm++,i.then(q_,q_),i}function q_(){if(--cm===0&&Zl!==null){Mo!==null&&(Mo.status="fulfilled");var r=Zl;Zl=null,Oo=0,Mo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function g1(r,i){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var G_=W.S;W.S=function(r,i){IE=zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&p1(r,i),G_!==null&&G_(r,i)};var Us=U(null);function fm(){var r=Us.current;return r!==null?r:wt.pooledCache}function ef(r,i){i===null?he(Us,Us.current):he(Us,i.pool)}function $_(){var r=fm();return r===null?null:{parent:Zt._currentValue,pool:r}}var Vo=Error(a(460)),hm=Error(a(474)),tf=Error(a(542)),nf={then:function(){}};function K_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Y_(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(zr,zr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,X_(r),r;default:if(typeof i.status=="string")i.then(zr,zr);else{if(r=wt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,X_(r),r}throw zs=i,Vo}}function js(r){try{var i=r._init;return i(r._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zs=s,Vo):s}}var zs=null;function Q_(){if(zs===null)throw Error(a(459));var r=zs;return zs=null,r}function X_(r){if(r===Vo||r===tf)throw Error(a(483))}var Po=null,eu=0;function rf(r){var i=eu;return eu+=1,Po===null&&(Po=[]),Y_(Po,r,i)}function tu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function af(r,i){throw i.$$typeof===b?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function W_(r){function i(q,j){if(r){var Q=q.deletions;Q===null?(q.deletions=[j],q.flags|=16):Q.push(j)}}function s(q,j){if(!r)return null;for(;j!==null;)i(q,j),j=j.sibling;return null}function u(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function h(q,j){return q=Pi(q,j),q.index=0,q.sibling=null,q}function m(q,j,Q){return q.index=Q,r?(Q=q.alternate,Q!==null?(Q=Q.index,Q<j?(q.flags|=67108866,j):Q):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function v(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function A(q,j,Q,se){return j===null||j.tag!==6?(j=em(Q,q.mode,se),j.return=q,j):(j=h(j,Q),j.return=q,j)}function P(q,j,Q,se){var Ie=Q.type;return Ie===z?ae(q,j,Q.props.children,se,Q.key):j!==null&&(j.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===w&&js(Ie)===j.type)?(j=h(j,Q.props),tu(j,Q),j.return=q,j):(j=Xc(Q.type,Q.key,Q.props,null,q.mode,se),tu(j,Q),j.return=q,j)}function X(q,j,Q,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=tm(Q,q.mode,se),j.return=q,j):(j=h(j,Q.children||[]),j.return=q,j)}function ae(q,j,Q,se,Ie){return j===null||j.tag!==7?(j=Vs(Q,q.mode,se,Ie),j.return=q,j):(j=h(j,Q),j.return=q,j)}function le(q,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=em(""+j,q.mode,Q),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return Q=Xc(j.type,j.key,j.props,null,q.mode,Q),tu(Q,j),Q.return=q,Q;case L:return j=tm(j,q.mode,Q),j.return=q,j;case w:return j=js(j),le(q,j,Q)}if(Ue(j)||V(j))return j=Vs(j,q.mode,Q,null),j.return=q,j;if(typeof j.then=="function")return le(q,rf(j),Q);if(j.$$typeof===K)return le(q,Zc(q,j),Q);af(q,j)}return null}function Z(q,j,Q,se){var Ie=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:A(q,j,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return Q.key===Ie?P(q,j,Q,se):null;case L:return Q.key===Ie?X(q,j,Q,se):null;case w:return Q=js(Q),Z(q,j,Q,se)}if(Ue(Q)||V(Q))return Ie!==null?null:ae(q,j,Q,se,null);if(typeof Q.then=="function")return Z(q,j,rf(Q),se);if(Q.$$typeof===K)return Z(q,j,Zc(q,Q),se);af(q,Q)}return null}function re(q,j,Q,se,Ie){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get(Q)||null,A(j,q,""+se,Ie);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case C:return q=q.get(se.key===null?Q:se.key)||null,P(j,q,se,Ie);case L:return q=q.get(se.key===null?Q:se.key)||null,X(j,q,se,Ie);case w:return se=js(se),re(q,j,Q,se,Ie)}if(Ue(se)||V(se))return q=q.get(Q)||null,ae(j,q,se,Ie,null);if(typeof se.then=="function")return re(q,j,Q,rf(se),Ie);if(se.$$typeof===K)return re(q,j,Q,Zc(j,se),Ie);af(j,se)}return null}function we(q,j,Q,se){for(var Ie=null,ot=null,Re=j,Ke=j=0,tt=null;Re!==null&&Ke<Q.length;Ke++){Re.index>Ke?(tt=Re,Re=null):tt=Re.sibling;var lt=Z(q,Re,Q[Ke],se);if(lt===null){Re===null&&(Re=tt);break}r&&Re&&lt.alternate===null&&i(q,Re),j=m(lt,j,Ke),ot===null?Ie=lt:ot.sibling=lt,ot=lt,Re=tt}if(Ke===Q.length)return s(q,Re),at&&Li(q,Ke),Ie;if(Re===null){for(;Ke<Q.length;Ke++)Re=le(q,Q[Ke],se),Re!==null&&(j=m(Re,j,Ke),ot===null?Ie=Re:ot.sibling=Re,ot=Re);return at&&Li(q,Ke),Ie}for(Re=u(Re);Ke<Q.length;Ke++)tt=re(Re,q,Ke,Q[Ke],se),tt!==null&&(r&&tt.alternate!==null&&Re.delete(tt.key===null?Ke:tt.key),j=m(tt,j,Ke),ot===null?Ie=tt:ot.sibling=tt,ot=tt);return r&&Re.forEach(function(Ga){return i(q,Ga)}),at&&Li(q,Ke),Ie}function xe(q,j,Q,se){if(Q==null)throw Error(a(151));for(var Ie=null,ot=null,Re=j,Ke=j=0,tt=null,lt=Q.next();Re!==null&&!lt.done;Ke++,lt=Q.next()){Re.index>Ke?(tt=Re,Re=null):tt=Re.sibling;var Ga=Z(q,Re,lt.value,se);if(Ga===null){Re===null&&(Re=tt);break}r&&Re&&Ga.alternate===null&&i(q,Re),j=m(Ga,j,Ke),ot===null?Ie=Ga:ot.sibling=Ga,ot=Ga,Re=tt}if(lt.done)return s(q,Re),at&&Li(q,Ke),Ie;if(Re===null){for(;!lt.done;Ke++,lt=Q.next())lt=le(q,lt.value,se),lt!==null&&(j=m(lt,j,Ke),ot===null?Ie=lt:ot.sibling=lt,ot=lt);return at&&Li(q,Ke),Ie}for(Re=u(Re);!lt.done;Ke++,lt=Q.next())lt=re(Re,q,Ke,lt.value,se),lt!==null&&(r&&lt.alternate!==null&&Re.delete(lt.key===null?Ke:lt.key),j=m(lt,j,Ke),ot===null?Ie=lt:ot.sibling=lt,ot=lt);return r&&Re.forEach(function(CC){return i(q,CC)}),at&&Li(q,Ke),Ie}function Tt(q,j,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:e:{for(var Ie=Q.key;j!==null;){if(j.key===Ie){if(Ie=Q.type,Ie===z){if(j.tag===7){s(q,j.sibling),se=h(j,Q.props.children),se.return=q,q=se;break e}}else if(j.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===w&&js(Ie)===j.type){s(q,j.sibling),se=h(j,Q.props),tu(se,Q),se.return=q,q=se;break e}s(q,j);break}else i(q,j);j=j.sibling}Q.type===z?(se=Vs(Q.props.children,q.mode,se,Q.key),se.return=q,q=se):(se=Xc(Q.type,Q.key,Q.props,null,q.mode,se),tu(se,Q),se.return=q,q=se)}return v(q);case L:e:{for(Ie=Q.key;j!==null;){if(j.key===Ie)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){s(q,j.sibling),se=h(j,Q.children||[]),se.return=q,q=se;break e}else{s(q,j);break}else i(q,j);j=j.sibling}se=tm(Q,q.mode,se),se.return=q,q=se}return v(q);case w:return Q=js(Q),Tt(q,j,Q,se)}if(Ue(Q))return we(q,j,Q,se);if(V(Q)){if(Ie=V(Q),typeof Ie!="function")throw Error(a(150));return Q=Ie.call(Q),xe(q,j,Q,se)}if(typeof Q.then=="function")return Tt(q,j,rf(Q),se);if(Q.$$typeof===K)return Tt(q,j,Zc(q,Q),se);af(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(s(q,j.sibling),se=h(j,Q),se.return=q,q=se):(s(q,j),se=em(Q,q.mode,se),se.return=q,q=se),v(q)):s(q,j)}return function(q,j,Q,se){try{eu=0;var Ie=Tt(q,j,Q,se);return Po=null,Ie}catch(Re){if(Re===Vo||Re===tf)throw Re;var ot=or(29,Re,null,q.mode);return ot.lanes=se,ot.return=q,ot}finally{}}}var Bs=W_(!0),J_=W_(!1),Ia=!1;function dm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Da(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Na(r,i,s){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Qc(r),P_(r,null,s),i}return Yc(r,u,i,s),Qc(r)}function nu(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,s|=u,i.lanes=s,M(r,s)}}function pm(r,i){var s=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var gm=!1;function ru(){if(gm){var r=Mo;if(r!==null)throw r}}function iu(r,i,s,u){gm=!1;var h=r.updateQueue;Ia=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var P=A,X=P.next;P.next=null,v===null?m=X:v.next=X,v=P;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==v&&(A===null?ae.firstBaseUpdate=X:A.next=X,ae.lastBaseUpdate=P))}if(m!==null){var le=h.baseState;v=0,ae=X=P=null,A=m;do{var Z=A.lane&-536870913,re=Z!==A.lane;if(re?(et&Z)===Z:(u&Z)===Z){Z!==0&&Z===Oo&&(gm=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var we=r,xe=A;Z=i;var Tt=s;switch(xe.tag){case 1:if(we=xe.payload,typeof we=="function"){le=we.call(Tt,le,Z);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=xe.payload,Z=typeof we=="function"?we.call(Tt,le,Z):we,Z==null)break e;le=E({},le,Z);break e;case 2:Ia=!0}}Z=A.callback,Z!==null&&(r.flags|=64,re&&(r.flags|=8192),re=h.callbacks,re===null?h.callbacks=[Z]:re.push(Z))}else re={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(X=ae=re,P=le):ae=ae.next=re,v|=Z;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;re=A,A=re.next,re.next=null,h.lastBaseUpdate=re,h.shared.pending=null}}while(!0);ae===null&&(P=le),h.baseState=P,h.firstBaseUpdate=X,h.lastBaseUpdate=ae,m===null&&(h.shared.lanes=0),Pa|=v,r.lanes=v,r.memoizedState=le}}function Z_(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function ev(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Z_(s[r],i)}var Lo=U(null),sf=U(0);function tv(r,i){r=Ki,he(sf,r),he(Lo,i),Ki=r|i.baseLanes}function ym(){he(sf,Ki),he(Lo,Lo.current)}function _m(){Ki=sf.current,ie(Lo),ie(sf)}var lr=U(null),Nr=null;function xa(r){var i=r.alternate;he(Qt,Qt.current&1),he(lr,r),Nr===null&&(i===null||Lo.current!==null||i.memoizedState!==null)&&(Nr=r)}function vm(r){he(Qt,Qt.current),he(lr,r),Nr===null&&(Nr=r)}function nv(r){r.tag===22?(he(Qt,Qt.current),he(lr,r),Nr===null&&(Nr=r)):Oa()}function Oa(){he(Qt,Qt.current),he(lr,lr.current)}function ur(r){ie(lr),Nr===r&&(Nr=null),ie(Qt)}var Qt=U(0);function of(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ap(s)||Rp(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,qe=null,vt=null,en=null,lf=!1,ko=!1,Fs=!1,uf=0,au=0,Uo=null,y1=0;function Ht(){throw Error(a(321))}function Em(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!sr(r[s],i[s]))return!1;return!0}function Tm(r,i,s,u,h,m){return ji=m,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?jv:Lm,Fs=!1,m=s(u,h),Fs=!1,ko&&(m=iv(i,s,u,h)),rv(r),m}function rv(r){W.H=lu;var i=vt!==null&&vt.next!==null;if(ji=0,en=vt=qe=null,lf=!1,au=0,Uo=null,i)throw Error(a(300));r===null||tn||(r=r.dependencies,r!==null&&Jc(r)&&(tn=!0))}function iv(r,i,s,u){qe=r;var h=0;do{if(ko&&(Uo=null),au=0,ko=!1,25<=h)throw Error(a(301));if(h+=1,en=vt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=zv,m=i(s,u)}while(ko);return m}function _1(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?su(i):i,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(qe.flags|=1024),i}function Sm(){var r=uf!==0;return uf=0,r}function bm(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function wm(r){if(lf){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lf=!1}ji=0,en=vt=qe=null,ko=!1,au=uf=0,Uo=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?qe.memoizedState=en=r:en=en.next=r,en}function Xt(){if(vt===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var i=en===null?qe.memoizedState:en.next;if(i!==null)en=i,vt=r;else{if(r===null)throw qe.alternate===null?Error(a(467)):Error(a(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},en===null?qe.memoizedState=en=r:en=en.next=r}return en}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(r){var i=au;return au+=1,Uo===null&&(Uo=[]),r=Y_(Uo,r,i),i=qe,(en===null?i.memoizedState:en.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?jv:Lm),r}function ff(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return su(r);if(r.$$typeof===K)return yn(r)}throw Error(a(438,String(r)))}function Am(r){var i=null,s=qe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=cf(),qe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),u=0;u<r;u++)s[u]=D;return i.index++,s}function zi(r,i){return typeof i=="function"?i(r):i}function hf(r){var i=Xt();return Rm(i,vt,r)}function Rm(r,i,s){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}i.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var A=v=null,P=null,X=i,ae=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(et&le)===le:(ji&le)===le){var Z=X.revertLane;if(Z===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Oo&&(ae=!0);else if((ji&Z)===Z){X=X.next,Z===Oo&&(ae=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(A=P=le,v=m):P=P.next=le,qe.lanes|=Z,Pa|=Z;le=X.action,Fs&&s(m,le),m=X.hasEagerState?X.eagerState:s(m,le)}else Z={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(A=P=Z,v=m):P=P.next=Z,qe.lanes|=le,Pa|=le;X=X.next}while(X!==null&&X!==i);if(P===null?v=m:P.next=A,!sr(m,r.memoizedState)&&(tn=!0,ae&&(s=Mo,s!==null)))throw s;r.memoizedState=m,r.baseState=v,r.baseQueue=P,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Cm(r){var i=Xt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var u=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do m=r(m,v.action),v=v.next;while(v!==h);sr(m,i.memoizedState)||(tn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,u]}function av(r,i,s){var u=qe,h=Xt(),m=at;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!sr((vt||h).memoizedState,s);if(v&&(h.memoizedState=s,tn=!0),h=h.queue,Nm(lv.bind(null,u,h,r),[r]),h.getSnapshot!==i||v||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,jo(9,{destroy:void 0},ov.bind(null,u,h,s,i),null),wt===null)throw Error(a(349));m||(ji&127)!==0||sv(u,i,s)}return s}function sv(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=qe.updateQueue,i===null?(i=cf(),qe.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function ov(r,i,s,u){i.value=s,i.getSnapshot=u,uv(i)&&cv(r)}function lv(r,i,s){return s(function(){uv(i)&&cv(r)})}function uv(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!sr(r,s)}catch{return!0}}function cv(r){var i=Ms(r,2);i!==null&&Yn(i,r,2)}function Im(r){var i=Un();if(typeof r=="function"){var s=r;if(r=s(),Fs){Vn(!0);try{s()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},i}function fv(r,i,s,u){return r.baseState=s,Rm(r,vt,typeof u=="function"?u:zi)}function v1(r,i,s,u,h){if(pf(r))throw Error(a(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};W.T!==null?s(!0):m.isTransition=!1,u(m),s=i.pending,s===null?(m.next=i.pending=m,hv(i,m)):(m.next=s.next,i.pending=s.next=m)}}function hv(r,i){var s=i.action,u=i.payload,h=r.state;if(i.isTransition){var m=W.T,v={};W.T=v;try{var A=s(h,u),P=W.S;P!==null&&P(v,A),dv(r,i,A)}catch(X){Dm(r,i,X)}finally{m!==null&&v.types!==null&&(m.types=v.types),W.T=m}}else try{m=s(h,u),dv(r,i,m)}catch(X){Dm(r,i,X)}}function dv(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){mv(r,i,u)},function(u){return Dm(r,i,u)}):mv(r,i,s)}function mv(r,i,s){i.status="fulfilled",i.value=s,pv(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,hv(r,s)))}function Dm(r,i,s){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,pv(i),i=i.next;while(i!==u)}r.action=null}function pv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function gv(r,i){return i}function yv(r,i){if(at){var s=wt.formState;if(s!==null){e:{var u=qe;if(at){if(xt){t:{for(var h=xt,m=Dr;h.nodeType!==8;){if(!m){h=null;break t}if(h=xr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){xt=xr(h.nextSibling),u=h.data==="F!";break e}}Ra(u)}u=!1}u&&(i=s[0])}}return s=Un(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:i},s.queue=u,s=Lv.bind(null,qe,u),u.dispatch=s,u=Im(!1),m=Pm.bind(null,qe,!1,u.queue),u=Un(),h={state:i,dispatch:null,action:r,pending:null},u.queue=h,s=v1.bind(null,qe,h,m,s),h.dispatch=s,u.memoizedState=r,[i,s,!1]}function _v(r){var i=Xt();return vv(i,vt,r)}function vv(r,i,s){if(i=Rm(r,i,gv)[0],r=hf(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=su(i)}catch(v){throw v===Vo?tf:v}else u=i;i=Xt();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(qe.flags|=2048,jo(9,{destroy:void 0},E1.bind(null,h,s),null)),[u,m,r]}function E1(r,i){r.action=i}function Ev(r){var i=Xt(),s=vt;if(s!==null)return vv(i,s,r);Xt(),i=i.memoizedState,s=Xt();var u=s.queue.dispatch;return s.memoizedState=r,[i,u,!1]}function jo(r,i,s,u){return r={tag:r,create:s,deps:u,inst:i,next:null},i=qe.updateQueue,i===null&&(i=cf(),qe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(u=s.next,s.next=r,r.next=u,i.lastEffect=r),r}function Tv(){return Xt().memoizedState}function df(r,i,s,u){var h=Un();qe.flags|=r,h.memoizedState=jo(1|i,{destroy:void 0},s,u===void 0?null:u)}function mf(r,i,s,u){var h=Xt();u=u===void 0?null:u;var m=h.memoizedState.inst;vt!==null&&u!==null&&Em(u,vt.memoizedState.deps)?h.memoizedState=jo(i,m,s,u):(qe.flags|=r,h.memoizedState=jo(1|i,m,s,u))}function Sv(r,i){df(8390656,8,r,i)}function Nm(r,i){mf(2048,8,r,i)}function T1(r){qe.flags|=4;var i=qe.updateQueue;if(i===null)i=cf(),qe.updateQueue=i,i.events=[r];else{var s=i.events;s===null?i.events=[r]:s.push(r)}}function bv(r){var i=Xt().memoizedState;return T1({ref:i,nextImpl:r}),function(){if((ft&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function wv(r,i){return mf(4,2,r,i)}function Av(r,i){return mf(4,4,r,i)}function Rv(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Cv(r,i,s){s=s!=null?s.concat([r]):null,mf(4,4,Rv.bind(null,i,r),s)}function xm(){}function Iv(r,i){var s=Xt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Em(i,u[1])?u[0]:(s.memoizedState=[r,i],r)}function Dv(r,i){var s=Xt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Em(i,u[1]))return u[0];if(u=r(),Fs){Vn(!0);try{r()}finally{Vn(!1)}}return s.memoizedState=[u,i],u}function Om(r,i,s){return s===void 0||(ji&1073741824)!==0&&(et&261930)===0?r.memoizedState=i:(r.memoizedState=s,r=NE(),qe.lanes|=r,Pa|=r,s)}function Nv(r,i,s,u){return sr(s,i)?s:Lo.current!==null?(r=Om(r,s,u),sr(r,i)||(tn=!0),r):(ji&42)===0||(ji&1073741824)!==0&&(et&261930)===0?(tn=!0,r.memoizedState=s):(r=NE(),qe.lanes|=r,Pa|=r,i)}function xv(r,i,s,u,h){var m=fe.p;fe.p=m!==0&&8>m?m:8;var v=W.T,A={};W.T=A,Pm(r,!1,i,s);try{var P=h(),X=W.S;if(X!==null&&X(A,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ae=g1(P,u);ou(r,i,ae,hr(r))}else ou(r,i,u,hr(r))}catch(le){ou(r,i,{then:function(){},status:"rejected",reason:le},hr())}finally{fe.p=m,v!==null&&A.types!==null&&(v.types=A.types),W.T=v}}function S1(){}function Mm(r,i,s,u){if(r.tag!==5)throw Error(a(476));var h=Ov(r).queue;xv(r,h,i,ye,s===null?S1:function(){return Mv(r),s(u)})}function Ov(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ye},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Mv(r){var i=Ov(r);i.next===null&&(i=r.alternate.memoizedState),ou(r,i.next.queue,{},hr())}function Vm(){return yn(wu)}function Vv(){return Xt().memoizedState}function Pv(){return Xt().memoizedState}function b1(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=hr();r=Da(s);var u=Na(i,r,s);u!==null&&(Yn(u,i,s),nu(u,i,s)),i={cache:um()},r.payload=i;return}i=i.return}}function w1(r,i,s){var u=hr();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pf(r)?kv(i,s):(s=Jd(r,i,s,u),s!==null&&(Yn(s,r,u),Uv(s,i,u)))}function Lv(r,i,s){var u=hr();ou(r,i,s,u)}function ou(r,i,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(pf(r))kv(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,A=m(v,s);if(h.hasEagerState=!0,h.eagerState=A,sr(A,v))return Yc(r,i,h,0),wt===null&&Kc(),!1}catch{}finally{}if(s=Jd(r,i,h,u),s!==null)return Yn(s,r,u),Uv(s,i,u),!0}return!1}function Pm(r,i,s,u){if(u={lane:2,revertLane:dp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pf(r)){if(i)throw Error(a(479))}else i=Jd(r,s,u,2),i!==null&&Yn(i,r,2)}function pf(r){var i=r.alternate;return r===qe||i!==null&&i===qe}function kv(r,i){ko=lf=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function Uv(r,i,s){if((s&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,s|=u,i.lanes=s,M(r,s)}}var lu={readContext:yn,use:ff,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};lu.useEffectEvent=Ht;var jv={readContext:yn,use:ff,useCallback:function(r,i){return Un().memoizedState=[r,i===void 0?null:i],r},useContext:yn,useEffect:Sv,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,df(4194308,4,Rv.bind(null,i,r),s)},useLayoutEffect:function(r,i){return df(4194308,4,r,i)},useInsertionEffect:function(r,i){df(4,2,r,i)},useMemo:function(r,i){var s=Un();i=i===void 0?null:i;var u=r();if(Fs){Vn(!0);try{r()}finally{Vn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(r,i,s){var u=Un();if(s!==void 0){var h=s(i);if(Fs){Vn(!0);try{s(i)}finally{Vn(!1)}}}else h=i;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=w1.bind(null,qe,r),[u.memoizedState,r]},useRef:function(r){var i=Un();return r={current:r},i.memoizedState=r},useState:function(r){r=Im(r);var i=r.queue,s=Lv.bind(null,qe,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:xm,useDeferredValue:function(r,i){var s=Un();return Om(s,r,i)},useTransition:function(){var r=Im(!1);return r=xv.bind(null,qe,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var u=qe,h=Un();if(at){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),wt===null)throw Error(a(349));(et&127)!==0||sv(u,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,Sv(lv.bind(null,u,m,r),[r]),u.flags|=2048,jo(9,{destroy:void 0},ov.bind(null,u,m,s,i),null),s},useId:function(){var r=Un(),i=wt.identifierPrefix;if(at){var s=pi,u=mi;s=(u&~(1<<32-Vt(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=uf++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=y1++,i="_"+i+"r_"+s.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Vm,useFormState:yv,useActionState:yv,useOptimistic:function(r){var i=Un();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Pm.bind(null,qe,!0,s),s.dispatch=i,[r,i]},useMemoCache:Am,useCacheRefresh:function(){return Un().memoizedState=b1.bind(null,qe)},useEffectEvent:function(r){var i=Un(),s={impl:r};return i.memoizedState=s,function(){if((ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Lm={readContext:yn,use:ff,useCallback:Iv,useContext:yn,useEffect:Nm,useImperativeHandle:Cv,useInsertionEffect:wv,useLayoutEffect:Av,useMemo:Dv,useReducer:hf,useRef:Tv,useState:function(){return hf(zi)},useDebugValue:xm,useDeferredValue:function(r,i){var s=Xt();return Nv(s,vt.memoizedState,r,i)},useTransition:function(){var r=hf(zi)[0],i=Xt().memoizedState;return[typeof r=="boolean"?r:su(r),i]},useSyncExternalStore:av,useId:Vv,useHostTransitionStatus:Vm,useFormState:_v,useActionState:_v,useOptimistic:function(r,i){var s=Xt();return fv(s,vt,r,i)},useMemoCache:Am,useCacheRefresh:Pv};Lm.useEffectEvent=bv;var zv={readContext:yn,use:ff,useCallback:Iv,useContext:yn,useEffect:Nm,useImperativeHandle:Cv,useInsertionEffect:wv,useLayoutEffect:Av,useMemo:Dv,useReducer:Cm,useRef:Tv,useState:function(){return Cm(zi)},useDebugValue:xm,useDeferredValue:function(r,i){var s=Xt();return vt===null?Om(s,r,i):Nv(s,vt.memoizedState,r,i)},useTransition:function(){var r=Cm(zi)[0],i=Xt().memoizedState;return[typeof r=="boolean"?r:su(r),i]},useSyncExternalStore:av,useId:Vv,useHostTransitionStatus:Vm,useFormState:Ev,useActionState:Ev,useOptimistic:function(r,i){var s=Xt();return vt!==null?fv(s,vt,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:Am,useCacheRefresh:Pv};zv.useEffectEvent=bv;function km(r,i,s,u){i=r.memoizedState,s=s(u,i),s=s==null?i:E({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var Um={enqueueSetState:function(r,i,s){r=r._reactInternals;var u=hr(),h=Da(u);h.payload=i,s!=null&&(h.callback=s),i=Na(r,h,u),i!==null&&(Yn(i,r,u),nu(i,r,u))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var u=hr(),h=Da(u);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Na(r,h,u),i!==null&&(Yn(i,r,u),nu(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=hr(),u=Da(s);u.tag=2,i!=null&&(u.callback=i),i=Na(r,u,s),i!==null&&(Yn(i,r,s),nu(i,r,s))}};function Bv(r,i,s,u,h,m,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,v):i.prototype&&i.prototype.isPureReactComponent?!Yl(s,u)||!Yl(h,m):!0}function Fv(r,i,s,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==r&&Um.enqueueReplaceState(i,i.state,null)}function Hs(r,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(r=r.defaultProps){s===i&&(s=E({},s));for(var h in r)s[h]===void 0&&(s[h]=r[h])}return s}function Hv(r){$c(r)}function qv(r){console.error(r)}function Gv(r){$c(r)}function gf(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function $v(r,i,s){try{var u=r.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jm(r,i,s){return s=Da(s),s.tag=3,s.payload={element:null},s.callback=function(){gf(r,i)},s}function Kv(r){return r=Da(r),r.tag=3,r}function Yv(r,i,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){$v(i,s,u)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){$v(i,s,u),typeof h!="function"&&(La===null?La=new Set([this]):La.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function A1(r,i,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&xo(i,s,h,!0),s=lr.current,s!==null){switch(s.tag){case 31:case 13:return Nr===null?If():s.alternate===null&&qt===0&&(qt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===nf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),cp(r,u,h)),!1;case 22:return s.flags|=65536,u===nf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),cp(r,u,h)),!1}throw Error(a(435,s.tag))}return cp(r,u,h),If(),!1}if(at)return i=lr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==im&&(r=Error(a(422),{cause:u}),Wl(Rr(r,s)))):(u!==im&&(i=Error(a(423),{cause:u}),Wl(Rr(i,s))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Rr(u,s),h=jm(r.stateNode,u,h),pm(r,h),qt!==4&&(qt=2)),!1;var m=Error(a(520),{cause:u});if(m=Rr(m,s),gu===null?gu=[m]:gu.push(m),qt!==4&&(qt=2),i===null)return!0;u=Rr(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=h&-h,s.lanes|=r,r=jm(s.stateNode,u,r),pm(s,r),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(La===null||!La.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Kv(h),Yv(h,r,s,u),pm(s,h),!1}s=s.return}while(s!==null);return!1}var zm=Error(a(461)),tn=!1;function _n(r,i,s,u){i.child=r===null?J_(i,null,s,u):Bs(i,r.child,s,u)}function Qv(r,i,s,u,h){s=s.render;var m=i.ref;if("ref"in u){var v={};for(var A in u)A!=="ref"&&(v[A]=u[A])}else v=u;return ks(i),u=Tm(r,i,s,v,m,h),A=Sm(),r!==null&&!tn?(bm(r,i,h),Bi(r,i,h)):(at&&A&&nm(i),i.flags|=1,_n(r,i,u,h),i.child)}function Xv(r,i,s,u,h){if(r===null){var m=s.type;return typeof m=="function"&&!Zd(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,Wv(r,i,m,u,h)):(r=Xc(s.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!Ym(r,h)){var v=m.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(v,u)&&r.ref===i.ref)return Bi(r,i,h)}return i.flags|=1,r=Pi(m,u),r.ref=i.ref,r.return=i,i.child=r}function Wv(r,i,s,u,h){if(r!==null){var m=r.memoizedProps;if(Yl(m,u)&&r.ref===i.ref)if(tn=!1,i.pendingProps=u=m,Ym(r,h))(r.flags&131072)!==0&&(tn=!0);else return i.lanes=r.lanes,Bi(r,i,h)}return Bm(r,i,s,u,h)}function Jv(r,i,s,u){var h=u.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,r!==null){for(u=i.child=r.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,i.child=null;return Zv(r,i,m,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&ef(i,m!==null?m.cachePool:null),m!==null?tv(i,m):ym(),nv(i);else return u=i.lanes=536870912,Zv(r,i,m!==null?m.baseLanes|s:s,s,u)}else m!==null?(ef(i,m.cachePool),tv(i,m),Oa(),i.memoizedState=null):(r!==null&&ef(i,null),ym(),Oa());return _n(r,i,h,s),i.child}function uu(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zv(r,i,s,u,h){var m=fm();return m=m===null?null:{parent:Zt._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},r!==null&&ef(i,null),ym(),nv(i),r!==null&&xo(r,i,u,!0),i.childLanes=h,null}function yf(r,i){return i=vf({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function eE(r,i,s){return Bs(i,r.child,null,s),r=yf(i,i.pendingProps),r.flags|=2,ur(i),i.memoizedState=null,r}function R1(r,i,s){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(at){if(u.mode==="hidden")return r=yf(i,u),i.lanes=536870912,uu(null,r);if(vm(i),(r=xt)?(r=hT(r,Dr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:wa!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=k_(r),s.return=i,i.child=s,gn=i,xt=null)):r=null,r===null)throw Ra(i);return i.lanes=536870912,null}return yf(i,u)}var m=r.memoizedState;if(m!==null){var v=m.dehydrated;if(vm(i),h)if(i.flags&256)i.flags&=-257,i=eE(r,i,s);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(tn||xo(r,i,s,!1),h=(s&r.childLanes)!==0,tn||h){if(u=wt,u!==null&&(v=F(u,s),v!==0&&v!==m.retryLane))throw m.retryLane=v,Ms(r,v),Yn(u,r,v),zm;If(),i=eE(r,i,s)}else r=m.treeContext,xt=xr(v.nextSibling),gn=i,at=!0,Aa=null,Dr=!1,r!==null&&z_(i,r),i=yf(i,u),i.flags|=4096;return i}return r=Pi(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function _f(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function Bm(r,i,s,u,h){return ks(i),s=Tm(r,i,s,u,void 0,h),u=Sm(),r!==null&&!tn?(bm(r,i,h),Bi(r,i,h)):(at&&u&&nm(i),i.flags|=1,_n(r,i,s,h),i.child)}function tE(r,i,s,u,h,m){return ks(i),i.updateQueue=null,s=iv(i,u,s,h),rv(r),u=Sm(),r!==null&&!tn?(bm(r,i,m),Bi(r,i,m)):(at&&u&&nm(i),i.flags|=1,_n(r,i,s,m),i.child)}function nE(r,i,s,u,h){if(ks(i),i.stateNode===null){var m=Co,v=s.contextType;typeof v=="object"&&v!==null&&(m=yn(v)),m=new s(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Um,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},dm(i),v=s.contextType,m.context=typeof v=="object"&&v!==null?yn(v):Co,m.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(km(i,s,v,u),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&Um.enqueueReplaceState(m,m.state,null),iu(i,u,m,h),ru(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var A=i.memoizedProps,P=Hs(s,A);m.props=P;var X=m.context,ae=s.contextType;v=Co,typeof ae=="object"&&ae!==null&&(v=yn(ae));var le=s.getDerivedStateFromProps;ae=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||X!==v)&&Fv(i,m,u,v),Ia=!1;var Z=i.memoizedState;m.state=Z,iu(i,u,m,h),ru(),X=i.memoizedState,A||Z!==X||Ia?(typeof le=="function"&&(km(i,s,le,u),X=i.memoizedState),(P=Ia||Bv(i,s,P,u,Z,X,v))?(ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=X),m.props=u,m.state=X,m.context=v,u=P):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,mm(r,i),v=i.memoizedProps,ae=Hs(s,v),m.props=ae,le=i.pendingProps,Z=m.context,X=s.contextType,P=Co,typeof X=="object"&&X!==null&&(P=yn(X)),A=s.getDerivedStateFromProps,(X=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==le||Z!==P)&&Fv(i,m,u,P),Ia=!1,Z=i.memoizedState,m.state=Z,iu(i,u,m,h),ru();var re=i.memoizedState;v!==le||Z!==re||Ia||r!==null&&r.dependencies!==null&&Jc(r.dependencies)?(typeof A=="function"&&(km(i,s,A,u),re=i.memoizedState),(ae=Ia||Bv(i,s,ae,u,Z,re,P)||r!==null&&r.dependencies!==null&&Jc(r.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,re,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,re,P)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),m.props=u,m.state=re,m.context=P,u=ae):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,_f(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=Bs(i,r.child,null,h),i.child=Bs(i,null,s,h)):_n(r,i,s,h),i.memoizedState=m.state,r=i.child):r=Bi(r,i,h),r}function rE(r,i,s,u){return Ps(),i.flags|=256,_n(r,i,s,u),i.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(r){return{baseLanes:r,cachePool:$_()}}function qm(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=fr),r}function iE(r,i,s){var u=i.pendingProps,h=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=r!==null&&r.memoizedState===null?!1:(Qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,r===null){if(at){if(h?xa(i):Oa(),(r=xt)?(r=hT(r,Dr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:wa!==null?{id:mi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=k_(r),s.return=i,i.child=s,gn=i,xt=null)):r=null,r===null)throw Ra(i);return Rp(r)?i.lanes=32:i.lanes=536870912,null}var A=u.children;return u=u.fallback,h?(Oa(),h=i.mode,A=vf({mode:"hidden",children:A},h),u=Vs(u,h,s,null),A.return=i,u.return=i,A.sibling=u,i.child=A,u=i.child,u.memoizedState=Hm(s),u.childLanes=qm(r,v,s),i.memoizedState=Fm,uu(null,u)):(xa(i),Gm(i,A))}var P=r.memoizedState;if(P!==null&&(A=P.dehydrated,A!==null)){if(m)i.flags&256?(xa(i),i.flags&=-257,i=$m(r,i,s)):i.memoizedState!==null?(Oa(),i.child=r.child,i.flags|=128,i=null):(Oa(),A=u.fallback,h=i.mode,u=vf({mode:"visible",children:u.children},h),A=Vs(A,h,s,null),A.flags|=2,u.return=i,A.return=i,u.sibling=A,i.child=u,Bs(i,r.child,null,s),u=i.child,u.memoizedState=Hm(s),u.childLanes=qm(r,v,s),i.memoizedState=Fm,i=uu(null,u));else if(xa(i),Rp(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var X=v.dgst;v=X,u=Error(a(419)),u.stack="",u.digest=v,Wl({value:u,source:null,stack:null}),i=$m(r,i,s)}else if(tn||xo(r,i,s,!1),v=(s&r.childLanes)!==0,tn||v){if(v=wt,v!==null&&(u=F(v,s),u!==0&&u!==P.retryLane))throw P.retryLane=u,Ms(r,u),Yn(v,r,u),zm;Ap(A)||If(),i=$m(r,i,s)}else Ap(A)?(i.flags|=192,i.child=r.child,i=null):(r=P.treeContext,xt=xr(A.nextSibling),gn=i,at=!0,Aa=null,Dr=!1,r!==null&&z_(i,r),i=Gm(i,u.children),i.flags|=4096);return i}return h?(Oa(),A=u.fallback,h=i.mode,P=r.child,X=P.sibling,u=Pi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,X!==null?A=Pi(X,A):(A=Vs(A,h,s,null),A.flags|=2),A.return=i,u.return=i,u.sibling=A,i.child=u,uu(null,u),u=i.child,A=r.child.memoizedState,A===null?A=Hm(s):(h=A.cachePool,h!==null?(P=Zt._currentValue,h=h.parent!==P?{parent:P,pool:P}:h):h=$_(),A={baseLanes:A.baseLanes|s,cachePool:h}),u.memoizedState=A,u.childLanes=qm(r,v,s),i.memoizedState=Fm,uu(r.child,u)):(xa(i),s=r.child,r=s.sibling,s=Pi(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=s,i.memoizedState=null,s)}function Gm(r,i){return i=vf({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function vf(r,i){return r=or(22,r,null,i),r.lanes=0,r}function $m(r,i,s){return Bs(i,r.child,null,s),r=Gm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function aE(r,i,s){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),om(r.return,i,s)}function Km(r,i,s,u,h,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=s,v.tailMode=h,v.treeForkCount=m)}function sE(r,i,s){var u=i.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var v=Qt.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,he(Qt,v),_n(r,i,u,s),u=at?Xl:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&aE(r,s,i);else if(r.tag===19)aE(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)r=s.alternate,r!==null&&of(r)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Km(i,!1,h,s,m,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&of(r)===null){i.child=h;break}r=h.sibling,h.sibling=s,s=h,h=r}Km(i,!0,s,null,m,u);break;case"together":Km(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Bi(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),Pa|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(xo(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=Pi(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=Pi(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function Ym(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Jc(r)))}function C1(r,i,s){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),Ca(i,Zt,r.memoizedState.cache),Ps();break;case 27:case 5:Ii(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:Ca(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,vm(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(xa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?iE(r,i,s):(xa(i),r=Bi(r,i,s),r!==null?r.sibling:null);xa(i);break;case 19:var h=(r.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(xo(r,i,s,!1),u=(s&i.childLanes)!==0),h){if(u)return sE(r,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(Qt,Qt.current),u)break;return null;case 22:return i.lanes=0,Jv(r,i,s,i.pendingProps);case 24:Ca(i,Zt,r.memoizedState.cache)}return Bi(r,i,s)}function oE(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)tn=!0;else{if(!Ym(r,s)&&(i.flags&128)===0)return tn=!1,C1(r,i,s);tn=(r.flags&131072)!==0}else tn=!1,at&&(i.flags&1048576)!==0&&j_(i,Xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=js(i.elementType),i.type=r,typeof r=="function")Zd(r)?(u=Hs(r,u),i.tag=1,i=nE(null,i,r,u,s)):(i.tag=0,i=Bm(null,i,r,u,s));else{if(r!=null){var h=r.$$typeof;if(h===ee){i.tag=11,i=Qv(null,i,r,u,s);break e}else if(h===S){i.tag=14,i=Xv(null,i,r,u,s);break e}}throw i=Oe(r)||r,Error(a(306,i,""))}}return i;case 0:return Bm(r,i,i.type,i.pendingProps,s);case 1:return u=i.type,h=Hs(u,i.pendingProps),nE(r,i,u,h,s);case 3:e:{if(St(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;h=m.element,mm(r,i),iu(i,u,null,s);var v=i.memoizedState;if(u=v.cache,Ca(i,Zt,u),u!==m.cache&&lm(i,[Zt],s,!0),ru(),u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=rE(r,i,u,s);break e}else if(u!==h){h=Rr(Error(a(424)),i),Wl(h),i=rE(r,i,u,s);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(xt=xr(r.firstChild),gn=i,at=!0,Aa=null,Dr=!0,s=J_(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ps(),u===h){i=Bi(r,i,s);break e}_n(r,i,u,s)}i=i.child}return i;case 26:return _f(r,i),r===null?(s=_T(i.type,null,i.pendingProps,null))?i.memoizedState=s:at||(s=i.type,r=i.pendingProps,u=Pf(Ne.current).createElement(s),u[me]=i,u[ge]=r,vn(u,s,r),It(u),i.stateNode=u):i.memoizedState=_T(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ii(i),r===null&&at&&(u=i.stateNode=pT(i.type,i.pendingProps,Ne.current),gn=i,Dr=!0,h=xt,za(i.type)?(Cp=h,xt=xr(u.firstChild)):xt=h),_n(r,i,i.pendingProps.children,s),_f(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&at&&((h=u=xt)&&(u=rC(u,i.type,i.pendingProps,Dr),u!==null?(i.stateNode=u,gn=i,xt=xr(u.firstChild),Dr=!1,h=!0):h=!1),h||Ra(i)),Ii(i),h=i.type,m=i.pendingProps,v=r!==null?r.memoizedProps:null,u=m.children,Sp(h,m)?u=null:v!==null&&Sp(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Tm(r,i,_1,null,null,s),wu._currentValue=h),_f(r,i),_n(r,i,u,s),i.child;case 6:return r===null&&at&&((r=s=xt)&&(s=iC(s,i.pendingProps,Dr),s!==null?(i.stateNode=s,gn=i,xt=null,r=!0):r=!1),r||Ra(i)),null;case 13:return iE(r,i,s);case 4:return St(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Bs(i,null,u,s):_n(r,i,u,s),i.child;case 11:return Qv(r,i,i.type,i.pendingProps,s);case 7:return _n(r,i,i.pendingProps,s),i.child;case 8:return _n(r,i,i.pendingProps.children,s),i.child;case 12:return _n(r,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Ca(i,i.type,u.value),_n(r,i,u.children,s),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,ks(i),h=yn(h),u=u(h),i.flags|=1,_n(r,i,u,s),i.child;case 14:return Xv(r,i,i.type,i.pendingProps,s);case 15:return Wv(r,i,i.type,i.pendingProps,s);case 19:return sE(r,i,s);case 31:return R1(r,i,s);case 22:return Jv(r,i,s,i.pendingProps);case 24:return ks(i),u=yn(Zt),r===null?(h=fm(),h===null&&(h=wt,m=um(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:u,cache:h},dm(i),Ca(i,Zt,h)):((r.lanes&s)!==0&&(mm(r,i),iu(i,null,null,s),ru()),h=r.memoizedState,m=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ca(i,Zt,u)):(u=m.cache,Ca(i,Zt,u),u!==h.cache&&lm(i,[Zt],s,!0))),_n(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Fi(r){r.flags|=4}function Qm(r,i,s,u,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(VE())r.flags|=8192;else throw zs=nf,hm}else r.flags&=-16777217}function lE(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!bT(i))if(VE())r.flags|=8192;else throw zs=nf,hm}function Ef(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ni():536870912,r.lanes|=i,Ho|=i)}function cu(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Ot(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,u=0;if(i)for(var h=r.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=s,i}function I1(r,i,s){var u=i.pendingProps;switch(rm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return s=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ui(Zt),At(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(No(i)?Fi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,am())),Ot(i),null;case 26:var h=i.type,m=i.memoizedState;return r===null?(Fi(i),m!==null?(Ot(i),lE(i,m)):(Ot(i),Qm(i,h,null,u,s))):m?m!==r.memoizedState?(Fi(i),Ot(i),lE(i,m)):(Ot(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Fi(i),Ot(i),Qm(i,h,r,u,s)),null;case 27:if(fa(i),s=Ne.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Fi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}r=_e.current,No(i)?B_(i):(r=pT(h,u,s),i.stateNode=r,Fi(i))}return Ot(i),null;case 5:if(fa(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Fi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Ot(i),null}if(m=_e.current,No(i))B_(i);else{var v=Pf(Ne.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?v.createElement(h,{is:u.is}):v.createElement(h)}}m[me]=i,m[ge]=u;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=m;e:switch(vn(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fi(i)}}return Ot(i),Qm(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,s),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Fi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=Ne.current,No(i)){if(r=i.stateNode,s=i.memoizedProps,u=null,h=gn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[me]=i,r=!!(r.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||iT(r.nodeValue,s)),r||Ra(i,!0)}else r=Pf(r).createTextNode(u),r[me]=i,i.stateNode=r}return Ot(i),null;case 31:if(s=i.memoizedState,r===null||r.memoizedState!==null){if(u=No(i),s!==null){if(r===null){if(!u)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[me]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),r=!1}else s=am(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=s),r=!0;if(!r)return i.flags&256?(ur(i),i):(ur(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Ot(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=No(i),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),h=!1}else h=am(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ur(i),i):(ur(i),null)}return ur(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,r=r!==null&&r.memoizedState!==null,s&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),s!==r&&s&&(i.child.flags|=8192),Ef(i,i.updateQueue),Ot(i),null);case 4:return At(),r===null&&yp(i.stateNode.containerInfo),Ot(i),null;case 10:return Ui(i.type),Ot(i),null;case 19:if(ie(Qt),u=i.memoizedState,u===null)return Ot(i),null;if(h=(i.flags&128)!==0,m=u.rendering,m===null)if(h)cu(u,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=of(r),m!==null){for(i.flags|=128,cu(u,!1),r=m.updateQueue,i.updateQueue=r,Ef(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)L_(s,r),s=s.sibling;return he(Qt,Qt.current&1|2),at&&Li(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&zt()>Af&&(i.flags|=128,h=!0,cu(u,!1),i.lanes=4194304)}else{if(!h)if(r=of(m),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Ef(i,r),cu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!at)return Ot(i),null}else 2*zt()-u.renderingStartTime>Af&&s!==536870912&&(i.flags|=128,h=!0,cu(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(r=u.last,r!==null?r.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=zt(),r.sibling=null,s=Qt.current,he(Qt,h?s&1|2:s&1),at&&Li(i,u.treeForkCount),r):(Ot(i),null);case 22:case 23:return ur(i),_m(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),s=i.updateQueue,s!==null&&Ef(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),r!==null&&ie(Us),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ui(Zt),Ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function D1(r,i){switch(rm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ui(Zt),At(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(ur(i),i.alternate===null)throw Error(a(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(ur(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ie(Qt),null;case 4:return At(),null;case 10:return Ui(i.type),null;case 22:case 23:return ur(i),_m(),r!==null&&ie(Us),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ui(Zt),null;case 25:return null;default:return null}}function uE(r,i){switch(rm(i),i.tag){case 3:Ui(Zt),At();break;case 26:case 27:case 5:fa(i);break;case 4:At();break;case 31:i.memoizedState!==null&&ur(i);break;case 13:ur(i);break;case 19:ie(Qt);break;case 10:Ui(i.type);break;case 22:case 23:ur(i),_m(),r!==null&&ie(Us);break;case 24:Ui(Zt)}}function fu(r,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&r)===r){u=void 0;var m=s.create,v=s.inst;u=m(),v.destroy=u}s=s.next}while(s!==h)}}catch(A){mt(i,i.return,A)}}function Ma(r,i,s){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var v=u.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var P=s,X=A;try{X()}catch(ae){mt(h,P,ae)}}}u=u.next}while(u!==m)}}catch(ae){mt(i,i.return,ae)}}function cE(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{ev(i,s)}catch(u){mt(r,r.return,u)}}}function fE(r,i,s){s.props=Hs(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(u){mt(r,i,u)}}function hu(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof s=="function"?r.refCleanup=s(u):s.current=u}}catch(h){mt(r,i,h)}}function gi(r,i){var s=r.ref,u=r.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){mt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){mt(r,i,h)}else s.current=null}function hE(r){var i=r.type,s=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){mt(r,r.return,h)}}function Xm(r,i,s){try{var u=r.stateNode;W1(u,r.type,s,i),u[ge]=i}catch(h){mt(r,r.return,h)}}function dE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&za(r.type)||r.tag===4}function Wm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&za(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Jm(r,i,s){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=zr));else if(u!==4&&(u===27&&za(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(Jm(r,i,s),r=r.sibling;r!==null;)Jm(r,i,s),r=r.sibling}function Tf(r,i,s){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(u!==4&&(u===27&&za(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(Tf(r,i,s),r=r.sibling;r!==null;)Tf(r,i,s),r=r.sibling}function mE(r){var i=r.stateNode,s=r.memoizedProps;try{for(var u=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);vn(i,u,s),i[me]=r,i[ge]=s}catch(m){mt(r,r.return,m)}}var Hi=!1,nn=!1,Zm=!1,pE=typeof WeakSet=="function"?WeakSet:Set,dn=null;function N1(r,i){if(r=r.containerInfo,Ep=Ff,r=C_(r),$d(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var v=0,A=-1,P=-1,X=0,ae=0,le=r,Z=null;t:for(;;){for(var re;le!==s||h!==0&&le.nodeType!==3||(A=v+h),le!==m||u!==0&&le.nodeType!==3||(P=v+u),le.nodeType===3&&(v+=le.nodeValue.length),(re=le.firstChild)!==null;)Z=le,le=re;for(;;){if(le===r)break t;if(Z===s&&++X===h&&(A=v),Z===m&&++ae===u&&(P=v),(re=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=re}s=A===-1||P===-1?null:{start:A,end:P}}else s=null}s=s||{start:0,end:0}}else s=null;for(Tp={focusedElem:r,selectionRange:s},Ff=!1,dn=i;dn!==null;)if(i=dn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,dn=r;else for(;dn!==null;){switch(i=dn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(s=0;s<r.length;s++)h=r[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var we=Hs(s.type,h);r=u.getSnapshotBeforeUpdate(we,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(xe){mt(s,s.return,xe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)wp(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,dn=r;break}dn=i.return}}function gE(r,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(r,s),u&4&&fu(5,s);break;case 1:if(Gi(r,s),u&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(v){mt(s,s.return,v)}else{var h=Hs(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(v){mt(s,s.return,v)}}u&64&&cE(s),u&512&&hu(s,s.return);break;case 3:if(Gi(r,s),u&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ev(r,i)}catch(v){mt(s,s.return,v)}}break;case 27:i===null&&u&4&&mE(s);case 26:case 5:Gi(r,s),i===null&&u&4&&hE(s),u&512&&hu(s,s.return);break;case 12:Gi(r,s);break;case 31:Gi(r,s),u&4&&vE(r,s);break;case 13:Gi(r,s),u&4&&EE(r,s),u&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=j1.bind(null,s),aC(r,s))));break;case 22:if(u=s.memoizedState!==null||Hi,!u){i=i!==null&&i.memoizedState!==null||nn,h=Hi;var m=nn;Hi=u,(nn=i)&&!m?$i(r,s,(s.subtreeFlags&8772)!==0):Gi(r,s),Hi=h,nn=m}break;case 30:break;default:Gi(r,s)}}function yE(r){var i=r.alternate;i!==null&&(r.alternate=null,yE(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Nt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,qn=!1;function qi(r,i,s){for(s=s.child;s!==null;)_E(r,i,s),s=s.sibling}function _E(r,i,s){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(tr,s)}catch{}switch(s.tag){case 26:nn||gi(s,i),qi(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:nn||gi(s,i);var u=kt,h=qn;za(s.type)&&(kt=s.stateNode,qn=!1),qi(r,i,s),Tu(s.stateNode),kt=u,qn=h;break;case 5:nn||gi(s,i);case 6:if(u=kt,h=qn,kt=null,qi(r,i,s),kt=u,qn=h,kt!==null)if(qn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(s.stateNode)}catch(m){mt(s,i,m)}else try{kt.removeChild(s.stateNode)}catch(m){mt(s,i,m)}break;case 18:kt!==null&&(qn?(r=kt,cT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),Wo(r)):cT(kt,s.stateNode));break;case 4:u=kt,h=qn,kt=s.stateNode.containerInfo,qn=!0,qi(r,i,s),kt=u,qn=h;break;case 0:case 11:case 14:case 15:Ma(2,s,i),nn||Ma(4,s,i),qi(r,i,s);break;case 1:nn||(gi(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&fE(s,i,u)),qi(r,i,s);break;case 21:qi(r,i,s);break;case 22:nn=(u=nn)||s.memoizedState!==null,qi(r,i,s),nn=u;break;default:qi(r,i,s)}}function vE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Wo(r)}catch(s){mt(i,i.return,s)}}}function EE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wo(r)}catch(s){mt(i,i.return,s)}}function x1(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new pE),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new pE),i;default:throw Error(a(435,r.tag))}}function Sf(r,i){var s=x1(r);i.forEach(function(u){if(!s.has(u)){s.add(u);var h=z1.bind(null,r,u);u.then(h,h)}})}function Gn(r,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],m=r,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(za(A.type)){kt=A.stateNode,qn=!1;break e}break;case 5:kt=A.stateNode,qn=!1;break e;case 3:case 4:kt=A.stateNode.containerInfo,qn=!0;break e}A=A.return}if(kt===null)throw Error(a(160));_E(m,v,h),kt=null,qn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)TE(i,r),i=i.sibling}var $r=null;function TE(r,i){var s=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(i,r),$n(r),u&4&&(Ma(3,r,r.return),fu(3,r),Ma(5,r,r.return));break;case 1:Gn(i,r),$n(r),u&512&&(nn||s===null||gi(s,s.return)),u&64&&Hi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=$r;if(Gn(i,r),$n(r),u&512&&(nn||s===null||gi(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=r.memoizedState,s===null)if(u===null)if(r.stateNode===null){e:{u=r.type,s=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[gt]||m[me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),vn(m,u,s),m[me]=r,It(m),u=m;break e;case"link":var v=TT("link","href",h).get(u+(s.href||""));if(v){for(var A=0;A<v.length;A++)if(m=v[A],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(A,1);break t}}m=h.createElement(u),vn(m,u,s),h.head.appendChild(m);break;case"meta":if(v=TT("meta","content",h).get(u+(s.content||""))){for(A=0;A<v.length;A++)if(m=v[A],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(A,1);break t}}m=h.createElement(u),vn(m,u,s),h.head.appendChild(m);break;default:throw Error(a(468,u))}m[me]=r,It(m),u=m}r.stateNode=u}else ST(h,r.type,r.stateNode);else r.stateNode=ET(h,u,r.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?ST(h,r.type,r.stateNode):ET(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Xm(r,r.memoizedProps,s.memoizedProps)}break;case 27:Gn(i,r),$n(r),u&512&&(nn||s===null||gi(s,s.return)),s!==null&&u&4&&Xm(r,r.memoizedProps,s.memoizedProps);break;case 5:if(Gn(i,r),$n(r),u&512&&(nn||s===null||gi(s,s.return)),r.flags&32){h=r.stateNode;try{Hn(h,"")}catch(we){mt(r,r.return,we)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Xm(r,h,s!==null?s.memoizedProps:h)),u&1024&&(Zm=!0);break;case 6:if(Gn(i,r),$n(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,s=r.stateNode;try{s.nodeValue=u}catch(we){mt(r,r.return,we)}}break;case 3:if(Uf=null,h=$r,$r=Lf(i.containerInfo),Gn(i,r),$r=h,$n(r),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Wo(i.containerInfo)}catch(we){mt(r,r.return,we)}Zm&&(Zm=!1,SE(r));break;case 4:u=$r,$r=Lf(r.stateNode.containerInfo),Gn(i,r),$n(r),$r=u;break;case 12:Gn(i,r),$n(r);break;case 31:Gn(i,r),$n(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Sf(r,u)));break;case 13:Gn(i,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(wf=zt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Sf(r,u)));break;case 22:h=r.memoizedState!==null;var P=s!==null&&s.memoizedState!==null,X=Hi,ae=nn;if(Hi=X||h,nn=ae||P,Gn(i,r),nn=ae,Hi=X,$n(r),u&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||P||Hi||nn||qs(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){P=s=i;try{if(m=P.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=P.stateNode;var le=P.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(we){mt(P,P.return,we)}}}else if(i.tag===6){if(s===null){P=i;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(we){mt(P,P.return,we)}}}else if(i.tag===18){if(s===null){P=i;try{var re=P.stateNode;h?fT(re,!0):fT(P.stateNode,!1)}catch(we){mt(P,P.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Sf(r,s))));break;case 19:Gn(i,r),$n(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Sf(r,u)));break;case 30:break;case 21:break;default:Gn(i,r),$n(r)}}function $n(r){var i=r.flags;if(i&2){try{for(var s,u=r.return;u!==null;){if(dE(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=Wm(r);Tf(r,m,h);break;case 5:var v=s.stateNode;s.flags&32&&(Hn(v,""),s.flags&=-33);var A=Wm(r);Tf(r,A,v);break;case 3:case 4:var P=s.stateNode.containerInfo,X=Wm(r);Jm(r,X,P);break;default:throw Error(a(161))}}catch(ae){mt(r,r.return,ae)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function SE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;SE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Gi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gE(r,i.alternate,i),i=i.sibling}function qs(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ma(4,i,i.return),qs(i);break;case 1:gi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&fE(i,i.return,s),qs(i);break;case 27:Tu(i.stateNode);case 26:case 5:gi(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}r=r.sibling}}function $i(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=r,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:$i(h,m,s),fu(4,m);break;case 1:if($i(h,m,s),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){mt(u,u.return,X)}if(u=m,h=u.updateQueue,h!==null){var A=u.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)Z_(P[h],A)}catch(X){mt(u,u.return,X)}}s&&v&64&&cE(m),hu(m,m.return);break;case 27:mE(m);case 26:case 5:$i(h,m,s),s&&u===null&&v&4&&hE(m),hu(m,m.return);break;case 12:$i(h,m,s);break;case 31:$i(h,m,s),s&&v&4&&vE(h,m);break;case 13:$i(h,m,s),s&&v&4&&EE(h,m);break;case 22:m.memoizedState===null&&$i(h,m,s),hu(m,m.return);break;case 30:break;default:$i(h,m,s)}i=i.sibling}}function ep(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&Jl(s))}function tp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Jl(r))}function Kr(r,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bE(r,i,s,u),i=i.sibling}function bE(r,i,s,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kr(r,i,s,u),h&2048&&fu(9,i);break;case 1:Kr(r,i,s,u);break;case 3:Kr(r,i,s,u),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Jl(r)));break;case 12:if(h&2048){Kr(r,i,s,u),r=i.stateNode;try{var m=i.memoizedProps,v=m.id,A=m.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(P){mt(i,i.return,P)}}else Kr(r,i,s,u);break;case 31:Kr(r,i,s,u);break;case 13:Kr(r,i,s,u);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?Kr(r,i,s,u):du(r,i):m._visibility&2?Kr(r,i,s,u):(m._visibility|=2,zo(r,i,s,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ep(v,i);break;case 24:Kr(r,i,s,u),h&2048&&tp(i.alternate,i);break;default:Kr(r,i,s,u)}}function zo(r,i,s,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,v=i,A=s,P=u,X=v.flags;switch(v.tag){case 0:case 11:case 15:zo(m,v,A,P,h),fu(8,v);break;case 23:break;case 22:var ae=v.stateNode;v.memoizedState!==null?ae._visibility&2?zo(m,v,A,P,h):du(m,v):(ae._visibility|=2,zo(m,v,A,P,h)),h&&X&2048&&ep(v.alternate,v);break;case 24:zo(m,v,A,P,h),h&&X&2048&&tp(v.alternate,v);break;default:zo(m,v,A,P,h)}i=i.sibling}}function du(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,u=i,h=u.flags;switch(u.tag){case 22:du(s,u),h&2048&&ep(u.alternate,u);break;case 24:du(s,u),h&2048&&tp(u.alternate,u);break;default:du(s,u)}i=i.sibling}}var mu=8192;function Bo(r,i,s){if(r.subtreeFlags&mu)for(r=r.child;r!==null;)wE(r,i,s),r=r.sibling}function wE(r,i,s){switch(r.tag){case 26:Bo(r,i,s),r.flags&mu&&r.memoizedState!==null&&yC(s,$r,r.memoizedState,r.memoizedProps);break;case 5:Bo(r,i,s);break;case 3:case 4:var u=$r;$r=Lf(r.stateNode.containerInfo),Bo(r,i,s),$r=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=mu,mu=16777216,Bo(r,i,s),mu=u):Bo(r,i,s));break;default:Bo(r,i,s)}}function AE(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function pu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];dn=u,CE(u,r)}AE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)RE(r),r=r.sibling}function RE(r){switch(r.tag){case 0:case 11:case 15:pu(r),r.flags&2048&&Ma(9,r,r.return);break;case 3:pu(r);break;case 12:pu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,bf(r)):pu(r);break;default:pu(r)}}function bf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];dn=u,CE(u,r)}AE(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ma(8,i,i.return),bf(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,bf(i));break;default:bf(i)}r=r.sibling}}function CE(r,i){for(;dn!==null;){var s=dn;switch(s.tag){case 0:case 11:case 15:Ma(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,dn=u;else e:for(s=r;dn!==null;){u=dn;var h=u.sibling,m=u.return;if(yE(u),u===s){dn=null;break e}if(h!==null){h.return=m,dn=h;break e}dn=m}}}var O1={getCacheForType:function(r){var i=yn(Zt),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s},cacheSignal:function(){return yn(Zt).controller.signal}},M1=typeof WeakMap=="function"?WeakMap:Map,ft=0,wt=null,Je=null,et=0,dt=0,cr=null,Va=!1,Fo=!1,np=!1,Ki=0,qt=0,Pa=0,Gs=0,rp=0,fr=0,Ho=0,gu=null,Kn=null,ip=!1,wf=0,IE=0,Af=1/0,Rf=null,La=null,on=0,ka=null,qo=null,Yi=0,ap=0,sp=null,DE=null,yu=0,op=null;function hr(){return(ft&2)!==0&&et!==0?et&-et:W.T!==null?dp():de()}function NE(){if(fr===0)if((et&536870912)===0||at){var r=ri;ri<<=1,(ri&3932160)===0&&(ri=262144),fr=r}else fr=536870912;return r=lr.current,r!==null&&(r.flags|=32),fr}function Yn(r,i,s){(r===wt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(Go(r,0),Ua(r,et,fr,!1)),ii(r,s),((ft&2)===0||r!==wt)&&(r===wt&&((ft&2)===0&&(Gs|=s),qt===4&&Ua(r,et,fr,!1)),yi(r))}function xE(r,i,s){if((ft&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&r.expiredLanes)===0||rr(r,i),h=u?L1(r,i):up(r,i,!0),m=u;do{if(h===0){Fo&&!u&&Ua(r,i,0,!1);break}else{if(s=r.current.alternate,m&&!V1(s)){h=up(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=r;h=gu;var P=A.current.memoizedState.isDehydrated;if(P&&(Go(A,v).flags|=256),v=up(A,v,!1),v!==2){if(np&&!P){A.errorRecoveryDisabledLanes|=m,Gs|=m,h=4;break e}m=Kn,Kn=h,m!==null&&(Kn===null?Kn=m:Kn.push.apply(Kn,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){Go(r,0),Ua(r,i,0,!0);break}e:{switch(u=r,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ua(u,i,fr,!Va);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=wf+300-zt(),10<h)){if(Ua(u,i,fr,!Va),nr(u,0,!0)!==0)break e;Yi=i,u.timeoutHandle=lT(OE.bind(null,u,s,Kn,Rf,ip,i,fr,Gs,Ho,Va,m,"Throttled",-0,0),h);break e}OE(u,s,Kn,Rf,ip,i,fr,Gs,Ho,Va,m,null,-0,0)}}break}while(!0);yi(r)}function OE(r,i,s,u,h,m,v,A,P,X,ae,le,Z,re){if(r.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zr},wE(i,m,le);var we=(m&62914560)===m?wf-zt():(m&4194048)===m?IE-zt():0;if(we=_C(le,we),we!==null){Yi=m,r.cancelPendingCommit=we(zE.bind(null,r,i,m,s,u,h,v,A,P,ae,le,null,Z,re)),Ua(r,m,v,!X);return}}zE(r,i,m,s,u,h,v,A,P)}function V1(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],m=h.getSnapshot;h=h.value;try{if(!sr(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ua(r,i,s,u){i&=~rp,i&=~Gs,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var h=i;0<h;){var m=31-Vt(h),v=1<<m;u[m]=-1,h&=~v}s!==0&&xi(r,s,i)}function Cf(){return(ft&6)===0?(_u(0),!1):!0}function lp(){if(Je!==null){if(dt===0)var r=Je.return;else r=Je,ki=Ls=null,wm(r),Po=null,eu=0,r=Je;for(;r!==null;)uE(r.alternate,r),r=r.return;Je=null}}function Go(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,eC(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Yi=0,lp(),wt=r,Je=s=Pi(r.current,null),et=i,dt=0,cr=null,Va=!1,Fo=rr(r,i),np=!1,Ho=fr=rp=Gs=Pa=qt=0,Kn=gu=null,ip=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var h=31-Vt(u),m=1<<h;i|=r[h],u&=~m}return Ki=i,Kc(),s}function ME(r,i){qe=null,W.H=lu,i===Vo||i===tf?(i=Q_(),dt=3):i===hm?(i=Q_(),dt=4):dt=i===zm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cr=i,Je===null&&(qt=1,gf(r,Rr(i,r.current)))}function VE(){var r=lr.current;return r===null?!0:(et&4194048)===et?Nr===null:(et&62914560)===et||(et&536870912)!==0?r===Nr:!1}function PE(){var r=W.H;return W.H=lu,r===null?lu:r}function LE(){var r=W.A;return W.A=O1,r}function If(){qt=4,Va||(et&4194048)!==et&&lr.current!==null||(Fo=!0),(Pa&134217727)===0&&(Gs&134217727)===0||wt===null||Ua(wt,et,fr,!1)}function up(r,i,s){var u=ft;ft|=2;var h=PE(),m=LE();(wt!==r||et!==i)&&(Rf=null,Go(r,i)),i=!1;var v=qt;e:do try{if(dt!==0&&Je!==null){var A=Je,P=cr;switch(dt){case 8:lp(),v=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(i=!0);var X=dt;if(dt=0,cr=null,$o(r,A,P,X),s&&Fo){v=0;break e}break;default:X=dt,dt=0,cr=null,$o(r,A,P,X)}}P1(),v=qt;break}catch(ae){ME(r,ae)}while(!0);return i&&r.shellSuspendCounter++,ki=Ls=null,ft=u,W.H=h,W.A=m,Je===null&&(wt=null,et=0,Kc()),v}function P1(){for(;Je!==null;)kE(Je)}function L1(r,i){var s=ft;ft|=2;var u=PE(),h=LE();wt!==r||et!==i?(Rf=null,Af=zt()+500,Go(r,i)):Fo=rr(r,i);e:do try{if(dt!==0&&Je!==null){i=Je;var m=cr;t:switch(dt){case 1:dt=0,cr=null,$o(r,i,m,1);break;case 2:case 9:if(K_(m)){dt=0,cr=null,UE(i);break}i=function(){dt!==2&&dt!==9||wt!==r||(dt=7),yi(r)},m.then(i,i);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:K_(m)?(dt=0,cr=null,UE(i)):(dt=0,cr=null,$o(r,i,m,7));break;case 5:var v=null;switch(Je.tag){case 26:v=Je.memoizedState;case 5:case 27:var A=Je;if(v?bT(v):A.stateNode.complete){dt=0,cr=null;var P=A.sibling;if(P!==null)Je=P;else{var X=A.return;X!==null?(Je=X,Df(X)):Je=null}break t}}dt=0,cr=null,$o(r,i,m,5);break;case 6:dt=0,cr=null,$o(r,i,m,6);break;case 8:lp(),qt=6;break e;default:throw Error(a(462))}}k1();break}catch(ae){ME(r,ae)}while(!0);return ki=Ls=null,W.H=u,W.A=h,ft=s,Je!==null?0:(wt=null,et=0,Kc(),qt)}function k1(){for(;Je!==null&&!Pl();)kE(Je)}function kE(r){var i=oE(r.alternate,r,Ki);r.memoizedProps=r.pendingProps,i===null?Df(r):Je=i}function UE(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=tE(s,i,i.pendingProps,i.type,void 0,et);break;case 11:i=tE(s,i,i.pendingProps,i.type.render,i.ref,et);break;case 5:wm(i);default:uE(s,i),i=Je=L_(i,Ki),i=oE(s,i,Ki)}r.memoizedProps=r.pendingProps,i===null?Df(r):Je=i}function $o(r,i,s,u){ki=Ls=null,wm(i),Po=null,eu=0;var h=i.return;try{if(A1(r,h,i,s,et)){qt=1,gf(r,Rr(s,r.current)),Je=null;return}}catch(m){if(h!==null)throw Je=h,m;qt=1,gf(r,Rr(s,r.current)),Je=null;return}i.flags&32768?(at||u===1?r=!0:Fo||(et&536870912)!==0?r=!1:(Va=r=!0,(u===2||u===9||u===3||u===6)&&(u=lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),jE(i,r)):Df(i)}function Df(r){var i=r;do{if((i.flags&32768)!==0){jE(i,Va);return}r=i.return;var s=I1(i.alternate,i,Ki);if(s!==null){Je=s;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=r}while(i!==null);qt===0&&(qt=5)}function jE(r,i){do{var s=D1(r.alternate,r);if(s!==null){s.flags&=32767,Je=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){Je=r;return}Je=r=s}while(r!==null);qt=6,Je=null}function zE(r,i,s,u,h,m,v,A,P){r.cancelPendingCommit=null;do Nf();while(on!==0);if((ft&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Wd,Ll(r,s,m,v,A,P),r===wt&&(Je=wt=null,et=0),qo=i,ka=r,Yi=s,ap=m,sp=h,DE=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,B1(fn,function(){return GE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=fe.p,fe.p=2,v=ft,ft|=4;try{N1(r,i,s)}finally{ft=v,fe.p=h,W.T=u}}on=1,BE(),FE(),HE()}}function BE(){if(on===1){on=0;var r=ka,i=qo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var u=fe.p;fe.p=2;var h=ft;ft|=4;try{TE(i,r);var m=Tp,v=C_(r.containerInfo),A=m.focusedElem,P=m.selectionRange;if(v!==A&&A&&A.ownerDocument&&R_(A.ownerDocument.documentElement,A)){if(P!==null&&$d(A)){var X=P.start,ae=P.end;if(ae===void 0&&(ae=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ae,A.value.length);else{var le=A.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var re=Z.getSelection(),we=A.textContent.length,xe=Math.min(P.start,we),Tt=P.end===void 0?xe:Math.min(P.end,we);!re.extend&&xe>Tt&&(v=Tt,Tt=xe,xe=v);var q=A_(A,xe),j=A_(A,Tt);if(q&&j&&(re.rangeCount!==1||re.anchorNode!==q.node||re.anchorOffset!==q.offset||re.focusNode!==j.node||re.focusOffset!==j.offset)){var Q=le.createRange();Q.setStart(q.node,q.offset),re.removeAllRanges(),xe>Tt?(re.addRange(Q),re.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),re.addRange(Q))}}}}for(le=[],re=A;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var se=le[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Ff=!!Ep,Tp=Ep=null}finally{ft=h,fe.p=u,W.T=s}}r.current=i,on=2}}function FE(){if(on===2){on=0;var r=ka,i=qo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var u=fe.p;fe.p=2;var h=ft;ft|=4;try{gE(r,i.alternate,i)}finally{ft=h,fe.p=u,W.T=s}}on=3}}function HE(){if(on===4||on===3){on=0,fo();var r=ka,i=qo,s=Yi,u=DE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,qo=ka=null,qE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(La=null),ce(s),i=i.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(tr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,h=fe.p,fe.p=2,W.T=null;try{for(var m=r.onRecoverableError,v=0;v<u.length;v++){var A=u[v];m(A.value,{componentStack:A.stack})}}finally{W.T=i,fe.p=h}}(Yi&3)!==0&&Nf(),yi(r),h=r.pendingLanes,(s&261930)!==0&&(h&42)!==0?r===op?yu++:(yu=0,op=r):yu=0,_u(0)}}function qE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Jl(i)))}function Nf(){return BE(),FE(),HE(),GE()}function GE(){if(on!==5)return!1;var r=ka,i=ap;ap=0;var s=ce(Yi),u=W.T,h=fe.p;try{fe.p=32>s?32:s,W.T=null,s=sp,sp=null;var m=ka,v=Yi;if(on=0,qo=ka=null,Yi=0,(ft&6)!==0)throw Error(a(331));var A=ft;if(ft|=4,RE(m.current),bE(m,m.current,v,s),ft=A,_u(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(tr,m)}catch{}return!0}finally{fe.p=h,W.T=u,qE(r,i)}}function $E(r,i,s){i=Rr(s,i),i=jm(r.stateNode,i,2),r=Na(r,i,2),r!==null&&(ii(r,2),yi(r))}function mt(r,i,s){if(r.tag===3)$E(r,r,s);else for(;i!==null;){if(i.tag===3){$E(i,r,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(La===null||!La.has(u))){r=Rr(s,r),s=Kv(2),u=Na(i,s,2),u!==null&&(Yv(s,u,i,r),ii(u,2),yi(u));break}}i=i.return}}function cp(r,i,s){var u=r.pingCache;if(u===null){u=r.pingCache=new M1;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(s)||(np=!0,h.add(s),r=U1.bind(null,r,i,s),i.then(r,r))}function U1(r,i,s){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,wt===r&&(et&s)===s&&(qt===4||qt===3&&(et&62914560)===et&&300>zt()-wf?(ft&2)===0&&Go(r,0):rp|=s,Ho===et&&(Ho=0)),yi(r)}function KE(r,i){i===0&&(i=Ni()),r=Ms(r,i),r!==null&&(ii(r,i),yi(r))}function j1(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),KE(r,s)}function z1(r,i){var s=0;switch(r.tag){case 31:case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),KE(r,s)}function B1(r,i){return Kt(r,i)}var xf=null,Ko=null,fp=!1,Of=!1,hp=!1,ja=0;function yi(r){r!==Ko&&r.next===null&&(Ko===null?xf=Ko=r:Ko=Ko.next=r),Of=!0,fp||(fp=!0,H1())}function _u(r,i){if(!hp&&Of){hp=!0;do for(var s=!1,u=xf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var v=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Vt(42|r)+1)-1,m&=h&~(v&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,WE(u,m))}else m=et,m=nr(u,u===wt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||rr(u,m)||(s=!0,WE(u,m));u=u.next}while(s);hp=!1}}function F1(){YE()}function YE(){Of=fp=!1;var r=0;ja!==0&&Z1()&&(r=ja);for(var i=zt(),s=null,u=xf;u!==null;){var h=u.next,m=QE(u,i);m===0?(u.next=null,s===null?xf=h:s.next=h,h===null&&(Ko=s)):(s=u,(r!==0||(m&3)!==0)&&(Of=!0)),u=h}on!==0&&on!==5||_u(r),ja!==0&&(ja=0)}function QE(r,i){for(var s=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var v=31-Vt(m),A=1<<v,P=h[v];P===-1?((A&s)===0||(A&u)!==0)&&(h[v]=mo(A,i)):P<=i&&(r.expiredLanes|=A),m&=~A}if(i=wt,s=et,s=nr(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,s===0||r===i&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ni(u),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||rr(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(u!==null&&ni(u),ce(s)){case 2:case 8:s=Di;break;case 32:s=fn;break;case 268435456:s=vs;break;default:s=fn}return u=XE.bind(null,r),s=Kt(s,u),r.callbackPriority=i,r.callbackNode=s,i}return u!==null&&u!==null&&ni(u),r.callbackPriority=2,r.callbackNode=null,2}function XE(r,i){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(Nf()&&r.callbackNode!==s)return null;var u=et;return u=nr(r,r===wt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(xE(r,u,i),QE(r,zt()),r.callbackNode!=null&&r.callbackNode===s?XE.bind(null,r):null)}function WE(r,i){if(Nf())return null;xE(r,i,!0)}function H1(){tC(function(){(ft&6)!==0?Kt(ha,F1):YE()})}function dp(){if(ja===0){var r=Oo;r===0&&(r=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),ja=r}return ja}function JE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yo(""+r)}function ZE(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function q1(r,i,s,u,h){if(i==="submit"&&s&&s.stateNode===h){var m=JE((h[ge]||null).action),v=u.submitter;v&&(i=(i=v[ge]||null)?JE(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var A=new ci("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ja!==0){var P=v?ZE(h,v):new FormData(h);Mm(s,{pending:!0,data:P,method:h.method,action:m},null,P)}}else typeof m=="function"&&(A.preventDefault(),P=v?ZE(h,v):new FormData(h),Mm(s,{pending:!0,data:P,method:h.method,action:m},m,P))},currentTarget:h}]})}}for(var mp=0;mp<Xd.length;mp++){var pp=Xd[mp],G1=pp.toLowerCase(),$1=pp[0].toUpperCase()+pp.slice(1);Gr(G1,"on"+$1)}Gr(N_,"onAnimationEnd"),Gr(x_,"onAnimationIteration"),Gr(O_,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(l1,"onTransitionRun"),Gr(u1,"onTransitionStart"),Gr(c1,"onTransitionCancel"),Gr(M_,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function eT(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var u=r[s],h=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var v=u.length-1;0<=v;v--){var A=u[v],P=A.instance,X=A.currentTarget;if(A=A.listener,P!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=X;try{m(h)}catch(ae){$c(ae)}h.currentTarget=null,m=P}else for(v=0;v<u.length;v++){if(A=u[v],P=A.instance,X=A.currentTarget,A=A.listener,P!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=X;try{m(h)}catch(ae){$c(ae)}h.currentTarget=null,m=P}}}}function Ze(r,i){var s=i[Pe];s===void 0&&(s=i[Pe]=new Set);var u=r+"__bubble";s.has(u)||(tT(i,r,2,!1),s.add(u))}function gp(r,i,s){var u=0;i&&(u|=4),tT(s,r,u,i)}var Mf="_reactListening"+Math.random().toString(36).slice(2);function yp(r){if(!r[Mf]){r[Mf]=!0,zn.forEach(function(s){s!=="selectionchange"&&(K1.has(s)||gp(s,!1,r),gp(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Mf]||(i[Mf]=!0,gp("selectionchange",!1,i))}}function tT(r,i,s,u){switch(NT(i)){case 2:var h=TC;break;case 8:h=SC;break;default:h=Op}s=h.bind(null,i,s,r),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,s,{capture:!0,passive:h}):r.addEventListener(i,s,!0):h!==void 0?r.addEventListener(i,s,{passive:h}):r.addEventListener(i,s,!1)}function _p(r,i,s,u,h){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var A=u.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Rt(A),v===null)return;if(P=v.tag,P===5||P===6||P===26||P===27){u=m=v;continue e}A=A.parentNode}}u=u.return}Ea(function(){var X=m,ae=Sr(s),le=[];e:{var Z=V_.get(r);if(Z!==void 0){var re=ci,we=r;switch(r){case"keypress":if(Cs(s)===0)break e;case"keydown":case"keyup":re=Hc;break;case"focusin":we="focus",re=Ds;break;case"focusout":we="blur",re=Ds;break;case"beforeblur":case"afterblur":re=Ds;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=y;break;case N_:case x_:case O_:re=Lc;break;case M_:re=I;break;case"scroll":case"scrollend":re=Hl;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Vi;break;case"toggle":case"beforetoggle":re=He}var xe=(i&4)!==0,Tt=!xe&&(r==="scroll"||r==="scrollend"),q=xe?Z!==null?Z+"Capture":null:Z;xe=[];for(var j=X,Q;j!==null;){var se=j;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||q===null||(se=Br(j,q),se!=null&&xe.push(Eu(j,se,Q))),Tt)break;j=j.return}0<xe.length&&(Z=new re(Z,we,null,s,ae),le.push({event:Z,listeners:xe}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",Z&&s!==zl&&(we=s.relatedTarget||s.fromElement)&&(Rt(we)||we[Se]))break e;if((re||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,re?(we=s.relatedTarget||s.toElement,re=X,we=we?Rt(we):null,we!==null&&(Tt=l(we),xe=we.tag,we!==Tt||xe!==5&&xe!==27&&xe!==6)&&(we=null)):(re=null,we=X),re!==we)){if(xe=ql,se="onMouseLeave",q="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(xe=Vi,se="onPointerLeave",q="onPointerEnter",j="pointer"),Tt=re==null?Z:Ct(re),Q=we==null?Z:Ct(we),Z=new xe(se,j+"leave",re,s,ae),Z.target=Tt,Z.relatedTarget=Q,se=null,Rt(ae)===X&&(xe=new xe(q,j+"enter",we,s,ae),xe.target=Q,xe.relatedTarget=Tt,se=xe),Tt=se,re&&we)t:{for(xe=Y1,q=re,j=we,Q=0,se=q;se;se=xe(se))Q++;se=0;for(var Ie=j;Ie;Ie=xe(Ie))se++;for(;0<Q-se;)q=xe(q),Q--;for(;0<se-Q;)j=xe(j),se--;for(;Q--;){if(q===j||j!==null&&q===j.alternate){xe=q;break t}q=xe(q),j=xe(j)}xe=null}else xe=null;re!==null&&nT(le,Z,re,xe,!1),we!==null&&Tt!==null&&nT(le,Tt,we,xe,!0)}}e:{if(Z=X?Ct(X):window,re=Z.nodeName&&Z.nodeName.toLowerCase(),re==="select"||re==="input"&&Z.type==="file")var ot=v_;else if(y_(Z))if(E_)ot=a1;else{ot=r1;var Re=n1}else re=Z.nodeName,!re||re.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&go(X.elementType)&&(ot=v_):ot=i1;if(ot&&(ot=ot(r,X))){__(le,ot,s,ae);break e}Re&&Re(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&kl(Z,"number",Z.value)}switch(Re=X?Ct(X):window,r){case"focusin":(y_(Re)||Re.contentEditable==="true")&&(wo=Re,Kd=X,Ql=null);break;case"focusout":Ql=Kd=wo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,I_(le,s,ae);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":I_(le,s,ae)}var Ke;if(ct)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else bo?Ns(r,s)&&(tt="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(tt="onCompositionStart");tt&&(di&&s.locale!=="ko"&&(bo||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&bo&&(Ke=Fl()):(ui=ae,Bl="value"in ui?ui.value:ui.textContent,bo=!0)),Re=Vf(X,tt),0<Re.length&&(tt=new hi(tt,r,null,s,ae),le.push({event:tt,listeners:Re}),Ke?tt.data=Ke:(Ke=So(s),Ke!==null&&(tt.data=Ke)))),(Ke=wr?JR(r,s):ZR(r,s))&&(tt=Vf(X,"onBeforeInput"),0<tt.length&&(Re=new hi("onBeforeInput","beforeinput",null,s,ae),le.push({event:Re,listeners:tt}),Re.data=Ke)),q1(le,r,X,s,ae)}eT(le,i)})}function Eu(r,i,s){return{instance:r,listener:i,currentTarget:s}}function Vf(r,i){for(var s=i+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Br(r,s),h!=null&&u.unshift(Eu(r,h,m)),h=Br(r,i),h!=null&&u.push(Eu(r,h,m))),r.tag===3)return u;r=r.return}return[]}function Y1(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function nT(r,i,s,u,h){for(var m=i._reactName,v=[];s!==null&&s!==u;){var A=s,P=A.alternate,X=A.stateNode;if(A=A.tag,P!==null&&P===u)break;A!==5&&A!==26&&A!==27||X===null||(P=X,h?(X=Br(s,m),X!=null&&v.unshift(Eu(s,X,P))):h||(X=Br(s,m),X!=null&&v.push(Eu(s,X,P)))),s=s.return}v.length!==0&&r.push({event:i,listeners:v})}var Q1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function rT(r){return(typeof r=="string"?r:""+r).replace(Q1,`
`).replace(X1,"")}function iT(r,i){return i=rT(i),rT(r)===i}function Et(r,i,s,u,h,m){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Hn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Hn(r,""+u);break;case"className":Jt(r,"class",u);break;case"tabIndex":Jt(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jt(r,s,u);break;case"style":jl(r,u,m);break;case"data":if(i!=="object"){Jt(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(s);break}u=yo(""+u),r.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&Et(r,i,"name",h.name,h,null),Et(r,i,"formEncType",h.formEncType,h,null),Et(r,i,"formMethod",h.formMethod,h,null),Et(r,i,"formTarget",h.formTarget,h,null)):(Et(r,i,"encType",h.encType,h,null),Et(r,i,"method",h.method,h,null),Et(r,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(s);break}u=yo(""+u),r.setAttribute(s,u);break;case"onClick":u!=null&&(r.onclick=zr);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}s=yo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,""+u):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":u===!0?r.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,u):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(s,u):r.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(s):r.setAttribute(s,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),Bt(r,"popover",u);break;case"xlinkActuate":yt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bt(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mc.get(s)||s,Bt(r,s,u))}}function vp(r,i,s,u,h,m){switch(s){case"style":jl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof u=="string"?Hn(r,u):(typeof u=="number"||typeof u=="bigint")&&Hn(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!An.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=r[ge]||null,m=m!=null?m[s]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,u,h);break e}s in r?r[s]=u:u===!0?r.setAttribute(s,""):Bt(r,s,u)}}}function vn(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var v=s[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(r,i,m,v,s,null)}}h&&Et(r,i,"srcSet",s.srcSet,s,null),u&&Et(r,i,"src",s.src,s,null);return;case"input":Ze("invalid",r);var A=m=v=h=null,P=null,X=null;for(u in s)if(s.hasOwnProperty(u)){var ae=s[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":v=ae;break;case"checked":P=ae;break;case"defaultChecked":X=ae;break;case"value":m=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:Et(r,i,u,ae,s,null)}}Nc(r,m,A,P,X,v,h,!1);return;case"select":Ze("invalid",r),u=v=m=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":v=A;break;case"multiple":u=A;default:Et(r,i,h,A,s,null)}i=m,s=v,r.multiple=!!u,i!=null?ga(r,!!u,i,!1):s!=null&&ga(r,!!u,s,!0);return;case"textarea":Ze("invalid",r),m=h=u=null;for(v in s)if(s.hasOwnProperty(v)&&(A=s[v],A!=null))switch(v){case"value":u=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:Et(r,i,v,A,s,null)}ya(r,u,h,m);return;case"option":for(P in s)if(s.hasOwnProperty(P)&&(u=s[P],u!=null))switch(P){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Et(r,i,P,u,s,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<vu.length;u++)Ze(vu[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(u=s[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(r,i,X,u,s,null)}return;default:if(go(i)){for(ae in s)s.hasOwnProperty(ae)&&(u=s[ae],u!==void 0&&vp(r,i,ae,u,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(u=s[A],u!=null&&Et(r,i,A,u,s,null))}function W1(r,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,A=null,P=null,X=null,ae=null;for(re in s){var le=s[re];if(s.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":P=le;default:u.hasOwnProperty(re)||Et(r,i,re,null,u,le)}}for(var Z in u){var re=u[Z];if(le=s[Z],u.hasOwnProperty(Z)&&(re!=null||le!=null))switch(Z){case"type":m=re;break;case"name":h=re;break;case"checked":X=re;break;case"defaultChecked":ae=re;break;case"value":v=re;break;case"defaultValue":A=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:re!==le&&Et(r,i,Z,re,u,le)}}po(r,v,A,P,X,ae,m,h);return;case"select":re=v=A=Z=null;for(m in s)if(P=s[m],s.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":re=P;default:u.hasOwnProperty(m)||Et(r,i,m,null,u,P)}for(h in u)if(m=u[h],P=s[h],u.hasOwnProperty(h)&&(m!=null||P!=null))switch(h){case"value":Z=m;break;case"defaultValue":A=m;break;case"multiple":v=m;default:m!==P&&Et(r,i,h,m,u,P)}i=A,s=v,u=re,Z!=null?ga(r,!!s,Z,!1):!!u!=!!s&&(i!=null?ga(r,!!s,i,!0):ga(r,!!s,s?[]:"",!1));return;case"textarea":re=Z=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Et(r,i,A,null,u,h)}for(v in u)if(h=u[v],m=s[v],u.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":Z=h;break;case"defaultValue":re=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&Et(r,i,v,h,u,m)}xc(r,Z,re);return;case"option":for(var we in s)if(Z=s[we],s.hasOwnProperty(we)&&Z!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:Et(r,i,we,null,u,Z)}for(P in u)if(Z=u[P],re=s[P],u.hasOwnProperty(P)&&Z!==re&&(Z!=null||re!=null))switch(P){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Et(r,i,P,Z,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)Z=s[xe],s.hasOwnProperty(xe)&&Z!=null&&!u.hasOwnProperty(xe)&&Et(r,i,xe,null,u,Z);for(X in u)if(Z=u[X],re=s[X],u.hasOwnProperty(X)&&Z!==re&&(Z!=null||re!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Et(r,i,X,Z,u,re)}return;default:if(go(i)){for(var Tt in s)Z=s[Tt],s.hasOwnProperty(Tt)&&Z!==void 0&&!u.hasOwnProperty(Tt)&&vp(r,i,Tt,void 0,u,Z);for(ae in u)Z=u[ae],re=s[ae],!u.hasOwnProperty(ae)||Z===re||Z===void 0&&re===void 0||vp(r,i,ae,Z,u,re);return}}for(var q in s)Z=s[q],s.hasOwnProperty(q)&&Z!=null&&!u.hasOwnProperty(q)&&Et(r,i,q,null,u,Z);for(le in u)Z=u[le],re=s[le],!u.hasOwnProperty(le)||Z===re||Z==null&&re==null||Et(r,i,le,Z,u,re)}function aT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J1(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],m=h.transferSize,v=h.initiatorType,A=h.duration;if(m&&A&&aT(v)){for(v=0,A=h.responseEnd,u+=1;u<s.length;u++){var P=s[u],X=P.startTime;if(X>A)break;var ae=P.transferSize,le=P.initiatorType;ae&&aT(le)&&(P=P.responseEnd,v+=ae*(P<A?1:(A-X)/(P-X)))}if(--u,i+=8*(m+v)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ep=null,Tp=null;function Pf(r){return r.nodeType===9?r:r.ownerDocument}function sT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oT(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Sp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bp=null;function Z1(){var r=window.event;return r&&r.type==="popstate"?r===bp?!1:(bp=r,!0):(bp=null,!1)}var lT=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(r){return uT.resolve(null).then(r).catch(nC)}:lT;function nC(r){setTimeout(function(){throw r})}function za(r){return r==="head"}function cT(r,i){var s=i,u=0;do{var h=s.nextSibling;if(r.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){r.removeChild(h),Wo(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Tu(r.ownerDocument.documentElement);else if(s==="head"){s=r.ownerDocument.head,Tu(s);for(var m=s.firstChild;m;){var v=m.nextSibling,A=m.nodeName;m[gt]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=v}}else s==="body"&&Tu(r.ownerDocument.body);s=h}while(s);Wo(i)}function fT(r,i){var s=r;r=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(r===0)break;r--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||r++;s=u}while(s)}function wp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wp(s),Nt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function rC(r,i,s,u){for(;r.nodeType===1;){var h=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[gt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=xr(r.nextSibling),r===null)break}return null}function iC(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=xr(r.nextSibling),r===null))return null;return r}function hT(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=xr(r.nextSibling),r===null))return null;return r}function Ap(r){return r.data==="$?"||r.data==="$~"}function Rp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function aC(r,i){var s=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function xr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Cp=null;function dT(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"||s==="/&"){if(i===0)return xr(r.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}r=r.nextSibling}return null}function mT(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return r;i--}else s!=="/$"&&s!=="/&"||i++}r=r.previousSibling}return null}function pT(r,i,s){switch(i=Pf(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Tu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Nt(r)}var Or=new Map,gT=new Set;function Lf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Qi=fe.d;fe.d={f:sC,r:oC,D:lC,C:uC,L:cC,m:fC,X:dC,S:hC,M:mC};function sC(){var r=Qi.f(),i=Cf();return r||i}function oC(r){var i=Ge(r);i!==null&&i.tag===5&&i.type==="form"?Mv(i):Qi.r(r)}var Yo=typeof document>"u"?null:document;function yT(r,i,s){var u=Yo;if(u&&typeof i=="string"&&i){var h=Fn(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),gT.has(h)||(gT.add(h),r={rel:r,crossOrigin:s,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),vn(i,"link",r),It(i),u.head.appendChild(i)))}}function lC(r){Qi.D(r),yT("dns-prefetch",r,null)}function uC(r,i){Qi.C(r,i),yT("preconnect",r,i)}function cC(r,i,s){Qi.L(r,i,s);var u=Yo;if(u&&r&&i){var h='link[rel="preload"][as="'+Fn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Fn(s.imageSizes)+'"]')):h+='[href="'+Fn(r)+'"]';var m=h;switch(i){case"style":m=Qo(r);break;case"script":m=Xo(r)}Or.has(m)||(r=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),Or.set(m,r),u.querySelector(h)!==null||i==="style"&&u.querySelector(Su(m))||i==="script"&&u.querySelector(bu(m))||(i=u.createElement("link"),vn(i,"link",r),It(i),u.head.appendChild(i)))}}function fC(r,i){Qi.m(r,i);var s=Yo;if(s&&r){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Fn(u)+'"][href="'+Fn(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Xo(r)}if(!Or.has(m)&&(r=E({rel:"modulepreload",href:r},i),Or.set(m,r),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(bu(m)))return}u=s.createElement("link"),vn(u,"link",r),It(u),s.head.appendChild(u)}}}function hC(r,i,s){Qi.S(r,i,s);var u=Yo;if(u&&r){var h=hn(u).hoistableStyles,m=Qo(r);i=i||"default";var v=h.get(m);if(!v){var A={loading:0,preload:null};if(v=u.querySelector(Su(m)))A.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":i},s),(s=Or.get(m))&&Ip(r,s);var P=v=u.createElement("link");It(P),vn(P,"link",r),P._p=new Promise(function(X,ae){P.onload=X,P.onerror=ae}),P.addEventListener("load",function(){A.loading|=1}),P.addEventListener("error",function(){A.loading|=2}),A.loading|=4,kf(v,i,u)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(m,v)}}}function dC(r,i){Qi.X(r,i);var s=Yo;if(s&&r){var u=hn(s).hoistableScripts,h=Xo(r),m=u.get(h);m||(m=s.querySelector(bu(h)),m||(r=E({src:r,async:!0},i),(i=Or.get(h))&&Dp(r,i),m=s.createElement("script"),It(m),vn(m,"link",r),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function mC(r,i){Qi.M(r,i);var s=Yo;if(s&&r){var u=hn(s).hoistableScripts,h=Xo(r),m=u.get(h);m||(m=s.querySelector(bu(h)),m||(r=E({src:r,async:!0,type:"module"},i),(i=Or.get(h))&&Dp(r,i),m=s.createElement("script"),It(m),vn(m,"link",r),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function _T(r,i,s,u){var h=(h=Ne.current)?Lf(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Qo(s.href),s=hn(h).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=Qo(s.href);var m=hn(h).hoistableStyles,v=m.get(r);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,v),(m=h.querySelector(Su(r)))&&!m._p&&(v.instance=m,v.state.loading=5),Or.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Or.set(r,s),m||pC(h,r,s,v.state))),i&&u===null)throw Error(a(528,""));return v}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xo(s),s=hn(h).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function Qo(r){return'href="'+Fn(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function vT(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function pC(r,i,s,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),vn(i,"link",s),It(i),r.head.appendChild(i))}function Xo(r){return'[src="'+Fn(r)+'"]'}function bu(r){return"script[async]"+r}function ET(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Fn(s.href)+'"]');if(u)return i.instance=u,It(u),u;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),It(u),vn(u,"style",h),kf(u,s.precedence,r),i.instance=u;case"stylesheet":h=Qo(s.href);var m=r.querySelector(Su(h));if(m)return i.state.loading|=4,i.instance=m,It(m),m;u=vT(s),(h=Or.get(h))&&Ip(u,h),m=(r.ownerDocument||r).createElement("link"),It(m);var v=m;return v._p=new Promise(function(A,P){v.onload=A,v.onerror=P}),vn(m,"link",u),i.state.loading|=4,kf(m,s.precedence,r),i.instance=m;case"script":return m=Xo(s.src),(h=r.querySelector(bu(m)))?(i.instance=h,It(h),h):(u=s,(h=Or.get(m))&&(u=E({},s),Dp(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),It(h),vn(h,"link",u),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,kf(u,s.precedence,r));return i.instance}function kf(r,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,v=0;v<u.length;v++){var A=u[v];if(A.dataset.precedence===i)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function Ip(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Dp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Uf=null;function TT(r,i,s){if(Uf===null){var u=new Map,h=Uf=new Map;h.set(s,u)}else h=Uf,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(r))return u;for(u.set(r,null),s=s.getElementsByTagName(r),h=0;h<s.length;h++){var m=s[h];if(!(m[gt]||m[me]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=r+v;var A=u.get(v);A?A.push(m):u.set(v,[m])}}return u}function ST(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function gC(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function yC(r,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Qo(u.href),m=i.querySelector(Su(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=jf.bind(r),i.then(r,r)),s.state.loading|=4,s.instance=m,It(m);return}m=i.ownerDocument||i,u=vT(u),(h=Or.get(h))&&Ip(u,h),m=m.createElement("link"),It(m);var v=m;v._p=new Promise(function(A,P){v.onload=A,v.onerror=P}),vn(m,"link",u),s.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(r.count++,s=jf.bind(r),i.addEventListener("load",s),i.addEventListener("error",s))}}var Np=0;function _C(r,i){return r.stylesheets&&r.count===0&&Bf(r,r.stylesheets),0<r.count||0<r.imgCount?function(s){var u=setTimeout(function(){if(r.stylesheets&&Bf(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Np===0&&(Np=62500*J1());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Bf(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Np?50:800)+i);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zf=null;function Bf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zf=new Map,i.forEach(vC,r),zf=null,jf.call(r))}function vC(r,i){if(!(i.state.loading&4)){var s=zf.get(r);if(s)var u=s.get(null);else{s=new Map,zf.set(r,s);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),u=v)}u&&s.set(null,u)}h=i.instance,v=h.getAttribute("data-precedence"),m=s.get(v)||u,m===u&&s.set(null,h),s.set(v,h),this.count++,u=jf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var wu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function EC(r,i,s,u,h,m,v,A,P){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.hiddenUpdates=Ln(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function wT(r,i,s,u,h,m,v,A,P,X,ae,le){return r=new EC(r,i,s,v,P,X,ae,le,A),i=1,m===!0&&(i|=24),m=or(3,null,null,i),r.current=m,m.stateNode=r,i=um(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:i},dm(m),r}function AT(r){return r?(r=Co,r):Co}function RT(r,i,s,u,h,m){h=AT(h),u.context===null?u.context=h:u.pendingContext=h,u=Da(i),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=Na(r,u,i),s!==null&&(Yn(s,r,i),nu(s,r,i))}function CT(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function xp(r,i){CT(r,i),(r=r.alternate)&&CT(r,i)}function IT(r){if(r.tag===13||r.tag===31){var i=Ms(r,67108864);i!==null&&Yn(i,r,67108864),xp(r,67108864)}}function DT(r){if(r.tag===13||r.tag===31){var i=hr();i=J(i);var s=Ms(r,i);s!==null&&Yn(s,r,i),xp(r,i)}}var Ff=!0;function TC(r,i,s,u){var h=W.T;W.T=null;var m=fe.p;try{fe.p=2,Op(r,i,s,u)}finally{fe.p=m,W.T=h}}function SC(r,i,s,u){var h=W.T;W.T=null;var m=fe.p;try{fe.p=8,Op(r,i,s,u)}finally{fe.p=m,W.T=h}}function Op(r,i,s,u){if(Ff){var h=Mp(u);if(h===null)_p(r,i,u,Hf,s),xT(r,u);else if(wC(h,r,i,s,u))u.stopPropagation();else if(xT(r,u),i&4&&-1<bC.indexOf(r)){for(;h!==null;){var m=Ge(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Tr(m.pendingLanes);if(v!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var P=1<<31-Vt(v);A.entanglements[1]|=P,v&=~P}yi(m),(ft&6)===0&&(Af=zt()+500,_u(0))}}break;case 31:case 13:A=Ms(m,2),A!==null&&Yn(A,m,2),Cf(),xp(m,2)}if(m=Mp(u),m===null&&_p(r,i,u,Hf,s),m===h)break;h=m}h!==null&&u.stopPropagation()}else _p(r,i,u,null,s)}}function Mp(r){return r=Sr(r),Vp(r)}var Hf=null;function Vp(r){if(Hf=null,r=Rt(r),r!==null){var i=l(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=c(i),r!==null)return r;r=null}else if(s===31){if(r=d(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Hf=r,null}function NT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zn()){case ha:return 2;case Di:return 8;case fn:case er:return 32;case vs:return 268435456;default:return 32}default:return 32}}var Pp=!1,Ba=null,Fa=null,Ha=null,Au=new Map,Ru=new Map,qa=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xT(r,i){switch(r){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(i.pointerId)}}function Cu(r,i,s,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Ge(i),i!==null&&IT(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function wC(r,i,s,u,h){switch(i){case"focusin":return Ba=Cu(Ba,r,i,s,u,h),!0;case"dragenter":return Fa=Cu(Fa,r,i,s,u,h),!0;case"mouseover":return Ha=Cu(Ha,r,i,s,u,h),!0;case"pointerover":var m=h.pointerId;return Au.set(m,Cu(Au.get(m)||null,r,i,s,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Ru.set(m,Cu(Ru.get(m)||null,r,i,s,u,h)),!0}return!1}function OT(r){var i=Rt(r.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){r.blockedOn=i,Ee(r.priority,function(){DT(s)});return}}else if(i===31){if(i=d(s),i!==null){r.blockedOn=i,Ee(r.priority,function(){DT(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function qf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=Mp(r.nativeEvent);if(s===null){s=r.nativeEvent;var u=new s.constructor(s.type,s);zl=u,s.target.dispatchEvent(u),zl=null}else return i=Ge(s),i!==null&&IT(i),r.blockedOn=s,!1;i.shift()}return!0}function MT(r,i,s){qf(r)&&s.delete(i)}function AC(){Pp=!1,Ba!==null&&qf(Ba)&&(Ba=null),Fa!==null&&qf(Fa)&&(Fa=null),Ha!==null&&qf(Ha)&&(Ha=null),Au.forEach(MT),Ru.forEach(MT)}function Gf(r,i){r.blockedOn===i&&(r.blockedOn=null,Pp||(Pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AC)))}var $f=null;function VT(r){$f!==r&&($f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$f===r&&($f=null);for(var i=0;i<r.length;i+=3){var s=r[i],u=r[i+1],h=r[i+2];if(typeof u!="function"){if(Vp(u||s)===null)continue;break}var m=Ge(s);m!==null&&(r.splice(i,3),i-=3,Mm(m,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Wo(r){function i(P){return Gf(P,r)}Ba!==null&&Gf(Ba,r),Fa!==null&&Gf(Fa,r),Ha!==null&&Gf(Ha,r),Au.forEach(i),Ru.forEach(i);for(var s=0;s<qa.length;s++){var u=qa[s];u.blockedOn===r&&(u.blockedOn=null)}for(;0<qa.length&&(s=qa[0],s.blockedOn===null);)OT(s),s.blockedOn===null&&qa.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],m=s[u+1],v=h[ge]||null;if(typeof m=="function")v||VT(s);else if(v){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[ge]||null)A=v.formAction;else if(Vp(h)!==null)continue}else A=v.action;typeof A=="function"?s[u+1]=A:(s.splice(u,3),u-=3),VT(s)}}}function PT(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Lp(r){this._internalRoot=r}Kf.prototype.render=Lp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=hr();RT(s,u,r,i,null,null)},Kf.prototype.unmount=Lp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;RT(r.current,2,null,r,null,null),Cf(),i[Se]=null}};function Kf(r){this._internalRoot=r}Kf.prototype.unstable_scheduleHydration=function(r){if(r){var i=de();r={blockedOn:null,target:r,priority:i};for(var s=0;s<qa.length&&i!==0&&i<qa[s].priority;s++);qa.splice(s,0,r),s===0&&OT(r)}};var LT=e.version;if(LT!=="19.2.4")throw Error(a(527,LT,"19.2.4"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(i),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var RC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{tr=Yf.inject(RC),bt=Yf}catch{}}return Du.createRoot=function(r,i){if(!o(r))throw Error(a(299));var s=!1,u="",h=Hv,m=qv,v=Gv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=wT(r,1,!1,null,null,s,u,null,h,m,v,PT),r[Se]=i.current,yp(r),new Lp(i)},Du.hydrateRoot=function(r,i,s){if(!o(r))throw Error(a(299));var u=!1,h="",m=Hv,v=qv,A=Gv,P=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(P=s.formState)),i=wT(r,1,!0,i,s??null,u,h,P,m,v,A,PT),i.context=AT(null),s=i.current,u=hr(),u=J(u),h=Da(u),h.callback=null,Na(s,h,u),s=u,i.current.lanes=s,ii(i,s),yi(i),r[Se]=i.current,yp(r),new Kf(i)},Du.version="19.2.4",Du}var $T;function jC(){if($T)return zp.exports;$T=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zp.exports=UC(),zp.exports}var zC=jC();const BC=yb(zC);var qp={exports:{}},Gp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function FC(){if(KT)return Gp;KT=1;var n=ld();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,a=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Gp.useSyncExternalStoreWithSelector=function(p,g,_,E,b){var C=o(null);if(C.current===null){var L={hasValue:!1,value:null};C.current=L}else L=C.current;C=c(function(){function k(te){if(!$){if($=!0,H=te,te=E(te),b!==void 0&&L.hasValue){var G=L.value;if(b(G,te))return K=G}return K=te}if(G=K,t(H,te))return G;var S=E(te);return b!==void 0&&b(G,S)?(H=te,G):(H=te,K=S)}var $=!1,H,K,ee=_===void 0?null:_;return[function(){return k(g())},ee===null?void 0:function(){return k(ee())}]},[g,_,E,b]);var z=a(p,C[0],C[1]);return l(function(){L.hasValue=!0,L.value=z},[z]),d(z),z},Gp}var YT;function HC(){return YT||(YT=1,qp.exports=FC()),qp.exports}var qC=HC();function GC(n){n()}function $C(){let n=null,e=null;return{clear(){n=null,e=null},notify(){GC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=n;for(;a;)t.push(a),a=a.next;return t},subscribe(t){let a=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!a||n===null||(a=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var QT={notify(){},get:()=>[]};function KC(n,e){let t,a=QT,o=0,l=!1;function c(z){_();const k=a.subscribe(z);let $=!1;return()=>{$||($=!0,k(),E())}}function d(){a.notify()}function p(){L.onStateChange&&L.onStateChange()}function g(){return l}function _(){o++,t||(t=n.subscribe(p),a=$C())}function E(){o--,t&&o===0&&(t(),t=void 0,a.clear(),a=QT)}function b(){l||(l=!0,_())}function C(){l&&(l=!1,E())}const L={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:C,getListeners:()=>a};return L}var YC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QC=YC(),XC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",WC=XC(),JC=()=>QC||WC?B.useLayoutEffect:B.useEffect,ZC=JC(),$p=Symbol.for("react-redux-context"),Kp=typeof globalThis<"u"?globalThis:{};function eI(){if(!B.createContext)return{};const n=Kp[$p]??(Kp[$p]=new Map);let e=n.get(B.createContext);return e||(e=B.createContext(null),n.set(B.createContext,e)),e}var ss=eI();function tI(n){const{children:e,context:t,serverState:a,store:o}=n,l=B.useMemo(()=>{const p=KC(o);return{store:o,subscription:p,getServerState:a?()=>a:void 0}},[o,a]),c=B.useMemo(()=>o.getState(),[o]);ZC(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||ss;return B.createElement(d.Provider,{value:l},e)}var nI=tI;function ny(n=ss){return function(){return B.useContext(n)}}var Eb=ny();function Tb(n=ss){const e=n===ss?Eb:ny(n),t=()=>{const{store:a}=e();return a};return Object.assign(t,{withTypes:()=>t}),t}var rI=Tb();function iI(n=ss){const e=n===ss?rI:Tb(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var aI=iI(),sI=(n,e)=>n===e;function oI(n=ss){const e=n===ss?Eb:ny(n),t=(a,o={})=>{const{equalityFn:l=sI}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:p,getServerState:g}=c;B.useRef(!0);const _=B.useCallback({[a.name](b){return a(b)}}[a.name],[a]),E=qC.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,_,l);return B.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var lI=oI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sb=n=>{throw TypeError(n)},uI=(n,e,t)=>e.has(n)||Sb("Cannot "+t),Yp=(n,e,t)=>(uI(n,e,"read from private field"),t?t.call(n):e.get(n)),cI=(n,e,t)=>e.has(n)?Sb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),XT="popstate";function fI(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:p=""}=la(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Qu("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Ai(l))}function a(o,l){$t(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return dI(e,t,a,n)}function Xe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $t(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hI(){return Math.random().toString(36).substring(2,10)}function WT(n,e){return{usr:n.state,key:n.key,idx:e}}function Qu(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:t,key:e&&e.key||a||hI()}}function Ai({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function la(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function dI(n,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let k=_(),$=k==null?null:k-g;g=k,p&&p({action:d,location:z.location,delta:$})}function b(k,$){d="PUSH";let H=Qu(z.location,k,$);t&&t(H,k),g=_()+1;let K=WT(H,g),ee=z.createHref(H);try{c.pushState(K,"",ee)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ee)}l&&p&&p({action:d,location:z.location,delta:1})}function C(k,$){d="REPLACE";let H=Qu(z.location,k,$);t&&t(H,k),g=_();let K=WT(H,g),ee=z.createHref(H);c.replaceState(K,"",ee),l&&p&&p({action:d,location:z.location,delta:0})}function L(k){return bb(k)}let z={get action(){return d},get location(){return n(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(XT,E),p=k,()=>{o.removeEventListener(XT,E),p=null}},createHref(k){return e(o,k)},createURL:L,encodeLocation(k){let $=L(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:C,go(k){return c.go(k)}};return z}function bb(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ai(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Vu,JT=class{constructor(n){if(cI(this,Vu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Yp(this,Vu).has(n))return Yp(this,Vu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Yp(this,Vu).set(n,e)}};Vu=new WeakMap;var mI=new Set(["lazy","caseSensitive","path","id","index","children"]);function pI(n){return mI.has(n)}var gI=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function yI(n){return gI.has(n)}function _I(n){return n.index===!0}function Xu(n,e,t=[],a={},o=!1){return n.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(Xe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Xe(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),_I(l)){let g={...l,id:p};return a[p]=ZT(g,e(g)),g}else{let g={...l,id:p,children:void 0};return a[p]=ZT(g,e(g)),l.children&&(g.children=Xu(l.children,e,d,a,o)),g}})}function ZT(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Ka(n,e,t="/"){return Pu(n,e,t,!1)}function Pu(n,e,t,a){let o=typeof e=="string"?la(e):e,l=Lr(o.pathname||"/",t);if(l==null)return null;let c=wb(n);EI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=xI(l);d=DI(c[p],g,a)}return d}function vI(n,e){let{route:t,pathname:a,params:o}=n;return{id:t.id,pathname:a,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function wb(n,e=[],t=[],a="",o=!1){let l=(c,d,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&p)return;Xe(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let E=Ei([a,_.relativePath]),b=t.concat(_);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),wb(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:CI(E,c.index),routesMeta:b})};return n.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of Ab(c.path))l(c,d,!0,g)}),e}function Ab(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=Ab(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function EI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:II(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var TI=/^:[\w-]+$/,SI=3,bI=2,wI=1,AI=10,RI=-2,e0=n=>n==="*";function CI(n,e){let t=n.split("/"),a=t.length;return t.some(e0)&&(a+=RI),e&&(a+=bI),t.filter(o=>!e0(o)).reduce((o,l)=>o+(TI.test(l)?SI:l===""?wI:AI),a)}function II(n,e){return n.length===e.length&&n.slice(0,-1).every((a,o)=>a===e[o])?n[n.length-1]-e[e.length-1]:0}function DI(n,e,t=!1){let{routesMeta:a}=n,o={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!E&&g&&t&&!a[a.length-1].route.index&&(E=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ei([l,E.pathname]),pathnameBase:VI(Ei([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Ei([l,E.pathnameBase]))}return c}function Oh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=NI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:E},b)=>{if(_==="*"){let L=d[b]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const C=d[b];return E&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function NI(n,e=!1,t=!0){$t(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function xI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Lr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function OI({basename:n,pathname:e}){return e==="/"?n:Ei([n,e])}var Rb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ry=n=>Rb.test(n);function MI(n,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof n=="string"?la(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=t0(t.substring(1),"/"):l=t0(t,e)):l=e,{pathname:l,search:PI(a),hash:LI(o)}}function t0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Qp(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ud(n){let e=Cb(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function cd(n,e,t,a=!1){let o;typeof n=="string"?o=la(n):(o={...n},Xe(!o.pathname||!o.pathname.includes("?"),Qp("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),Qp("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),Qp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}d=E>=0?e[E]:"/"}let p=MI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ei=n=>n.join("/").replace(/\/\/+/g,"/"),VI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,uc=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Wu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function cc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Db(n,e){let t=n;if(typeof t!="string"||!Rb.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,o=!1;if(Ib)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Lr(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:o=!0}catch{$t(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:t}}var Ja=Symbol("Uninstrumented");function kI(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let d of c)l[d]&&t[d].push(l[d])}}));let a={};if(typeof e.lazy=="function"&&t.lazy.length>0){let o=al(t.lazy,e.lazy,()=>{});o&&(a.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(l=>{let c=o[l],d=t[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let p=al(d,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[l]:p}))}})}return["loader","action"].forEach(o=>{let l=e[o];if(typeof l=="function"&&t[o].length>0){let c=l[Ja]??l,d=al(t[o],c,(...p)=>n0(p[0]));d&&(o==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[Ja]=c,a[o]=d)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(a.middleware=e.middleware.map(o=>{let l=o[Ja]??o,c=al(t.middleware,l,(...d)=>n0(d[0]));return c?(c[Ja]=l,c):o})),a}function UI(n,e){let t={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(o){let l=Object.keys(o);for(let c of l)o[c]&&t[c].push(o[c])}})),t.navigate.length>0){let a=n.navigate[Ja]??n.navigate,o=al(t.navigate,a,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?Ai(c):".",...r0(n,d??{})}});o&&(o[Ja]=a,n.navigate=o)}if(t.fetch.length>0){let a=n.fetch[Ja]??n.fetch,o=al(t.fetch,a,(...l)=>{let[c,,d,p]=l;return{href:d??".",fetcherKey:c,...r0(n,p??{})}});o&&(o[Ja]=a,n.fetch=o)}return n}function al(n,e,t){return n.length===0?null:async(...a)=>{let o=await Nb(n,t(...a),()=>e(...a),n.length-1);if(o.type==="error")throw o.value;return o.value}}async function Nb(n,e,t,a){let o=n[a],l;if(o){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=Nb(n,e,t,a-1),l=await c,Xe(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await o(d,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await d(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function n0(n){let{request:e,context:t,params:a,unstable_pattern:o}=n;return{request:jI(e),params:{...a},unstable_pattern:o,context:zI(t)}}function r0(n,e){return{currentUrl:Ai(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function jI(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function zI(n){if(FI(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var BI=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function FI(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===BI}var xb=["POST","PUT","PATCH","DELETE"],HI=new Set(xb),qI=["GET",...xb],GI=new Set(qI),Ob=new Set([301,302,303,307,308]),$I=new Set([307,308]),Xp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},YI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Mb="remix-router-transitions",Vb=Symbol("ResetLoaderData");function QI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Xe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],o=n.mapRouteProperties||YI,l=o;if(n.unstable_instrumentations){let M=n.unstable_instrumentations;l=F=>({...o(F),...kI(M.map(J=>J.route).filter(Boolean),F)})}let c={},d=Xu(n.routes,l,void 0,c),p,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let _=n.dataStrategy||eD,E={...n.future},b=null,C=new Set,L=null,z=null,k=null,$=n.hydrationData!=null,H=Ka(d,n.history.location,g),K=!1,ee=null,te;if(H==null&&!n.patchRoutesOnNavigation){let M=Mr(404,{pathname:n.history.location.pathname}),{matches:F,route:J}=Qf(d);te=!0,H=F,ee={[J.id]:M}}else if(H&&!n.hydrationData&&Ni(H,d,n.history.location.pathname).active&&(H=null),H)if(H.some(M=>M.route.lazy))te=!1;else if(!H.some(M=>iy(M.route)))te=!0;else{let M=n.hydrationData?n.hydrationData.loaderData:null,F=n.hydrationData?n.hydrationData.errors:null;if(F){let J=H.findIndex(ce=>F[ce.route.id]!==void 0);te=H.slice(0,J+1).every(ce=>!Eg(ce.route,M,F))}else te=H.every(J=>!Eg(J.route,M,F))}else{te=!1,H=[];let M=Ni(null,d,n.history.location.pathname);M.active&&M.matches&&(K=!0,H=M.matches)}let G,S={historyAction:n.history.action,location:n.history.location,matches:H,initialized:te,navigation:Xp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},w="POP",R=null,D=!1,N,V=!1,O=new Map,Oe=null,Ue=!1,W=!1,fe=new Set,ye=new Map,Me=0,Ve=-1,U=new Map,ie=new Set,he=new Map,_e=new Map,Ae=new Set,Ne=new Map,Ye,St=null;function At(){if(b=n.history.listen(({action:M,location:F,delta:J})=>{if(Ye){Ye(),Ye=void 0;return}$t(Ne.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=ri({currentLocation:S.location,nextLocation:F,historyAction:M});if(ce&&J!=null){let de=new Promise(Ee=>{Ye=Ee});n.history.go(J*-1),Pn(ce,{state:"blocked",location:F,proceed(){Pn(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),de.then(()=>n.history.go(J))},reset(){let Ee=new Map(S.blockers);Ee.set(ce,Nu),Ut({blockers:Ee})}}),R==null||R.resolve(),R=null;return}return Mn(M,F)}),t){_D(e,O);let M=()=>vD(e,O);e.addEventListener("pagehide",M),Oe=()=>e.removeEventListener("pagehide",M)}return S.initialized||Mn("POP",S.location,{initialHydration:!0}),G}function Ii(){b&&b(),Oe&&Oe(),C.clear(),N&&N.abort(),S.fetchers.forEach((M,F)=>da(F)),S.blockers.forEach((M,F)=>Ts(F))}function fa(M){return C.add(M),()=>C.delete(M)}function Ut(M,F={}){M.matches&&(M.matches=M.matches.map(de=>{let Ee=c[de.route.id],be=de.route;return be.element!==Ee.element||be.errorElement!==Ee.errorElement||be.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...de,route:Ee}:de})),S={...S,...M};let J=[],ce=[];S.fetchers.forEach((de,Ee)=>{de.state==="idle"&&(Ae.has(Ee)?J.push(Ee):ce.push(Ee))}),Ae.forEach(de=>{!S.fetchers.has(de)&&!ye.has(de)&&J.push(de)}),[...C].forEach(de=>de(S,{deletedFetchers:J,newErrors:M.errors??null,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),J.forEach(de=>da(de)),ce.forEach(de=>S.fetchers.delete(de))}function Wn(M,F,{flushSync:J}={}){var Pe,Ce;let ce=S.actionData!=null&&S.navigation.formMethod!=null&&Dn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Pe=M.state)==null?void 0:Pe._isRedirect)!==!0,de;F.actionData?Object.keys(F.actionData).length>0?de=F.actionData:de=null:ce?de=S.actionData:de=null;let Ee=F.loaderData?d0(S.loaderData,F.loaderData,F.matches||[],F.errors):S.loaderData,be=S.blockers;be.size>0&&(be=new Map(be),be.forEach((je,Qe)=>be.set(Qe,Nu)));let me=Ue?!1:mo(M,F.matches||S.matches),ge=D===!0||S.navigation.formMethod!=null&&Dn(S.navigation.formMethod)&&((Ce=M.state)==null?void 0:Ce._isRedirect)!==!0;p&&(d=p,p=void 0),Ue||w==="POP"||(w==="PUSH"?n.history.push(M,M.state):w==="REPLACE"&&n.history.replace(M,M.state));let Se;if(w==="POP"){let je=O.get(S.location.pathname);je&&je.has(M.pathname)?Se={currentLocation:S.location,nextLocation:M}:O.has(M.pathname)&&(Se={currentLocation:M,nextLocation:S.location})}else if(V){let je=O.get(S.location.pathname);je?je.add(M.pathname):(je=new Set([M.pathname]),O.set(S.location.pathname,je)),Se={currentLocation:S.location,nextLocation:M}}Ut({...F,actionData:de,loaderData:Ee,historyAction:w,location:M,initialized:!0,navigation:Xp,revalidation:"idle",restoreScrollPosition:me,preventScrollReset:ge,blockers:be},{viewTransitionOpts:Se,flushSync:J===!0}),w="POP",D=!1,V=!1,Ue=!1,W=!1,R==null||R.resolve(),R=null,St==null||St.resolve(),St=null}async function Jn(M,F){if(R==null||R.resolve(),R=null,typeof M=="number"){R||(R=y0());let Qe=R.promise;return n.history.go(M),Qe}let J=vg(S.location,S.matches,g,M,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:ce,submission:de,error:Ee}=i0(!1,J,F),be=S.location,me=Qu(S.location,ce,F&&F.state);me={...me,...n.history.encodeLocation(me)};let ge=F&&F.replace!=null?F.replace:void 0,Se="PUSH";ge===!0?Se="REPLACE":ge===!1||de!=null&&Dn(de.formMethod)&&de.formAction===S.location.pathname+S.location.search&&(Se="REPLACE");let Pe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ce=(F&&F.flushSync)===!0,je=ri({currentLocation:be,nextLocation:me,historyAction:Se});if(je){Pn(je,{state:"blocked",location:me,proceed(){Pn(je,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Jn(M,F)},reset(){let Qe=new Map(S.blockers);Qe.set(je,Nu),Ut({blockers:Qe})}});return}await Mn(Se,me,{submission:de,pendingError:Ee,preventScrollReset:Pe,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Ce,callSiteDefaultShouldRevalidate:F&&F.unstable_defaultShouldRevalidate})}function gs(){St||(St=y0()),Di(),Ut({revalidation:"loading"});let M=St.promise;return S.navigation.state==="submitting"?M:S.navigation.state==="idle"?(Mn(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),M):(Mn(w||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:V===!0}),M)}async function Mn(M,F,J){N&&N.abort(),N=null,w=M,Ue=(J&&J.startUninterruptedRevalidation)===!0,rr(S.location,S.matches),D=(J&&J.preventScrollReset)===!0,V=(J&&J.enableViewTransition)===!0;let ce=p||d,de=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&S.matches&&S.matches.length>0&&!K?S.matches:Ka(ce,F,g),be=(J&&J.flushSync)===!0;if(Ee&&S.initialized&&!W&&lD(S.location,F)&&!(J&&J.submission&&Dn(J.submission.formMethod))){Wn(F,{matches:Ee},{flushSync:be});return}let me=Ni(Ee,ce,F.pathname);if(me.active&&me.matches&&(Ee=me.matches),!Ee){let{error:Nt,notFoundMatches:Rt,route:Ge}=Pt(F.pathname);Wn(F,{matches:Rt,loaderData:{},errors:{[Ge.id]:Nt}},{flushSync:be});return}N=new AbortController;let ge=Zo(n.history,F,N.signal,J&&J.submission),Se=n.getContext?await n.getContext():new JT,Pe;if(J&&J.pendingError)Pe=[Ya(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Dn(J.submission.formMethod)){let Nt=await ys(ge,F,J.submission,Ee,Se,me.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:be});if(Nt.shortCircuited)return;if(Nt.pendingActionResult){let[Rt,Ge]=Nt.pendingActionResult;if(dr(Ge)&&Wu(Ge.error)&&Ge.error.status===404){N=null,Wn(F,{matches:Nt.matches,loaderData:{},errors:{[Rt]:Ge.error}});return}}Ee=Nt.matches||Ee,Pe=Nt.pendingActionResult,de=Wp(F,J.submission),be=!1,me.active=!1,ge=Zo(n.history,ge.url,ge.signal)}let{shortCircuited:Ce,matches:je,loaderData:Qe,errors:gt}=await _s(ge,F,Ee,Se,me.active,de,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,Pe,J&&J.callSiteDefaultShouldRevalidate);Ce||(N=null,Wn(F,{matches:je||Ee,...m0(Pe),loaderData:Qe,errors:gt}))}async function ys(M,F,J,ce,de,Ee,be,me={}){Di();let ge=gD(F,J);if(Ut({navigation:ge},{flushSync:me.flushSync===!0}),Ee){let Ce=await Ln(ce,F.pathname,M.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){if(Ce.partialMatches.length===0){let{matches:Qe,route:gt}=Qf(d);return{matches:Qe,pendingActionResult:[gt.id,{type:"error",error:Ce.error}]}}let je=Ya(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[je,{type:"error",error:Ce.error}]}}else if(Ce.matches)ce=Ce.matches;else{let{notFoundMatches:je,error:Qe,route:gt}=Pt(F.pathname);return{matches:je,pendingActionResult:[gt.id,{type:"error",error:Qe}]}}}let Se,Pe=oh(ce,F);if(!Pe.route.action&&!Pe.route.lazy)Se={type:"error",error:Mr(405,{method:M.method,pathname:F.pathname,routeId:Pe.route.id})};else{let Ce=ol(l,c,M,ce,Pe,be?[]:a,de),je=await Zn(M,Ce,de,null);if(Se=je[Pe.route.id],!Se){for(let Qe of ce)if(je[Qe.route.id]){Se=je[Qe.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Ks(Se)){let Ce;return me&&me.replace!=null?Ce=me.replace:Ce=c0(Se.response.headers.get("Location"),new URL(M.url),g,n.history)===S.location.pathname+S.location.search,await zt(M,Se,!0,{submission:J,replace:Ce}),{shortCircuited:!0}}if(dr(Se)){let Ce=Ya(ce,Pe.route.id);return(me&&me.replace)!==!0&&(w="PUSH"),{matches:ce,pendingActionResult:[Ce.route.id,Se,Pe.route.id]}}return{matches:ce,pendingActionResult:[Pe.route.id,Se]}}async function _s(M,F,J,ce,de,Ee,be,me,ge,Se,Pe,Ce,je){let Qe=Ee||Wp(F,be),gt=be||me||g0(Qe),Nt=!Ue&&!Se;if(de){if(Nt){let Bt=jt(Ce);Ut({navigation:Qe,...Bt!==void 0?{actionData:Bt}:{}},{flushSync:Pe})}let We=await Ln(J,F.pathname,M.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){if(We.partialMatches.length===0){let{matches:Jt,route:yt}=Qf(d);return{matches:Jt,loaderData:{},errors:{[yt.id]:We.error}}}let Bt=Ya(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Bt]:We.error}}}else if(We.matches)J=We.matches;else{let{error:Bt,notFoundMatches:Jt,route:yt}=Pt(F.pathname);return{matches:Jt,loaderData:{},errors:{[yt.id]:Bt}}}}let Rt=p||d,{dsMatches:Ge,revalidatingFetchers:Ct}=a0(M,ce,l,c,n.history,S,J,gt,F,Se?[]:a,Se===!0,W,fe,Ae,he,ie,Rt,g,n.patchRoutesOnNavigation!=null,Ce,je);if(Ve=++Me,!n.dataStrategy&&!Ge.some(We=>We.shouldLoad)&&!Ge.some(We=>We.route.middleware&&We.route.middleware.length>0)&&Ct.length===0){let We=Vt();return Wn(F,{matches:J,loaderData:{},errors:Ce&&dr(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...m0(Ce),...We?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(Nt){let We={};if(!de){We.navigation=Qe;let Bt=jt(Ce);Bt!==void 0&&(We.actionData=Bt)}Ct.length>0&&(We.fetchers=Kt(Ct)),Ut(We,{flushSync:Pe})}Ct.forEach(We=>{bt(We.key),We.controller&&ye.set(We.key,We.controller)});let hn=()=>Ct.forEach(We=>bt(We.key));N&&N.signal.addEventListener("abort",hn);let{loaderResults:It,fetcherResults:zn}=await ha(Ge,Ct,M,ce);if(M.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",hn),Ct.forEach(We=>ye.delete(We.key));let An=Xf(It);if(An)return await zt(M,An.result,!0,{replace:ge}),{shortCircuited:!0};if(An=Xf(zn),An)return ie.add(An.key),await zt(M,An.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Bn,errors:Rn}=h0(S,J,It,Ce,Ct,zn);Se&&S.errors&&(Rn={...S.errors,...Rn});let ir=Vt(),ai=Es(Ve),si=ir||ai||Ct.length>0;return{matches:J,loaderData:Bn,errors:Rn,...si?{fetchers:new Map(S.fetchers)}:{}}}function jt(M){if(M&&!dr(M[1]))return{[M[0]]:M[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Kt(M){return M.forEach(F=>{let J=S.fetchers.get(F.key),ce=xu(void 0,J?J.data:void 0);S.fetchers.set(F.key,ce)}),new Map(S.fetchers)}async function ni(M,F,J,ce){bt(M);let de=(ce&&ce.flushSync)===!0,Ee=p||d,be=vg(S.location,S.matches,g,J,F,ce==null?void 0:ce.relative),me=Ka(Ee,be,g),ge=Ni(me,Ee,be);if(ge.active&&ge.matches&&(me=ge.matches),!me){er(M,F,Mr(404,{pathname:be}),{flushSync:de});return}let{path:Se,submission:Pe,error:Ce}=i0(!0,be,ce);if(Ce){er(M,F,Ce,{flushSync:de});return}let je=n.getContext?await n.getContext():new JT,Qe=(ce&&ce.preventScrollReset)===!0;if(Pe&&Dn(Pe.formMethod)){await Pl(M,F,Se,me,je,ge.active,de,Qe,Pe,ce&&ce.unstable_defaultShouldRevalidate);return}he.set(M,{routeId:F,path:Se}),await fo(M,F,Se,me,je,ge.active,de,Qe,Pe)}async function Pl(M,F,J,ce,de,Ee,be,me,ge,Se){Di(),he.delete(M);let Pe=S.fetchers.get(M);fn(M,yD(ge,Pe),{flushSync:be});let Ce=new AbortController,je=Zo(n.history,J,Ce.signal,ge);if(Ee){let $e=await Ln(ce,new URL(je.url).pathname,je.signal,M);if($e.type==="aborted")return;if($e.type==="error"){er(M,F,$e.error,{flushSync:be});return}else if($e.matches)ce=$e.matches;else{er(M,F,Mr(404,{pathname:J}),{flushSync:be});return}}let Qe=oh(ce,J);if(!Qe.route.action&&!Qe.route.lazy){let $e=Mr(405,{method:ge.formMethod,pathname:J,routeId:F});er(M,F,$e,{flushSync:be});return}ye.set(M,Ce);let gt=Me,Nt=ol(l,c,je,ce,Qe,a,de),Rt=await Zn(je,Nt,de,M),Ge=Rt[Qe.route.id];if(!Ge){for(let $e of Nt)if(Rt[$e.route.id]){Ge=Rt[$e.route.id];break}}if(je.signal.aborted){ye.get(M)===Ce&&ye.delete(M);return}if(Ae.has(M)){if(Ks(Ge)||dr(Ge)){fn(M,Xi(void 0));return}}else{if(Ks(Ge))if(ye.delete(M),Ve>gt){fn(M,Xi(void 0));return}else return ie.add(M),fn(M,xu(ge)),zt(je,Ge,!1,{fetcherSubmission:ge,preventScrollReset:me});if(dr(Ge)){er(M,F,Ge.error);return}}let Ct=S.navigation.location||S.location,hn=Zo(n.history,Ct,Ce.signal),It=p||d,zn=S.navigation.state!=="idle"?Ka(It,S.navigation.location,g):S.matches;Xe(zn,"Didn't find any matches after fetcher action");let An=++Me;U.set(M,An);let Bn=xu(ge,Ge.data);S.fetchers.set(M,Bn);let{dsMatches:Rn,revalidatingFetchers:ir}=a0(hn,de,l,c,n.history,S,zn,ge,Ct,a,!1,W,fe,Ae,he,ie,It,g,n.patchRoutesOnNavigation!=null,[Qe.route.id,Ge],Se);ir.filter($e=>$e.key!==M).forEach($e=>{let ar=$e.key,pa=S.fetchers.get(ar),ut=xu(void 0,pa?pa.data:void 0);S.fetchers.set(ar,ut),bt(ar),$e.controller&&ye.set(ar,$e.controller)}),Ut({fetchers:new Map(S.fetchers)});let ai=()=>ir.forEach($e=>bt($e.key));Ce.signal.addEventListener("abort",ai);let{loaderResults:si,fetcherResults:We}=await ha(Rn,ir,hn,de);if(Ce.signal.aborted)return;if(Ce.signal.removeEventListener("abort",ai),U.delete(M),ye.delete(M),ir.forEach($e=>ye.delete($e.key)),S.fetchers.has(M)){let $e=Xi(Ge.data);S.fetchers.set(M,$e)}let Bt=Xf(si);if(Bt)return zt(hn,Bt.result,!1,{preventScrollReset:me});if(Bt=Xf(We),Bt)return ie.add(Bt.key),zt(hn,Bt.result,!1,{preventScrollReset:me});let{loaderData:Jt,errors:yt}=h0(S,zn,si,void 0,ir,We);Es(An),S.navigation.state==="loading"&&An>Ve?(Xe(w,"Expected pending action"),N&&N.abort(),Wn(S.navigation.location,{matches:zn,loaderData:Jt,errors:yt,fetchers:new Map(S.fetchers)})):(Ut({errors:yt,loaderData:d0(S.loaderData,Jt,zn,yt),fetchers:new Map(S.fetchers)}),W=!1)}async function fo(M,F,J,ce,de,Ee,be,me,ge){let Se=S.fetchers.get(M);fn(M,xu(ge,Se?Se.data:void 0),{flushSync:be});let Pe=new AbortController,Ce=Zo(n.history,J,Pe.signal);if(Ee){let Ge=await Ln(ce,new URL(Ce.url).pathname,Ce.signal,M);if(Ge.type==="aborted")return;if(Ge.type==="error"){er(M,F,Ge.error,{flushSync:be});return}else if(Ge.matches)ce=Ge.matches;else{er(M,F,Mr(404,{pathname:J}),{flushSync:be});return}}let je=oh(ce,J);ye.set(M,Pe);let Qe=Me,gt=ol(l,c,Ce,ce,je,a,de),Rt=(await Zn(Ce,gt,de,M))[je.route.id];if(ye.get(M)===Pe&&ye.delete(M),!Ce.signal.aborted){if(Ae.has(M)){fn(M,Xi(void 0));return}if(Ks(Rt))if(Ve>Qe){fn(M,Xi(void 0));return}else{ie.add(M),await zt(Ce,Rt,!1,{preventScrollReset:me});return}if(dr(Rt)){er(M,F,Rt.error);return}fn(M,Xi(Rt.data))}}async function zt(M,F,J,{submission:ce,fetcherSubmission:de,preventScrollReset:Ee,replace:be}={}){J||(R==null||R.resolve(),R=null),F.response.headers.has("X-Remix-Revalidate")&&(W=!0);let me=F.response.headers.get("Location");Xe(me,"Expected a Location header on the redirect Response"),me=c0(me,new URL(M.url),g,n.history);let ge=Qu(S.location,me,{_isRedirect:!0});if(t){let gt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))gt=!0;else if(ry(me)){const Nt=bb(me,!0);gt=Nt.origin!==e.location.origin||Lr(Nt.pathname,g)==null}if(gt){be?e.location.replace(me):e.location.assign(me);return}}N=null;let Se=be===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Ce,formEncType:je}=S.navigation;!ce&&!de&&Pe&&Ce&&je&&(ce=g0(S.navigation));let Qe=ce||de;if($I.has(F.response.status)&&Qe&&Dn(Qe.formMethod))await Mn(Se,ge,{submission:{...Qe,formAction:me},preventScrollReset:Ee||D,enableViewTransition:J?V:void 0});else{let gt=Wp(ge,ce);await Mn(Se,ge,{overrideNavigation:gt,fetcherSubmission:de,preventScrollReset:Ee||D,enableViewTransition:J?V:void 0})}}async function Zn(M,F,J,ce){var be;let de,Ee={};try{de=await nD(_,M,F,ce,J,!1)}catch(me){return F.filter(ge=>ge.shouldLoad).forEach(ge=>{Ee[ge.route.id]={type:"error",error:me}}),Ee}if(M.signal.aborted)return Ee;if(!Dn(M.method))for(let me of F){if(((be=de[me.route.id])==null?void 0:be.type)==="error")break;!de.hasOwnProperty(me.route.id)&&!S.loaderData.hasOwnProperty(me.route.id)&&(!S.errors||!S.errors.hasOwnProperty(me.route.id))&&me.shouldCallHandler()&&(de[me.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${me.route.id}`)})}for(let[me,ge]of Object.entries(de))if(hD(ge)){let Se=ge.result;Ee[me]={type:"redirect",response:sD(Se,M,me,F,g)}}else Ee[me]=await aD(ge);return Ee}async function ha(M,F,J,ce){let de=Zn(J,M,ce,null),Ee=Promise.all(F.map(async ge=>{if(ge.matches&&ge.match&&ge.request&&ge.controller){let Pe=(await Zn(ge.request,ge.matches,ce,ge.key))[ge.match.route.id];return{[ge.key]:Pe}}else return Promise.resolve({[ge.key]:{type:"error",error:Mr(404,{pathname:ge.path})}})})),be=await de,me=(await Ee).reduce((ge,Se)=>Object.assign(ge,Se),{});return{loaderResults:be,fetcherResults:me}}function Di(){W=!0,he.forEach((M,F)=>{ye.has(F)&&fe.add(F),bt(F)})}function fn(M,F,J={}){S.fetchers.set(M,F),Ut({fetchers:new Map(S.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function er(M,F,J,ce={}){let de=Ya(S.matches,F);da(M),Ut({errors:{[de.route.id]:J},fetchers:new Map(S.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function vs(M){return _e.set(M,(_e.get(M)||0)+1),Ae.has(M)&&Ae.delete(M),S.fetchers.get(M)||KI}function ho(M,F){bt(M,F==null?void 0:F.reason),fn(M,Xi(null))}function da(M){let F=S.fetchers.get(M);ye.has(M)&&!(F&&F.state==="loading"&&U.has(M))&&bt(M),he.delete(M),U.delete(M),ie.delete(M),Ae.delete(M),fe.delete(M),S.fetchers.delete(M)}function tr(M){let F=(_e.get(M)||0)-1;F<=0?(_e.delete(M),Ae.add(M)):_e.set(M,F),Ut({fetchers:new Map(S.fetchers)})}function bt(M,F){let J=ye.get(M);J&&(J.abort(F),ye.delete(M))}function Vn(M){for(let F of M){let J=vs(F),ce=Xi(J.data);S.fetchers.set(F,ce)}}function Vt(){let M=[],F=!1;for(let J of ie){let ce=S.fetchers.get(J);Xe(ce,`Expected fetcher: ${J}`),ce.state==="loading"&&(ie.delete(J),M.push(J),F=!0)}return Vn(M),F}function Es(M){let F=[];for(let[J,ce]of U)if(ce<M){let de=S.fetchers.get(J);Xe(de,`Expected fetcher: ${J}`),de.state==="loading"&&(bt(J),U.delete(J),F.push(J))}return Vn(F),F.length>0}function ma(M,F){let J=S.blockers.get(M)||Nu;return Ne.get(M)!==F&&Ne.set(M,F),J}function Ts(M){S.blockers.delete(M),Ne.delete(M)}function Pn(M,F){let J=S.blockers.get(M)||Nu;Xe(J.state==="unblocked"&&F.state==="blocked"||J.state==="blocked"&&F.state==="blocked"||J.state==="blocked"&&F.state==="proceeding"||J.state==="blocked"&&F.state==="unblocked"||J.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${F.state}`);let ce=new Map(S.blockers);ce.set(M,F),Ut({blockers:ce})}function ri({currentLocation:M,nextLocation:F,historyAction:J}){if(Ne.size===0)return;Ne.size>1&&$t(!1,"A router only supports one blocker at a time");let ce=Array.from(Ne.entries()),[de,Ee]=ce[ce.length-1],be=S.blockers.get(de);if(!(be&&be.state==="proceeding")&&Ee({currentLocation:M,nextLocation:F,historyAction:J}))return de}function Pt(M){let F=Mr(404,{pathname:M}),J=p||d,{matches:ce,route:de}=Qf(J);return{notFoundMatches:ce,route:de,error:F}}function Tr(M,F,J){if(L=M,k=F,z=J||null,!$&&S.navigation===Xp){$=!0;let ce=mo(S.location,S.matches);ce!=null&&Ut({restoreScrollPosition:ce})}return()=>{L=null,k=null,z=null}}function nr(M,F){return z&&z(M,F.map(ce=>vI(ce,S.loaderData)))||M.key}function rr(M,F){if(L&&k){let J=nr(M,F);L[J]=k()}}function mo(M,F){if(L){let J=nr(M,F),ce=L[J];if(typeof ce=="number")return ce}return null}function Ni(M,F,J){if(n.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Pu(F,J,g,!0)}}else return{active:!0,matches:Pu(F,J,g,!0)||[]};return{active:!1,matches:null}}async function Ln(M,F,J,ce){if(!n.patchRoutesOnNavigation)return{type:"success",matches:M};let de=M;for(;;){let Ee=p==null,be=p||d,me=c;try{await n.patchRoutesOnNavigation({signal:J,path:F,matches:de,fetcherKey:ce,patch:(Pe,Ce)=>{J.aborted||s0(Pe,Ce,be,me,l,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:de}}finally{Ee&&!J.aborted&&(d=[...d])}if(J.aborted)return{type:"aborted"};let ge=Ka(be,F,g),Se=null;if(ge){if(Object.keys(ge[0].params).length===0)return{type:"success",matches:ge};if(Se=Pu(be,F,g,!0),!(Se&&de.length<Se.length&&ii(de,Se.slice(0,de.length))))return{type:"success",matches:ge}}if(Se||(Se=Pu(be,F,g,!0)),!Se||ii(de,Se))return{type:"success",matches:null};de=Se}}function ii(M,F){return M.length===F.length&&M.every((J,ce)=>J.route.id===F[ce].route.id)}function Ll(M){c={},p=Xu(M,l,void 0,c)}function xi(M,F,J=!1){let ce=p==null;s0(M,F,p||d,c,l,J),ce&&(d=[...d],Ut({}))}return G={get basename(){return g},get future(){return E},get state(){return S},get routes(){return d},get window(){return e},initialize:At,subscribe:fa,enableScrollRestoration:Tr,navigate:Jn,fetch:ni,revalidate:gs,createHref:M=>n.history.createHref(M),encodeLocation:M=>n.history.encodeLocation(M),getFetcher:vs,resetFetcher:ho,deleteFetcher:tr,dispose:Ii,getBlocker:ma,deleteBlocker:Ts,patchRoutes:xi,_internalFetchControllers:ye,_internalSetRoutes:Ll,_internalSetStateDoNotUseOrYouWillBreakYourApp(M){Ut(M)}},n.unstable_instrumentations&&(G=UI(G,n.unstable_instrumentations.map(M=>M.router).filter(Boolean))),G}function XI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function vg(n,e,t,a,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let p=cd(a||".",ud(c),Lr(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&d){let g=sy(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(p.search),E=_.getAll("index");_.delete("index"),E.filter(C=>C).forEach(C=>_.append("index",C));let b=_.toString();p.search=b?`?${b}`:""}}return t!=="/"&&(p.pathname=OI({basename:t,pathname:p.pathname})),Ai(p)}function i0(n,e,t){if(!t||!XI(t))return{path:e};if(t.formMethod&&!pD(t.formMethod))return{path:e,error:Mr(405,{method:t.formMethod})};let a=()=>({path:e,error:Mr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=zb(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dn(l))return a();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[C,L])=>`${b}${C}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Dn(l))return a();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Sg(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Sg(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=f0(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=f0(d)}catch{return a()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Dn(g.formMethod))return{path:e,submission:g};let _=la(e);return n&&_.search&&sy(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Ai(_),submission:g}}function a0(n,e,t,a,o,l,c,d,p,g,_,E,b,C,L,z,k,$,H,K,ee){var Ue;let te=K?dr(K[1])?K[1].error:K[1].data:void 0,G=o.createURL(l.location),S=o.createURL(p),w;if(_&&l.errors){let W=Object.keys(l.errors)[0];w=c.findIndex(fe=>fe.route.id===W)}else if(K&&dr(K[1])){let W=K[0];w=c.findIndex(fe=>fe.route.id===W)-1}let R=K?K[1].statusCode:void 0,D=R&&R>=400,N={currentUrl:G,currentParams:((Ue=l.matches[0])==null?void 0:Ue.params)||{},nextUrl:S,nextParams:c[0].params,...d,actionResult:te,actionStatus:R},V=cc(c),O=c.map((W,fe)=>{let{route:ye}=W,Me=null;if(w!=null&&fe>w?Me=!1:ye.lazy?Me=!0:iy(ye)?_?Me=Eg(ye,l.loaderData,l.errors):WI(l.loaderData,l.matches[fe],W)&&(Me=!0):Me=!1,Me!==null)return Tg(t,a,n,V,W,g,e,Me);let Ve=!1;typeof ee=="boolean"?Ve=ee:D?Ve=!1:(E||G.pathname+G.search===S.pathname+S.search||G.search!==S.search||JI(l.matches[fe],W))&&(Ve=!0);let U={...N,defaultShouldRevalidate:Ve},ie=Bu(W,U);return Tg(t,a,n,V,W,g,e,ie,U,ee)}),Oe=[];return L.forEach((W,fe)=>{if(_||!c.some(Ae=>Ae.route.id===W.routeId)||C.has(fe))return;let ye=l.fetchers.get(fe),Me=ye&&ye.state!=="idle"&&ye.data===void 0,Ve=Ka(k,W.path,$);if(!Ve){if(H&&Me)return;Oe.push({key:fe,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(z.has(fe))return;let U=oh(Ve,W.path),ie=new AbortController,he=Zo(o,W.path,ie.signal),_e=null;if(b.has(fe))b.delete(fe),_e=ol(t,a,he,Ve,U,g,e);else if(Me)E&&(_e=ol(t,a,he,Ve,U,g,e));else{let Ae;typeof ee=="boolean"?Ae=ee:D?Ae=!1:Ae=E;let Ne={...N,defaultShouldRevalidate:Ae};Bu(U,Ne)&&(_e=ol(t,a,he,Ve,U,g,e,Ne))}_e&&Oe.push({key:fe,routeId:W.routeId,path:W.path,matches:_e,match:U,request:he,controller:ie})}),{dsMatches:O,revalidatingFetchers:Oe}}function iy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function Eg(n,e,t){if(n.lazy)return!0;if(!iy(n))return!1;let a=e!=null&&n.id in e,o=t!=null&&t[n.id]!==void 0;return!a&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!o}function WI(n,e,t){let a=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return a||o}function JI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Bu(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function s0(n,e,t,a,o,l){let c;if(n){let g=a[n];Xe(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],p=[];if(e.forEach(g=>{let _=c.find(E=>Pb(g,E));_?p.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=Xu(d,o,[n||"_","patch",String((c==null?void 0:c.length)||"0")],a);c.push(...g)}if(l&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:_,newRoute:E}=p[g],b=_,[C]=Xu([E],o,[],{},!0);Object.assign(b,{element:C.element?C.element:b.element,errorElement:C.errorElement?C.errorElement:b.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:b.hydrateFallbackElement})}}function Pb(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>{var o;return(o=e.children)==null?void 0:o.some(l=>Pb(t,l))}):!1}var o0=new WeakMap,Lb=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let o=t[e.id];if(Xe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[n];if(!l)return;let c=o0.get(o);c||(c={},o0.set(o,c));let d=c[n];if(d)return d;let p=(async()=>{let g=pI(n),E=o[n]!==void 0&&n!=="hasErrorBoundary";if(g)$t(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)$t(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(o,{[n]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return c[n]=p,p},l0=new WeakMap;function ZI(n,e,t,a,o){let l=t[n.id];if(Xe(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=l0.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let E=(async()=>{Xe(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),C={};for(let L in b){let z=b[L];if(z===void 0)continue;let k=yI(L),H=l[L]!==void 0&&L!=="hasErrorBoundary";k?$t(!k,"Route property "+L+" is not a supported property to be returned from a lazy route function. This property will be ignored."):H?$t(!H,`Route "${l.id}" has a static property "${L}" defined but its lazy function is also returning a value for this property. The lazy route property "${L}" will be ignored.`):C[L]=z}Object.assign(l,C),Object.assign(l,{...a(l),lazy:void 0})})();return l0.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),d=[],p;for(let _ of c){if(o&&o.includes(_))continue;let E=Lb({key:_,route:n,manifest:t,mapRouteProperties:a});E&&(d.push(E),_===e&&(p=E))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function u0(n){let e=n.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{t[e[l].route.id]=o}),t}async function eD(n){return n.matches.some(e=>e.route.middleware)?kb(n,()=>u0(n)):u0(n)}function kb(n,e){return tD(n,e,a=>{if(mD(a))throw a;return a},cD,t);function t(a,o,l){if(l)return Promise.resolve(Object.assign(l.value,{[o]:{type:"error",result:a}}));{let{matches:c}=n,d=Math.min(Math.max(c.findIndex(g=>g.route.id===o),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),p=Ya(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function tD(n,e,t,a,o){let{matches:l,request:c,params:d,context:p,unstable_pattern:g}=n,_=l.flatMap(b=>b.route.middleware?b.route.middleware.map(C=>[b.route.id,C]):[]);return await Ub({request:c,params:d,context:p,unstable_pattern:g},_,e,t,a,o)}async function Ub(n,e,t,a,o,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[g,_]=p,E,b=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await Ub(n,e,t,a,o,l,c+1)},E.value}catch(C){return E={value:await l(C,g,E)},E.value}};try{let C=await _(n,b),L=C!=null?a(C):void 0;return o(L)?L:E?L??E.value:(E={value:await b()},E.value)}catch(C){return await l(C,g,E)}}function jb(n,e,t,a,o){let l=Lb({key:"middleware",route:a.route,manifest:e,mapRouteProperties:n}),c=ZI(a.route,Dn(t.method)?"action":"loader",e,n,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Tg(n,e,t,a,o,l,c,d,p=null,g){let _=!1,E=jb(n,e,t,o,l);return{...o,_lazyPromises:E,shouldLoad:d,shouldRevalidateArgs:p,shouldCallHandler(b){return _=!0,p?typeof g=="boolean"?Bu(o,{...p,defaultShouldRevalidate:g}):typeof b=="boolean"?Bu(o,{...p,defaultShouldRevalidate:b}):Bu(o,p):d},resolve(b){let{lazy:C,loader:L,middleware:z}=o.route,k=_||d||b&&!Dn(t.method)&&(C||L),$=z&&z.length>0&&!L&&!C;return k&&(Dn(t.method)||!$)?rD({request:t,unstable_pattern:a,match:o,lazyHandlerPromise:E==null?void 0:E.handler,lazyRoutePromise:E==null?void 0:E.route,handlerOverride:b,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ol(n,e,t,a,o,l,c,d=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:jb(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Tg(n,e,t,cc(a),p,l,c,!0,d))}async function nD(n,e,t,a,o,l){t.some(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(t.map(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware}));let c={request:e,unstable_pattern:cc(t),params:t[0].params,context:o,matches:t},p=await n({...c,fetcherKey:a,runClientMiddleware:g=>{let _=c;return kb(_,()=>g({..._,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var _,E;return[(_=g._lazyPromises)==null?void 0:_.handler,(E=g._lazyPromises)==null?void 0:E.route]}))}catch{}return p}async function rD({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:l,scopedContext:c}){let d,p,g=Dn(n.method),_=g?"action":"loader",E=b=>{let C,L=new Promise(($,H)=>C=H);p=()=>C(),n.signal.addEventListener("abort",p);let z=$=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${t.route.id}]`)):b({request:n,unstable_pattern:e,params:t.params,context:c},...$!==void 0?[$]:[]),k=(async()=>{try{return{type:"data",result:await(l?l(H=>z(H)):z())}}catch($){return{type:"error",result:$}}})();return Promise.race([k,L])};try{let b=g?t.route.action:t.route.loader;if(a||o)if(b){let C,[L]=await Promise.all([E(b).catch(z=>{C=z}),a,o]);if(C!==void 0)throw C;d=L}else{await a;let C=g?t.route.action:t.route.loader;if(C)[d]=await Promise.all([E(C),o]);else if(_==="action"){let L=new URL(n.url),z=L.pathname+L.search;throw Mr(405,{method:n.method,pathname:z,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=await E(b);else{let C=new URL(n.url),L=C.pathname+C.search;throw Mr(404,{pathname:L})}}catch(b){return{type:"error",result:b}}finally{p&&n.signal.removeEventListener("abort",p)}return d}async function iD(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function aD(n){var a,o,l,c,d;let{result:e,type:t}=n;if(ay(e)){let p;try{p=await iD(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new uc(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?p0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:uD(e),statusCode:Wu(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Wu(e)?e.status:void 0}:p0(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function sD(n,e,t,a,o){let l=n.headers.get("Location");if(Xe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!ry(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=vg(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function c0(n,e,t,a){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(ry(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(o.includes(c.protocol))throw new Error("Invalid redirect location");let d=Lr(c.pathname,t)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=a.createURL(n);if(o.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function Zo(n,e,t,a){let o=n.createURL(zb(e)).toString(),l={signal:t};if(a&&Dn(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=Sg(a.formData):l.body=a.formData}return new Request(o,l)}function Sg(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function f0(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function oD(n,e,t,a=!1,o=!1){let l={},c=null,d,p=!1,g={},_=t&&dr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let b=E.route.id,C=e[b];if(Xe(!Ks(C),"Cannot handle redirect results in processLoaderData"),dr(C)){let L=C.error;if(_!==void 0&&(L=_,_=void 0),c=c||{},o)c[b]=L;else{let z=Ya(n,b);c[z.route.id]==null&&(c[z.route.id]=L)}a||(l[b]=Vb),p||(p=!0,d=Wu(C.error)?C.error.status:500),C.headers&&(g[b]=C.headers)}else l[b]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(d=C.statusCode),C.headers&&(g[b]=C.headers)}),_!==void 0&&t&&(c={[t[0]]:_},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function h0(n,e,t,a,o,l){let{loaderData:c,errors:d}=oD(e,t,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:_,controller:E}=p;if(E&&E.signal.aborted)return;let b=l[g];if(Xe(b,"Did not find corresponding fetcher result"),dr(b)){let C=Ya(n.matches,_==null?void 0:_.route.id);d&&d[C.route.id]||(d={...d,[C.route.id]:b.error}),n.fetchers.delete(g)}else if(Ks(b))Xe(!1,"Unhandled fetcher revalidation redirect");else{let C=Xi(b.data);n.fetchers.set(g,C)}}),{loaderData:c,errors:d}}function d0(n,e,t,a){let o=Object.entries(e).filter(([,l])=>l!==Vb).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),a&&a.hasOwnProperty(c))break}return o}function m0(n){return n?dr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ya(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function Qf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Mr(n,{pathname:e,routeId:t,method:a,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new uc(n||500,c,new Error(d),!0)}function Xf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(Ks(o))return{key:a,result:o}}}function zb(n){let e=typeof n=="string"?la(n):n;return Ai({...e,hash:""})}function lD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function uD(n){var e,t;return new uc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function cD(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&fD(t))}function fD(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function hD(n){return ay(n.result)&&Ob.has(n.result.status)}function dr(n){return n.type==="error"}function Ks(n){return(n&&n.type)==="redirect"}function p0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function ay(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function dD(n){return Ob.has(n)}function mD(n){return ay(n)&&dD(n.status)&&n.headers.has("Location")}function pD(n){return GI.has(n.toUpperCase())}function Dn(n){return HI.has(n.toUpperCase())}function sy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function oh(n,e){let t=typeof e=="string"?la(e).search:e.search;if(n[n.length-1].route.index&&sy(t||""))return n[n.length-1];let a=Cb(n);return a[a.length-1]}function g0(n){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:l,json:c}=n;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function Wp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Xi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function _D(n,e){try{let t=n.sessionStorage.getItem(Mb);if(t){let a=JSON.parse(t);for(let[o,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function vD(n,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{n.sessionStorage.setItem(Mb,JSON.stringify(t))}catch(a){$t(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function y0(){let n,e,t=new Promise((a,o)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var so=B.createContext(null);so.displayName="DataRouter";var fc=B.createContext(null);fc.displayName="DataRouterState";var Bb=B.createContext(!1);function ED(){return B.useContext(Bb)}var oy=B.createContext({isTransitioning:!1});oy.displayName="ViewTransition";var Fb=B.createContext(new Map);Fb.displayName="Fetchers";var TD=B.createContext(null);TD.displayName="Await";var Er=B.createContext(null);Er.displayName="Navigation";var fd=B.createContext(null);fd.displayName="Location";var Ur=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var ly=B.createContext(null);ly.displayName="RouteError";var Hb="REACT_ROUTER_ERROR",SD="REDIRECT",bD="ROUTE_ERROR_RESPONSE";function wD(n){if(n.startsWith(`${Hb}:${SD}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function AD(n){if(n.startsWith(`${Hb}:${bD}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uc(e.status,e.statusText,e.data)}catch{}}function RD(n,{relative:e}={}){Xe(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=B.useContext(Er),{hash:o,pathname:l,search:c}=dc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ei([t,l])),a.createHref({pathname:d,search:c,hash:o})}function Rl(){return B.useContext(fd)!=null}function ti(){return Xe(Rl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(fd).location}var qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gb(n){B.useContext(Er).static||B.useLayoutEffect(n)}function hc(){let{isDataRoute:n}=B.useContext(Ur);return n?BD():CD()}function CD(){Xe(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(so),{basename:e,navigator:t}=B.useContext(Er),{matches:a}=B.useContext(Ur),{pathname:o}=ti(),l=JSON.stringify(ud(a)),c=B.useRef(!1);return Gb(()=>{c.current=!0}),B.useCallback((p,g={})=>{if($t(c.current,qb),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=cd(p,JSON.parse(l),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ei([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,n])}var ID=B.createContext(null);function DD(n){let e=B.useContext(Ur).outlet;return B.useMemo(()=>e&&B.createElement(ID.Provider,{value:n},e),[e,n])}function hd(){let{matches:n}=B.useContext(Ur),e=n[n.length-1];return e?e.params:{}}function dc(n,{relative:e}={}){let{matches:t}=B.useContext(Ur),{pathname:a}=ti(),o=JSON.stringify(ud(t));return B.useMemo(()=>cd(n,JSON.parse(o),a,e==="path"),[n,o,a,e])}function ND(n,e,t,a,o){Xe(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Er),{matches:c}=B.useContext(Ur),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let H=E&&E.path||"";Kb(g,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let b=ti(),C;C=b;let L=C.pathname||"/",z=L;if(_!=="/"){let H=_.replace(/^\//,"").split("/");z="/"+L.replace(/^\//,"").split("/").slice(H.length).join("/")}let k=Ka(n,{pathname:z});return $t(E||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),$t(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PD(k&&k.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:Ei([_,l.encodeLocation?l.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?_:Ei([_,l.encodeLocation?l.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),c,t,a,o)}function xD(){let n=zD(),e=Wu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,c)}var OD=B.createElement(xD,null),$b=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=AD(n.digest);t&&(n=t)}let e=n!==void 0?B.createElement(Ur.Provider,{value:this.props.routeContext},B.createElement(ly.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(MD,{error:n},e):e}};$b.contextType=Bb;var Jp=new WeakMap;function MD({children:n,error:e}){let{basename:t}=B.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=wD(e.digest);if(a){let o=Jp.get(e);if(o)throw o;let l=Db(a.location,t);if(Ib&&!Jp.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw Jp.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function VD({routeContext:n,match:e,children:t}){let a=B.useContext(so);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ur.Provider,{value:n},t)}function PD(n,e=[],t=null,a=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&(c==null?void 0:c[E.route.id])!==void 0);Xe(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=_),E.route.id){let{loaderData:b,errors:C}=t,L=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||L){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&a?(_,E)=>{var b,C;a(_,{location:t.location,params:((C=(b=t.matches)==null?void 0:b[0])==null?void 0:C.params)??{},unstable_pattern:cc(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,b)=>{let C,L=!1,z=null,k=null;t&&(C=c&&E.route.id?c[E.route.id]:void 0,z=E.route.errorElement||OD,d&&(p<0&&b===0?(Kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,k=null):p===b&&(L=!0,k=E.route.hydrateFallbackElement||null)));let $=e.concat(l.slice(0,b+1)),H=()=>{let K;return C?K=z:L?K=k:E.route.Component?K=B.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=_,B.createElement(VD,{match:E,routeContext:{outlet:_,matches:$,isDataRoute:t!=null},children:K})};return t&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?B.createElement($b,{location:t.location,revalidation:t.revalidation,component:z,error:C,children:H(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):H()},null)}function uy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LD(n){let e=B.useContext(so);return Xe(e,uy(n)),e}function kD(n){let e=B.useContext(fc);return Xe(e,uy(n)),e}function UD(n){let e=B.useContext(Ur);return Xe(e,uy(n)),e}function cy(n){let e=UD(n),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jD(){return cy("useRouteId")}function zD(){var a;let n=B.useContext(ly),e=kD("useRouteError"),t=cy("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[t]}function BD(){let{router:n}=LD("useNavigate"),e=cy("useNavigate"),t=B.useRef(!1);return Gb(()=>{t.current=!0}),B.useCallback(async(o,l={})=>{$t(t.current,qb),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var _0={};function Kb(n,e,t){!e&&!_0[n]&&(_0[n]=!0,$t(!1,t))}var v0={};function E0(n,e){!n&&!v0[e]&&(v0[e]=!0,console.warn(e))}var FD="useOptimistic",T0=VC[FD],HD=()=>{};function qD(n){return T0?T0(n):[n,HD]}function GD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var $D=["HydrateFallback","hydrateFallbackElement"],KD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function YD({router:n,flushSync:e,onError:t,unstable_useTransitions:a}){a=ED()||a;let[l,c]=B.useState(n.state),[d,p]=qD(l),[g,_]=B.useState(),[E,b]=B.useState({isTransitioning:!1}),[C,L]=B.useState(),[z,k]=B.useState(),[$,H]=B.useState(),K=B.useRef(new Map),ee=B.useCallback((w,{deletedFetchers:R,newErrors:D,flushSync:N,viewTransitionOpts:V})=>{D&&t&&Object.values(D).forEach(Oe=>{var Ue;return t(Oe,{location:w.location,params:((Ue=w.matches[0])==null?void 0:Ue.params)??{},unstable_pattern:cc(w.matches)})}),w.fetchers.forEach((Oe,Ue)=>{Oe.data!==void 0&&K.current.set(Ue,Oe.data)}),R.forEach(Oe=>K.current.delete(Oe)),E0(N===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(E0(V==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!O){e&&N?e(()=>c(w)):a===!1?c(w):B.startTransition(()=>{a===!0&&p(Oe=>S0(Oe,w)),c(w)});return}if(e&&N){e(()=>{z&&(C==null||C.resolve(),z.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let Oe=n.window.document.startViewTransition(()=>{e(()=>c(w))});Oe.finished.finally(()=>{e(()=>{L(void 0),k(void 0),_(void 0),b({isTransitioning:!1})})}),e(()=>k(Oe));return}z?(C==null||C.resolve(),z.skipTransition(),H({state:w,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(_(w),b({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,e,z,C,a,p,t]);B.useLayoutEffect(()=>n.subscribe(ee),[n,ee]),B.useEffect(()=>{E.isTransitioning&&!E.flushSync&&L(new KD)},[E]),B.useEffect(()=>{if(C&&g&&n.window){let w=g,R=C.promise,D=n.window.document.startViewTransition(async()=>{a===!1?c(w):B.startTransition(()=>{a===!0&&p(N=>S0(N,w)),c(w)}),await R});D.finished.finally(()=>{L(void 0),k(void 0),_(void 0),b({isTransitioning:!1})}),k(D)}},[g,C,n.window,a,p]),B.useEffect(()=>{C&&g&&d.location.key===g.location.key&&C.resolve()},[C,z,d.location,g]),B.useEffect(()=>{!E.isTransitioning&&$&&(_($.state),b({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}),H(void 0))},[E.isTransitioning,$]);let te=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,R,D)=>n.navigate(w,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(w,R,D)=>n.navigate(w,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),G=n.basename||"/",S=B.useMemo(()=>({router:n,navigator:te,static:!1,basename:G,onError:t}),[n,te,G,t]);return B.createElement(B.Fragment,null,B.createElement(so.Provider,{value:S},B.createElement(fc.Provider,{value:d},B.createElement(Fb.Provider,{value:K.current},B.createElement(oy.Provider,{value:E},B.createElement(WD,{basename:G,location:d.location,navigationType:d.historyAction,navigator:te,unstable_useTransitions:a},B.createElement(QD,{routes:n.routes,future:n.future,state:d,onError:t})))))),null)}function S0(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var QD=B.memo(XD);function XD({routes:n,future:e,state:t,onError:a}){return ND(n,void 0,t,a,e)}function es({to:n,replace:e,state:t,relative:a}){Xe(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Er);$t(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Ur),{pathname:c}=ti(),d=hc(),p=cd(n,ud(l),c,a==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function Yb(n){return DD(n.context)}function WD({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Xe(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof t=="string"&&(t=la(t));let{pathname:g="/",search:_="",hash:E="",state:b=null,key:C="default"}=t,L=B.useMemo(()=>{let z=Lr(g,d);return z==null?null:{location:{pathname:z,search:_,hash:E,state:b,key:C},navigationType:a}},[d,g,_,E,b,C,a]);return $t(L!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:B.createElement(Er.Provider,{value:p},B.createElement(fd.Provider,{children:e,value:L}))}var lh="get",uh="application/x-www-form-urlencoded";function dd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function JD(n){return dd(n)&&n.tagName.toLowerCase()==="button"}function ZD(n){return dd(n)&&n.tagName.toLowerCase()==="form"}function e2(n){return dd(n)&&n.tagName.toLowerCase()==="input"}function t2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function n2(n,e){return n.button===0&&(!e||e==="_self")&&!t2(n)}var Wf=null;function r2(){if(Wf===null)try{new FormData(document.createElement("form"),0),Wf=!1}catch{Wf=!0}return Wf}var i2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(n){return n!=null&&!i2.has(n)?($t(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):n}function a2(n,e){let t,a,o,l,c;if(ZD(n)){let d=n.getAttribute("action");a=d?Lr(d,e):null,t=n.getAttribute("method")||lh,o=Zp(n.getAttribute("enctype"))||uh,l=new FormData(n)}else if(JD(n)||e2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(a=p?Lr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||lh,o=Zp(n.getAttribute("formenctype"))||Zp(d.getAttribute("enctype"))||uh,l=new FormData(d,n),!r2()){let{name:g,type:_,value:E}=n;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,E)}}else{if(dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lh,a=null,o=uh,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function s2(n,e,t,a){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Lr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function o2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function u2(n,e,t){let a=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await o2(l,t);return c.links?c.links():[]}return[]}));return d2(a.flat(1).filter(l2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function b0(n,e,t,a,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function c2(n,e,{includeHydrateFallback:t}={}){return f2(n.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function f2(n){return[...new Set(n)]}function h2(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function d2(n,e){let t=new Set;return new Set(e),n.reduce((a,o)=>{let l=JSON.stringify(h2(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}function Qb(){let n=B.useContext(so);return fy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function m2(){let n=B.useContext(fc);return fy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hy=B.createContext(void 0);hy.displayName="FrameworkContext";function Xb(){let n=B.useContext(hy);return fy(n,"You must render this element inside a <HydratedRouter> element"),n}function p2(n,e){let t=B.useContext(hy),[a,o]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=$=>{$.forEach(H=>{c(H.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),B.useEffect(()=>{if(a){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[a]);let C=()=>{o(!0)},L=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Ou(d,C),onBlur:Ou(p,L),onMouseEnter:Ou(g,C),onMouseLeave:Ou(_,L),onTouchStart:Ou(E,C)}]:[!1,b,{}]}function Ou(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function g2({page:n,...e}){let{router:t}=Qb(),a=B.useMemo(()=>Ka(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?B.createElement(_2,{page:n,matches:a,...e}):null}function y2(n){let{manifest:e,routeModules:t}=Xb(),[a,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return u2(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),a}function _2({page:n,matches:e,...t}){let a=ti(),{future:o,manifest:l,routeModules:c}=Xb(),{basename:d}=Qb(),{loaderData:p,matches:g}=m2(),_=B.useMemo(()=>b0(n,e,g,l,a,"data"),[n,e,g,l,a]),E=B.useMemo(()=>b0(n,e,g,l,a,"assets"),[n,e,g,l,a]),b=B.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let z=new Set,k=!1;if(e.forEach(H=>{var ee;let K=l.routes[H.route.id];!K||!K.hasLoader||(!_.some(te=>te.route.id===H.route.id)&&H.route.id in p&&((ee=c[H.route.id])!=null&&ee.shouldRevalidate)||K.hasClientLoader?k=!0:z.add(H.route.id))}),z.size===0)return[];let $=s2(n,d,o.unstable_trailingSlashAwareDataRequests,"data");return k&&z.size>0&&$.searchParams.set("_routes",e.filter(H=>z.has(H.route.id)).map(H=>H.route.id).join(",")),[$.pathname+$.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,a,l,_,e,n,c]),C=B.useMemo(()=>c2(E,l),[E,l]),L=y2(E);return B.createElement(B.Fragment,null,b.map(z=>B.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),C.map(z=>B.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),L.map(({key:z,link:k})=>B.createElement("link",{key:z,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function v2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var E2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E2&&(window.__reactRouterVersion="7.13.0")}catch{}function T2(n,e){return QI({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:fI({window:e==null?void 0:e.window}),hydrationData:S2(),routes:n,mapRouteProperties:GD,hydrationRouteProperties:$D,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function S2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:b2(n.errors)}),n}function b2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new uc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let l=new Error(o.message);l.stack="",t[a]=l}}else t[a]=o;return t}var Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jb=B.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...C},L){let{basename:z,unstable_useTransitions:k}=B.useContext(Er),$=typeof g=="string"&&Wb.test(g),H=Db(g,z);g=H.to;let K=RD(g,{relative:o}),[ee,te,G]=p2(a,C),S=C2(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:k});function w(D){e&&e(D),D.defaultPrevented||S(D)}let R=B.createElement("a",{...C,...G,href:H.absoluteURL||K,onClick:H.isExternal||l?e:w,ref:v2(L,te),target:p,"data-discover":!$&&t==="render"?"true":void 0});return ee&&!$?B.createElement(B.Fragment,null,R,B.createElement(g2,{page:K})):R});Jb.displayName="Link";var w2=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let E=dc(c,{relative:g.relative}),b=ti(),C=B.useContext(fc),{navigator:L,basename:z}=B.useContext(Er),k=C!=null&&O2(E)&&d===!0,$=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,H=b.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(H=H.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&z&&(K=Lr(K,z)||K);const ee=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let te=H===$||!o&&H.startsWith($)&&H.charAt(ee)==="/",G=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),S={isActive:te,isPending:G,isTransitioning:k},w=te?e:void 0,R;typeof a=="function"?R=a(S):R=[a,te?"active":null,G?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(S):l;return B.createElement(Jb,{...g,"aria-current":w,className:R,ref:_,style:D,to:c,viewTransition:d},typeof p=="function"?p(S):p)});w2.displayName="NavLink";var A2=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:c=lh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...C},L)=>{let{unstable_useTransitions:z}=B.useContext(Er),k=N2(),$=x2(d,{relative:g}),H=c.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&Wb.test(d),ee=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let G=te.nativeEvent.submitter,S=(G==null?void 0:G.getAttribute("formmethod"))||c,w=()=>k(G||te.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b});z&&t!==!1?B.startTransition(()=>w()):w()};return B.createElement("form",{ref:L,method:H,action:$,onSubmit:a?p:ee,...C,"data-discover":!K&&n==="render"?"true":void 0})});A2.displayName="Form";function R2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(n){let e=B.useContext(so);return Xe(e,R2(n)),e}function C2(n,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=hc(),_=ti(),E=dc(n,{relative:l});return B.useCallback(b=>{if(n2(b,e)){b.preventDefault();let C=t!==void 0?t:Ai(_)===Ai(E),L=()=>g(n,{replace:C,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?B.startTransition(()=>L()):L()}},[_,g,E,t,a,e,n,o,l,c,d,p])}var I2=0,D2=()=>`__${String(++I2)}__`;function N2(){let{router:n}=Zb("useSubmit"),{basename:e}=B.useContext(Er),t=jD(),a=n.fetch,o=n.navigate;return B.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:_,body:E}=a2(l,e);if(c.navigate===!1){let b=c.fetcherKey||D2();await a(b,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,t])}function x2(n,{relative:e}={}){let{basename:t}=B.useContext(Er),a=B.useContext(Ur);Xe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...dc(n||".",{relative:e})},c=ti();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ei([t,l.pathname])),Ai(l)}function O2(n,{relative:e}={}){let t=B.useContext(oy);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Zb("useViewTransitionState"),o=dc(n,{relative:e});if(!t.isTransitioning)return!1;let l=Lr(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=Lr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Oh(o.pathname,c)!=null||Oh(o.pathname,l)!=null}var M2=vb();function V2(n){return B.createElement(YD,{flushSync:M2.flushSync,...n})}const P2=B.createContext(void 0),ua=()=>aI(),pt=lI.withTypes(),L2=({children:n})=>{const e=pt(t=>t.auth.loading);return x.jsx(P2.Provider,{value:{isLoading:e},children:n})},k2=()=>{};var w0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},U2=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const o=n[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,C=g&63;p||(C=64,c||(b=64)),a.push(t[_],t[E],t[b],t[C])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ew(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):U2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||E==null)throw new j2;const b=l<<2|d>>4;if(a.push(b),g!==64){const C=d<<4&240|g>>2;if(a.push(C),E!==64){const L=g<<6&192|E;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class j2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(n){const e=ew(n);return tw.encodeByteArray(e,!0)},Mh=function(n){return z2(n).replace(/\./g,"")},nw=function(n){try{return tw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=()=>B2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof w0>"u")return;const n=w0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nw(n[1]);return e&&JSON.parse(e)},md=()=>{try{return k2()||F2()||H2()||q2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rw=n=>{var e,t;return(t=(e=md())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},G2=n=>{const e=rw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},iw=()=>{var n;return(n=md())==null?void 0:n.config},aw=n=>{var e;return(e=md())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Mh(JSON.stringify(t)),Mh(JSON.stringify(c)),""].join(".")}const Fu={};function Y2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?n.emulator.push(e):n.prod.push(e);return n}function Q2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let A0=!1;function ow(n,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||Fu[n]===e||Fu[n]||A0)return;Fu[n]=e;function t(b){return`__firebase__banner__${b}`}const a="__firebase__banner",l=Y2().prod.length>0;function c(){const b=document.getElementById(a);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{A0=!0,c()},b}function _(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=Q2(a),C=t("text"),L=document.getElementById(C)||document.createElement("span"),z=t("learnmore"),k=document.getElementById(z)||document.createElement("a"),$=t("preprendIcon"),H=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;d(K),_(k,z);const ee=g();p(H,$),K.append(H,L,k,ee),document.body.appendChild(K)}l?(L.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function W2(){var e;const n=(e=md())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tN(){const n=On();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nN(){return!W2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rN(){try{return typeof indexedDB=="object"}catch{return!1}}function iN(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="FirebaseError";class ca extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=aN,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?sN(l,a):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ca(o,d,a)}}function sN(n,e){return n.replace(oN,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const oN=/\{\$([^}]+)}/g;function lN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function eo(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=n[o],c=e[o];if(R0(l)&&R0(c)){if(!eo(l,c))return!1}else if(l!==c)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function R0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function uN(n,e){const t=new cN(n,e);return t.subscribe.bind(t)}class cN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");fN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=eg),o.error===void 0&&(o.error=eg),o.complete===void 0&&(o.complete=eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new $2;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mN(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dN(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dN(n){return n===$s?void 0:n}function mN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const gN={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},yN=nt.INFO,_N={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},vN=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),o=_N[e];if(o)console[o](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dy{constructor(e){this.name=e,this._logLevel=yN,this._logHandler=vN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const EN=(n,e)=>e.some(t=>n instanceof t);let C0,I0;function TN(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SN(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lw=new WeakMap,bg=new WeakMap,uw=new WeakMap,tg=new WeakMap,my=new WeakMap;function bN(n){const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ts(n.result)),o()},c=()=>{a(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lw.set(t,n)}).catch(()=>{}),my.set(e,n),e}function wN(n){if(bg.has(n))return;const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});bg.set(n,e)}let wg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||uw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AN(n){wg=n(wg)}function RN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(ng(this),e,...t);return uw.set(a,e.sort?e.sort():[e]),ts(a)}:SN().includes(n)?function(...e){return n.apply(ng(this),e),ts(lw.get(this))}:function(...e){return ts(n.apply(ng(this),e))}}function CN(n){return typeof n=="function"?RN(n):(n instanceof IDBTransaction&&wN(n),EN(n,TN())?new Proxy(n,wg):n)}function ts(n){if(n instanceof IDBRequest)return bN(n);if(tg.has(n))return tg.get(n);const e=CN(n);return e!==n&&(tg.set(n,e),my.set(e,n)),e}const ng=n=>my.get(n);function IN(n,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=ts(c);return a&&c.addEventListener("upgradeneeded",p=>{a(ts(c.result),p.oldVersion,p.newVersion,ts(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const DN=["get","getKey","getAll","getAllKeys","count"],NN=["put","add","delete","clear"],rg=new Map;function D0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=NN.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||DN.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return rg.set(e,l),l}AN(n=>({...n,get:(e,t,a)=>D0(e,t)||n.get(e,t,a),has:(e,t)=>!!D0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ON(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function ON(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",N0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new dy("@firebase/app"),MN="@firebase/app-compat",VN="@firebase/analytics-compat",PN="@firebase/analytics",LN="@firebase/app-check-compat",kN="@firebase/app-check",UN="@firebase/auth",jN="@firebase/auth-compat",zN="@firebase/database",BN="@firebase/data-connect",FN="@firebase/database-compat",HN="@firebase/functions",qN="@firebase/functions-compat",GN="@firebase/installations",$N="@firebase/installations-compat",KN="@firebase/messaging",YN="@firebase/messaging-compat",QN="@firebase/performance",XN="@firebase/performance-compat",WN="@firebase/remote-config",JN="@firebase/remote-config-compat",ZN="@firebase/storage",ex="@firebase/storage-compat",tx="@firebase/firestore",nx="@firebase/ai",rx="@firebase/firestore-compat",ix="firebase",ax="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",sx={[Ag]:"fire-core",[MN]:"fire-core-compat",[PN]:"fire-analytics",[VN]:"fire-analytics-compat",[kN]:"fire-app-check",[LN]:"fire-app-check-compat",[UN]:"fire-auth",[jN]:"fire-auth-compat",[zN]:"fire-rtdb",[BN]:"fire-data-connect",[FN]:"fire-rtdb-compat",[HN]:"fire-fn",[qN]:"fire-fn-compat",[GN]:"fire-iid",[$N]:"fire-iid-compat",[KN]:"fire-fcm",[YN]:"fire-fcm-compat",[QN]:"fire-perf",[XN]:"fire-perf-compat",[WN]:"fire-rc",[JN]:"fire-rc-compat",[ZN]:"fire-gcs",[ex]:"fire-gcs-compat",[tx]:"fire-fst",[rx]:"fire-fst-compat",[nx]:"fire-vertex","fire-js":"fire-js",[ix]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,ox=new Map,Cg=new Map;function x0(n,e){try{n.container.addComponent(e)}catch(t){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ml(n){const e=n.name;if(Cg.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,n);for(const t of Vh.values())x0(t,n);for(const t of ox.values())x0(t,n);return!0}function py(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new mc("app","Firebase",lx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=ax;function cw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a={name:Rg,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=iw()),!t)throw ns.create("no-options");const l=Vh.get(o);if(l){if(eo(t,l.options)&&eo(a,l.config))return l;throw ns.create("duplicate-app",{appName:o})}const c=new pN(o);for(const p of Cg.values())c.addComponent(p);const d=new ux(t,a,c);return Vh.set(o,d),d}function fw(n=Rg){const e=Vh.get(n);if(!e&&n===Rg&&iw())return cw();if(!e)throw ns.create("no-app",{appName:n});return e}function rs(n,e,t){let a=sx[n]??n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(c.join(" "));return}ml(new to(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firebase-heartbeat-database",fx=1,Ju="firebase-heartbeat-store";let ig=null;function hw(){return ig||(ig=IN(cx,fx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw ns.create("idb-open",{originalErrorMessage:n.message})})),ig}async function hx(n){try{const t=(await hw()).transaction(Ju),a=await t.objectStore(Ju).get(dw(n));return await t.done,a}catch(e){if(e instanceof ca)ra.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(t.message)}}}async function O0(n,e){try{const a=(await hw()).transaction(Ju,"readwrite");await a.objectStore(Ju).put(e,dw(n)),await a.done}catch(t){if(t instanceof ca)ra.warn(t.message);else{const a=ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ra.warn(a.message)}}}function dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=1024,mx=30;class px{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yx(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=M0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>mx){const c=_x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ra.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M0(),{heartbeatsToSend:a,unsentEntries:o}=gx(this._heartbeatsCache.heartbeats),l=Mh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ra.warn(t),""}}}function M0(){return new Date().toISOString().substring(0,10)}function gx(n,e=dx){const t=[];let a=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),V0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),V0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class yx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rN()?iN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return O0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return O0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function V0(n){return Mh(JSON.stringify({version:2,heartbeats:n})).length}function _x(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n){ml(new to("platform-logger",e=>new xN(e),"PRIVATE")),ml(new to("heartbeat",e=>new px(e),"PRIVATE")),rs(Ag,N0,n),rs(Ag,N0,"esm2020"),rs("fire-js","")}vx("");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,mw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function R(){}R.prototype=w.prototype,S.F=w.prototype,S.prototype=new R,S.prototype.constructor=S,S.D=function(D,N,V){for(var O=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)O[Oe-2]=arguments[Oe];return w.prototype[N].apply(D,O)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,w,R){R||(R=0);const D=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)D[N]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(N=0;N<16;++N)D[N]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=S.g[0],R=S.g[1],N=S.g[2];let V=S.g[3],O;O=w+(V^R&(N^V))+D[0]+3614090360&4294967295,w=R+(O<<7&4294967295|O>>>25),O=V+(N^w&(R^N))+D[1]+3905402710&4294967295,V=w+(O<<12&4294967295|O>>>20),O=N+(R^V&(w^R))+D[2]+606105819&4294967295,N=V+(O<<17&4294967295|O>>>15),O=R+(w^N&(V^w))+D[3]+3250441966&4294967295,R=N+(O<<22&4294967295|O>>>10),O=w+(V^R&(N^V))+D[4]+4118548399&4294967295,w=R+(O<<7&4294967295|O>>>25),O=V+(N^w&(R^N))+D[5]+1200080426&4294967295,V=w+(O<<12&4294967295|O>>>20),O=N+(R^V&(w^R))+D[6]+2821735955&4294967295,N=V+(O<<17&4294967295|O>>>15),O=R+(w^N&(V^w))+D[7]+4249261313&4294967295,R=N+(O<<22&4294967295|O>>>10),O=w+(V^R&(N^V))+D[8]+1770035416&4294967295,w=R+(O<<7&4294967295|O>>>25),O=V+(N^w&(R^N))+D[9]+2336552879&4294967295,V=w+(O<<12&4294967295|O>>>20),O=N+(R^V&(w^R))+D[10]+4294925233&4294967295,N=V+(O<<17&4294967295|O>>>15),O=R+(w^N&(V^w))+D[11]+2304563134&4294967295,R=N+(O<<22&4294967295|O>>>10),O=w+(V^R&(N^V))+D[12]+1804603682&4294967295,w=R+(O<<7&4294967295|O>>>25),O=V+(N^w&(R^N))+D[13]+4254626195&4294967295,V=w+(O<<12&4294967295|O>>>20),O=N+(R^V&(w^R))+D[14]+2792965006&4294967295,N=V+(O<<17&4294967295|O>>>15),O=R+(w^N&(V^w))+D[15]+1236535329&4294967295,R=N+(O<<22&4294967295|O>>>10),O=w+(N^V&(R^N))+D[1]+4129170786&4294967295,w=R+(O<<5&4294967295|O>>>27),O=V+(R^N&(w^R))+D[6]+3225465664&4294967295,V=w+(O<<9&4294967295|O>>>23),O=N+(w^R&(V^w))+D[11]+643717713&4294967295,N=V+(O<<14&4294967295|O>>>18),O=R+(V^w&(N^V))+D[0]+3921069994&4294967295,R=N+(O<<20&4294967295|O>>>12),O=w+(N^V&(R^N))+D[5]+3593408605&4294967295,w=R+(O<<5&4294967295|O>>>27),O=V+(R^N&(w^R))+D[10]+38016083&4294967295,V=w+(O<<9&4294967295|O>>>23),O=N+(w^R&(V^w))+D[15]+3634488961&4294967295,N=V+(O<<14&4294967295|O>>>18),O=R+(V^w&(N^V))+D[4]+3889429448&4294967295,R=N+(O<<20&4294967295|O>>>12),O=w+(N^V&(R^N))+D[9]+568446438&4294967295,w=R+(O<<5&4294967295|O>>>27),O=V+(R^N&(w^R))+D[14]+3275163606&4294967295,V=w+(O<<9&4294967295|O>>>23),O=N+(w^R&(V^w))+D[3]+4107603335&4294967295,N=V+(O<<14&4294967295|O>>>18),O=R+(V^w&(N^V))+D[8]+1163531501&4294967295,R=N+(O<<20&4294967295|O>>>12),O=w+(N^V&(R^N))+D[13]+2850285829&4294967295,w=R+(O<<5&4294967295|O>>>27),O=V+(R^N&(w^R))+D[2]+4243563512&4294967295,V=w+(O<<9&4294967295|O>>>23),O=N+(w^R&(V^w))+D[7]+1735328473&4294967295,N=V+(O<<14&4294967295|O>>>18),O=R+(V^w&(N^V))+D[12]+2368359562&4294967295,R=N+(O<<20&4294967295|O>>>12),O=w+(R^N^V)+D[5]+4294588738&4294967295,w=R+(O<<4&4294967295|O>>>28),O=V+(w^R^N)+D[8]+2272392833&4294967295,V=w+(O<<11&4294967295|O>>>21),O=N+(V^w^R)+D[11]+1839030562&4294967295,N=V+(O<<16&4294967295|O>>>16),O=R+(N^V^w)+D[14]+4259657740&4294967295,R=N+(O<<23&4294967295|O>>>9),O=w+(R^N^V)+D[1]+2763975236&4294967295,w=R+(O<<4&4294967295|O>>>28),O=V+(w^R^N)+D[4]+1272893353&4294967295,V=w+(O<<11&4294967295|O>>>21),O=N+(V^w^R)+D[7]+4139469664&4294967295,N=V+(O<<16&4294967295|O>>>16),O=R+(N^V^w)+D[10]+3200236656&4294967295,R=N+(O<<23&4294967295|O>>>9),O=w+(R^N^V)+D[13]+681279174&4294967295,w=R+(O<<4&4294967295|O>>>28),O=V+(w^R^N)+D[0]+3936430074&4294967295,V=w+(O<<11&4294967295|O>>>21),O=N+(V^w^R)+D[3]+3572445317&4294967295,N=V+(O<<16&4294967295|O>>>16),O=R+(N^V^w)+D[6]+76029189&4294967295,R=N+(O<<23&4294967295|O>>>9),O=w+(R^N^V)+D[9]+3654602809&4294967295,w=R+(O<<4&4294967295|O>>>28),O=V+(w^R^N)+D[12]+3873151461&4294967295,V=w+(O<<11&4294967295|O>>>21),O=N+(V^w^R)+D[15]+530742520&4294967295,N=V+(O<<16&4294967295|O>>>16),O=R+(N^V^w)+D[2]+3299628645&4294967295,R=N+(O<<23&4294967295|O>>>9),O=w+(N^(R|~V))+D[0]+4096336452&4294967295,w=R+(O<<6&4294967295|O>>>26),O=V+(R^(w|~N))+D[7]+1126891415&4294967295,V=w+(O<<10&4294967295|O>>>22),O=N+(w^(V|~R))+D[14]+2878612391&4294967295,N=V+(O<<15&4294967295|O>>>17),O=R+(V^(N|~w))+D[5]+4237533241&4294967295,R=N+(O<<21&4294967295|O>>>11),O=w+(N^(R|~V))+D[12]+1700485571&4294967295,w=R+(O<<6&4294967295|O>>>26),O=V+(R^(w|~N))+D[3]+2399980690&4294967295,V=w+(O<<10&4294967295|O>>>22),O=N+(w^(V|~R))+D[10]+4293915773&4294967295,N=V+(O<<15&4294967295|O>>>17),O=R+(V^(N|~w))+D[1]+2240044497&4294967295,R=N+(O<<21&4294967295|O>>>11),O=w+(N^(R|~V))+D[8]+1873313359&4294967295,w=R+(O<<6&4294967295|O>>>26),O=V+(R^(w|~N))+D[15]+4264355552&4294967295,V=w+(O<<10&4294967295|O>>>22),O=N+(w^(V|~R))+D[6]+2734768916&4294967295,N=V+(O<<15&4294967295|O>>>17),O=R+(V^(N|~w))+D[13]+1309151649&4294967295,R=N+(O<<21&4294967295|O>>>11),O=w+(N^(R|~V))+D[4]+4149444226&4294967295,w=R+(O<<6&4294967295|O>>>26),O=V+(R^(w|~N))+D[11]+3174756917&4294967295,V=w+(O<<10&4294967295|O>>>22),O=N+(w^(V|~R))+D[2]+718787259&4294967295,N=V+(O<<15&4294967295|O>>>17),O=R+(V^(N|~w))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+V&4294967295}a.prototype.v=function(S,w){w===void 0&&(w=S.length);const R=w-this.blockSize,D=this.C;let N=this.h,V=0;for(;V<w;){if(N==0)for(;V<=R;)o(this,S,V),V+=this.blockSize;if(typeof S=="string"){for(;V<w;)if(D[N++]=S.charCodeAt(V++),N==this.blockSize){o(this,D),N=0;break}}else for(;V<w;)if(D[N++]=S[V++],N==this.blockSize){o(this,D),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var R=S.length-8;R<S.length;++R)S[R]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)S[w++]=this.g[R]>>>D&255;return S};function l(S,w){var R=d;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=w(S)}function c(S,w){this.h=w;const R=[];let D=!0;for(let N=S.length-1;N>=0;N--){const V=S[N]|0;D&&V==w||(R[N]=V,D=!1)}this.g=R}var d={};function p(S){return-128<=S&&S<128?l(S,function(w){return new c([w|0],w<0?-1:0)}):new c([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return k(g(-S));const w=[];let R=1;for(let D=0;S>=R;D++)w[D]=S/R|0,R*=4294967296;return new c(w,0)}function _(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return k(_(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let D=E;for(let V=0;V<S.length;V+=8){var N=Math.min(8,S.length-V);const O=parseInt(S.substring(V,V+N),w);N<8?(N=g(Math.pow(w,N)),D=D.j(N).add(g(O))):(D=D.j(R),D=D.add(g(O)))}return D}var E=p(0),b=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-k(this).m();let S=0,w=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);S+=(D>=0?D:4294967296+D)*w,w*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(z(this))return"-"+k(this).toString(S);const w=g(Math.pow(S,6));var R=this;let D="";for(;;){const N=ee(R,w).g;R=$(R,N.j(w));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(S);if(R=N,L(R))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function z(S){return S.h==-1}n.l=function(S){return S=$(this,S),z(S)?-1:L(S)?0:1};function k(S){const w=S.g.length,R=[];for(let D=0;D<w;D++)R[D]=~S.g[D];return new c(R,~S.h).add(b)}n.abs=function(){return z(this)?k(this):this},n.add=function(S){const w=Math.max(this.g.length,S.g.length),R=[];let D=0;for(let N=0;N<=w;N++){let V=D+(this.i(N)&65535)+(S.i(N)&65535),O=(V>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);D=O>>>16,V&=65535,O&=65535,R[N]=O<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function $(S,w){return S.add(k(w))}n.j=function(S){if(L(this)||L(S))return E;if(z(this))return z(S)?k(this).j(k(S)):k(k(this).j(S));if(z(S))return k(this.j(k(S)));if(this.l(C)<0&&S.l(C)<0)return g(this.m()*S.m());const w=this.g.length+S.g.length,R=[];for(var D=0;D<2*w;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let N=0;N<S.g.length;N++){const V=this.i(D)>>>16,O=this.i(D)&65535,Oe=S.i(N)>>>16,Ue=S.i(N)&65535;R[2*D+2*N]+=O*Ue,H(R,2*D+2*N),R[2*D+2*N+1]+=V*Ue,H(R,2*D+2*N+1),R[2*D+2*N+1]+=O*Oe,H(R,2*D+2*N+1),R[2*D+2*N+2]+=V*Oe,H(R,2*D+2*N+2)}for(S=0;S<w;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=w;S<2*w;S++)R[S]=0;return new c(R,0)};function H(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function K(S,w){this.g=S,this.h=w}function ee(S,w){if(L(w))throw Error("division by zero");if(L(S))return new K(E,E);if(z(S))return w=ee(k(S),w),new K(k(w.g),k(w.h));if(z(w))return w=ee(S,k(w)),new K(k(w.g),w.h);if(S.g.length>30){if(z(S)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,D=w;D.l(S)<=0;)R=te(R),D=te(D);var N=G(R,1),V=G(D,1);for(D=G(D,2),R=G(R,2);!L(D);){var O=V.add(D);O.l(S)<=0&&(N=N.add(R),V=O),D=G(D,1),R=G(R,1)}return w=$(S,N.j(w)),new K(N,w)}for(N=E;S.l(w)>=0;){for(R=Math.max(1,Math.floor(S.m()/w.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=g(R),O=V.j(w);z(O)||O.l(S)>0;)R-=D,V=g(R),O=V.j(w);L(V)&&(V=b),N=N.add(V),S=$(S,O)}return new K(N,S)}n.B=function(S){return ee(this,S).h},n.and=function(S){const w=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<w;D++)R[D]=this.i(D)&S.i(D);return new c(R,this.h&S.h)},n.or=function(S){const w=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<w;D++)R[D]=this.i(D)|S.i(D);return new c(R,this.h|S.h)},n.xor=function(S){const w=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<w;D++)R[D]=this.i(D)^S.i(D);return new c(R,this.h^S.h)};function te(S){const w=S.g.length+1,R=[];for(let D=0;D<w;D++)R[D]=S.i(D)<<1|S.i(D-1)>>>31;return new c(R,S.h)}function G(S,w){const R=w>>5;w%=32;const D=S.g.length-R,N=[];for(let V=0;V<D;V++)N[V]=w>0?S.i(V+R)>>>w|S.i(V+R+1)<<32-w:S.i(V+R);return new c(N,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mw=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,is=c}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,Lu,gw,ch,Ig,yw,_w,vw;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jf=="object"&&Jf];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=t(this);function o(f,y){if(y)e:{var T=a;f=f.split(".");for(var I=0;I<f.length-1;I++){var Y=f[I];if(!(Y in T))break e;T=T[Y]}f=f[f.length-1],I=T[f],y=y(I),y!=I&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var T=[],I;for(I in y)Object.prototype.hasOwnProperty.call(y,I)&&T.push([I,y[I]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,T){return f.call.apply(f.bind,arguments)}function g(f,y,T){return g=p,g.apply(null,arguments)}function _(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var I=T.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function E(f,y){function T(){}T.prototype=y.prototype,f.Z=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(I,Y,ne){for(var pe=Array(arguments.length-2),He=2;He<arguments.length;He++)pe[He-2]=arguments[He];return y.prototype[Y].apply(I,pe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function C(f){const y=f.length;if(y>0){const T=Array(y);for(let I=0;I<y;I++)T[I]=f[I];return T}return[]}function L(f,y){for(let I=1;I<arguments.length;I++){const Y=arguments[I];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=f.length||0;const ne=Y.length||0;f.length=T+ne;for(let pe=0;pe<ne;pe++)f[T+pe]=Y[pe]}else f.push(Y)}}class z{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(f){c.setTimeout(()=>{throw f},0)}function $(){var f=S;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,T){const I=K.get();I.set(y,T),this.h?this.h.next=I:this.g=I,this.h=I}}var K=new z(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let te,G=!1,S=new H,w=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(R)}};function R(){for(var f;f=$();){try{f.h.call(f.g)}catch(T){k(T)}var y=K;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}G=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return f})();function O(f){return/^[\s\xa0]*$/.test(f)}function Oe(f,y){N.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}E(Oe,N),Oe.prototype.init=function(f,y){const T=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),W=0;function fe(f,y,T,I,Y){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!I,this.ha=Y,this.key=++W,this.da=this.fa=!1}function ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,y,T){for(const I in f)y.call(T,f[I],I,f)}function Ve(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function U(f){const y={};for(const T in f)y[T]=f[T];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(f,y){let T,I;for(let Y=1;Y<arguments.length;Y++){I=arguments[Y];for(T in I)f[T]=I[T];for(let ne=0;ne<ie.length;ne++)T=ie[ne],Object.prototype.hasOwnProperty.call(I,T)&&(f[T]=I[T])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,y,T,I,Y){const ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);const pe=Ne(f,y,I,Y);return pe>-1?(y=f[pe],T||(y.fa=!1)):(y=new fe(y,this.src,ne,!!I,Y),y.fa=T,f.push(y)),y};function Ae(f,y){const T=y.type;if(T in f.g){var I=f.g[T],Y=Array.prototype.indexOf.call(I,y,void 0),ne;(ne=Y>=0)&&Array.prototype.splice.call(I,Y,1),ne&&(ye(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ne(f,y,T,I){for(let Y=0;Y<f.length;++Y){const ne=f[Y];if(!ne.da&&ne.listener==y&&ne.capture==!!T&&ne.ha==I)return Y}return-1}var Ye="closure_lm_"+(Math.random()*1e6|0),St={};function At(f,y,T,I,Y){if(Array.isArray(y)){for(let ne=0;ne<y.length;ne++)At(f,y[ne],T,I,Y);return null}return T=_s(T),f&&f[Ue]?f.J(y,T,d(I)?!!I.capture:!1,Y):Ii(f,y,T,!1,I,Y)}function Ii(f,y,T,I,Y,ne){if(!y)throw Error("Invalid event type");const pe=d(Y)?!!Y.capture:!!Y;let He=Mn(f);if(He||(f[Ye]=He=new _e(f)),T=He.add(y,T,I,pe,ne),T.proxy)return T;if(I=fa(),T.proxy=I,I.src=f,I.listener=T,f.addEventListener)V||(Y=pe),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),I,Y);else if(f.attachEvent)f.attachEvent(Jn(y.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fa(){function f(T){return y.call(f.src,f.listener,T)}const y=gs;return f}function Ut(f,y,T,I,Y){if(Array.isArray(y))for(var ne=0;ne<y.length;ne++)Ut(f,y[ne],T,I,Y);else I=d(I)?!!I.capture:!!I,T=_s(T),f&&f[Ue]?(f=f.i,ne=String(y).toString(),ne in f.g&&(y=f.g[ne],T=Ne(y,T,I,Y),T>-1&&(ye(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete f.g[ne],f.h--)))):f&&(f=Mn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ne(y,T,I,Y)),(T=f>-1?y[f]:null)&&Wn(T))}function Wn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Ue])Ae(y.i,f);else{var T=f.type,I=f.proxy;y.removeEventListener?y.removeEventListener(T,I,f.capture):y.detachEvent?y.detachEvent(Jn(T),I):y.addListener&&y.removeListener&&y.removeListener(I),(T=Mn(y))?(Ae(T,f),T.h==0&&(T.src=null,y[Ye]=null)):ye(f)}}}function Jn(f){return f in St?St[f]:St[f]="on"+f}function gs(f,y){if(f.da)f=!0;else{y=new Oe(y,this);const T=f.listener,I=f.ha||f.src;f.fa&&Wn(f),f=T.call(I,y)}return f}function Mn(f){return f=f[Ye],f instanceof _e?f:null}var ys="__closure_events_fn_"+(Math.random()*1e9>>>0);function _s(f){return typeof f=="function"?f:(f[ys]||(f[ys]=function(y){return f.handleEvent(y)}),f[ys])}function jt(){D.call(this),this.i=new _e(this),this.M=this,this.G=null}E(jt,D),jt.prototype[Ue]=!0,jt.prototype.removeEventListener=function(f,y,T,I){Ut(this,f,y,T,I)};function Kt(f,y){var T,I=f.G;if(I)for(T=[];I;I=I.G)T.push(I);if(f=f.M,I=y.type||y,typeof y=="string")y=new N(y,f);else if(y instanceof N)y.target=y.target||f;else{var Y=y;y=new N(I,f),he(y,Y)}Y=!0;let ne,pe;if(T)for(pe=T.length-1;pe>=0;pe--)ne=y.g=T[pe],Y=ni(ne,I,!0,y)&&Y;if(ne=y.g=f,Y=ni(ne,I,!0,y)&&Y,Y=ni(ne,I,!1,y)&&Y,T)for(pe=0;pe<T.length;pe++)ne=y.g=T[pe],Y=ni(ne,I,!1,y)&&Y}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const T=f.g[y];for(let I=0;I<T.length;I++)ye(T[I]);delete f.g[y],f.h--}}this.G=null},jt.prototype.J=function(f,y,T,I){return this.i.add(String(f),y,!1,T,I)},jt.prototype.K=function(f,y,T,I){return this.i.add(String(f),y,!0,T,I)};function ni(f,y,T,I){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let ne=0;ne<y.length;++ne){const pe=y[ne];if(pe&&!pe.da&&pe.capture==T){const He=pe.listener,Yt=pe.ha||pe.src;pe.fa&&Ae(f.i,pe),Y=He.call(Yt,I)!==!1&&Y}}return Y&&!I.defaultPrevented}function Pl(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function fo(f){f.g=Pl(()=>{f.g=null,f.i&&(f.i=!1,fo(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class zt extends D{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(f){D.call(this),this.h=f,this.g={}}E(Zn,D);var ha=[];function Di(f){Me(f.g,function(y,T){this.g.hasOwnProperty(T)&&Wn(y)},f),f.g={}}Zn.prototype.N=function(){Zn.Z.N.call(this),Di(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=c.JSON.stringify,er=c.JSON.parse,vs=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ho(){}function da(){}var tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bt(){N.call(this,"d")}E(bt,N);function Vn(){N.call(this,"c")}E(Vn,N);var Vt={},Es=null;function ma(){return Es=Es||new jt}Vt.Ia="serverreachability";function Ts(f){N.call(this,Vt.Ia,f)}E(Ts,N);function Pn(f){const y=ma();Kt(y,new Ts(y))}Vt.STAT_EVENT="statevent";function ri(f,y){N.call(this,Vt.STAT_EVENT,f),this.stat=y}E(ri,N);function Pt(f){const y=ma();Kt(y,new ri(y,f))}Vt.Ja="timingevent";function Tr(f,y){N.call(this,Vt.Ja,f),this.size=y}E(Tr,N);function nr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function rr(){this.g=!0}rr.prototype.ua=function(){this.g=!1};function mo(f,y,T,I,Y,ne){f.info(function(){if(f.g)if(ne){var pe="",He=ne.split("&");for(let ct=0;ct<He.length;ct++){var Yt=He[ct].split("=");if(Yt.length>1){const Lt=Yt[0];Yt=Yt[1];const wr=Lt.split("_");pe=wr.length>=2&&wr[1]=="type"?pe+(Lt+"="+Yt+"&"):pe+(Lt+"=redacted&")}}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+I+") [attempt "+Y+"]: "+y+`
`+T+`
`+pe})}function Ni(f,y,T,I,Y,ne,pe){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Y+"]: "+y+`
`+T+`
`+ne+" "+pe})}function Ln(f,y,T,I){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ll(f,T)+(I?" "+I:"")})}function ii(f,y){f.info(function(){return"TIMEOUT: "+y})}rr.prototype.info=function(){};function Ll(f,y){if(!f.g)return y;if(!y)return null;try{const ne=JSON.parse(y);if(ne){for(f=0;f<ne.length;f++)if(Array.isArray(ne[f])){var T=ne[f];if(!(T.length<2)){var I=T[1];if(Array.isArray(I)&&!(I.length<1)){var Y=I[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<I.length;pe++)I[pe]=""}}}}return fn(ne)}catch{return y}}var xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},M={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},F;function J(){}E(J,ho),J.prototype.g=function(){return new XMLHttpRequest},F=new J;function ce(f){return encodeURIComponent(String(f))}function de(f){var y=1;f=f.split(":");const T=[];for(;y>0&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function Ee(f,y,T,I){this.j=f,this.i=y,this.l=T,this.S=I||1,this.V=new Zn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var me={},ge={};function Se(f,y,T){f.M=1,f.A=Ss(yt(y)),f.u=T,f.R=!0,Pe(f,null)}function Pe(f,y){f.F=Date.now(),gt(f),f.B=yt(f.A);var T=f.B,I=f.S;Array.isArray(I)||(I=[String(I)]),go(T.i,"t",I),f.C=0,T=f.j.L,f.h=new be,f.g=Bc(f.j,T?y:null,!f.u),f.P>0&&(f.O=new zt(g(f.Y,f,f.g),f.P)),y=f.V,T=f.g,I=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ha[0]=Y.toString()),Y=ha);for(let ne=0;ne<Y.length;ne++){const pe=At(T,Y[ne],I||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Pn(),mo(f.i,f.v,f.B,f.l,f.S,f.u)}Ee.prototype.ba=function(f){f=f.target;const y=this.O;y&&Fr(f)==3?y.j():this.Y(f)},Ee.prototype.Y=function(f){try{if(f==this.g)e:{const He=Fr(this.g),Yt=this.g.ya(),ct=this.g.ca();if(!(He<3)&&(He!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||He!=4||Yt==7||(Yt==8||ct<=0?Pn(3):Pn(2)),Rt(this);var y=this.g.ca();this.X=y;var T=Ce(this);if(this.o=y==200,Ni(this.i,this.v,this.B,this.l,this.S,He,y),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Y=this.g;if((I=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(I)){var ne=I;break t}}ne=null}if(f=ne)Ln(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hn(this,f);else{this.o=!1,this.m=3,Pt(12),Ct(this),Ge(this);break e}}if(this.R){f=!0;let Lt;for(;!this.K&&this.C<T.length;)if(Lt=Qe(this,T),Lt==ge){He==4&&(this.m=4,Pt(14),f=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==me){this.m=4,Pt(15),Ln(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Ln(this.i,this.l,Lt,null),hn(this,Lt);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||T.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)Ln(this.i,this.l,T,"[Invalid Chunked Response]"),Ct(this),Ge(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gl(pe),pe.P=!0,Pt(11))}}else Ln(this.i,this.l,T,null),hn(this,T);He==4&&Ct(this),this.o&&!this.K&&(He==4?kc(this.j,this):(this.o=!1,gt(this)))}else Mi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Ct(this),Ge(this)}}}catch{}finally{}};function Ce(f){if(!je(f))return f.g.la();const y=pn(f.g);if(y==="")return"";let T="";const I=y.length,Y=Fr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ct(f),Ge(f),"";f.h.i=new c.TextDecoder}for(let ne=0;ne<I;ne++)f.h.h=!0,T+=f.h.i.decode(y[ne],{stream:!(Y&&ne==I-1)});return y.length=0,f.h.g+=T,f.C=0,f.h.g}function je(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Qe(f,y){var T=f.C,I=y.indexOf(`
`,T);return I==-1?ge:(T=Number(y.substring(T,I)),isNaN(T)?me:(I+=1,I+T>y.length?ge:(y=y.slice(I,I+T),f.C=I+T,y)))}Ee.prototype.cancel=function(){this.K=!0,Ct(this)};function gt(f){f.T=Date.now()+f.H,Nt(f,f.H)}function Nt(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=nr(g(f.aa,f),y)}function Rt(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ee.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ii(this.i,this.B),this.M!=2&&(Pn(),Pt(17)),Ct(this),this.m=2,Ge(this)):Nt(this,this.T-f)};function Ge(f){f.j.I==0||f.K||kc(f.j,f)}function Ct(f){Rt(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Di(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function hn(f,y){try{var T=f.j;if(T.I!=0&&(T.g==f||Rn(T.h,f))){if(!f.L&&Rn(T.h,f)&&T.I==3){try{var I=T.Ba.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Y=I;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)To(T),Sa(T);else break e;Ds(T),Pt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=nr(g(T.Va,T),6e3));Bn(T.h)<=1&&T.ta&&(T.ta=void 0)}else hi(T,11)}else if((f.L||T.g==f)&&To(T),!O(y))for(Y=T.Ba.g.parse(y),y=0;y<Y.length;y++){let ct=Y[y];const Lt=ct[0];if(!(Lt<=T.K))if(T.K=Lt,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const wr=ct[3];wr!=null&&(T.ka=wr,T.j.info("VER="+T.ka));const di=ct[4];di!=null&&(T.za=di,T.j.info("SVER="+T.za));const Hr=ct[5];Hr!=null&&typeof Hr=="number"&&Hr>0&&(I=1.5*Hr,T.O=I,T.j.info("backChannelRequestTimeoutMs_="+I)),I=T;const qr=f.g;if(qr){const Ns=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var ne=I.h;ne.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ir(ne,ne.h),ne.h=null))}if(I.G){const So=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(I.wa=So,ut(I.J,I.G,So))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),I=T;var pe=f;if(I.na=zc(I,I.L?I.ba:null,I.W),pe.L){ai(I.h,pe);var He=pe,Yt=I.O;Yt&&(He.H=Yt),He.D&&(Rt(He),gt(He)),I.g=pe}else Pc(I);T.i.length>0&&fi(T)}else ct[0]!="stop"&&ct[0]!="close"||hi(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?hi(T,7):Hl(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}Pn(4)}catch{}}var It=class{constructor(f,y){this.g=f,this.map=y}};function zn(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function An(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bn(f){return f.h?1:f.g?f.g.size:0}function Rn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ir(f,y){f.g?f.g.add(y):f.h=y}function ai(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}zn.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function si(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.G);return y}return C(f.i)}var We=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bt(f,y){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const I=f[T].indexOf("=");let Y,ne=null;I>=0?(Y=f[T].substring(0,I),ne=f[T].substring(I+1)):Y=f[T],y(Y,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Jt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Jt?(this.l=f.l,$e(this,f.j),this.o=f.o,this.g=f.g,ar(this,f.u),this.h=f.h,pa(this,Mc(f.i)),this.m=f.m):f&&(y=String(f).match(We))?(this.l=!1,$e(this,y[1]||"",!0),this.o=oi(y[2]||""),this.g=oi(y[3]||"",!0),ar(this,y[4]),this.h=oi(y[5]||"",!0),pa(this,y[6]||"",!0),this.m=oi(y[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}Jt.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(bs(y,po,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(bs(y,po,!0),"@"),f.push(ce(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(bs(T,T.charAt(0)=="/"?kl:Nc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",bs(T,xc)),f.join("")},Jt.prototype.resolve=function(f){const y=yt(this);let T=!!f.j;T?$e(y,f.j):T=!!f.o,T?y.o=f.o:T=!!f.g,T?y.g=f.g:T=f.u!=null;var I=f.h;if(T)ar(y,f.u);else if(T=!!f.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(I=y.h.slice(0,Y+1)+I)}if(Y=I,Y==".."||Y==".")I="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){I=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const ne=[];for(let pe=0;pe<Y.length;){const He=Y[pe++];He=="."?I&&pe==Y.length&&ne.push(""):He==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),I&&pe==Y.length&&ne.push("")):(ne.push(He),I=!0)}I=ne.join("/")}else I=Y}return T?y.h=I:T=f.i.toString()!=="",T?pa(y,Mc(f.i)):T=!!f.m,T&&(y.m=f.m),y};function yt(f){return new Jt(f)}function $e(f,y,T){f.j=T?oi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ar(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function pa(f,y,T){y instanceof ya?(f.i=y,yo(f.i,f.l)):(T||(y=bs(y,ga)),f.i=new ya(y,f.l))}function ut(f,y,T){f.i.set(y,T)}function Ss(f){return ut(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function oi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bs(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,Fn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var po=/[#\/\?@]/g,Nc=/[#\?:]/g,kl=/[#\?]/g,ga=/[#\?@]/g,xc=/#/g;function ya(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&Bt(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=ya.prototype,n.add=function(f,y){Hn(this),this.i=null,f=_a(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function Oc(f,y){Hn(f),y=_a(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ul(f,y){return Hn(f),y=_a(f,y),f.g.has(y)}n.forEach=function(f,y){Hn(this),this.g.forEach(function(T,I){T.forEach(function(Y){f.call(y,Y,I,this)},this)},this)};function jl(f,y){Hn(f);let T=[];if(typeof y=="string")Ul(f,y)&&(T=T.concat(f.g.get(_a(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)T=T.concat(f[y]);return T}n.set=function(f,y){return Hn(this),this.i=null,f=_a(this,f),Ul(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=jl(this,f),f.length>0?String(f[0]):y):y};function go(f,y,T){Oc(f,y),T.length>0&&(f.i=null,f.g.set(_a(f,y),C(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let I=0;I<y.length;I++){var T=y[I];const Y=ce(T);T=jl(this,T);for(let ne=0;ne<T.length;ne++){let pe=Y;T[ne]!==""&&(pe+="="+ce(T[ne])),f.push(pe)}}return this.i=f.join("&")};function Mc(f){const y=new ya;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function _a(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function yo(f,y){y&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(T,I){const Y=I.toLowerCase();I!=Y&&(Oc(this,I),go(this,Y,T))},f)),f.j=y}function zr(f,y){const T=new rr;if(c.Image){const I=new Image;I.onload=_(Sr,T,"TestLoadImage: loaded",!0,y,I),I.onerror=_(Sr,T,"TestLoadImage: error",!1,y,I),I.onabort=_(Sr,T,"TestLoadImage: abort",!1,y,I),I.ontimeout=_(Sr,T,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else y(!1)}function zl(f,y){const T=new rr,I=new AbortController,Y=setTimeout(()=>{I.abort(),Sr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:I.signal}).then(ne=>{clearTimeout(Y),ne.ok?Sr(T,"TestPingServer: ok",!0,y):Sr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),Sr(T,"TestPingServer: error",!1,y)})}function Sr(f,y,T,I,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),I(T)}catch{}}function va(){this.g=new vs}function li(f){this.i=f.Sb||null,this.h=f.ab||!1}E(li,ho),li.prototype.g=function(){return new ws(this.i,this.h)};function ws(f,y){jt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ws,jt),n=ws.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,Br(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Ea(this):Br(this),this.readyState==3&&_o(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ea(this))},n.Na=function(f){this.g&&(this.response=f,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Br(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function Br(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function br(f){let y="";return Me(f,function(T,I){y+=I,y+=":",y+=T,y+=`\r
`}),y}function As(f,y,T){e:{for(I in T){var I=!1;break e}I=!0}I||(T=br(T),typeof f=="string"?T!=null&&ce(T):ut(f,y,T))}function _t(f){jt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(_t,jt);var ui=/^https?$/i,Bl=["POST","PUT"];n=_t.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,T,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():F.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(ne){Rs(this,ne);return}if(f=T||"",T=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Y in I)T.set(Y,I[Y]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const ne of I.keys())T.set(ne,I.get(ne));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Bl,y,void 0)>=0)||I||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of T)this.g.setRequestHeader(ne,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(ne){Rs(this,ne)}};function Rs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Fl(f),Oi(f)}function Fl(f){f.A||(f.A=!0,Kt(f,"complete"),Kt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Kt(this,"complete"),Kt(this,"abort"),Oi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),_t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},n.Xa=function(){Cs(this)};function Cs(f){if(f.h&&typeof l<"u"){if(f.v&&Fr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Kt(f,"readystatechange"),Fr(f)==4){f.h=!1;try{const ne=f.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var I;if(I=ne===0){let pe=String(f.D).match(We)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),I=!ui.test(pe?pe.toLowerCase():"")}T=I}if(T)Kt(f,"complete"),Kt(f,"success");else{f.o=6;try{var Y=Fr(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",Fl(f)}}finally{Oi(f)}}}}function Oi(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,y||Kt(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Fr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Fr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),er(y)}};function pn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(f){const y={};f=(f.g&&Fr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(O(f[I]))continue;var T=de(f[I]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=y[Y]||[];y[Y]=ne,ne.push(T)}Ve(y,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function Ta(f){this.za=0,this.i=[],this.j=new rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ci("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ci("baseRetryDelayMs",5e3,f),this.Za=ci("retryDelaySeedMs",1e4,f),this.Ta=ci("forwardChannelMaxRetries",2,f),this.va=ci("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new zn(f&&f.concurrentRequestLimit),this.Ba=new va,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ta.prototype,n.ka=8,n.I=1,n.connect=function(f,y,T,I){Pt(0),this.W=f,this.H=y||{},T&&I!==void 0&&(this.H.OSID=T,this.H.OAID=I),this.F=this.X,this.J=zc(this,null,this.W),fi(this)};function Hl(f){if(vo(f),f.I==3){var y=f.V++,T=yt(f.J);if(ut(T,"SID",f.M),ut(T,"RID",y),ut(T,"TYPE","terminate"),Is(f,T),y=new Ee(f,f.j,y),y.M=2,y.A=Ss(yt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Bc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gt(y)}jc(f)}function Sa(f){f.g&&(Gl(f),f.g.cancel(),f.g=null)}function vo(f){Sa(f),f.v&&(c.clearTimeout(f.v),f.v=null),To(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function fi(f){if(!An(f.h)&&!f.m){f.m=!0;var y=f.Ea;te||w(),G||(te(),G=!0),S.add(y,f),f.D=0}}function Eo(f,y){return Bn(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=nr(g(f.Ea,f,y),Uc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ee(this,this.j,f);let ne=this.o;if(this.U&&(ne?(ne=U(ne),he(ne,this.U)):ne=this.U),this.u!==null||this.R||(Y.J=ne,ne=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var I=this.i[T];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Vc(this,Y,y),T=yt(this.J),ut(T,"RID",f),ut(T,"CVER",22),this.G&&ut(T,"X-HTTP-Session-Id",this.G),Is(this,T),ne&&(this.R?y="headers="+ce(br(ne))+"&"+y:this.u&&As(T,this.u,ne)),ir(this.h,Y),this.Ra&&ut(T,"TYPE","init"),this.S?(ut(T,"$req",y),ut(T,"SID","null"),Y.U=!0,Se(Y,T,null)):Se(Y,T,y),this.I=2}}else this.I==3&&(f?ql(this,f):this.i.length==0||An(this.h)||ql(this))};function ql(f,y){var T;y?T=y.l:T=f.V++;const I=yt(f.J);ut(I,"SID",f.M),ut(I,"RID",T),ut(I,"AID",f.K),Is(f,I),f.u&&f.o&&As(I,f.u,f.o),T=new Ee(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),y&&(f.i=y.G.concat(f.i)),y=Vc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ir(f.h,T),Se(T,I,y)}function Is(f,y){f.H&&Me(f.H,function(T,I){ut(y,I,T)}),f.l&&Me({},function(T,I){ut(y,I,T)})}function Vc(f,y,T){T=Math.min(f.i.length,T);const I=f.l?g(f.l.Ka,f.l,f):null;e:{var Y=f.i;let He=-1;for(;;){const Yt=["count="+T];He==-1?T>0?(He=Y[0].g,Yt.push("ofs="+He)):He=0:Yt.push("ofs="+He);let ct=!0;for(let Lt=0;Lt<T;Lt++){var ne=Y[Lt].g;const wr=Y[Lt].map;if(ne-=He,ne<0)He=Math.max(0,Y[Lt].g-100),ct=!1;else try{ne="req"+ne+"_"||"";try{var pe=wr instanceof Map?wr:Object.entries(wr);for(const[di,Hr]of pe){let qr=Hr;d(Hr)&&(qr=fn(Hr)),Yt.push(ne+di+"="+encodeURIComponent(qr))}}catch(di){throw Yt.push(ne+"type="+encodeURIComponent("_badmap")),di}}catch{I&&I(wr)}}if(ct){pe=Yt.join("&");break e}}pe=void 0}return f=f.i.splice(0,T),y.G=f,pe}function Pc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;te||w(),G||(te(),G=!0),S.add(y,f),f.A=0}}function Ds(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=nr(g(f.Da,f),Uc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=nr(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Sa(this),Lc(this))};function Gl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Lc(f){f.g=new Ee(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=yt(f.na);ut(y,"RID","rpc"),ut(y,"SID",f.M),ut(y,"AID",f.K),ut(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&ut(y,"TO",f.ia),ut(y,"TYPE","xmlhttp"),Is(f,y),f.u&&f.o&&As(y,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Ss(yt(y)),T.u=null,T.R=!0,Pe(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Sa(this),Ds(this),Pt(19))};function To(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function kc(f,y){var T=null;if(f.g==y){To(f),Gl(f),f.g=null;var I=2}else if(Rn(f.h,y))T=y.G,ai(f.h,y),I=1;else return;if(f.I!=0){if(y.o)if(I==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var Y=f.D;I=ma(),Kt(I,new Tr(I,T)),fi(f)}else Pc(f);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(I==1&&Eo(f,y)||I==2&&Ds(f)))switch(T&&T.length>0&&(y=f.h,y.i=y.i.concat(T)),Y){case 1:hi(f,5);break;case 4:hi(f,10);break;case 3:hi(f,6);break;default:hi(f,2)}}}function Uc(f,y){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*y}function hi(f,y){if(f.j.info("Error code "+y),y==2){var T=g(f.bb,f),I=f.Ua;const Y=!I;I=new Jt(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||$e(I,"https"),Ss(I),Y?zr(I.toString(),T):zl(I.toString(),T)}else Pt(2);f.I=0,f.l&&f.l.pa(y),jc(f),vo(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function jc(f){if(f.I=0,f.ja=[],f.l){const y=si(f.h);(y.length!=0||f.i.length!=0)&&(L(f.ja,y),L(f.ja,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.oa()}}function zc(f,y,T){var I=T instanceof Jt?yt(T):new Jt(T);if(I.g!="")y&&(I.g=y+"."+I.g),ar(I,I.u);else{var Y=c.location;I=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const ne=new Jt(null);I&&$e(ne,I),y&&(ne.g=y),Y&&ar(ne,Y),T&&(ne.h=T),I=ne}return T=f.G,y=f.wa,T&&y&&ut(I,T,y),ut(I,"VER",f.ka),Is(f,I),I}function Bc(f,y,T){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new _t(new li({ab:T})):new _t(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}n=Fc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ba(){}ba.prototype.g=function(f,y){return new kn(f,y)};function kn(f,y){jt.call(this),this.g=new Ta(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!O(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Vi(this)}E(kn,jt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Hl(this.g)},kn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=fn(f),f=T);y.i.push(new It(y.Ya++,f)),y.I==3&&fi(y)},kn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,kn.Z.N.call(this)};function Hc(f){bt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}E(Hc,bt);function qc(){Vn.call(this),this.status=1}E(qc,Vn);function Vi(f){this.g=f}E(Vi,Fc),Vi.prototype.ra=function(){Kt(this.g,"a")},Vi.prototype.qa=function(f){Kt(this.g,new Hc(f))},Vi.prototype.pa=function(f){Kt(this.g,new qc)},Vi.prototype.oa=function(){Kt(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,vw=function(){return new ba},_w=function(){return ma()},yw=Vt,Ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,ch=xi,M.COMPLETE="complete",gw=M,da.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Lu=da,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,pw=_t}).apply(typeof Jf<"u"?Jf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.8.0";function Ex(n){Dl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new dy("@firebase/firestore");function el(){return no.logLevel}function Te(n,...e){if(no.logLevel<=nt.DEBUG){const t=e.map(gy);no.debug(`Firestore (${Dl}): ${n}`,...t)}}function ia(n,...e){if(no.logLevel<=nt.ERROR){const t=e.map(gy);no.error(`Firestore (${Dl}): ${n}`,...t)}}function pl(n,...e){if(no.logLevel<=nt.WARN){const t=e.map(gy);no.warn(`Firestore (${Dl}): ${n}`,...t)}}function gy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Ew(n,a,t)}function Ew(n,e,t){let a=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ia(a),new Error(a)}function ht(n,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,n||Ew(e,o,a)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ca{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Nn.UNAUTHENTICATED)))}shutdown(){}}class Sx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bx{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ta)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new Tw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class wx{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ax{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new wx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const a=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const o=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new L0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Cx(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function rt(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){const t=Math.min(n.length,e.length);for(let a=0;a<t;a++){const o=n.charAt(a),l=e.charAt(a);if(o!==l)return ag(o)===ag(l)?rt(o,l):ag(o)?1:-1}return rt(n.length,e.length)}const Ix=55296,Dx=57343;function ag(n){const e=n.charCodeAt(0);return e>=Ix&&e<=Dx}function gl(n,e,t){return n.length===e.length&&n.every(((a,o)=>t(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class _i{constructor(e,t,a){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Le(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=_i.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return rt(e.length,t.length)}static compareSegments(e,t){const a=_i.isNumericId(e),o=_i.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?_i.extractNumericId(e).compare(_i.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class Dt extends _i{construct(e,t,a){return new Dt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((o=>o.length>0)))}return new Dt(t)}static emptyPath(){return new Dt([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends _i{construct(e,t,a){return new Sn(e,t,a)}static isValidIdentifier(e){return Nx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new Sn([k0])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(a+=d,o++):(l(),o++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Dt.fromString(e))}static fromName(e){return new De(Dt.fromString(e).popFirst(5))}static empty(){return new De(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xx(n,e,t,a){if(e===!0&&a===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U0(n){if(!De.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j0(n){if(De.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le(12329,{type:typeof n})}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pd(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function gc(n,e){if(!bw(n))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const c=n[a];if(o&&typeof c!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new ve(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,B0=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*B0);return new Mt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gc(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:sn("string",Mt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Mt(0,0))}static max(){return new ze(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function Ox(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(a===1e9?new Mt(t+1,0):new Mt(t,a));return new os(o,De.empty(),e)}function Mx(n){return new os(n.readTime,n.key,Zu)}class os{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new os(ze.min(),De.empty(),Zu)}static max(){return new os(ze.max(),De.empty(),Zu)}}function Vx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:rt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==Px)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,a)=>{t(e)}))}static reject(e){return new ue(((t,a)=>{a(e)}))}static waitFor(e){return new ue(((t,a)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>a(p)))})),c=!0,l===o&&t()}))}static or(e){let t=ue.resolve(!1);for(const a of e)t=t.next((o=>o?ue.resolve(o):a()));return t}static forEach(e,t){const a=[];return e.forEach(((o,l)=>{a.push(t.call(this,o,l))})),this.waitFor(a)}static mapArray(e,t){return new ue(((a,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&a(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ue(((a,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):a()};l()}))}}function kx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function yd(n){return n==null}function Ph(n){return n===0&&1/n==-1/0}function Ux(n){return typeof n=="number"&&Number.isInteger(n)&&!Ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="";function jx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=F0(e)),e=zx(n.get(t),e);return F0(e)}function zx(n,e){let t=e;const a=n.length;for(let o=0;o<a;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case ww:t+="";break;default:t+=l}}return t}function F0(n){return n+ww+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Aw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zf(this.root,e,this.comparator,!0)}}class Zf{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??Tn.RED,this.left=o??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new Tn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new gr([])}unionWith(e){let t=new un(Sn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rw("Invalid base64 string: "+l):l}})(e);return new bn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const Bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(n){if(ht(!!n,39018),typeof n=="string"){let e=0;const t=Bx.exec(n);if(ht(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Wt(n.seconds),nanos:Wt(n.nanos)}}function Wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function us(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="server_timestamp",Iw="__type__",Dw="__previous_value__",Nw="__local_write_time__";function vy(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Iw])==null?void 0:a.stringValue)===Cw}function _d(n){const e=n.mapValue.fields[Dw];return vy(e)?_d(e):e}function ec(n){const e=ls(n.mapValue.fields[Nw].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,a,o,l,c,d,p,g,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=E}}const Lh="(default)";class tc{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}function Hx(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",qx="__max__",eh={mapValue:{}},Ow="__vector__",kh="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vy(n)?4:$x(n)?9007199254740991:Gx(n)?10:11:Le(28295,{value:n})}function Ri(n,e){if(n===e)return!0;const t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ec(n).isEqual(ec(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ls(o.timestampValue),d=ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return us(o.bytesValue).isEqual(us(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return Wt(o.geoPointValue.latitude)===Wt(l.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Wt(o.integerValue)===Wt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Wt(o.doubleValue),d=Wt(l.doubleValue);return c===d?Ph(c)===Ph(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(H0(c)!==H0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ri(c[p],d[p])))return!1;return!0})(n,e);default:return Le(52216,{left:n})}}function nc(n,e){return(n.values||[]).find((t=>Ri(t,e)))!==void 0}function yl(n,e){if(n===e)return 0;const t=cs(n),a=cs(e);if(t!==a)return rt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return rt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Wt(l.integerValue||l.doubleValue),p=Wt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return G0(n.timestampValue,e.timestampValue);case 4:return G0(ec(n),ec(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=us(l),p=us(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=rt(d[g],p[g]);if(_!==0)return _}return rt(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=rt(Wt(l.latitude),Wt(c.latitude));return d!==0?d:rt(Wt(l.longitude),Wt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return $0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var b,C,L,z;const d=l.fields||{},p=c.fields||{},g=(b=d[kh])==null?void 0:b.arrayValue,_=(C=p[kh])==null?void 0:C.arrayValue,E=rt(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((z=_==null?void 0:_.values)==null?void 0:z.length)||0);return E!==0?E:$0(g,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===eh.mapValue&&c===eh.mapValue)return 0;if(l===eh.mapValue)return 1;if(c===eh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const b=Dg(p[E],_[E]);if(b!==0)return b;const C=yl(d[p[E]],g[_[E]]);if(C!==0)return C}return rt(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Le(23264,{he:t})}}function G0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rt(n,e);const t=ls(n),a=ls(e),o=rt(t.seconds,a.seconds);return o!==0?o:rt(t.nanos,a.nanos)}function $0(n,e){const t=n.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=yl(t[o],a[o]);if(l)return l}return rt(t.length,a.length)}function _l(n){return Ng(n)}function Ng(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const a=ls(t);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return us(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return De.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=Ng(l);return a+"]"})(n.arrayValue):"mapValue"in n?(function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of a)l?l=!1:o+=",",o+=`${c}:${Ng(t.fields[c])}`;return o+"}"})(n.mapValue):Le(61005,{value:n})}function fh(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(n);return e?16+fh(e):16;case 5:return 2*n.stringValue.length;case 6:return us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,l)=>o+fh(l)),0)})(n.arrayValue);case 10:case 11:return(function(a){let o=0;return ms(a.fields,((l,c)=>{o+=l.length+fh(c)})),o})(n.mapValue);default:throw Le(13486,{value:n})}}function K0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xg(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function Y0(n){return!!n&&"nullValue"in n}function Q0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hh(n){return!!n&&"mapValue"in n}function Gx(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[xw])==null?void 0:a.stringValue)===Ow}function Hu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ms(n.mapValue.fields,((t,a)=>e.mapValue.fields[t]=Hu(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(n.arrayValue.values[t]);return e}return{...n}}function $x(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=Sn.emptyPath(),a={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=d.popLast()}c?a[d.lastSegment()]=Hu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){ms(t,((o,l)=>e[o]=l));for(const o of a)delete e[o]}clone(){return new Xn(Hu(this.value))}}function Mw(n){const e=[];return ms(n.fields,((t,a)=>{const o=new Sn([t]);if(hh(a)){const l=Mw(a.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t,a,o,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new xn(e,0,ze.min(),ze.min(),ze.min(),Xn.empty(),0)}static newFoundDocument(e,t,a,o){return new xn(e,1,t,ze.min(),a,o,0)}static newNoDocument(e,t){return new xn(e,2,t,ze.min(),ze.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new xn(e,3,t,ze.min(),ze.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function X0(n,e,t){let a=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?a=De.comparator(De.fromName(c.referenceValue),t.key):a=yl(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function W0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Kx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class an extends Vw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new Qx(e,t,a):t==="array-contains"?new Jx(e,a):t==="in"?new Zx(e,a):t==="not-in"?new eO(e,a):t==="array-contains-any"?new tO(e,a):new an(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new Xx(e,a):new Wx(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends Vw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zr(e,t)}matches(e){return Pw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pw(n){return n.op==="and"}function Lw(n){return Yx(n)&&Pw(n)}function Yx(n){for(const e of n.filters)if(e instanceof Zr)return!1;return!0}function Og(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+_l(n.value);if(Lw(n))return n.filters.map((e=>Og(e))).join(",");{const e=n.filters.map((t=>Og(t))).join(",");return`${n.op}(${e})`}}function kw(n,e){return n instanceof an?(function(a,o){return o instanceof an&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(n,e):n instanceof Zr?(function(a,o){return o instanceof Zr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((l,c,d)=>l&&kw(c,o.filters[d])),!0):!1})(n,e):void Le(19439)}function Uw(n){return n instanceof an?(function(t){return`${t.field.canonicalString()} ${t.op} ${_l(t.value)}`})(n):n instanceof Zr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Uw).join(" ,")+"}"})(n):"Filter"}class Qx extends an{constructor(e,t,a){super(e,t,a),this.key=De.fromName(a.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xx extends an{constructor(e,t){super(e,"in",t),this.keys=jw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Wx extends an{constructor(e,t){super(e,"not-in",t),this.keys=jw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function jw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((a=>De.fromName(a.referenceValue)))}class Jx extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&nc(t.arrayValue,this.value)}}class Zx extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nc(this.value.arrayValue,t)}}class eO extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nc(this.value.arrayValue,t)}}class tO extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>nc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,t=null,a=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function J0(n,e=null,t=[],a=[],o=null,l=null,c=null){return new nO(n,e,t,a,o,l,c)}function Ty(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>Og(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=t}return e.Te}function Sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Kx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!W0(n.startAt,e.startAt)&&W0(n.endAt,e.endAt)}function Mg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t=null,a=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rO(n,e,t,a,o,l,c,d){return new yc(n,e,t,a,o,l,c,d)}function vd(n){return new yc(n)}function Z0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iO(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function zw(n){return n.collectionGroup!==null}function qu(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new un(Sn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new jh(l,a))})),t.has(Sn.keyField().canonicalString())||e.Ie.push(new jh(Sn.keyField(),a))}return e.Ie}function Ti(n){const e=Fe(n);return e.Ee||(e.Ee=aO(e,qu(n))),e.Ee}function aO(n,e){if(n.limitType==="F")return J0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new jh(o.field,l)}));const t=n.endAt?new Uh(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Uh(n.startAt.position,n.startAt.inclusive):null;return J0(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function Vg(n,e){const t=n.filters.concat([e]);return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pg(n,e,t){return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ed(n,e){return Sy(Ti(n),Ti(e))&&n.limitType===e.limitType}function Bw(n){return`${Ty(Ti(n))}|lt:${n.limitType}`}function tl(n){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((o=>Uw(o))).join(", ")}]`),yd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((o=>_l(o))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Ti(n))}; limitType=${n.limitType})`}function Td(n,e){return e.isFoundDocument()&&(function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):De.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(n,e)&&(function(a,o){for(const l of qu(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(a,o){return!(a.startAt&&!(function(c,d,p){const g=X0(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,qu(a),o)||a.endAt&&!(function(c,d,p){const g=X0(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,qu(a),o))})(n,e)}function sO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fw(n){return(e,t)=>{let a=!1;for(const o of qu(n)){const l=oO(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function oO(n,e,t){const a=n.field.isKeyField()?De.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?yl(p,g):Le(42886)})(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Le(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((t,a)=>{for(const[o,l]of a)e(o,l)}))}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Ft(De.comparator);function aa(){return lO}const Hw=new Ft(De.comparator);function ku(...n){let e=Hw;for(const t of n)e=e.insert(t.key,t);return e}function qw(n){let e=Hw;return n.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function Ys(){return Gu()}function Gw(){return Gu()}function Gu(){return new oo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uO=new Ft(De.comparator),cO=new un(De.comparator);function it(...n){let e=cO;for(const t of n)e=e.add(t);return e}const fO=new un(rt);function hO(){return fO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function $w(n){return{integerValue:""+n}}function dO(n,e){return Ux(e)?$w(e):by(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function mO(n,e,t){return n instanceof zh?(function(o,l){const c={fields:{[Iw]:{stringValue:Cw},[Nw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&vy(l)&&(l=_d(l)),l&&(c.fields[Dw]=l),{mapValue:c}})(t,e):n instanceof rc?Yw(n,e):n instanceof ic?Qw(n,e):(function(o,l){const c=Kw(o,l),d=eS(c)+eS(o.Ae);return xg(c)&&xg(o.Ae)?$w(d):by(o.serializer,d)})(n,e)}function pO(n,e,t){return n instanceof rc?Yw(n,e):n instanceof ic?Qw(n,e):t}function Kw(n,e){return n instanceof Bh?(function(a){return xg(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class zh extends Sd{}class rc extends Sd{constructor(e){super(),this.elements=e}}function Yw(n,e){const t=Xw(e);for(const a of n.elements)t.some((o=>Ri(o,a)))||t.push(a);return{arrayValue:{values:t}}}class ic extends Sd{constructor(e){super(),this.elements=e}}function Qw(n,e){let t=Xw(e);for(const a of n.elements)t=t.filter((o=>!Ri(o,a)));return{arrayValue:{values:t}}}class Bh extends Sd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eS(n){return Wt(n.integerValue||n.doubleValue)}function Xw(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gO(n,e){return n.field.isEqual(e.field)&&(function(a,o){return a instanceof rc&&o instanceof rc||a instanceof ic&&o instanceof ic?gl(a.elements,o.elements,Ri):a instanceof Bh&&o instanceof Bh?Ri(a.Ae,o.Ae):a instanceof zh&&o instanceof zh})(n.transform,e.transform)}class yO{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bd{}function Ww(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wy(n.key,vr.none()):new _c(n.key,n.data,vr.none());{const t=n.data,a=Xn.empty();let o=new un(Sn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),o=o.add(l)}return new ps(n.key,a,new gr(o.toArray()),vr.none())}}function _O(n,e,t){n instanceof _c?(function(o,l,c){const d=o.value.clone(),p=nS(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ps?(function(o,l,c){if(!dh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nS(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Jw(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function $u(n,e,t,a){return n instanceof _c?(function(l,c,d,p){if(!dh(l.precondition,c))return d;const g=l.value.clone(),_=rS(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,a):n instanceof ps?(function(l,c,d,p){if(!dh(l.precondition,c))return d;const g=rS(l.fieldTransforms,p,c),_=c.data;return _.setAll(Jw(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,a):(function(l,c,d){return dh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function vO(n,e){let t=null;for(const a of n.fieldTransforms){const o=e.data.field(a.field),l=Kw(a.transform,o||null);l!=null&&(t===null&&(t=Xn.empty()),t.set(a.field,l))}return t||null}function tS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&gl(a,o,((l,c)=>gO(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _c extends bd{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends bd{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}})),e}function nS(n,e,t){const a=new Map;ht(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);a.set(l.field,pO(c,d,t[o]))}return a}function rS(n,e,t){const a=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);a.set(o.field,mO(l,c,e))}return a}class wy extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EO extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_O(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=$u(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Gw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Ww(c,d);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),it())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((t,a)=>tS(t,a)))&&gl(this.baseMutations,e.baseMutations,((t,a)=>tS(t,a)))}}class Ay{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return uO})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,a[c].version);return new Ay(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,st;function wO(n){switch(n){case oe.OK:return Le(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Le(15467,{code:n})}}function Zw(n){if(n===void 0)return ia("GRPC error has no .code"),oe.UNKNOWN;switch(n){case rn.OK:return oe.OK;case rn.CANCELLED:return oe.CANCELLED;case rn.UNKNOWN:return oe.UNKNOWN;case rn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case rn.INTERNAL:return oe.INTERNAL;case rn.UNAVAILABLE:return oe.UNAVAILABLE;case rn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case rn.NOT_FOUND:return oe.NOT_FOUND;case rn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case rn.ABORTED:return oe.ABORTED;case rn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case rn.DATA_LOSS:return oe.DATA_LOSS;default:return Le(39323,{code:n})}}(st=rn||(rn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=new is([4294967295,4294967295],0);function iS(n){const e=AO().encode(n),t=new mw;return t.update(e),new Uint8Array(t.digest())}function aS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new is([t,a],0),new is([o,l],0)]}class Ry{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(a<0)throw new Uu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=is.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(is.fromNumber(a)));return o.compare(RO)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=iS(e),[a,o]=aS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,o,l);if(!this.we(c))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ry(l,o,t);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=iS(e),[a,o]=aS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,o,l);this.be(c)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new wd(ze.min(),o,new Ft(rt),aa(),it())}}class vc{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new vc(a,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,a,o){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=o}}class eA{constructor(e,t){this.targetId=e,this.Ce=t}}class tA{constructor(e,t,a=bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class sS{constructor(){this.ve=0,this.Fe=oS(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),t=it(),a=it();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Le(38017,{changeType:l})}})),new vc(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=oS()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CO{constructor(e){this.Ge=e,this.ze=new Map,this.je=aa(),this.He=th(),this.Je=th(),this.Ze=new Ft(rt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Mg(l))if(a===0){const c=new De(l.path);this.et(t,c,xn.newNoDocument(c,ze.min()))}else ht(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=us(a).toUint8Array()}catch(p){if(p instanceof Rw)return pl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ry(c,o,l)}catch(p){return pl(p instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Mg(d.target)){const p=new De(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,xn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let a=it();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new wd(e,t,this.Ze,this.je,a);return this.je=aa(),this.He=th(),this.Je=th(),this.Ze=new Ft(rt),o}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new sS,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new un(rt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new un(rt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function th(){return new Ft(De.comparator)}function oS(){return new Ft(De.comparator)}const IO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"};class xO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lg(n,e){return n.useProto3Json||yd(e)?e:{value:e}}function Fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OO(n,e){return Fh(n,e.toTimestamp())}function Si(n){return ht(!!n,49232),ze.fromTimestamp((function(t){const a=ls(t);return new Mt(a.seconds,a.nanos)})(n))}function Cy(n,e){return kg(n,e).canonicalString()}function kg(n,e){const t=(function(o){return new Dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rA(n){const e=Dt.fromString(n);return ht(lA(e),10190,{key:e.toString()}),e}function Ug(n,e){return Cy(n.databaseId,e.path)}function sg(n,e){const t=rA(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(aA(t))}function iA(n,e){return Cy(n.databaseId,e)}function MO(n){const e=rA(n);return e.length===4?Dt.emptyPath():aA(e)}function jg(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aA(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lS(n,e,t){return{name:Ug(n,e),fields:t.value.mapValue.fields}}function VO(n,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Le(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(ht(_===void 0||typeof _=="string",58123),bn.fromBase64String(_||"")):(ht(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),bn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?oe.UNKNOWN:Zw(g.code);return new ve(_,g.message||"")})(c);t=new tA(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=sg(n,a.document.name),l=Si(a.document.updateTime),c=a.document.createTime?Si(a.document.createTime):ze.min(),d=new Xn({mapValue:{fields:a.document.fields}}),p=xn.newFoundDocument(o,l,c,d),g=a.targetIds||[],_=a.removedTargetIds||[];t=new mh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=sg(n,a.document),l=a.readTime?Si(a.readTime):ze.min(),c=xn.newNoDocument(o,l),d=a.removedTargetIds||[];t=new mh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=sg(n,a.document),l=a.removedTargetIds||[];t=new mh([],l,o,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,c=new bO(o,l),d=a.targetId;t=new eA(d,c)}}return t}function PO(n,e){let t;if(e instanceof _c)t={update:lS(n,e.key,e.value)};else if(e instanceof wy)t={delete:Ug(n,e.key)};else if(e instanceof ps)t={update:lS(n,e.key,e.data),updateMask:qO(e.fieldMask)};else{if(!(e instanceof EO))return Le(16599,{dt:e.type});t={verify:Ug(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof zh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof rc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ic)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:OO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le(27497)})(n,e.precondition)),t}function LO(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?Si(o.updateTime):Si(l);return c.isEqual(ze.min())&&(c=Si(l)),new yO(c,o.transformResults||[])})(t,e)))):[]}function kO(n,e){return{documents:[iA(n,e.path)]}}function UO(n,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=iA(n,o);const l=(function(g){if(g.length!==0)return oA(Zr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(b){return{field:nl(b.field),direction:BO(b.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Lg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function jO(n){let e=MO(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){ht(a===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const b=sA(E);return b instanceof Zr&&Lw(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((b=>(function(L){return new jh(rl(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(b)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,yd(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(E){const b=!!E.before,C=E.values||[];return new Uh(C,b)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const b=!E.before,C=E.values||[];return new Uh(C,b)})(t.endAt)),rO(e,o,c,l,d,"F",p,g)}function zO(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=rl(t.unaryFilter.field);return an.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(t.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rl(t.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(n):n.fieldFilter!==void 0?(function(t){return an.create(rl(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zr.create(t.compositeFilter.filters.map((a=>sA(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(t.compositeFilter.op))})(n):Le(30097,{filter:n})}function BO(n){return IO[n]}function FO(n){return DO[n]}function HO(n){return NO[n]}function nl(n){return{fieldPath:n.canonicalString()}}function rl(n){return Sn.fromServerFormat(n.fieldPath)}function oA(n){return n instanceof an?(function(t){if(t.op==="=="){if(Q0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(Y0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(Y0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:FO(t.op),value:t.value}}})(n):n instanceof Zr?(function(t){const a=t.getFilters().map((o=>oA(o)));return a.length===1?a[0]:{compositeFilter:{op:HO(t.op),filters:a}}})(n):Le(54877,{filter:n})}function qO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function lA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function uA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,a,o,l=ze.min(),c=ze.min(),d=bn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.yt=e}}function $O(n){const e=jO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Sn=new YO}addToCollectionParentIndex(e,t){return this.Sn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(os.min())}updateCollectionGroup(e,t,a){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class YO{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new un(Dt.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new un(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(cA,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="LruGarbageCollector",QO=1048576;function fS([n,e],[t,a]){const o=rt(n,t);return o===0?rt(e,a):o}class XO{constructor(e){this.Pr=e,this.buffer=new un(fS),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();fS(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WO{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(cS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xl(t)?Te(cS,"Ignoring IndexedDB error during garbage collection: ",t):await Nl(t)}await this.Ar(3e5)}))}}class JO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(gd.ce);const a=new XO(t);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(uS)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uS):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,o,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(a=E,d=Date.now(),this.removeTargets(e,a,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),el()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function ZO(n,e){return new JO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ue.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(a!==null&&$u(a.mutation,o,gr.empty(),Mt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,it()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=it()){const o=Ys();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,a).next((l=>{let c=ku();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=Ys();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,it())))}populateOverlays(e,t,a){const o=[];return a.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,a,o){let l=aa();const c=Gu(),d=(function(){return Gu()})();return t.forEach(((p,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ps)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),$u(_.mutation,g,_.mutation.getFieldMask(),Mt.now())):c.set(g.key,gr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new tM(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const a=Gu();let o=new Ft(((c,d)=>c-d)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=a.get(p)||gr.empty();_=d.applyToLocalView(g,_),a.set(p,_);const E=(o.get(d.batchId)||it()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=Gw();_.forEach((b=>{if(!l.has(b)){const C=Ww(t.get(b),a.get(b));C!==null&&E.set(b,C),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ue.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,o){return iO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):ue.resolve(Ys());let d=Zu,p=l;return c.next((g=>ue.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?ue.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{p=p.insert(_,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,it()))).next((_=>({batchId:d,changes:qw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next((a=>{let o=ku();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next((d=>ue.forEach(d,(p=>{const g=(function(E,b){return new yc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((_=>{_.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,xn.newInvalidDocument(_)))}));let d=ku();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&$u(_.mutation,g,gr.empty(),Mt.now()),Td(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ue.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:$O(o.bundledQuery),readTime:Si(o.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.overlays=new Ft(De.comparator),this.Lr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ys();return ue.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&a.set(o,l)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((o,l)=>{this.bt(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(a)),ue.resolve()}getOverlaysForCollection(e,t,a){const o=Ys(),l=t.length+1,c=new De(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new Ft(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let _=l.get(g.largestBatchId);_===null&&(_=Ys(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ys(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return ue.resolve(d)}bt(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new SO(t,a));let l=this.Lr.get(t);l===void 0&&(l=it(),this.Lr.set(t,l)),this.Lr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.kr=new un(mn.Kr),this.qr=new un(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new mn(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new mn(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new De(new Dt([])),a=new mn(t,e),o=new mn(t,e+1),l=[];return this.qr.forEachInRange([a,o],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new De(new Dt([])),a=new mn(t,e),o=new mn(t,e+1);let l=it();return this.qr.forEachInRange([a,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new mn(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class mn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return De.comparator(e.key,t.key)||rt(e.Hr,t.Hr)}static Ur(e,t){return rt(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new un(mn.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TO(l,t,a,o);this.mutationQueue.push(c);for(const d of o)this.Jr=this.Jr.add(new mn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Xr(a),l=o<0?0:o;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?_y:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new mn(t,0),o=new mn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([a,o],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new un(rt);return t.forEach((o=>{const l=new mn(o,0),c=new mn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{a=a.add(d.Hr)}))})),ue.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;De.isDocumentKey(l)||(l=l.child(""));const c=new mn(new De(l),0);let d=new un(rt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),c),ue.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ht(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ue.forEach(t.mutations,(o=>{const l=new mn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new mn(t,0),o=this.Jr.firstAfterOrEqual(a);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.ti=e,this.docs=(function(){return new Ft(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ue.resolve(a?a.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let a=aa();return t.forEach((o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():xn.newInvalidDocument(o))})),ue.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=aa();const c=t.path,d=new De(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Vx(Mx(_),a)<=0||(o.has(_.key)||Td(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Le(9500)}ni(e,t){return ue.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new lM(this)}getSize(e){return ue.resolve(this.size)}}class lM extends eM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ue.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.persistence=e,this.ri=new oo((t=>Ty(t)),Sy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new Iy,this.targetCount=0,this.oi=vl._r()}forEachTarget(e,t){return this.ri.forEach(((a,o)=>t(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),ue.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new vl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.lr(t),ue.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),ue.waitFor(l).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return ue.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),ue.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return ue.resolve(a)}containsKey(e,t){return ue.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this._i={},this.overlays={},this.ai=new gd(0),this.ui=!1,this.ui=!0,this.ci=new aM,this.referenceDelegate=e(this),this.li=new uM(this),this.indexManager=new KO,this.remoteDocumentCache=(function(o){return new oM(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new GO(t),this.Pi=new rM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new iM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new sM(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){Te("MemoryPersistence","Starting transaction:",e);const o=new cM(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return ue.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class cM extends Lx{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.Ri=new Iy,this.Ai=null}static Vi(e){return new Dy(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),ue.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(a=>{const o=De.fromPath(a);return this.mi(e,o).next((l=>{l||t.removeEntry(o,ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Hh{constructor(e,t){this.persistence=e,this.fi=new oo((a=>jx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=ZO(this,t)}static Vi(e,t){return new Hh(e,t)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((o=>a+o))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return ue.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((l=>l?ue.resolve():t(o)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(a++,l.removeEntry(c,ze.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ue.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fh(e.data.value)),t}wr(e,t,a){return ue.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ue.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=o}static Es(e,t){let a=it(),o=it();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ny(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return nN()?8:kx(On())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,o,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new fM;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,a,o){return a.documentReadCount<this.Vs?(el()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(el()<=nt.DEBUG&&Te("QueryEngine","Query:",tl(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(el()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):ue.resolve())}gs(e,t){if(Z0(t))return ue.resolve(null);let a=Ti(t);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Pg(t,null,"F"),a=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=it(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,Pg(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,a,o){return Z0(t)||o.isEqual(ze.min())?ue.resolve(null):this.fs.getDocuments(e,a).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,a,o)?ue.resolve(null):(el()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tl(t)),this.Ds(e,c,t,Ox(o,Zu)).next((d=>d)))}))}bs(e,t){let a=new un(Fw(e));return t.forEach(((o,l)=>{Td(e,l)&&(a=a.add(l))})),a}Ss(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,a){return el()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",tl(t)),this.fs.getDocumentsMatchingQuery(e,t,os.min(),a)}Ds(e,t,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",dM=3e8;class mM{constructor(e,t,a,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Ft(rt),this.Fs=new oo((l=>Ty(l)),Sy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function pM(n,e,t,a){return new mM(n,e,t,a)}async function hA(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=it();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(a,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function gM(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const E=g.batch,b=E.keys();let C=ue.resolve();return b.forEach((L=>{C=C.next((()=>_.getEntry(p,L))).next((z=>{const k=g.docVersions.get(L);ht(k!==null,48541),z.version.compareTo(k)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,a,e,l).next((()=>l.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=it();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,o)))}))}function dA(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function yM(n,e){const t=Fe(n),a=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const d=[];e.targetChanges.forEach(((_,E)=>{const b=o.get(E);if(!b)return;d.push(t.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,E))));let C=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(bn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,a)),o=o.insert(E,C),(function(z,k,$){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=dM?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(b,C,_)&&d.push(t.li.updateTargetData(l,C))}));let p=aa(),g=it();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(_M(l,c,e.documentUpdates).next((_=>{p=_.Bs,g=_.Ls}))),!a.isEqual(ze.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(_)}return ue.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=o,l)))}function _M(n,e,t){let a=it(),o=it();return t.forEach((l=>a=a.add(l))),e.getEntries(n,a).next((l=>{let c=aa();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Te(xy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function vM(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=_y),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function EM(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return t.li.getTargetData(a,e).next((l=>l?(o=l,ue.resolve(o)):t.li.allocateTargetId(a).next((c=>(o=new Za(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=t.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function zg(n,e,t){const a=Fe(n),o=a.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!xl(c))throw c;Te(xy,`Failed to update sequence numbers for target ${e}: ${c}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function hS(n,e,t){const a=Fe(n);let o=ze.min(),l=it();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=Fe(p),b=E.Fs.get(_);return b!==void 0?ue.resolve(E.vs.get(b)):E.li.getTargetData(g,_)})(a,c,Ti(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(c,e,t?o:ze.min(),t?l:it()))).next((d=>(TM(a,sO(e),d),{documents:d,ks:l})))))}function TM(n,e,t){let a=n.Ms.get(e)||ze.min();t.forEach(((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),n.Ms.set(e,a)}class dS{constructor(){this.activeTargetIds=hO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SM{constructor(){this.vo=new dS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dS,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="ConnectivityMonitor";class pS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(mS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(mS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function Bg(){return nh===null?nh=(function(){return 268435456+Math.round(2147483648*Math.random())})():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",wM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Lh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,t,a,o,l){const c=Bg(),d=this.Qo(e,t.toUriEncodedString());Te(og,`Sending RPC '${e}' ${c}:`,d,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,l);const{host:g}=new URL(d),_=Cl(g);return this.zo(e,d,p,a,_).then((E=>(Te(og,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw pl(og,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",a),E}))}jo(e,t,a,o,l,c){return this.Wo(e,t,a,o,l)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),a&&a.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const a=wM[e];let o=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",Mu=(n,e,t)=>{n.listen(e,(a=>{try{t(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ll extends AM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ll.c_){const e=_w();Mu(e,yw.STAT_EVENT,(t=>{t.stat===Ig.PROXY?Te(In,"STAT_EVENT: detected buffering proxy"):t.stat===Ig.NOPROXY&&Te(In,"STAT_EVENT: detected no buffering proxy")})),ll.c_=!0}}zo(e,t,a,o,l){const c=Bg();return new Promise(((d,p)=>{const g=new pw;g.setWithCredentials(!0),g.listenOnce(gw.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ch.NO_ERROR:const E=g.getResponseJson();Te(In,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case ch.TIMEOUT:Te(In,`RPC '${e}' ${c} timed out`),p(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const b=g.getStatus();if(Te(In,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C==null?void 0:C.error;if(L&&L.status&&L.message){const z=(function($){const H=$.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN})(L.status);p(new ve(z,L.message))}else p(new ve(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(In,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);Te(In,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,a,15)}))}T_(e,t,a){const o=Bg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,a),d.encodeInitMessageHeaders=!0;const g=l.join("");Te(In,`Creating RPC '${e}' stream ${o}: ${g}`,d);const _=c.createWebChannel(g,d);this.I_(_);let E=!1,b=!1;const C=new RM({Ho:L=>{b?Te(In,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(E||(Te(In,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),Te(In,`RPC '${e}' stream ${o} sending:`,L),_.send(L))},Jo:()=>_.close()});return Mu(_,Lu.EventType.OPEN,(()=>{b||(Te(In,`RPC '${e}' stream ${o} transport opened.`),C.i_())})),Mu(_,Lu.EventType.CLOSE,(()=>{b||(b=!0,Te(In,`RPC '${e}' stream ${o} transport closed`),C.o_(),this.E_(_))})),Mu(_,Lu.EventType.ERROR,(L=>{b||(b=!0,pl(In,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),C.o_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),Mu(_,Lu.EventType.MESSAGE,(L=>{var z;if(!b){const k=L.data[0];ht(!!k,16349);const $=k,H=($==null?void 0:$.error)||((z=$[0])==null?void 0:z.error);if(H){Te(In,`RPC '${e}' stream ${o} received error:`,H);const K=H.status;let ee=(function(S){const w=rn[S];if(w!==void 0)return Zw(w)})(K),te=H.message;ee===void 0&&(ee=oe.INTERNAL,te="Unknown error status: "+K+" with message "+H.message),b=!0,C.o_(new ve(ee,te)),_.close()}else Te(In,`RPC '${e}' stream ${o} received:`,k),C.__(k)}})),ll.u_(),setTimeout((()=>{C.s_()}),0),C}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return vw()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(n){return new ll(n)}function lg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){return new xO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll.c_=!1;class mA{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="PersistentStream";class pA{constructor(e,t,a,o,l,c,d,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ia(t.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===t&&this.G_(a,o)}),(a=>{e((()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(gS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Te(gS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IM extends pA{constructor(e,t,a,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VO(this.serializer,e),a=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Si(c.readTime):ze.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=jg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Mg(p)?{documents:kO(l,p)}:{query:UO(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nA(l,c.resumeToken);const g=Lg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(ze.min())>0){d.readTime=Fh(l,c.snapshotVersion.toTimestamp());const g=Lg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=zO(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=jg(this.serializer),t.removeTarget=e,this.K_(t)}}class DM extends pA{constructor(e,t,a,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=LO(e.writeResults,e.commitTime),a=Si(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=jg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>PO(this.serializer,a)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{}class xM extends NM{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,kg(t,a),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())}))}jo(e,t,a,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,kg(t,a),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function OM(n,e,t,a){return new xM(n,e,t,a)}class MM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class VM{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{a.enqueueAndForget((async()=>{lo(this)&&(Te(ro,"Restarting streams for network reachability change."),await(async function(p){const g=Fe(p);g.Ea.add(4),await Ec(g),g.Va.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Va=new MM(a,o)}}async function Rd(n){if(lo(n))for(const e of n.Ra)await e(!0)}async function Ec(n){for(const e of n.Ra)await e(!1)}function gA(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Py(t)?Vy(t):Ol(t).O_()&&My(t,e))}function Oy(n,e){const t=Fe(n),a=Ol(t);t.Ia.delete(e),a.O_()&&yA(t,e),t.Ia.size===0&&(a.O_()?a.L_():lo(t)&&t.Va.set("Unknown"))}function My(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ol(n).Z_(e)}function yA(n,e){n.da.$e(e),Ol(n).X_(e)}function Vy(n){n.da=new CO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ol(n).start(),n.Va.ua()}function Py(n){return lo(n)&&!Ol(n).x_()&&n.Ia.size>0}function lo(n){return Fe(n).Ea.size===0}function _A(n){n.da=void 0}async function PM(n){n.Va.set("Online")}async function LM(n){n.Ia.forEach(((e,t)=>{My(n,e)}))}async function kM(n,e){_A(n),Py(n)?(n.Va.ha(e),Vy(n)):n.Va.set("Unknown")}async function UM(n,e,t){if(n.Va.set("Online"),e instanceof tA&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.da.removeTarget(d))})(n,e)}catch(a){Te(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await qh(n,a)}else if(e instanceof mh?n.da.Xe(e):e instanceof eA?n.da.st(e):n.da.tt(e),!t.isEqual(ze.min()))try{const a=await dA(n.localStore);t.compareTo(a)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(bn.EMPTY_BYTE_STRING,_.snapshotVersion)),yA(l,p);const E=new Za(_.target,p,g,_.sequenceNumber);My(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(a){Te(ro,"Failed to raise snapshot:",a),await qh(n,a)}}async function qh(n,e,t){if(!xl(e))throw e;n.Ea.add(1),await Ec(n),n.Va.set("Offline"),t||(t=()=>dA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(ro,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rd(n)}))}function vA(n,e){return e().catch((t=>qh(n,t,e)))}async function Cd(n){const e=Fe(n),t=fs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_y;for(;jM(e);)try{const o=await vM(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,zM(e,o)}catch(o){await qh(e,o)}EA(e)&&TA(e)}function jM(n){return lo(n)&&n.Ta.length<10}function zM(n,e){n.Ta.push(e);const t=fs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function EA(n){return lo(n)&&!fs(n).x_()&&n.Ta.length>0}function TA(n){fs(n).start()}async function BM(n){fs(n).ra()}async function FM(n){const e=fs(n);for(const t of n.Ta)e.ea(t.mutations)}async function HM(n,e,t){const a=n.Ta.shift(),o=Ay.from(a,e,t);await vA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Cd(n)}async function qM(n,e){e&&fs(n).Y_&&await(async function(a,o){if((function(c){return wO(c)&&c!==oe.ABORTED})(o.code)){const l=a.Ta.shift();fs(a).B_(),await vA(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Cd(a)}})(n,e),EA(n)&&TA(n)}async function yS(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),Te(ro,"RemoteStore received new credentials");const a=lo(t);t.Ea.add(3),await Ec(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rd(t)}async function GM(n,e){const t=Fe(n);e?(t.Ea.delete(2),await Rd(t)):e||(t.Ea.add(2),await Ec(t),t.Va.set("Unknown"))}function Ol(n){return n.ma||(n.ma=(function(t,a,o){const l=Fe(t);return l.sa(),new IM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:PM.bind(null,n),Yo:LM.bind(null,n),t_:kM.bind(null,n),J_:UM.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Py(n)?Vy(n):n.Va.set("Unknown")):(await n.ma.stop(),_A(n))}))),n.ma}function fs(n){return n.fa||(n.fa=(function(t,a,o){const l=Fe(t);return l.sa(),new DM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BM.bind(null,n),t_:qM.bind(null,n),ta:FM.bind(null,n),na:HM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Cd(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(ro,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const c=Date.now()+a,d=new Ly(e,t,c,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(n,e){if(ia("AsyncQueue",`${e}: ${n}`),xl(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||De.comparator(t.key,a.key):(t,a)=>De.comparator(t.key,a.key),this.keyedMap=ku(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new ul;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ga=new Ft(De.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class El{constructor(e,t,a,o,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new El(e,t,ul.emptySet(t),c,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class KM{constructor(){this.queries=vS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Fe(t),l=o.queries;o.queries=vS(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(a)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function vS(){return new oo((n=>Bw(n)),Ed)}async function Uy(n,e){const t=Fe(n);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(a=2):(l=new $M,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=ky(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&zy(t)}async function jy(n,e){const t=Fe(n),a=e.query;let o=3;const l=t.queries.get(a);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function YM(n,e){const t=Fe(n);let a=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(o)&&(a=!0);c.wa=o}}a&&zy(t)}function QM(n,e,t){const a=Fe(n),o=a.queries.get(e);if(o)for(const l of o.ba)l.onError(t);a.queries.delete(e)}function zy(n){n.Ca.forEach((e=>{e.next()}))}var Fg,ES;(ES=Fg||(Fg={})).Ma="default",ES.Cache="cache";class By{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new El(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.key=e}}class bA{constructor(e){this.key=e}}class XM{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=Fw(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new _S,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const b=o.get(_),C=Td(this.query,E)?E:null,L=!!b&&this.mutatedKeys.has(b.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let k=!1;b&&C?b.data.isEqual(C.data)?L!==z&&(a.track({type:3,doc:C}),k=!0):this.su(b,C)||(a.track({type:2,doc:C}),k=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(d=!0)):!b&&C?(a.track({type:0,doc:C}),k=!0):b&&!C&&(a.track({type:1,doc:b}),k=!0,(p||g)&&(d=!0)),k&&(C?(c=c.add(C),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),a.track({type:1,doc:_})}return{tu:c,iu:a,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(C,L){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:k})}};return z(C)-z(L)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(a),o=o??!1;const d=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new El(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _S,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new bA(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new SA(a))})),t}cu(e){this.Za=e.ks,this.Ya=it();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fy="SyncEngine";class WM{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class JM{constructor(e){this.key=e,this.hu=!1}}class ZM{constructor(e,t,a,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((d=>Bw(d)),Ed),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ft(De.comparator),this.Au=new Map,this.Vu=new Iy,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eV(n,e,t=!0){const a=DA(n);let o;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await wA(a,e,t,!0),o}async function tV(n,e){const t=DA(n);await wA(t,e,!0,!1)}async function wA(n,e,t,a){const o=await EM(n.localStore,Ti(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await nV(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&gA(n.remoteStore,o),d}async function nV(n,e,t,a,o){n.pu=(E,b,C)=>(async function(z,k,$,H){let K=k.view.ru($);K.Ss&&(K=await hS(z.localStore,k.query,!1).then((({documents:S})=>k.view.ru(S,K))));const ee=H&&H.targetChanges.get(k.targetId),te=H&&H.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(K,z.isPrimaryClient,ee,te);return SS(z,k.targetId,G.au),G.snapshot})(n,E,b,C);const l=await hS(n.localStore,e,!0),c=new XM(e,l.ks),d=c.ru(l.documents),p=vc.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);SS(n,t,g.au);const _=new WM(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function rV(n,e,t){const a=Fe(n),o=a.Tu.get(e),l=a.Iu.get(o.targetId);if(l.length>1)return a.Iu.set(o.targetId,l.filter((c=>!Ed(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await zg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Oy(a.remoteStore,o.targetId),Hg(a,o.targetId)})).catch(Nl)):(Hg(a,o.targetId),await zg(a.localStore,o.targetId,!0))}async function iV(n,e){const t=Fe(n),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Oy(t.remoteStore,a.targetId))}async function aV(n,e,t){const a=hV(n);try{const o=await(function(c,d){const p=Fe(c),g=Mt.now(),_=d.reduce(((C,L)=>C.add(L.key)),it());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=aa(),z=it();return p.xs.getEntries(C,_).next((k=>{L=k,L.forEach((($,H)=>{H.isValidDocument()||(z=z.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,L))).next((k=>{E=k;const $=[];for(const H of d){const K=vO(H,E.get(H.key).overlayedDocument);K!=null&&$.push(new ps(H.key,K,Mw(K.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,$,d)})).next((k=>{b=k;const $=k.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(C,k.batchId,$)}))})).then((()=>({batchId:b.batchId,changes:qw(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new Ft(rt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(a,o.batchId,t),await Tc(a,o.changes),await Cd(a.remoteStore)}catch(o){const l=ky(o,"Failed to persist write");t.reject(l)}}async function AA(n,e){const t=Fe(n);try{const a=await yM(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ht(c.hu,14607):o.removedDocuments.size>0&&(ht(c.hu,42227),c.hu=!1))})),await Tc(t,a,e)}catch(a){await Nl(a)}}function TS(n,e,t){const a=Fe(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Fe(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,E)=>{for(const b of E.ba)b.va(d)&&(g=!0)})),g&&zy(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function sV(n,e,t){const a=Fe(n);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),l=o&&o.key;if(l){let c=new Ft(De.comparator);c=c.insert(l,xn.newNoDocument(l,ze.min()));const d=it().add(l),p=new wd(ze.min(),new Map,new Ft(rt),c,d);await AA(a,p),a.Ru=a.Ru.remove(l),a.Au.delete(e),Hy(a)}else await zg(a.localStore,e,!1).then((()=>Hg(a,e,t))).catch(Nl)}async function oV(n,e){const t=Fe(n),a=e.batch.batchId;try{const o=await gM(t.localStore,e);CA(t,a,null),RA(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Tc(t,o)}catch(o){await Nl(o)}}async function lV(n,e,t){const a=Fe(n);try{const o=await(function(c,d){const p=Fe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(ht(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);CA(a,e,t),RA(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Tc(a,o)}catch(o){await Nl(o)}}function RA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function CA(n,e,t){const a=Fe(n);let o=a.du[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Hg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Iu.get(e))n.Tu.delete(a),t&&n.Pu.yu(a,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((a=>{n.Vu.containsKey(a)||IA(n,a)}))}function IA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Oy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Hy(n))}function SS(n,e,t){for(const a of t)a instanceof SA?(n.Vu.addReference(a.key,e),uV(n,a)):a instanceof bA?(Te(Fy,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,e),n.Vu.containsKey(a.key)||IA(n,a.key)):Le(19791,{wu:a})}function uV(n,e){const t=e.key,a=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(a)||(Te(Fy,"New document in limbo: "+t),n.Eu.add(a),Hy(n))}function Hy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new De(Dt.fromString(e)),a=n.fu.next();n.Au.set(a,new JM(t)),n.Ru=n.Ru.insert(t,a),gA(n.remoteStore,new Za(Ti(vd(t.path)),a,"TargetPurposeLimboResolution",gd.ce))}}async function Tc(n,e,t){const a=Fe(n),o=[],l=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,p)=>{c.push(a.pu(p,e,t).then((g=>{var _;if((g||t)&&a.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Ny.Es(p.targetId,g);l.push(E)}})))})),await Promise.all(c),a.Pu.J_(o),await(async function(p,g){const _=Fe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ue.forEach(g,(b=>ue.forEach(b.Ts,(C=>_.persistence.referenceDelegate.addReference(E,b.targetId,C))).next((()=>ue.forEach(b.Is,(C=>_.persistence.referenceDelegate.removeReference(E,b.targetId,C)))))))))}catch(E){if(!xl(E))throw E;Te(xy,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const C=_.vs.get(b),L=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(L);_.vs=_.vs.insert(b,z)}}})(a.localStore,l))}async function cV(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){Te(Fy,"User change. New user:",e.toKey());const a=await hA(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ve(oe.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tc(t,a.Ns)}}function fV(n,e){const t=Fe(n),a=t.Au.get(e);if(a&&a.hu)return it().add(a.key);{let o=it();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function DA(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.Pu.J_=YM.bind(null,e.eventManager),e.Pu.yu=QM.bind(null,e.eventManager),e}function hV(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lV.bind(null,e),e}class Gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return pM(this.persistence,new hM,e.initialUser,this.serializer)}Cu(e){return new fA(Dy.Vi,this.serializer)}Du(e){return new SM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gh.provider={build:()=>new Gh};class dV extends Gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof Hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WO(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new fA((a=>Hh.Vi(a,t)),this.serializer)}}class qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>TS(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,this.syncEngine),await GM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KM})()}createDatastore(e){const t=Ad(e.databaseInfo.databaseId),a=CM(e.databaseInfo);return OM(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,o,l,c,d){return new VM(a,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>TS(this.syncEngine,t,0)),(function(){return pS.v()?new pS:new bM})())}createSyncEngine(e,t){return(function(o,l,c,d,p,g,_){const E=new ZM(o,l,c,d,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Fe(o);Te(ro,"RemoteStore shutting down."),l.Ea.add(5),await Ec(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}qg.provider={build:()=>new qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class mV{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=o,this.user=Nn.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{Te(hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Te(hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=ky(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function ug(n,e){n.asyncQueue.verifyOperationInProgress(),Te(hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener((async o=>{a.isEqual(o)||(await hA(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await pV(n);Te(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((a=>yS(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,o)=>yS(e.remoteStore,o))),n._onlineComponents=e}async function pV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(hs,"Using user provided OfflineComponentProvider");try{await ug(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await ug(n,new Gh)}}else Te(hs,"Using default OfflineComponentProvider"),await ug(n,new dV(void 0));return n._offlineComponents}async function NA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(hs,"Using user provided OnlineComponentProvider"),await bS(n,n._uninitializedComponentsProvider._online)):(Te(hs,"Using default OnlineComponentProvider"),await bS(n,new qg))),n._onlineComponents}function gV(n){return NA(n).then((e=>e.syncEngine))}async function $h(n){const e=await NA(n),t=e.eventManager;return t.onListen=eV.bind(null,e.syncEngine),t.onUnlisten=rV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iV.bind(null,e.syncEngine),t}function yV(n,e,t,a){const o=new qy(a),l=new By(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>Uy(await $h(n),l))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>jy(await $h(n),l)))}}function _V(n,e,t={}){const a=new ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new qy({next:b=>{_.Nu(),c.enqueueAndForget((()=>jy(l,E)));const C=b.docs.has(d);!C&&b.fromCache?g.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&p&&p.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new By(vd(d.path),_,{includeMetadataChanges:!0,Ka:!0});return Uy(l,E)})(await $h(n),n.asyncQueue,e,t,a))),a.promise}function vV(n,e,t={}){const a=new ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new qy({next:b=>{_.Nu(),c.enqueueAndForget((()=>jy(l,E))),b.fromCache&&p.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new By(d,_,{includeMetadataChanges:!0,Ka:!0});return Uy(l,E)})(await $h(n),n.asyncQueue,e,t,a))),a.promise}function EV(n,e){const t=new ta;return n.asyncQueue.enqueueAndForget((async()=>aV(await gV(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="ComponentProvider",wS=new Map;function SV(n,e,t,a,o){return new Fx(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,xA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",AS=!0;class RS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=AS}else this.host=e.host,this.ssl=e.ssl??AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QO)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Tx;switch(a.type){case"firstParty":return new Ax(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=wS.get(t);a&&(Te(TV,"Removing Datastore"),wS.delete(t),a.terminate())})(this),Promise.resolve()}}function bV(n,e,t,a={}){var g;n=_r(n,Id);const o=Cl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(sw(`https://${d}`),ow("Firestore",!0)),l.host!==OA&&l.host!==d&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:a};if(!eo(p,c)&&(n._setSettings(p),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=Nn.MOCK_USER;else{_=K2(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Nn(b)}n._authCredentials=new Sx(new Tw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Gt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(gc(t,Gt._jsonSchema))return new Gt(e,a||null,new De(Dt.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:sn("string",Gt._jsonSchemaVersion),referencePath:sn("string")};class as extends uo{constructor(e,t,a){super(e,t,vd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new De(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function Gy(n,e,...t){if(n=cn(n),Sw("collection","path",e),n instanceof Id){const a=Dt.fromString(e,...t);return j0(a),new as(n,null,a)}{if(!(n instanceof Gt||n instanceof as))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Dt.fromString(e,...t));return j0(a),new as(n.firestore,null,a)}}function kr(n,e,...t){if(n=cn(n),arguments.length===1&&(e=yy.newId()),Sw("doc","path",e),n instanceof Id){const a=Dt.fromString(e,...t);return U0(a),new Gt(n,null,new De(a))}{if(!(n instanceof Gt||n instanceof as))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Dt.fromString(e,...t));return U0(a),new Gt(n.firestore,n instanceof as?n.converter:null,new De(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="AsyncQueue";class IS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mA(this,"async_queue_retry"),this._c=()=>{const a=lg();a&&Te(CS,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;Te(CS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",DS(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ly.createAndSchedule(this,e,t,a,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Le(47125,{Pc:DS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ds extends Id{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new IS,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IS(e),this._firestoreClient=void 0,await e}}}function wV(n,e){const t=typeof n=="object"?n:fw(),a=typeof n=="string"?n:Lh,o=py(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=G2("firestore");l&&bV(o,...l)}return o}function Sc(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AV(n),n._firestoreClient}function AV(n){var a,o,l,c;const e=n._freezeSettings(),t=SV(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,(o=n._app)==null?void 0:o.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new mV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pr(bn.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pr(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gc(e,Pr._jsonSchema))return Pr.fromBase64String(e.bytes)}}Pr._jsonSchemaVersion="firestore/bytes/1.0",Pr._jsonSchema={type:sn("string",Pr._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(gc(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:sn("string",bi._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gc(e,Wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Wr(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wr._jsonSchemaVersion="firestore/vectorValue/1.0",Wr._jsonSchema={type:sn("string",Wr._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=/^__.*__$/;class CV{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class MA{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:n})}}class Ky{constructor(e,t,a,o,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ky({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const t=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var o;const t=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(VA(this.dataSource)&&RV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class IV{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Ad(e)}createContext(e,t,a,o=!1){return new Ky({dataSource:e,methodName:t,targetDoc:a,path:Sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(n){const e=n._freezeSettings(),t=Ad(n._databaseId);return new IV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PA(n,e,t,a,o,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,o);Yy("Data must be an object, but it was:",c,a);const d=UA(a,c);let p,g;if(l.merge)p=new gr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const b=Tl(e,E,t);if(!c.contains(b))throw new ve(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);BA(_,b)||_.push(b)}p=new gr(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new CV(new Xn(d),p,g)}class xd extends $y{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function LA(n,e,t,a){const o=n.createContext(1,e,t);Yy("Data must be an object, but it was:",o,a);const l=[],c=Xn.empty();ms(a,((p,g)=>{const _=zA(e,p,t);g=cn(g);const E=o.childContextForFieldPath(_);if(g instanceof xd)l.push(_);else{const b=bc(g,E);b!=null&&(l.push(_),c.set(_,b))}}));const d=new gr(l);return new MA(c,d,o.fieldTransforms)}function kA(n,e,t,a,o,l){const c=n.createContext(1,e,t),d=[Tl(e,a,t)],p=[o];if(l.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Tl(e,l[b])),p.push(l[b+1]);const g=[],_=Xn.empty();for(let b=d.length-1;b>=0;--b)if(!BA(g,d[b])){const C=d[b];let L=p[b];L=cn(L);const z=c.childContextForFieldPath(C);if(L instanceof xd)g.push(C);else{const k=bc(L,z);k!=null&&(g.push(C),_.set(C,k))}}const E=new gr(g);return new MA(_,E,c.fieldTransforms)}function DV(n,e,t,a=!1){return bc(t,n.createContext(a?4:3,e))}function bc(n,e){if(jA(n=cn(n)))return Yy("Unsupported field value:",e,n),UA(n,e);if(n instanceof $y)return(function(a,o){if(!VA(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const l=[];let c=0;for(const d of a){let p=bc(d,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Mt.fromDate(a);return{timestampValue:Fh(o.serializer,l)}}if(a instanceof Mt){const l=new Mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fh(o.serializer,l)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pr)return{bytesValue:nA(o.serializer,a._byteString)};if(a instanceof Gt){const l=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cy(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Wr)return(function(c,d){const p=c instanceof Wr?c.toArray():c;return{mapValue:{fields:{[xw]:{stringValue:Ow},[kh]:{arrayValue:{values:p.map((_=>{if(typeof _!="number")throw d.createError("VectorValues must only contain numeric values.");return by(d.serializer,_)}))}}}}}})(a,o);if(uA(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${pd(a)}`)})(n,e)}function UA(n,e){const t={};return Aw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(n,((a,o)=>{const l=bc(o,e.childContextForField(a));l!=null&&(t[a]=l)})),{mapValue:{fields:t}}}function jA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof bi||n instanceof Pr||n instanceof Gt||n instanceof $y||n instanceof Wr||uA(n))}function Yy(n,e,t){if(!jA(t)||!bw(t)){const a=pd(t);throw a==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+a)}}function Tl(n,e,t){if((e=cn(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return zA(n,e);throw Kh("Field path arguments must be of type string or ",n,!1,void 0,t)}const NV=new RegExp("[~\\*/\\[\\]]");function zA(n,e,t){if(e.search(NV)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dd(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kh(n,e,t,a,o){const l=a&&!a.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new ve(oe.INVALID_ARGUMENT,d+n+p)}function BA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return ms(e,((o,l)=>{a[o]=this.convertValue(l,t)})),a}convertVectorValue(e){var a,o,l;const t=(l=(o=(a=e.fields)==null?void 0:a[kh].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>Wt(c.doubleValue)));return new Wr(t)}convertGeoPoint(e){return new bi(Wt(e.latitude),Wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=_d(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const t=ls(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Dt.fromString(e);ht(lA(a),9688,{name:e});const o=new tc(a.get(1),a.get(3)),l=new De(a.popFirst(5));return o.isEqual(t)||ia(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends xV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}const NS="@firebase/firestore",xS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){return(function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Tl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OV extends FA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class MV extends Xy{}function Wy(n,e,...t){let a=[];e instanceof Xy&&a.push(e),a=a.concat(t),(function(l){const c=l.filter((p=>p instanceof Jy)).length,d=l.filter((p=>p instanceof Od)).length;if(c>1||c>0&&d>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)n=o._apply(n);return n}class Od extends MV{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Od(e,t,a)}_apply(e){const t=this._parse(e);return qA(e._query,t),new uo(e.firestore,e.converter,Vg(e._query,t))}_parse(e){const t=Nd(e.firestore);return(function(l,c,d,p,g,_,E){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){VS(E,_);const L=[];for(const z of E)L.push(MS(p,l,z));b={arrayValue:{values:L}}}else b=MS(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||VS(E,_),b=DV(d,c,E,_==="in"||_==="not-in");return an.create(g,_,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function VV(n,e,t){const a=e,o=Tl("where",n);return Od._create(o,a,t)}class Jy extends Xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jy(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:Zr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)qA(c,p),c=Vg(c,p)})(e._query,t),new uo(e.firestore,e.converter,Vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MS(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Dt.fromString(t));if(!De.isDocumentKey(a))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return K0(n,new De(a))}if(t instanceof Gt)return K0(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pd(t)}.`)}function VS(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qA(n,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function GA(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends FA{constructor(e,t,a,o,l,c){super(e,t,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Tl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:sn("string",Xs._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class ph extends Xs{data(e={}){return super.data(e)}}class Ws{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ju(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new ph(this._firestore,this._userDataWriter,a.key,a,new ju(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new ph(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ju(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new ph(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ju(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:PV(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:sn("string",Ws._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nd(e)}set(e,t,a){this._verifyNotCommitted();const o=cg(e,this._firestore),l=GA(o.converter,t,a),c=PA(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,a);return this._mutations.push(c.toMutation(o._key,vr.none())),this}update(e,t,a,...o){this._verifyNotCommitted();const l=cg(e,this._firestore);let c;return c=typeof(t=cn(t))=="string"||t instanceof Dd?kA(this._dataReader,"WriteBatch.update",l._key,t,a,o):LA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=cg(e,this._firestore);return this._mutations=this._mutations.concat(new wy(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cg(n,e){if((n=cn(n)).firestore!==e)throw new ve(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){n=_r(n,Gt);const e=_r(n.firestore,ds),t=Sc(e);return _V(t,n._key).then((a=>$A(e,n,a)))}function Zy(n){n=_r(n,uo);const e=_r(n.firestore,ds),t=Sc(e),a=new Qy(e);return HA(n._query),vV(t,n._query).then((o=>new Ws(e,a,n,o)))}function kV(n,e,t){n=_r(n,Gt);const a=_r(n.firestore,ds),o=GA(n.converter,e,t),l=Nd(a);return e_(a,[PA(l,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,vr.none())])}function Md(n,e,t,...a){n=_r(n,Gt);const o=_r(n.firestore,ds),l=Nd(o);let c;return c=typeof(e=cn(e))=="string"||e instanceof Dd?kA(l,"updateDoc",n._key,e,t,a):LA(l,"updateDoc",n._key,e),e_(o,[c.toMutation(n._key,vr.exists(!0))])}function UV(n,...e){var g,_,E;n=cn(n);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||OS(e[a])||(t=e[a++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(OS(e[a])){const b=e[a];e[a]=(g=b.next)==null?void 0:g.bind(b),e[a+1]=(_=b.error)==null?void 0:_.bind(b),e[a+2]=(E=b.complete)==null?void 0:E.bind(b)}let l,c,d;if(n instanceof Gt)c=_r(n.firestore,ds),d=vd(n._key.path),l={next:b=>{e[a]&&e[a]($A(c,n,b))},error:e[a+1],complete:e[a+2]};else{const b=_r(n,uo);c=_r(b.firestore,ds),d=b._query;const C=new Qy(c);l={next:L=>{e[a]&&e[a](new Ws(c,C,b,L))},error:e[a+1],complete:e[a+2]},HA(n._query)}const p=Sc(c);return yV(p,d,o,l)}function e_(n,e){const t=Sc(n);return EV(t,e)}function $A(n,e,t){const a=t.docs.get(e._key),o=new Qy(n);return new Xs(n,o,e._key,a,new ju(t.hasPendingWrites,t.fromCache),e.converter)}function KA(n){return n=_r(n,ds),Sc(n),new LV(n,(e=>e_(n,e)))}(function(e,t=!0){Ex(Il),ml(new to("firestore",((a,{instanceIdentifier:o,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new ds(new bx(a.getProvider("auth-internal")),new Rx(c,a.getProvider("app-check-internal")),Hx(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),rs(NS,xS,e),rs(NS,xS,"esm2020")})();var jV="firebase",zV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(jV,zV,"app");function YA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BV=YA,QA=new mc("auth","Firebase",YA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new dy("@firebase/auth");function FV(n,...e){Yh.logLevel<=nt.WARN&&Yh.warn(`Auth (${Il}): ${n}`,...e)}function gh(n,...e){Yh.logLevel<=nt.ERROR&&Yh.error(`Auth (${Il}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,...e){throw n_(n,...e)}function Jr(n,...e){return n_(n,...e)}function t_(n,e,t){const a={...BV(),[e]:t};return new mc("auth","Firebase",a).create(e,{appName:n.name})}function Js(n){return t_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HV(n,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ci(n,"argument-error"),t_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n_(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return QA.create(n,...e)}function ke(n,e,...t){if(!n)throw n_(e,...t)}function Zi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gh(e),new Error(e)}function sa(n,e){n||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function qV(){return PS()==="http:"||PS()==="https:"}function PS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qV()||Z2()||"connection"in navigator)?navigator.onLine:!0}function $V(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,sa(t>e,"Short delay should be less than long delay!"),this.isMobile=X2()||eN()}get(){return GV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,e){sa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QV=new Ac(3e4,6e4);function i_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ml(n,e,t,a,o={}){return WA(n,o,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=pc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return J2()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(g.credentials="include"),XA.fetch()(await JA(n,n.config.apiHost,t,d),g)})}async function WA(n,e,t){n._canInitEmulator=!1;const a={...KV,...e};try{const o=new WV(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw rh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw rh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw rh(n,"user-disabled",c);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw t_(n,_,g);Ci(n,_)}}catch(o){if(o instanceof ca)throw o;Ci(n,"network-request-failed",{message:String(o)})}}async function XV(n,e,t,a,o={}){const l=await Ml(n,e,t,a,o);return"mfaPendingCredential"in l&&Ci(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function JA(n,e,t,a){const o=`${e}${t}?${a}`,l=n,c=l.config.emulator?r_(n.config,o):`${n.config.apiScheme}://${o}`;return YV.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class WV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Jr(this.auth,"network-request-failed")),QV.get())})}}function rh(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Jr(n,e,a);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(n,e){return Ml(n,"POST","/v1/accounts:delete",e)}async function Qh(n,e){return Ml(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZV(n,e=!1){const t=cn(n),a=await t.getIdToken(e),o=a_(a);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:Ku(fg(o.auth_time)),issuedAtTime:Ku(fg(o.iat)),expirationTime:Ku(fg(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function fg(n){return Number(n)*1e3}function a_(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nw(t);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function LS(n){const e=a_(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof ca&&eP(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function eP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(n){var E;const e=n.auth,t=await n.getIdToken(),a=await ac(n,Qh(e,{idToken:t}));ke(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const l=(E=o.providerUserInfo)!=null&&E.length?ZA(o.providerUserInfo):[],c=rP(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $g(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function nP(n){const e=cn(n);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rP(n,e){return[...n.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function ZA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e){const t=await WA(n,{},async()=>{const a=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await JA(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(p.credentials="include"),XA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aP(n,e){return Ml(n,"POST","/v2/accounts:revokeToken",i_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=LS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await iP(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,c=new cl;return a&&(ke(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(ke(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xr{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new tP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $g(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ac(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZV(this,e)}reload(){return nP(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await ac(this,JV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:C,providerData:L,stsTokenManager:z}=t;ke(E&&z,e,"internal-error");const k=cl.fromJSON(this.name,z);ke(typeof E=="string",e,"internal-error"),$a(a,e.name),$a(o,e.name),ke(typeof b=="boolean",e,"internal-error"),ke(typeof C=="boolean",e,"internal-error"),$a(l,e.name),$a(c,e.name),$a(d,e.name),$a(p,e.name),$a(g,e.name),$a(_,e.name);const $=new Xr({uid:E,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:C,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&($.providerData=L.map(H=>({...H}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,t,a=!1){const o=new cl;o.updateFromServerResponse(t);const l=new Xr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Xh(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ZA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new cl;d.updateFromIdToken(a);const p=new Xr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new $g(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function ea(n){sa(n instanceof Function,"Expected a class definition");let e=kS.get(n);return e?(sa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}eR.type="NONE";const US=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n,e,t){return`firebase:${n}:${e}:${t}`}class fl{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,l),this.fullPersistenceKey=yh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qh(this.auth,{idToken:e}).catch(()=>{});return t?Xr._fromGetAccountInfoResponse(this.auth,t,e):null}return Xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new fl(ea(US),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ea(US);const c=yh(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const b=await Qh(e,{idToken:_}).catch(()=>{});if(!b)break;E=await Xr._fromGetAccountInfoResponse(e,b,_)}else E=Xr._fromJSON(e,_);g!==l&&(d=E),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new fl(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new fl(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(oR(e))return"Webos";if(nR(e))return"Safari";if((e.includes("chrome/")||rR(e))&&!e.includes("edge/"))return"Chrome";if(aR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function tR(n=On()){return/firefox\//i.test(n)}function nR(n=On()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rR(n=On()){return/crios\//i.test(n)}function iR(n=On()){return/iemobile/i.test(n)}function aR(n=On()){return/android/i.test(n)}function sR(n=On()){return/blackberry/i.test(n)}function oR(n=On()){return/webos/i.test(n)}function s_(n=On()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sP(n=On()){var e;return s_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function oP(){return tN()&&document.documentMode===10}function lR(n=On()){return s_(n)||aR(n)||oR(n)||sR(n)||/windows phone/i.test(n)||iR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n,e=[]){let t;switch(n){case"Browser":t=jS(On());break;case"Worker":t=`${jS(On())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(n,e={}){return Ml(n,"GET","/v2/passwordPolicy",i_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=6;class fP{constructor(e){var a;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??cP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zS(this),this.idTokenSubscription=new zS(this),this.beforeStateQueue=new lP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ea(t)),this._initializationPromise=this.queue(async()=>{var a,o,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qh(this,{idToken:e}),a=await Xr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Yr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$V()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Js(this));const t=e?cn(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uP(this),t=new fP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await aP(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ea(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&FV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vd(n){return cn(n)}class zS{constructor(e){this.auth=e,this.observer=null,this.addObserver=uN(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dP(n){o_=n}function mP(n){return o_.loadJS(n)}function pP(){return o_.gapiScript}function gP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e){const t=py(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(eo(l,e??{}))return o;Ci(o,"already-initialized")}return t.initialize({options:e})}function _P(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(ea);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function vP(n,e,t){const a=Vd(n);ke(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=cR(e),{host:c,port:d}=EP(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ke(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ke(eo(g,a.config.emulator)&&eo(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Cl(c)?(sw(`${l}//${c}${p}`),ow("Auth",!0)):TP()}function cR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EP(n){const e=cR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:BS(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:BS(c)}}}function BS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,t){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return XV(n,"POST","/v1/accounts:signInWithIdp",i_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="http://localhost";class io extends fR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...l}=t;if(!a||!o)return null;const c=new io(a,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return hl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,hl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hl(e,t)}buildRequest(){const e={requestUri:SP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends l_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Rc{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Ji.credential(t,a)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Rc{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Rc{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Wa.credential(t,a)}catch{return null}}}Wa.TWITTER_SIGN_IN_METHOD="twitter.com";Wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Xr._fromIdTokenResponse(e,a,o),c=FS(a);return new Sl({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=FS(a);return new Sl({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function FS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends ca{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Wh(e,t,a,o)}}function hR(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(n,l,e,a):l})}async function bP(n,e,t=!1){const a=await ac(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sl._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e,t=!1){const{auth:a}=n;if(Yr(a.app))return Promise.reject(Js(a));const o="reauthenticate";try{const l=await ac(n,hR(a,o,e,n),t);ke(l.idToken,a,"internal-error");const c=a_(l.idToken);ke(c,a,"internal-error");const{sub:d}=c;return ke(n.uid===d,a,"user-mismatch"),Sl._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ci(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,e,t=!1){if(Yr(n.app))return Promise.reject(Js(n));const a="signIn",o=await hR(n,a,e),l=await Sl._fromIdTokenResponse(n,a,o);return t||await n._updateCurrentUser(l.user),l}function RP(n,e,t,a){return cn(n).onIdTokenChanged(e,t,a)}function CP(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function IP(n,e,t,a){return cn(n).onAuthStateChanged(e,t,a)}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=1e3,NP=10;class mR extends dR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);oP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NP):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},DP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mR.type="LOCAL";const xP=mR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR extends dR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pR.type="SESSION";const gR=pR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Pd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await OP(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=u_("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function VP(n){wi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function PP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function kP(){return yR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebaseLocalStorageDb",UP=1,Zh="firebaseLocalStorage",vR="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ld(n,e){return n.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function jP(){const n=indexedDB.deleteDatabase(_R);return new Cc(n).toPromise()}function Kg(){const n=indexedDB.open(_R,UP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Zh,{keyPath:vR})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Zh)?e(a):(a.close(),await jP(),e(await Kg()))})})}async function HS(n,e,t){const a=Ld(n,!0).put({[vR]:e,value:t});return new Cc(a).toPromise()}async function zP(n,e){const t=Ld(n,!1).get(e),a=await new Cc(t).toPromise();return a===void 0?null:a.value}function qS(n,e){const t=Ld(n,!0).delete(e);return new Cc(t).toPromise()}const BP=800,FP=3;class ER{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>FP)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(kP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,a;if(this.activeServiceWorker=await PP(),!this.activeServiceWorker)return;this.sender=new MP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kg();return await HS(e,Jh,"1"),await qS(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>HS(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>zP(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ld(o,!1).getAll();return new Cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ER.type="LOCAL";const HP=ER;new Ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(n,e){return e?ea(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends fR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qP(n){return AP(n.auth,new c_(n),n.bypassAuthState)}function GP(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),wP(t,new c_(n),n.bypassAuthState)}async function $P(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),bP(t,new c_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qP;case"linkViaPopup":case"linkViaRedirect":return $P;case"reauthViaPopup":case"reauthViaRedirect":return GP;default:Ci(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Ac(2e3,1e4);async function YP(n,e,t){if(Yr(n.app))return Promise.reject(Jr(n,"operation-not-supported-in-this-environment"));const a=Vd(n);HV(n,e,l_);const o=TR(a,t);return new Qs(a,"signInViaPopup",e,o).executeNotNull()}class Qs extends SR{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=u_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if((a=(t=this.authWindow)==null?void 0:t.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KP.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="pendingRedirect",_h=new Map;class XP extends SR{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const a=await WP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WP(n,e){const t=e4(e),a=ZP(n);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function JP(n,e){_h.set(n._key(),e)}function ZP(n){return ea(n._redirectPersistence)}function e4(n){return yh(QP,n.config.apiKey,n.name)}async function t4(n,e,t=!1){if(Yr(n.app))return Promise.reject(Js(n));const a=Vd(n),o=TR(a,e),c=await new XP(a,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=600*1e3;class r4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!bR(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";t.onError(Jr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}saveEventToCache(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}}function GS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n,e={}){return Ml(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await a4(n);for(const t of e)try{if(u4(t))return}catch{}Ci(n,"unauthorized-domain")}function u4(n){const e=Gg(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!o4.test(t))return!1;if(s4.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Ac(3e4,6e4);function $S(){const n=wi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function f4(n){return new Promise((e,t)=>{var o,l,c;function a(){$S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$S(),t(Jr(n,"network-request-failed"))},timeout:c4.get()})}if((l=(o=wi().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=wi().gapi)!=null&&c.load)a();else{const d=gP("iframefcb");return wi()[d]=()=>{gapi.load?a():t(Jr(n,"network-request-failed"))},mP(`${pP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw vh=null,e})}let vh=null;function h4(n){return vh=vh||f4(n),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new Ac(5e3,15e3),m4="__/auth/iframe",p4="emulator/auth/iframe",g4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?r_(e,p4):`https://${n.config.authDomain}/${m4}`,a={apiKey:e.apiKey,appName:n.name,v:Il},o=y4.get(n.config.apiHost);o&&(a.eid=o);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${pc(a).slice(1)}`}async function v4(n){const e=await h4(n),t=wi().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:_4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g4,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const c=Jr(n,"network-request-failed"),d=wi().setTimeout(()=>{l(c)},d4.get());function p(){wi().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,S4=600,b4="_blank",w4="http://localhost";class KS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A4(n,e,t,a=T4,o=S4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...E4,width:a.toString(),height:o.toString(),top:l,left:c},g=On().toLowerCase();t&&(d=rR(g)?b4:t),tR(g)&&(e=e||w4,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[C,L])=>`${b}${C}=${L},`,"");if(sP(g)&&d!=="_self")return R4(e||"",d),new KS(null);const E=window.open(e||"",d,_);ke(E,n,"popup-blocked");try{E.focus()}catch{}return new KS(E)}function R4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="__/auth/handler",I4="emulator/auth/handler",D4=encodeURIComponent("fac");async function YS(n,e,t,a,o,l){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Il,eventId:o};if(e instanceof l_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",lN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Rc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${D4}=${encodeURIComponent(p)}`:"";return`${N4(n)}?${pc(d).slice(1)}${g}`}function N4({config:n}){return n.emulator?r_(n,I4):`https://${n.authDomain}/${C4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="webStorageSupport";class x4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gR,this._completeRedirectFn=t4,this._overrideRedirectResult=JP}async _openPopup(e,t,a,o){var c;sa((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await YS(e,t,a,Gg(),o);return A4(e,l,u_())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await YS(e,t,a,Gg(),o);return VP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(sa(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await v4(e),a=new r4(e);return t.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hg,{type:hg},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[hg];l!==void 0&&t(!!l),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lR()||nR()||s_()}}const O4=x4;var QS="@firebase/auth",XS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P4(n){ml(new to("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uR(n)},g=new hP(a,o,l,p);return _P(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),ml(new to("auth-internal",e=>{const t=Vd(e.getProvider("auth").getImmediate());return(a=>new M4(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(QS,XS,V4(n)),rs(QS,XS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=300,k4=aw("authIdTokenMaxAge")||L4;let WS=null;const U4=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>k4)return;const o=t==null?void 0:t.token;WS!==o&&(WS=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j4(n=fw()){const e=py(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yP(n,{popupRedirectResolver:O4,persistence:[HP,xP,gR]}),a=aw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=U4(l.toString());CP(t,c,()=>c(t.currentUser)),RP(t,d=>c(d))}}const o=rw("auth");return o&&vP(t,`http://${o}`),t}function z4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}dP({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=o=>{const l=Jr("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",z4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P4("Browser");const B4={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function Jo(n){const e=B4[n];if(!e)throw new Error(`Missing environment variable: ${n}. Did you forget to create a .env.local?`);return e}const F4={apiKey:Jo("VITE_FIREBASE_API_KEY"),authDomain:Jo("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Jo("VITE_FIREBASE_PROJECT_ID"),storageBucket:Jo("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Jo("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Jo("VITE_FIREBASE_APP_ID")},wR=cw(F4),bl=j4(wR),H4=new Ji,wn=wV(wR),AR=B.createContext(void 0),q4=({children:n})=>{const[e,t]=B.useState(()=>{const c=localStorage.getItem("app-theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),a=B.useCallback(c=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("app-theme",c)},[]);B.useEffect(()=>{a(e)},[e,a]);const o=B.useCallback(c=>{t(c),a(c);const d=bl.currentUser;if(d){const p=kr(wn,"users",d.uid);Md(p,{preferredTheme:c}).catch(g=>console.error("Error updating preferred theme in Firebase:",g))}},[a]),l=B.useCallback(()=>{t(c=>c==="light"?"dark":"light")},[t]);return B.useEffect(()=>bl.onAuthStateChanged(async d=>{if(d){const p=kr(wn,"users",d.uid),g=await wc(p);if(g.exists()&&g.data().preferredTheme){const _=g.data().preferredTheme;t(_),a(_)}}}),[a]),x.jsx(AR.Provider,{value:{theme:e,toggleTheme:l,setTheme:o},children:n})},Ic=({container:n=!0})=>{const e=x.jsx("div",{className:"spinner"});return n?x.jsx("div",{className:"spinner-container",children:e}):e},wl=()=>x.jsx("div",{className:"loading-container",children:x.jsx(Ic,{container:!1})}),G4=()=>{const n=pt(a=>a.auth.firebaseUser),e=pt(a=>a.auth.userData);return pt(a=>a.auth.loading)?x.jsx(wl,{}):n?e?e.isApproved?x.jsx(es,{to:"/app/roster",replace:!0}):x.jsx(es,{to:"/guest",replace:!0}):x.jsx(wl,{}):x.jsx(es,{to:"/login",replace:!0})};function En(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $4=typeof Symbol=="function"&&Symbol.observable||"@@observable",JS=$4,dg=()=>Math.random().toString(36).substring(7).split("").join("."),K4={INIT:`@@redux/INIT${dg()}`,REPLACE:`@@redux/REPLACE${dg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dg()}`},ed=K4;function f_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function RR(n,e,t){if(typeof n!="function")throw new Error(En(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(En(1));return t(RR)(n,e)}let a=n,o=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((k,$)=>{c.set($,k)}))}function _(){if(p)throw new Error(En(3));return o}function E(k){if(typeof k!="function")throw new Error(En(4));if(p)throw new Error(En(5));let $=!0;g();const H=d++;return c.set(H,k),function(){if($){if(p)throw new Error(En(6));$=!1,g(),c.delete(H),l=null}}}function b(k){if(!f_(k))throw new Error(En(7));if(typeof k.type>"u")throw new Error(En(8));if(typeof k.type!="string")throw new Error(En(17));if(p)throw new Error(En(9));try{p=!0,o=a(o,k)}finally{p=!1}return(l=c).forEach(H=>{H()}),k}function C(k){if(typeof k!="function")throw new Error(En(10));a=k,b({type:ed.REPLACE})}function L(){const k=E;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(En(11));function H(){const ee=$;ee.next&&ee.next(_())}return H(),{unsubscribe:k(H)}},[JS](){return this}}}return b({type:ed.INIT}),{dispatch:b,subscribe:E,getState:_,replaceReducer:C,[JS]:L}}function Y4(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ed.INIT})>"u")throw new Error(En(12));if(typeof t(void 0,{type:ed.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function Q4(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const a=Object.keys(t);let o;try{Y4(t)}catch(l){o=l}return function(c={},d){if(o)throw o;let p=!1;const g={};for(let _=0;_<a.length;_++){const E=a[_],b=t[E],C=c[E],L=b(C,d);if(typeof L>"u")throw d&&d.type,new Error(En(14));g[E]=L,p=p||L!==C}return p=p||a.length!==Object.keys(c).length,p?g:c}}function td(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...a)=>e(t(...a)))}function X4(...n){return e=>(t,a)=>{const o=e(t,a);let l=()=>{throw new Error(En(15))};const c={getState:o.getState,dispatch:(p,...g)=>l(p,...g)},d=n.map(p=>p(c));return l=td(...d)(o.dispatch),{...o,dispatch:l}}}function W4(n){return f_(n)&&"type"in n&&typeof n.type=="string"}var CR=Symbol.for("immer-nothing"),ZS=Symbol.for("immer-draftable"),jn=Symbol.for("immer-state");function Qr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var yr=Object,Al=yr.getPrototypeOf,nd="constructor",kd="prototype",Yg="configurable",rd="enumerable",Eh="writable",sc="value",oa=n=>!!n&&!!n[jn];function ei(n){var e;return n?IR(n)||jd(n)||!!n[ZS]||!!((e=n[nd])!=null&&e[ZS])||zd(n)||Bd(n):!1}var J4=yr[kd][nd].toString(),eb=new WeakMap;function IR(n){if(!n||!h_(n))return!1;const e=Al(n);if(e===null||e===yr[kd])return!0;const t=yr.hasOwnProperty.call(e,nd)&&e[nd];if(t===Object)return!0;if(!il(t))return!1;let a=eb.get(t);return a===void 0&&(a=Function.toString.call(t),eb.set(t,a)),a===J4}function Ud(n,e,t=!0){Dc(n)===0?(t?Reflect.ownKeys(n):yr.keys(n)).forEach(o=>{e(o,n[o],n)}):n.forEach((a,o)=>e(o,a,n))}function Dc(n){const e=n[jn];return e?e.type_:jd(n)?1:zd(n)?2:Bd(n)?3:0}var tb=(n,e,t=Dc(n))=>t===2?n.has(e):yr[kd].hasOwnProperty.call(n,e),Qg=(n,e,t=Dc(n))=>t===2?n.get(e):n[e],id=(n,e,t,a=Dc(n))=>{a===2?n.set(e,t):a===3?n.add(t):n[e]=t};function Z4(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var jd=Array.isArray,zd=n=>n instanceof Map,Bd=n=>n instanceof Set,h_=n=>typeof n=="object",il=n=>typeof n=="function",mg=n=>typeof n=="boolean";function eL(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Wi=n=>n.copy_||n.base_,d_=n=>n.modified_?n.copy_:n.base_;function Xg(n,e){if(zd(n))return new Map(n);if(Bd(n))return new Set(n);if(jd(n))return Array[kd].slice.call(n);const t=IR(n);if(e===!0||e==="class_only"&&!t){const a=yr.getOwnPropertyDescriptors(n);delete a[jn];let o=Reflect.ownKeys(a);for(let l=0;l<o.length;l++){const c=o[l],d=a[c];d[Eh]===!1&&(d[Eh]=!0,d[Yg]=!0),(d.get||d.set)&&(a[c]={[Yg]:!0,[Eh]:!0,[rd]:d[rd],[sc]:n[c]})}return yr.create(Al(n),a)}else{const a=Al(n);if(a!==null&&t)return{...n};const o=yr.create(a);return yr.assign(o,n)}}function m_(n,e=!1){return Fd(n)||oa(n)||!ei(n)||(Dc(n)>1&&yr.defineProperties(n,{set:ih,add:ih,clear:ih,delete:ih}),yr.freeze(n),e&&Ud(n,(t,a)=>{m_(a,!0)},!1)),n}function tL(){Qr(2)}var ih={[sc]:tL};function Fd(n){return n===null||!h_(n)?!0:yr.isFrozen(n)}var ad="MapSet",Wg="Patches",nb="ArrayMethods",DR={};function ao(n){const e=DR[n];return e||Qr(0,n),e}var rb=n=>!!DR[n],oc,NR=()=>oc,nL=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rb(ad)?ao(ad):void 0,arrayMethodsPlugin_:rb(nb)?ao(nb):void 0});function ib(n,e){e&&(n.patchPlugin_=ao(Wg),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Jg(n){Zg(n),n.drafts_.forEach(rL),n.drafts_=null}function Zg(n){n===oc&&(oc=n.parent_)}var ab=n=>oc=nL(oc,n);function rL(n){const e=n[jn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sb(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[jn].modified_&&(Jg(e),Qr(4)),ei(n)&&(n=ob(e,n));const{patchPlugin_:o}=e;o&&o.generateReplacementPatches_(t[jn].base_,n,e)}else n=ob(e,t);return iL(e,n,!0),Jg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==CR?n:void 0}function ob(n,e){if(Fd(e))return e;const t=e[jn];if(!t)return sd(e,n.handledSet_,n);if(!Hd(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:a}=t;if(a)for(;a.length>0;)a.pop()(n);MR(t,n)}return t.copy_}function iL(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&m_(e,t)}function xR(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Hd=(n,e)=>n.scope_===e,aL=[];function OR(n,e,t,a){const o=Wi(n),l=n.type_;if(a!==void 0&&Qg(o,a,l)===e){id(o,a,t,l);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;Ud(o,(p,g)=>{if(oa(g)){const _=d.get(g)||[];_.push(p),d.set(g,_)}})}const c=n.draftLocations_.get(e)??aL;for(const d of c)id(o,d,t,l)}function sL(n,e,t){n.callbacks_.push(function(o){var d;const l=e;if(!l||!Hd(l,o))return;(d=o.mapSetPlugin_)==null||d.fixSetContents(l);const c=d_(l);OR(n,l.draft_??l,c,t),MR(l,o)})}function MR(n,e){var a;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((a=n.assigned_)==null?void 0:a.size)??0)>0)){const{patchPlugin_:o}=e;if(o){const l=o.getPath(n);l&&o.generatePatches_(n,l,e)}xR(n)}}function oL(n,e,t){const{scope_:a}=n;if(oa(t)){const o=t[jn];Hd(o,a)&&o.callbacks_.push(function(){Th(n);const c=d_(o);OR(n,t,c,e)})}else ei(t)&&n.callbacks_.push(function(){const l=Wi(n);n.type_===3?l.has(t)&&sd(t,a.handledSet_,a):Qg(l,e,n.type_)===t&&a.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&sd(Qg(n.copy_,e,n.type_),a.handledSet_,a)})}function sd(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||oa(n)||e.has(n)||!ei(n)||Fd(n)||(e.add(n),Ud(n,(a,o)=>{if(oa(o)){const l=o[jn];if(Hd(l,t)){const c=d_(l);id(n,a,c,n.type_),xR(l)}}else ei(o)&&sd(o,e,t)})),n}function lL(n,e){const t=jd(n),a={type_:t?1:0,scope_:e?e.scope_:NR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=a,l=od;t&&(o=[a],l=lc);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return a.draft_=d,a.revoke_=c,[d,a]}var od={get(n,e){if(e===jn)return n;let t=n.scope_.arrayMethodsPlugin_;const a=n.type_===1&&typeof e=="string";if(a&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const o=Wi(n);if(!tb(o,e,n.type_))return uL(n,o,e);const l=o[e];if(n.finalized_||!ei(l)||a&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&eL(e))return l;if(l===pg(n.base_,e)){Th(n);const c=n.type_===1?+e:e,d=ty(n.scope_,l,n,c);return n.copy_[c]=d}return l},has(n,e){return e in Wi(n)},ownKeys(n){return Reflect.ownKeys(Wi(n))},set(n,e,t){const a=VR(Wi(n),e);if(a!=null&&a.set)return a.set.call(n.draft_,t),!0;if(!n.modified_){const o=pg(Wi(n),e),l=o==null?void 0:o[jn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(Z4(t,o)&&(t!==void 0||tb(n.base_,e,n.type_)))return!0;Th(n),ey(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),oL(n,e,t)),!0},deleteProperty(n,e){return Th(n),pg(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),ey(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Wi(n),a=Reflect.getOwnPropertyDescriptor(t,e);return a&&{[Eh]:!0,[Yg]:n.type_!==1||e!=="length",[rd]:a[rd],[sc]:t[e]}},defineProperty(){Qr(11)},getPrototypeOf(n){return Al(n.base_)},setPrototypeOf(){Qr(12)}},lc={};for(let n in od){let e=od[n];lc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}lc.deleteProperty=function(n,e){return lc.set.call(this,n,e,void 0)};lc.set=function(n,e,t){return od.set.call(this,n[0],e,t,n[0])};function pg(n,e){const t=n[jn];return(t?Wi(t):n)[e]}function uL(n,e,t){var o;const a=VR(e,t);return a?sc in a?a[sc]:(o=a.get)==null?void 0:o.call(n.draft_):void 0}function VR(n,e){if(!(e in n))return;let t=Al(n);for(;t;){const a=Object.getOwnPropertyDescriptor(t,e);if(a)return a;t=Al(t)}}function ey(n){n.modified_||(n.modified_=!0,n.parent_&&ey(n.parent_))}function Th(n){n.copy_||(n.assigned_=new Map,n.copy_=Xg(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var cL=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,a)=>{if(il(e)&&!il(t)){const l=t;t=e;const c=this;return function(p=l,...g){return c.produce(p,_=>t.call(this,_,...g))}}il(t)||Qr(6),a!==void 0&&!il(a)&&Qr(7);let o;if(ei(e)){const l=ab(this),c=ty(l,e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?Jg(l):Zg(l)}return ib(l,a),sb(o,l)}else if(!e||!h_(e)){if(o=t(e),o===void 0&&(o=e),o===CR&&(o=void 0),this.autoFreeze_&&m_(o,!0),a){const l=[],c=[];ao(Wg).generateReplacementPatches_(e,o,{patches_:l,inversePatches_:c}),a(l,c)}return o}else Qr(1,e)},this.produceWithPatches=(e,t)=>{if(il(e))return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let a,o;return[this.produce(e,t,(c,d)=>{a=c,o=d}),a,o]},mg(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),mg(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),mg(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){ei(n)||Qr(8),oa(n)&&(n=fL(n));const e=ab(this),t=ty(e,n,void 0);return t[jn].isManual_=!0,Zg(e),t}finishDraft(n,e){const t=n&&n[jn];(!t||!t.isManual_)&&Qr(9);const{scope_:a}=t;return ib(a,e),sb(void 0,a)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const a=ao(Wg).applyPatches_;return oa(n)?a(n,e):this.produce(n,o=>a(o,e))}};function ty(n,e,t,a){const[o,l]=zd(e)?ao(ad).proxyMap_(e,t):Bd(e)?ao(ad).proxySet_(e,t):lL(e,t);return((t==null?void 0:t.scope_)??NR()).drafts_.push(o),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=a,t&&a!==void 0?sL(t,l,a):l.callbacks_.push(function(p){var _;(_=p.mapSetPlugin_)==null||_.fixSetContents(l);const{patchPlugin_:g}=p;l.modified_&&g&&g.generatePatches_(l,[],p)}),o}function fL(n){return oa(n)||Qr(10,n),PR(n)}function PR(n){if(!ei(n)||Fd(n))return n;const e=n[jn];let t,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Xg(n,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else t=Xg(n,!0);return Ud(t,(o,l)=>{id(t,o,PR(l))},a),e&&(e.finalized_=!1),t}var hL=new cL,LR=hL.produce;function kR(n){return({dispatch:t,getState:a})=>o=>l=>typeof l=="function"?l(t,a,n):o(l)}var dL=kR(),mL=kR,pL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?td:td.apply(null,arguments)},gL=n=>n&&typeof n.match=="function";function Yu(n,e){function t(...a){if(e){let o=e(...a);if(!o)throw new Error(na(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:a[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=a=>W4(a)&&a.type===n,t}var UR=class zu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zu.prototype)}static get[Symbol.species](){return zu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zu(...e[0].concat(this)):new zu(...e.concat(this))}};function lb(n){return ei(n)?LR(n,()=>{}):n}function ah(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function yL(n){return typeof n=="boolean"}var _L=()=>function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new UR;return t&&(yL(t)?c.push(dL):c.push(mL(t.extraArgument))),c},vL="RTK_autoBatch",ub=n=>e=>{setTimeout(e,n)},EL=(n={type:"raf"})=>e=>(...t)=>{const a=e(...t);let o=!0,l=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ub(10):n.type==="callback"?n.queueNotification:ub(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},a,{subscribe(_){const E=()=>o&&_(),b=a.subscribe(E);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){var E;try{return o=!((E=_==null?void 0:_.meta)!=null&&E[vL]),l=!o,l&&(c||(c=!0,p(g))),a.dispatch(_)}finally{o=!0}}})},TL=n=>function(t){const{autoBatch:a=!0}=t??{};let o=new UR(n);return a&&o.push(EL(typeof a=="object"?a:void 0)),o};function SL(n){const e=_L(),{reducer:t=void 0,middleware:a,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(f_(t))d=Q4(t);else throw new Error(na(1));let p;typeof a=="function"?p=a(e):p=e();let g=td;o&&(g=pL({trace:!1,...typeof o=="object"&&o}));const _=X4(...p),E=TL(_);let b=typeof c=="function"?c(E):E();const C=g(...b);return RR(d,l,C)}function jR(n){const e={},t=[];let a;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(na(28));if(d in e)throw new Error(na(29));return e[d]=c,o},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),o},addMatcher(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase(l){return a=l,o}};return n(o),[e,t,a]}function bL(n){return typeof n=="function"}function wL(n,e){let[t,a,o]=jR(e),l;if(bL(n))l=()=>lb(n());else{const d=lb(n);l=()=>d}function c(d=l(),p){let g=[t[p.type],...a.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,E)=>{if(E)if(oa(_)){const C=E(_,p);return C===void 0?_:C}else{if(ei(_))return LR(_,b=>E(b,p));{const b=E(_,p);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return c.getInitialState=l,c}var AL=(n,e)=>gL(n)?n.match(e):n(e);function RL(...n){return e=>n.some(t=>AL(t,e))}var CL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",IL=(n=21)=>{let e="",t=n;for(;t--;)e+=CL[Math.random()*64|0];return e},DL=["name","message","stack","code"],gg=class{constructor(n,e){kp(this,"_type");this.payload=n,this.meta=e}},cb=class{constructor(n,e){kp(this,"_type");this.payload=n,this.meta=e}},NL=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of DL)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},fb="External signal was aborted",jr=(()=>{function n(e,t,a){const o=Yu(e+"/fulfilled",(p,g,_,E)=>({payload:p,meta:{...E||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=Yu(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),c=Yu(e+"/rejected",(p,g,_,E,b)=>({payload:E,error:(a&&a.serializeError||NL)(p||"Rejected"),meta:{...b||{},arg:_,requestId:g,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p,{signal:g}={}){return(_,E,b)=>{const C=a!=null&&a.idGenerator?a.idGenerator(p):IL(),L=new AbortController;let z,k;function $(K){k=K,L.abort()}g&&(g.aborted?$(fb):g.addEventListener("abort",()=>$(fb),{once:!0}));const H=(async function(){var te,G;let K;try{let S=(te=a==null?void 0:a.condition)==null?void 0:te.call(a,p,{getState:E,extra:b});if(OL(S)&&(S=await S),S===!1||L.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const w=new Promise((R,D)=>{z=()=>{D({name:"AbortError",message:k||"Aborted"})},L.signal.addEventListener("abort",z,{once:!0})});_(l(C,p,(G=a==null?void 0:a.getPendingMeta)==null?void 0:G.call(a,{requestId:C,arg:p},{getState:E,extra:b}))),K=await Promise.race([w,Promise.resolve(t(p,{dispatch:_,getState:E,extra:b,requestId:C,signal:L.signal,abort:$,rejectWithValue:(R,D)=>new gg(R,D),fulfillWithValue:(R,D)=>new cb(R,D)})).then(R=>{if(R instanceof gg)throw R;return R instanceof cb?o(R.payload,C,p,R.meta):o(R,C,p)})])}catch(S){K=S instanceof gg?c(null,C,p,S.payload,S.meta):c(S,C,p)}finally{z&&L.signal.removeEventListener("abort",z)}return a&&!a.dispatchConditionRejection&&c.match(K)&&K.meta.condition||_(K),K})();return Object.assign(H,{abort:$,requestId:C,arg:p,unwrap(){return H.then(xL)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:o,settled:RL(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function xL(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function OL(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var ML=Symbol.for("rtk-slice-createasyncthunk");function VL(n,e){return`${n}/${e}`}function PL({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[ML];return function(o){const{name:l,reducerPath:c=l}=o;if(!l)throw new Error(na(11));const d=(typeof o.reducers=="function"?o.reducers(kL()):o.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(ee,te){const G=typeof ee=="string"?ee:ee.type;if(!G)throw new Error(na(12));if(G in g.sliceCaseReducersByType)throw new Error(na(13));return g.sliceCaseReducersByType[G]=te,_},addMatcher(ee,te){return g.sliceMatchers.push({matcher:ee,reducer:te}),_},exposeAction(ee,te){return g.actionCreators[ee]=te,_},exposeCaseReducer(ee,te){return g.sliceCaseReducersByName[ee]=te,_}};p.forEach(ee=>{const te=d[ee],G={reducerName:ee,type:VL(l,ee),createNotation:typeof o.reducers=="function"};jL(te)?BL(G,te,_,e):UL(G,te,_)});function E(){const[ee={},te=[],G=void 0]=typeof o.extraReducers=="function"?jR(o.extraReducers):[o.extraReducers],S={...ee,...g.sliceCaseReducersByType};return wL(o.initialState,w=>{for(let R in S)w.addCase(R,S[R]);for(let R of g.sliceMatchers)w.addMatcher(R.matcher,R.reducer);for(let R of te)w.addMatcher(R.matcher,R.reducer);G&&w.addDefaultCase(G)})}const b=ee=>ee,C=new Map,L=new WeakMap;let z;function k(ee,te){return z||(z=E()),z(ee,te)}function $(){return z||(z=E()),z.getInitialState()}function H(ee,te=!1){function G(w){let R=w[ee];return typeof R>"u"&&te&&(R=ah(L,G,$)),R}function S(w=b){const R=ah(C,te,()=>new WeakMap);return ah(R,w,()=>{const D={};for(const[N,V]of Object.entries(o.selectors??{}))D[N]=LL(V,w,()=>ah(L,w,$),te);return D})}return{reducerPath:ee,getSelectors:S,get selectors(){return S(G)},selectSlice:G}}const K={name:l,reducer:k,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:$,...H(c),injectInto(ee,{reducerPath:te,...G}={}){const S=te??c;return ee.inject({reducerPath:S,reducer:k},G),{...K,...H(S,!0)}}};return K}}function LL(n,e,t,a){function o(l,...c){let d=e(l);return typeof d>"u"&&a&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var co=PL();function kL(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function UL({type:n,reducerName:e,createNotation:t},a,o){let l,c;if("reducer"in a){if(t&&!zL(a))throw new Error(na(17));l=a.reducer,c=a.prepare}else l=a;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?Yu(n,c):Yu(n))}function jL(n){return n._reducerDefinitionType==="asyncThunk"}function zL(n){return n._reducerDefinitionType==="reducerWithPrepare"}function BL({type:n,reducerName:e},t,a,o){if(!o)throw new Error(na(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:g,options:_}=t,E=o(n,l,_);a.exposeAction(e,E),c&&a.addCase(E.fulfilled,c),d&&a.addCase(E.pending,d),p&&a.addCase(E.rejected,p),g&&a.addMatcher(E.settled,g),a.exposeCaseReducer(e,{fulfilled:c||sh,pending:d||sh,rejected:p||sh,settled:g||sh})}function sh(){}function na(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const FL={positions:[],loading:!1,error:null,fetched:!1},Zs=jr("positions/fetchPositions",async(n,{rejectWithValue:e})=>{try{const t=kr(wn,"metadata","positions"),a=await wc(t);if(a.exists()){const o=a.data();return Array.isArray(o.list)?o.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch positions")}}),zR=jr("positions/updatePositions",async(n,{rejectWithValue:e})=>{try{const t=kr(wn,"metadata","positions");return await Md(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update positions")}}),HL=co({name:"positions",initialState:FL,reducers:{},extraReducers:n=>{n.addCase(Zs.pending,e=>{e.loading=!0,e.error=null}).addCase(Zs.fulfilled,(e,t)=>{e.positions=t.payload,e.loading=!1,e.fetched=!0}).addCase(Zs.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(zR.fulfilled,(e,t)=>{e.positions=t.payload})}}),qL=HL.reducer,GL={teams:[],loading:!1,error:null,fetched:!1},dl=jr("teams/fetchTeams",async(n,{rejectWithValue:e})=>{try{const t=kr(wn,"metadata","teams"),a=await wc(t);if(a.exists()){const o=a.data();return Array.isArray(o.list)?o.list.map(c=>({...c,maxConflict:c.maxConflict||1})):[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch teams")}}),Sh=jr("teams/updateTeams",async(n,{rejectWithValue:e})=>{try{const t=kr(wn,"metadata","teams");return await Md(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update teams")}}),BR=co({name:"teams",initialState:GL,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(dl.pending,e=>{e.loading=!0,e.error=null}).addCase(dl.fulfilled,(e,t)=>{e.teams=t.payload,e.loading=!1,e.fetched=!0}).addCase(dl.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Sh.pending,e=>{e.error=null}).addCase(Sh.fulfilled,(e,t)=>{e.teams=t.payload}).addCase(Sh.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:Zk}=BR.actions,$L=BR.reducer,KL=()=>{const n=ua(),{firebaseUser:e,userData:t,loading:a}=pt(c=>c.auth),{fetched:o}=pt(c=>c.teams),{fetched:l}=pt(c=>c.positions);return B.useEffect(()=>{e&&(o||n(dl()),l||n(Zs()))},[n,e,o,l]),a?x.jsx(wl,{}):e?t?t.isApproved?x.jsx(Yb,{}):x.jsx(es,{to:"/guest",replace:!0}):x.jsx(wl,{}):x.jsx(es,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=(...n)=>n.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=n=>{const e=QL(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d},p)=>B.createElement("svg",{ref:p,...XL,width:e,height:e,stroke:n,strokeWidth:a?Number(t)*24/Number(e):t,className:FR("lucide",o),...!l&&!WL(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>B.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=(n,e)=>{const t=B.forwardRef(({className:a,...o},l)=>B.createElement(JL,{ref:l,iconNode:e,className:FR(`lucide-${YL(hb(n))}`,`lucide-${n}`,a),...o}));return t.displayName=hb(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HR=Vl("chevron-up",ZL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],qR=Vl("corner-down-right",ek);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nk=Vl("moon",tk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],ik=Vl("panel-left-close",rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],sk=Vl("panel-left-open",ak);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lk=Vl("sun",ok),uk={isMobileSidebarOpen:!1,isDesktopSidebarExpanded:!0,expandedTeams:[]},GR=co({name:"ui",initialState:uk,reducers:{setMobileSidebarOpen:(n,e)=>{n.isMobileSidebarOpen=e.payload},setDesktopSidebarExpanded:(n,e)=>{n.isDesktopSidebarExpanded=e.payload},toggleTeamExpansion:(n,e)=>{const t=e.payload,a=n.expandedTeams.indexOf(t);a>=0?n.expandedTeams.splice(a,1):n.expandedTeams.push(t)}}}),{setMobileSidebarOpen:bh,setDesktopSidebarExpanded:ck,toggleTeamExpansion:fk}=GR.actions,hk=GR.reducer,dk=()=>{const n=B.useContext(AR);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},p_=({showText:n})=>{const{theme:e,toggleTheme:t}=dk();return x.jsxs("button",{className:"theme-toggle-button",onClick:t,"aria-label":"Toggle theme",children:[e==="dark"?x.jsx(lk,{size:20}):x.jsx(nk,{size:20}),n&&x.jsx("span",{children:"Toggle theme"})]})},mk=({title:n})=>{const e=ua(),{isMobileSidebarOpen:t}=pt(a=>a.ui);return x.jsxs("header",{className:"mobile-header",children:[x.jsxs("div",{className:`mobile-header-pill ${t?"mobile-header-pill-active":""}`,onClick:()=>e(bh(!t)),children:[x.jsx("span",{className:"mobile-header-text",children:n}),x.jsx(HR,{className:`mobile-header-chevron ${t?"rotate":""}`})]}),x.jsx(p_,{})]})};var mr=(n=>(n.ROSTER="roster",n.SETTINGS="settings",n))(mr||{}),sl=(n=>(n.PROFILE="Profile",n.USER_MANAGEMENT="Users",n.POSITIONS="Positions",n.TEAMS="Teams",n))(sl||{});const $R=[{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],yg=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],pk=()=>{const n=hc(),t=ti().pathname.includes("/settings")?mr.SETTINGS:mr.ROSTER,a=o=>{n(`/app/${o}`)};return x.jsx("nav",{className:"bottom-nav-container",children:x.jsx("div",{className:"bottom-nav",children:$R.map(o=>x.jsxs("button",{className:`bottom-nav-btn ${t===o.id?"bottom-nav-btn-active":""}`,onClick:()=>a(o.id),children:[x.jsx("span",{children:o.icon}),x.jsx("span",{children:o.label})]},o.id))})})},gk=()=>{var K;const n=hc(),e=ti(),t=hd(),a=ua(),{userData:o}=pt(ee=>ee.auth),{isDesktopSidebarExpanded:l,expandedTeams:c}=pt(ee=>ee.ui),{teams:d,fetched:p,loading:g}=pt(ee=>ee.teams),{fetched:_}=pt(ee=>ee.positions),E=e.pathname.includes("/settings")?mr.SETTINGS:mr.ROSTER,{teamName:b,positionName:C,section:L}=t,z=C||L;B.useEffect(()=>{p||a(dl()),_||a(Zs())},[a,p,_]);const k=B.useCallback(ee=>{n(ee)},[n]),$=ee=>{a(fk(ee))},H=()=>{const ee=E===mr.ROSTER?{label:"Roster"}:yg.find(G=>G.id===z)||{label:"Settings"},te=ee?ee.label:"GIG ROSTER";return b&&z?`${b}  ${z}`:b||(z?`${te}  ${z}`:te)};return x.jsxs("aside",{className:"side-nav",children:[x.jsxs("div",{className:"sidebar-content",children:[x.jsxs("div",{className:"tablet-sidebar-header",children:[l&&x.jsx("h3",{children:H()}),x.jsx("button",{className:"sidebar-toggle-button",onClick:()=>a(ck(!l)),"aria-label":l?"Collapse sidebar":"Expand sidebar",children:l?x.jsx(ik,{size:20}):x.jsx(sk,{size:20})})]}),x.jsxs("nav",{className:"side-menu-list",children:[E===mr.ROSTER&&g&&x.jsx("div",{className:"side-nav-item loading",children:"Loading teams..."}),E===mr.ROSTER?(K=o==null?void 0:o.teams)==null?void 0:K.map(ee=>{var w,R;const te=d.find(D=>D.name===ee);if(!te)return null;const G=o.teams.length===1,S=G||c.includes(te.name);return x.jsxs("div",{children:[!G&&x.jsxs("div",{className:"sidenav-menu-subheading sidenav-menu-subheading-clickable",style:{cursor:"pointer"},onClick:()=>$(te.name),children:[x.jsxs("div",{children:[te.emoji," ",l&&te.name]}),x.jsx("span",{className:"expand-icon",children:S?"":""})]}),S&&((R=(w=te.positions)==null?void 0:w.filter(D=>!D.parentId))==null?void 0:R.map(D=>{const N=z===D.name&&b===te.name;return x.jsxs("button",{className:`side-nav-item side-nav-item-sub ${N?"side-nav-item-active":""}`,onClick:()=>{k(`/app/roster/${te.name}/${D.name}`),a(bh(!1))},style:{borderLeft:N?`4px solid ${D.colour}`:"4px solid transparent",backgroundColor:N?`${D.colour}15`:"transparent",color:N?D.colour:""},children:[x.jsx("span",{className:"side-emoji",children:D.emoji})," ",l&&D.name]},D.name)}))]},te.name)}):yg.filter(ee=>!ee.adminOnly).map(ee=>x.jsxs("button",{className:`side-nav-item ${z===ee.id?"side-nav-item-active":""}`,onClick:()=>{k(`/app/settings/${ee.id}`),a(bh(!1))},children:[x.jsx("span",{className:"side-emoji",children:ee.icon})," ",l&&ee.label]},ee.id))]})]}),(o==null?void 0:o.isAdmin)&&E===mr.SETTINGS&&x.jsxs("div",{className:"admin-only-section-wrapper",children:[x.jsx("div",{className:"sidenav-menu-subheading",children:l&&x.jsx("h4",{children:"Admin Only"})}),yg.filter(ee=>ee.adminOnly).map(ee=>x.jsxs("button",{className:`side-nav-item ${z===ee.id?"side-nav-item-active":""}`,onClick:()=>{k(`/app/settings/${ee.id}`),a(bh(!1))},children:[x.jsx("span",{className:"side-emoji",children:ee.icon})," ",l&&ee.label]},ee.id))]}),x.jsx("div",{className:"sidebar-footer",children:x.jsx(p_,{showText:l})})]})},yk=()=>{const n=hc(),e=ti(),t=hd(),{userData:a}=pt(L=>L.auth),{teams:o}=pt(L=>L.teams),{isMobileSidebarOpen:l,isDesktopSidebarExpanded:c}=pt(L=>L.ui),d=e.pathname.includes("/settings")?mr.SETTINGS:mr.ROSTER,{teamName:p,positionName:g,section:_}=t,E=g||_||null;B.useEffect(()=>{if(d===mr.ROSTER&&!p&&!E){if(a!=null&&a.teams&&a.teams.length>0&&o.length>0){const L=a.teams[0],z=o.find(k=>k.name===L);z&&z.positions&&z.positions.length>0&&n(`/app/roster/${z.name}/${z.positions[0].name}`,{replace:!0})}}else d===mr.SETTINGS&&!E&&n(`/app/settings/${sl.PROFILE}`,{replace:!0})},[d,p,E,a,o,n]);const b=()=>{const L=$R.find(k=>k.id===d),z=L?L.label:"GIG ROSTER";return p&&E?`${p}  ${E}`:p||(E?`${z}  ${E}`:z)},C=["app-shell",l?"menu-open":"",c?"sidebar-expanded":"sidebar-collapsed"].filter(Boolean).join(" ");return x.jsxs(x.Fragment,{children:[x.jsx(mk,{title:b()}),x.jsxs("div",{className:C,children:[x.jsx(gk,{}),x.jsx("main",{className:"main-content",children:x.jsx("div",{className:"content-container",children:x.jsx(Yb,{})})}),x.jsx(pk,{})]})]})},vi=({children:n,nowrap:e})=>x.jsx("div",{className:`pill-group ${e?"pill-group-nowrap":""}`,children:n}),pr=({colour:n,isDropdown:e,isActive:t,isDisabled:a,minWidth:o,onClick:l,children:c})=>{const[d,p]=B.useState(!1);return n&&n.startsWith("var(--color-")&&(n=getComputedStyle(document.documentElement).getPropertyValue(n.slice(4,-1)).trim()),x.jsxs("div",{className:`pill pill--text ${t?"pill-active":""} ${a?"pill-disabled":""}`,style:{"--pill-colour":n||"var(--color-link)","--pill-subtle-hover-color":`${n}15`,minWidth:o?`${o}px`:"fit-content"},onClick:g=>{a||(p(_=>!_),l&&l(g))},children:[c,e&&x.jsx(HR,{style:{rotate:d?"90deg":"0"}})]})},KR=n=>{const e=[];return Object.entries(n).forEach(([t,a])=>{a.forEach(o=>{e.push(`${t}|${o}`)})}),e},_k={firebaseUser:null,userData:null,loading:!0,error:null},wh=jr("auth/initializeUserData",async(n,{rejectWithValue:e})=>{try{const t=kr(wn,"users",n),a=await wc(t);if(!a.exists()){const o="chris.sm.kang542@gmail.com",l=bl.currentUser,c=(l==null?void 0:l.email)===o,d={name:(l==null?void 0:l.displayName)||null,email:(l==null?void 0:l.email)||null,isApproved:c,isAdmin:c,isActive:!0,teams:[],teamPositions:{},indexedAssignments:[],gender:""};return await kV(t,d),d}return a.data()}catch(t){return e(t instanceof Error?t.message:"Unknown error")}}),Ah=jr("auth/updateUserProfile",async({uid:n,data:e},{rejectWithValue:t})=>{try{const a=kr(wn,"users",n),o={...e};return o.teamPositions&&(o.indexedAssignments=KR(o.teamPositions)),await Md(a,o),o}catch(a){return t(a instanceof Error?a.message:"Failed to update profile")}}),YR=co({name:"auth",initialState:_k,reducers:{setUser:(n,e)=>{n.firebaseUser=e.payload},setUserData:(n,e)=>{n.userData=e.payload},setLoading:(n,e)=>{n.loading=e.payload},logout:n=>{n.firebaseUser=null,n.userData=null,n.loading=!1}},extraReducers:n=>{n.addCase(wh.pending,e=>{e.loading=!0,e.error=null}).addCase(wh.fulfilled,(e,t)=>{e.userData=t.payload,e.loading=!1}).addCase(wh.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Ah.pending,e=>{e.error=null}).addCase(Ah.fulfilled,(e,t)=>{e.userData&&(e.userData={...e.userData,...t.payload})}).addCase(Ah.rejected,(e,t)=>{e.error=t.payload})}}),{setUser:vk,setUserData:Ek,setLoading:eU,logout:Tk}=YR.actions,Sk=YR.reducer,QR=()=>{const n=ua(),{userData:e,firebaseUser:t}=pt(K=>K.auth),a=pt(K=>K.teams.teams),[o,l]=B.useState((e==null?void 0:e.name)||""),[c,d]=B.useState((e==null?void 0:e.gender)||""),[p,g]=B.useState((e==null?void 0:e.isActive)??!0),[_,E]=B.useState((e==null?void 0:e.teams)||[]),[b,C]=B.useState((e==null?void 0:e.teamPositions)||{}),[L,z]=B.useState("idle"),k=async()=>{if(t){z("saving");try{const K={name:o,gender:c,isActive:p,teams:_,teamPositions:b};await n(Ah({uid:t.uid,data:K})).unwrap(),z("success"),setTimeout(()=>z("idle"),2e3)}catch(K){console.error(K),z("idle")}}},$=K=>{E(ee=>{const te=ee.includes(K),G=te?ee.filter(S=>S!==K):[...ee,K];return C(S=>{const w={...S};return te?delete w[K]:w[K]||(w[K]=[]),w}),G})},H=(K,ee)=>{C(te=>{const G=te[K]||[],S=G.includes(ee)?G.filter(w=>w!==ee):[...G,ee];return{...te,[K]:S}})};return e?x.jsxs("section",{className:"profile-card",children:[x.jsx("div",{className:"profile-readonly",children:x.jsxs("p",{children:[x.jsx("strong",{children:"Email:"})," ",e.email]})}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Name"}),x.jsx(vi,{children:x.jsx("input",{type:"text",value:o,onChange:K=>l(K.target.value),className:"form-input form-input-width-auto"})})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Gender"}),x.jsx(vi,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(K=>x.jsx(pr,{colour:K.colour,onClick:()=>d(K.value),isActive:c===K.value,children:K.value},K.value))})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"My Teams"}),x.jsx(vi,{children:a.map(K=>{const ee=_.includes(K.name);return x.jsxs(pr,{onClick:()=>$(K.name),isActive:ee,children:[x.jsx("span",{children:K.emoji})," ",K.name]},K.name)})})]}),_.length>0&&x.jsxs("div",{className:"team-positions-section",children:[x.jsx("label",{className:"section-label",children:"Positions per Team"}),_.map(K=>{var te,G;const ee=a.find(S=>S.name===K);return ee?x.jsxs("div",{className:"team-position-group",children:[x.jsxs("div",{className:"team-position-header",children:[ee.emoji," ",ee.name]}),x.jsx(vi,{children:(G=(te=ee.positions)==null?void 0:te.filter(S=>!S.parentId))==null?void 0:G.map(S=>{var R;const w=(R=b[K])==null?void 0:R.includes(S.name);return x.jsxs(pr,{onClick:()=>H(K,S.name),isActive:w,colour:S.colour,children:[x.jsx("span",{children:S.emoji})," ",S.name]},S.name)})})]},K):null})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{children:"Availability Status"}),x.jsx(pr,{colour:p?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>g(!p),isActive:!0,children:p?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),x.jsx("p",{className:"form-field-hint",children:"Turn off if you want to be hidden from the roster."})]}),x.jsxs("div",{className:"action-container",children:[x.jsx("button",{onClick:k,disabled:L!=="idle",className:`save-button ${L}`,children:L==="saving"?"Saving...":L==="success"?"Done ":"Update Profile"}),x.jsx("button",{onClick:()=>bl.signOut(),className:"logout-btn",children:"Logout"})]})]}):x.jsx("div",{children:"Loading profile..."})},bk=()=>{const{userData:n,firebaseUser:e,loading:t}=pt(a=>a.auth);return t?x.jsx(wl,{}):e?n?n.isApproved?x.jsx(es,{to:"/app",replace:!0}):x.jsxs("div",{className:"guest-container",children:[x.jsxs("header",{className:"guest-header",children:[x.jsx("h2",{className:"brand-title",children:"God is Good"}),x.jsx("p",{className:"pending-label",children:"PENDING ADMIN APPROVAL"}),x.jsx("div",{className:"guest-theme-toggle-container",children:x.jsx(p_,{})})]}),x.jsx(QR,{})]}):x.jsx(wl,{}):x.jsx(es,{to:"/login",replace:!0})},wk=()=>{const{firebaseUser:n,loading:e}=pt(a=>a.auth),t=()=>YP(bl,H4);return e?null:n?x.jsx(es,{to:"/",replace:!0}):x.jsxs("div",{className:"login-container",children:[x.jsxs("header",{className:"login-header",children:[x.jsx("h1",{className:"brand-title",children:"God is Good"}),x.jsx("p",{className:"brand-subtitle",children:"Worship Team Roster"})]}),x.jsx("div",{className:"login-button-container",children:x.jsxs("button",{onClick:t,className:"login-button google",children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},Ak={entries:{},dirtyEntries:{},loading:!1,saving:!1,error:null},Rh=jr("roster/fetchEntries",async(n,{rejectWithValue:e})=>{try{const t=Wy(Gy(wn,"roster")),a=await Zy(t),o={};return a.docs.forEach(l=>{const c=l.data();o[l.id]={...c,id:l.id}}),o}catch(t){return e(t instanceof Error?t.message:"Failed to fetch roster entries")}}),Ch=jr("roster/saveChanges",async(n,{rejectWithValue:e})=>{try{const t=KA(wn);return Object.values(n).forEach(a=>{const o=kr(wn,"roster",a.id),l={...a,updatedAt:new Date};t.set(o,l)}),await t.commit(),n}catch(t){return e(t instanceof Error?t.message:"Failed to save roster changes")}}),XR=co({name:"roster",initialState:Ak,reducers:{clearError:n=>{n.error=null},updateLocalAssignment(n,e){const{date:t,teamName:a,userIdentifier:o,positionGroupNames:l,maxConflict:c}=e.payload,d=n.dirtyEntries[t]||n.entries[t];let p;d?p=JSON.parse(JSON.stringify(d)):p={id:t,date:t,teams:{},absence:{}},p.teams[a]||(p.teams[a]={});const g=p.teams[a][o]||[],_=l.findIndex(L=>g.includes(L)),E=_>=0?l[_]:null;let b=null;E===null?b=l[0]:_<l.length-1?b=l[_+1]:b=null;const C=g.filter(L=>!l.includes(L));if(b)if(C.length<c)C.push(b);else{n.error=`User already has ${c} assignment(s) in this team.`;return}C.length===0?delete p.teams[a][o]:p.teams[a][o]=C,n.dirtyEntries[t]=p},resetRosterEdits(n){n.dirtyEntries={},n.error=null}},extraReducers:n=>{n.addCase(Rh.pending,e=>{e.loading=!0,e.error=null}).addCase(Rh.fulfilled,(e,t)=>{e.entries=t.payload,e.loading=!1}).addCase(Rh.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Ch.pending,e=>{e.saving=!0,e.error=null}).addCase(Ch.fulfilled,(e,t)=>{e.entries={...e.entries,...t.payload},e.dirtyEntries={},e.saving=!1}).addCase(Ch.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{clearError:tU,updateLocalAssignment:Rk,resetRosterEdits:Ck}=XR.actions,Ik=XR.reducer,Dk=n=>{const e=[],t=new Date;t.setHours(0,0,0,0);const a=t.getFullYear(),o=new Date(a,11,31);o.setHours(0,0,0,0);const l={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c=n.map(_=>l[_]),d=new Date(t);let p=!1;for(;!p;)if(c.includes(d.getDay()))p=!0;else if(d.setDate(d.getDate()+1),d.getFullYear()>a)return[];const g=new Date(d);for(;g.getTime()<=o.getTime();)c.includes(g.getDay())&&e.push(new Date(g)),g.setDate(g.getDate()+1);return e.sort((_,E)=>_.getTime()-E.getTime()),e.map(_=>_.toISOString())},Nk={users:[],currentTeamData:null,rosterDates:[],loadingUsers:!1,loadingTeam:!1,error:null},Ih=jr("rosterView/fetchUsers",async({teamName:n,positionName:e},{rejectWithValue:t,getState:a})=>{if(!n||!e)return[];try{const c=a().positions.positions.filter(C=>C.parentId===e),p=[e,...c.map(C=>C.name)].map(C=>`${n}|${C}`),g=Gy(wn,"users"),_=Wy(g,VV("indexedAssignments","array-contains-any",p)),E=await Zy(_),b=[];return E.forEach(C=>{b.push(C.data())}),b.sort((C,L)=>(C.name||"").localeCompare(L.name||""))}catch(o){return console.error("Error fetching users:",o),t("Failed to load users.")}}),Dh=jr("rosterView/fetchTeamData",async(n,{rejectWithValue:e})=>{if(!n)return null;try{const t=kr(wn,"metadata","teams"),a=await wc(t);if(a.exists()){const o=a.data();return(Array.isArray(o.list)?o.list.map(d=>({...d,preferredDays:d.preferredDays||[],positions:d.positions||[]})):[]).find(d=>d.name===n)||null}return null}catch(t){return console.error("Error fetching team data:",t),e("Failed to load team data.")}}),xk=co({name:"rosterView",initialState:Nk,reducers:{},extraReducers:n=>{n.addCase(Ih.pending,e=>{e.loadingUsers=!0,e.users=[],e.error=null}).addCase(Ih.fulfilled,(e,t)=>{e.users=t.payload,e.loadingUsers=!1}).addCase(Ih.rejected,(e,t)=>{e.error=t.payload,e.loadingUsers=!1}).addCase(Dh.pending,e=>{e.loadingTeam=!0,e.currentTeamData=null,e.rosterDates=[],e.error=null}).addCase(Dh.fulfilled,(e,t)=>{var a;e.currentTeamData=t.payload,(a=t.payload)!=null&&a.preferredDays&&(e.rosterDates=Dk(t.payload.preferredDays)),e.loadingTeam=!1}).addCase(Dh.rejected,(e,t)=>{e.error=t.payload,e.loadingTeam=!1})}}),Ok=xk.reducer,Mk=()=>{const n=ua(),{teamName:e,positionName:t}=hd(),{users:a,rosterDates:o,loadingUsers:l,loadingTeam:c,error:d}=pt(te=>te.rosterView),{entries:p,dirtyEntries:g,saving:_,error:E}=pt(te=>te.roster),{teams:b}=pt(te=>te.teams),{positions:C}=pt(te=>te.positions),L=Object.keys(g).length>0;B.useEffect(()=>{n(Rh())},[n]),B.useEffect(()=>{t&&e&&n(Ih({teamName:e,positionName:t}))},[t,e,n]),B.useEffect(()=>{e&&n(Dh(e))},[e,n]);const z=(te,G)=>{if(!e||!t||k(te,G))return;const S=b.find(N=>N.name===e),w=(S==null?void 0:S.maxConflict)||1,R=C.filter(N=>N.parentId===t),D=[t,...R.map(N=>N.name)];n(Rk({date:te.split("T")[0],teamName:e,userIdentifier:G,positionGroupNames:D,maxConflict:w}))},k=(te,G)=>{if(!e||!t)return!1;const S=te.split("T")[0],w=g[S]||p[S],R=b.find(Ue=>Ue.name===e),D=(R==null?void 0:R.maxConflict)||1;if(!w||!w.teams[e]||!w.teams[e][G])return!1;const N=w.teams[e][G],V=C.filter(Ue=>Ue.parentId===t),O=[t,...V.map(Ue=>Ue.name)];return N.some(Ue=>O.includes(Ue))?!1:N.length>=D},$=()=>{n(Ch(g))},H=()=>{n(Ck())},K=(te,G)=>{const S=te.split("T")[0],w=g[S]||p[S];if(!w||!e||!w.teams[e]||!w.teams[e][G])return"-";const R=w.teams[e][G];return x.jsx("div",{className:"assigned-positions",children:R.map(D=>{const N=C.find(V=>V.name===D);return x.jsx("span",{title:D,className:"pos-emoji",children:(N==null?void 0:N.emoji)||""},D)})})};if(l||c)return x.jsx(Ic,{});const ee=d||E;return ee?x.jsxs("div",{className:"roster-table-error",children:["Error: ",ee]}):a.length===0?x.jsx("div",{className:"roster-table-loading",children:"No users found for this position."}):x.jsxs("div",{className:"roster-table-wrapper",children:[x.jsx("div",{className:"roster-table-container",children:x.jsxs("table",{className:"roster-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"roster-table-header-cell",children:"Date"}),a.map(te=>x.jsx("th",{className:"roster-table-header-cell",children:te.name},te.email))]})}),x.jsx("tbody",{children:o.map(te=>x.jsxs("tr",{children:[x.jsx("td",{className:"date-cell",children:new Date(te).toLocaleDateString()}),a.map(G=>{const S=G.email?k(te,G.email):!1;return x.jsx("td",{className:`roster-cell ${S?"disabled":"clickable"}`,onClick:()=>G.email&&!S&&z(te,G.email),children:G.email&&K(te,G.email)},G.email)})]},te))})]})}),L&&x.jsx("div",{className:"roster-save-footer",children:x.jsxs("div",{className:"save-footer-content",children:[x.jsx("span",{className:"changes-label",children:"You have unsaved changes"}),x.jsxs("div",{className:"save-footer-actions",children:[x.jsx("button",{className:"cancel-btn",onClick:H,disabled:_,children:"Discard"}),x.jsx("button",{className:"save-btn",onClick:$,disabled:_,children:_?"Saving...":"Save Roster"})]})]})})]})},Vk=()=>x.jsx("div",{className:"roster-page",style:{height:"100%"},children:x.jsx(Mk,{})}),Pk=({text:n,textAlign:e="left",width:t,minWidth:a,isSticky:o=!1})=>x.jsx("th",{className:o?"sticky-col":void 0,style:{textAlign:e,width:t?`${t}px`:"auto",minWidth:a?`${a}px`:"auto"},children:n}),ln=({isSticky:n=!1,textAlign:e="left",className:t,children:a})=>x.jsx("td",{style:{textAlign:e},className:`${t||""} ${n?"sticky-col":""}
`,children:a}),Vr=({name:n,value:e,placeholder:t,type:a="text",isSticky:o,isReadOnly:l=!1,isChild:c=!1,onChange:d})=>x.jsxs(ln,{isSticky:o,children:[c&&x.jsx(qR,{}),x.jsx("input",{name:n,className:"form-input",type:a,placeholder:t,value:e,onChange:d,readOnly:l})]}),db=({name:n,value:e,placeholder:t,onChange:a})=>x.jsxs(ln,{className:"color-picker-group",children:[x.jsx("input",{name:n,type:"color",value:e||"#FFFFFF",onChange:a}),x.jsx("input",{name:n,className:"form-input",value:e,placeholder:t,onChange:a})]}),g_=({headers:n,children:e})=>x.jsx("div",{className:"app-table-container",children:x.jsxs("table",{className:"app-table",children:[x.jsx("thead",{children:x.jsx("tr",{children:n.map((t,a)=>x.jsx(Pk,{...t},a))})}),x.jsx("tbody",{children:e})]})}),_g={name:"",emoji:"",colour:"",parentId:void 0},Lk=()=>{const n=ua(),{positions:e,fetched:t,loading:a}=pt(k=>k.positions),[o,l]=B.useState(e),[c,d]=B.useState(_g),[p,g]=B.useState("idle");B.useEffect(()=>{t||n(Zs())},[n,t]),B.useEffect(()=>{l(e)},[e]);const _=(k,$,H)=>{const K=[...o];K[k]={...K[k],[$]:H},l(K)},E=(k,$)=>{const H=[...o],K=H[k],ee=K.parentId,te=G=>{const S=H[G];if(!S)return{block:[],startIndex:-1,endIndex:-1};const w=[],R=[S],D=new Set;let N=G,V=G,O=0;for(;O<R.length;){const Ue=R[O++];D.has(Ue.name)||(D.add(Ue.name),w.push(Ue),H.forEach((W,fe)=>{W.parentId===Ue.name&&!D.has(W.name)&&(R.push(W),N=Math.min(N,fe),V=Math.max(V,fe))}))}return{block:w,startIndex:N,endIndex:V}};if(ee){const G=H.filter(O=>O.parentId===ee),w=G.findIndex(O=>O.name===K.name)+($==="up"?-1:1);if(w<0||w>=G.length)return;const R=G[w],D=H.indexOf(K),N=H.indexOf(R);if(D===-1||N===-1)return;const V=[...H];V[D]=R,V[N]=K,l(V)}else{const G=te(k),{block:S,startIndex:w,endIndex:R}=G;if(!S||S.length===0)return;if($==="up"){if(w===0)return;let D=w-1;for(;D>=0&&H[D].parentId;)D--;if(D<0)return;const N=te(D),{block:V,startIndex:O}=N;if(!V||V.length===0)return;const Oe=[...H.slice(0,O),...S,...V,...H.slice(R+1)].filter(Boolean);l(Oe)}else{if(R===H.length-1)return;let D=R+1;for(;D<H.length&&H[D].parentId;)D++;if(D>=H.length)return;const N=te(D),{block:V,startIndex:O}=N;if(!V||V.length===0)return;const Oe=[...H.slice(0,w),...V,...S,...H.slice(O+V.length)].filter(Boolean);l(Oe)}}},b=()=>{if(!c.name.trim()||!c.emoji.trim())return alert("Please provide both an emoji and a name.");l([...o,c]),d(_g)},C=k=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const $=o[k];let H=o.filter((K,ee)=>ee!==k);$.parentId||(H=H.filter(K=>K.parentId!==$.name)),l(H)}},L=async()=>{g("saving");try{const k=o.map($=>({...$,parentId:$.parentId===void 0?void 0:$.parentId}));await n(zR(k)).unwrap(),g("success"),setTimeout(()=>g("idle"),2e3)}catch(k){console.error("Save Error:",k),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),g("idle")}},z=k=>{l($=>{const H={..._g,parentId:k},K=$.findIndex(G=>G.name===k);if(K===-1)return[...$,H];let ee=K;for(;ee+1<$.length&&$[ee+1].parentId===k;)ee++;return[...$.slice(0,ee+1),H,...$.slice(ee+1)]})};return a?x.jsx(Ic,{}):x.jsxs(x.Fragment,{children:[x.jsxs(g_,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:80},{text:"Colour",minWidth:100},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[o.map((k,$)=>x.jsxs("tr",{children:[x.jsx(ln,{textAlign:"center",children:k.parentId?x.jsx(qR,{}):x.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[x.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>E($,"up"),disabled:$===0,children:""}),x.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>E($,"down"),disabled:$===o.length-1,children:""})]})}),x.jsx(Vr,{name:`emoji-${$}`,value:k.emoji,onChange:H=>_($,"emoji",H.target.value)}),x.jsx(Vr,{name:`name-${$}`,value:k.name,onChange:H=>_($,"name",H.target.value)}),x.jsx(db,{name:`colour-${$}`,value:k.colour,onChange:H=>_($,"colour",H.target.value)}),x.jsx(ln,{textAlign:"center",children:!k.parentId&&x.jsx("button",{className:"icon-button icon-button--add-child",onClick:()=>z(k.name),title:"Add Child Position",children:"+"})}),x.jsx(ln,{textAlign:"center",children:x.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>C($),children:""})})]},`${k.emoji}-${$}`)),x.jsxs("tr",{className:"pos-row-new",children:[x.jsx("td",{className:"",children:""}),x.jsx(Vr,{name:"new-emoji",value:c.emoji,placeholder:"",onChange:k=>d({...c,emoji:k.target.value})}),x.jsx(Vr,{name:"new-name",value:c.name,placeholder:"Position Name",onChange:k=>d({...c,name:k.target.value})}),x.jsx(db,{name:"new-colour",value:c.colour,placeholder:"#FFFFFF",onChange:k=>d({...c,colour:k.target.value})}),x.jsx("td",{className:""}),x.jsx(ln,{textAlign:"center",children:x.jsx("button",{onClick:b,className:"icon-button icon-button--add",disabled:!c.name.trim()||!c.emoji.trim(),children:"Add"})})]})]}),x.jsx("div",{className:"settings-footer",children:x.jsx("button",{className:`save-button ${p}`,onClick:L,disabled:p!=="idle",children:p==="saving"?"Saving...":p==="success"?"Done ":"Save"})})]})},mb={name:"",emoji:"",positions:[],preferredDays:[],maxConflict:1},pb=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kk=()=>{var ee,te;const n=ua(),{teams:e,fetched:t,loading:a}=pt(G=>G.teams),{positions:o,fetched:l,loading:c}=pt(G=>G.positions),[d,p]=B.useState(e),[g,_]=B.useState(mb),[E,b]=B.useState("idle");B.useEffect(()=>{t||n(dl()),l||n(Zs())},[n,t,l]),B.useEffect(()=>{p(e)},[e]);const C=(G,S,w)=>{const R=[...d];R[G]={...R[G],[S]:w},p(R)},L=(G,S)=>{const w=[...d],R=S==="up"?G-1:G+1;if(R<0||R>=w.length)return;const D=w[G];w[G]=w[R],w[R]=D,p(w)},z=(G,S)=>{const w=d.map((R,D)=>{if(D!==G)return R;const N=R.positions||[],V=N.find(O=>O.name===S.name)?N.filter(O=>O.name!==S.name):[...N,S];return{...R,positions:V}});p(w)},k=(G,S)=>{const w=d.map((R,D)=>{if(D!==G)return R;const N=R.preferredDays||[],V=N.includes(S)?N.filter(O=>O!==S):[...N,S];return{...R,preferredDays:V}});p(w)},$=()=>{if(!g.name.trim()||!g.emoji.trim())return alert("Please provide both an emoji and a name for the team.");p([...d,g]),_(mb)},H=G=>{window.confirm("Are you sure you want to delete this team?")&&p(d.filter((S,w)=>w!==G))},K=async()=>{b("saving");try{await n(Sh(d)).unwrap(),b("success"),setTimeout(()=>b("idle"),2e3)}catch(G){console.error("Save Error:",G),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),b("idle")}};return a||c?x.jsx(Ic,{}):x.jsxs(x.Fragment,{children:[x.jsxs(g_,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:100},{text:"Conflicts",width:60,textAlign:"center"},{text:"Allowed Positions",minWidth:200},{text:"Preferred Days",minWidth:250},{text:"",width:50}],children:[d.map((G,S)=>{var w,R;return x.jsxs("tr",{children:[x.jsxs(ln,{children:[" ",x.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[x.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>L(S,"up"),disabled:S===0,children:""}),x.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>L(S,"down"),disabled:S===d.length-1,children:""})]})]}),x.jsx(Vr,{name:`team-emoji-${S}`,value:G.emoji,onChange:D=>C(S,"emoji",D.target.value)}),x.jsx(Vr,{name:`team-name-${S}`,value:G.name,onChange:D=>C(S,"name",D.target.value)}),x.jsx(Vr,{name:`team-maxConflict-${S}`,value:((w=G.maxConflict)==null?void 0:w.toString())||"1",type:"number",onChange:D=>C(S,"maxConflict",parseInt(D.target.value)||1)}),x.jsx(ln,{children:x.jsx(vi,{nowrap:!0,children:(R=o==null?void 0:o.filter(D=>!D.parentId))==null?void 0:R.map(D=>{var V;const N=(V=G.positions)==null?void 0:V.some(O=>O.name===D.name);return x.jsx(pr,{colour:D.colour,isActive:N,onClick:()=>z(S,D),children:D.emoji},D.name)})})}),x.jsx(ln,{children:x.jsx(vi,{nowrap:!0,children:pb.map(D=>{var V;const N=(V=G.preferredDays)==null?void 0:V.includes(D);return x.jsx(pr,{isActive:N,onClick:()=>k(S,D),children:D.substring(0,3)},D)})})}),x.jsx(ln,{children:x.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>H(S),children:""})})]},`${G.emoji}-${S}`)}),x.jsxs("tr",{className:"team-row-new",children:[x.jsx("td",{className:"",children:""}),x.jsx(Vr,{name:"new-team-emoji",value:g.emoji,placeholder:"",onChange:G=>_({...g,emoji:G.target.value})}),x.jsx(Vr,{name:"new-team-name",value:g.name,placeholder:"Team Name",onChange:G=>_({...g,name:G.target.value})}),x.jsx(Vr,{name:"new-team-maxConflict",value:((ee=g.maxConflict)==null?void 0:ee.toString())||"1",type:"number",onChange:G=>_({...g,maxConflict:parseInt(G.target.value)||1})}),x.jsx(ln,{children:x.jsx(vi,{nowrap:!0,children:(te=o==null?void 0:o.filter(G=>!G.parentId))==null?void 0:te.map(G=>{var w;const S=(w=g.positions)==null?void 0:w.some(R=>R.name===G.name);return x.jsx(pr,{colour:G.colour,isActive:S,onClick:()=>_(R=>{const D=R.positions||[],N=D.some(V=>V.name===G.name)?D.filter(V=>V.name!==G.name):[...D,G];return{...R,positions:N}}),children:G.emoji},`new-${G.name}`)})})}),x.jsx(ln,{children:x.jsx(vi,{nowrap:!0,children:pb.map(G=>{var w;const S=(w=g.preferredDays)==null?void 0:w.includes(G);return x.jsx(pr,{isActive:S,onClick:()=>_(R=>{const D=R.preferredDays||[],N=D.includes(G)?D.filter(V=>V!==G):[...D,G];return{...R,preferredDays:N}}),children:G.substring(0,3)},`new-team-${G}`)})})}),x.jsx(ln,{children:x.jsx("button",{onClick:$,className:"icon-button icon-button--add",disabled:!g.name.trim()||!g.emoji.trim(),children:"+"})})]})]}),x.jsx("div",{className:"settings-footer",children:x.jsx("button",{className:`save-button ${E}`,onClick:K,disabled:E!=="idle",children:E==="saving"?"Saving...":E==="success"?"Done ":"Save All Team Changes"})})]})},Uk={allUsers:[],loading:!1,saving:!1,error:null},Nh=jr("userManagement/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=Gy(wn,"users"),a=Wy(t),o=await Zy(a),l=[];return o.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch all users")}}),xh=jr("userManagement/saveAllChanges",async(n,{rejectWithValue:e})=>{try{const t=KA(wn);n.forEach(a=>{const{id:o,...l}=a;l.teamPositions&&(l.indexedAssignments=KR(l.teamPositions)),t.update(kr(wn,"users",o),l)}),await t.commit();return}catch(t){return e(t instanceof Error?t.message:"Failed to save changes")}}),WR=co({name:"userManagement",initialState:Uk,reducers:{updateUserField(n,e){const{id:t,field:a,value:o}=e.payload,l=n.allUsers.find(c=>c.id===t);l&&(l[a]=o)},toggleUserTeam(n,e){const{userId:t,teamName:a}=e.payload,o=n.allUsers.find(l=>l.id===t);if(o){const l=o.teams||[],c=l.includes(a)?l.filter(d=>d!==a):[...l,a];o.teams=c,o.teamPositions||(o.teamPositions={}),c.includes(a)?o.teamPositions[a]||(o.teamPositions[a]=[]):delete o.teamPositions[a]}},toggleUserTeamPosition(n,e){const{userId:t,teamName:a,posName:o}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l){l.teamPositions||(l.teamPositions={}),l.teamPositions[a]||(l.teamPositions[a]=[]);const c=l.teamPositions[a],d=c.includes(o)?c.filter(p=>p!==o):[...c,o];l.teamPositions[a]=d}}},extraReducers:n=>{n.addCase(Nh.pending,e=>{e.loading=!0,e.error=null}).addCase(Nh.fulfilled,(e,t)=>{e.allUsers=t.payload,e.loading=!1}).addCase(Nh.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(xh.pending,e=>{e.saving=!0,e.error=null}).addCase(xh.fulfilled,e=>{e.saving=!1}).addCase(xh.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{updateUserField:jk,toggleUserTeam:zk,toggleUserTeamPosition:Bk}=WR.actions,Fk=WR.reducer,Hk=({user:n,availableTeams:e,adminEmail:t})=>{var d;const a=ua(),o=(p,g)=>{a(jk({id:n.id,field:p,value:g}))},l=p=>{a(zk({userId:n.id,teamName:p}))},c=(p,g)=>{a(Bk({userId:n.id,teamName:p,posName:g}))};return x.jsxs("tr",{children:[x.jsx(Vr,{name:`name-${n.id}`,value:n.name||"",onChange:p=>o("name",p.target.value),isSticky:!0}),x.jsx(Vr,{name:`email-${n.id}`,value:n.email||"",isReadOnly:!0}),x.jsx(ln,{children:x.jsxs("select",{name:`gender-${n.id}`,className:"form-select",value:n.gender,onChange:p=>o("gender",p.target.value),children:[x.jsx("option",{value:"",children:"-"}),x.jsx("option",{value:"Male",children:"Male"}),x.jsx("option",{value:"Female",children:"Female"})]})}),x.jsx(ln,{children:x.jsx(vi,{children:e.map(p=>{var _;const g=(_=n.teams)==null?void 0:_.includes(p.name);return x.jsxs(pr,{onClick:()=>l(p.name),isActive:g,children:[x.jsx("span",{children:p.emoji})," ",p.name]},p.name)})})}),x.jsx(ln,{children:(d=n.teams)==null?void 0:d.map(p=>{var _,E;const g=e.find(b=>b.name===p);return g?x.jsxs("div",{style:{marginBottom:"12px"},children:[x.jsxs("div",{style:{fontSize:"0.65rem",fontWeight:"bold",marginBottom:"4px",color:"var(--color-text-dim)",textTransform:"uppercase"},children:[g.emoji," ",g.name]}),x.jsx(vi,{children:(E=(_=g.positions)==null?void 0:_.filter(b=>!b.parentId))==null?void 0:E.map(b=>{var L,z;const C=(z=(L=n.teamPositions)==null?void 0:L[p])==null?void 0:z.includes(b.name);return x.jsx(pr,{colour:b.colour,isActive:C,onClick:()=>c(p,b.name),children:b.emoji},b.name)})})]},p):null})}),x.jsx(ln,{children:x.jsx(pr,{colour:n.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>o("isActive",!n.isActive),isActive:!0,children:n.isActive?"YES":"NO"})}),x.jsx(ln,{children:x.jsx(pr,{colour:n.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>o("isApproved",!n.isApproved),isActive:!0,children:n.isApproved?"YES":"NO"})}),x.jsx(ln,{children:x.jsx(pr,{colour:n.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>o("isAdmin",!n.isAdmin),isActive:!0,isDisabled:n.email===t,children:n.isAdmin?"YES":"NO"})})]},n.id)},qk=()=>{const n=ua(),{allUsers:e,loading:t,saving:a,error:o}=pt(d=>d.userManagement),l=pt(d=>d.teams.teams);B.useEffect(()=>{n(Nh())},[n]);const c=()=>{n(xh(e))};return t?x.jsx(Ic,{}):o?x.jsxs("div",{children:["Error: ",o]}):x.jsxs(x.Fragment,{children:[x.jsx(g_,{headers:[{text:"Name",minWidth:70,isSticky:!0},{text:"Email",minWidth:170},{text:"Gender",minWidth:90},{text:"Teams",minWidth:200},{text:"Positions",minWidth:200},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:e.map(d=>x.jsx(Hk,{user:d,availableTeams:l,adminEmail:"chris.sm.kang542@gmail.com"},d.id))}),x.jsx("div",{className:"settings-footer",children:x.jsx("button",{className:`save-button ${a?"saving":""}`,onClick:c,disabled:a,children:a?"Saving Changes...":"Save All User Changes"})})]})},Gk=()=>{const{userData:n}=pt(t=>t.auth),{section:e}=hd();return n?x.jsxs("div",{className:"settings-container",children:[e===sl.PROFILE&&x.jsx(QR,{}),e===sl.USER_MANAGEMENT&&(n.isAdmin?x.jsx(qk,{}):x.jsx("p",{children:"Access Denied"})),e===sl.TEAMS&&(n.isAdmin?x.jsx(kk,{}):x.jsx("p",{children:"Access Denied"})),e===sl.POSITIONS&&(n.isAdmin?x.jsx(Lk,{}):x.jsx("p",{children:"Access Denied"}))]}):null},$k=[{path:"/",element:x.jsx(G4,{})},{path:"/login",element:x.jsx(wk,{})},{path:"/guest",element:x.jsx(bk,{})},{path:"/app",element:x.jsx(KL,{}),children:[{path:"",element:x.jsx(yk,{}),children:[{path:"roster/:teamName?/:positionName?",element:x.jsx(Vk,{})},{path:"settings/:section?",element:x.jsx(Gk,{})}]}]}];let gb=!1;const Kk=n=>{if(!gb){gb=!0;let e;IP(bl,t=>{if(t){n.dispatch(vk(t)),n.dispatch(wh(t.uid));const a=kr(wn,"users",t.uid);e=UV(a,o=>{if(o.exists()){const l=o.data();n.dispatch(Ek(l))}})}else n.dispatch(Tk()),e&&e()})}return e=>t=>e(t)},Yk=SL({reducer:{auth:Sk,positions:qL,roster:Ik,rosterView:Ok,teams:$L,ui:hk,userManagement:Fk},middleware:n=>n({serializableCheck:{ignoredActions:["auth/setUser"],ignoredPaths:["auth.firebaseUser"]}}).concat(Kk)}),Qk=T2($k);BC.createRoot(document.getElementById("root")).render(x.jsx(_b.StrictMode,{children:x.jsx(nI,{store:Yk,children:x.jsx(L2,{children:x.jsx(q4,{children:x.jsx(V2,{router:Qk})})})})}));
