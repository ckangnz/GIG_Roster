var VC=Object.defineProperty;var PC=(n,e,t)=>e in n?VC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Fp=(n,e,t)=>PC(n,typeof e!="symbol"?e+"":e,t);function LC(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function bS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hp={exports:{}},Nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function kC(){if(BT)return Nu;BT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:a,key:c,ref:s!==void 0?s:null,props:l}}return Nu.Fragment=e,Nu.jsx=t,Nu.jsxs=t,Nu}var FT;function UC(){return FT||(FT=1,Hp.exports=kC()),Hp.exports}var w=UC(),qp={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function jC(){if(HT)return Ke;HT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function I(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function $(j,ie,de){this.props=j,this.context=ie,this.refs=L,this.updater=de||M}$.prototype.isReactComponent={},$.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},$.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function G(){}G.prototype=$.prototype;function F(j,ie,de){this.props=j,this.context=ie,this.refs=L,this.updater=de||M}var X=F.prototype=new G;X.constructor=F,z(X,$.prototype),X.isPureReactComponent=!0;var Y=Array.isArray;function q(){}var b={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(j,ie,de){var ye=de.ref;return{$$typeof:n,type:j,key:ie,ref:ye!==void 0?ye:null,props:de}}function N(j,ie){return R(j.type,ie,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function V(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(de){return ie[de]})}var O=/\/+/g;function ke(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?V(""+j.key):ie.toString(36)}function $e(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(q,q):(j.status="pending",j.then(function(ie){j.status==="pending"&&(j.status="fulfilled",j.value=ie)},function(ie){j.status==="pending"&&(j.status="rejected",j.reason=ie)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,ie,de,ye,we){var Me=typeof j;(Me==="undefined"||Me==="boolean")&&(j=null);var Qe=!1;if(j===null)Qe=!0;else switch(Me){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(j.$$typeof){case n:case e:Qe=!0;break;case v:return Qe=j._init,W(Qe(j._payload),ie,de,ye,we)}}if(Qe)return we=we(j),Qe=ye===""?"."+ke(j,0):ye,Y(we)?(de="",Qe!=null&&(de=Qe.replace(O,"$&/")+"/"),W(we,ie,de,"",function(Ir){return Ir})):we!=null&&(x(we)&&(we=N(we,de+(we.key==null||j&&j.key===we.key?"":(""+we.key).replace(O,"$&/")+"/")+Qe)),ie.push(we)),1;Qe=0;var wt=ye===""?".":ye+":";if(Y(j))for(var vt=0;vt<j.length;vt++)ye=j[vt],Me=wt+ke(ye,vt),Qe+=W(ye,ie,de,Me,we);else if(vt=I(j),typeof vt=="function")for(j=vt.call(j),vt=0;!(ye=j.next()).done;)ye=ye.value,Me=wt+ke(ye,vt++),Qe+=W(ye,ie,de,Me,we);else if(Me==="object"){if(typeof j.then=="function")return W($e(j),ie,de,ye,we);throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function he(j,ie,de){if(j==null)return j;var ye=[],we=0;return W(j,ye,"","",function(Me){return ie.call(de,Me,we++)}),ye}function me(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(de){(j._status===0||j._status===-1)&&(j._status=1,j._result=de)},function(de){(j._status===0||j._status===-1)&&(j._status=2,j._result=de)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var Ve=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},De={map:he,forEach:function(j,ie,de){he(j,function(){ie.apply(this,arguments)},de)},count:function(j){var ie=0;return he(j,function(){ie++}),ie},toArray:function(j){return he(j,function(ie){return ie})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ke.Activity=E,Ke.Children=De,Ke.Component=$,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=F,Ke.StrictMode=a,Ke.Suspense=p,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(j){return b.H.useMemoCache(j)}},Ke.cache=function(j){return function(){return j.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(j,ie,de){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ye=z({},j.props),we=j.key;if(ie!=null)for(Me in ie.key!==void 0&&(we=""+ie.key),ie)!A.call(ie,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ie.ref===void 0||(ye[Me]=ie[Me]);var Me=arguments.length-2;if(Me===1)ye.children=de;else if(1<Me){for(var Qe=Array(Me),wt=0;wt<Me;wt++)Qe[wt]=arguments[wt+2];ye.children=Qe}return R(j.type,we,ye)},Ke.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ke.createElement=function(j,ie,de){var ye,we={},Me=null;if(ie!=null)for(ye in ie.key!==void 0&&(Me=""+ie.key),ie)A.call(ie,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(we[ye]=ie[ye]);var Qe=arguments.length-2;if(Qe===1)we.children=de;else if(1<Qe){for(var wt=Array(Qe),vt=0;vt<Qe;vt++)wt[vt]=arguments[vt+2];we.children=wt}if(j&&j.defaultProps)for(ye in Qe=j.defaultProps,Qe)we[ye]===void 0&&(we[ye]=Qe[ye]);return R(j,Me,we)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(j){return{$$typeof:d,render:j}},Ke.isValidElement=x,Ke.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:me}},Ke.memo=function(j,ie){return{$$typeof:g,type:j,compare:ie===void 0?null:ie}},Ke.startTransition=function(j){var ie=b.T,de={};b.T=de;try{var ye=j(),we=b.S;we!==null&&we(de,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(q,Ve)}catch(Me){Ve(Me)}finally{ie!==null&&de.types!==null&&(ie.types=de.types),b.T=ie}},Ke.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},Ke.use=function(j){return b.H.use(j)},Ke.useActionState=function(j,ie,de){return b.H.useActionState(j,ie,de)},Ke.useCallback=function(j,ie){return b.H.useCallback(j,ie)},Ke.useContext=function(j){return b.H.useContext(j)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(j,ie){return b.H.useDeferredValue(j,ie)},Ke.useEffect=function(j,ie){return b.H.useEffect(j,ie)},Ke.useEffectEvent=function(j){return b.H.useEffectEvent(j)},Ke.useId=function(){return b.H.useId()},Ke.useImperativeHandle=function(j,ie,de){return b.H.useImperativeHandle(j,ie,de)},Ke.useInsertionEffect=function(j,ie){return b.H.useInsertionEffect(j,ie)},Ke.useLayoutEffect=function(j,ie){return b.H.useLayoutEffect(j,ie)},Ke.useMemo=function(j,ie){return b.H.useMemo(j,ie)},Ke.useOptimistic=function(j,ie){return b.H.useOptimistic(j,ie)},Ke.useReducer=function(j,ie,de){return b.H.useReducer(j,ie,de)},Ke.useRef=function(j){return b.H.useRef(j)},Ke.useState=function(j){return b.H.useState(j)},Ke.useSyncExternalStore=function(j,ie,de){return b.H.useSyncExternalStore(j,ie,de)},Ke.useTransition=function(){return b.H.useTransition()},Ke.version="19.2.4",Ke}var qT;function dd(){return qT||(qT=1,qp.exports=jC()),qp.exports}var P=dd();const SS=bS(P),zC=LC({__proto__:null,default:SS},[P]);var Gp={exports:{}},xu={},$p={exports:{}},Kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function BC(){return GT||(GT=1,(function(n){function e(W,he){var me=W.length;W.push(he);e:for(;0<me;){var Ve=me-1>>>1,De=W[Ve];if(0<s(De,he))W[Ve]=he,W[me]=De,me=Ve;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var he=W[0],me=W.pop();if(me!==he){W[0]=me;e:for(var Ve=0,De=W.length,j=De>>>1;Ve<j;){var ie=2*(Ve+1)-1,de=W[ie],ye=ie+1,we=W[ye];if(0>s(de,me))ye<De&&0>s(we,de)?(W[Ve]=we,W[ye]=me,Ve=ye):(W[Ve]=de,W[ie]=me,Ve=ie);else if(ye<De&&0>s(we,me))W[Ve]=we,W[ye]=me,Ve=ye;else break e}}return he}function s(W,he){var me=W.sortIndex-he.sortIndex;return me!==0?me:W.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,S=3,I=!1,M=!1,z=!1,L=!1,$=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function X(W){for(var he=t(g);he!==null;){if(he.callback===null)a(g);else if(he.startTime<=W)a(g),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(g)}}function Y(W){if(z=!1,X(W),!M)if(t(p)!==null)M=!0,q||(q=!0,V());else{var he=t(g);he!==null&&$e(Y,he.startTime-W)}}var q=!1,b=-1,A=5,R=-1;function N(){return L?!0:!(n.unstable_now()-R<A)}function x(){if(L=!1,q){var W=n.unstable_now();R=W;var he=!0;try{e:{M=!1,z&&(z=!1,G(b),b=-1),I=!0;var me=S;try{t:{for(X(W),E=t(p);E!==null&&!(E.expirationTime>W&&N());){var Ve=E.callback;if(typeof Ve=="function"){E.callback=null,S=E.priorityLevel;var De=Ve(E.expirationTime<=W);if(W=n.unstable_now(),typeof De=="function"){E.callback=De,X(W),he=!0;break t}E===t(p)&&a(p),X(W)}else a(p);E=t(p)}if(E!==null)he=!0;else{var j=t(g);j!==null&&$e(Y,j.startTime-W),he=!1}}break e}finally{E=null,S=me,I=!1}he=void 0}}finally{he?V():q=!1}}}var V;if(typeof F=="function")V=function(){F(x)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ke=O.port2;O.port1.onmessage=x,V=function(){ke.postMessage(null)}}else V=function(){$(x,0)};function $e(W,he){b=$(function(){W(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(W){switch(S){case 1:case 2:case 3:var he=3;break;default:he=S}var me=S;S=he;try{return W()}finally{S=me}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(W,he){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=S;S=W;try{return he()}finally{S=me}},n.unstable_scheduleCallback=function(W,he,me){var Ve=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ve+me:Ve):me=Ve,W){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=me+De,W={id:v++,callback:he,priorityLevel:W,startTime:me,expirationTime:De,sortIndex:-1},me>Ve?(W.sortIndex=me,e(g,W),t(p)===null&&W===t(g)&&(z?(G(b),b=-1):z=!0,$e(Y,me-Ve))):(W.sortIndex=De,e(p,W),M||I||(M=!0,q||(q=!0,V()))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var he=S;return function(){var me=S;S=he;try{return W.apply(this,arguments)}finally{S=me}}}})(Kp)),Kp}var $T;function FC(){return $T||($T=1,$p.exports=BC()),$p.exports}var Yp={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function HC(){if(KT)return Ln;KT=1;var n=dd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ln.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},Ln.flushSync=function(p){var g=c.T,v=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=v,a.d.f()}},Ln.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Ln.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ln.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:I}):v==="script"&&a.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ln.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Ln.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ln.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Ln.requestFormReset=function(p){a.d.r(p)},Ln.unstable_batchedUpdates=function(p,g){return p(g)},Ln.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ln.version="19.2.4",Ln}var YT;function AS(){if(YT)return Yp.exports;YT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yp.exports=HC(),Yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function qC(){if(QT)return xu;QT=1;var n=FC(),e=dd(),t=AS();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(a(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var o=r,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),r;if(m===u)return p(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,C=f.child;C;){if(C===o){_=!0,o=f,u=m;break}if(C===u){_=!0,u=f,o=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===o){_=!0,o=m,u=f;break}if(C===u){_=!0,u=m,o=f;break}C=C.sibling}if(!_)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:i}function v(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=v(r),i!==null)return i;r=r.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),F=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=x&&r[x]||r["@@iterator"],typeof r=="function"?r:null)}var O=Symbol.for("react.client.reference");function ke(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===O?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case $:return"Profiler";case L:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case F:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case X:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case b:return i=r.displayName||null,i!==null?i:ke(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return ke(r(i))}catch{}}return null}var $e=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ve=[],De=-1;function j(r){return{current:r}}function ie(r){0>De||(r.current=Ve[De],Ve[De]=null,De--)}function de(r,i){De++,Ve[De]=r.current,r.current=i}var ye=j(null),we=j(null),Me=j(null),Qe=j(null);function wt(r,i){switch(de(Me,i),de(we,r),de(ye,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?cT(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=cT(i),r=hT(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(ye),de(ye,r)}function vt(){ie(ye),ie(we),ie(Me)}function Ir(r){r.memoizedState!==null&&de(Qe,r);var i=ye.current,o=hT(i,r.type);i!==o&&(de(we,r),de(ye,o))}function Yr(r){we.current===r&&(ie(ye),ie(we)),Qe.current===r&&(ie(Qe),Ru._currentValue=me)}var Lt,An;function se(r){if(Lt===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Lt=i&&i[1]||"",An=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+r+An}var Ee=!1;function Oe(r,i){if(!r||Ee)return"";Ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(re){var te=re}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(re){te=re}r.call(ue.prototype)}}else{try{throw Error()}catch(re){te=re}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],C=m[1];if(_&&C){var U=_.split(`
`),Z=C.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===Z.length)for(u=U.length-1,f=Z.length-1;1<=u&&0<=f&&U[u]!==Z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==Z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==Z[f]){var ae=`
`+U[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=f);break}}}finally{Ee=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?se(o):""}function Ue(r,i){switch(r.tag){case 26:case 27:case 5:return se(r.type);case 16:return se("Lazy");case 13:return r.child!==i&&i!==null?se("Suspense Fallback"):se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return Oe(r.type,!1);case 11:return Oe(r.type.render,!1);case 1:return Oe(r.type,!0);case 31:return se("Activity");default:return""}}function Fe(r){try{var i="",o=null;do i+=Ue(r,o),o=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var be=Object.prototype.hasOwnProperty,Xe=n.unstable_scheduleCallback,gt=n.unstable_cancelCallback,yt=n.unstable_shouldYield,Bt=n.unstable_requestPaint,nt=n.unstable_now,or=n.unstable_getCurrentPriorityLevel,ya=n.unstable_ImmediatePriority,Li=n.unstable_UserBlockingPriority,En=n.unstable_NormalPriority,lr=n.unstable_LowPriority,Ts=n.unstable_IdlePriority,po=n.log,va=n.unstable_setDisableYieldValue,ur=null,Vt=null;function Fn(r){if(typeof po=="function"&&va(r),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(ur,r)}catch{}}var $t=Math.clz32?Math.clz32:Ss,bs=Math.log,_a=Math.LN2;function Ss(r){return r>>>=0,r===0?32:31-(bs(r)/_a|0)|0}var Hn=256,ci=262144,Kt=4194304;function Dr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function cr(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var C=u&134217727;return C!==0?(u=C&~m,u!==0?f=Dr(u):(_&=C,_!==0?f=Dr(_):o||(o=C&~r,o!==0&&(f=Dr(o))))):(C=u&~m,C!==0?f=Dr(C):_!==0?f=Dr(_):o||(o=u&~r,o!==0&&(f=Dr(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function hr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function go(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(){var r=Kt;return Kt<<=1,(Kt&62914560)===0&&(Kt=4194304),r}function qn(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function hi(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ul(r,i,o,u,f,m){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,U=r.expirationTimes,Z=r.hiddenUpdates;for(o=_&~o;0<o;){var ae=31-$t(o),ue=1<<ae;C[ae]=0,U[ae]=-1;var te=Z[ae];if(te!==null)for(Z[ae]=null,ae=0;ae<te.length;ae++){var re=te[ae];re!==null&&(re.lane&=-536870913)}o&=~ue}u!==0&&Ui(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~i))}function Ui(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-$t(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function k(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-$t(o),f=1<<u;f&i|r[u]&i&&(r[u]|=i),o&=~f}}function H(r,i){var o=i&-i;return o=(o&42)!==0?1:ee(o),(o&(r.suspendedLanes|i))!==0?0:o}function ee(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fe(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pe(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:VT(r.type))}function Se(r,i){var o=he.p;try{return he.p=r,i()}finally{he.p=o}}var Ce=Math.random().toString(36).slice(2),ge="__reactFiber$"+Ce,_e="__reactProps$"+Ce,Re="__reactContainer$"+Ce,ze="__reactEvents$"+Ce,xe="__reactListeners$"+Ce,qe="__reactHandles$"+Ce,rt="__reactResources$"+Ce,It="__reactMarker$"+Ce;function Ft(r){delete r[ge],delete r[_e],delete r[ze],delete r[xe],delete r[qe]}function kt(r){var i=r[ge];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Re]||o[ge]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=vT(r);r!==null;){if(o=r[ge])return o;r=vT(r)}return i}r=o,o=r.parentNode}return null}function Ze(r){if(r=r[ge]||r[Re]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Ut(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Tn(r){var i=r[rt];return i||(i=r[rt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(r){r[It]=!0}var Xn=new Set,Vn={};function Wn(r,i){Pn(r,i),Pn(r+"Capture",i)}function Pn(r,i){for(Vn[r]=i,r=0;r<i.length;r++)Xn.add(i[r])}var fr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fi={},di={};function at(r){return be.call(di,r)?!0:be.call(fi,r)?!1:fr.test(r)?di[r]=!0:(fi[r]=!0,!1)}function Xt(r,i,o){if(at(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function ln(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Dt(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function et(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dr(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ea(r,i,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Tt(r){if(!r._valueTracker){var i=dr(r)?"checked":"value";r._valueTracker=Ea(r,i,""+r[i])}}function As(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=dr(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function mi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ws=/[\n"\\]/g;function Jn(r){return r.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yo(r,i,o,u,f,m,_,C){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),i!=null?_==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+et(i)):r.value!==""+et(i)&&(r.value=""+et(i)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),i!=null?jl(r,_,et(i)):o!=null?jl(r,_,et(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+et(C):r.removeAttribute("name")}function Pc(r,i,o,u,f,m,_,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Tt(r);return}o=o!=null?""+et(o):"",i=i!=null?""+et(i):o,C||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=C?r.checked:!!u,r.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),Tt(r)}function jl(r,i,o){i==="number"&&mi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ta(r,i,o,u){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+et(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Lc(r,i,o){if(i!=null&&(i=""+et(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+et(o):""}function ba(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if($e(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=et(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Tt(r)}function Zn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||kc.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Bl(r,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&zl(r,f,u)}else for(var m in i)i.hasOwnProperty(m)&&zl(r,m,i[m])}function vo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(r){return Sa.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Qr(){}var Fl=null;function Nr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Aa=null,pi=null;function Rs(r){var i=Ze(r);if(i&&(r=i.stateNode)){var o=r[_e]||null;e:switch(r=i.stateNode,i.type){case"input":if(yo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Jn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var f=u[_e]||null;if(!f)throw Error(a(90));yo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&As(u)}break e;case"textarea":Lc(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ta(r,!!o.multiple,i,!1)}}}var Eo=!1;function wa(r,i,o){if(Eo)return r(i,o);Eo=!0;try{var u=r(i);return u}finally{if(Eo=!1,(Aa!==null||pi!==null)&&(xh(),Aa&&(i=Aa,r=pi,pi=Aa=null,Rs(i),r)))for(i=0;i<r.length;i++)Rs(r[i])}}function Xr(r,i){var o=r.stateNode;if(o===null)return null;var u=o[_e]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(xr)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{Cs=!1}var gi=null,Hl=null,Is=null;function ql(){if(Is)return Is;var r,i=Hl,o=i.length,u,f="value"in gi?gi.value:gi.textContent,m=f.length;for(r=0;r<o&&i[r]===f[r];r++);var _=o-r;for(u=1;u<=_&&i[o-u]===f[m-u];u++);return Is=f.slice(r,1<u?1-u:void 0)}function Ds(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ji(){return!0}function Wr(){return!1}function wn(r){function i(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ji:Wr,this.isPropagationStopped=Wr,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=wn(zi),Ra=E({},zi,{view:0,detail:0}),Gl=wn(Ra),Ca,To,vi,bo=E({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ia,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vi&&(vi&&r.type==="mousemove"?(Ca=r.screenX-vi.screenX,To=r.screenY-vi.screenY):To=Ca=0,vi=r),Ca)},movementY:function(r){return"movementY"in r?r.movementY:To}}),$l=wn(bo),Ns=E({},bo,{dataTransfer:0}),jc=wn(Ns),zc=E({},Ra,{relatedTarget:0}),xs=wn(zc),Kl=E({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bc=wn(Kl),So=E({},zi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fc=wn(So),Hc=E({},zi,{data:0}),_i=wn(Hc),qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=$c[r])?!!i[r]:!1}function Ia(){return Kc}var Gn=E({},Ra,{key:function(r){if(r.key){var i=qc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ds(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ia,charCode:function(r){return r.type==="keypress"?Ds(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ds(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yc=wn(Gn),Qc=E({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=wn(Qc),h=E({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ia}),y=wn(h),T=E({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=wn(T),Q=E({},bo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=wn(Q),ve=E({},zi,{newState:0,oldState:0}),We=wn(ve),nn=[9,13,27,32],bt=xr&&"CompositionEvent"in window,Yt=null;xr&&"documentMode"in document&&(Yt=document.documentMode);var Or=xr&&"TextEvent"in window&&!Yt,Ei=xr&&(!bt||Yt&&8<Yt&&11>=Yt),Jr=" ",Zr=!1;function Os(r,i){switch(r){case"keyup":return nn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var wo=!1;function i1(r,i){switch(r){case"compositionend":return Ao(i);case"keypress":return i.which!==32?null:(Zr=!0,Jr);case"textInput":return r=i.data,r===Jr&&Zr?null:r;default:return null}}function a1(r,i){if(wo)return r==="compositionend"||!bt&&Os(r,i)?(r=ql(),Is=Hl=gi=null,wo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var s1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!s1[r.type]:i==="textarea"}function bv(r,i,o,u){Aa?pi?pi.push(u):pi=[u]:Aa=u,i=Uh(i,"onChange"),0<i.length&&(o=new yi("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var Yl=null,Ql=null;function o1(r){iT(r,0)}function Xc(r){var i=Ut(r);if(As(i))return r}function Sv(r,i){if(r==="change")return i}var Av=!1;if(xr){var Qd;if(xr){var Xd="oninput"in document;if(!Xd){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),Xd=typeof wv.oninput=="function"}Qd=Xd}else Qd=!1;Av=Qd&&(!document.documentMode||9<document.documentMode)}function Rv(){Yl&&(Yl.detachEvent("onpropertychange",Cv),Ql=Yl=null)}function Cv(r){if(r.propertyName==="value"&&Xc(Ql)){var i=[];bv(i,Ql,r,Nr(r)),wa(o1,i)}}function l1(r,i,o){r==="focusin"?(Rv(),Yl=i,Ql=o,Yl.attachEvent("onpropertychange",Cv)):r==="focusout"&&Rv()}function u1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xc(Ql)}function c1(r,i){if(r==="click")return Xc(i)}function h1(r,i){if(r==="input"||r==="change")return Xc(i)}function f1(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var mr=typeof Object.is=="function"?Object.is:f1;function Xl(r,i){if(mr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!be.call(i,f)||!mr(r[f],i[f]))return!1}return!0}function Iv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Dv(r,i){var o=Iv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Iv(o)}}function Nv(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Nv(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function xv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=mi(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=mi(r.document)}return i}function Wd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var d1=xr&&"documentMode"in document&&11>=document.documentMode,Ro=null,Jd=null,Wl=null,Zd=!1;function Ov(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zd||Ro==null||Ro!==mi(u)||(u=Ro,"selectionStart"in u&&Wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wl&&Xl(Wl,u)||(Wl=u,u=Uh(Jd,"onSelect"),0<u.length&&(i=new yi("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=Ro)))}function Ms(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Co={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},em={},Mv={};xr&&(Mv=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Vs(r){if(em[r])return em[r];if(!Co[r])return r;var i=Co[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Mv)return em[r]=i[o];return r}var Vv=Vs("animationend"),Pv=Vs("animationiteration"),Lv=Vs("animationstart"),m1=Vs("transitionrun"),p1=Vs("transitionstart"),g1=Vs("transitioncancel"),kv=Vs("transitionend"),Uv=new Map,tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tm.push("scrollEnd");function ei(r,i){Uv.set(r,i),Wn(i,[r])}var Wc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Mr=[],Io=0,nm=0;function Jc(){for(var r=Io,i=nm=Io=0;i<r;){var o=Mr[i];Mr[i++]=null;var u=Mr[i];Mr[i++]=null;var f=Mr[i];Mr[i++]=null;var m=Mr[i];if(Mr[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&jv(o,f,m)}}function Zc(r,i,o,u){Mr[Io++]=r,Mr[Io++]=i,Mr[Io++]=o,Mr[Io++]=u,nm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function rm(r,i,o,u){return Zc(r,i,o,u),eh(r)}function Ps(r,i){return Zc(r,null,null,i),eh(r)}function jv(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&i!==null&&(f=31-$t(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function eh(r){if(50<_u)throw _u=0,fp=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Do={};function y1(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,i,o,u){return new y1(r,i,o,u)}function im(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fi(r,i){var o=r.alternate;return o===null?(o=pr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function zv(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function th(r,i,o,u,f,m){var _=0;if(u=r,typeof r=="function")im(r)&&(_=1);else if(typeof r=="string")_=bC(r,o,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=pr(31,o,i,f),r.elementType=R,r.lanes=m,r;case z:return Ls(o.children,f,m,i);case L:_=8,f|=24;break;case $:return r=pr(12,o,i,f|2),r.elementType=$,r.lanes=m,r;case Y:return r=pr(13,o,i,f),r.elementType=Y,r.lanes=m,r;case q:return r=pr(19,o,i,f),r.elementType=q,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:_=10;break e;case G:_=9;break e;case X:_=11;break e;case b:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=pr(_,o,i,f),i.elementType=r,i.type=u,i.lanes=m,i}function Ls(r,i,o,u){return r=pr(7,r,u,i),r.lanes=o,r}function am(r,i,o){return r=pr(6,r,null,i),r.lanes=o,r}function Bv(r){var i=pr(18,null,null,0);return i.stateNode=r,i}function sm(r,i,o){return i=pr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Fv=new WeakMap;function Vr(r,i){if(typeof r=="object"&&r!==null){var o=Fv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Fe(i)},Fv.set(r,i),i)}return{value:r,source:i,stack:Fe(i)}}var No=[],xo=0,nh=null,Jl=0,Pr=[],Lr=0,Da=null,Ti=1,bi="";function Hi(r,i){No[xo++]=Jl,No[xo++]=nh,nh=r,Jl=i}function Hv(r,i,o){Pr[Lr++]=Ti,Pr[Lr++]=bi,Pr[Lr++]=Da,Da=r;var u=Ti;r=bi;var f=32-$t(u)-1;u&=~(1<<f),o+=1;var m=32-$t(i)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Ti=1<<32-$t(i)+f|o<<f|u,bi=m+r}else Ti=1<<m|o<<f|u,bi=r}function om(r){r.return!==null&&(Hi(r,1),Hv(r,1,0))}function lm(r){for(;r===nh;)nh=No[--xo],No[xo]=null,Jl=No[--xo],No[xo]=null;for(;r===Da;)Da=Pr[--Lr],Pr[Lr]=null,bi=Pr[--Lr],Pr[Lr]=null,Ti=Pr[--Lr],Pr[Lr]=null}function qv(r,i){Pr[Lr++]=Ti,Pr[Lr++]=bi,Pr[Lr++]=Da,Ti=i.id,bi=i.overflow,Da=r}var Rn=null,Ht=null,dt=!1,Na=null,kr=!1,um=Error(a(519));function xa(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Vr(i,r)),um}function Gv(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[ge]=r,i[_e]=u,o){case"dialog":ot("cancel",i),ot("close",i);break;case"iframe":case"object":case"embed":ot("load",i);break;case"video":case"audio":for(o=0;o<Tu.length;o++)ot(Tu[o],i);break;case"source":ot("error",i);break;case"img":case"image":case"link":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"input":ot("invalid",i),Pc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ot("invalid",i);break;case"textarea":ot("invalid",i),ba(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||lT(i.textContent,o)?(u.popover!=null&&(ot("beforetoggle",i),ot("toggle",i)),u.onScroll!=null&&ot("scroll",i),u.onScrollEnd!=null&&ot("scrollend",i),u.onClick!=null&&(i.onclick=Qr),i=!0):i=!1,i||xa(r,!0)}function $v(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 31:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:Rn=Rn.return}}function Oo(r){if(r!==Rn)return!1;if(!dt)return $v(r),dt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Cp(r.type,r.memoizedProps)),o=!o),o&&Ht&&xa(r),$v(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Ht=yT(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Ht=yT(r)}else i===27?(i=Ht,Ga(r.type)?(r=Op,Op=null,Ht=r):Ht=i):Ht=Rn?jr(r.stateNode.nextSibling):null;return!0}function ks(){Ht=Rn=null,dt=!1}function cm(){var r=Na;return r!==null&&(rr===null?rr=r:rr.push.apply(rr,r),Na=null),r}function Zl(r){Na===null?Na=[r]:Na.push(r)}var hm=j(null),Us=null,qi=null;function Oa(r,i,o){de(hm,i._currentValue),i._currentValue=o}function Gi(r){r._currentValue=hm.current,ie(hm)}function fm(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function dm(r,i,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var U=0;U<i.length;U++)if(C.context===i[U]){m.lanes|=o,C=m.alternate,C!==null&&(C.lanes|=o),fm(m.return,o,r),u||(_=null);break e}m=C.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),fm(_,o,r),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Mo(r,i,o,u){r=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var C=f.type;mr(f.pendingProps.value,_.value)||(r!==null?r.push(C):r=[C])}}else if(f===Qe.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Ru):r=[Ru])}f=f.return}r!==null&&dm(i,r,o,u),i.flags|=262144}function rh(r){for(r=r.firstContext;r!==null;){if(!mr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function js(r){Us=r,qi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return Kv(Us,r)}function ih(r,i){return Us===null&&js(r),Kv(r,i)}function Kv(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},qi===null){if(r===null)throw Error(a(308));qi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else qi=qi.next=i;return o}var v1=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},_1=n.unstable_scheduleCallback,E1=n.unstable_NormalPriority,un={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mm(){return{controller:new v1,data:new Map,refCount:0}}function eu(r){r.refCount--,r.refCount===0&&_1(E1,function(){r.controller.abort()})}var tu=null,pm=0,Vo=0,Po=null;function T1(r,i){if(tu===null){var o=tu=[];pm=0,Vo=vp(),Po={status:"pending",value:void 0,then:function(u){o.push(u)}}}return pm++,i.then(Yv,Yv),i}function Yv(){if(--pm===0&&tu!==null){Po!==null&&(Po.status="fulfilled");var r=tu;tu=null,Vo=0,Po=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function b1(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Qv=W.S;W.S=function(r,i){OE=nt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&T1(r,i),Qv!==null&&Qv(r,i)};var zs=j(null);function gm(){var r=zs.current;return r!==null?r:Pt.pooledCache}function ah(r,i){i===null?de(zs,zs.current):de(zs,i.pool)}function Xv(){var r=gm();return r===null?null:{parent:un._currentValue,pool:r}}var Lo=Error(a(460)),ym=Error(a(474)),sh=Error(a(542)),oh={then:function(){}};function Wv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Qr,Qr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e_(r),r;default:if(typeof i.status=="string")i.then(Qr,Qr);else{if(r=Pt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e_(r),r}throw Fs=i,Lo}}function Bs(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Fs=o,Lo):o}}var Fs=null;function Zv(){if(Fs===null)throw Error(a(459));var r=Fs;return Fs=null,r}function e_(r){if(r===Lo||r===sh)throw Error(a(483))}var ko=null,nu=0;function lh(r){var i=nu;return nu+=1,ko===null&&(ko=[]),Jv(ko,r,i)}function ru(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function uh(r,i){throw i.$$typeof===S?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function t_(r){function i(K,B){if(r){var J=K.deletions;J===null?(K.deletions=[B],K.flags|=16):J.push(B)}}function o(K,B){if(!r)return null;for(;B!==null;)i(K,B),B=B.sibling;return null}function u(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function f(K,B){return K=Fi(K,B),K.index=0,K.sibling=null,K}function m(K,B,J){return K.index=J,r?(J=K.alternate,J!==null?(J=J.index,J<B?(K.flags|=67108866,B):J):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function _(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function C(K,B,J,oe){return B===null||B.tag!==6?(B=am(J,K.mode,oe),B.return=K,B):(B=f(B,J),B.return=K,B)}function U(K,B,J,oe){var Pe=J.type;return Pe===z?ae(K,B,J.props.children,oe,J.key):B!==null&&(B.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===A&&Bs(Pe)===B.type)?(B=f(B,J.props),ru(B,J),B.return=K,B):(B=th(J.type,J.key,J.props,null,K.mode,oe),ru(B,J),B.return=K,B)}function Z(K,B,J,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==J.containerInfo||B.stateNode.implementation!==J.implementation?(B=sm(J,K.mode,oe),B.return=K,B):(B=f(B,J.children||[]),B.return=K,B)}function ae(K,B,J,oe,Pe){return B===null||B.tag!==7?(B=Ls(J,K.mode,oe,Pe),B.return=K,B):(B=f(B,J),B.return=K,B)}function ue(K,B,J){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=am(""+B,K.mode,J),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return J=th(B.type,B.key,B.props,null,K.mode,J),ru(J,B),J.return=K,J;case M:return B=sm(B,K.mode,J),B.return=K,B;case A:return B=Bs(B),ue(K,B,J)}if($e(B)||V(B))return B=Ls(B,K.mode,J,null),B.return=K,B;if(typeof B.then=="function")return ue(K,lh(B),J);if(B.$$typeof===F)return ue(K,ih(K,B),J);uh(K,B)}return null}function te(K,B,J,oe){var Pe=B!==null?B.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pe!==null?null:C(K,B,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===Pe?U(K,B,J,oe):null;case M:return J.key===Pe?Z(K,B,J,oe):null;case A:return J=Bs(J),te(K,B,J,oe)}if($e(J)||V(J))return Pe!==null?null:ae(K,B,J,oe,null);if(typeof J.then=="function")return te(K,B,lh(J),oe);if(J.$$typeof===F)return te(K,B,ih(K,J),oe);uh(K,J)}return null}function re(K,B,J,oe,Pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(J)||null,C(B,K,""+oe,Pe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:return K=K.get(oe.key===null?J:oe.key)||null,U(B,K,oe,Pe);case M:return K=K.get(oe.key===null?J:oe.key)||null,Z(B,K,oe,Pe);case A:return oe=Bs(oe),re(K,B,J,oe,Pe)}if($e(oe)||V(oe))return K=K.get(J)||null,ae(B,K,oe,Pe,null);if(typeof oe.then=="function")return re(K,B,J,lh(oe),Pe);if(oe.$$typeof===F)return re(K,B,J,ih(B,oe),Pe);uh(B,oe)}return null}function Ie(K,B,J,oe){for(var Pe=null,_t=null,Ne=B,tt=B=0,ut=null;Ne!==null&&tt<J.length;tt++){Ne.index>tt?(ut=Ne,Ne=null):ut=Ne.sibling;var Et=te(K,Ne,J[tt],oe);if(Et===null){Ne===null&&(Ne=ut);break}r&&Ne&&Et.alternate===null&&i(K,Ne),B=m(Et,B,tt),_t===null?Pe=Et:_t.sibling=Et,_t=Et,Ne=ut}if(tt===J.length)return o(K,Ne),dt&&Hi(K,tt),Pe;if(Ne===null){for(;tt<J.length;tt++)Ne=ue(K,J[tt],oe),Ne!==null&&(B=m(Ne,B,tt),_t===null?Pe=Ne:_t.sibling=Ne,_t=Ne);return dt&&Hi(K,tt),Pe}for(Ne=u(Ne);tt<J.length;tt++)ut=re(Ne,K,tt,J[tt],oe),ut!==null&&(r&&ut.alternate!==null&&Ne.delete(ut.key===null?tt:ut.key),B=m(ut,B,tt),_t===null?Pe=ut:_t.sibling=ut,_t=ut);return r&&Ne.forEach(function(Xa){return i(K,Xa)}),dt&&Hi(K,tt),Pe}function je(K,B,J,oe){if(J==null)throw Error(a(151));for(var Pe=null,_t=null,Ne=B,tt=B=0,ut=null,Et=J.next();Ne!==null&&!Et.done;tt++,Et=J.next()){Ne.index>tt?(ut=Ne,Ne=null):ut=Ne.sibling;var Xa=te(K,Ne,Et.value,oe);if(Xa===null){Ne===null&&(Ne=ut);break}r&&Ne&&Xa.alternate===null&&i(K,Ne),B=m(Xa,B,tt),_t===null?Pe=Xa:_t.sibling=Xa,_t=Xa,Ne=ut}if(Et.done)return o(K,Ne),dt&&Hi(K,tt),Pe;if(Ne===null){for(;!Et.done;tt++,Et=J.next())Et=ue(K,Et.value,oe),Et!==null&&(B=m(Et,B,tt),_t===null?Pe=Et:_t.sibling=Et,_t=Et);return dt&&Hi(K,tt),Pe}for(Ne=u(Ne);!Et.done;tt++,Et=J.next())Et=re(Ne,K,tt,Et.value,oe),Et!==null&&(r&&Et.alternate!==null&&Ne.delete(Et.key===null?tt:Et.key),B=m(Et,B,tt),_t===null?Pe=Et:_t.sibling=Et,_t=Et);return r&&Ne.forEach(function(MC){return i(K,MC)}),dt&&Hi(K,tt),Pe}function Mt(K,B,J,oe){if(typeof J=="object"&&J!==null&&J.type===z&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var Pe=J.key;B!==null;){if(B.key===Pe){if(Pe=J.type,Pe===z){if(B.tag===7){o(K,B.sibling),oe=f(B,J.props.children),oe.return=K,K=oe;break e}}else if(B.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===A&&Bs(Pe)===B.type){o(K,B.sibling),oe=f(B,J.props),ru(oe,J),oe.return=K,K=oe;break e}o(K,B);break}else i(K,B);B=B.sibling}J.type===z?(oe=Ls(J.props.children,K.mode,oe,J.key),oe.return=K,K=oe):(oe=th(J.type,J.key,J.props,null,K.mode,oe),ru(oe,J),oe.return=K,K=oe)}return _(K);case M:e:{for(Pe=J.key;B!==null;){if(B.key===Pe)if(B.tag===4&&B.stateNode.containerInfo===J.containerInfo&&B.stateNode.implementation===J.implementation){o(K,B.sibling),oe=f(B,J.children||[]),oe.return=K,K=oe;break e}else{o(K,B);break}else i(K,B);B=B.sibling}oe=sm(J,K.mode,oe),oe.return=K,K=oe}return _(K);case A:return J=Bs(J),Mt(K,B,J,oe)}if($e(J))return Ie(K,B,J,oe);if(V(J)){if(Pe=V(J),typeof Pe!="function")throw Error(a(150));return J=Pe.call(J),je(K,B,J,oe)}if(typeof J.then=="function")return Mt(K,B,lh(J),oe);if(J.$$typeof===F)return Mt(K,B,ih(K,J),oe);uh(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,B!==null&&B.tag===6?(o(K,B.sibling),oe=f(B,J),oe.return=K,K=oe):(o(K,B),oe=am(J,K.mode,oe),oe.return=K,K=oe),_(K)):o(K,B)}return function(K,B,J,oe){try{nu=0;var Pe=Mt(K,B,J,oe);return ko=null,Pe}catch(Ne){if(Ne===Lo||Ne===sh)throw Ne;var _t=pr(29,Ne,null,K.mode);return _t.lanes=oe,_t.return=K,_t}finally{}}}var Hs=t_(!0),n_=t_(!1),Ma=!1;function vm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Va(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pa(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(St&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=eh(r),jv(r,null,o),i}return Zc(r,u,i,o),eh(r)}function iu(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,k(r,o)}}function Em(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Tm=!1;function au(){if(Tm){var r=Po;if(r!==null)throw r}}function su(r,i,o,u){Tm=!1;var f=r.updateQueue;Ma=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var U=C,Z=U.next;U.next=null,_===null?m=Z:_.next=Z,_=U;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,C=ae.lastBaseUpdate,C!==_&&(C===null?ae.firstBaseUpdate=Z:C.next=Z,ae.lastBaseUpdate=U))}if(m!==null){var ue=f.baseState;_=0,ae=Z=U=null,C=m;do{var te=C.lane&-536870913,re=te!==C.lane;if(re?(lt&te)===te:(u&te)===te){te!==0&&te===Vo&&(Tm=!0),ae!==null&&(ae=ae.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ie=r,je=C;te=i;var Mt=o;switch(je.tag){case 1:if(Ie=je.payload,typeof Ie=="function"){ue=Ie.call(Mt,ue,te);break e}ue=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=je.payload,te=typeof Ie=="function"?Ie.call(Mt,ue,te):Ie,te==null)break e;ue=E({},ue,te);break e;case 2:Ma=!0}}te=C.callback,te!==null&&(r.flags|=64,re&&(r.flags|=8192),re=f.callbacks,re===null?f.callbacks=[te]:re.push(te))}else re={lane:te,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ae===null?(Z=ae=re,U=ue):ae=ae.next=re,_|=te;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;re=C,C=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);ae===null&&(U=ue),f.baseState=U,f.firstBaseUpdate=Z,f.lastBaseUpdate=ae,m===null&&(f.shared.lanes=0),za|=_,r.lanes=_,r.memoizedState=ue}}function r_(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function i_(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)r_(o[r],i)}var Uo=j(null),ch=j(0);function a_(r,i){r=ea,de(ch,r),de(Uo,i),ea=r|i.baseLanes}function bm(){de(ch,ea),de(Uo,Uo.current)}function Sm(){ea=ch.current,ie(Uo),ie(ch)}var gr=j(null),Ur=null;function La(r){var i=r.alternate;de(rn,rn.current&1),de(gr,r),Ur===null&&(i===null||Uo.current!==null||i.memoizedState!==null)&&(Ur=r)}function Am(r){de(rn,rn.current),de(gr,r),Ur===null&&(Ur=r)}function s_(r){r.tag===22?(de(rn,rn.current),de(gr,r),Ur===null&&(Ur=r)):ka()}function ka(){de(rn,rn.current),de(gr,gr.current)}function yr(r){ie(gr),Ur===r&&(Ur=null),ie(rn)}var rn=j(0);function hh(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||xp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Je=null,xt=null,cn=null,fh=!1,jo=!1,qs=!1,dh=0,ou=0,zo=null,S1=0;function Zt(){throw Error(a(321))}function wm(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!mr(r[o],i[o]))return!1;return!0}function Rm(r,i,o,u,f,m){return $i=m,Je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?H_:Bm,qs=!1,m=o(u,f),qs=!1,jo&&(m=l_(i,o,u,f)),o_(r),m}function o_(r){W.H=cu;var i=xt!==null&&xt.next!==null;if($i=0,cn=xt=Je=null,fh=!1,ou=0,zo=null,i)throw Error(a(300));r===null||hn||(r=r.dependencies,r!==null&&rh(r)&&(hn=!0))}function l_(r,i,o,u){Je=r;var f=0;do{if(jo&&(zo=null),ou=0,jo=!1,25<=f)throw Error(a(301));if(f+=1,cn=xt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=q_,m=i(o,u)}while(jo);return m}function A1(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?lu(i):i,r=r.useState()[0],(xt!==null?xt.memoizedState:null)!==r&&(Je.flags|=1024),i}function Cm(){var r=dh!==0;return dh=0,r}function Im(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Dm(r){if(fh){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fh=!1}$i=0,cn=xt=Je=null,jo=!1,ou=dh=0,zo=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Je.memoizedState=cn=r:cn=cn.next=r,cn}function an(){if(xt===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var i=cn===null?Je.memoizedState:cn.next;if(i!==null)cn=i,xt=r;else{if(r===null)throw Je.alternate===null?Error(a(467)):Error(a(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},cn===null?Je.memoizedState=cn=r:cn=cn.next=r}return cn}function mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(r){var i=ou;return ou+=1,zo===null&&(zo=[]),r=Jv(zo,r,i),i=Je,(cn===null?i.memoizedState:cn.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?H_:Bm),r}function ph(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return lu(r);if(r.$$typeof===F)return Cn(r)}throw Error(a(438,String(r)))}function Nm(r){var i=null,o=Je.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=mh(),Je.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=N;return i.index++,o}function Ki(r,i){return typeof i=="function"?i(r):i}function gh(r){var i=an();return xm(i,xt,r)}function xm(r,i,o){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{i=f.next;var C=_=null,U=null,Z=i,ae=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(lt&ue)===ue:($i&ue)===ue){var te=Z.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===Vo&&(ae=!0);else if(($i&te)===te){Z=Z.next,te===Vo&&(ae=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(C=U=ue,_=m):U=U.next=ue,Je.lanes|=te,za|=te;ue=Z.action,qs&&o(m,ue),m=Z.hasEagerState?Z.eagerState:o(m,ue)}else te={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(C=U=te,_=m):U=U.next=te,Je.lanes|=ue,za|=ue;Z=Z.next}while(Z!==null&&Z!==i);if(U===null?_=m:U.next=C,!mr(m,r.memoizedState)&&(hn=!0,ae&&(o=Po,o!==null)))throw o;r.memoizedState=m,r.baseState=_,r.baseQueue=U,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Om(r){var i=an(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=r(m,_.action),_=_.next;while(_!==f);mr(m,i.memoizedState)||(hn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function u_(r,i,o){var u=Je,f=an(),m=dt;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var _=!mr((xt||f).memoizedState,o);if(_&&(f.memoizedState=o,hn=!0),f=f.queue,Pm(f_.bind(null,u,f,r),[r]),f.getSnapshot!==i||_||cn!==null&&cn.memoizedState.tag&1){if(u.flags|=2048,Bo(9,{destroy:void 0},h_.bind(null,u,f,o,i),null),Pt===null)throw Error(a(349));m||($i&127)!==0||c_(u,i,o)}return o}function c_(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Je.updateQueue,i===null?(i=mh(),Je.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function h_(r,i,o,u){i.value=o,i.getSnapshot=u,d_(i)&&m_(r)}function f_(r,i,o){return o(function(){d_(i)&&m_(r)})}function d_(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!mr(r,o)}catch{return!0}}function m_(r){var i=Ps(r,2);i!==null&&ir(i,r,2)}function Mm(r){var i=$n();if(typeof r=="function"){var o=r;if(r=o(),qs){Fn(!0);try{o()}finally{Fn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:r},i}function p_(r,i,o,u){return r.baseState=o,xm(r,xt,typeof u=="function"?u:Ki)}function w1(r,i,o,u,f){if(_h(r))throw Error(a(485));if(r=i.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,g_(i,m)):(m.next=o.next,i.pending=o.next=m)}}function g_(r,i){var o=i.action,u=i.payload,f=r.state;if(i.isTransition){var m=W.T,_={};W.T=_;try{var C=o(f,u),U=W.S;U!==null&&U(_,C),y_(r,i,C)}catch(Z){Vm(r,i,Z)}finally{m!==null&&_.types!==null&&(m.types=_.types),W.T=m}}else try{m=o(f,u),y_(r,i,m)}catch(Z){Vm(r,i,Z)}}function y_(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){v_(r,i,u)},function(u){return Vm(r,i,u)}):v_(r,i,o)}function v_(r,i,o){i.status="fulfilled",i.value=o,__(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,g_(r,o)))}function Vm(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,__(i),i=i.next;while(i!==u)}r.action=null}function __(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function E_(r,i){return i}function T_(r,i){if(dt){var o=Pt.formState;if(o!==null){e:{var u=Je;if(dt){if(Ht){t:{for(var f=Ht,m=kr;f.nodeType!==8;){if(!m){f=null;break t}if(f=jr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ht=jr(f.nextSibling),u=f.data==="F!";break e}}xa(u)}u=!1}u&&(i=o[0])}}return o=$n(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:i},o.queue=u,o=z_.bind(null,Je,u),u.dispatch=o,u=Mm(!1),m=zm.bind(null,Je,!1,u.queue),u=$n(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,o=w1.bind(null,Je,f,m,o),f.dispatch=o,u.memoizedState=r,[i,o,!1]}function b_(r){var i=an();return S_(i,xt,r)}function S_(r,i,o){if(i=xm(r,i,E_)[0],r=gh(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=lu(i)}catch(_){throw _===Lo?sh:_}else u=i;i=an();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(Je.flags|=2048,Bo(9,{destroy:void 0},R1.bind(null,f,o),null)),[u,m,r]}function R1(r,i){r.action=i}function A_(r){var i=an(),o=xt;if(o!==null)return S_(i,o,r);an(),i=i.memoizedState,o=an();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function Bo(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Je.updateQueue,i===null&&(i=mh(),Je.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function w_(){return an().memoizedState}function yh(r,i,o,u){var f=$n();Je.flags|=r,f.memoizedState=Bo(1|i,{destroy:void 0},o,u===void 0?null:u)}function vh(r,i,o,u){var f=an();u=u===void 0?null:u;var m=f.memoizedState.inst;xt!==null&&u!==null&&wm(u,xt.memoizedState.deps)?f.memoizedState=Bo(i,m,o,u):(Je.flags|=r,f.memoizedState=Bo(1|i,m,o,u))}function R_(r,i){yh(8390656,8,r,i)}function Pm(r,i){vh(2048,8,r,i)}function C1(r){Je.flags|=4;var i=Je.updateQueue;if(i===null)i=mh(),Je.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function C_(r){var i=an().memoizedState;return C1({ref:i,nextImpl:r}),function(){if((St&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function I_(r,i){return vh(4,2,r,i)}function D_(r,i){return vh(4,4,r,i)}function N_(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function x_(r,i,o){o=o!=null?o.concat([r]):null,vh(4,4,N_.bind(null,i,r),o)}function Lm(){}function O_(r,i){var o=an();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&wm(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function M_(r,i){var o=an();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&wm(i,u[1]))return u[0];if(u=r(),qs){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[u,i],u}function km(r,i,o){return o===void 0||($i&1073741824)!==0&&(lt&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=VE(),Je.lanes|=r,za|=r,o)}function V_(r,i,o,u){return mr(o,i)?o:Uo.current!==null?(r=km(r,o,u),mr(r,i)||(hn=!0),r):($i&42)===0||($i&1073741824)!==0&&(lt&261930)===0?(hn=!0,r.memoizedState=o):(r=VE(),Je.lanes|=r,za|=r,i)}function P_(r,i,o,u,f){var m=he.p;he.p=m!==0&&8>m?m:8;var _=W.T,C={};W.T=C,zm(r,!1,i,o);try{var U=f(),Z=W.S;if(Z!==null&&Z(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=b1(U,u);uu(r,i,ae,Er(r))}else uu(r,i,u,Er(r))}catch(ue){uu(r,i,{then:function(){},status:"rejected",reason:ue},Er())}finally{he.p=m,_!==null&&C.types!==null&&(_.types=C.types),W.T=_}}function I1(){}function Um(r,i,o,u){if(r.tag!==5)throw Error(a(476));var f=L_(r).queue;P_(r,f,i,me,o===null?I1:function(){return k_(r),o(u)})}function L_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function k_(r){var i=L_(r);i.next===null&&(i=r.alternate.memoizedState),uu(r,i.next.queue,{},Er())}function jm(){return Cn(Ru)}function U_(){return an().memoizedState}function j_(){return an().memoizedState}function D1(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Er();r=Va(o);var u=Pa(i,r,o);u!==null&&(ir(u,i,o),iu(u,i,o)),i={cache:mm()},r.payload=i;return}i=i.return}}function N1(r,i,o){var u=Er();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_h(r)?B_(i,o):(o=rm(r,i,o,u),o!==null&&(ir(o,r,u),F_(o,i,u)))}function z_(r,i,o){var u=Er();uu(r,i,o,u)}function uu(r,i,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(_h(r))B_(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,C=m(_,o);if(f.hasEagerState=!0,f.eagerState=C,mr(C,_))return Zc(r,i,f,0),Pt===null&&Jc(),!1}catch{}finally{}if(o=rm(r,i,f,u),o!==null)return ir(o,r,u),F_(o,i,u),!0}return!1}function zm(r,i,o,u){if(u={lane:2,revertLane:vp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_h(r)){if(i)throw Error(a(479))}else i=rm(r,o,u,2),i!==null&&ir(i,r,2)}function _h(r){var i=r.alternate;return r===Je||i!==null&&i===Je}function B_(r,i){jo=fh=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function F_(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,k(r,o)}}var cu={readContext:Cn,use:ph,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt};cu.useEffectEvent=Zt;var H_={readContext:Cn,use:ph,useCallback:function(r,i){return $n().memoizedState=[r,i===void 0?null:i],r},useContext:Cn,useEffect:R_,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,yh(4194308,4,N_.bind(null,i,r),o)},useLayoutEffect:function(r,i){return yh(4194308,4,r,i)},useInsertionEffect:function(r,i){yh(4,2,r,i)},useMemo:function(r,i){var o=$n();i=i===void 0?null:i;var u=r();if(qs){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=$n();if(o!==void 0){var f=o(i);if(qs){Fn(!0);try{o(i)}finally{Fn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=N1.bind(null,Je,r),[u.memoizedState,r]},useRef:function(r){var i=$n();return r={current:r},i.memoizedState=r},useState:function(r){r=Mm(r);var i=r.queue,o=z_.bind(null,Je,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Lm,useDeferredValue:function(r,i){var o=$n();return km(o,r,i)},useTransition:function(){var r=Mm(!1);return r=P_.bind(null,Je,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Je,f=$n();if(dt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Pt===null)throw Error(a(349));(lt&127)!==0||c_(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,R_(f_.bind(null,u,m,r),[r]),u.flags|=2048,Bo(9,{destroy:void 0},h_.bind(null,u,m,o,i),null),o},useId:function(){var r=$n(),i=Pt.identifierPrefix;if(dt){var o=bi,u=Ti;o=(u&~(1<<32-$t(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=dh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=S1++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:jm,useFormState:T_,useActionState:T_,useOptimistic:function(r){var i=$n();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=zm.bind(null,Je,!0,o),o.dispatch=i,[r,i]},useMemoCache:Nm,useCacheRefresh:function(){return $n().memoizedState=D1.bind(null,Je)},useEffectEvent:function(r){var i=$n(),o={impl:r};return i.memoizedState=o,function(){if((St&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Bm={readContext:Cn,use:ph,useCallback:O_,useContext:Cn,useEffect:Pm,useImperativeHandle:x_,useInsertionEffect:I_,useLayoutEffect:D_,useMemo:M_,useReducer:gh,useRef:w_,useState:function(){return gh(Ki)},useDebugValue:Lm,useDeferredValue:function(r,i){var o=an();return V_(o,xt.memoizedState,r,i)},useTransition:function(){var r=gh(Ki)[0],i=an().memoizedState;return[typeof r=="boolean"?r:lu(r),i]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:jm,useFormState:b_,useActionState:b_,useOptimistic:function(r,i){var o=an();return p_(o,xt,r,i)},useMemoCache:Nm,useCacheRefresh:j_};Bm.useEffectEvent=C_;var q_={readContext:Cn,use:ph,useCallback:O_,useContext:Cn,useEffect:Pm,useImperativeHandle:x_,useInsertionEffect:I_,useLayoutEffect:D_,useMemo:M_,useReducer:Om,useRef:w_,useState:function(){return Om(Ki)},useDebugValue:Lm,useDeferredValue:function(r,i){var o=an();return xt===null?km(o,r,i):V_(o,xt.memoizedState,r,i)},useTransition:function(){var r=Om(Ki)[0],i=an().memoizedState;return[typeof r=="boolean"?r:lu(r),i]},useSyncExternalStore:u_,useId:U_,useHostTransitionStatus:jm,useFormState:A_,useActionState:A_,useOptimistic:function(r,i){var o=an();return xt!==null?p_(o,xt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:j_};q_.useEffectEvent=C_;function Fm(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:E({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Hm={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=Er(),f=Va(u);f.payload=i,o!=null&&(f.callback=o),i=Pa(r,f,u),i!==null&&(ir(i,r,u),iu(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=Er(),f=Va(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Pa(r,f,u),i!==null&&(ir(i,r,u),iu(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Er(),u=Va(o);u.tag=2,i!=null&&(u.callback=i),i=Pa(r,u,o),i!==null&&(ir(i,r,o),iu(i,r,o))}};function G_(r,i,o,u,f,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,_):i.prototype&&i.prototype.isPureReactComponent?!Xl(o,u)||!Xl(f,m):!0}function $_(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&Hm.enqueueReplaceState(i,i.state,null)}function Gs(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=E({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}function K_(r){Wc(r)}function Y_(r){console.error(r)}function Q_(r){Wc(r)}function Eh(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function X_(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qm(r,i,o){return o=Va(o),o.tag=3,o.payload={element:null},o.callback=function(){Eh(r,i)},o}function W_(r){return r=Va(r),r.tag=3,r}function J_(r,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){X_(i,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){X_(i,o,u),typeof f!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function x1(r,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Mo(i,o,f,!0),o=gr.current,o!==null){switch(o.tag){case 31:case 13:return Ur===null?Oh():o.alternate===null&&en===0&&(en=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===oh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),pp(r,u,f)),!1;case 22:return o.flags|=65536,u===oh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),pp(r,u,f)),!1}throw Error(a(435,o.tag))}return pp(r,u,f),Oh(),!1}if(dt)return i=gr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==um&&(r=Error(a(422),{cause:u}),Zl(Vr(r,o)))):(u!==um&&(i=Error(a(423),{cause:u}),Zl(Vr(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Vr(u,o),f=qm(r.stateNode,u,f),Em(r,f),en!==4&&(en=2)),!1;var m=Error(a(520),{cause:u});if(m=Vr(m,o),vu===null?vu=[m]:vu.push(m),en!==4&&(en=2),i===null)return!0;u=Vr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=qm(o.stateNode,u,r),Em(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ba===null||!Ba.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=W_(f),J_(f,r,o,u),Em(o,f),!1}o=o.return}while(o!==null);return!1}var Gm=Error(a(461)),hn=!1;function In(r,i,o,u){i.child=r===null?n_(i,null,o,u):Hs(i,r.child,o,u)}function Z_(r,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var _={};for(var C in u)C!=="ref"&&(_[C]=u[C])}else _=u;return js(i),u=Rm(r,i,o,_,m,f),C=Cm(),r!==null&&!hn?(Im(r,i,f),Yi(r,i,f)):(dt&&C&&om(i),i.flags|=1,In(r,i,u,f),i.child)}function eE(r,i,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!im(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,tE(r,i,m,u,f)):(r=th(o.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!Zm(r,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Xl,o(_,u)&&r.ref===i.ref)return Yi(r,i,f)}return i.flags|=1,r=Fi(m,u),r.ref=i.ref,r.return=i,i.child=r}function tE(r,i,o,u,f){if(r!==null){var m=r.memoizedProps;if(Xl(m,u)&&r.ref===i.ref)if(hn=!1,i.pendingProps=u=m,Zm(r,f))(r.flags&131072)!==0&&(hn=!0);else return i.lanes=r.lanes,Yi(r,i,f)}return $m(r,i,o,u,f)}function nE(r,i,o,u){var f=u.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return rE(r,i,m,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(i,m!==null?m.cachePool:null),m!==null?a_(i,m):bm(),s_(i);else return u=i.lanes=536870912,rE(r,i,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(ah(i,m.cachePool),a_(i,m),ka(),i.memoizedState=null):(r!==null&&ah(i,null),bm(),ka());return In(r,i,f,o),i.child}function hu(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rE(r,i,o,u,f){var m=gm();return m=m===null?null:{parent:un._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&ah(i,null),bm(),s_(i),r!==null&&Mo(r,i,u,!0),i.childLanes=f,null}function Th(r,i){return i=Sh({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function iE(r,i,o){return Hs(i,r.child,null,o),r=Th(i,i.pendingProps),r.flags|=2,yr(i),i.memoizedState=null,r}function O1(r,i,o){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(dt){if(u.mode==="hidden")return r=Th(i,u),i.lanes=536870912,hu(null,r);if(Am(i),(r=Ht)?(r=gT(r,kr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Da!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},o=Bv(r),o.return=i,i.child=o,Rn=i,Ht=null)):r=null,r===null)throw xa(i);return i.lanes=536870912,null}return Th(i,u)}var m=r.memoizedState;if(m!==null){var _=m.dehydrated;if(Am(i),f)if(i.flags&256)i.flags&=-257,i=iE(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(hn||Mo(r,i,o,!1),f=(o&r.childLanes)!==0,hn||f){if(u=Pt,u!==null&&(_=H(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,Ps(r,_),ir(u,r,_),Gm;Oh(),i=iE(r,i,o)}else r=m.treeContext,Ht=jr(_.nextSibling),Rn=i,dt=!0,Na=null,kr=!1,r!==null&&qv(i,r),i=Th(i,u),i.flags|=4096;return i}return r=Fi(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function bh(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function $m(r,i,o,u,f){return js(i),o=Rm(r,i,o,u,void 0,f),u=Cm(),r!==null&&!hn?(Im(r,i,f),Yi(r,i,f)):(dt&&u&&om(i),i.flags|=1,In(r,i,o,f),i.child)}function aE(r,i,o,u,f,m){return js(i),i.updateQueue=null,o=l_(i,u,o,f),o_(r),u=Cm(),r!==null&&!hn?(Im(r,i,m),Yi(r,i,m)):(dt&&u&&om(i),i.flags|=1,In(r,i,o,m),i.child)}function sE(r,i,o,u,f){if(js(i),i.stateNode===null){var m=Do,_=o.contextType;typeof _=="object"&&_!==null&&(m=Cn(_)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},vm(i),_=o.contextType,m.context=typeof _=="object"&&_!==null?Cn(_):Do,m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Fm(i,o,_,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Hm.enqueueReplaceState(m,m.state,null),su(i,u,m,f),au(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var C=i.memoizedProps,U=Gs(o,C);m.props=U;var Z=m.context,ae=o.contextType;_=Do,typeof ae=="object"&&ae!==null&&(_=Cn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||Z!==_)&&$_(i,m,u,_),Ma=!1;var te=i.memoizedState;m.state=te,su(i,u,m,f),au(),Z=i.memoizedState,C||te!==Z||Ma?(typeof ue=="function"&&(Fm(i,o,ue,u),Z=i.memoizedState),(U=Ma||G_(i,o,U,u,te,Z,_))?(ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Z),m.props=u,m.state=Z,m.context=_,u=U):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,_m(r,i),_=i.memoizedProps,ae=Gs(o,_),m.props=ae,ue=i.pendingProps,te=m.context,Z=o.contextType,U=Do,typeof Z=="object"&&Z!==null&&(U=Cn(Z)),C=o.getDerivedStateFromProps,(Z=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ue||te!==U)&&$_(i,m,u,U),Ma=!1,te=i.memoizedState,m.state=te,su(i,u,m,f),au();var re=i.memoizedState;_!==ue||te!==re||Ma||r!==null&&r.dependencies!==null&&rh(r.dependencies)?(typeof C=="function"&&(Fm(i,o,C,u),re=i.memoizedState),(ae=Ma||G_(i,o,ae,u,te,re,U)||r!==null&&r.dependencies!==null&&rh(r.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,re,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,re,U)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=re),m.props=u,m.state=re,m.context=U,u=ae):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,bh(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=Hs(i,r.child,null,f),i.child=Hs(i,null,o,f)):In(r,i,o,f),i.memoizedState=m.state,r=i.child):r=Yi(r,i,f),r}function oE(r,i,o,u){return ks(),i.flags|=256,In(r,i,o,u),i.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ym(r){return{baseLanes:r,cachePool:Xv()}}function Qm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=_r),r}function lE(r,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,r===null){if(dt){if(f?La(i):ka(),(r=Ht)?(r=gT(r,kr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Da!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},o=Bv(r),o.return=i,i.child=o,Rn=i,Ht=null)):r=null,r===null)throw xa(i);return xp(r)?i.lanes=32:i.lanes=536870912,null}var C=u.children;return u=u.fallback,f?(ka(),f=i.mode,C=Sh({mode:"hidden",children:C},f),u=Ls(u,f,o,null),C.return=i,u.return=i,C.sibling=u,i.child=C,u=i.child,u.memoizedState=Ym(o),u.childLanes=Qm(r,_,o),i.memoizedState=Km,hu(null,u)):(La(i),Xm(i,C))}var U=r.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(m)i.flags&256?(La(i),i.flags&=-257,i=Wm(r,i,o)):i.memoizedState!==null?(ka(),i.child=r.child,i.flags|=128,i=null):(ka(),C=u.fallback,f=i.mode,u=Sh({mode:"visible",children:u.children},f),C=Ls(C,f,o,null),C.flags|=2,u.return=i,C.return=i,u.sibling=C,i.child=u,Hs(i,r.child,null,o),u=i.child,u.memoizedState=Ym(o),u.childLanes=Qm(r,_,o),i.memoizedState=Km,i=hu(null,u));else if(La(i),xp(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var Z=_.dgst;_=Z,u=Error(a(419)),u.stack="",u.digest=_,Zl({value:u,source:null,stack:null}),i=Wm(r,i,o)}else if(hn||Mo(r,i,o,!1),_=(o&r.childLanes)!==0,hn||_){if(_=Pt,_!==null&&(u=H(_,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,Ps(r,u),ir(_,r,u),Gm;Np(C)||Oh(),i=Wm(r,i,o)}else Np(C)?(i.flags|=192,i.child=r.child,i=null):(r=U.treeContext,Ht=jr(C.nextSibling),Rn=i,dt=!0,Na=null,kr=!1,r!==null&&qv(i,r),i=Xm(i,u.children),i.flags|=4096);return i}return f?(ka(),C=u.fallback,f=i.mode,U=r.child,Z=U.sibling,u=Fi(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Z!==null?C=Fi(Z,C):(C=Ls(C,f,o,null),C.flags|=2),C.return=i,u.return=i,u.sibling=C,i.child=u,hu(null,u),u=i.child,C=r.child.memoizedState,C===null?C=Ym(o):(f=C.cachePool,f!==null?(U=un._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=Xv(),C={baseLanes:C.baseLanes|o,cachePool:f}),u.memoizedState=C,u.childLanes=Qm(r,_,o),i.memoizedState=Km,hu(r.child,u)):(La(i),o=r.child,r=o.sibling,o=Fi(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(_=i.deletions,_===null?(i.deletions=[r],i.flags|=16):_.push(r)),i.child=o,i.memoizedState=null,o)}function Xm(r,i){return i=Sh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Sh(r,i){return r=pr(22,r,null,i),r.lanes=0,r}function Wm(r,i,o){return Hs(i,r.child,null,o),r=Xm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function uE(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),fm(r.return,i,o)}function Jm(r,i,o,u,f,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function cE(r,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=rn.current,C=(_&2)!==0;if(C?(_=_&1|2,i.flags|=128):_&=1,de(rn,_),In(r,i,u,o),u=dt?Jl:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uE(r,o,i);else if(r.tag===19)uE(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&hh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Jm(i,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&hh(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Jm(i,!0,o,null,m,u);break;case"together":Jm(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Yi(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),za|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Mo(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,o=Fi(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Fi(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Zm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&rh(r)))}function M1(r,i,o){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),Oa(i,un,r.memoizedState.cache),ks();break;case 27:case 5:Ir(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:Oa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Am(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(La(i),i.flags|=128,null):(o&i.child.childLanes)!==0?lE(r,i,o):(La(i),r=Yi(r,i,o),r!==null?r.sibling:null);La(i);break;case 19:var f=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Mo(r,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return cE(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(rn,rn.current),u)break;return null;case 22:return i.lanes=0,nE(r,i,o,i.pendingProps);case 24:Oa(i,un,r.memoizedState.cache)}return Yi(r,i,o)}function hE(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)hn=!0;else{if(!Zm(r,o)&&(i.flags&128)===0)return hn=!1,M1(r,i,o);hn=(r.flags&131072)!==0}else hn=!1,dt&&(i.flags&1048576)!==0&&Hv(i,Jl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Bs(i.elementType),i.type=r,typeof r=="function")im(r)?(u=Gs(r,u),i.tag=1,i=sE(null,i,r,u,o)):(i.tag=0,i=$m(null,i,r,u,o));else{if(r!=null){var f=r.$$typeof;if(f===X){i.tag=11,i=Z_(null,i,r,u,o);break e}else if(f===b){i.tag=14,i=eE(null,i,r,u,o);break e}}throw i=ke(r)||r,Error(a(306,i,""))}}return i;case 0:return $m(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Gs(u,i.pendingProps),sE(r,i,u,f,o);case 3:e:{if(wt(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,_m(r,i),su(i,u,null,o);var _=i.memoizedState;if(u=_.cache,Oa(i,un,u),u!==m.cache&&dm(i,[un],o,!0),au(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=oE(r,i,u,o);break e}else if(u!==f){f=Vr(Error(a(424)),i),Zl(f),i=oE(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ht=jr(r.firstChild),Rn=i,dt=!0,Na=null,kr=!0,o=n_(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ks(),u===f){i=Yi(r,i,o);break e}In(r,i,u,o)}i=i.child}return i;case 26:return bh(r,i),r===null?(o=bT(i.type,null,i.pendingProps,null))?i.memoizedState=o:dt||(o=i.type,r=i.pendingProps,u=jh(Me.current).createElement(o),u[ge]=i,u[_e]=r,Dn(u,o,r),jt(u),i.stateNode=u):i.memoizedState=bT(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ir(i),r===null&&dt&&(u=i.stateNode=_T(i.type,i.pendingProps,Me.current),Rn=i,kr=!0,f=Ht,Ga(i.type)?(Op=f,Ht=jr(u.firstChild)):Ht=f),In(r,i,i.pendingProps.children,o),bh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&dt&&((f=u=Ht)&&(u=uC(u,i.type,i.pendingProps,kr),u!==null?(i.stateNode=u,Rn=i,Ht=jr(u.firstChild),kr=!1,f=!0):f=!1),f||xa(i)),Ir(i),f=i.type,m=i.pendingProps,_=r!==null?r.memoizedProps:null,u=m.children,Cp(f,m)?u=null:_!==null&&Cp(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Rm(r,i,A1,null,null,o),Ru._currentValue=f),bh(r,i),In(r,i,u,o),i.child;case 6:return r===null&&dt&&((r=o=Ht)&&(o=cC(o,i.pendingProps,kr),o!==null?(i.stateNode=o,Rn=i,Ht=null,r=!0):r=!1),r||xa(i)),null;case 13:return lE(r,i,o);case 4:return wt(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Hs(i,null,u,o):In(r,i,u,o),i.child;case 11:return Z_(r,i,i.type,i.pendingProps,o);case 7:return In(r,i,i.pendingProps,o),i.child;case 8:return In(r,i,i.pendingProps.children,o),i.child;case 12:return In(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Oa(i,i.type,u.value),In(r,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,js(i),f=Cn(f),u=u(f),i.flags|=1,In(r,i,u,o),i.child;case 14:return eE(r,i,i.type,i.pendingProps,o);case 15:return tE(r,i,i.type,i.pendingProps,o);case 19:return cE(r,i,o);case 31:return O1(r,i,o);case 22:return nE(r,i,o,i.pendingProps);case 24:return js(i),u=Cn(un),r===null?(f=gm(),f===null&&(f=Pt,m=mm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},vm(i),Oa(i,un,f)):((r.lanes&o)!==0&&(_m(r,i),su(i,null,null,o),au()),f=r.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Oa(i,un,u)):(u=m.cache,Oa(i,un,u),u!==f.cache&&dm(i,[un],o,!0))),In(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Qi(r){r.flags|=4}function ep(r,i,o,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(UE())r.flags|=8192;else throw Fs=oh,ym}else r.flags&=-16777217}function fE(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!CT(i))if(UE())r.flags|=8192;else throw Fs=oh,ym}function Ah(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?ki():536870912,r.lanes|=i,Go|=i)}function fu(r,i){if(!dt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function qt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function V1(r,i,o){var u=i.pendingProps;switch(lm(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(i),null;case 1:return qt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Gi(un),vt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Oo(i)?Qi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,cm())),qt(i),null;case 26:var f=i.type,m=i.memoizedState;return r===null?(Qi(i),m!==null?(qt(i),fE(i,m)):(qt(i),ep(i,f,null,u,o))):m?m!==r.memoizedState?(Qi(i),qt(i),fE(i,m)):(qt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Qi(i),qt(i),ep(i,f,r,u,o)),null;case 27:if(Yr(i),o=Me.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Qi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return qt(i),null}r=ye.current,Oo(i)?Gv(i):(r=_T(f,u,o),i.stateNode=r,Qi(i))}return qt(i),null;case 5:if(Yr(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Qi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return qt(i),null}if(m=ye.current,Oo(i))Gv(i);else{var _=jh(Me.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[ge]=i,m[_e]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Dn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Qi(i)}}return qt(i),ep(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Qi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=Me.current,Oo(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,f=Rn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[ge]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||lT(r.nodeValue,o)),r||xa(i,!0)}else r=jh(r).createTextNode(u),r[ge]=i,i.stateNode=r}return qt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(u=Oo(i),o!==null){if(r===null){if(!u)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[ge]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),r=!1}else o=cm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(yr(i),i):(yr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return qt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Oo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ge]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;qt(i),f=!1}else f=cm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(yr(i),i):(yr(i),null)}return yr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Ah(i,i.updateQueue),qt(i),null);case 4:return vt(),r===null&&bp(i.stateNode.containerInfo),qt(i),null;case 10:return Gi(i.type),qt(i),null;case 19:if(ie(rn),u=i.memoizedState,u===null)return qt(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)fu(u,!1);else{if(en!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=hh(r),m!==null){for(i.flags|=128,fu(u,!1),r=m.updateQueue,i.updateQueue=r,Ah(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)zv(o,r),o=o.sibling;return de(rn,rn.current&1|2),dt&&Hi(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&nt()>Dh&&(i.flags|=128,f=!0,fu(u,!1),i.lanes=4194304)}else{if(!f)if(r=hh(m),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,Ah(i,r),fu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!dt)return qt(i),null}else 2*nt()-u.renderingStartTime>Dh&&o!==536870912&&(i.flags|=128,f=!0,fu(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(r=u.last,r!==null?r.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=nt(),r.sibling=null,o=rn.current,de(rn,f?o&1|2:o&1),dt&&Hi(i,u.treeForkCount),r):(qt(i),null);case 22:case 23:return yr(i),Sm(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(qt(i),i.subtreeFlags&6&&(i.flags|=8192)):qt(i),o=i.updateQueue,o!==null&&Ah(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&ie(zs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gi(un),qt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function P1(r,i){switch(lm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Gi(un),vt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Yr(i),null;case 31:if(i.memoizedState!==null){if(yr(i),i.alternate===null)throw Error(a(340));ks()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(yr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ks()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ie(rn),null;case 4:return vt(),null;case 10:return Gi(i.type),null;case 22:case 23:return yr(i),Sm(),r!==null&&ie(zs),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Gi(un),null;case 25:return null;default:return null}}function dE(r,i){switch(lm(i),i.tag){case 3:Gi(un),vt();break;case 26:case 27:case 5:Yr(i);break;case 4:vt();break;case 31:i.memoizedState!==null&&yr(i);break;case 13:yr(i);break;case 19:ie(rn);break;case 10:Gi(i.type);break;case 22:case 23:yr(i),Sm(),r!==null&&ie(zs);break;case 24:Gi(un)}}function du(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(C){Ct(i,i.return,C)}}function Ua(r,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var _=u.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,f=i;var U=o,Z=C;try{Z()}catch(ae){Ct(f,U,ae)}}}u=u.next}while(u!==m)}}catch(ae){Ct(i,i.return,ae)}}function mE(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{i_(i,o)}catch(u){Ct(r,r.return,u)}}}function pE(r,i,o){o.props=Gs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Ct(r,i,u)}}function mu(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){Ct(r,i,f)}}function Si(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Ct(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ct(r,i,f)}else o.current=null}function gE(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Ct(r,r.return,f)}}function tp(r,i,o){try{var u=r.stateNode;rC(u,r.type,o,i),u[_e]=i}catch(f){Ct(r,r.return,f)}}function yE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ga(r.type)||r.tag===4}function np(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ga(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rp(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Qr));else if(u!==4&&(u===27&&Ga(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(rp(r,i,o),r=r.sibling;r!==null;)rp(r,i,o),r=r.sibling}function wh(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&Ga(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(wh(r,i,o),r=r.sibling;r!==null;)wh(r,i,o),r=r.sibling}function vE(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Dn(i,u,o),i[ge]=r,i[_e]=o}catch(m){Ct(r,r.return,m)}}var Xi=!1,fn=!1,ip=!1,_E=typeof WeakSet=="function"?WeakSet:Set,bn=null;function L1(r,i){if(r=r.containerInfo,wp=$h,r=xv(r),Wd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,C=-1,U=-1,Z=0,ae=0,ue=r,te=null;t:for(;;){for(var re;ue!==o||f!==0&&ue.nodeType!==3||(C=_+f),ue!==m||u!==0&&ue.nodeType!==3||(U=_+u),ue.nodeType===3&&(_+=ue.nodeValue.length),(re=ue.firstChild)!==null;)te=ue,ue=re;for(;;){if(ue===r)break t;if(te===o&&++Z===f&&(C=_),te===m&&++ae===u&&(U=_),(re=ue.nextSibling)!==null)break;ue=te,te=ue.parentNode}ue=re}o=C===-1||U===-1?null:{start:C,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rp={focusedElem:r,selectionRange:o},$h=!1,bn=i;bn!==null;)if(i=bn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,bn=r;else for(;bn!==null;){switch(i=bn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)f=r[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Ie=Gs(o.type,f);r=u.getSnapshotBeforeUpdate(Ie,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(je){Ct(o,o.return,je)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Dp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Dp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,bn=r;break}bn=i.return}}function EE(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ji(r,o),u&4&&du(5,o);break;case 1:if(Ji(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(_){Ct(o,o.return,_)}else{var f=Gs(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(_){Ct(o,o.return,_)}}u&64&&mE(o),u&512&&mu(o,o.return);break;case 3:if(Ji(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{i_(r,i)}catch(_){Ct(o,o.return,_)}}break;case 27:i===null&&u&4&&vE(o);case 26:case 5:Ji(r,o),i===null&&u&4&&gE(o),u&512&&mu(o,o.return);break;case 12:Ji(r,o);break;case 31:Ji(r,o),u&4&&SE(r,o);break;case 13:Ji(r,o),u&4&&AE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=G1.bind(null,o),hC(r,o))));break;case 22:if(u=o.memoizedState!==null||Xi,!u){i=i!==null&&i.memoizedState!==null||fn,f=Xi;var m=fn;Xi=u,(fn=i)&&!m?Zi(r,o,(o.subtreeFlags&8772)!==0):Ji(r,o),Xi=f,fn=m}break;case 30:break;default:Ji(r,o)}}function TE(r){var i=r.alternate;i!==null&&(r.alternate=null,TE(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ft(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Qt=null,er=!1;function Wi(r,i,o){for(o=o.child;o!==null;)bE(r,i,o),o=o.sibling}function bE(r,i,o){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ur,o)}catch{}switch(o.tag){case 26:fn||Si(o,i),Wi(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:fn||Si(o,i);var u=Qt,f=er;Ga(o.type)&&(Qt=o.stateNode,er=!1),Wi(r,i,o),Su(o.stateNode),Qt=u,er=f;break;case 5:fn||Si(o,i);case 6:if(u=Qt,f=er,Qt=null,Wi(r,i,o),Qt=u,er=f,Qt!==null)if(er)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(o.stateNode)}catch(m){Ct(o,i,m)}else try{Qt.removeChild(o.stateNode)}catch(m){Ct(o,i,m)}break;case 18:Qt!==null&&(er?(r=Qt,mT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Zo(r)):mT(Qt,o.stateNode));break;case 4:u=Qt,f=er,Qt=o.stateNode.containerInfo,er=!0,Wi(r,i,o),Qt=u,er=f;break;case 0:case 11:case 14:case 15:Ua(2,o,i),fn||Ua(4,o,i),Wi(r,i,o);break;case 1:fn||(Si(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&pE(o,i,u)),Wi(r,i,o);break;case 21:Wi(r,i,o);break;case 22:fn=(u=fn)||o.memoizedState!==null,Wi(r,i,o),fn=u;break;default:Wi(r,i,o)}}function SE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Zo(r)}catch(o){Ct(i,i.return,o)}}}function AE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Zo(r)}catch(o){Ct(i,i.return,o)}}function k1(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new _E),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new _E),i;default:throw Error(a(435,r.tag))}}function Rh(r,i){var o=k1(r);i.forEach(function(u){if(!o.has(u)){o.add(u);var f=$1.bind(null,r,u);u.then(f,f)}})}function tr(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(Ga(C.type)){Qt=C.stateNode,er=!1;break e}break;case 5:Qt=C.stateNode,er=!1;break e;case 3:case 4:Qt=C.stateNode.containerInfo,er=!0;break e}C=C.return}if(Qt===null)throw Error(a(160));bE(m,_,f),Qt=null,er=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)wE(i,r),i=i.sibling}var ti=null;function wE(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:tr(i,r),nr(r),u&4&&(Ua(3,r,r.return),du(3,r),Ua(5,r,r.return));break;case 1:tr(i,r),nr(r),u&512&&(fn||o===null||Si(o,o.return)),u&64&&Xi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ti;if(tr(i,r),nr(r),u&512&&(fn||o===null||Si(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[It]||m[ge]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Dn(m,u,o),m[ge]=r,jt(m),u=m;break e;case"link":var _=wT("link","href",f).get(u+(o.href||""));if(_){for(var C=0;C<_.length;C++)if(m=_[C],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(C,1);break t}}m=f.createElement(u),Dn(m,u,o),f.head.appendChild(m);break;case"meta":if(_=wT("meta","content",f).get(u+(o.content||""))){for(C=0;C<_.length;C++)if(m=_[C],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(C,1);break t}}m=f.createElement(u),Dn(m,u,o),f.head.appendChild(m);break;default:throw Error(a(468,u))}m[ge]=r,jt(m),u=m}r.stateNode=u}else RT(f,r.type,r.stateNode);else r.stateNode=AT(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?RT(f,r.type,r.stateNode):AT(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&tp(r,r.memoizedProps,o.memoizedProps)}break;case 27:tr(i,r),nr(r),u&512&&(fn||o===null||Si(o,o.return)),o!==null&&u&4&&tp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(tr(i,r),nr(r),u&512&&(fn||o===null||Si(o,o.return)),r.flags&32){f=r.stateNode;try{Zn(f,"")}catch(Ie){Ct(r,r.return,Ie)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,tp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(ip=!0);break;case 6:if(tr(i,r),nr(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Ie){Ct(r,r.return,Ie)}}break;case 3:if(Fh=null,f=ti,ti=zh(i.containerInfo),tr(i,r),ti=f,nr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(i.containerInfo)}catch(Ie){Ct(r,r.return,Ie)}ip&&(ip=!1,RE(r));break;case 4:u=ti,ti=zh(r.stateNode.containerInfo),tr(i,r),nr(r),ti=u;break;case 12:tr(i,r),nr(r);break;case 31:tr(i,r),nr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Rh(r,u)));break;case 13:tr(i,r),nr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ih=nt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Rh(r,u)));break;case 22:f=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Z=Xi,ae=fn;if(Xi=Z||f,fn=ae||U,tr(i,r),fn=ae,Xi=Z,nr(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||U||Xi||fn||$s(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(m=U.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=U.stateNode;var ue=U.memoizedProps.style,te=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(Ie){Ct(U,U.return,Ie)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(Ie){Ct(U,U.return,Ie)}}}else if(i.tag===18){if(o===null){U=i;try{var re=U.stateNode;f?pT(re,!0):pT(U.stateNode,!1)}catch(Ie){Ct(U,U.return,Ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Rh(r,o))));break;case 19:tr(i,r),nr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Rh(r,u)));break;case 30:break;case 21:break;default:tr(i,r),nr(r)}}function nr(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(yE(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=np(r);wh(r,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(Zn(_,""),o.flags&=-33);var C=np(r);wh(r,C,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Z=np(r);rp(r,Z,U);break;default:throw Error(a(161))}}catch(ae){Ct(r,r.return,ae)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function RE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;RE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Ji(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)EE(r,i.alternate,i),i=i.sibling}function $s(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ua(4,i,i.return),$s(i);break;case 1:Si(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&pE(i,i.return,o),$s(i);break;case 27:Su(i.stateNode);case 26:case 5:Si(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}r=r.sibling}}function Zi(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Zi(f,m,o),du(4,m);break;case 1:if(Zi(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Z){Ct(u,u.return,Z)}if(u=m,f=u.updateQueue,f!==null){var C=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)r_(U[f],C)}catch(Z){Ct(u,u.return,Z)}}o&&_&64&&mE(m),mu(m,m.return);break;case 27:vE(m);case 26:case 5:Zi(f,m,o),o&&u===null&&_&4&&gE(m),mu(m,m.return);break;case 12:Zi(f,m,o);break;case 31:Zi(f,m,o),o&&_&4&&SE(f,m);break;case 13:Zi(f,m,o),o&&_&4&&AE(f,m);break;case 22:m.memoizedState===null&&Zi(f,m,o),mu(m,m.return);break;case 30:break;default:Zi(f,m,o)}i=i.sibling}}function ap(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&eu(o))}function sp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&eu(r))}function ni(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CE(r,i,o,u),i=i.sibling}function CE(r,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ni(r,i,o,u),f&2048&&du(9,i);break;case 1:ni(r,i,o,u);break;case 3:ni(r,i,o,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&eu(r)));break;case 12:if(f&2048){ni(r,i,o,u),r=i.stateNode;try{var m=i.memoizedProps,_=m.id,C=m.onPostCommit;typeof C=="function"&&C(_,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Ct(i,i.return,U)}}else ni(r,i,o,u);break;case 31:ni(r,i,o,u);break;case 13:ni(r,i,o,u);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?ni(r,i,o,u):pu(r,i):m._visibility&2?ni(r,i,o,u):(m._visibility|=2,Fo(r,i,o,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&ap(_,i);break;case 24:ni(r,i,o,u),f&2048&&sp(i.alternate,i);break;default:ni(r,i,o,u)}}function Fo(r,i,o,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,_=i,C=o,U=u,Z=_.flags;switch(_.tag){case 0:case 11:case 15:Fo(m,_,C,U,f),du(8,_);break;case 23:break;case 22:var ae=_.stateNode;_.memoizedState!==null?ae._visibility&2?Fo(m,_,C,U,f):pu(m,_):(ae._visibility|=2,Fo(m,_,C,U,f)),f&&Z&2048&&ap(_.alternate,_);break;case 24:Fo(m,_,C,U,f),f&&Z&2048&&sp(_.alternate,_);break;default:Fo(m,_,C,U,f)}i=i.sibling}}function pu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,f=u.flags;switch(u.tag){case 22:pu(o,u),f&2048&&ap(u.alternate,u);break;case 24:pu(o,u),f&2048&&sp(u.alternate,u);break;default:pu(o,u)}i=i.sibling}}var gu=8192;function Ho(r,i,o){if(r.subtreeFlags&gu)for(r=r.child;r!==null;)IE(r,i,o),r=r.sibling}function IE(r,i,o){switch(r.tag){case 26:Ho(r,i,o),r.flags&gu&&r.memoizedState!==null&&SC(o,ti,r.memoizedState,r.memoizedProps);break;case 5:Ho(r,i,o);break;case 3:case 4:var u=ti;ti=zh(r.stateNode.containerInfo),Ho(r,i,o),ti=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=gu,gu=16777216,Ho(r,i,o),gu=u):Ho(r,i,o));break;default:Ho(r,i,o)}}function DE(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function yu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];bn=u,xE(u,r)}DE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)NE(r),r=r.sibling}function NE(r){switch(r.tag){case 0:case 11:case 15:yu(r),r.flags&2048&&Ua(9,r,r.return);break;case 3:yu(r);break;case 12:yu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ch(r)):yu(r);break;default:yu(r)}}function Ch(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];bn=u,xE(u,r)}DE(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ua(8,i,i.return),Ch(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ch(i));break;default:Ch(i)}r=r.sibling}}function xE(r,i){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:Ua(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:eu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,bn=u;else e:for(o=r;bn!==null;){u=bn;var f=u.sibling,m=u.return;if(TE(u),u===o){bn=null;break e}if(f!==null){f.return=m,bn=f;break e}bn=m}}}var U1={getCacheForType:function(r){var i=Cn(un),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Cn(un).controller.signal}},j1=typeof WeakMap=="function"?WeakMap:Map,St=0,Pt=null,st=null,lt=0,Rt=0,vr=null,ja=!1,qo=!1,op=!1,ea=0,en=0,za=0,Ks=0,lp=0,_r=0,Go=0,vu=null,rr=null,up=!1,Ih=0,OE=0,Dh=1/0,Nh=null,Ba=null,gn=0,Fa=null,$o=null,ta=0,cp=0,hp=null,ME=null,_u=0,fp=null;function Er(){return(St&2)!==0&&lt!==0?lt&-lt:W.T!==null?vp():pe()}function VE(){if(_r===0)if((lt&536870912)===0||dt){var r=ci;ci<<=1,(ci&3932160)===0&&(ci=262144),_r=r}else _r=536870912;return r=gr.current,r!==null&&(r.flags|=32),_r}function ir(r,i,o){(r===Pt&&(Rt===2||Rt===9)||r.cancelPendingCommit!==null)&&(Ko(r,0),Ha(r,lt,_r,!1)),hi(r,o),((St&2)===0||r!==Pt)&&(r===Pt&&((St&2)===0&&(Ks|=o),en===4&&Ha(r,lt,_r,!1)),Ai(r))}function PE(r,i,o){if((St&6)!==0)throw Error(a(327));var u=!o&&(i&127)===0&&(i&r.expiredLanes)===0||hr(r,i),f=u?F1(r,i):mp(r,i,!0),m=u;do{if(f===0){qo&&!u&&Ha(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!z1(o)){f=mp(r,i,!1),m=!1;continue}if(f===2){if(m=i,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var C=r;f=vu;var U=C.current.memoizedState.isDehydrated;if(U&&(Ko(C,_).flags|=256),_=mp(C,_,!1),_!==2){if(op&&!U){C.errorRecoveryDisabledLanes|=m,Ks|=m,f=4;break e}m=rr,rr=f,m!==null&&(rr===null?rr=m:rr.push.apply(rr,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Ko(r,0),Ha(r,i,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ha(u,i,_r,!ja);break e;case 2:rr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Ih+300-nt(),10<f)){if(Ha(u,i,_r,!ja),cr(u,0,!0)!==0)break e;ta=i,u.timeoutHandle=fT(LE.bind(null,u,o,rr,Nh,up,i,_r,Ks,Go,ja,m,"Throttled",-0,0),f);break e}LE(u,o,rr,Nh,up,i,_r,Ks,Go,ja,m,null,-0,0)}}break}while(!0);Ai(r)}function LE(r,i,o,u,f,m,_,C,U,Z,ae,ue,te,re){if(r.timeoutHandle=-1,ue=i.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qr},IE(i,m,ue);var Ie=(m&62914560)===m?Ih-nt():(m&4194048)===m?OE-nt():0;if(Ie=AC(ue,Ie),Ie!==null){ta=m,r.cancelPendingCommit=Ie(qE.bind(null,r,i,m,o,u,f,_,C,U,ae,ue,null,te,re)),Ha(r,m,_,!Z);return}}qE(r,i,m,o,u,f,_,C,U)}function z1(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!mr(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ha(r,i,o,u){i&=~lp,i&=~Ks,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var m=31-$t(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&Ui(r,o,i)}function xh(){return(St&6)===0?(Eu(0),!1):!0}function dp(){if(st!==null){if(Rt===0)var r=st.return;else r=st,qi=Us=null,Dm(r),ko=null,nu=0,r=st;for(;r!==null;)dE(r.alternate,r),r=r.return;st=null}}function Ko(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,sC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ta=0,dp(),Pt=r,st=o=Fi(r.current,null),lt=i,Rt=0,vr=null,ja=!1,qo=hr(r,i),op=!1,Go=_r=lp=Ks=za=en=0,rr=vu=null,up=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-$t(u),m=1<<f;i|=r[f],u&=~m}return ea=i,Jc(),o}function kE(r,i){Je=null,W.H=cu,i===Lo||i===sh?(i=Zv(),Rt=3):i===ym?(i=Zv(),Rt=4):Rt=i===Gm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vr=i,st===null&&(en=1,Eh(r,Vr(i,r.current)))}function UE(){var r=gr.current;return r===null?!0:(lt&4194048)===lt?Ur===null:(lt&62914560)===lt||(lt&536870912)!==0?r===Ur:!1}function jE(){var r=W.H;return W.H=cu,r===null?cu:r}function zE(){var r=W.A;return W.A=U1,r}function Oh(){en=4,ja||(lt&4194048)!==lt&&gr.current!==null||(qo=!0),(za&134217727)===0&&(Ks&134217727)===0||Pt===null||Ha(Pt,lt,_r,!1)}function mp(r,i,o){var u=St;St|=2;var f=jE(),m=zE();(Pt!==r||lt!==i)&&(Nh=null,Ko(r,i)),i=!1;var _=en;e:do try{if(Rt!==0&&st!==null){var C=st,U=vr;switch(Rt){case 8:dp(),_=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(i=!0);var Z=Rt;if(Rt=0,vr=null,Yo(r,C,U,Z),o&&qo){_=0;break e}break;default:Z=Rt,Rt=0,vr=null,Yo(r,C,U,Z)}}B1(),_=en;break}catch(ae){kE(r,ae)}while(!0);return i&&r.shellSuspendCounter++,qi=Us=null,St=u,W.H=f,W.A=m,st===null&&(Pt=null,lt=0,Jc()),_}function B1(){for(;st!==null;)BE(st)}function F1(r,i){var o=St;St|=2;var u=jE(),f=zE();Pt!==r||lt!==i?(Nh=null,Dh=nt()+500,Ko(r,i)):qo=hr(r,i);e:do try{if(Rt!==0&&st!==null){i=st;var m=vr;t:switch(Rt){case 1:Rt=0,vr=null,Yo(r,i,m,1);break;case 2:case 9:if(Wv(m)){Rt=0,vr=null,FE(i);break}i=function(){Rt!==2&&Rt!==9||Pt!==r||(Rt=7),Ai(r)},m.then(i,i);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Wv(m)?(Rt=0,vr=null,FE(i)):(Rt=0,vr=null,Yo(r,i,m,7));break;case 5:var _=null;switch(st.tag){case 26:_=st.memoizedState;case 5:case 27:var C=st;if(_?CT(_):C.stateNode.complete){Rt=0,vr=null;var U=C.sibling;if(U!==null)st=U;else{var Z=C.return;Z!==null?(st=Z,Mh(Z)):st=null}break t}}Rt=0,vr=null,Yo(r,i,m,5);break;case 6:Rt=0,vr=null,Yo(r,i,m,6);break;case 8:dp(),en=6;break e;default:throw Error(a(462))}}H1();break}catch(ae){kE(r,ae)}while(!0);return qi=Us=null,W.H=u,W.A=f,St=o,st!==null?0:(Pt=null,lt=0,Jc(),en)}function H1(){for(;st!==null&&!yt();)BE(st)}function BE(r){var i=hE(r.alternate,r,ea);r.memoizedProps=r.pendingProps,i===null?Mh(r):st=i}function FE(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=aE(o,i,i.pendingProps,i.type,void 0,lt);break;case 11:i=aE(o,i,i.pendingProps,i.type.render,i.ref,lt);break;case 5:Dm(i);default:dE(o,i),i=st=zv(i,ea),i=hE(o,i,ea)}r.memoizedProps=r.pendingProps,i===null?Mh(r):st=i}function Yo(r,i,o,u){qi=Us=null,Dm(i),ko=null,nu=0;var f=i.return;try{if(x1(r,f,i,o,lt)){en=1,Eh(r,Vr(o,r.current)),st=null;return}}catch(m){if(f!==null)throw st=f,m;en=1,Eh(r,Vr(o,r.current)),st=null;return}i.flags&32768?(dt||u===1?r=!0:qo||(lt&536870912)!==0?r=!1:(ja=r=!0,(u===2||u===9||u===3||u===6)&&(u=gr.current,u!==null&&u.tag===13&&(u.flags|=16384))),HE(i,r)):Mh(i)}function Mh(r){var i=r;do{if((i.flags&32768)!==0){HE(i,ja);return}r=i.return;var o=V1(i.alternate,i,ea);if(o!==null){st=o;return}if(i=i.sibling,i!==null){st=i;return}st=i=r}while(i!==null);en===0&&(en=5)}function HE(r,i){do{var o=P1(r.alternate,r);if(o!==null){o.flags&=32767,st=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){st=r;return}st=r=o}while(r!==null);en=6,st=null}function qE(r,i,o,u,f,m,_,C,U){r.cancelPendingCommit=null;do Vh();while(gn!==0);if((St&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=nm,Ul(r,o,m,_,C,U),r===Pt&&(st=Pt=null,lt=0),$o=i,Fa=r,ta=o,cp=m,hp=f,ME=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,K1(En,function(){return QE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=he.p,he.p=2,_=St,St|=4;try{L1(r,i,o)}finally{St=_,he.p=f,W.T=u}}gn=1,GE(),$E(),KE()}}function GE(){if(gn===1){gn=0;var r=Fa,i=$o,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=he.p;he.p=2;var f=St;St|=4;try{wE(i,r);var m=Rp,_=xv(r.containerInfo),C=m.focusedElem,U=m.selectionRange;if(_!==C&&C&&C.ownerDocument&&Nv(C.ownerDocument.documentElement,C)){if(U!==null&&Wd(C)){var Z=U.start,ae=U.end;if(ae===void 0&&(ae=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ae,C.value.length);else{var ue=C.ownerDocument||document,te=ue&&ue.defaultView||window;if(te.getSelection){var re=te.getSelection(),Ie=C.textContent.length,je=Math.min(U.start,Ie),Mt=U.end===void 0?je:Math.min(U.end,Ie);!re.extend&&je>Mt&&(_=Mt,Mt=je,je=_);var K=Dv(C,je),B=Dv(C,Mt);if(K&&B&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==B.node||re.focusOffset!==B.offset)){var J=ue.createRange();J.setStart(K.node,K.offset),re.removeAllRanges(),je>Mt?(re.addRange(J),re.extend(B.node,B.offset)):(J.setEnd(B.node,B.offset),re.addRange(J))}}}}for(ue=[],re=C;re=re.parentNode;)re.nodeType===1&&ue.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var oe=ue[C];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}$h=!!wp,Rp=wp=null}finally{St=f,he.p=u,W.T=o}}r.current=i,gn=2}}function $E(){if(gn===2){gn=0;var r=Fa,i=$o,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=he.p;he.p=2;var f=St;St|=4;try{EE(r,i.alternate,i)}finally{St=f,he.p=u,W.T=o}}gn=3}}function KE(){if(gn===4||gn===3){gn=0,Bt();var r=Fa,i=$o,o=ta,u=ME;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gn=5:(gn=0,$o=Fa=null,YE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Ba=null),fe(o),i=i.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ur,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,f=he.p,he.p=2,W.T=null;try{for(var m=r.onRecoverableError,_=0;_<u.length;_++){var C=u[_];m(C.value,{componentStack:C.stack})}}finally{W.T=i,he.p=f}}(ta&3)!==0&&Vh(),Ai(r),f=r.pendingLanes,(o&261930)!==0&&(f&42)!==0?r===fp?_u++:(_u=0,fp=r):_u=0,Eu(0)}}function YE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,eu(i)))}function Vh(){return GE(),$E(),KE(),QE()}function QE(){if(gn!==5)return!1;var r=Fa,i=cp;cp=0;var o=fe(ta),u=W.T,f=he.p;try{he.p=32>o?32:o,W.T=null,o=hp,hp=null;var m=Fa,_=ta;if(gn=0,$o=Fa=null,ta=0,(St&6)!==0)throw Error(a(331));var C=St;if(St|=4,NE(m.current),CE(m,m.current,_,o),St=C,Eu(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ur,m)}catch{}return!0}finally{he.p=f,W.T=u,YE(r,i)}}function XE(r,i,o){i=Vr(o,i),i=qm(r.stateNode,i,2),r=Pa(r,i,2),r!==null&&(hi(r,2),Ai(r))}function Ct(r,i,o){if(r.tag===3)XE(r,r,o);else for(;i!==null;){if(i.tag===3){XE(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ba===null||!Ba.has(u))){r=Vr(o,r),o=W_(2),u=Pa(i,o,2),u!==null&&(J_(o,u,i,r),hi(u,2),Ai(u));break}}i=i.return}}function pp(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new j1;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(op=!0,f.add(o),r=q1.bind(null,r,i,o),i.then(r,r))}function q1(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Pt===r&&(lt&o)===o&&(en===4||en===3&&(lt&62914560)===lt&&300>nt()-Ih?(St&2)===0&&Ko(r,0):lp|=o,Go===lt&&(Go=0)),Ai(r)}function WE(r,i){i===0&&(i=ki()),r=Ps(r,i),r!==null&&(hi(r,i),Ai(r))}function G1(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),WE(r,o)}function $1(r,i){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),WE(r,o)}function K1(r,i){return Xe(r,i)}var Ph=null,Qo=null,gp=!1,Lh=!1,yp=!1,qa=0;function Ai(r){r!==Qo&&r.next===null&&(Qo===null?Ph=Qo=r:Qo=Qo.next=r),Lh=!0,gp||(gp=!0,Q1())}function Eu(r,i){if(!yp&&Lh){yp=!0;do for(var o=!1,u=Ph;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,C=u.pingedLanes;m=(1<<31-$t(42|r)+1)-1,m&=f&~(_&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,tT(u,m))}else m=lt,m=cr(u,u===Pt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||hr(u,m)||(o=!0,tT(u,m));u=u.next}while(o);yp=!1}}function Y1(){JE()}function JE(){Lh=gp=!1;var r=0;qa!==0&&aC()&&(r=qa);for(var i=nt(),o=null,u=Ph;u!==null;){var f=u.next,m=ZE(u,i);m===0?(u.next=null,o===null?Ph=f:o.next=f,f===null&&(Qo=o)):(o=u,(r!==0||(m&3)!==0)&&(Lh=!0)),u=f}gn!==0&&gn!==5||Eu(r),qa!==0&&(qa=0)}function ZE(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-$t(m),C=1<<_,U=f[_];U===-1?((C&o)===0||(C&u)!==0)&&(f[_]=go(C,i)):U<=i&&(r.expiredLanes|=C),m&=~C}if(i=Pt,o=lt,o=cr(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(Rt===2||Rt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&gt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||hr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&gt(u),fe(o)){case 2:case 8:o=Li;break;case 32:o=En;break;case 268435456:o=Ts;break;default:o=En}return u=eT.bind(null,r),o=Xe(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&gt(u),r.callbackPriority=2,r.callbackNode=null,2}function eT(r,i){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Vh()&&r.callbackNode!==o)return null;var u=lt;return u=cr(r,r===Pt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(PE(r,u,i),ZE(r,nt()),r.callbackNode!=null&&r.callbackNode===o?eT.bind(null,r):null)}function tT(r,i){if(Vh())return null;PE(r,i,!0)}function Q1(){oC(function(){(St&6)!==0?Xe(ya,Y1):JE()})}function vp(){if(qa===0){var r=Vo;r===0&&(r=Hn,Hn<<=1,(Hn&261888)===0&&(Hn=256)),qa=r}return qa}function nT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:_o(""+r)}function rT(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function X1(r,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=nT((f[_e]||null).action),_=u.submitter;_&&(i=(i=_[_e]||null)?nT(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var C=new yi("action","action",null,u,f);r.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qa!==0){var U=_?rT(f,_):new FormData(f);Um(o,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(C.preventDefault(),U=_?rT(f,_):new FormData(f),Um(o,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var _p=0;_p<tm.length;_p++){var Ep=tm[_p],W1=Ep.toLowerCase(),J1=Ep[0].toUpperCase()+Ep.slice(1);ei(W1,"on"+J1)}ei(Vv,"onAnimationEnd"),ei(Pv,"onAnimationIteration"),ei(Lv,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(m1,"onTransitionRun"),ei(p1,"onTransitionStart"),ei(g1,"onTransitionCancel"),ei(kv,"onTransitionEnd"),Pn("onMouseEnter",["mouseout","mouseover"]),Pn("onMouseLeave",["mouseout","mouseover"]),Pn("onPointerEnter",["pointerout","pointerover"]),Pn("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tu));function iT(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var _=u.length-1;0<=_;_--){var C=u[_],U=C.instance,Z=C.currentTarget;if(C=C.listener,U!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=Z;try{m(f)}catch(ae){Wc(ae)}f.currentTarget=null,m=U}else for(_=0;_<u.length;_++){if(C=u[_],U=C.instance,Z=C.currentTarget,C=C.listener,U!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=Z;try{m(f)}catch(ae){Wc(ae)}f.currentTarget=null,m=U}}}}function ot(r,i){var o=i[ze];o===void 0&&(o=i[ze]=new Set);var u=r+"__bubble";o.has(u)||(aT(i,r,2,!1),o.add(u))}function Tp(r,i,o){var u=0;i&&(u|=4),aT(o,r,u,i)}var kh="_reactListening"+Math.random().toString(36).slice(2);function bp(r){if(!r[kh]){r[kh]=!0,Xn.forEach(function(o){o!=="selectionchange"&&(Z1.has(o)||Tp(o,!1,r),Tp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[kh]||(i[kh]=!0,Tp("selectionchange",!1,i))}}function aT(r,i,o,u){switch(VT(i)){case 2:var f=CC;break;case 8:f=IC;break;default:f=kp}o=f.bind(null,i,o,r),f=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Sp(r,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var C=u.stateNode.containerInfo;if(C===f)break;if(_===4)for(_=u.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;C!==null;){if(_=kt(C),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){u=m=_;continue e}C=C.parentNode}}u=u.return}wa(function(){var Z=m,ae=Nr(o),ue=[];e:{var te=Uv.get(r);if(te!==void 0){var re=yi,Ie=r;switch(r){case"keypress":if(Ds(o)===0)break e;case"keydown":case"keyup":re=Yc;break;case"focusin":Ie="focus",re=xs;break;case"focusout":Ie="blur",re=xs;break;case"beforeblur":case"afterblur":re=xs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=y;break;case Vv:case Pv:case Lv:re=Bc;break;case kv:re=D;break;case"scroll":case"scrollend":re=Gl;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Bi;break;case"toggle":case"beforetoggle":re=We}var je=(i&4)!==0,Mt=!je&&(r==="scroll"||r==="scrollend"),K=je?te!==null?te+"Capture":null:te;je=[];for(var B=Z,J;B!==null;){var oe=B;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||K===null||(oe=Xr(B,K),oe!=null&&je.push(bu(B,oe,J))),Mt)break;B=B.return}0<je.length&&(te=new re(te,Ie,null,o,ae),ue.push({event:te,listeners:je}))}}if((i&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",te&&o!==Fl&&(Ie=o.relatedTarget||o.fromElement)&&(kt(Ie)||Ie[Re]))break e;if((re||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Ie=o.relatedTarget||o.toElement,re=Z,Ie=Ie?kt(Ie):null,Ie!==null&&(Mt=l(Ie),je=Ie.tag,Ie!==Mt||je!==5&&je!==27&&je!==6)&&(Ie=null)):(re=null,Ie=Z),re!==Ie)){if(je=$l,oe="onMouseLeave",K="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(je=Bi,oe="onPointerLeave",K="onPointerEnter",B="pointer"),Mt=re==null?te:Ut(re),J=Ie==null?te:Ut(Ie),te=new je(oe,B+"leave",re,o,ae),te.target=Mt,te.relatedTarget=J,oe=null,kt(ae)===Z&&(je=new je(K,B+"enter",Ie,o,ae),je.target=J,je.relatedTarget=Mt,oe=je),Mt=oe,re&&Ie)t:{for(je=eC,K=re,B=Ie,J=0,oe=K;oe;oe=je(oe))J++;oe=0;for(var Pe=B;Pe;Pe=je(Pe))oe++;for(;0<J-oe;)K=je(K),J--;for(;0<oe-J;)B=je(B),oe--;for(;J--;){if(K===B||B!==null&&K===B.alternate){je=K;break t}K=je(K),B=je(B)}je=null}else je=null;re!==null&&sT(ue,te,re,je,!1),Ie!==null&&Mt!==null&&sT(ue,Mt,Ie,je,!0)}}e:{if(te=Z?Ut(Z):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var _t=Sv;else if(Tv(te))if(Av)_t=h1;else{_t=u1;var Ne=l1}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&vo(Z.elementType)&&(_t=Sv):_t=c1;if(_t&&(_t=_t(r,Z))){bv(ue,_t,o,ae);break e}Ne&&Ne(r,te,Z),r==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&jl(te,"number",te.value)}switch(Ne=Z?Ut(Z):window,r){case"focusin":(Tv(Ne)||Ne.contentEditable==="true")&&(Ro=Ne,Jd=Z,Wl=null);break;case"focusout":Wl=Jd=Ro=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Ov(ue,o,ae);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Ov(ue,o,ae)}var tt;if(bt)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else wo?Os(r,o)&&(ut="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ut="onCompositionStart");ut&&(Ei&&o.locale!=="ko"&&(wo||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&wo&&(tt=ql()):(gi=ae,Hl="value"in gi?gi.value:gi.textContent,wo=!0)),Ne=Uh(Z,ut),0<Ne.length&&(ut=new _i(ut,r,null,o,ae),ue.push({event:ut,listeners:Ne}),tt?ut.data=tt:(tt=Ao(o),tt!==null&&(ut.data=tt)))),(tt=Or?i1(r,o):a1(r,o))&&(ut=Uh(Z,"onBeforeInput"),0<ut.length&&(Ne=new _i("onBeforeInput","beforeinput",null,o,ae),ue.push({event:Ne,listeners:ut}),Ne.data=tt)),X1(ue,r,Z,o,ae)}iT(ue,i)})}function bu(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Uh(r,i){for(var o=i+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Xr(r,o),f!=null&&u.unshift(bu(r,f,m)),f=Xr(r,i),f!=null&&u.push(bu(r,f,m))),r.tag===3)return u;r=r.return}return[]}function eC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sT(r,i,o,u,f){for(var m=i._reactName,_=[];o!==null&&o!==u;){var C=o,U=C.alternate,Z=C.stateNode;if(C=C.tag,U!==null&&U===u)break;C!==5&&C!==26&&C!==27||Z===null||(U=Z,f?(Z=Xr(o,m),Z!=null&&_.unshift(bu(o,Z,U))):f||(Z=Xr(o,m),Z!=null&&_.push(bu(o,Z,U)))),o=o.return}_.length!==0&&r.push({event:i,listeners:_})}var tC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function oT(r){return(typeof r=="string"?r:""+r).replace(tC,`
`).replace(nC,"")}function lT(r,i){return i=oT(i),oT(r)===i}function Ot(r,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Zn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Zn(r,""+u);break;case"className":ln(r,"class",u);break;case"tabIndex":ln(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ln(r,o,u);break;case"style":Bl(r,u,m);break;case"data":if(i!=="object"){ln(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=_o(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Ot(r,i,"name",f.name,f,null),Ot(r,i,"formEncType",f.formEncType,f,null),Ot(r,i,"formMethod",f.formMethod,f,null),Ot(r,i,"formTarget",f.formTarget,f,null)):(Ot(r,i,"encType",f.encType,f,null),Ot(r,i,"method",f.method,f,null),Ot(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=_o(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Qr);break;case"onScroll":u!=null&&ot("scroll",r);break;case"onScrollEnd":u!=null&&ot("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=_o(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ot("beforetoggle",r),ot("toggle",r),Xt(r,"popover",u);break;case"xlinkActuate":Dt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xt(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uc.get(o)||o,Xt(r,o,u))}}function Ap(r,i,o,u,f,m){switch(o){case"style":Bl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Zn(r,u):(typeof u=="number"||typeof u=="bigint")&&Zn(r,""+u);break;case"onScroll":u!=null&&ot("scroll",r);break;case"onScrollEnd":u!=null&&ot("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=r[_e]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Xt(r,o,u)}}}function Dn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",r),ot("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ot(r,i,m,_,o,null)}}f&&Ot(r,i,"srcSet",o.srcSet,o,null),u&&Ot(r,i,"src",o.src,o,null);return;case"input":ot("invalid",r);var C=m=_=f=null,U=null,Z=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":f=ae;break;case"type":_=ae;break;case"checked":U=ae;break;case"defaultChecked":Z=ae;break;case"value":m=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:Ot(r,i,u,ae,o,null)}}Pc(r,m,C,U,Z,_,f,!1);return;case"select":ot("invalid",r),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":_=C;break;case"multiple":u=C;default:Ot(r,i,f,C,o,null)}i=m,o=_,r.multiple=!!u,i!=null?Ta(r,!!u,i,!1):o!=null&&Ta(r,!!u,o,!0);return;case"textarea":ot("invalid",r),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(C=o[_],C!=null))switch(_){case"value":u=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Ot(r,i,_,C,o,null)}ba(r,u,f,m);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ot(r,i,U,u,o,null)}return;case"dialog":ot("beforetoggle",r),ot("toggle",r),ot("cancel",r),ot("close",r);break;case"iframe":case"object":ot("load",r);break;case"video":case"audio":for(u=0;u<Tu.length;u++)ot(Tu[u],r);break;case"image":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"embed":case"source":case"link":ot("error",r),ot("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(u=o[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ot(r,i,Z,u,o,null)}return;default:if(vo(i)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&Ap(r,i,ae,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&Ot(r,i,C,u,o,null))}function rC(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,C=null,U=null,Z=null,ae=null;for(re in o){var ue=o[re];if(o.hasOwnProperty(re)&&ue!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=ue;default:u.hasOwnProperty(re)||Ot(r,i,re,null,u,ue)}}for(var te in u){var re=u[te];if(ue=o[te],u.hasOwnProperty(te)&&(re!=null||ue!=null))switch(te){case"type":m=re;break;case"name":f=re;break;case"checked":Z=re;break;case"defaultChecked":ae=re;break;case"value":_=re;break;case"defaultValue":C=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,i));break;default:re!==ue&&Ot(r,i,te,re,u,ue)}}yo(r,_,C,U,Z,ae,m,f);return;case"select":re=_=C=te=null;for(m in o)if(U=o[m],o.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":re=U;default:u.hasOwnProperty(m)||Ot(r,i,m,null,u,U)}for(f in u)if(m=u[f],U=o[f],u.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":te=m;break;case"defaultValue":C=m;break;case"multiple":_=m;default:m!==U&&Ot(r,i,f,m,u,U)}i=C,o=_,u=re,te!=null?Ta(r,!!o,te,!1):!!u!=!!o&&(i!=null?Ta(r,!!o,i,!0):Ta(r,!!o,o?[]:"",!1));return;case"textarea":re=te=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ot(r,i,C,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":te=f;break;case"defaultValue":re=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Ot(r,i,_,f,u,m)}Lc(r,te,re);return;case"option":for(var Ie in o)if(te=o[Ie],o.hasOwnProperty(Ie)&&te!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":r.selected=!1;break;default:Ot(r,i,Ie,null,u,te)}for(U in u)if(te=u[U],re=o[U],u.hasOwnProperty(U)&&te!==re&&(te!=null||re!=null))switch(U){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Ot(r,i,U,te,u,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in o)te=o[je],o.hasOwnProperty(je)&&te!=null&&!u.hasOwnProperty(je)&&Ot(r,i,je,null,u,te);for(Z in u)if(te=u[Z],re=o[Z],u.hasOwnProperty(Z)&&te!==re&&(te!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:Ot(r,i,Z,te,u,re)}return;default:if(vo(i)){for(var Mt in o)te=o[Mt],o.hasOwnProperty(Mt)&&te!==void 0&&!u.hasOwnProperty(Mt)&&Ap(r,i,Mt,void 0,u,te);for(ae in u)te=u[ae],re=o[ae],!u.hasOwnProperty(ae)||te===re||te===void 0&&re===void 0||Ap(r,i,ae,te,u,re);return}}for(var K in o)te=o[K],o.hasOwnProperty(K)&&te!=null&&!u.hasOwnProperty(K)&&Ot(r,i,K,null,u,te);for(ue in u)te=u[ue],re=o[ue],!u.hasOwnProperty(ue)||te===re||te==null&&re==null||Ot(r,i,ue,te,u,re)}function uT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,_=f.initiatorType,C=f.duration;if(m&&C&&uT(_)){for(_=0,C=f.responseEnd,u+=1;u<o.length;u++){var U=o[u],Z=U.startTime;if(Z>C)break;var ae=U.transferSize,ue=U.initiatorType;ae&&uT(ue)&&(U=U.responseEnd,_+=ae*(U<C?1:(C-Z)/(U-Z)))}if(--u,i+=8*(m+_)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var wp=null,Rp=null;function jh(r){return r.nodeType===9?r:r.ownerDocument}function cT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Cp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ip=null;function aC(){var r=window.event;return r&&r.type==="popstate"?r===Ip?!1:(Ip=r,!0):(Ip=null,!1)}var fT=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(r){return dT.resolve(null).then(r).catch(lC)}:fT;function lC(r){setTimeout(function(){throw r})}function Ga(r){return r==="head"}function mT(r,i){var o=i,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(f),Zo(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Su(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Su(o);for(var m=o.firstChild;m;){var _=m.nextSibling,C=m.nodeName;m[It]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&Su(r.ownerDocument.body);o=f}while(o);Zo(i)}function pT(r,i){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Dp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dp(o),Ft(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function uC(r,i,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[It])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=jr(r.nextSibling),r===null)break}return null}function cC(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=jr(r.nextSibling),r===null))return null;return r}function gT(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=jr(r.nextSibling),r===null))return null;return r}function Np(r){return r.data==="$?"||r.data==="$~"}function xp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function hC(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function jr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Op=null;function yT(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return jr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function vT(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function _T(r,i,o){switch(i=jh(o),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Su(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ft(r)}var zr=new Map,ET=new Set;function zh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var na=he.d;he.d={f:fC,r:dC,D:mC,C:pC,L:gC,m:yC,X:_C,S:vC,M:EC};function fC(){var r=na.f(),i=xh();return r||i}function dC(r){var i=Ze(r);i!==null&&i.tag===5&&i.type==="form"?k_(i):na.r(r)}var Xo=typeof document>"u"?null:document;function TT(r,i,o){var u=Xo;if(u&&typeof i=="string"&&i){var f=Jn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),ET.has(f)||(ET.add(f),r={rel:r,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Dn(i,"link",r),jt(i),u.head.appendChild(i)))}}function mC(r){na.D(r),TT("dns-prefetch",r,null)}function pC(r,i){na.C(r,i),TT("preconnect",r,i)}function gC(r,i,o){na.L(r,i,o);var u=Xo;if(u&&r&&i){var f='link[rel="preload"][as="'+Jn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Jn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Jn(o.imageSizes)+'"]')):f+='[href="'+Jn(r)+'"]';var m=f;switch(i){case"style":m=Wo(r);break;case"script":m=Jo(r)}zr.has(m)||(r=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),zr.set(m,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(Au(m))||i==="script"&&u.querySelector(wu(m))||(i=u.createElement("link"),Dn(i,"link",r),jt(i),u.head.appendChild(i)))}}function yC(r,i){na.m(r,i);var o=Xo;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Jn(u)+'"][href="'+Jn(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Jo(r)}if(!zr.has(m)&&(r=E({rel:"modulepreload",href:r},i),zr.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(m)))return}u=o.createElement("link"),Dn(u,"link",r),jt(u),o.head.appendChild(u)}}}function vC(r,i,o){na.S(r,i,o);var u=Xo;if(u&&r){var f=Tn(u).hoistableStyles,m=Wo(r);i=i||"default";var _=f.get(m);if(!_){var C={loading:0,preload:null};if(_=u.querySelector(Au(m)))C.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":i},o),(o=zr.get(m))&&Mp(r,o);var U=_=u.createElement("link");jt(U),Dn(U,"link",r),U._p=new Promise(function(Z,ae){U.onload=Z,U.onerror=ae}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Bh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:C},f.set(m,_)}}}function _C(r,i){na.X(r,i);var o=Xo;if(o&&r){var u=Tn(o).hoistableScripts,f=Jo(r),m=u.get(f);m||(m=o.querySelector(wu(f)),m||(r=E({src:r,async:!0},i),(i=zr.get(f))&&Vp(r,i),m=o.createElement("script"),jt(m),Dn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function EC(r,i){na.M(r,i);var o=Xo;if(o&&r){var u=Tn(o).hoistableScripts,f=Jo(r),m=u.get(f);m||(m=o.querySelector(wu(f)),m||(r=E({src:r,async:!0,type:"module"},i),(i=zr.get(f))&&Vp(r,i),m=o.createElement("script"),jt(m),Dn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function bT(r,i,o,u){var f=(f=Me.current)?zh(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Wo(o.href),o=Tn(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Wo(o.href);var m=Tn(f).hoistableStyles,_=m.get(r);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=f.querySelector(Au(r)))&&!m._p&&(_.instance=m,_.state.loading=5),zr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zr.set(r,o),m||TC(f,r,o,_.state))),i&&u===null)throw Error(a(528,""));return _}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Jo(o),o=Tn(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function Wo(r){return'href="'+Jn(r)+'"'}function Au(r){return'link[rel="stylesheet"]['+r+"]"}function ST(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function TC(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Dn(i,"link",o),jt(i),r.head.appendChild(i))}function Jo(r){return'[src="'+Jn(r)+'"]'}function wu(r){return"script[async]"+r}function AT(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Jn(o.href)+'"]');if(u)return i.instance=u,jt(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),jt(u),Dn(u,"style",f),Bh(u,o.precedence,r),i.instance=u;case"stylesheet":f=Wo(o.href);var m=r.querySelector(Au(f));if(m)return i.state.loading|=4,i.instance=m,jt(m),m;u=ST(o),(f=zr.get(f))&&Mp(u,f),m=(r.ownerDocument||r).createElement("link"),jt(m);var _=m;return _._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),Dn(m,"link",u),i.state.loading|=4,Bh(m,o.precedence,r),i.instance=m;case"script":return m=Jo(o.src),(f=r.querySelector(wu(m)))?(i.instance=f,jt(f),f):(u=o,(f=zr.get(m))&&(u=E({},o),Vp(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),jt(f),Dn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Bh(u,o.precedence,r));return i.instance}function Bh(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var C=u[_];if(C.dataset.precedence===i)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Mp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Vp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Fh=null;function wT(r,i,o){if(Fh===null){var u=new Map,f=Fh=new Map;f.set(o,u)}else f=Fh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[It]||m[ge]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=r+_;var C=u.get(_);C?C.push(m):u.set(_,[m])}}return u}function RT(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function bC(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function CT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function SC(r,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Wo(u.href),m=i.querySelector(Au(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Hh.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,jt(m);return}m=i.ownerDocument||i,u=ST(u),(f=zr.get(f))&&Mp(u,f),m=m.createElement("link"),jt(m);var _=m;_._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),Dn(m,"link",u),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Hh.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Pp=0;function AC(r,i){return r.stylesheets&&r.count===0&&Gh(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Gh(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Pp===0&&(Pp=62500*iC());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Gh(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Pp?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qh=null;function Gh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qh=new Map,i.forEach(wC,r),qh=null,Hh.call(r))}function wC(r,i){if(!(i.state.loading&4)){var o=qh.get(r);if(o)var u=o.get(null);else{o=new Map,qh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=Hh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var Ru={$$typeof:F,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function RC(r,i,o,u,f,m,_,C,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function IT(r,i,o,u,f,m,_,C,U,Z,ae,ue){return r=new RC(r,i,o,_,U,Z,ae,ue,C),i=1,m===!0&&(i|=24),m=pr(3,null,null,i),r.current=m,m.stateNode=r,i=mm(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},vm(m),r}function DT(r){return r?(r=Do,r):Do}function NT(r,i,o,u,f,m){f=DT(f),u.context===null?u.context=f:u.pendingContext=f,u=Va(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Pa(r,u,i),o!==null&&(ir(o,r,i),iu(o,r,i))}function xT(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Lp(r,i){xT(r,i),(r=r.alternate)&&xT(r,i)}function OT(r){if(r.tag===13||r.tag===31){var i=Ps(r,67108864);i!==null&&ir(i,r,67108864),Lp(r,67108864)}}function MT(r){if(r.tag===13||r.tag===31){var i=Er();i=ee(i);var o=Ps(r,i);o!==null&&ir(o,r,i),Lp(r,i)}}var $h=!0;function CC(r,i,o,u){var f=W.T;W.T=null;var m=he.p;try{he.p=2,kp(r,i,o,u)}finally{he.p=m,W.T=f}}function IC(r,i,o,u){var f=W.T;W.T=null;var m=he.p;try{he.p=8,kp(r,i,o,u)}finally{he.p=m,W.T=f}}function kp(r,i,o,u){if($h){var f=Up(u);if(f===null)Sp(r,i,u,Kh,o),PT(r,u);else if(NC(f,r,i,o,u))u.stopPropagation();else if(PT(r,u),i&4&&-1<DC.indexOf(r)){for(;f!==null;){var m=Ze(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Dr(m.pendingLanes);if(_!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var U=1<<31-$t(_);C.entanglements[1]|=U,_&=~U}Ai(m),(St&6)===0&&(Dh=nt()+500,Eu(0))}}break;case 31:case 13:C=Ps(m,2),C!==null&&ir(C,m,2),xh(),Lp(m,2)}if(m=Up(u),m===null&&Sp(r,i,u,Kh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Sp(r,i,u,null,o)}}function Up(r){return r=Nr(r),jp(r)}var Kh=null;function jp(r){if(Kh=null,r=kt(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=d(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Kh=r,null}function VT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case ya:return 2;case Li:return 8;case En:case lr:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var zp=!1,$a=null,Ka=null,Ya=null,Cu=new Map,Iu=new Map,Qa=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PT(r,i){switch(r){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":Cu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(i.pointerId)}}function Du(r,i,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Ze(i),i!==null&&OT(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function NC(r,i,o,u,f){switch(i){case"focusin":return $a=Du($a,r,i,o,u,f),!0;case"dragenter":return Ka=Du(Ka,r,i,o,u,f),!0;case"mouseover":return Ya=Du(Ya,r,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return Cu.set(m,Du(Cu.get(m)||null,r,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Iu.set(m,Du(Iu.get(m)||null,r,i,o,u,f)),!0}return!1}function LT(r){var i=kt(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,Se(r.priority,function(){MT(o)});return}}else if(i===31){if(i=d(o),i!==null){r.blockedOn=i,Se(r.priority,function(){MT(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Up(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Fl=u,o.target.dispatchEvent(u),Fl=null}else return i=Ze(o),i!==null&&OT(i),r.blockedOn=o,!1;i.shift()}return!0}function kT(r,i,o){Yh(r)&&o.delete(i)}function xC(){zp=!1,$a!==null&&Yh($a)&&($a=null),Ka!==null&&Yh(Ka)&&(Ka=null),Ya!==null&&Yh(Ya)&&(Ya=null),Cu.forEach(kT),Iu.forEach(kT)}function Qh(r,i){r.blockedOn===i&&(r.blockedOn=null,zp||(zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xC)))}var Xh=null;function UT(r){Xh!==r&&(Xh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Xh===r&&(Xh=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(jp(u||o)===null)continue;break}var m=Ze(o);m!==null&&(r.splice(i,3),i-=3,Um(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Zo(r){function i(U){return Qh(U,r)}$a!==null&&Qh($a,r),Ka!==null&&Qh(Ka,r),Ya!==null&&Qh(Ya,r),Cu.forEach(i),Iu.forEach(i);for(var o=0;o<Qa.length;o++){var u=Qa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Qa.length&&(o=Qa[0],o.blockedOn===null);)LT(o),o.blockedOn===null&&Qa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[_e]||null;if(typeof m=="function")_||UT(o);else if(_){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[_e]||null)C=_.formAction;else if(jp(f)!==null)continue}else C=_.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),UT(o)}}}function jT(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Bp(r){this._internalRoot=r}Wh.prototype.render=Bp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=Er();NT(o,u,r,i,null,null)},Wh.prototype.unmount=Bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;NT(r.current,2,null,r,null,null),xh(),i[Re]=null}};function Wh(r){this._internalRoot=r}Wh.prototype.unstable_scheduleHydration=function(r){if(r){var i=pe();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Qa.length&&i!==0&&i<Qa[o].priority;o++);Qa.splice(o,0,r),o===0&&LT(r)}};var zT=e.version;if(zT!=="19.2.4")throw Error(a(527,zT,"19.2.4"));he.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(i),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var OC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ur=Jh.inject(OC),Vt=Jh}catch{}}return xu.createRoot=function(r,i){if(!s(r))throw Error(a(299));var o=!1,u="",f=K_,m=Y_,_=Q_;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=IT(r,1,!1,null,null,o,u,null,f,m,_,jT),r[Re]=i.current,bp(r),new Bp(i)},xu.hydrateRoot=function(r,i,o){if(!s(r))throw Error(a(299));var u=!1,f="",m=K_,_=Y_,C=Q_,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=IT(r,1,!0,i,o??null,u,f,U,m,_,C,jT),i.context=DT(null),o=i.current,u=Er(),u=ee(u),f=Va(u),f.callback=null,Pa(o,f,u),o=u,i.current.lanes=o,hi(i,o),Ai(i),r[Re]=i.current,bp(r),new Wh(i)},xu.version="19.2.4",xu}var XT;function GC(){if(XT)return Gp.exports;XT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=qC(),Gp.exports}var $C=GC();const KC=bS($C);var Qp={exports:{}},Xp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function YC(){if(WT)return Xp;WT=1;var n=dd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,a=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Xp.useSyncExternalStoreWithSelector=function(p,g,v,E,S){var I=s(null);if(I.current===null){var M={hasValue:!1,value:null};I.current=M}else M=I.current;I=c(function(){function L(Y){if(!$){if($=!0,G=Y,Y=E(Y),S!==void 0&&M.hasValue){var q=M.value;if(S(q,Y))return F=q}return F=Y}if(q=F,t(G,Y))return q;var b=E(Y);return S!==void 0&&S(q,b)?(G=Y,q):(G=Y,F=b)}var $=!1,G,F,X=v===void 0?null:v;return[function(){return L(g())},X===null?void 0:function(){return L(X())}]},[g,v,E,S]);var z=a(p,I[0],I[1]);return l(function(){M.hasValue=!0,M.value=z},[z]),d(z),z},Xp}var JT;function QC(){return JT||(JT=1,Qp.exports=YC()),Qp.exports}var XC=QC();function WC(n){n()}function JC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){WC(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=n;for(;a;)t.push(a),a=a.next;return t},subscribe(t){let a=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!a||n===null||(a=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var ZT={notify(){},get:()=>[]};function ZC(n,e){let t,a=ZT,s=0,l=!1;function c(z){v();const L=a.subscribe(z);let $=!1;return()=>{$||($=!0,L(),E())}}function d(){a.notify()}function p(){M.onStateChange&&M.onStateChange()}function g(){return l}function v(){s++,t||(t=n.subscribe(p),a=JC())}function E(){s--,t&&s===0&&(t(),t=void 0,a.clear(),a=ZT)}function S(){l||(l=!0,v())}function I(){l&&(l=!1,E())}const M={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:S,tryUnsubscribe:I,getListeners:()=>a};return M}var eI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tI=eI(),nI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rI=nI(),iI=()=>tI||rI?P.useLayoutEffect:P.useEffect,aI=iI(),Wp=Symbol.for("react-redux-context"),Jp=typeof globalThis<"u"?globalThis:{};function sI(){if(!P.createContext)return{};const n=Jp[Wp]??(Jp[Wp]=new Map);let e=n.get(P.createContext);return e||(e=P.createContext(null),n.set(P.createContext,e)),e}var hs=sI();function oI(n){const{children:e,context:t,serverState:a,store:s}=n,l=P.useMemo(()=>{const p=ZC(s);return{store:s,subscription:p,getServerState:a?()=>a:void 0}},[s,a]),c=P.useMemo(()=>s.getState(),[s]);aI(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==s.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||hs;return P.createElement(d.Provider,{value:l},e)}var lI=oI;function ly(n=hs){return function(){return P.useContext(n)}}var wS=ly();function RS(n=hs){const e=n===hs?wS:ly(n),t=()=>{const{store:a}=e();return a};return Object.assign(t,{withTypes:()=>t}),t}var uI=RS();function cI(n=hs){const e=n===hs?uI:RS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var hI=cI(),fI=(n,e)=>n===e;function dI(n=hs){const e=n===hs?wS:ly(n),t=(a,s={})=>{const{equalityFn:l=fI}=typeof s=="function"?{equalityFn:s}:s,c=e(),{store:d,subscription:p,getServerState:g}=c;P.useRef(!0);const v=P.useCallback({[a.name](S){return a(S)}}[a.name],[a]),E=XC.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,v,l);return P.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var mI=dI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CS=n=>{throw TypeError(n)},pI=(n,e,t)=>e.has(n)||CS("Cannot "+t),Zp=(n,e,t)=>(pI(n,e,"read from private field"),t?t.call(n):e.get(n)),gI=(n,e,t)=>e.has(n)?CS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),e0="popstate";function yI(n={}){function e(s,l){let{pathname:c="/",search:d="",hash:p=""}=pa(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Zu("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Oi(l))}function a(s,l){Wt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return _I(e,t,a,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substring(2,10)}function t0(n,e){return{usr:n.state,key:n.key,idx:e}}function Zu(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:t,key:e&&e.key||a||vI()}}function Oi({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function pa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function _I(n,e,t,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let L=v(),$=L==null?null:L-g;g=L,p&&p({action:d,location:z.location,delta:$})}function S(L,$){d="PUSH";let G=Zu(z.location,L,$);t&&t(G,L),g=v()+1;let F=t0(G,g),X=z.createHref(G);try{c.pushState(F,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(X)}l&&p&&p({action:d,location:z.location,delta:1})}function I(L,$){d="REPLACE";let G=Zu(z.location,L,$);t&&t(G,L),g=v();let F=t0(G,g),X=z.createHref(G);c.replaceState(F,"",X),l&&p&&p({action:d,location:z.location,delta:0})}function M(L){return IS(L)}let z={get action(){return d},get location(){return n(s,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(e0,E),p=L,()=>{s.removeEventListener(e0,E),p=null}},createHref(L){return e(s,L)},createURL:M,encodeLocation(L){let $=M(L);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:I,go(L){return c.go(L)}};return z}function IS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Oi(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Lu,n0=class{constructor(n){if(gI(this,Lu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Zp(this,Lu).has(n))return Zp(this,Lu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Zp(this,Lu).set(n,e)}};Lu=new WeakMap;var EI=new Set(["lazy","caseSensitive","path","id","index","children"]);function TI(n){return EI.has(n)}var bI=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function SI(n){return bI.has(n)}function AI(n){return n.index===!0}function ec(n,e,t=[],a={},s=!1){return n.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(it(l.index!==!0||!l.children,"Cannot specify children on an index route"),it(s||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),AI(l)){let g={...l,id:p};return a[p]=r0(g,e(g)),g}else{let g={...l,id:p,children:void 0};return a[p]=r0(g,e(g)),l.children&&(g.children=ec(l.children,e,d,a,s)),g}})}function r0(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Ja(n,e,t="/"){return ku(n,e,t,!1)}function ku(n,e,t,a){let s=typeof e=="string"?pa(e):e,l=qr(s.pathname||"/",t);if(l==null)return null;let c=DS(n);RI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=kI(l);d=PI(c[p],g,a)}return d}function wI(n,e){let{route:t,pathname:a,params:s}=n;return{id:t.id,pathname:a,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function DS(n,e=[],t=[],a="",s=!1){let l=(c,d,p=s,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;it(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let E=Ci([a,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(it(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),DS(c.children,e,S,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:MI(E,c.index),routesMeta:S})};return n.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of NS(c.path))l(c,d,!0,g)}),e}function NS(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=NS(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function RI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:VI(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var CI=/^:[\w-]+$/,II=3,DI=2,NI=1,xI=10,OI=-2,i0=n=>n==="*";function MI(n,e){let t=n.split("/"),a=t.length;return t.some(i0)&&(a+=OI),e&&(a+=DI),t.filter(s=>!i0(s)).reduce((s,l)=>s+(CI.test(l)?II:l===""?NI:xI),a)}function VI(n,e){return n.length===e.length&&n.slice(0,-1).every((a,s)=>a===e[s])?n[n.length-1]-e[e.length-1]:0}function PI(n,e,t=!1){let{routesMeta:a}=n,s={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=kf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!E&&g&&t&&!a[a.length-1].route.index&&(E=kf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Ci([l,E.pathname]),pathnameBase:zI(Ci([l,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(l=Ci([l,E.pathnameBase]))}return c}function kf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=LI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:E},S)=>{if(v==="*"){let M=d[S]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const I=d[S];return E&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function LI(n,e=!1,t=!0){Wt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function kI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function UI({basename:n,pathname:e}){return e==="/"?n:Ci([n,e])}var xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uy=n=>xS.test(n);function jI(n,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof n=="string"?pa(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=a0(t.substring(1),"/"):l=a0(t,e)):l=e,{pathname:l,search:BI(a),hash:FI(s)}}function a0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function eg(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function md(n){let e=OS(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function pd(n,e,t,a=!1){let s;typeof n=="string"?s=pa(n):(s={...n},it(!s.pathname||!s.pathname.includes("?"),eg("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),eg("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),eg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!a&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),E-=1;s.pathname=S.join("/")}d=E>=0?e[E]:"/"}let p=jI(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ci=n=>n.join("/").replace(/\/\/+/g,"/"),zI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,dc=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function mc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VS(n,e){let t=n;if(typeof t!="string"||!xS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,s=!1;if(MS)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=qr(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:s=!0}catch{Wt(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:t}}var rs=Symbol("Uninstrumented");function HI(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let d of c)l[d]&&t[d].push(l[d])}}));let a={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=ol(t.lazy,e.lazy,()=>{});s&&(a.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(l=>{let c=s[l],d=t[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let p=ol(d,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[l]:p}))}})}return["loader","action"].forEach(s=>{let l=e[s];if(typeof l=="function"&&t[s].length>0){let c=l[rs]??l,d=ol(t[s],c,(...p)=>s0(p[0]));d&&(s==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[rs]=c,a[s]=d)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(a.middleware=e.middleware.map(s=>{let l=s[rs]??s,c=ol(t.middleware,l,(...d)=>s0(d[0]));return c?(c[rs]=l,c):s})),a}function qI(n,e){let t={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(s){let l=Object.keys(s);for(let c of l)s[c]&&t[c].push(s[c])}})),t.navigate.length>0){let a=n.navigate[rs]??n.navigate,s=ol(t.navigate,a,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?Oi(c):".",...o0(n,d??{})}});s&&(s[rs]=a,n.navigate=s)}if(t.fetch.length>0){let a=n.fetch[rs]??n.fetch,s=ol(t.fetch,a,(...l)=>{let[c,,d,p]=l;return{href:d??".",fetcherKey:c,...o0(n,p??{})}});s&&(s[rs]=a,n.fetch=s)}return n}function ol(n,e,t){return n.length===0?null:async(...a)=>{let s=await PS(n,t(...a),()=>e(...a),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function PS(n,e,t,a){let s=n[a],l;if(s){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=PS(n,e,t,a-1),l=await c,it(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await s(d,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await d(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function s0(n){let{request:e,context:t,params:a,unstable_pattern:s}=n;return{request:GI(e),params:{...a},unstable_pattern:s,context:$I(t)}}function o0(n,e){return{currentUrl:Oi(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function GI(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function $I(n){if(YI(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var KI=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function YI(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===KI}var LS=["POST","PUT","PATCH","DELETE"],QI=new Set(LS),XI=["GET",...LS],WI=new Set(XI),kS=new Set([301,302,303,307,308]),JI=new Set([307,308]),tg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ZI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},eD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),US="remix-router-transitions",jS=Symbol("ResetLoaderData");function tD(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";it(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],s=n.mapRouteProperties||eD,l=s;if(n.unstable_instrumentations){let k=n.unstable_instrumentations;l=H=>({...s(H),...HI(k.map(ee=>ee.route).filter(Boolean),H)})}let c={},d=ec(n.routes,l,void 0,c),p,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let v=n.dataStrategy||sD,E={...n.future},S=null,I=new Set,M=null,z=null,L=null,$=n.hydrationData!=null,G=Ja(d,n.history.location,g),F=!1,X=null,Y;if(G==null&&!n.patchRoutesOnNavigation){let k=Br(404,{pathname:n.history.location.pathname}),{matches:H,route:ee}=Zh(d);Y=!0,G=H,X={[ee.id]:k}}else if(G&&!n.hydrationData&&ki(G,d,n.history.location.pathname).active&&(G=null),G)if(G.some(k=>k.route.lazy))Y=!1;else if(!G.some(k=>cy(k.route)))Y=!0;else{let k=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let ee=G.findIndex(fe=>H[fe.route.id]!==void 0);Y=G.slice(0,ee+1).every(fe=>!wg(fe.route,k,H))}else Y=G.every(ee=>!wg(ee.route,k,H))}else{Y=!1,G=[];let k=ki(null,d,n.history.location.pathname);k.active&&k.matches&&(F=!0,G=k.matches)}let q,b={historyAction:n.history.action,location:n.history.location,matches:G,initialized:Y,navigation:tg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||X,fetchers:new Map,blockers:new Map},A="POP",R=null,N=!1,x,V=!1,O=new Map,ke=null,$e=!1,W=!1,he=new Set,me=new Map,Ve=0,De=-1,j=new Map,ie=new Set,de=new Map,ye=new Map,we=new Set,Me=new Map,Qe,wt=null;function vt(){if(S=n.history.listen(({action:k,location:H,delta:ee})=>{if(Qe){Qe(),Qe=void 0;return}Wt(Me.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let fe=ci({currentLocation:b.location,nextLocation:H,historyAction:k});if(fe&&ee!=null){let pe=new Promise(Se=>{Qe=Se});n.history.go(ee*-1),Hn(fe,{state:"blocked",location:H,proceed(){Hn(fe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),pe.then(()=>n.history.go(ee))},reset(){let Se=new Map(b.blockers);Se.set(fe,Ou),Lt({blockers:Se})}}),R==null||R.resolve(),R=null;return}return Oe(k,H)}),t){AD(e,O);let k=()=>wD(e,O);e.addEventListener("pagehide",k),ke=()=>e.removeEventListener("pagehide",k)}return b.initialized||Oe("POP",b.location,{initialHydration:!0}),q}function Ir(){S&&S(),ke&&ke(),I.clear(),x&&x.abort(),b.fetchers.forEach((k,H)=>va(H)),b.blockers.forEach((k,H)=>Ss(H))}function Yr(k){return I.add(k),()=>I.delete(k)}function Lt(k,H={}){k.matches&&(k.matches=k.matches.map(pe=>{let Se=c[pe.route.id],Ce=pe.route;return Ce.element!==Se.element||Ce.errorElement!==Se.errorElement||Ce.hydrateFallbackElement!==Se.hydrateFallbackElement?{...pe,route:Se}:pe})),b={...b,...k};let ee=[],fe=[];b.fetchers.forEach((pe,Se)=>{pe.state==="idle"&&(we.has(Se)?ee.push(Se):fe.push(Se))}),we.forEach(pe=>{!b.fetchers.has(pe)&&!me.has(pe)&&ee.push(pe)}),[...I].forEach(pe=>pe(b,{deletedFetchers:ee,newErrors:k.errors??null,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),ee.forEach(pe=>va(pe)),fe.forEach(pe=>b.fetchers.delete(pe))}function An(k,H,{flushSync:ee}={}){var ze,xe;let fe=b.actionData!=null&&b.navigation.formMethod!=null&&Un(b.navigation.formMethod)&&b.navigation.state==="loading"&&((ze=k.state)==null?void 0:ze._isRedirect)!==!0,pe;H.actionData?Object.keys(H.actionData).length>0?pe=H.actionData:pe=null:fe?pe=b.actionData:pe=null;let Se=H.loaderData?y0(b.loaderData,H.loaderData,H.matches||[],H.errors):b.loaderData,Ce=b.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((qe,rt)=>Ce.set(rt,Ou)));let ge=$e?!1:go(k,H.matches||b.matches),_e=N===!0||b.navigation.formMethod!=null&&Un(b.navigation.formMethod)&&((xe=k.state)==null?void 0:xe._isRedirect)!==!0;p&&(d=p,p=void 0),$e||A==="POP"||(A==="PUSH"?n.history.push(k,k.state):A==="REPLACE"&&n.history.replace(k,k.state));let Re;if(A==="POP"){let qe=O.get(b.location.pathname);qe&&qe.has(k.pathname)?Re={currentLocation:b.location,nextLocation:k}:O.has(k.pathname)&&(Re={currentLocation:k,nextLocation:b.location})}else if(V){let qe=O.get(b.location.pathname);qe?qe.add(k.pathname):(qe=new Set([k.pathname]),O.set(b.location.pathname,qe)),Re={currentLocation:b.location,nextLocation:k}}Lt({...H,actionData:pe,loaderData:Se,historyAction:A,location:k,initialized:!0,navigation:tg,revalidation:"idle",restoreScrollPosition:ge,preventScrollReset:_e,blockers:Ce},{viewTransitionOpts:Re,flushSync:ee===!0}),A="POP",N=!1,V=!1,$e=!1,W=!1,R==null||R.resolve(),R=null,wt==null||wt.resolve(),wt=null}async function se(k,H){if(R==null||R.resolve(),R=null,typeof k=="number"){R||(R=T0());let rt=R.promise;return n.history.go(k),rt}let ee=Ag(b.location,b.matches,g,k,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:fe,submission:pe,error:Se}=l0(!1,ee,H),Ce=b.location,ge=Zu(b.location,fe,H&&H.state);ge={...ge,...n.history.encodeLocation(ge)};let _e=H&&H.replace!=null?H.replace:void 0,Re="PUSH";_e===!0?Re="REPLACE":_e===!1||pe!=null&&Un(pe.formMethod)&&pe.formAction===b.location.pathname+b.location.search&&(Re="REPLACE");let ze=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,xe=(H&&H.flushSync)===!0,qe=ci({currentLocation:Ce,nextLocation:ge,historyAction:Re});if(qe){Hn(qe,{state:"blocked",location:ge,proceed(){Hn(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),se(k,H)},reset(){let rt=new Map(b.blockers);rt.set(qe,Ou),Lt({blockers:rt})}});return}await Oe(Re,ge,{submission:pe,pendingError:Se,preventScrollReset:ze,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:xe,callSiteDefaultShouldRevalidate:H&&H.unstable_defaultShouldRevalidate})}function Ee(){wt||(wt=T0()),Li(),Lt({revalidation:"loading"});let k=wt.promise;return b.navigation.state==="submitting"?k:b.navigation.state==="idle"?(Oe(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),k):(Oe(A||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:V===!0}),k)}async function Oe(k,H,ee){x&&x.abort(),x=null,A=k,$e=(ee&&ee.startUninterruptedRevalidation)===!0,hr(b.location,b.matches),N=(ee&&ee.preventScrollReset)===!0,V=(ee&&ee.enableViewTransition)===!0;let fe=p||d,pe=ee&&ee.overrideNavigation,Se=ee!=null&&ee.initialHydration&&b.matches&&b.matches.length>0&&!F?b.matches:Ja(fe,H,g),Ce=(ee&&ee.flushSync)===!0;if(Se&&b.initialized&&!W&&mD(b.location,H)&&!(ee&&ee.submission&&Un(ee.submission.formMethod))){An(H,{matches:Se},{flushSync:Ce});return}let ge=ki(Se,fe,H.pathname);if(ge.active&&ge.matches&&(Se=ge.matches),!Se){let{error:Ft,notFoundMatches:kt,route:Ze}=Kt(H.pathname);An(H,{matches:kt,loaderData:{},errors:{[Ze.id]:Ft}},{flushSync:Ce});return}x=new AbortController;let _e=tl(n.history,H,x.signal,ee&&ee.submission),Re=n.getContext?await n.getContext():new n0,ze;if(ee&&ee.pendingError)ze=[Za(Se).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Un(ee.submission.formMethod)){let Ft=await Ue(_e,H,ee.submission,Se,Re,ge.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ce});if(Ft.shortCircuited)return;if(Ft.pendingActionResult){let[kt,Ze]=Ft.pendingActionResult;if(Tr(Ze)&&tc(Ze.error)&&Ze.error.status===404){x=null,An(H,{matches:Ft.matches,loaderData:{},errors:{[kt]:Ze.error}});return}}Se=Ft.matches||Se,ze=Ft.pendingActionResult,pe=ng(H,ee.submission),Ce=!1,ge.active=!1,_e=tl(n.history,_e.url,_e.signal)}let{shortCircuited:xe,matches:qe,loaderData:rt,errors:It}=await Fe(_e,H,Se,Re,ge.active,pe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ce,ze,ee&&ee.callSiteDefaultShouldRevalidate);xe||(x=null,An(H,{matches:qe||Se,...v0(ze),loaderData:rt,errors:It}))}async function Ue(k,H,ee,fe,pe,Se,Ce,ge={}){Li();let _e=bD(H,ee);if(Lt({navigation:_e},{flushSync:ge.flushSync===!0}),Se){let xe=await qn(fe,H.pathname,k.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){if(xe.partialMatches.length===0){let{matches:rt,route:It}=Zh(d);return{matches:rt,pendingActionResult:[It.id,{type:"error",error:xe.error}]}}let qe=Za(xe.partialMatches).route.id;return{matches:xe.partialMatches,pendingActionResult:[qe,{type:"error",error:xe.error}]}}else if(xe.matches)fe=xe.matches;else{let{notFoundMatches:qe,error:rt,route:It}=Kt(H.pathname);return{matches:qe,pendingActionResult:[It.id,{type:"error",error:rt}]}}}let Re,ze=ff(fe,H);if(!ze.route.action&&!ze.route.lazy)Re={type:"error",error:Br(405,{method:k.method,pathname:H.pathname,routeId:ze.route.id})};else{let xe=ul(l,c,k,fe,ze,Ce?[]:a,pe),qe=await or(k,xe,pe,null);if(Re=qe[ze.route.id],!Re){for(let rt of fe)if(qe[rt.route.id]){Re=qe[rt.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(Qs(Re)){let xe;return ge&&ge.replace!=null?xe=ge.replace:xe=m0(Re.response.headers.get("Location"),new URL(k.url),g,n.history)===b.location.pathname+b.location.search,await nt(k,Re,!0,{submission:ee,replace:xe}),{shortCircuited:!0}}if(Tr(Re)){let xe=Za(fe,ze.route.id);return(ge&&ge.replace)!==!0&&(A="PUSH"),{matches:fe,pendingActionResult:[xe.route.id,Re,ze.route.id]}}return{matches:fe,pendingActionResult:[ze.route.id,Re]}}async function Fe(k,H,ee,fe,pe,Se,Ce,ge,_e,Re,ze,xe,qe){let rt=Se||ng(H,Ce),It=Ce||ge||E0(rt),Ft=!$e&&!Re;if(pe){if(Ft){let Xt=be(xe);Lt({navigation:rt,...Xt!==void 0?{actionData:Xt}:{}},{flushSync:ze})}let at=await qn(ee,H.pathname,k.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){if(at.partialMatches.length===0){let{matches:ln,route:Dt}=Zh(d);return{matches:ln,loaderData:{},errors:{[Dt.id]:at.error}}}let Xt=Za(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[Xt]:at.error}}}else if(at.matches)ee=at.matches;else{let{error:Xt,notFoundMatches:ln,route:Dt}=Kt(H.pathname);return{matches:ln,loaderData:{},errors:{[Dt.id]:Xt}}}}let kt=p||d,{dsMatches:Ze,revalidatingFetchers:Ut}=u0(k,fe,l,c,n.history,b,ee,It,H,Re?[]:a,Re===!0,W,he,we,de,ie,kt,g,n.patchRoutesOnNavigation!=null,xe,qe);if(De=++Ve,!n.dataStrategy&&!Ze.some(at=>at.shouldLoad)&&!Ze.some(at=>at.route.middleware&&at.route.middleware.length>0)&&Ut.length===0){let at=$t();return An(H,{matches:ee,loaderData:{},errors:xe&&Tr(xe[1])?{[xe[0]]:xe[1].error}:null,...v0(xe),...at?{fetchers:new Map(b.fetchers)}:{}},{flushSync:ze}),{shortCircuited:!0}}if(Ft){let at={};if(!pe){at.navigation=rt;let Xt=be(xe);Xt!==void 0&&(at.actionData=Xt)}Ut.length>0&&(at.fetchers=Xe(Ut)),Lt(at,{flushSync:ze})}Ut.forEach(at=>{Vt(at.key),at.controller&&me.set(at.key,at.controller)});let Tn=()=>Ut.forEach(at=>Vt(at.key));x&&x.signal.addEventListener("abort",Tn);let{loaderResults:jt,fetcherResults:Xn}=await ya(Ze,Ut,k,fe);if(k.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Tn),Ut.forEach(at=>me.delete(at.key));let Vn=ef(jt);if(Vn)return await nt(k,Vn.result,!0,{replace:_e}),{shortCircuited:!0};if(Vn=ef(Xn),Vn)return ie.add(Vn.key),await nt(k,Vn.result,!0,{replace:_e}),{shortCircuited:!0};let{loaderData:Wn,errors:Pn}=g0(b,ee,jt,xe,Ut,Xn);Re&&b.errors&&(Pn={...b.errors,...Pn});let fr=$t(),fi=bs(De),di=fr||fi||Ut.length>0;return{matches:ee,loaderData:Wn,errors:Pn,...di?{fetchers:new Map(b.fetchers)}:{}}}function be(k){if(k&&!Tr(k[1]))return{[k[0]]:k[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Xe(k){return k.forEach(H=>{let ee=b.fetchers.get(H.key),fe=Mu(void 0,ee?ee.data:void 0);b.fetchers.set(H.key,fe)}),new Map(b.fetchers)}async function gt(k,H,ee,fe){Vt(k);let pe=(fe&&fe.flushSync)===!0,Se=p||d,Ce=Ag(b.location,b.matches,g,ee,H,fe==null?void 0:fe.relative),ge=Ja(Se,Ce,g),_e=ki(ge,Se,Ce);if(_e.active&&_e.matches&&(ge=_e.matches),!ge){lr(k,H,Br(404,{pathname:Ce}),{flushSync:pe});return}let{path:Re,submission:ze,error:xe}=l0(!0,Ce,fe);if(xe){lr(k,H,xe,{flushSync:pe});return}let qe=n.getContext?await n.getContext():new n0,rt=(fe&&fe.preventScrollReset)===!0;if(ze&&Un(ze.formMethod)){await yt(k,H,Re,ge,qe,_e.active,pe,rt,ze,fe&&fe.unstable_defaultShouldRevalidate);return}de.set(k,{routeId:H,path:Re}),await Bt(k,H,Re,ge,qe,_e.active,pe,rt,ze)}async function yt(k,H,ee,fe,pe,Se,Ce,ge,_e,Re){Li(),de.delete(k);let ze=b.fetchers.get(k);En(k,SD(_e,ze),{flushSync:Ce});let xe=new AbortController,qe=tl(n.history,ee,xe.signal,_e);if(Se){let et=await qn(fe,new URL(qe.url).pathname,qe.signal,k);if(et.type==="aborted")return;if(et.type==="error"){lr(k,H,et.error,{flushSync:Ce});return}else if(et.matches)fe=et.matches;else{lr(k,H,Br(404,{pathname:ee}),{flushSync:Ce});return}}let rt=ff(fe,ee);if(!rt.route.action&&!rt.route.lazy){let et=Br(405,{method:_e.formMethod,pathname:ee,routeId:H});lr(k,H,et,{flushSync:Ce});return}me.set(k,xe);let It=Ve,Ft=ul(l,c,qe,fe,rt,a,pe),kt=await or(qe,Ft,pe,k),Ze=kt[rt.route.id];if(!Ze){for(let et of Ft)if(kt[et.route.id]){Ze=kt[et.route.id];break}}if(qe.signal.aborted){me.get(k)===xe&&me.delete(k);return}if(we.has(k)){if(Qs(Ze)||Tr(Ze)){En(k,ra(void 0));return}}else{if(Qs(Ze))if(me.delete(k),De>It){En(k,ra(void 0));return}else return ie.add(k),En(k,Mu(_e)),nt(qe,Ze,!1,{fetcherSubmission:_e,preventScrollReset:ge});if(Tr(Ze)){lr(k,H,Ze.error);return}}let Ut=b.navigation.location||b.location,Tn=tl(n.history,Ut,xe.signal),jt=p||d,Xn=b.navigation.state!=="idle"?Ja(jt,b.navigation.location,g):b.matches;it(Xn,"Didn't find any matches after fetcher action");let Vn=++Ve;j.set(k,Vn);let Wn=Mu(_e,Ze.data);b.fetchers.set(k,Wn);let{dsMatches:Pn,revalidatingFetchers:fr}=u0(Tn,pe,l,c,n.history,b,Xn,_e,Ut,a,!1,W,he,we,de,ie,jt,g,n.patchRoutesOnNavigation!=null,[rt.route.id,Ze],Re);fr.filter(et=>et.key!==k).forEach(et=>{let dr=et.key,Ea=b.fetchers.get(dr),Tt=Mu(void 0,Ea?Ea.data:void 0);b.fetchers.set(dr,Tt),Vt(dr),et.controller&&me.set(dr,et.controller)}),Lt({fetchers:new Map(b.fetchers)});let fi=()=>fr.forEach(et=>Vt(et.key));xe.signal.addEventListener("abort",fi);let{loaderResults:di,fetcherResults:at}=await ya(Pn,fr,Tn,pe);if(xe.signal.aborted)return;if(xe.signal.removeEventListener("abort",fi),j.delete(k),me.delete(k),fr.forEach(et=>me.delete(et.key)),b.fetchers.has(k)){let et=ra(Ze.data);b.fetchers.set(k,et)}let Xt=ef(di);if(Xt)return nt(Tn,Xt.result,!1,{preventScrollReset:ge});if(Xt=ef(at),Xt)return ie.add(Xt.key),nt(Tn,Xt.result,!1,{preventScrollReset:ge});let{loaderData:ln,errors:Dt}=g0(b,Xn,di,void 0,fr,at);bs(Vn),b.navigation.state==="loading"&&Vn>De?(it(A,"Expected pending action"),x&&x.abort(),An(b.navigation.location,{matches:Xn,loaderData:ln,errors:Dt,fetchers:new Map(b.fetchers)})):(Lt({errors:Dt,loaderData:y0(b.loaderData,ln,Xn,Dt),fetchers:new Map(b.fetchers)}),W=!1)}async function Bt(k,H,ee,fe,pe,Se,Ce,ge,_e){let Re=b.fetchers.get(k);En(k,Mu(_e,Re?Re.data:void 0),{flushSync:Ce});let ze=new AbortController,xe=tl(n.history,ee,ze.signal);if(Se){let Ze=await qn(fe,new URL(xe.url).pathname,xe.signal,k);if(Ze.type==="aborted")return;if(Ze.type==="error"){lr(k,H,Ze.error,{flushSync:Ce});return}else if(Ze.matches)fe=Ze.matches;else{lr(k,H,Br(404,{pathname:ee}),{flushSync:Ce});return}}let qe=ff(fe,ee);me.set(k,ze);let rt=Ve,It=ul(l,c,xe,fe,qe,a,pe),kt=(await or(xe,It,pe,k))[qe.route.id];if(me.get(k)===ze&&me.delete(k),!xe.signal.aborted){if(we.has(k)){En(k,ra(void 0));return}if(Qs(kt))if(De>rt){En(k,ra(void 0));return}else{ie.add(k),await nt(xe,kt,!1,{preventScrollReset:ge});return}if(Tr(kt)){lr(k,H,kt.error);return}En(k,ra(kt.data))}}async function nt(k,H,ee,{submission:fe,fetcherSubmission:pe,preventScrollReset:Se,replace:Ce}={}){ee||(R==null||R.resolve(),R=null),H.response.headers.has("X-Remix-Revalidate")&&(W=!0);let ge=H.response.headers.get("Location");it(ge,"Expected a Location header on the redirect Response"),ge=m0(ge,new URL(k.url),g,n.history);let _e=Zu(b.location,ge,{_isRedirect:!0});if(t){let It=!1;if(H.response.headers.has("X-Remix-Reload-Document"))It=!0;else if(uy(ge)){const Ft=IS(ge,!0);It=Ft.origin!==e.location.origin||qr(Ft.pathname,g)==null}if(It){Ce?e.location.replace(ge):e.location.assign(ge);return}}x=null;let Re=Ce===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ze,formAction:xe,formEncType:qe}=b.navigation;!fe&&!pe&&ze&&xe&&qe&&(fe=E0(b.navigation));let rt=fe||pe;if(JI.has(H.response.status)&&rt&&Un(rt.formMethod))await Oe(Re,_e,{submission:{...rt,formAction:ge},preventScrollReset:Se||N,enableViewTransition:ee?V:void 0});else{let It=ng(_e,fe);await Oe(Re,_e,{overrideNavigation:It,fetcherSubmission:pe,preventScrollReset:Se||N,enableViewTransition:ee?V:void 0})}}async function or(k,H,ee,fe){var Ce;let pe,Se={};try{pe=await lD(v,k,H,fe,ee,!1)}catch(ge){return H.filter(_e=>_e.shouldLoad).forEach(_e=>{Se[_e.route.id]={type:"error",error:ge}}),Se}if(k.signal.aborted)return Se;if(!Un(k.method))for(let ge of H){if(((Ce=pe[ge.route.id])==null?void 0:Ce.type)==="error")break;!pe.hasOwnProperty(ge.route.id)&&!b.loaderData.hasOwnProperty(ge.route.id)&&(!b.errors||!b.errors.hasOwnProperty(ge.route.id))&&ge.shouldCallHandler()&&(pe[ge.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ge.route.id}`)})}for(let[ge,_e]of Object.entries(pe))if(vD(_e)){let Re=_e.result;Se[ge]={type:"redirect",response:fD(Re,k,ge,H,g)}}else Se[ge]=await hD(_e);return Se}async function ya(k,H,ee,fe){let pe=or(ee,k,fe,null),Se=Promise.all(H.map(async _e=>{if(_e.matches&&_e.match&&_e.request&&_e.controller){let ze=(await or(_e.request,_e.matches,fe,_e.key))[_e.match.route.id];return{[_e.key]:ze}}else return Promise.resolve({[_e.key]:{type:"error",error:Br(404,{pathname:_e.path})}})})),Ce=await pe,ge=(await Se).reduce((_e,Re)=>Object.assign(_e,Re),{});return{loaderResults:Ce,fetcherResults:ge}}function Li(){W=!0,de.forEach((k,H)=>{me.has(H)&&he.add(H),Vt(H)})}function En(k,H,ee={}){b.fetchers.set(k,H),Lt({fetchers:new Map(b.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function lr(k,H,ee,fe={}){let pe=Za(b.matches,H);va(k),Lt({errors:{[pe.route.id]:ee},fetchers:new Map(b.fetchers)},{flushSync:(fe&&fe.flushSync)===!0})}function Ts(k){return ye.set(k,(ye.get(k)||0)+1),we.has(k)&&we.delete(k),b.fetchers.get(k)||ZI}function po(k,H){Vt(k,H==null?void 0:H.reason),En(k,ra(null))}function va(k){let H=b.fetchers.get(k);me.has(k)&&!(H&&H.state==="loading"&&j.has(k))&&Vt(k),de.delete(k),j.delete(k),ie.delete(k),we.delete(k),he.delete(k),b.fetchers.delete(k)}function ur(k){let H=(ye.get(k)||0)-1;H<=0?(ye.delete(k),we.add(k)):ye.set(k,H),Lt({fetchers:new Map(b.fetchers)})}function Vt(k,H){let ee=me.get(k);ee&&(ee.abort(H),me.delete(k))}function Fn(k){for(let H of k){let ee=Ts(H),fe=ra(ee.data);b.fetchers.set(H,fe)}}function $t(){let k=[],H=!1;for(let ee of ie){let fe=b.fetchers.get(ee);it(fe,`Expected fetcher: ${ee}`),fe.state==="loading"&&(ie.delete(ee),k.push(ee),H=!0)}return Fn(k),H}function bs(k){let H=[];for(let[ee,fe]of j)if(fe<k){let pe=b.fetchers.get(ee);it(pe,`Expected fetcher: ${ee}`),pe.state==="loading"&&(Vt(ee),j.delete(ee),H.push(ee))}return Fn(H),H.length>0}function _a(k,H){let ee=b.blockers.get(k)||Ou;return Me.get(k)!==H&&Me.set(k,H),ee}function Ss(k){b.blockers.delete(k),Me.delete(k)}function Hn(k,H){let ee=b.blockers.get(k)||Ou;it(ee.state==="unblocked"&&H.state==="blocked"||ee.state==="blocked"&&H.state==="blocked"||ee.state==="blocked"&&H.state==="proceeding"||ee.state==="blocked"&&H.state==="unblocked"||ee.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${H.state}`);let fe=new Map(b.blockers);fe.set(k,H),Lt({blockers:fe})}function ci({currentLocation:k,nextLocation:H,historyAction:ee}){if(Me.size===0)return;Me.size>1&&Wt(!1,"A router only supports one blocker at a time");let fe=Array.from(Me.entries()),[pe,Se]=fe[fe.length-1],Ce=b.blockers.get(pe);if(!(Ce&&Ce.state==="proceeding")&&Se({currentLocation:k,nextLocation:H,historyAction:ee}))return pe}function Kt(k){let H=Br(404,{pathname:k}),ee=p||d,{matches:fe,route:pe}=Zh(ee);return{notFoundMatches:fe,route:pe,error:H}}function Dr(k,H,ee){if(M=k,L=H,z=ee||null,!$&&b.navigation===tg){$=!0;let fe=go(b.location,b.matches);fe!=null&&Lt({restoreScrollPosition:fe})}return()=>{M=null,L=null,z=null}}function cr(k,H){return z&&z(k,H.map(fe=>wI(fe,b.loaderData)))||k.key}function hr(k,H){if(M&&L){let ee=cr(k,H);M[ee]=L()}}function go(k,H){if(M){let ee=cr(k,H),fe=M[ee];if(typeof fe=="number")return fe}return null}function ki(k,H,ee){if(n.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:ku(H,ee,g,!0)}}else return{active:!0,matches:ku(H,ee,g,!0)||[]};return{active:!1,matches:null}}async function qn(k,H,ee,fe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:k};let pe=k;for(;;){let Se=p==null,Ce=p||d,ge=c;try{await n.patchRoutesOnNavigation({signal:ee,path:H,matches:pe,fetcherKey:fe,patch:(ze,xe)=>{ee.aborted||c0(ze,xe,Ce,ge,l,!1)}})}catch(ze){return{type:"error",error:ze,partialMatches:pe}}finally{Se&&!ee.aborted&&(d=[...d])}if(ee.aborted)return{type:"aborted"};let _e=Ja(Ce,H,g),Re=null;if(_e){if(Object.keys(_e[0].params).length===0)return{type:"success",matches:_e};if(Re=ku(Ce,H,g,!0),!(Re&&pe.length<Re.length&&hi(pe,Re.slice(0,pe.length))))return{type:"success",matches:_e}}if(Re||(Re=ku(Ce,H,g,!0)),!Re||hi(pe,Re))return{type:"success",matches:null};pe=Re}}function hi(k,H){return k.length===H.length&&k.every((ee,fe)=>ee.route.id===H[fe].route.id)}function Ul(k){c={},p=ec(k,l,void 0,c)}function Ui(k,H,ee=!1){let fe=p==null;c0(k,H,p||d,c,l,ee),fe&&(d=[...d],Lt({}))}return q={get basename(){return g},get future(){return E},get state(){return b},get routes(){return d},get window(){return e},initialize:vt,subscribe:Yr,enableScrollRestoration:Dr,navigate:se,fetch:gt,revalidate:Ee,createHref:k=>n.history.createHref(k),encodeLocation:k=>n.history.encodeLocation(k),getFetcher:Ts,resetFetcher:po,deleteFetcher:ur,dispose:Ir,getBlocker:_a,deleteBlocker:Ss,patchRoutes:Ui,_internalFetchControllers:me,_internalSetRoutes:Ul,_internalSetStateDoNotUseOrYouWillBreakYourApp(k){Lt(k)}},n.unstable_instrumentations&&(q=qI(q,n.unstable_instrumentations.map(k=>k.router).filter(Boolean))),q}function nD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Ag(n,e,t,a,s,l){let c,d;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){d=g;break}}else c=e,d=e[e.length-1];let p=pd(a||".",md(c),qr(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&d){let g=fy(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let v=new URLSearchParams(p.search),E=v.getAll("index");v.delete("index"),E.filter(I=>I).forEach(I=>v.append("index",I));let S=v.toString();p.search=S?`?${S}`:""}}return t!=="/"&&(p.pathname=UI({basename:t,pathname:p.pathname})),Oi(p)}function l0(n,e,t){if(!t||!nD(t))return{path:e};if(t.formMethod&&!TD(t.formMethod))return{path:e,error:Br(405,{method:t.formMethod})};let a=()=>({path:e,error:Br(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=GS(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Un(l))return a();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[I,M])=>`${S}${I}=${M}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Un(l))return a();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return a()}}}it(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Cg(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Cg(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=p0(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=p0(d)}catch{return a()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Un(g.formMethod))return{path:e,submission:g};let v=pa(e);return n&&v.search&&fy(v.search)&&d.append("index",""),v.search=`?${d}`,{path:Oi(v),submission:g}}function u0(n,e,t,a,s,l,c,d,p,g,v,E,S,I,M,z,L,$,G,F,X){var $e;let Y=F?Tr(F[1])?F[1].error:F[1].data:void 0,q=s.createURL(l.location),b=s.createURL(p),A;if(v&&l.errors){let W=Object.keys(l.errors)[0];A=c.findIndex(he=>he.route.id===W)}else if(F&&Tr(F[1])){let W=F[0];A=c.findIndex(he=>he.route.id===W)-1}let R=F?F[1].statusCode:void 0,N=R&&R>=400,x={currentUrl:q,currentParams:(($e=l.matches[0])==null?void 0:$e.params)||{},nextUrl:b,nextParams:c[0].params,...d,actionResult:Y,actionStatus:R},V=mc(c),O=c.map((W,he)=>{let{route:me}=W,Ve=null;if(A!=null&&he>A?Ve=!1:me.lazy?Ve=!0:cy(me)?v?Ve=wg(me,l.loaderData,l.errors):rD(l.loaderData,l.matches[he],W)&&(Ve=!0):Ve=!1,Ve!==null)return Rg(t,a,n,V,W,g,e,Ve);let De=!1;typeof X=="boolean"?De=X:N?De=!1:(E||q.pathname+q.search===b.pathname+b.search||q.search!==b.search||iD(l.matches[he],W))&&(De=!0);let j={...x,defaultShouldRevalidate:De},ie=qu(W,j);return Rg(t,a,n,V,W,g,e,ie,j,X)}),ke=[];return M.forEach((W,he)=>{if(v||!c.some(we=>we.route.id===W.routeId)||I.has(he))return;let me=l.fetchers.get(he),Ve=me&&me.state!=="idle"&&me.data===void 0,De=Ja(L,W.path,$);if(!De){if(G&&Ve)return;ke.push({key:he,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(z.has(he))return;let j=ff(De,W.path),ie=new AbortController,de=tl(s,W.path,ie.signal),ye=null;if(S.has(he))S.delete(he),ye=ul(t,a,de,De,j,g,e);else if(Ve)E&&(ye=ul(t,a,de,De,j,g,e));else{let we;typeof X=="boolean"?we=X:N?we=!1:we=E;let Me={...x,defaultShouldRevalidate:we};qu(j,Me)&&(ye=ul(t,a,de,De,j,g,e,Me))}ye&&ke.push({key:he,routeId:W.routeId,path:W.path,matches:ye,match:j,request:de,controller:ie})}),{dsMatches:O,revalidatingFetchers:ke}}function cy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function wg(n,e,t){if(n.lazy)return!0;if(!cy(n))return!1;let a=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!a&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!s}function rD(n,e,t){let a=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return a||s}function iD(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function qu(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function c0(n,e,t,a,s,l){let c;if(n){let g=a[n];it(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],p=[];if(e.forEach(g=>{let v=c.find(E=>zS(g,E));v?p.push({existingRoute:v,newRoute:g}):d.push(g)}),d.length>0){let g=ec(d,s,[n||"_","patch",String((c==null?void 0:c.length)||"0")],a);c.push(...g)}if(l&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:E}=p[g],S=v,[I]=ec([E],s,[],{},!0);Object.assign(S,{element:I.element?I.element:S.element,errorElement:I.errorElement?I.errorElement:S.errorElement,hydrateFallbackElement:I.hydrateFallbackElement?I.hydrateFallbackElement:S.hydrateFallbackElement})}}function zS(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>{var s;return(s=e.children)==null?void 0:s.some(l=>zS(t,l))}):!1}var h0=new WeakMap,BS=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let s=t[e.id];if(it(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=h0.get(s);c||(c={},h0.set(s,c));let d=c[n];if(d)return d;let p=(async()=>{let g=TI(n),E=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)Wt(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)Wt(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(s,{[n]:S}),Object.assign(s,a(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(S=>S===void 0)&&(s.lazy=void 0))})();return c[n]=p,p},f0=new WeakMap;function aD(n,e,t,a,s){let l=t[n.id];if(it(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let v=f0.get(l);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let E=(async()=>{it(typeof n.lazy=="function","No lazy route function found");let S=await n.lazy(),I={};for(let M in S){let z=S[M];if(z===void 0)continue;let L=SI(M),G=l[M]!==void 0&&M!=="hasErrorBoundary";L?Wt(!L,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):G?Wt(!G,`Route "${l.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):I[M]=z}Object.assign(l,I),Object.assign(l,{...a(l),lazy:void 0})})();return f0.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),d=[],p;for(let v of c){if(s&&s.includes(v))continue;let E=BS({key:v,route:n,manifest:t,mapRouteProperties:a});E&&(d.push(E),v===e&&(p=E))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function d0(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function sD(n){return n.matches.some(e=>e.route.middleware)?FS(n,()=>d0(n)):d0(n)}function FS(n,e){return oD(n,e,a=>{if(ED(a))throw a;return a},gD,t);function t(a,s,l){if(l)return Promise.resolve(Object.assign(l.value,{[s]:{type:"error",result:a}}));{let{matches:c}=n,d=Math.min(Math.max(c.findIndex(g=>g.route.id===s),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),p=Za(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function oD(n,e,t,a,s){let{matches:l,request:c,params:d,context:p,unstable_pattern:g}=n,v=l.flatMap(S=>S.route.middleware?S.route.middleware.map(I=>[S.route.id,I]):[]);return await HS({request:c,params:d,context:p,unstable_pattern:g},v,e,t,a,s)}async function HS(n,e,t,a,s,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[g,v]=p,E,S=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await HS(n,e,t,a,s,l,c+1)},E.value}catch(I){return E={value:await l(I,g,E)},E.value}};try{let I=await v(n,S),M=I!=null?a(I):void 0;return s(M)?M:E?M??E.value:(E={value:await S()},E.value)}catch(I){return await l(I,g,E)}}function qS(n,e,t,a,s){let l=BS({key:"middleware",route:a.route,manifest:e,mapRouteProperties:n}),c=aD(a.route,Un(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Rg(n,e,t,a,s,l,c,d,p=null,g){let v=!1,E=qS(n,e,t,s,l);return{...s,_lazyPromises:E,shouldLoad:d,shouldRevalidateArgs:p,shouldCallHandler(S){return v=!0,p?typeof g=="boolean"?qu(s,{...p,defaultShouldRevalidate:g}):typeof S=="boolean"?qu(s,{...p,defaultShouldRevalidate:S}):qu(s,p):d},resolve(S){let{lazy:I,loader:M,middleware:z}=s.route,L=v||d||S&&!Un(t.method)&&(I||M),$=z&&z.length>0&&!M&&!I;return L&&(Un(t.method)||!$)?uD({request:t,unstable_pattern:a,match:s,lazyHandlerPromise:E==null?void 0:E.handler,lazyRoutePromise:E==null?void 0:E.route,handlerOverride:S,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ul(n,e,t,a,s,l,c,d=null){return a.map(p=>p.route.id!==s.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:qS(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Rg(n,e,t,mc(a),p,l,c,!0,d))}async function lD(n,e,t,a,s,l){t.some(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware})&&await Promise.all(t.map(g=>{var v;return(v=g._lazyPromises)==null?void 0:v.middleware}));let c={request:e,unstable_pattern:mc(t),params:t[0].params,context:s,matches:t},p=await n({...c,fetcherKey:a,runClientMiddleware:g=>{let v=c;return FS(v,()=>g({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var v,E;return[(v=g._lazyPromises)==null?void 0:v.handler,(E=g._lazyPromises)==null?void 0:E.route]}))}catch{}return p}async function uD({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let d,p,g=Un(n.method),v=g?"action":"loader",E=S=>{let I,M=new Promise(($,G)=>I=G);p=()=>I(),n.signal.addEventListener("abort",p);let z=$=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${t.route.id}]`)):S({request:n,unstable_pattern:e,params:t.params,context:c},...$!==void 0?[$]:[]),L=(async()=>{try{return{type:"data",result:await(l?l(G=>z(G)):z())}}catch($){return{type:"error",result:$}}})();return Promise.race([L,M])};try{let S=g?t.route.action:t.route.loader;if(a||s)if(S){let I,[M]=await Promise.all([E(S).catch(z=>{I=z}),a,s]);if(I!==void 0)throw I;d=M}else{await a;let I=g?t.route.action:t.route.loader;if(I)[d]=await Promise.all([E(I),s]);else if(v==="action"){let M=new URL(n.url),z=M.pathname+M.search;throw Br(405,{method:n.method,pathname:z,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(S)d=await E(S);else{let I=new URL(n.url),M=I.pathname+I.search;throw Br(404,{pathname:M})}}catch(S){return{type:"error",result:S}}finally{p&&n.signal.removeEventListener("abort",p)}return d}async function cD(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function hD(n){var a,s,l,c,d;let{result:e,type:t}=n;if(hy(e)){let p;try{p=await cD(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new dc(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?_0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:pD(e),statusCode:tc(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:tc(e)?e.status:void 0}:_0(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function fD(n,e,t,a,s){let l=n.headers.get("Location");if(it(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!uy(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=Ag(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function m0(n,e,t,a){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(uy(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(s.includes(c.protocol))throw new Error("Invalid redirect location");let d=qr(c.pathname,t)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=a.createURL(n);if(s.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function tl(n,e,t,a){let s=n.createURL(GS(e)).toString(),l={signal:t};if(a&&Un(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=Cg(a.formData):l.body=a.formData}return new Request(s,l)}function Cg(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function p0(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function dD(n,e,t,a=!1,s=!1){let l={},c=null,d,p=!1,g={},v=t&&Tr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let S=E.route.id,I=e[S];if(it(!Qs(I),"Cannot handle redirect results in processLoaderData"),Tr(I)){let M=I.error;if(v!==void 0&&(M=v,v=void 0),c=c||{},s)c[S]=M;else{let z=Za(n,S);c[z.route.id]==null&&(c[z.route.id]=M)}a||(l[S]=jS),p||(p=!0,d=tc(I.error)?I.error.status:500),I.headers&&(g[S]=I.headers)}else l[S]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(d=I.statusCode),I.headers&&(g[S]=I.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function g0(n,e,t,a,s,l){let{loaderData:c,errors:d}=dD(e,t,a);return s.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:E}=p;if(E&&E.signal.aborted)return;let S=l[g];if(it(S,"Did not find corresponding fetcher result"),Tr(S)){let I=Za(n.matches,v==null?void 0:v.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:S.error}),n.fetchers.delete(g)}else if(Qs(S))it(!1,"Unhandled fetcher revalidation redirect");else{let I=ra(S.data);n.fetchers.set(g,I)}}),{loaderData:c,errors:d}}function y0(n,e,t,a){let s=Object.entries(e).filter(([,l])=>l!==jS).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),a&&a.hasOwnProperty(c))break}return s}function v0(n){return n?Tr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Za(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function Zh(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Br(n,{pathname:e,routeId:t,method:a,type:s,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new dc(n||500,c,new Error(d),!0)}function ef(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,s]=e[t];if(Qs(s))return{key:a,result:s}}}function GS(n){let e=typeof n=="string"?pa(n):n;return Oi({...e,hash:""})}function mD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function pD(n){var e,t;return new dc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function gD(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&yD(t))}function yD(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function vD(n){return hy(n.result)&&kS.has(n.result.status)}function Tr(n){return n.type==="error"}function Qs(n){return(n&&n.type)==="redirect"}function _0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function hy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function _D(n){return kS.has(n)}function ED(n){return hy(n)&&_D(n.status)&&n.headers.has("Location")}function TD(n){return WI.has(n.toUpperCase())}function Un(n){return QI.has(n.toUpperCase())}function fy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function ff(n,e){let t=typeof e=="string"?pa(e).search:e.search;if(n[n.length-1].route.index&&fy(t||""))return n[n.length-1];let a=OS(n);return a[a.length-1]}function E0(n){let{formMethod:e,formAction:t,formEncType:a,text:s,formData:l,json:c}=n;if(!(!e||!t||!a)){if(s!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function ng(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function bD(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function SD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ra(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function AD(n,e){try{let t=n.sessionStorage.getItem(US);if(t){let a=JSON.parse(t);for(let[s,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function wD(n,e){if(e.size>0){let t={};for(let[a,s]of e)t[a]=[...s];try{n.sessionStorage.setItem(US,JSON.stringify(t))}catch(a){Wt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function T0(){let n,e,t=new Promise((a,s)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var lo=P.createContext(null);lo.displayName="DataRouter";var pc=P.createContext(null);pc.displayName="DataRouterState";var $S=P.createContext(!1);function RD(){return P.useContext($S)}var dy=P.createContext({isTransitioning:!1});dy.displayName="ViewTransition";var KS=P.createContext(new Map);KS.displayName="Fetchers";var CD=P.createContext(null);CD.displayName="Await";var Rr=P.createContext(null);Rr.displayName="Navigation";var gd=P.createContext(null);gd.displayName="Location";var $r=P.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var my=P.createContext(null);my.displayName="RouteError";var YS="REACT_ROUTER_ERROR",ID="REDIRECT",DD="ROUTE_ERROR_RESPONSE";function ND(n){if(n.startsWith(`${YS}:${ID}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xD(n){if(n.startsWith(`${YS}:${DD}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dc(e.status,e.statusText,e.data)}catch{}}function OD(n,{relative:e}={}){it(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=P.useContext(Rr),{hash:s,pathname:l,search:c}=gc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ci([t,l])),a.createHref({pathname:d,search:c,hash:s})}function Il(){return P.useContext(gd)!=null}function Kr(){return it(Il(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(gd).location}var QS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XS(n){P.useContext(Rr).static||P.useLayoutEffect(n)}function uo(){let{isDataRoute:n}=P.useContext($r);return n?KD():MD()}function MD(){it(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(lo),{basename:e,navigator:t}=P.useContext(Rr),{matches:a}=P.useContext($r),{pathname:s}=Kr(),l=JSON.stringify(md(a)),c=P.useRef(!1);return XS(()=>{c.current=!0}),P.useCallback((p,g={})=>{if(Wt(c.current,QS),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=pd(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ci([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}var VD=P.createContext(null);function PD(n){let e=P.useContext($r).outlet;return P.useMemo(()=>e&&P.createElement(VD.Provider,{value:n},e),[e,n])}function yd(){let{matches:n}=P.useContext($r),e=n[n.length-1];return e?e.params:{}}function gc(n,{relative:e}={}){let{matches:t}=P.useContext($r),{pathname:a}=Kr(),s=JSON.stringify(md(t));return P.useMemo(()=>pd(n,JSON.parse(s),a,e==="path"),[n,s,a,e])}function LD(n,e,t,a,s){it(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Rr),{matches:c}=P.useContext($r),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let G=E&&E.path||"";JS(g,!E||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let S=Kr(),I;I=S;let M=I.pathname||"/",z=M;if(v!=="/"){let G=v.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=Ja(n,{pathname:z});return Wt(E||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Wt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),BD(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Ci([v,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Ci([v,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,t,a,s)}function kD(){let n=$D(),e=tc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,c)}var UD=P.createElement(kD,null),WS=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=xD(n.digest);t&&(n=t)}let e=n!==void 0?P.createElement($r.Provider,{value:this.props.routeContext},P.createElement(my.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?P.createElement(jD,{error:n},e):e}};WS.contextType=$S;var rg=new WeakMap;function jD({children:n,error:e}){let{basename:t}=P.useContext(Rr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=ND(e.digest);if(a){let s=rg.get(e);if(s)throw s;let l=VS(a.location,t);if(MS&&!rg.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw rg.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function zD({routeContext:n,match:e,children:t}){let a=P.useContext(lo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement($r.Provider,{value:n},t)}function BD(n,e=[],t=null,a=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&(c==null?void 0:c[E.route.id])!==void 0);it(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:S,errors:I}=t,M=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||M){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&a?(v,E)=>{var S,I;a(v,{location:t.location,params:((I=(S=t.matches)==null?void 0:S[0])==null?void 0:I.params)??{},unstable_pattern:mc(t.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,S)=>{let I,M=!1,z=null,L=null;t&&(I=c&&E.route.id?c[E.route.id]:void 0,z=E.route.errorElement||UD,d&&(p<0&&S===0?(JS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,L=null):p===S&&(M=!0,L=E.route.hydrateFallbackElement||null)));let $=e.concat(l.slice(0,S+1)),G=()=>{let F;return I?F=z:M?F=L:E.route.Component?F=P.createElement(E.route.Component,null):E.route.element?F=E.route.element:F=v,P.createElement(zD,{match:E,routeContext:{outlet:v,matches:$,isDataRoute:t!=null},children:F})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(WS,{location:t.location,revalidation:t.revalidation,component:z,error:I,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):G()},null)}function py(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FD(n){let e=P.useContext(lo);return it(e,py(n)),e}function HD(n){let e=P.useContext(pc);return it(e,py(n)),e}function qD(n){let e=P.useContext($r);return it(e,py(n)),e}function gy(n){let e=qD(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GD(){return gy("useRouteId")}function $D(){var a;let n=P.useContext(my),e=HD("useRouteError"),t=gy("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[t]}function KD(){let{router:n}=FD("useNavigate"),e=gy("useNavigate"),t=P.useRef(!1);return XS(()=>{t.current=!0}),P.useCallback(async(s,l={})=>{Wt(t.current,QS),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var b0={};function JS(n,e,t){!e&&!b0[n]&&(b0[n]=!0,Wt(!1,t))}var S0={};function A0(n,e){!n&&!S0[e]&&(S0[e]=!0,console.warn(e))}var YD="useOptimistic",w0=zC[YD],QD=()=>{};function XD(n){return w0?w0(n):[n,QD]}function WD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var JD=["HydrateFallback","hydrateFallbackElement"],ZD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function eN({router:n,flushSync:e,onError:t,unstable_useTransitions:a}){a=RD()||a;let[l,c]=P.useState(n.state),[d,p]=XD(l),[g,v]=P.useState(),[E,S]=P.useState({isTransitioning:!1}),[I,M]=P.useState(),[z,L]=P.useState(),[$,G]=P.useState(),F=P.useRef(new Map),X=P.useCallback((A,{deletedFetchers:R,newErrors:N,flushSync:x,viewTransitionOpts:V})=>{N&&t&&Object.values(N).forEach(ke=>{var $e;return t(ke,{location:A.location,params:(($e=A.matches[0])==null?void 0:$e.params)??{},unstable_pattern:mc(A.matches)})}),A.fetchers.forEach((ke,$e)=>{ke.data!==void 0&&F.current.set($e,ke.data)}),R.forEach(ke=>F.current.delete(ke)),A0(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(A0(V==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!V||!O){e&&x?e(()=>c(A)):a===!1?c(A):P.startTransition(()=>{a===!0&&p(ke=>R0(ke,A)),c(A)});return}if(e&&x){e(()=>{z&&(I==null||I.resolve(),z.skipTransition()),S({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let ke=n.window.document.startViewTransition(()=>{e(()=>c(A))});ke.finished.finally(()=>{e(()=>{M(void 0),L(void 0),v(void 0),S({isTransitioning:!1})})}),e(()=>L(ke));return}z?(I==null||I.resolve(),z.skipTransition(),G({state:A,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(v(A),S({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,e,z,I,a,p,t]);P.useLayoutEffect(()=>n.subscribe(X),[n,X]),P.useEffect(()=>{E.isTransitioning&&!E.flushSync&&M(new ZD)},[E]),P.useEffect(()=>{if(I&&g&&n.window){let A=g,R=I.promise,N=n.window.document.startViewTransition(async()=>{a===!1?c(A):P.startTransition(()=>{a===!0&&p(x=>R0(x,A)),c(A)}),await R});N.finished.finally(()=>{M(void 0),L(void 0),v(void 0),S({isTransitioning:!1})}),L(N)}},[g,I,n.window,a,p]),P.useEffect(()=>{I&&g&&d.location.key===g.location.key&&I.resolve()},[I,z,d.location,g]),P.useEffect(()=>{!E.isTransitioning&&$&&(v($.state),S({isTransitioning:!0,flushSync:!1,currentLocation:$.currentLocation,nextLocation:$.nextLocation}),G(void 0))},[E.isTransitioning,$]);let Y=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,R,N)=>n.navigate(A,{state:R,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(A,R,N)=>n.navigate(A,{replace:!0,state:R,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),q=n.basename||"/",b=P.useMemo(()=>({router:n,navigator:Y,static:!1,basename:q,onError:t}),[n,Y,q,t]);return P.createElement(P.Fragment,null,P.createElement(lo.Provider,{value:b},P.createElement(pc.Provider,{value:d},P.createElement(KS.Provider,{value:F.current},P.createElement(dy.Provider,{value:E},P.createElement(rN,{basename:q,location:d.location,navigationType:d.historyAction,navigator:Y,unstable_useTransitions:a},P.createElement(tN,{routes:n.routes,future:n.future,state:d,onError:t})))))),null)}function R0(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var tN=P.memo(nN);function nN({routes:n,future:e,state:t,onError:a}){return LD(n,void 0,t,a,e)}function as({to:n,replace:e,state:t,relative:a}){it(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Rr);Wt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext($r),{pathname:c}=Kr(),d=uo(),p=pd(n,md(l),c,a==="path"),g=JSON.stringify(p);return P.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function ZS(n){return PD(n.context)}function rN({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){it(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=pa(t));let{pathname:g="/",search:v="",hash:E="",state:S=null,key:I="default"}=t,M=P.useMemo(()=>{let z=qr(g,d);return z==null?null:{location:{pathname:z,search:v,hash:E,state:S,key:I},navigationType:a}},[d,g,v,E,S,I,a]);return Wt(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:P.createElement(Rr.Provider,{value:p},P.createElement(gd.Provider,{children:e,value:M}))}var df="get",mf="application/x-www-form-urlencoded";function vd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function iN(n){return vd(n)&&n.tagName.toLowerCase()==="button"}function aN(n){return vd(n)&&n.tagName.toLowerCase()==="form"}function sN(n){return vd(n)&&n.tagName.toLowerCase()==="input"}function oN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lN(n,e){return n.button===0&&(!e||e==="_self")&&!oN(n)}function Ig(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let a=n[t];return e.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function uN(n,e){let t=Ig(n);return e&&e.forEach((a,s)=>{t.has(s)||e.getAll(s).forEach(l=>{t.append(s,l)})}),t}var tf=null;function cN(){if(tf===null)try{new FormData(document.createElement("form"),0),tf=!1}catch{tf=!0}return tf}var hN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ig(n){return n!=null&&!hN.has(n)?(Wt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):n}function fN(n,e){let t,a,s,l,c;if(aN(n)){let d=n.getAttribute("action");a=d?qr(d,e):null,t=n.getAttribute("method")||df,s=ig(n.getAttribute("enctype"))||mf,l=new FormData(n)}else if(iN(n)||sN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(a=p?qr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||df,s=ig(n.getAttribute("formenctype"))||ig(d.getAttribute("enctype"))||mf,l=new FormData(d,n),!cN()){let{name:g,type:v,value:E}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,E)}}else{if(vd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=df,a=null,s=mf,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dN(n,e,t,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:e&&qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function mN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gN(n,e,t){let a=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await mN(l,t);return c.links?c.links():[]}return[]}));return EN(a.flat(1).filter(pN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function C0(n,e,t,a,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yN(n,e,{includeHydrateFallback:t}={}){return vN(n.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function vN(n){return[...new Set(n)]}function _N(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function EN(n,e){let t=new Set;return new Set(e),n.reduce((a,s)=>{let l=JSON.stringify(_N(s));return t.has(l)||(t.add(l),a.push({key:l,link:s})),a},[])}function eA(){let n=P.useContext(lo);return yy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TN(){let n=P.useContext(pc);return yy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vy=P.createContext(void 0);vy.displayName="FrameworkContext";function tA(){let n=P.useContext(vy);return yy(n,"You must render this element inside a <HydratedRouter> element"),n}function bN(n,e){let t=P.useContext(vy),[a,s]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,S=P.useRef(null);P.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=$=>{$.forEach(G=>{c(G.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[n]),P.useEffect(()=>{if(a){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[a]);let I=()=>{s(!0)},M=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Vu(d,I),onBlur:Vu(p,M),onMouseEnter:Vu(g,I),onMouseLeave:Vu(v,M),onTouchStart:Vu(E,I)}]:[!1,S,{}]}function Vu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function SN({page:n,...e}){let{router:t}=eA(),a=P.useMemo(()=>Ja(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?P.createElement(wN,{page:n,matches:a,...e}):null}function AN(n){let{manifest:e,routeModules:t}=tA(),[a,s]=P.useState([]);return P.useEffect(()=>{let l=!1;return gN(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),a}function wN({page:n,matches:e,...t}){let a=Kr(),{future:s,manifest:l,routeModules:c}=tA(),{basename:d}=eA(),{loaderData:p,matches:g}=TN(),v=P.useMemo(()=>C0(n,e,g,l,a,"data"),[n,e,g,l,a]),E=P.useMemo(()=>C0(n,e,g,l,a,"assets"),[n,e,g,l,a]),S=P.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let z=new Set,L=!1;if(e.forEach(G=>{var X;let F=l.routes[G.route.id];!F||!F.hasLoader||(!v.some(Y=>Y.route.id===G.route.id)&&G.route.id in p&&((X=c[G.route.id])!=null&&X.shouldRevalidate)||F.hasClientLoader?L=!0:z.add(G.route.id))}),z.size===0)return[];let $=dN(n,d,s.unstable_trailingSlashAwareDataRequests,"data");return L&&z.size>0&&$.searchParams.set("_routes",e.filter(G=>z.has(G.route.id)).map(G=>G.route.id).join(",")),[$.pathname+$.search]},[d,s.unstable_trailingSlashAwareDataRequests,p,a,l,v,e,n,c]),I=P.useMemo(()=>yN(E,l),[E,l]),M=AN(E);return P.createElement(P.Fragment,null,S.map(z=>P.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),I.map(z=>P.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),M.map(({key:z,link:L})=>P.createElement("link",{key:z,nonce:t.nonce,...L,crossOrigin:L.crossOrigin??t.crossOrigin})))}function RN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var CN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CN&&(window.__reactRouterVersion="7.13.0")}catch{}function IN(n,e){return tD({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:yI({window:e==null?void 0:e.window}),hydrationData:DN(),routes:n,mapRouteProperties:WD,hydrationRouteProperties:JD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function DN(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:NN(n.errors)}),n}function NN(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,s]of e)if(s&&s.__type==="RouteErrorResponse")t[a]=new dc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let l=new Error(s.message);l.stack="",t[a]=l}}else t[a]=s;return t}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rA=P.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:S,...I},M){let{basename:z,unstable_useTransitions:L}=P.useContext(Rr),$=typeof g=="string"&&nA.test(g),G=VS(g,z);g=G.to;let F=OD(g,{relative:s}),[X,Y,q]=bN(a,I),b=VN(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:E,unstable_defaultShouldRevalidate:S,unstable_useTransitions:L});function A(N){e&&e(N),N.defaultPrevented||b(N)}let R=P.createElement("a",{...I,...q,href:G.absoluteURL||F,onClick:G.isExternal||l?e:A,ref:RN(M,Y),target:p,"data-discover":!$&&t==="render"?"true":void 0});return X&&!$?P.createElement(P.Fragment,null,R,P.createElement(SN,{page:F})):R});rA.displayName="Link";var xN=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let E=gc(c,{relative:g.relative}),S=Kr(),I=P.useContext(pc),{navigator:M,basename:z}=P.useContext(Rr),L=I!=null&&zN(E)&&d===!0,$=M.encodeLocation?M.encodeLocation(E).pathname:E.pathname,G=S.pathname,F=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(G=G.toLowerCase(),F=F?F.toLowerCase():null,$=$.toLowerCase()),F&&z&&(F=qr(F,z)||F);const X=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Y=G===$||!s&&G.startsWith($)&&G.charAt(X)==="/",q=F!=null&&(F===$||!s&&F.startsWith($)&&F.charAt($.length)==="/"),b={isActive:Y,isPending:q,isTransitioning:L},A=Y?e:void 0,R;typeof a=="function"?R=a(b):R=[a,Y?"active":null,q?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(b):l;return P.createElement(rA,{...g,"aria-current":A,className:R,ref:v,style:N,to:c,viewTransition:d},typeof p=="function"?p(b):p)});xN.displayName="NavLink";var ON=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:l,method:c=df,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:S,...I},M)=>{let{unstable_useTransitions:z}=P.useContext(Rr),L=UN(),$=jN(d,{relative:g}),G=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&nA.test(d),X=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let q=Y.nativeEvent.submitter,b=(q==null?void 0:q.getAttribute("formmethod"))||c,A=()=>L(q||Y.currentTarget,{fetcherKey:e,method:b,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:S});z&&t!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:M,method:G,action:$,onSubmit:a?p:X,...I,"data-discover":!F&&n==="render"?"true":void 0})});ON.displayName="Form";function MN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(n){let e=P.useContext(lo);return it(e,MN(n)),e}function VN(n,{target:e,replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=uo(),v=Kr(),E=gc(n,{relative:l});return P.useCallback(S=>{if(lN(S,e)){S.preventDefault();let I=t!==void 0?t:Oi(v)===Oi(E),M=()=>g(n,{replace:I,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?P.startTransition(()=>M()):M()}},[v,g,E,t,a,e,n,s,l,c,d,p])}function PN(n){Wt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Ig(n)),t=P.useRef(!1),a=Kr(),s=P.useMemo(()=>uN(a.search,t.current?null:e.current),[a.search]),l=uo(),c=P.useCallback((d,p)=>{const g=Ig(typeof d=="function"?d(new URLSearchParams(s)):d);t.current=!0,l("?"+g,p)},[l,s]);return[s,c]}var LN=0,kN=()=>`__${String(++LN)}__`;function UN(){let{router:n}=iA("useSubmit"),{basename:e}=P.useContext(Rr),t=GD(),a=n.fetch,s=n.navigate;return P.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:E}=fN(l,e);if(c.navigate===!1){let S=c.fetcherKey||kN();await a(S,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,t])}function jN(n,{relative:e}={}){let{basename:t}=P.useContext(Rr),a=P.useContext($r);it(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...gc(n||".",{relative:e})},c=Kr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ci([t,l.pathname])),Oi(l)}function zN(n,{relative:e}={}){let t=P.useContext(dy);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=iA("useViewTransitionState"),s=gc(n,{relative:e});if(!t.isTransitioning)return!1;let l=qr(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=qr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return kf(s.pathname,c)!=null||kf(s.pathname,l)!=null}var BN=AS();function FN(n){return P.createElement(eN,{flushSync:BN.flushSync,...n})}const HN=P.createContext(void 0),Pi=()=>hI(),pt=mI.withTypes(),qN=({children:n})=>{const e=pt(t=>t.auth.loading);return w.jsx(HN.Provider,{value:{isLoading:e},children:n})},GN=()=>{};var I0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let s=n.charCodeAt(a);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},$N=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const s=n[t++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},sA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),a.push(t[v],t[E],t[S],t[I])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$N(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||E==null)throw new KN;const S=l<<2|d>>4;if(a.push(S),g!==64){const I=d<<4&240|g>>2;if(a.push(I),E!==64){const M=g<<6&192|E;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YN=function(n){const e=aA(n);return sA.encodeByteArray(e,!0)},Uf=function(n){return YN(n).replace(/\./g,"")},oA=function(n){try{return sA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=()=>QN().__FIREBASE_DEFAULTS__,WN=()=>{if(typeof process>"u"||typeof I0>"u")return;const n=I0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oA(n[1]);return e&&JSON.parse(e)},_d=()=>{try{return GN()||XN()||WN()||JN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lA=n=>{var e,t;return(t=(e=_d())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},ZN=n=>{const e=lA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},uA=()=>{var n;return(n=_d())==null?void 0:n.config},cA=n=>{var e;return(e=_d())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Uf(JSON.stringify(t)),Uf(JSON.stringify(c)),""].join(".")}const Gu={};function nx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gu))Gu[e]?n.emulator.push(e):n.prod.push(e);return n}function rx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let D0=!1;function fA(n,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||Gu[n]===e||Gu[n]||D0)return;Gu[n]=e;function t(S){return`__firebase__banner__${S}`}const a="__firebase__banner",l=nx().prod.length>0;function c(){const S=document.getElementById(a);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{D0=!0,c()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=rx(a),I=t("text"),M=document.getElementById(I)||document.createElement("span"),z=t("learnmore"),L=document.getElementById(z)||document.createElement("a"),$=t("preprendIcon"),G=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const F=S.element;d(F),v(L,z);const X=g();p(G,$),F.append(G,M,L,X),document.body.appendChild(F)}l?(M.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function ax(){var e;const n=(e=_d())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ox(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ux(){const n=Bn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cx(){return!ax()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function fx(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="FirebaseError";class ga extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=dx,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?mx(l,a):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new ga(s,d,a)}}function mx(n,e){return n.replace(px,(t,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const px=/\{\$([^}]+)}/g;function gx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function no(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const s of t){if(!a.includes(s))return!1;const l=n[s],c=e[s];if(N0(l)&&N0(c)){if(!no(l,c))return!1}else if(l!==c)return!1}for(const s of a)if(!t.includes(s))return!1;return!0}function N0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function yx(n,e){const t=new vx(n,e);return t.subscribe.bind(t)}class vx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let s;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");_x(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:a},s.next===void 0&&(s.next=ag),s.error===void 0&&(s.error=ag),s.complete===void 0&&(s.complete=ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _x(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(n){return n&&n._delegate?n._delegate:n}class ro{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new ex;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bx(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(s)}return s}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(a)??new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const s of a)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Tx(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tx(n){return n===Ys?void 0:n}function bx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ex(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ct||(ct={}));const Ax={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},wx=ct.INFO,Rx={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},Cx=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),s=Rx[e];if(s)console[s](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=wx,this._logHandler=Cx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const Ix=(n,e)=>e.some(t=>n instanceof t);let x0,O0;function Dx(){return x0||(x0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,Dg=new WeakMap,mA=new WeakMap,sg=new WeakMap,Ey=new WeakMap;function xx(n){const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ss(n.result)),s()},c=()=>{a(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&dA.set(t,n)}).catch(()=>{}),Ey.set(e,n),e}function Ox(n){if(Dg.has(n))return;const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Dg.set(n,e)}let Ng={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mx(n){Ng=n(Ng)}function Vx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(og(this),e,...t);return mA.set(a,e.sort?e.sort():[e]),ss(a)}:Nx().includes(n)?function(...e){return n.apply(og(this),e),ss(dA.get(this))}:function(...e){return ss(n.apply(og(this),e))}}function Px(n){return typeof n=="function"?Vx(n):(n instanceof IDBTransaction&&Ox(n),Ix(n,Dx())?new Proxy(n,Ng):n)}function ss(n){if(n instanceof IDBRequest)return xx(n);if(sg.has(n))return sg.get(n);const e=Px(n);return e!==n&&(sg.set(n,e),Ey.set(e,n)),e}const og=n=>Ey.get(n);function Lx(n,e,{blocked:t,upgrade:a,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=ss(c);return a&&c.addEventListener("upgradeneeded",p=>{a(ss(c.result),p.oldVersion,p.newVersion,ss(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const kx=["get","getKey","getAll","getAllKeys","count"],Ux=["put","add","delete","clear"],lg=new Map;function M0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,s=Ux.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(s||kx.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return lg.set(e,l),l}Mx(n=>({...n,get:(e,t,a)=>M0(e,t)||n.get(e,t,a),has:(e,t)=>!!M0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zx(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function zx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",V0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new _y("@firebase/app"),Bx="@firebase/app-compat",Fx="@firebase/analytics-compat",Hx="@firebase/analytics",qx="@firebase/app-check-compat",Gx="@firebase/app-check",$x="@firebase/auth",Kx="@firebase/auth-compat",Yx="@firebase/database",Qx="@firebase/data-connect",Xx="@firebase/database-compat",Wx="@firebase/functions",Jx="@firebase/functions-compat",Zx="@firebase/installations",e2="@firebase/installations-compat",t2="@firebase/messaging",n2="@firebase/messaging-compat",r2="@firebase/performance",i2="@firebase/performance-compat",a2="@firebase/remote-config",s2="@firebase/remote-config-compat",o2="@firebase/storage",l2="@firebase/storage-compat",u2="@firebase/firestore",c2="@firebase/ai",h2="@firebase/firestore-compat",f2="firebase",d2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="[DEFAULT]",m2={[xg]:"fire-core",[Bx]:"fire-core-compat",[Hx]:"fire-analytics",[Fx]:"fire-analytics-compat",[Gx]:"fire-app-check",[qx]:"fire-app-check-compat",[$x]:"fire-auth",[Kx]:"fire-auth-compat",[Yx]:"fire-rtdb",[Qx]:"fire-data-connect",[Xx]:"fire-rtdb-compat",[Wx]:"fire-fn",[Jx]:"fire-fn-compat",[Zx]:"fire-iid",[e2]:"fire-iid-compat",[t2]:"fire-fcm",[n2]:"fire-fcm-compat",[r2]:"fire-perf",[i2]:"fire-perf-compat",[a2]:"fire-rc",[s2]:"fire-rc-compat",[o2]:"fire-gcs",[l2]:"fire-gcs-compat",[u2]:"fire-fst",[h2]:"fire-fst-compat",[c2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,p2=new Map,Mg=new Map;function P0(n,e){try{n.container.addComponent(e)}catch(t){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gl(n){const e=n.name;if(Mg.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;Mg.set(e,n);for(const t of jf.values())P0(t,n);for(const t of p2.values())P0(t,n);return!0}function Ty(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ri(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new yc("app","Firebase",g2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=d2;function pA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a={name:Og,automaticDataCollectionEnabled:!0,...e},s=a.name;if(typeof s!="string"||!s)throw os.create("bad-app-name",{appName:String(s)});if(t||(t=uA()),!t)throw os.create("no-options");const l=jf.get(s);if(l){if(no(t,l.options)&&no(a,l.config))return l;throw os.create("duplicate-app",{appName:s})}const c=new Sx(s);for(const p of Mg.values())c.addComponent(p);const d=new y2(t,a,c);return jf.set(s,d),d}function gA(n=Og){const e=jf.get(n);if(!e&&n===Og&&uA())return pA();if(!e)throw os.create("no-app",{appName:n});return e}function ls(n,e,t){let a=m2[n]??n;t&&(a+=`-${t}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(c.join(" "));return}gl(new ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",_2=1,nc="firebase-heartbeat-store";let ug=null;function yA(){return ug||(ug=Lx(v2,_2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(nc)}catch(t){console.warn(t)}}}}).catch(n=>{throw os.create("idb-open",{originalErrorMessage:n.message})})),ug}async function E2(n){try{const t=(await yA()).transaction(nc),a=await t.objectStore(nc).get(vA(n));return await t.done,a}catch(e){if(e instanceof ga)ca.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ca.warn(t.message)}}}async function L0(n,e){try{const a=(await yA()).transaction(nc,"readwrite");await a.objectStore(nc).put(e,vA(n)),await a.done}catch(t){if(t instanceof ga)ca.warn(t.message);else{const a=os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ca.warn(a.message)}}}function vA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1024,b2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w2(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=k0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>b2){const c=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ca.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k0(),{heartbeatsToSend:a,unsentEntries:s}=A2(this._heartbeatsCache.heartbeats),l=Uf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ca.warn(t),""}}}function k0(){return new Date().toISOString().substring(0,10)}function A2(n,e=T2){const t=[];let a=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),U0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),U0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class w2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await E2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U0(n){return Uf(JSON.stringify({version:2,heartbeats:n})).length}function R2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){gl(new ro("platform-logger",e=>new jx(e),"PRIVATE")),gl(new ro("heartbeat",e=>new S2(e),"PRIVATE")),ls(xg,V0,n),ls(xg,V0,"esm2020"),ls("fire-js","")}C2("");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,_A;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function R(){}R.prototype=A.prototype,b.F=A.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(N,x,V){for(var O=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)O[ke-2]=arguments[ke];return A.prototype[x].apply(N,O)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,A,R){R||(R=0);const N=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)N[x]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(x=0;x<16;++x)N[x]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=b.g[0],R=b.g[1],x=b.g[2];let V=b.g[3],O;O=A+(V^R&(x^V))+N[0]+3614090360&4294967295,A=R+(O<<7&4294967295|O>>>25),O=V+(x^A&(R^x))+N[1]+3905402710&4294967295,V=A+(O<<12&4294967295|O>>>20),O=x+(R^V&(A^R))+N[2]+606105819&4294967295,x=V+(O<<17&4294967295|O>>>15),O=R+(A^x&(V^A))+N[3]+3250441966&4294967295,R=x+(O<<22&4294967295|O>>>10),O=A+(V^R&(x^V))+N[4]+4118548399&4294967295,A=R+(O<<7&4294967295|O>>>25),O=V+(x^A&(R^x))+N[5]+1200080426&4294967295,V=A+(O<<12&4294967295|O>>>20),O=x+(R^V&(A^R))+N[6]+2821735955&4294967295,x=V+(O<<17&4294967295|O>>>15),O=R+(A^x&(V^A))+N[7]+4249261313&4294967295,R=x+(O<<22&4294967295|O>>>10),O=A+(V^R&(x^V))+N[8]+1770035416&4294967295,A=R+(O<<7&4294967295|O>>>25),O=V+(x^A&(R^x))+N[9]+2336552879&4294967295,V=A+(O<<12&4294967295|O>>>20),O=x+(R^V&(A^R))+N[10]+4294925233&4294967295,x=V+(O<<17&4294967295|O>>>15),O=R+(A^x&(V^A))+N[11]+2304563134&4294967295,R=x+(O<<22&4294967295|O>>>10),O=A+(V^R&(x^V))+N[12]+1804603682&4294967295,A=R+(O<<7&4294967295|O>>>25),O=V+(x^A&(R^x))+N[13]+4254626195&4294967295,V=A+(O<<12&4294967295|O>>>20),O=x+(R^V&(A^R))+N[14]+2792965006&4294967295,x=V+(O<<17&4294967295|O>>>15),O=R+(A^x&(V^A))+N[15]+1236535329&4294967295,R=x+(O<<22&4294967295|O>>>10),O=A+(x^V&(R^x))+N[1]+4129170786&4294967295,A=R+(O<<5&4294967295|O>>>27),O=V+(R^x&(A^R))+N[6]+3225465664&4294967295,V=A+(O<<9&4294967295|O>>>23),O=x+(A^R&(V^A))+N[11]+643717713&4294967295,x=V+(O<<14&4294967295|O>>>18),O=R+(V^A&(x^V))+N[0]+3921069994&4294967295,R=x+(O<<20&4294967295|O>>>12),O=A+(x^V&(R^x))+N[5]+3593408605&4294967295,A=R+(O<<5&4294967295|O>>>27),O=V+(R^x&(A^R))+N[10]+38016083&4294967295,V=A+(O<<9&4294967295|O>>>23),O=x+(A^R&(V^A))+N[15]+3634488961&4294967295,x=V+(O<<14&4294967295|O>>>18),O=R+(V^A&(x^V))+N[4]+3889429448&4294967295,R=x+(O<<20&4294967295|O>>>12),O=A+(x^V&(R^x))+N[9]+568446438&4294967295,A=R+(O<<5&4294967295|O>>>27),O=V+(R^x&(A^R))+N[14]+3275163606&4294967295,V=A+(O<<9&4294967295|O>>>23),O=x+(A^R&(V^A))+N[3]+4107603335&4294967295,x=V+(O<<14&4294967295|O>>>18),O=R+(V^A&(x^V))+N[8]+1163531501&4294967295,R=x+(O<<20&4294967295|O>>>12),O=A+(x^V&(R^x))+N[13]+2850285829&4294967295,A=R+(O<<5&4294967295|O>>>27),O=V+(R^x&(A^R))+N[2]+4243563512&4294967295,V=A+(O<<9&4294967295|O>>>23),O=x+(A^R&(V^A))+N[7]+1735328473&4294967295,x=V+(O<<14&4294967295|O>>>18),O=R+(V^A&(x^V))+N[12]+2368359562&4294967295,R=x+(O<<20&4294967295|O>>>12),O=A+(R^x^V)+N[5]+4294588738&4294967295,A=R+(O<<4&4294967295|O>>>28),O=V+(A^R^x)+N[8]+2272392833&4294967295,V=A+(O<<11&4294967295|O>>>21),O=x+(V^A^R)+N[11]+1839030562&4294967295,x=V+(O<<16&4294967295|O>>>16),O=R+(x^V^A)+N[14]+4259657740&4294967295,R=x+(O<<23&4294967295|O>>>9),O=A+(R^x^V)+N[1]+2763975236&4294967295,A=R+(O<<4&4294967295|O>>>28),O=V+(A^R^x)+N[4]+1272893353&4294967295,V=A+(O<<11&4294967295|O>>>21),O=x+(V^A^R)+N[7]+4139469664&4294967295,x=V+(O<<16&4294967295|O>>>16),O=R+(x^V^A)+N[10]+3200236656&4294967295,R=x+(O<<23&4294967295|O>>>9),O=A+(R^x^V)+N[13]+681279174&4294967295,A=R+(O<<4&4294967295|O>>>28),O=V+(A^R^x)+N[0]+3936430074&4294967295,V=A+(O<<11&4294967295|O>>>21),O=x+(V^A^R)+N[3]+3572445317&4294967295,x=V+(O<<16&4294967295|O>>>16),O=R+(x^V^A)+N[6]+76029189&4294967295,R=x+(O<<23&4294967295|O>>>9),O=A+(R^x^V)+N[9]+3654602809&4294967295,A=R+(O<<4&4294967295|O>>>28),O=V+(A^R^x)+N[12]+3873151461&4294967295,V=A+(O<<11&4294967295|O>>>21),O=x+(V^A^R)+N[15]+530742520&4294967295,x=V+(O<<16&4294967295|O>>>16),O=R+(x^V^A)+N[2]+3299628645&4294967295,R=x+(O<<23&4294967295|O>>>9),O=A+(x^(R|~V))+N[0]+4096336452&4294967295,A=R+(O<<6&4294967295|O>>>26),O=V+(R^(A|~x))+N[7]+1126891415&4294967295,V=A+(O<<10&4294967295|O>>>22),O=x+(A^(V|~R))+N[14]+2878612391&4294967295,x=V+(O<<15&4294967295|O>>>17),O=R+(V^(x|~A))+N[5]+4237533241&4294967295,R=x+(O<<21&4294967295|O>>>11),O=A+(x^(R|~V))+N[12]+1700485571&4294967295,A=R+(O<<6&4294967295|O>>>26),O=V+(R^(A|~x))+N[3]+2399980690&4294967295,V=A+(O<<10&4294967295|O>>>22),O=x+(A^(V|~R))+N[10]+4293915773&4294967295,x=V+(O<<15&4294967295|O>>>17),O=R+(V^(x|~A))+N[1]+2240044497&4294967295,R=x+(O<<21&4294967295|O>>>11),O=A+(x^(R|~V))+N[8]+1873313359&4294967295,A=R+(O<<6&4294967295|O>>>26),O=V+(R^(A|~x))+N[15]+4264355552&4294967295,V=A+(O<<10&4294967295|O>>>22),O=x+(A^(V|~R))+N[6]+2734768916&4294967295,x=V+(O<<15&4294967295|O>>>17),O=R+(V^(x|~A))+N[13]+1309151649&4294967295,R=x+(O<<21&4294967295|O>>>11),O=A+(x^(R|~V))+N[4]+4149444226&4294967295,A=R+(O<<6&4294967295|O>>>26),O=V+(R^(A|~x))+N[11]+3174756917&4294967295,V=A+(O<<10&4294967295|O>>>22),O=x+(A^(V|~R))+N[2]+718787259&4294967295,x=V+(O<<15&4294967295|O>>>17),O=R+(V^(x|~A))+N[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,b.g[2]=b.g[2]+x&4294967295,b.g[3]=b.g[3]+V&4294967295}a.prototype.v=function(b,A){A===void 0&&(A=b.length);const R=A-this.blockSize,N=this.C;let x=this.h,V=0;for(;V<A;){if(x==0)for(;V<=R;)s(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<A;)if(N[x++]=b.charCodeAt(V++),x==this.blockSize){s(this,N),x=0;break}}else for(;V<A;)if(N[x++]=b[V++],x==this.blockSize){s(this,N),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;A=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=A&255,A/=256;for(this.v(b),b=Array(16),A=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)b[A++]=this.g[R]>>>N&255;return b};function l(b,A){var R=d;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=A(b)}function c(b,A){this.h=A;const R=[];let N=!0;for(let x=b.length-1;x>=0;x--){const V=b[x]|0;N&&V==A||(R[x]=V,N=!1)}this.g=R}var d={};function p(b){return-128<=b&&b<128?l(b,function(A){return new c([A|0],A<0?-1:0)}):new c([b|0],b<0?-1:0)}function g(b){if(isNaN(b)||!isFinite(b))return E;if(b<0)return L(g(-b));const A=[];let R=1;for(let N=0;b>=R;N++)A[N]=b/R|0,R*=4294967296;return new c(A,0)}function v(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return L(v(b.substring(1),A));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let N=E;for(let V=0;V<b.length;V+=8){var x=Math.min(8,b.length-V);const O=parseInt(b.substring(V,V+x),A);x<8?(x=g(Math.pow(A,x)),N=N.j(x).add(g(O))):(N=N.j(R),N=N.add(g(O)))}return N}var E=p(0),S=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-L(this).m();let b=0,A=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);b+=(N>=0?N:4294967296+N)*A,A*=4294967296}return b},n.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(M(this))return"0";if(z(this))return"-"+L(this).toString(b);const A=g(Math.pow(b,6));var R=this;let N="";for(;;){const x=X(R,A).g;R=$(R,x.j(A));let V=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=x,M(R))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},n.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function M(b){if(b.h!=0)return!1;for(let A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function z(b){return b.h==-1}n.l=function(b){return b=$(this,b),z(b)?-1:M(b)?0:1};function L(b){const A=b.g.length,R=[];for(let N=0;N<A;N++)R[N]=~b.g[N];return new c(R,~b.h).add(S)}n.abs=function(){return z(this)?L(this):this},n.add=function(b){const A=Math.max(this.g.length,b.g.length),R=[];let N=0;for(let x=0;x<=A;x++){let V=N+(this.i(x)&65535)+(b.i(x)&65535),O=(V>>>16)+(this.i(x)>>>16)+(b.i(x)>>>16);N=O>>>16,V&=65535,O&=65535,R[x]=O<<16|V}return new c(R,R[R.length-1]&-2147483648?-1:0)};function $(b,A){return b.add(L(A))}n.j=function(b){if(M(this)||M(b))return E;if(z(this))return z(b)?L(this).j(L(b)):L(L(this).j(b));if(z(b))return L(this.j(L(b)));if(this.l(I)<0&&b.l(I)<0)return g(this.m()*b.m());const A=this.g.length+b.g.length,R=[];for(var N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let x=0;x<b.g.length;x++){const V=this.i(N)>>>16,O=this.i(N)&65535,ke=b.i(x)>>>16,$e=b.i(x)&65535;R[2*N+2*x]+=O*$e,G(R,2*N+2*x),R[2*N+2*x+1]+=V*$e,G(R,2*N+2*x+1),R[2*N+2*x+1]+=O*ke,G(R,2*N+2*x+1),R[2*N+2*x+2]+=V*ke,G(R,2*N+2*x+2)}for(b=0;b<A;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=A;b<2*A;b++)R[b]=0;return new c(R,0)};function G(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function F(b,A){this.g=b,this.h=A}function X(b,A){if(M(A))throw Error("division by zero");if(M(b))return new F(E,E);if(z(b))return A=X(L(b),A),new F(L(A.g),L(A.h));if(z(A))return A=X(b,L(A)),new F(L(A.g),A.h);if(b.g.length>30){if(z(b)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=A;N.l(b)<=0;)R=Y(R),N=Y(N);var x=q(R,1),V=q(N,1);for(N=q(N,2),R=q(R,2);!M(N);){var O=V.add(N);O.l(b)<=0&&(x=x.add(R),V=O),N=q(N,1),R=q(R,1)}return A=$(b,x.j(A)),new F(x,A)}for(x=E;b.l(A)>=0;){for(R=Math.max(1,Math.floor(b.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=g(R),O=V.j(A);z(O)||O.l(b)>0;)R-=N,V=g(R),O=V.j(A);M(V)&&(V=S),x=x.add(V),b=$(b,O)}return new F(x,b)}n.B=function(b){return X(this,b).h},n.and=function(b){const A=Math.max(this.g.length,b.g.length),R=[];for(let N=0;N<A;N++)R[N]=this.i(N)&b.i(N);return new c(R,this.h&b.h)},n.or=function(b){const A=Math.max(this.g.length,b.g.length),R=[];for(let N=0;N<A;N++)R[N]=this.i(N)|b.i(N);return new c(R,this.h|b.h)},n.xor=function(b){const A=Math.max(this.g.length,b.g.length),R=[];for(let N=0;N<A;N++)R[N]=this.i(N)^b.i(N);return new c(R,this.h^b.h)};function Y(b){const A=b.g.length+1,R=[];for(let N=0;N<A;N++)R[N]=b.i(N)<<1|b.i(N-1)>>>31;return new c(R,b.h)}function q(b,A){const R=A>>5;A%=32;const N=b.g.length-R,x=[];for(let V=0;V<N;V++)x[V]=A>0?b.i(V+R)>>>A|b.i(V+R+1)<<32-A:b.i(V+R);return new c(x,b.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,_A=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,us=c}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EA,Uu,TA,pf,Vg,bA,SA,AA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=t(this);function s(h,y){if(y)e:{var T=a;h=h.split(".");for(var D=0;D<h.length-1;D++){var Q=h[D];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],D=T[h],y=y(D),y!=D&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(y){var T=[],D;for(D in y)Object.prototype.hasOwnProperty.call(y,D)&&T.push([D,y[D]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var D=T.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(D,Q,ne){for(var ve=Array(arguments.length-2),We=2;We<arguments.length;We++)ve[We-2]=arguments[We];return y.prototype[Q].apply(D,ve)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const T=Array(y);for(let D=0;D<y;D++)T[D]=h[D];return T}return[]}function M(h,y){for(let D=1;D<arguments.length;D++){const Q=arguments[D];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const ne=Q.length||0;h.length=T+ne;for(let ve=0;ve<ne;ve++)h[T+ve]=Q[ve]}else h.push(Q)}}class z{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(h){c.setTimeout(()=>{throw h},0)}function $(){var h=b;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class G{constructor(){this.h=this.g=null}add(y,T){const D=F.get();D.set(y,T),this.h?this.h.next=D:this.g=D,this.h=D}}var F=new z(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,q=!1,b=new G,A=()=>{const h=Promise.resolve(void 0);Y=()=>{h.then(R)}};function R(){for(var h;h=$();){try{h.h.call(h.g)}catch(T){L(T)}var y=F;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}q=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function ke(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(ke,x),ke.prototype.init=function(h,y){const T=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),W=0;function he(h,y,T,D,Q){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!D,this.ha=Q,this.key=++W,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ve(h,y,T){for(const D in h)y.call(T,h[D],D,h)}function De(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function j(h){const y={};for(const T in h)y[T]=h[T];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,y){let T,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(T in D)h[T]=D[T];for(let ne=0;ne<ie.length;ne++)T=ie[ne],Object.prototype.hasOwnProperty.call(D,T)&&(h[T]=D[T])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,y,T,D,Q){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const ve=Me(h,y,D,Q);return ve>-1?(y=h[ve],T||(y.fa=!1)):(y=new he(y,this.src,ne,!!D,Q),y.fa=T,h.push(y)),y};function we(h,y){const T=y.type;if(T in h.g){var D=h.g[T],Q=Array.prototype.indexOf.call(D,y,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(D,Q,1),ne&&(me(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Me(h,y,T,D){for(let Q=0;Q<h.length;++Q){const ne=h[Q];if(!ne.da&&ne.listener==y&&ne.capture==!!T&&ne.ha==D)return Q}return-1}var Qe="closure_lm_"+(Math.random()*1e6|0),wt={};function vt(h,y,T,D,Q){if(Array.isArray(y)){for(let ne=0;ne<y.length;ne++)vt(h,y[ne],T,D,Q);return null}return T=Fe(T),h&&h[$e]?h.J(y,T,d(D)?!!D.capture:!1,Q):Ir(h,y,T,!1,D,Q)}function Ir(h,y,T,D,Q,ne){if(!y)throw Error("Invalid event type");const ve=d(Q)?!!Q.capture:!!Q;let We=Oe(h);if(We||(h[Qe]=We=new ye(h)),T=We.add(y,T,D,ve,ne),T.proxy)return T;if(D=Yr(),T.proxy=D,D.src=h,D.listener=T,h.addEventListener)V||(Q=ve),Q===void 0&&(Q=!1),h.addEventListener(y.toString(),D,Q);else if(h.attachEvent)h.attachEvent(se(y.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Yr(){function h(T){return y.call(h.src,h.listener,T)}const y=Ee;return h}function Lt(h,y,T,D,Q){if(Array.isArray(y))for(var ne=0;ne<y.length;ne++)Lt(h,y[ne],T,D,Q);else D=d(D)?!!D.capture:!!D,T=Fe(T),h&&h[$e]?(h=h.i,ne=String(y).toString(),ne in h.g&&(y=h.g[ne],T=Me(y,T,D,Q),T>-1&&(me(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Oe(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Me(y,T,D,Q)),(T=h>-1?y[h]:null)&&An(T))}function An(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[$e])we(y.i,h);else{var T=h.type,D=h.proxy;y.removeEventListener?y.removeEventListener(T,D,h.capture):y.detachEvent?y.detachEvent(se(T),D):y.addListener&&y.removeListener&&y.removeListener(D),(T=Oe(y))?(we(T,h),T.h==0&&(T.src=null,y[Qe]=null)):me(h)}}}function se(h){return h in wt?wt[h]:wt[h]="on"+h}function Ee(h,y){if(h.da)h=!0;else{y=new ke(y,this);const T=h.listener,D=h.ha||h.src;h.fa&&An(h),h=T.call(D,y)}return h}function Oe(h){return h=h[Qe],h instanceof ye?h:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fe(h){return typeof h=="function"?h:(h[Ue]||(h[Ue]=function(y){return h.handleEvent(y)}),h[Ue])}function be(){N.call(this),this.i=new ye(this),this.M=this,this.G=null}E(be,N),be.prototype[$e]=!0,be.prototype.removeEventListener=function(h,y,T,D){Lt(this,h,y,T,D)};function Xe(h,y){var T,D=h.G;if(D)for(T=[];D;D=D.G)T.push(D);if(h=h.M,D=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var Q=y;y=new x(D,h),de(y,Q)}Q=!0;let ne,ve;if(T)for(ve=T.length-1;ve>=0;ve--)ne=y.g=T[ve],Q=gt(ne,D,!0,y)&&Q;if(ne=y.g=h,Q=gt(ne,D,!0,y)&&Q,Q=gt(ne,D,!1,y)&&Q,T)for(ve=0;ve<T.length;ve++)ne=y.g=T[ve],Q=gt(ne,D,!1,y)&&Q}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let D=0;D<T.length;D++)me(T[D]);delete h.g[y],h.h--}}this.G=null},be.prototype.J=function(h,y,T,D){return this.i.add(String(h),y,!1,T,D)},be.prototype.K=function(h,y,T,D){return this.i.add(String(h),y,!0,T,D)};function gt(h,y,T,D){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let Q=!0;for(let ne=0;ne<y.length;++ne){const ve=y[ne];if(ve&&!ve.da&&ve.capture==T){const We=ve.listener,nn=ve.ha||ve.src;ve.fa&&we(h.i,ve),Q=We.call(nn,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function yt(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Bt(h){h.g=yt(()=>{h.g=null,h.i&&(h.i=!1,Bt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class nt extends N{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(h){N.call(this),this.h=h,this.g={}}E(or,N);var ya=[];function Li(h){Ve(h.g,function(y,T){this.g.hasOwnProperty(T)&&An(y)},h),h.g={}}or.prototype.N=function(){or.Z.N.call(this),Li(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=c.JSON.stringify,lr=c.JSON.parse,Ts=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function po(){}function va(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vt(){x.call(this,"d")}E(Vt,x);function Fn(){x.call(this,"c")}E(Fn,x);var $t={},bs=null;function _a(){return bs=bs||new be}$t.Ia="serverreachability";function Ss(h){x.call(this,$t.Ia,h)}E(Ss,x);function Hn(h){const y=_a();Xe(y,new Ss(y))}$t.STAT_EVENT="statevent";function ci(h,y){x.call(this,$t.STAT_EVENT,h),this.stat=y}E(ci,x);function Kt(h){const y=_a();Xe(y,new ci(y,h))}$t.Ja="timingevent";function Dr(h,y){x.call(this,$t.Ja,h),this.size=y}E(Dr,x);function cr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function go(h,y,T,D,Q,ne){h.info(function(){if(h.g)if(ne){var ve="",We=ne.split("&");for(let bt=0;bt<We.length;bt++){var nn=We[bt].split("=");if(nn.length>1){const Yt=nn[0];nn=nn[1];const Or=Yt.split("_");ve=Or.length>=2&&Or[1]=="type"?ve+(Yt+"="+nn+"&"):ve+(Yt+"=redacted&")}}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+y+`
`+T+`
`+ve})}function ki(h,y,T,D,Q,ne,ve){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+y+`
`+T+`
`+ne+" "+ve})}function qn(h,y,T,D){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ul(h,T)+(D?" "+D:"")})}function hi(h,y){h.info(function(){return"TIMEOUT: "+y})}hr.prototype.info=function(){};function Ul(h,y){if(!h.g)return y;if(!y)return null;try{const ne=JSON.parse(y);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var T=ne[h];if(!(T.length<2)){var D=T[1];if(Array.isArray(D)&&!(D.length<1)){var Q=D[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ve=1;ve<D.length;ve++)D[ve]=""}}}}return En(ne)}catch{return y}}var Ui={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},k={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},H;function ee(){}E(ee,po),ee.prototype.g=function(){return new XMLHttpRequest},H=new ee;function fe(h){return encodeURIComponent(String(h))}function pe(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Se(h,y,T,D){this.j=h,this.i=y,this.l=T,this.S=D||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var ge={},_e={};function Re(h,y,T){h.M=1,h.A=As(Dt(y)),h.u=T,h.R=!0,ze(h,null)}function ze(h,y){h.F=Date.now(),It(h),h.B=Dt(h.A);var T=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),vo(T.i,"t",D),h.C=0,T=h.j.L,h.h=new Ce,h.g=$c(h.j,T?y:null,!h.u),h.P>0&&(h.O=new nt(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,D=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ya[0]=Q.toString()),Q=ya);for(let ne=0;ne<Q.length;ne++){const ve=vt(T,Q[ne],D||y.handleEvent,!1,y.h||y);if(!ve)break;y.g[ve.key]=ve}y=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Hn(),go(h.i,h.v,h.B,h.l,h.S,h.u)}Se.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wr(h)==3?y.j():this.Y(h)},Se.prototype.Y=function(h){try{if(h==this.g)e:{const We=Wr(this.g),nn=this.g.ya(),bt=this.g.ca();if(!(We<3)&&(We!=3||this.g&&(this.h.h||this.g.la()||wn(this.g)))){this.K||We!=4||nn==7||(nn==8||bt<=0?Hn(3):Hn(2)),kt(this);var y=this.g.ca();this.X=y;var T=xe(this);if(this.o=y==200,ki(this.i,this.v,this.B,this.l,this.S,We,y),this.o){if(this.U&&!this.L){t:{if(this.g){var D,Q=this.g;if((D=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var ne=D;break t}}ne=null}if(h=ne)qn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tn(this,h);else{this.o=!1,this.m=3,Kt(12),Ut(this),Ze(this);break e}}if(this.R){h=!0;let Yt;for(;!this.K&&this.C<T.length;)if(Yt=rt(this,T),Yt==_e){We==4&&(this.m=4,Kt(14),h=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==ge){this.m=4,Kt(15),qn(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else qn(this.i,this.l,Yt,null),Tn(this,Yt);if(qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||T.length!=0||this.h.h||(this.m=1,Kt(16),h=!1),this.o=this.o&&h,!h)qn(this.i,this.l,T,"[Invalid Chunked Response]"),Ut(this),Ze(this);else if(T.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Kl(ve),ve.P=!0,Kt(11))}}else qn(this.i,this.l,T,null),Tn(this,T);We==4&&Ut(this),this.o&&!this.K&&(We==4?Fc(this.j,this):(this.o=!1,It(this)))}else zi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Kt(12)):(this.m=0,Kt(13)),Ut(this),Ze(this)}}}catch{}finally{}};function xe(h){if(!qe(h))return h.g.la();const y=wn(h.g);if(y==="")return"";let T="";const D=y.length,Q=Wr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ut(h),Ze(h),"";h.h.i=new c.TextDecoder}for(let ne=0;ne<D;ne++)h.h.h=!0,T+=h.h.i.decode(y[ne],{stream:!(Q&&ne==D-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function qe(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function rt(h,y){var T=h.C,D=y.indexOf(`
`,T);return D==-1?_e:(T=Number(y.substring(T,D)),isNaN(T)?ge:(D+=1,D+T>y.length?_e:(y=y.slice(D,D+T),h.C=D+T,y)))}Se.prototype.cancel=function(){this.K=!0,Ut(this)};function It(h){h.T=Date.now()+h.H,Ft(h,h.H)}function Ft(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=cr(g(h.aa,h),y)}function kt(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Se.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(hi(this.i,this.B),this.M!=2&&(Hn(),Kt(17)),Ut(this),this.m=2,Ze(this)):Ft(this,this.T-h)};function Ze(h){h.j.I==0||h.K||Fc(h.j,h)}function Ut(h){kt(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Li(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Tn(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Pn(T.h,h))){if(!h.L&&Pn(T.h,h)&&T.I==3){try{var D=T.Ba.g.parse(y)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)So(T),Ca(T);else break e;xs(T),Kt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=cr(g(T.Va,T),6e3));Wn(T.h)<=1&&T.ta&&(T.ta=void 0)}else _i(T,11)}else if((h.L||T.g==h)&&So(T),!O(y))for(Q=T.Ba.g.parse(y),y=0;y<Q.length;y++){let bt=Q[y];const Yt=bt[0];if(!(Yt<=T.K))if(T.K=Yt,bt=bt[1],T.I==2)if(bt[0]=="c"){T.M=bt[1],T.ba=bt[2];const Or=bt[3];Or!=null&&(T.ka=Or,T.j.info("VER="+T.ka));const Ei=bt[4];Ei!=null&&(T.za=Ei,T.j.info("SVER="+T.za));const Jr=bt[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(D=1.5*Jr,T.O=D,T.j.info("backChannelRequestTimeoutMs_="+D)),D=T;const Zr=h.g;if(Zr){const Os=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var ne=D.h;ne.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(fr(ne,ne.h),ne.h=null))}if(D.G){const Ao=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(D.wa=Ao,Tt(D.J,D.G,Ao))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),D=T;var ve=h;if(D.na=Gc(D,D.L?D.ba:null,D.W),ve.L){fi(D.h,ve);var We=ve,nn=D.O;nn&&(We.H=nn),We.D&&(kt(We),It(We)),D.g=ve}else zc(D);T.i.length>0&&vi(T)}else bt[0]!="stop"&&bt[0]!="close"||_i(T,7);else T.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?_i(T,7):Gl(T):bt[0]!="noop"&&T.l&&T.l.qa(bt),T.A=0)}}Hn(4)}catch{}}var jt=class{constructor(h,y){this.g=h,this.map=y}};function Xn(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Wn(h){return h.h?1:h.g?h.g.size:0}function Pn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function fr(h,y){h.g?h.g.add(y):h.h=y}function fi(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Xn.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function di(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return I(h.i)}var at=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const D=h[T].indexOf("=");let Q,ne=null;D>=0?(Q=h[T].substring(0,D),ne=h[T].substring(D+1)):Q=h[T],y(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof ln?(this.l=h.l,et(this,h.j),this.o=h.o,this.g=h.g,dr(this,h.u),this.h=h.h,Ea(this,Uc(h.i)),this.m=h.m):h&&(y=String(h).match(at))?(this.l=!1,et(this,y[1]||"",!0),this.o=mi(y[2]||""),this.g=mi(y[3]||"",!0),dr(this,y[4]),this.h=mi(y[5]||"",!0),Ea(this,y[6]||"",!0),this.m=mi(y[7]||"")):(this.l=!1,this.i=new ba(null,this.l))}ln.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ws(y,yo,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ws(y,yo,!0),"@"),h.push(fe(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ws(T,T.charAt(0)=="/"?jl:Pc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ws(T,Lc)),h.join("")},ln.prototype.resolve=function(h){const y=Dt(this);let T=!!h.j;T?et(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var D=h.h;if(T)dr(y,h.u);else if(T=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var Q=y.h.lastIndexOf("/");Q!=-1&&(D=y.h.slice(0,Q+1)+D)}if(Q=D,Q==".."||Q==".")D="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){D=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ve=0;ve<Q.length;){const We=Q[ve++];We=="."?D&&ve==Q.length&&ne.push(""):We==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),D&&ve==Q.length&&ne.push("")):(ne.push(We),D=!0)}D=ne.join("/")}else D=Q}return T?y.h=D:T=h.i.toString()!=="",T?Ea(y,Uc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Dt(h){return new ln(h)}function et(h,y,T){h.j=T?mi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function dr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Ea(h,y,T){y instanceof ba?(h.i=y,_o(h.i,h.l)):(T||(y=ws(y,Ta)),h.i=new ba(y,h.l))}function Tt(h,y,T){h.i.set(y,T)}function As(h){return Tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function mi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ws(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,Jn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Jn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yo=/[#\/\?@]/g,Pc=/[#\?:]/g,jl=/[#\?]/g,Ta=/[#\?@]/g,Lc=/#/g;function ba(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Zn(h){h.g||(h.g=new Map,h.h=0,h.i&&Xt(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=ba.prototype,n.add=function(h,y){Zn(this),this.i=null,h=Sa(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function kc(h,y){Zn(h),y=Sa(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function zl(h,y){return Zn(h),y=Sa(h,y),h.g.has(y)}n.forEach=function(h,y){Zn(this),this.g.forEach(function(T,D){T.forEach(function(Q){h.call(y,Q,D,this)},this)},this)};function Bl(h,y){Zn(h);let T=[];if(typeof y=="string")zl(h,y)&&(T=T.concat(h.g.get(Sa(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return Zn(this),this.i=null,h=Sa(this,h),zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Bl(this,h),h.length>0?String(h[0]):y):y};function vo(h,y,T){kc(h,y),T.length>0&&(h.i=null,h.g.set(Sa(h,y),I(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let D=0;D<y.length;D++){var T=y[D];const Q=fe(T);T=Bl(this,T);for(let ne=0;ne<T.length;ne++){let ve=Q;T[ne]!==""&&(ve+="="+fe(T[ne])),h.push(ve)}}return this.i=h.join("&")};function Uc(h){const y=new ba;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Sa(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function _o(h,y){y&&!h.j&&(Zn(h),h.i=null,h.g.forEach(function(T,D){const Q=D.toLowerCase();D!=Q&&(kc(this,D),vo(this,Q,T))},h)),h.j=y}function Qr(h,y){const T=new hr;if(c.Image){const D=new Image;D.onload=v(Nr,T,"TestLoadImage: loaded",!0,y,D),D.onerror=v(Nr,T,"TestLoadImage: error",!1,y,D),D.onabort=v(Nr,T,"TestLoadImage: abort",!1,y,D),D.ontimeout=v(Nr,T,"TestLoadImage: timeout",!1,y,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else y(!1)}function Fl(h,y){const T=new hr,D=new AbortController,Q=setTimeout(()=>{D.abort(),Nr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:D.signal}).then(ne=>{clearTimeout(Q),ne.ok?Nr(T,"TestPingServer: ok",!0,y):Nr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),Nr(T,"TestPingServer: error",!1,y)})}function Nr(h,y,T,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(T)}catch{}}function Aa(){this.g=new Ts}function pi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(pi,po),pi.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(h,y){be.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Rs,be),n=Rs.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Xr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?wa(this):Xr(this),this.readyState==3&&Eo(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,wa(this))},n.Na=function(h){this.g&&(this.response=h,wa(this))},n.ga=function(){this.g&&wa(this)};function wa(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Xr(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function Xr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xr(h){let y="";return Ve(h,function(T,D){y+=D,y+=":",y+=T,y+=`\r
`}),y}function Cs(h,y,T){e:{for(D in T){var D=!1;break e}D=!0}D||(T=xr(T),typeof h=="string"?T!=null&&fe(T):Tt(h,y,T))}function Nt(h){be.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Nt,be);var gi=/^https?$/i,Hl=["POST","PUT"];n=Nt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():H.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ne){Is(this,ne);return}if(h=T||"",T=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)T.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ne of D.keys())T.set(ne,D.get(ne));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Hl,y,void 0)>=0)||D||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of T)this.g.setRequestHeader(ne,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){Is(this,ne)}};function Is(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ql(h),ji(h)}function ql(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Xe(this,"complete"),Xe(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},n.Xa=function(){Ds(this)};function Ds(h){if(h.h&&typeof l<"u"){if(h.v&&Wr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Xe(h,"readystatechange"),Wr(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var D;if(D=ne===0){let ve=String(h.D).match(at)[1]||null;!ve&&c.self&&c.self.location&&(ve=c.self.location.protocol.slice(0,-1)),D=!gi.test(ve?ve.toLowerCase():"")}T=D}if(T)Xe(h,"complete"),Xe(h,"success");else{h.o=6;try{var Q=Wr(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",ql(h)}}finally{ji(h)}}}}function ji(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Xe(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wr(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),lr(y)}};function wn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(h){const y={};h=(h.g&&Wr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(O(h[D]))continue;var T=pe(h[D]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=y[Q]||[];y[Q]=ne,ne.push(T)}De(y,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ra(h){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,h),this.Za=yi("retryDelaySeedMs",1e4,h),this.Ta=yi("forwardChannelMaxRetries",2,h),this.va=yi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Xn(h&&h.concurrentRequestLimit),this.Ba=new Aa,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ra.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,D){Kt(0),this.W=h,this.H=y||{},T&&D!==void 0&&(this.H.OSID=T,this.H.OAID=D),this.F=this.X,this.J=Gc(this,null,this.W),vi(this)};function Gl(h){if(To(h),h.I==3){var y=h.V++,T=Dt(h.J);if(Tt(T,"SID",h.M),Tt(T,"RID",y),Tt(T,"TYPE","terminate"),Ns(h,T),y=new Se(h,h.j,y),y.M=2,y.A=As(Dt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=$c(y.j,null),y.g.ea(y.A)),y.F=Date.now(),It(y)}qc(h)}function Ca(h){h.g&&(Kl(h),h.g.cancel(),h.g=null)}function To(h){Ca(h),h.v&&(c.clearTimeout(h.v),h.v=null),So(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function vi(h){if(!Vn(h.h)&&!h.m){h.m=!0;var y=h.Ea;Y||A(),q||(Y(),q=!0),b.add(y,h),h.D=0}}function bo(h,y){return Wn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=cr(g(h.Ea,h,y),Hc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Se(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=j(ne),de(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var D=this.i[T];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(y+=D,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=jc(this,Q,y),T=Dt(this.J),Tt(T,"RID",h),Tt(T,"CVER",22),this.G&&Tt(T,"X-HTTP-Session-Id",this.G),Ns(this,T),ne&&(this.R?y="headers="+fe(xr(ne))+"&"+y:this.u&&Cs(T,this.u,ne)),fr(this.h,Q),this.Ra&&Tt(T,"TYPE","init"),this.S?(Tt(T,"$req",y),Tt(T,"SID","null"),Q.U=!0,Re(Q,T,null)):Re(Q,T,y),this.I=2}}else this.I==3&&(h?$l(this,h):this.i.length==0||Vn(this.h)||$l(this))};function $l(h,y){var T;y?T=y.l:T=h.V++;const D=Dt(h.J);Tt(D,"SID",h.M),Tt(D,"RID",T),Tt(D,"AID",h.K),Ns(h,D),h.u&&h.o&&Cs(D,h.u,h.o),T=new Se(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=jc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),fr(h.h,T),Re(T,D,y)}function Ns(h,y){h.H&&Ve(h.H,function(T,D){Tt(y,D,T)}),h.l&&Ve({},function(T,D){Tt(y,D,T)})}function jc(h,y,T){T=Math.min(h.i.length,T);const D=h.l?g(h.l.Ka,h.l,h):null;e:{var Q=h.i;let We=-1;for(;;){const nn=["count="+T];We==-1?T>0?(We=Q[0].g,nn.push("ofs="+We)):We=0:nn.push("ofs="+We);let bt=!0;for(let Yt=0;Yt<T;Yt++){var ne=Q[Yt].g;const Or=Q[Yt].map;if(ne-=We,ne<0)We=Math.max(0,Q[Yt].g-100),bt=!1;else try{ne="req"+ne+"_"||"";try{var ve=Or instanceof Map?Or:Object.entries(Or);for(const[Ei,Jr]of ve){let Zr=Jr;d(Jr)&&(Zr=En(Jr)),nn.push(ne+Ei+"="+encodeURIComponent(Zr))}}catch(Ei){throw nn.push(ne+"type="+encodeURIComponent("_badmap")),Ei}}catch{D&&D(Or)}}if(bt){ve=nn.join("&");break e}}ve=void 0}return h=h.i.splice(0,T),y.G=h,ve}function zc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Y||A(),q||(Y(),q=!0),b.add(y,h),h.A=0}}function xs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=cr(g(h.Da,h),Hc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Bc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=cr(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Kt(10),Ca(this),Bc(this))};function Kl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Bc(h){h.g=new Se(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Dt(h.na);Tt(y,"RID","rpc"),Tt(y,"SID",h.M),Tt(y,"AID",h.K),Tt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Tt(y,"TO",h.ia),Tt(y,"TYPE","xmlhttp"),Ns(h,y),h.u&&h.o&&Cs(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=As(Dt(y)),T.u=null,T.R=!0,ze(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Ca(this),xs(this),Kt(19))};function So(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fc(h,y){var T=null;if(h.g==y){So(h),Kl(h),h.g=null;var D=2}else if(Pn(h.h,y))T=y.G,fi(h.h,y),D=1;else return;if(h.I!=0){if(y.o)if(D==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var Q=h.D;D=_a(),Xe(D,new Dr(D,T)),vi(h)}else zc(h);else if(Q=y.m,Q==3||Q==0&&y.X>0||!(D==1&&bo(h,y)||D==2&&xs(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),Q){case 1:_i(h,5);break;case 4:_i(h,10);break;case 3:_i(h,6);break;default:_i(h,2)}}}function Hc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function _i(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),D=h.Ua;const Q=!D;D=new ln(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||et(D,"https"),As(D),Q?Qr(D.toString(),T):Fl(D.toString(),T)}else Kt(2);h.I=0,h.l&&h.l.pa(y),qc(h),To(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function qc(h){if(h.I=0,h.ja=[],h.l){const y=di(h.h);(y.length!=0||h.i.length!=0)&&(M(h.ja,y),M(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Gc(h,y,T){var D=T instanceof ln?Dt(T):new ln(T);if(D.g!="")y&&(D.g=y+"."+D.g),dr(D,D.u);else{var Q=c.location;D=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new ln(null);D&&et(ne,D),y&&(ne.g=y),Q&&dr(ne,Q),T&&(ne.h=T),D=ne}return T=h.G,y=h.wa,T&&y&&Tt(D,T,y),Tt(D,"VER",h.ka),Ns(h,D),D}function $c(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Nt(new pi({ab:T})):new Nt(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}n=Kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ia(){}Ia.prototype.g=function(h,y){return new Gn(h,y)};function Gn(h,y){be.call(this),this.g=new Ra(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!O(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!O(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Bi(this)}E(Gn,be),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Gl(this.g)},Gn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=En(h),h=T);y.i.push(new jt(y.Ya++,h)),y.I==3&&vi(y)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,Gn.Z.N.call(this)};function Yc(h){Vt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Yc,Vt);function Qc(){Fn.call(this),this.status=1}E(Qc,Fn);function Bi(h){this.g=h}E(Bi,Kc),Bi.prototype.ra=function(){Xe(this.g,"a")},Bi.prototype.qa=function(h){Xe(this.g,new Yc(h))},Bi.prototype.pa=function(h){Xe(this.g,new Qc)},Bi.prototype.oa=function(){Xe(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,AA=function(){return new Ia},SA=function(){return _a()},bA=$t,Vg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ui.NO_ERROR=0,Ui.TIMEOUT=8,Ui.HTTP_ERROR=6,pf=Ui,k.COMPLETE="complete",TA=k,va.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",be.prototype.listen=be.prototype.J,Uu=va,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,EA=Nt}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="12.8.0";function I2(n){xl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new _y("@firebase/firestore");function nl(){return io.logLevel}function Ae(n,...e){if(io.logLevel<=ct.DEBUG){const t=e.map(by);io.debug(`Firestore (${xl}): ${n}`,...t)}}function ha(n,...e){if(io.logLevel<=ct.ERROR){const t=e.map(by);io.error(`Firestore (${xl}): ${n}`,...t)}}function yl(n,...e){if(io.logLevel<=ct.WARN){const t=e.map(by);io.warn(`Firestore (${xl}): ${n}`,...t)}}function by(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,wA(n,a,t)}function wA(n,e,t){let a=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ha(a),new Error(a)}function At(n,e,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,n||wA(e,s,a)}function Ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends ga{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jn.UNAUTHENTICATED)))}shutdown(){}}class N2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let a=this.i;const s=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new la;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new la,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new la)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(At(typeof a.accessToken=="string",31837,{l:a}),new RA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class O2{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class M2{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new O2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const a=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const s=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new z0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=P2(40);for(let l=0;l<s.length;++l)a.length<20&&s[l]<t&&(a+=e.charAt(s[l]%62))}return a}}function ht(n,e){return n<e?-1:n>e?1:0}function Pg(n,e){const t=Math.min(n.length,e.length);for(let a=0;a<t;a++){const s=n.charAt(a),l=e.charAt(a);if(s!==l)return cg(s)===cg(l)?ht(s,l):cg(s)?1:-1}return ht(n.length,e.length)}const L2=55296,k2=57343;function cg(n){const e=n.charCodeAt(0);return e>=L2&&e<=k2}function vl(n,e,t){return n.length===e.length&&n.every(((a,s)=>t(a,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class wi{constructor(e,t,a){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Be(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let s=0;s<a;s++){const l=wi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return ht(e.length,t.length)}static compareSegments(e,t){const a=wi.isNumericId(e),s=wi.isNumericId(t);return a&&!s?-1:!a&&s?1:a&&s?wi.extractNumericId(e).compare(wi.extractNumericId(t)):Pg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class zt extends wi{construct(e,t,a){return new zt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(le.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((s=>s.length>0)))}return new zt(t)}static emptyPath(){return new zt([])}}const U2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends wi{construct(e,t,a){return new On(e,t,a)}static isValidIdentifier(e){return U2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new On([B0])}static fromServerFormat(e){const t=[];let a="",s=0;const l=()=>{if(a.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Te(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(a+=d,s++):(l(),s++)}if(l(),c)throw new Te(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(t)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(zt.fromString(e))}static fromName(e){return new Le(zt.fromString(e).popFirst(5))}static empty(){return new Le(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n,e,t){if(!t)throw new Te(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function j2(n,e,t,a){if(e===!0&&a===!0)throw new Te(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F0(n){if(!Le.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function H0(n){if(Le.isDocumentKey(n))throw new Te(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ed(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function Ar(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ed(n);throw new Te(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n,e){const t={typeString:n};return e&&(t.value=e),t}function _c(n,e){if(!IA(n))throw new Te(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const s=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const c=n[a];if(s&&typeof c!==s){t=`JSON field '${a}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new Te(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=-62135596800,G0=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*G0);return new Gt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<q0)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G0}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,Gt._jsonSchema))return new Gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gt._jsonSchemaVersion="firestore/timestamp/1.0",Gt._jsonSchema={type:pn("string",Gt._jsonSchemaVersion),seconds:pn("number"),nanoseconds:pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Gt(0,0))}static max(){return new Ge(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function z2(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,s=Ge.fromTimestamp(a===1e9?new Gt(t+1,0):new Gt(t,a));return new fs(s,Le.empty(),e)}function B2(n){return new fs(n.readTime,n.key,rc)}class fs{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new fs(Ge.min(),Le.empty(),rc)}static max(){return new fs(Ge.max(),Le.empty(),rc)}}function F2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:ht(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==H2)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((a,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,a)=>{t(e)}))}static reject(e){return new ce(((t,a)=>{a(e)}))}static waitFor(e){return new ce(((t,a)=>{let s=0,l=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&t()}),(p=>a(p)))})),c=!0,l===s&&t()}))}static or(e){let t=ce.resolve(!1);for(const a of e)t=t.next((s=>s?ce.resolve(s):a()));return t}static forEach(e,t){const a=[];return e.forEach(((s,l)=>{a.push(t.call(this,s,l))})),this.waitFor(a)}static mapArray(e,t){return new ce(((a,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&a(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new ce(((a,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):a()};l()}))}}function G2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ml(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function bd(n){return n==null}function zf(n){return n===0&&1/n==-1/0}function $2(n){return typeof n=="number"&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="";function K2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$0(e)),e=Y2(n.get(t),e);return $0(e)}function Y2(n,e){let t=e;const a=n.length;for(let s=0;s<a;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case DA:t+="";break;default:t+=l}}return t}function $0(n){return n+DA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new Jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return t+a.left.size;s<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,t,a,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,a,s,l){this.key=e,this.value=t,this.color=a??xn.RED,this.left=s??xn.EMPTY,this.right=l??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,s,l){return new xn(e??this.key,t??this.value,a??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let s=this;const l=a(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,a),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,a,s,l){return this}insert(e,t,a){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new br([])}unionWith(e){let t=new yn(On.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xA("Invalid base64 string: "+l):l}})(e);return new Mn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new Mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(n){if(At(!!n,39018),typeof n=="string"){let e=0;const t=Q2.exec(n);if(At(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:sn(n.seconds),nanos:sn(n.nanos)}}function sn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ms(n){return typeof n=="string"?Mn.fromBase64String(n):Mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",MA="__type__",VA="__previous_value__",PA="__local_write_time__";function wy(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[MA])==null?void 0:a.stringValue)===OA}function Sd(n){const e=n.mapValue.fields[VA];return wy(e)?Sd(e):e}function ic(n){const e=ds(n.mapValue.fields[PA].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,a,s,l,c,d,p,g,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=E}}const Bf="(default)";class ac{constructor(e,t){this.projectId=e,this.database=t||Bf}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}function W2(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Te(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__type__",J2="__max__",af={mapValue:{}},kA="__vector__",Ff="value";function ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wy(n)?4:eO(n)?9007199254740991:Z2(n)?10:11:Be(28295,{value:n})}function Mi(n,e){if(n===e)return!0;const t=ps(n);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ic(n).isEqual(ic(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ds(s.timestampValue),d=ds(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return ms(s.bytesValue).isEqual(ms(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return sn(s.geoPointValue.latitude)===sn(l.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return sn(s.integerValue)===sn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=sn(s.doubleValue),d=sn(l.doubleValue);return c===d?zf(c)===zf(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return vl(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(K0(c)!==K0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Mi(c[p],d[p])))return!1;return!0})(n,e);default:return Be(52216,{left:n})}}function sc(n,e){return(n.values||[]).find((t=>Mi(t,e)))!==void 0}function _l(n,e){if(n===e)return 0;const t=ps(n),a=ps(e);if(t!==a)return ht(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=sn(l.integerValue||l.doubleValue),p=sn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return Q0(n.timestampValue,e.timestampValue);case 4:return Q0(ic(n),ic(e));case 5:return Pg(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=ms(l),p=ms(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=ht(d[g],p[g]);if(v!==0)return v}return ht(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ht(sn(l.latitude),sn(c.latitude));return d!==0?d:ht(sn(l.longitude),sn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return X0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,I,M,z;const d=l.fields||{},p=c.fields||{},g=(S=d[Ff])==null?void 0:S.arrayValue,v=(I=p[Ff])==null?void 0:I.arrayValue,E=ht(((M=g==null?void 0:g.values)==null?void 0:M.length)||0,((z=v==null?void 0:v.values)==null?void 0:z.length)||0);return E!==0?E:X0(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===af.mapValue&&c===af.mapValue)return 0;if(l===af.mapValue)return 1;if(c===af.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Pg(p[E],v[E]);if(S!==0)return S;const I=_l(d[p[E]],g[v[E]]);if(I!==0)return I}return ht(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Be(23264,{he:t})}}function Q0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ht(n,e);const t=ds(n),a=ds(e),s=ht(t.seconds,a.seconds);return s!==0?s:ht(t.nanos,a.nanos)}function X0(n,e){const t=n.values||[],a=e.values||[];for(let s=0;s<t.length&&s<a.length;++s){const l=_l(t[s],a[s]);if(l)return l}return ht(t.length,a.length)}function El(n){return Lg(n)}function Lg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const a=ds(t);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ms(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let a="[",s=!0;for(const l of t.values||[])s?s=!1:a+=",",a+=Lg(l);return a+"]"})(n.arrayValue):"mapValue"in n?(function(t){const a=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of a)l?l=!1:s+=",",s+=`${c}:${Lg(t.fields[c])}`;return s+"}"})(n.mapValue):Be(61005,{value:n})}function gf(n){switch(ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(n);return e?16+gf(e):16;case 5:return 2*n.stringValue.length;case 6:return ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((s,l)=>s+gf(l)),0)})(n.arrayValue);case 10:case 11:return(function(a){let s=0;return _s(a.fields,((l,c)=>{s+=l.length+gf(c)})),s})(n.mapValue);default:throw Be(13486,{value:n})}}function W0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function kg(n){return!!n&&"integerValue"in n}function Ry(n){return!!n&&"arrayValue"in n}function J0(n){return!!n&&"nullValue"in n}function Z0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yf(n){return!!n&&"mapValue"in n}function Z2(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[LA])==null?void 0:a.stringValue)===kA}function $u(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return _s(n.mapValue.fields,((t,a)=>e.mapValue.fields[t]=$u(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return{...n}}function eO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===J2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=On.emptyPath(),a={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,s),a={},s=[],t=d.popLast()}c?a[d.lastSegment()]=$u(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,a,s)}delete(e){const t=this.field(e.popLast());yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=t.mapValue.fields[e.get(a)];yf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,a){_s(t,((s,l)=>e[s]=l));for(const s of a)delete e[s]}clone(){return new sr($u(this.value))}}function UA(n){const e=[];return _s(n.fields,((t,a)=>{const s=new On([t]);if(yf(a)){const l=UA(a.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t,a,s,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new zn(e,0,Ge.min(),Ge.min(),Ge.min(),sr.empty(),0)}static newFoundDocument(e,t,a,s){return new zn(e,1,t,Ge.min(),a,s,0)}static newNoDocument(e,t){return new zn(e,2,t,Ge.min(),Ge.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Ge.min(),Ge.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.position=e,this.inclusive=t}}function eb(n,e,t){let a=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?a=Le.comparator(Le.fromName(c.referenceValue),t.key):a=_l(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function tb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t="asc"){this.field=e,this.dir=t}}function tO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{}class mn extends jA{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new rO(e,t,a):t==="array-contains"?new sO(e,a):t==="in"?new oO(e,a):t==="not-in"?new lO(e,a):t==="array-contains-any"?new uO(e,a):new mn(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new iO(e,a):new aO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(_l(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(_l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends jA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new li(e,t)}matches(e){return zA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zA(n){return n.op==="and"}function BA(n){return nO(n)&&zA(n)}function nO(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function Ug(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+El(n.value);if(BA(n))return n.filters.map((e=>Ug(e))).join(",");{const e=n.filters.map((t=>Ug(t))).join(",");return`${n.op}(${e})`}}function FA(n,e){return n instanceof mn?(function(a,s){return s instanceof mn&&a.op===s.op&&a.field.isEqual(s.field)&&Mi(a.value,s.value)})(n,e):n instanceof li?(function(a,s){return s instanceof li&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce(((l,c,d)=>l&&FA(c,s.filters[d])),!0):!1})(n,e):void Be(19439)}function HA(n){return n instanceof mn?(function(t){return`${t.field.canonicalString()} ${t.op} ${El(t.value)}`})(n):n instanceof li?(function(t){return t.op.toString()+" {"+t.getFilters().map(HA).join(" ,")+"}"})(n):"Filter"}class rO extends mn{constructor(e,t,a){super(e,t,a),this.key=Le.fromName(a.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class iO extends mn{constructor(e,t){super(e,"in",t),this.keys=qA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aO extends mn{constructor(e,t){super(e,"not-in",t),this.keys=qA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qA(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((a=>Le.fromName(a.referenceValue)))}class sO extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ry(t)&&sc(t.arrayValue,this.value)}}class oO extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}}class lO extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sc(this.value.arrayValue,t)}}class uO extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ry(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>sc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t=null,a=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function nb(n,e=null,t=[],a=[],s=null,l=null,c=null){return new cO(n,e,t,a,s,l,c)}function Cy(n){const e=Ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>Ug(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>El(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>El(a))).join(",")),e.Te=t}return e.Te}function Iy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!FA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tb(n.startAt,e.startAt)&&tb(n.endAt,e.endAt)}function jg(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t=null,a=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hO(n,e,t,a,s,l,c,d){return new Ec(n,e,t,a,s,l,c,d)}function Ad(n){return new Ec(n)}function rb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fO(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function GA(n){return n.collectionGroup!==null}function Ku(n){const e=Ye(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new yn(On.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new qf(l,a))})),t.has(On.keyField().canonicalString())||e.Ie.push(new qf(On.keyField(),a))}return e.Ie}function Ii(n){const e=Ye(n);return e.Ee||(e.Ee=dO(e,Ku(n))),e.Ee}function dO(n,e){if(n.limitType==="F")return nb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new qf(s.field,l)}));const t=n.endAt?new Hf(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new Hf(n.startAt.position,n.startAt.inclusive):null;return nb(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function zg(n,e){const t=n.filters.concat([e]);return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bg(n,e,t){return new Ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wd(n,e){return Iy(Ii(n),Ii(e))&&n.limitType===e.limitType}function $A(n){return`${Cy(Ii(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((s=>HA(s))).join(", ")}]`),bd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((s=>El(s))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((s=>El(s))).join(",")),`Target(${a})`})(Ii(n))}; limitType=${n.limitType})`}function Rd(n,e){return e.isFoundDocument()&&(function(a,s){const l=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Le.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(n,e)&&(function(a,s){for(const l of Ku(a))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(a,s){for(const l of a.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(a,s){return!(a.startAt&&!(function(c,d,p){const g=eb(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,Ku(a),s)||a.endAt&&!(function(c,d,p){const g=eb(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,Ku(a),s))})(n,e)}function mO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KA(n){return(e,t)=>{let a=!1;for(const s of Ku(n)){const l=pO(s,e,t);if(l!==0)return l;a=a||s.field.isKeyField()}return 0}}function pO(n,e,t){const a=n.field.isKeyField()?Le.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?_l(p,g):Be(42886)})(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[s,l]of a)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[t]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((t,a)=>{for(const[s,l]of a)e(s,l)}))}isEmpty(){return NA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Jt(Le.comparator);function fa(){return gO}const YA=new Jt(Le.comparator);function ju(...n){let e=YA;for(const t of n)e=e.insert(t.key,t);return e}function QA(n){let e=YA;return n.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function Xs(){return Yu()}function XA(){return Yu()}function Yu(){return new co((n=>n.toString()),((n,e)=>n.isEqual(e)))}const yO=new Jt(Le.comparator),vO=new yn(Le.comparator);function ft(...n){let e=vO;for(const t of n)e=e.add(t);return e}const _O=new yn(ht);function EO(){return _O}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function WA(n){return{integerValue:""+n}}function TO(n,e){return $2(e)?WA(e):Dy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this._=void 0}}function bO(n,e,t){return n instanceof Gf?(function(s,l){const c={fields:{[MA]:{stringValue:OA},[PA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&wy(l)&&(l=Sd(l)),l&&(c.fields[VA]=l),{mapValue:c}})(t,e):n instanceof oc?ZA(n,e):n instanceof lc?ew(n,e):(function(s,l){const c=JA(s,l),d=ib(c)+ib(s.Ae);return kg(c)&&kg(s.Ae)?WA(d):Dy(s.serializer,d)})(n,e)}function SO(n,e,t){return n instanceof oc?ZA(n,e):n instanceof lc?ew(n,e):t}function JA(n,e){return n instanceof $f?(function(a){return kg(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class Gf extends Cd{}class oc extends Cd{constructor(e){super(),this.elements=e}}function ZA(n,e){const t=tw(e);for(const a of n.elements)t.some((s=>Mi(s,a)))||t.push(a);return{arrayValue:{values:t}}}class lc extends Cd{constructor(e){super(),this.elements=e}}function ew(n,e){let t=tw(e);for(const a of n.elements)t=t.filter((s=>!Mi(s,a)));return{arrayValue:{values:t}}}class $f extends Cd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ib(n){return sn(n.integerValue||n.doubleValue)}function tw(n){return Ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AO(n,e){return n.field.isEqual(e.field)&&(function(a,s){return a instanceof oc&&s instanceof oc||a instanceof lc&&s instanceof lc?vl(a.elements,s.elements,Mi):a instanceof $f&&s instanceof $f?Mi(a.Ae,s.Ae):a instanceof Gf&&s instanceof Gf})(n.transform,e.transform)}class wO{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Id{}function nw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ny(n.key,wr.none()):new Tc(n.key,n.data,wr.none());{const t=n.data,a=sr.empty();let s=new yn(On.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),s=s.add(l)}return new Es(n.key,a,new br(s.toArray()),wr.none())}}function RO(n,e,t){n instanceof Tc?(function(s,l,c){const d=s.value.clone(),p=sb(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Es?(function(s,l,c){if(!vf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=sb(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(rw(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Qu(n,e,t,a){return n instanceof Tc?(function(l,c,d,p){if(!vf(l.precondition,c))return d;const g=l.value.clone(),v=ob(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,a):n instanceof Es?(function(l,c,d,p){if(!vf(l.precondition,c))return d;const g=ob(l.fieldTransforms,p,c),v=c.data;return v.setAll(rw(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,a):(function(l,c,d){return vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function CO(n,e){let t=null;for(const a of n.fieldTransforms){const s=e.data.field(a.field),l=JA(a.transform,s||null);l!=null&&(t===null&&(t=sr.empty()),t.set(a.field,l))}return t||null}function ab(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&vl(a,s,((l,c)=>AO(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Tc extends Id{constructor(e,t,a,s=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Es extends Id{constructor(e,t,a,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}})),e}function sb(n,e,t){const a=new Map;At(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);a.set(l.field,SO(c,d,t[s]))}return a}function ob(n,e,t){const a=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);a.set(s.field,bO(l,c,e))}return a}class Ny extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IO extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t,a,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&RO(l,e,a[s])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Qu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Qu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=XA();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=nw(c,d);p!==null&&a.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Ge.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ft())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((t,a)=>ab(t,a)))&&vl(this.baseMutations,e.baseMutations,((t,a)=>ab(t,a)))}}class xy{constructor(e,t,a,s){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=s}static from(e,t,a){At(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let s=(function(){return yO})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,a[c].version);return new xy(e,t,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,mt;function OO(n){switch(n){case le.OK:return Be(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function iw(n){if(n===void 0)return ha("GRPC error has no .code"),le.UNKNOWN;switch(n){case dn.OK:return le.OK;case dn.CANCELLED:return le.CANCELLED;case dn.UNKNOWN:return le.UNKNOWN;case dn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case dn.INTERNAL:return le.INTERNAL;case dn.UNAVAILABLE:return le.UNAVAILABLE;case dn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case dn.NOT_FOUND:return le.NOT_FOUND;case dn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case dn.ABORTED:return le.ABORTED;case dn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case dn.DATA_LOSS:return le.DATA_LOSS;default:return Be(39323,{code:n})}}(mt=dn||(dn={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new us([4294967295,4294967295],0);function lb(n){const e=MO().encode(n),t=new _A;return t.update(e),new Uint8Array(t.digest())}function ub(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new us([t,a],0),new us([s,l],0)]}class Oy{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new zu(`Invalid padding: ${t}`);if(a<0)throw new zu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new zu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=us.fromNumber(this.ge)}ye(e,t,a){let s=e.add(t.multiply(us.fromNumber(a)));return s.compare(VO)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=lb(e),[a,s]=ub(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);if(!this.we(c))return!1}return!0}static create(e,t,a){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Oy(l,s,t);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=lb(e),[a,s]=ub(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);this.be(c)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,a,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const s=new Map;return s.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Dd(Ge.min(),s,new Jt(ht),fa(),ft())}}class bc{constructor(e,t,a,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new bc(a,t,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t,a,s){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=s}}class aw{constructor(e,t){this.targetId=e,this.Ce=t}}class sw{constructor(e,t,a=Mn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=s}}class cb{constructor(){this.ve=0,this.Fe=hb(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),t=ft(),a=ft();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:a=a.add(s);break;default:Be(38017,{changeType:l})}})),new bc(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=hb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class PO{constructor(e){this.Ge=e,this.ze=new Map,this.je=fa(),this.He=sf(),this.Je=sf(),this.Ze=new Jt(ht)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,a=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(jg(l))if(a===0){const c=new Le(l.path);this.et(t,c,zn.newNoDocument(c,Ge.min()))}else At(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=ms(a).toUint8Array()}catch(p){if(p instanceof xA)return yl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Oy(c,s,l)}catch(p){return yl(p instanceof zu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let s=0;return a.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&jg(d.target)){const p=new Le(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,zn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let a=ft();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new Dd(e,t,this.Ze,this.je,a);return this.je=fa(),this.He=sf(),this.Je=sf(),this.Ze=new Jt(ht),s}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new cb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new yn(ht),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new yn(ht),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sf(){return new Jt(Le.comparator)}function hb(){return new Jt(Le.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},kO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UO={and:"AND",or:"OR"};class jO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fg(n,e){return n.useProto3Json||bd(e)?e:{value:e}}function Kf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ow(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zO(n,e){return Kf(n,e.toTimestamp())}function Di(n){return At(!!n,49232),Ge.fromTimestamp((function(t){const a=ds(t);return new Gt(a.seconds,a.nanos)})(n))}function My(n,e){return Hg(n,e).canonicalString()}function Hg(n,e){const t=(function(s){return new zt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function lw(n){const e=zt.fromString(n);return At(dw(e),10190,{key:e.toString()}),e}function qg(n,e){return My(n.databaseId,e.path)}function hg(n,e){const t=lw(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(cw(t))}function uw(n,e){return My(n.databaseId,e)}function BO(n){const e=lw(n);return e.length===4?zt.emptyPath():cw(e)}function Gg(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cw(n){return At(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fb(n,e,t){return{name:qg(n,e),fields:t.value.mapValue.fields}}function FO(n,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(At(v===void 0||typeof v=="string",58123),Mn.fromBase64String(v||"")):(At(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?le.UNKNOWN:iw(g.code);return new Te(v,g.message||"")})(c);t=new sw(a,s,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=hg(n,a.document.name),l=Di(a.document.updateTime),c=a.document.createTime?Di(a.document.createTime):Ge.min(),d=new sr({mapValue:{fields:a.document.fields}}),p=zn.newFoundDocument(s,l,c,d),g=a.targetIds||[],v=a.removedTargetIds||[];t=new _f(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=hg(n,a.document),l=a.readTime?Di(a.readTime):Ge.min(),c=zn.newNoDocument(s,l),d=a.removedTargetIds||[];t=new _f([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=hg(n,a.document),l=a.removedTargetIds||[];t=new _f([],l,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:l}=a,c=new xO(s,l),d=a.targetId;t=new aw(d,c)}}return t}function HO(n,e){let t;if(e instanceof Tc)t={update:fb(n,e.key,e.value)};else if(e instanceof Ny)t={delete:qg(n,e.key)};else if(e instanceof Es)t={update:fb(n,e.key,e.data),updateMask:JO(e.fieldMask)};else{if(!(e instanceof IO))return Be(16599,{dt:e.type});t={verify:qg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof Gf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $f)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Be(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:zO(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Be(27497)})(n,e.precondition)),t}function qO(n,e){return n&&n.length>0?(At(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Di(s.updateTime):Di(l);return c.isEqual(Ge.min())&&(c=Di(l)),new wO(c,s.transformResults||[])})(t,e)))):[]}function GO(n,e){return{documents:[uw(n,e.path)]}}function $O(n,e){const t={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=uw(n,s);const l=(function(g){if(g.length!==0)return fw(li.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:il(S.field),direction:QO(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Fg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function KO(n){let e=BO(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let s=null;if(a>0){At(a===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const S=hw(E);return S instanceof li&&BA(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((S=>(function(M){return new qf(al(M.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let S;return S=typeof E=="object"?E.value:E,bd(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(E){const S=!!E.before,I=E.values||[];return new Hf(I,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const S=!E.before,I=E.values||[];return new Hf(I,S)})(t.endAt)),hO(e,s,c,l,d,"F",p,g)}function YO(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=al(t.unaryFilter.field);return mn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=al(t.unaryFilter.field);return mn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(t.unaryFilter.field);return mn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=al(t.unaryFilter.field);return mn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return mn.create(al(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return li.create(t.compositeFilter.filters.map((a=>hw(a))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(t.compositeFilter.op))})(n):Be(30097,{filter:n})}function QO(n){return LO[n]}function XO(n){return kO[n]}function WO(n){return UO[n]}function il(n){return{fieldPath:n.canonicalString()}}function al(n){return On.fromServerFormat(n.fieldPath)}function fw(n){return n instanceof mn?(function(t){if(t.op==="=="){if(Z0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(J0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(J0(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:XO(t.op),value:t.value}}})(n):n instanceof li?(function(t){const a=t.getFilters().map((s=>fw(s)));return a.length===1?a[0]:{compositeFilter:{op:WO(t.op),filters:a}}})(n):Be(54877,{filter:n})}function JO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function mw(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,a,s,l=Ge.min(),c=Ge.min(),d=Mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.yt=e}}function eM(n){const e=KO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.Sn=new nM}addToCollectionParentIndex(e,t){return this.Sn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(fs.min())}updateCollectionGroup(e,t,a){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class nM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t]||new yn(zt.comparator),l=!s.has(a);return this.index[t]=s.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t];return s&&s.has(a)}getEntries(e){return(this.index[e]||new yn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pw=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(pw,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Tl(0)}static ar(){return new Tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="LruGarbageCollector",rM=1048576;function pb([n,e],[t,a]){const s=ht(n,t);return s===0?ht(e,a):s}class iM{constructor(e){this.Pr=e,this.buffer=new yn(pb),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();pb(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ae(mb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ml(t)?Ae(mb,"Ignoring IndexedDB error during garbage collection: ",t):await Ol(t)}await this.Ar(3e5)}))}}class sM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Td.ce);const a=new iM(t);return this.Vr.forEachTarget(e,(s=>a.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>a.Er(s))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(db)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,s,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(a=E,d=Date.now(),this.removeTargets(e,a,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),nl()<=ct.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E}))))}}function oM(n,e){return new sM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.changes=new co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ce.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,t,a,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(a=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(a!==null&&Qu(a.mutation,s,br.empty(),Gt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,ft()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=ft()){const s=Xs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,a).next((l=>{let c=ju();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=Xs();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,ft())))}populateOverlays(e,t,a){const s=[];return a.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,a,s){let l=fa();const c=Yu(),d=(function(){return Yu()})();return t.forEach(((p,g)=>{const v=a.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof Es)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Qu(v.mutation,g,v.mutation.getFieldMask(),Gt.now())):c.set(g.key,br.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new uM(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const a=Yu();let s=new Jt(((c,d)=>c-d)),l=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=a.get(p)||br.empty();v=d.applyToLocalView(g,v),a.set(p,v);const E=(s.get(d.batchId)||ft()).add(p);s=s.insert(d.batchId,E)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=XA();v.forEach((S=>{if(!l.has(S)){const I=nw(t.get(S),a.get(S));I!==null&&E.set(S,I),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ce.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,s){return fO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,s):this.getDocumentsMatchingCollectionQuery(e,t,a,s)}getNextDocuments(e,t,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,s-l.size):ce.resolve(Xs());let d=rc,p=l;return c.next((g=>ce.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?ce.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,ft()))).next((v=>({batchId:d,changes:QA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next((a=>{let s=ju();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,s){const l=t.collectionGroup;let c=ju();return this.indexManager.getCollectionParents(e,l).next((d=>ce.forEach(d,(p=>{const g=(function(E,S){return new Ec(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next((v=>{v.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,s)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,zn.newInvalidDocument(v)))}));let d=ju();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Qu(v.mutation,g,br.empty(),Gt.now()),Rd(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ce.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Di(s.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:eM(s.bundledQuery),readTime:Di(s.readTime)}})(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.overlays=new Jt(Le.comparator),this.Lr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Xs();return ce.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&a.set(s,l)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((s,l)=>{this.bt(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,a){const s=this.Lr.get(a);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(a)),ce.resolve()}getOverlaysForCollection(e,t,a){const s=Xs(),l=t.length+1,c=new Le(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&s.set(p.getKey(),p)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,t,a,s){let l=new Jt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=l.get(g.largestBatchId);v===null&&(v=Xs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Xs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=s)););return ce.resolve(d)}bt(e,t,a){const s=this.overlays.get(a.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(a.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new NO(t,a));let l=this.Lr.get(t);l===void 0&&(l=ft(),this.Lr.set(t,l)),this.Lr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.kr=new yn(Sn.Kr),this.qr=new yn(Sn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new Sn(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new Sn(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new Le(new zt([])),a=new Sn(t,e),s=new Sn(t,e+1),l=[];return this.qr.forEachInRange([a,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Le(new zt([])),a=new Sn(t,e),s=new Sn(t,e+1);let l=ft();return this.qr.forEachInRange([a,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Sn(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Sn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Le.comparator(e.key,t.key)||ht(e.Hr,t.Hr)}static Ur(e,t){return ht(e.Hr,t.Hr)||Le.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new yn(Sn.Kr)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DO(l,t,a,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new Sn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,s=this.Xr(a),l=s<0?0:s;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Ay:this.Yn-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Sn(t,0),s=new Sn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([a,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new yn(ht);return t.forEach((s=>{const l=new Sn(s,0),c=new Sn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{a=a.add(d.Hr)}))})),ce.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,s=a.length+1;let l=a;Le.isDocumentKey(l)||(l=l.child(""));const c=new Sn(new Le(l),0);let d=new yn(ht);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Hr)),!0)}),c),ce.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((a=>{const s=this.Zr(a);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){At(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ce.forEach(t.mutations,(s=>{const l=new Sn(s.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new Sn(t,0),s=this.Jr.firstAfterOrEqual(a);return ce.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.ti=e,this.docs=(function(){return new Jt(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,s=this.docs.get(a),l=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ce.resolve(a?a.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let a=fa();return t.forEach((s=>{const l=this.docs.get(s);a=a.insert(s,l?l.document.mutableCopy():zn.newInvalidDocument(s))})),ce.resolve(a)}getDocumentsMatchingQuery(e,t,a,s){let l=fa();const c=t.path,d=new Le(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||F2(B2(v),a)<=0||(s.has(v.key)||Rd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,a,s){Be(9500)}ni(e,t){return ce.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new gM(this)}getSize(e){return ce.resolve(this.size)}}class gM extends lM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(a)})),ce.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.persistence=e,this.ri=new co((t=>Cy(t)),Iy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ii=0,this.si=new Vy,this.targetCount=0,this.oi=Tl._r()}forEachTarget(e,t){return this.ri.forEach(((a,s)=>t(s))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),ce.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.lr(t),ce.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,a){let s=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ce.waitFor(l).next((()=>s))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return ce.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),ce.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return ce.resolve(a)}containsKey(e,t){return ce.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,t){this._i={},this.overlays={},this.ai=new Td(0),this.ui=!1,this.ui=!0,this.ci=new dM,this.referenceDelegate=e(this),this.li=new yM(this),this.indexManager=new tM,this.remoteDocumentCache=(function(s){return new pM(s)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ZO(t),this.Pi=new hM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new mM(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){Ae("MemoryPersistence","Starting transaction:",e);const s=new vM(this.ai.next());return this.referenceDelegate.Ti(),a(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(e,t){return ce.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class vM extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class Py{constructor(e){this.persistence=e,this.Ri=new Vy,this.Ai=null}static Vi(e){return new Py(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),ce.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.di,(a=>{const s=Le.fromPath(a);return this.mi(e,s).next((l=>{l||t.removeEntry(s,Ge.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.fi=new co((a=>K2(a.path)),((a,s)=>a.isEqual(s))),this.garbageCollector=oM(this,t)}static Vi(e,t){return new Yf(e,t)}Ti(){}Ii(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((s=>a+s))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return ce.forEach(this.fi,((a,s)=>this.wr(e,a,s).next((l=>l?ce.resolve():t(s)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(a++,l.removeEntry(c,Ge.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ce.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gf(e.data.value)),t}wr(e,t,a){return ce.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return ce.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t,a,s){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=s}static Es(e,t){let a=ft(),s=ft();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Ly(e,t.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cx()?8:G2(Bn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,s){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,s,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new _M;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,a,s){return a.documentReadCount<this.Vs?(nl()<=ct.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ce.resolve()):(nl()<=ct.DEBUG&&Ae("QueryEngine","Query:",rl(t),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ds*s?(nl()<=ct.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(t))):ce.resolve())}gs(e,t){if(rb(t))return ce.resolve(null);let a=Ii(t);return this.indexManager.getIndexType(e,a).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Bg(t,null,"F"),a=Ii(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=ft(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,Bg(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,a,s){return rb(t)||s.isEqual(Ge.min())?ce.resolve(null):this.fs.getDocuments(e,a).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,a,s)?ce.resolve(null):(nl()<=ct.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),rl(t)),this.Ds(e,c,t,z2(s,rc)).next((d=>d)))}))}bs(e,t){let a=new yn(KA(e));return t.forEach(((s,l)=>{Rd(e,l)&&(a=a.add(l))})),a}Ss(e,t,a,s){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(e,t,a){return nl()<=ct.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",rl(t)),this.fs.getDocumentsMatchingQuery(e,t,fs.min(),a)}Ds(e,t,a,s){return this.fs.getDocumentsMatchingQuery(e,a,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LocalStore",TM=3e8;class bM{constructor(e,t,a,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new Jt(ht),this.Fs=new co((l=>Cy(l)),Iy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function SM(n,e,t,a){return new bM(n,e,t,a)}async function yw(n,e){const t=Ye(n);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let s;return t.mutationQueue.getAllMutationBatches(a).next((l=>(s=l,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=ft();for(const g of s){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function AM(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const s=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const E=g.batch,S=E.keys();let I=ce.resolve();return S.forEach((M=>{I=I.next((()=>v.getEntry(p,M))).next((z=>{const L=g.docVersions.get(M);At(L!==null,48541),z.version.compareTo(L)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),v.addEntry(z)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,a,e,l).next((()=>l.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=ft();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,s)))}))}function vw(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function wM(n,e){const t=Ye(n),a=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((v,E)=>{const S=s.get(E);if(!S)return;d.push(t.li.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,E))));let I=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Mn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,a)),s=s.insert(E,I),(function(z,L,$){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=TM?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,I,v)&&d.push(t.li.updateTargetData(l,I))}));let p=fa(),g=ft();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(RM(l,c,e.documentUpdates).next((v=>{p=v.Bs,g=v.Ls}))),!a.isEqual(Ge.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(v)}return ce.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=s,l)))}function RM(n,e,t){let a=ft(),s=ft();return t.forEach((l=>a=a.add(l))),e.getEntries(n,a).next((l=>{let c=fa();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Ge.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Ae(ky,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:s}}))}function CM(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ay),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function IM(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let s;return t.li.getTargetData(a,e).next((l=>l?(s=l,ce.resolve(s)):t.li.allocateTargetId(a).next((c=>(s=new is(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,s).next((()=>s)))))))})).then((a=>{const s=t.vs.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function $g(n,e,t){const a=Ye(n),s=a.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Ml(c))throw c;Ae(ky,`Failed to update sequence numbers for target ${e}: ${c}`)}a.vs=a.vs.remove(e),a.Fs.delete(s.target)}function gb(n,e,t){const a=Ye(n);let s=Ge.min(),l=ft();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const E=Ye(p),S=E.Fs.get(v);return S!==void 0?ce.resolve(E.vs.get(S)):E.li.getTargetData(g,v)})(a,c,Ii(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(c,e,t?s:Ge.min(),t?l:ft()))).next((d=>(DM(a,mO(e),d),{documents:d,ks:l})))))}function DM(n,e,t){let a=n.Ms.get(e)||Ge.min();t.forEach(((s,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),n.Ms.set(e,a)}class yb{constructor(){this.activeTargetIds=EO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NM{constructor(){this.vo=new yb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yb,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="ConnectivityMonitor";class _b{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ae(vb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ae(vb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function Kg(){return of===null?of=(function(){return 268435456+Math.round(2147483648*Math.random())})():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="RestConnection",OM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class MM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${s}`,this.$o=this.databaseId.database===Bf?`project_id=${a}`:`project_id=${a}&database_id=${s}`}Wo(e,t,a,s,l){const c=Kg(),d=this.Qo(e,t.toUriEncodedString());Ae(fg,`Sending RPC '${e}' ${c}:`,d,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,s,l);const{host:g}=new URL(d),v=Dl(g);return this.zo(e,d,p,a,v).then((E=>(Ae(fg,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw yl(fg,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",a),E}))}jo(e,t,a,s,l,c){return this.Wo(e,t,a,s,l)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),a&&a.headers.forEach(((s,l)=>e[l]=s))}Qo(e,t){const a=OM[e];let s=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection",Pu=(n,e,t)=>{n.listen(e,(a=>{try{t(a)}catch(s){setTimeout((()=>{throw s}),0)}}))};class cl extends MM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!cl.c_){const e=SA();Pu(e,bA.STAT_EVENT,(t=>{t.stat===Vg.PROXY?Ae(kn,"STAT_EVENT: detected buffering proxy"):t.stat===Vg.NOPROXY&&Ae(kn,"STAT_EVENT: detected no buffering proxy")})),cl.c_=!0}}zo(e,t,a,s,l){const c=Kg();return new Promise(((d,p)=>{const g=new EA;g.setWithCredentials(!0),g.listenOnce(TA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case pf.NO_ERROR:const E=g.getResponseJson();Ae(kn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case pf.TIMEOUT:Ae(kn,`RPC '${e}' ${c} timed out`),p(new Te(le.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const S=g.getStatus();if(Ae(kn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I==null?void 0:I.error;if(M&&M.status&&M.message){const z=(function($){const G=$.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(G)>=0?G:le.UNKNOWN})(M.status);p(new Te(z,M.message))}else p(new Te(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Te(le.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ae(kn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);Ae(kn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",v,a,15)}))}T_(e,t,a){const s=Kg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,a),d.encodeInitMessageHeaders=!0;const g=l.join("");Ae(kn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const v=c.createWebChannel(g,d);this.I_(v);let E=!1,S=!1;const I=new VM({Ho:M=>{S?Ae(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(E||(Ae(kn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),Ae(kn,`RPC '${e}' stream ${s} sending:`,M),v.send(M))},Jo:()=>v.close()});return Pu(v,Uu.EventType.OPEN,(()=>{S||(Ae(kn,`RPC '${e}' stream ${s} transport opened.`),I.i_())})),Pu(v,Uu.EventType.CLOSE,(()=>{S||(S=!0,Ae(kn,`RPC '${e}' stream ${s} transport closed`),I.o_(),this.E_(v))})),Pu(v,Uu.EventType.ERROR,(M=>{S||(S=!0,yl(kn,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),I.o_(new Te(le.UNAVAILABLE,"The operation could not be completed")))})),Pu(v,Uu.EventType.MESSAGE,(M=>{var z;if(!S){const L=M.data[0];At(!!L,16349);const $=L,G=($==null?void 0:$.error)||((z=$[0])==null?void 0:z.error);if(G){Ae(kn,`RPC '${e}' stream ${s} received error:`,G);const F=G.status;let X=(function(b){const A=dn[b];if(A!==void 0)return iw(A)})(F),Y=G.message;X===void 0&&(X=le.INTERNAL,Y="Unknown error status: "+F+" with message "+G.message),S=!0,I.o_(new Te(X,Y)),v.close()}else Ae(kn,`RPC '${e}' stream ${s} received:`,L),I.__(L)}})),cl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(n){return new cl(n)}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n){return new jO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cl.c_=!1;class _w{constructor(e,t,a=1e3,s=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-a);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="PersistentStream";class Ew{constructor(e,t,a,s,l,c,d,p){this.Ci=e,this.b_=a,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _w(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(ha(t.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,s])=>{this.D_===t&&this.G_(a,s)}),(a=>{e((()=>{const s=new Te(le.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(s)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{a((()=>this.z_(s)))})),this.stream.onMessage((s=>{a((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(Eb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Ae(Eb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LM extends Ew{constructor(e,t,a,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FO(this.serializer,e),a=(function(l){if(!("targetChange"in l))return Ge.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ge.min():c.readTime?Di(c.readTime):Ge.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=Gg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=jg(p)?{documents:GO(l,p)}:{query:$O(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ow(l,c.resumeToken);const g=Fg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ge.min())>0){d.readTime=Kf(l,c.snapshotVersion.toTimestamp());const g=Fg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=YO(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=Gg(this.serializer),t.removeTarget=e,this.K_(t)}}class kM extends Ew{constructor(e,t,a,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qO(e.writeResults,e.commitTime),a=Di(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Gg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>HO(this.serializer,a)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{}class jM extends UM{constructor(e,t,a,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Hg(t,a),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(le.UNKNOWN,l.toString())}))}jo(e,t,a,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Hg(t,a),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(le.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zM(n,e,t,a){return new jM(n,e,t,a)}class BM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ha(t),this.aa=!1):Ae("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="RemoteStore";class FM{constructor(e,t,a,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{a.enqueueAndForget((async()=>{ho(this)&&(Ae(ao,"Restarting streams for network reachability change."),await(async function(p){const g=Ye(p);g.Ea.add(4),await Sc(g),g.Va.set("Unknown"),g.Ea.delete(4),await xd(g)})(this))}))})),this.Va=new BM(a,s)}}async function xd(n){if(ho(n))for(const e of n.Ra)await e(!0)}async function Sc(n){for(const e of n.Ra)await e(!1)}function Tw(n,e){const t=Ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),By(t)?zy(t):Vl(t).O_()&&jy(t,e))}function Uy(n,e){const t=Ye(n),a=Vl(t);t.Ia.delete(e),a.O_()&&bw(t,e),t.Ia.size===0&&(a.O_()?a.L_():ho(t)&&t.Va.set("Unknown"))}function jy(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vl(n).Z_(e)}function bw(n,e){n.da.$e(e),Vl(n).X_(e)}function zy(n){n.da=new PO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Vl(n).start(),n.Va.ua()}function By(n){return ho(n)&&!Vl(n).x_()&&n.Ia.size>0}function ho(n){return Ye(n).Ea.size===0}function Sw(n){n.da=void 0}async function HM(n){n.Va.set("Online")}async function qM(n){n.Ia.forEach(((e,t)=>{jy(n,e)}))}async function GM(n,e){Sw(n),By(n)?(n.Va.ha(e),zy(n)):n.Va.set("Unknown")}async function $M(n,e,t){if(n.Va.set("Online"),e instanceof sw&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(a){Ae(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Qf(n,a)}else if(e instanceof _f?n.da.Xe(e):e instanceof aw?n.da.st(e):n.da.tt(e),!t.isEqual(Ge.min()))try{const a=await vw(n.localStore);t.compareTo(a)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Mn.EMPTY_BYTE_STRING,v.snapshotVersion)),bw(l,p);const E=new is(v.target,p,g,v.sequenceNumber);jy(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(a){Ae(ao,"Failed to raise snapshot:",a),await Qf(n,a)}}async function Qf(n,e,t){if(!Ml(e))throw e;n.Ea.add(1),await Sc(n),n.Va.set("Offline"),t||(t=()=>vw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ae(ao,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await xd(n)}))}function Aw(n,e){return e().catch((t=>Qf(n,t,e)))}async function Od(n){const e=Ye(n),t=gs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ay;for(;KM(e);)try{const s=await CM(e.localStore,a);if(s===null){e.Ta.length===0&&t.L_();break}a=s.batchId,YM(e,s)}catch(s){await Qf(e,s)}ww(e)&&Rw(e)}function KM(n){return ho(n)&&n.Ta.length<10}function YM(n,e){n.Ta.push(e);const t=gs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function ww(n){return ho(n)&&!gs(n).x_()&&n.Ta.length>0}function Rw(n){gs(n).start()}async function QM(n){gs(n).ra()}async function XM(n){const e=gs(n);for(const t of n.Ta)e.ea(t.mutations)}async function WM(n,e,t){const a=n.Ta.shift(),s=xy.from(a,e,t);await Aw(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Od(n)}async function JM(n,e){e&&gs(n).Y_&&await(async function(a,s){if((function(c){return OO(c)&&c!==le.ABORTED})(s.code)){const l=a.Ta.shift();gs(a).B_(),await Aw(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Od(a)}})(n,e),ww(n)&&Rw(n)}async function Tb(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Ae(ao,"RemoteStore received new credentials");const a=ho(t);t.Ea.add(3),await Sc(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xd(t)}async function ZM(n,e){const t=Ye(n);e?(t.Ea.delete(2),await xd(t)):e||(t.Ea.add(2),await Sc(t),t.Va.set("Unknown"))}function Vl(n){return n.ma||(n.ma=(function(t,a,s){const l=Ye(t);return l.sa(),new LM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:HM.bind(null,n),Yo:qM.bind(null,n),t_:GM.bind(null,n),J_:$M.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),By(n)?zy(n):n.Va.set("Unknown")):(await n.ma.stop(),Sw(n))}))),n.ma}function gs(n){return n.fa||(n.fa=(function(t,a,s){const l=Ye(t);return l.sa(),new kM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:QM.bind(null,n),t_:JM.bind(null,n),ta:XM.bind(null,n),na:WM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Od(n)):(await n.fa.stop(),n.Ta.length>0&&(Ae(ao,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,a,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=s,this.removalCallback=l,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,s,l){const c=Date.now()+a,d=new Fy(e,t,c,s,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hy(n,e){if(ha("AsyncQueue",`${e}: ${n}`),Ml(n))return new Te(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(e){return new hl(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Le.comparator(t.key,a.key):(t,a)=>Le.comparator(t.key,a.key),this.keyedMap=ju(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new hl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.ga=new Jt(Le.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class bl{constructor(e,t,a,s,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,s,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new bl(e,t,hl.emptySet(t),c,a,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==a[s].type||!t[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class tV{constructor(){this.queries=Sb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const s=Ye(t),l=s.queries;s.queries=Sb(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(a)}))})(this,new Te(le.ABORTED,"Firestore shutting down"))}}function Sb(){return new co((n=>$A(n)),wd)}async function qy(n,e){const t=Ye(n);let a=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.Da()&&(a=2):(l=new eV,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=Hy(c,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&$y(t)}async function Gy(n,e){const t=Ye(n),a=e.query;let s=3;const l=t.queries.get(a);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=e.Da()?0:1:!l.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function nV(n,e){const t=Ye(n);let a=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(s)&&(a=!0);c.wa=s}}a&&$y(t)}function rV(n,e,t){const a=Ye(n),s=a.queries.get(e);if(s)for(const l of s.ba)l.onError(t);a.queries.delete(e)}function $y(n){n.Ca.forEach((e=>{e.next()}))}var Yg,Ab;(Ab=Yg||(Yg={})).Ma="default",Ab.Cache="cache";class Ky{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.key=e}}class Iw{constructor(e){this.key=e}}class iV{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.eu=KA(e),this.tu=new hl(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new bb,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,E)=>{const S=s.get(v),I=Rd(this.query,E)?E:null,M=!!S&&this.mutatedKeys.has(S.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;S&&I?S.data.isEqual(I.data)?M!==z&&(a.track({type:3,doc:I}),L=!0):this.su(S,I)||(a.track({type:2,doc:I}),L=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!S&&I?(a.track({type:0,doc:I}),L=!0):S&&!I&&(a.track({type:1,doc:S}),L=!0,(p||g)&&(d=!0)),L&&(I?(c=c.add(I),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),a.track({type:1,doc:v})}return{tu:c,iu:a,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(I,M){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:L})}};return z(I)-z(M)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(a),s=s??!1;const d=t&&!s?this._u():[],p=this.Ya.size===0&&this.current&&!s?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new bl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ft(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new Iw(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new Cw(a))})),t}cu(e){this.Za=e.ks,this.Ya=ft();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Yy="SyncEngine";class aV{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class sV{constructor(e){this.key=e,this.hu=!1}}class oV{constructor(e,t,a,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new co((d=>$A(d)),wd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Jt(Le.comparator),this.Au=new Map,this.Vu=new Vy,this.du={},this.mu=new Map,this.fu=Tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lV(n,e,t=!0){const a=Vw(n);let s;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await Dw(a,e,t,!0),s}async function uV(n,e){const t=Vw(n);await Dw(t,e,!0,!1)}async function Dw(n,e,t,a){const s=await IM(n.localStore,Ii(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await cV(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Tw(n.remoteStore,s),d}async function cV(n,e,t,a,s){n.pu=(E,S,I)=>(async function(z,L,$,G){let F=L.view.ru($);F.Ss&&(F=await gb(z.localStore,L.query,!1).then((({documents:b})=>L.view.ru(b,F))));const X=G&&G.targetChanges.get(L.targetId),Y=G&&G.targetMismatches.get(L.targetId)!=null,q=L.view.applyChanges(F,z.isPrimaryClient,X,Y);return Rb(z,L.targetId,q.au),q.snapshot})(n,E,S,I);const l=await gb(n.localStore,e,!0),c=new iV(e,l.ks),d=c.ru(l.documents),p=bc.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,p);Rb(n,t,g.au);const v=new aV(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function hV(n,e,t){const a=Ye(n),s=a.Tu.get(e),l=a.Iu.get(s.targetId);if(l.length>1)return a.Iu.set(s.targetId,l.filter((c=>!wd(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await $g(a.localStore,s.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(s.targetId),t&&Uy(a.remoteStore,s.targetId),Qg(a,s.targetId)})).catch(Ol)):(Qg(a,s.targetId),await $g(a.localStore,s.targetId,!0))}async function fV(n,e){const t=Ye(n),a=t.Tu.get(e),s=t.Iu.get(a.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Uy(t.remoteStore,a.targetId))}async function dV(n,e,t){const a=EV(n);try{const s=await(function(c,d){const p=Ye(c),g=Gt.now(),v=d.reduce(((I,M)=>I.add(M.key)),ft());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let M=fa(),z=ft();return p.xs.getEntries(I,v).next((L=>{M=L,M.forEach((($,G)=>{G.isValidDocument()||(z=z.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,M))).next((L=>{E=L;const $=[];for(const G of d){const F=CO(G,E.get(G.key).overlayedDocument);F!=null&&$.push(new Es(G.key,F,UA(F.value.mapValue),wr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,$,d)})).next((L=>{S=L;const $=L.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(I,L.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:QA(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new Jt(ht)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(a,s.batchId,t),await Ac(a,s.changes),await Od(a.remoteStore)}catch(s){const l=Hy(s,"Failed to persist write");t.reject(l)}}async function Nw(n,e){const t=Ye(n);try{const a=await wM(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Au.get(l);c&&(At(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?At(c.hu,14607):s.removedDocuments.size>0&&(At(c.hu,42227),c.hu=!1))})),await Ac(t,a,e)}catch(a){await Ol(a)}}function wb(n,e,t){const a=Ye(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const s=[];a.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=Ye(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,E)=>{for(const S of E.ba)S.va(d)&&(g=!0)})),g&&$y(p)})(a.eventManager,e),s.length&&a.Pu.J_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mV(n,e,t){const a=Ye(n);a.sharedClientState.updateQueryState(e,"rejected",t);const s=a.Au.get(e),l=s&&s.key;if(l){let c=new Jt(Le.comparator);c=c.insert(l,zn.newNoDocument(l,Ge.min()));const d=ft().add(l),p=new Dd(Ge.min(),new Map,new Jt(ht),c,d);await Nw(a,p),a.Ru=a.Ru.remove(l),a.Au.delete(e),Qy(a)}else await $g(a.localStore,e,!1).then((()=>Qg(a,e,t))).catch(Ol)}async function pV(n,e){const t=Ye(n),a=e.batch.batchId;try{const s=await AM(t.localStore,e);Ow(t,a,null),xw(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Ac(t,s)}catch(s){await Ol(s)}}async function gV(n,e,t){const a=Ye(n);try{const s=await(function(c,d){const p=Ye(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(At(E!==null,37113),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(a.localStore,e);Ow(a,e,t),xw(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Ac(a,s)}catch(s){await Ol(s)}}function xw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Ow(n,e,t){const a=Ye(n);let s=a.du[a.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),a.du[a.currentUser.toKey()]=s}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Iu.get(e))n.Tu.delete(a),t&&n.Pu.yu(a,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((a=>{n.Vu.containsKey(a)||Mw(n,a)}))}function Mw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Uy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Qy(n))}function Rb(n,e,t){for(const a of t)a instanceof Cw?(n.Vu.addReference(a.key,e),yV(n,a)):a instanceof Iw?(Ae(Yy,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,e),n.Vu.containsKey(a.key)||Mw(n,a.key)):Be(19791,{wu:a})}function yV(n,e){const t=e.key,a=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(a)||(Ae(Yy,"New document in limbo: "+t),n.Eu.add(a),Qy(n))}function Qy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Le(zt.fromString(e)),a=n.fu.next();n.Au.set(a,new sV(t)),n.Ru=n.Ru.insert(t,a),Tw(n.remoteStore,new is(Ii(Ad(t.path)),a,"TargetPurposeLimboResolution",Td.ce))}}async function Ac(n,e,t){const a=Ye(n),s=[],l=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,p)=>{c.push(a.pu(p,e,t).then((g=>{var v;if((g||t)&&a.isPrimaryClient){const E=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){s.push(g);const E=Ly.Es(p.targetId,g);l.push(E)}})))})),await Promise.all(c),a.Pu.J_(s),await(async function(p,g){const v=Ye(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ce.forEach(g,(S=>ce.forEach(S.Ts,(I=>v.persistence.referenceDelegate.addReference(E,S.targetId,I))).next((()=>ce.forEach(S.Is,(I=>v.persistence.referenceDelegate.removeReference(E,S.targetId,I)))))))))}catch(E){if(!Ml(E))throw E;Ae(ky,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const I=v.vs.get(S),M=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(M);v.vs=v.vs.insert(S,z)}}})(a.localStore,l))}async function vV(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Ae(Yy,"User change. New user:",e.toKey());const a=await yw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Te(le.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Ac(t,a.Ns)}}function _V(n,e){const t=Ye(n),a=t.Au.get(e);if(a&&a.hu)return ft().add(a.key);{let s=ft();const l=t.Iu.get(e);if(!l)return s;for(const c of l){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function Vw(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mV.bind(null,e),e.Pu.J_=nV.bind(null,e.eventManager),e.Pu.yu=rV.bind(null,e.eventManager),e}function EV(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gV.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return SM(this.persistence,new EM,e.initialUser,this.serializer)}Cu(e){return new gw(Py.Vi,this.serializer)}Du(e){return new NM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class TV extends Xf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof Yf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new aM(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new gw((a=>Yf.Vi(a,t)),this.serializer)}}class Xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vV.bind(null,this.syncEngine),await ZM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tV})()}createDatastore(e){const t=Nd(e.databaseInfo.databaseId),a=PM(e.databaseInfo);return zM(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,s,l,c,d){return new FM(a,s,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>wb(this.syncEngine,t,0)),(function(){return _b.v()?new _b:new xM})())}createSyncEngine(e,t){return(function(s,l,c,d,p,g,v){const E=new oV(s,l,c,d,p,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const l=Ye(s);Ae(ao,"RemoteStore shutting down."),l.Ea.add(5),await Sc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class bV{constructor(e,t,a,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=Sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{Ae(ys,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Ae(ys,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Hy(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function mg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(ys,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener((async s=>{a.isEqual(s)||(await yw(e.localStore,s),a=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Cb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SV(n);Ae(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((a=>Tb(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,s)=>Tb(e.remoteStore,s))),n._onlineComponents=e}async function SV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(ys,"Using user provided OfflineComponentProvider");try{await mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===le.FAILED_PRECONDITION||s.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;yl("Error using user provided cache. Falling back to memory cache: "+t),await mg(n,new Xf)}}else Ae(ys,"Using default OfflineComponentProvider"),await mg(n,new TV(void 0));return n._offlineComponents}async function Pw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(ys,"Using user provided OnlineComponentProvider"),await Cb(n,n._uninitializedComponentsProvider._online)):(Ae(ys,"Using default OnlineComponentProvider"),await Cb(n,new Xg))),n._onlineComponents}function AV(n){return Pw(n).then((e=>e.syncEngine))}async function Wf(n){const e=await Pw(n),t=e.eventManager;return t.onListen=lV.bind(null,e.syncEngine),t.onUnlisten=hV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fV.bind(null,e.syncEngine),t}function wV(n,e,t,a){const s=new Xy(a),l=new Ky(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>qy(await Wf(n),l))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>Gy(await Wf(n),l)))}}function RV(n,e,t={}){const a=new la;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new Xy({next:S=>{v.Nu(),c.enqueueAndForget((()=>Gy(l,E)));const I=S.docs.has(d);!I&&S.fromCache?g.reject(new Te(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&p&&p.source==="server"?g.reject(new Te(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new Ky(Ad(d.path),v,{includeMetadataChanges:!0,Ka:!0});return qy(l,E)})(await Wf(n),n.asyncQueue,e,t,a))),a.promise}function CV(n,e,t={}){const a=new la;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new Xy({next:S=>{v.Nu(),c.enqueueAndForget((()=>Gy(l,E))),S.fromCache&&p.source==="server"?g.reject(new Te(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new Ky(d,v,{includeMetadataChanges:!0,Ka:!0});return qy(l,E)})(await Wf(n),n.asyncQueue,e,t,a))),a.promise}function IV(n,e){const t=new la;return n.asyncQueue.enqueueAndForget((async()=>dV(await AV(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="ComponentProvider",Ib=new Map;function NV(n,e,t,a,s){return new X2(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Lw(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",Db=!0;class Nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=Db}else this.host=e.host,this.ssl=e.ssl??Db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rM)throw new Te(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,s){return a.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,a,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new D2;switch(a.type){case"firstParty":return new M2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=Ib.get(t);a&&(Ae(DV,"Removing Datastore"),Ib.delete(t),a.terminate())})(this),Promise.resolve()}}function xV(n,e,t,a={}){var g;n=Ar(n,Md);const s=Dl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(hA(`https://${d}`),fA("Firestore",!0)),l.host!==kw&&l.host!==d&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:a};if(!no(p,c)&&(n._setSettings(p),a.mockUserToken)){let v,E;if(typeof a.mockUserToken=="string")v=a.mockUserToken,E=jn.MOCK_USER;else{v=tx(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new Te(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new jn(S)}n._authCredentials=new N2(new RA(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class tn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(_c(t,tn._jsonSchema))return new tn(e,a||null,new Le(zt.fromString(t.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:pn("string",tn._jsonSchemaVersion),referencePath:pn("string")};class cs extends fo{constructor(e,t,a){super(e,t,Ad(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new Le(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function wc(n,e,...t){if(n=vn(n),CA("collection","path",e),n instanceof Md){const a=zt.fromString(e,...t);return H0(a),new cs(n,null,a)}{if(!(n instanceof tn||n instanceof cs))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(zt.fromString(e,...t));return H0(a),new cs(n.firestore,null,a)}}function Gr(n,e,...t){if(n=vn(n),arguments.length===1&&(e=Sy.newId()),CA("doc","path",e),n instanceof Md){const a=zt.fromString(e,...t);return F0(a),new tn(n,null,new Le(a))}{if(!(n instanceof tn||n instanceof cs))throw new Te(le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(zt.fromString(e,...t));return F0(a),new tn(n.firestore,n instanceof cs?n.converter:null,new Le(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="AsyncQueue";class Ob{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _w(this,"async_queue_retry"),this._c=()=>{const a=dg();a&&Ae(xb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;Ae(xb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ha("INTERNAL UNHANDLED ERROR: ",Mb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Fy.createAndSchedule(this,e,t,a,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Be(47125,{Pc:Mb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Mb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class vs extends Md{constructor(e,t,a,s){super(e,t,a,s),this.type="firestore",this._queue=new Ob,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}}function OV(n,e){const t=typeof n=="object"?n:gA(),a=typeof n=="string"?n:Bf,s=Ty(t,"firestore").getImmediate({identifier:a});if(!s._initialized){const l=ZN("firestore");l&&xV(s,...l)}return s}function Rc(n){if(n._terminated)throw new Te(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MV(n),n._firestoreClient}function MV(n){var a,s,l,c;const e=n._freezeSettings(),t=NV(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new bV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(Mn.fromBase64String(e))}catch(t){throw new Te(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hr(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:pn("string",Hr._jsonSchemaVersion),bytes:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(_c(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:pn("string",Ni._jsonSchemaVersion),latitude:pn("number"),longitude:pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new si(e.vectorValues);throw new Te(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:pn("string",si._jsonSchemaVersion),vectorValues:pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^__.*__$/;class PV{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Tc(e,this.data,t,this.fieldTransforms)}}class Uw{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:n})}}class Jy{constructor(e,t,a,s,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Jf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jw(this.dataSource)&&VV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class LV{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Nd(e)}createContext(e,t,a,s=!1){return new Jy({dataSource:e,methodName:t,targetDoc:a,path:On.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(n){const e=n._freezeSettings(),t=Nd(n._databaseId);return new LV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zw(n,e,t,a,s,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,s);Zy("Data must be an object, but it was:",c,a);const d=Hw(a,c);let p,g;if(l.merge)p=new br(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const S=Sl(e,E,t);if(!c.contains(S))throw new Te(le.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);$w(v,S)||v.push(S)}p=new br(v),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new PV(new sr(d),p,g)}class Ld extends Wy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}function Bw(n,e,t,a){const s=n.createContext(1,e,t);Zy("Data must be an object, but it was:",s,a);const l=[],c=sr.empty();_s(a,((p,g)=>{const v=Gw(e,p,t);g=vn(g);const E=s.childContextForFieldPath(v);if(g instanceof Ld)l.push(v);else{const S=Cc(g,E);S!=null&&(l.push(v),c.set(v,S))}}));const d=new br(l);return new Uw(c,d,s.fieldTransforms)}function Fw(n,e,t,a,s,l){const c=n.createContext(1,e,t),d=[Sl(e,a,t)],p=[s];if(l.length%2!=0)throw new Te(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Sl(e,l[S])),p.push(l[S+1]);const g=[],v=sr.empty();for(let S=d.length-1;S>=0;--S)if(!$w(g,d[S])){const I=d[S];let M=p[S];M=vn(M);const z=c.childContextForFieldPath(I);if(M instanceof Ld)g.push(I);else{const L=Cc(M,z);L!=null&&(g.push(I),v.set(I,L))}}const E=new br(g);return new Uw(v,E,c.fieldTransforms)}function kV(n,e,t,a=!1){return Cc(t,n.createContext(a?4:3,e))}function Cc(n,e){if(qw(n=vn(n)))return Zy("Unsupported field value:",e,n),Hw(n,e);if(n instanceof Wy)return(function(a,s){if(!jw(s.dataSource))throw s.createError(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,s){const l=[];let c=0;for(const d of a){let p=Cc(d,s.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(a,s){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TO(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Gt.fromDate(a);return{timestampValue:Kf(s.serializer,l)}}if(a instanceof Gt){const l=new Gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kf(s.serializer,l)}}if(a instanceof Ni)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Hr)return{bytesValue:ow(s.serializer,a._byteString)};if(a instanceof tn){const l=s.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:My(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof si)return(function(c,d){const p=c instanceof si?c.toArray():c;return{mapValue:{fields:{[LA]:{stringValue:kA},[Ff]:{arrayValue:{values:p.map((v=>{if(typeof v!="number")throw d.createError("VectorValues must only contain numeric values.");return Dy(d.serializer,v)}))}}}}}})(a,s);if(mw(a))return a._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ed(a)}`)})(n,e)}function Hw(n,e){const t={};return NA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(n,((a,s)=>{const l=Cc(s,e.childContextForField(a));l!=null&&(t[a]=l)})),{mapValue:{fields:t}}}function qw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Gt||n instanceof Ni||n instanceof Hr||n instanceof tn||n instanceof Wy||n instanceof si||mw(n))}function Zy(n,e,t){if(!qw(t)||!IA(t)){const a=Ed(t);throw a==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+a)}}function Sl(n,e,t){if((e=vn(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return Gw(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}const UV=new RegExp("[~\\*/\\[\\]]");function Gw(n,e,t){if(e.search(UV)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,a,s){const l=a&&!a.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${s}`),p+=")"),new Te(le.INVALID_ARGUMENT,d+n+p)}function $w(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return _s(e,((s,l)=>{a[s]=this.convertValue(l,t)})),a}convertVectorValue(e){var a,s,l;const t=(l=(s=(a=e.fields)==null?void 0:a[Ff].arrayValue)==null?void 0:s.values)==null?void 0:l.map((c=>sn(c.doubleValue)));return new si(t)}convertGeoPoint(e){return new Ni(sn(e.latitude),sn(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Sd(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=ds(e);return new Gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=zt.fromString(e);At(dw(a),9688,{name:e});const s=new ac(a.get(1),a.get(3)),l=new Le(a.popFirst(5));return s.isEqual(t)||ha(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends jV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,t)}}const Vb="@firebase/firestore",Pb="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){return(function(t,a){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of a)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,t,a,s,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Sl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zV extends Kw{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class BV extends tv{}function Ic(n,e,...t){let a=[];e instanceof tv&&a.push(e),a=a.concat(t),(function(l){const c=l.filter((p=>p instanceof rv)).length,d=l.filter((p=>p instanceof kd)).length;if(c>1||c>0&&d>0)throw new Te(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const s of a)n=s._apply(n);return n}class kd extends BV{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new kd(e,t,a)}_apply(e){const t=this._parse(e);return Qw(e._query,t),new fo(e.firestore,e.converter,zg(e._query,t))}_parse(e){const t=Pd(e.firestore);return(function(l,c,d,p,g,v,E){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Te(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Ub(E,v);const M=[];for(const z of E)M.push(kb(p,l,z));S={arrayValue:{values:M}}}else S=kb(p,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Ub(E,v),S=kV(d,c,E,v==="in"||v==="not-in");return mn.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nv(n,e,t){const a=e,s=Sl("where",n);return kd._create(s,a,t)}class rv extends tv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rv(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)Qw(c,p),c=zg(c,p)})(e._query,t),new fo(e.firestore,e.converter,zg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function kb(n,e,t){if(typeof(t=vn(t))=="string"){if(t==="")throw new Te(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GA(e)&&t.indexOf("/")!==-1)throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(zt.fromString(t));if(!Le.isDocumentKey(a))throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return W0(n,new Le(a))}if(t instanceof tn)return W0(n,t._key);throw new Te(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(t)}.`)}function Ub(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qw(n,e){const t=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Xw(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends Kw{constructor(e,t,a,s,l,c){super(e,t,a,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ef(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Sl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Js._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:pn("string",Js._jsonSchemaVersion),bundleSource:pn("string","DocumentSnapshot"),bundleName:pn("string"),bundle:pn("string")};class Ef extends Js{data(e={}){return super.data(e)}}class Zs{constructor(e,t,a,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Bu(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new Ef(this._firestore,this._userDataWriter,a.key,a,new Bu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new Ef(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Bu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Ef(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Bu(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:FV(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs._jsonSchemaVersion="firestore/querySnapshot/1.0",Zs._jsonSchema={type:pn("string",Zs._jsonSchemaVersion),bundleSource:pn("string","QuerySnapshot"),bundleName:pn("string"),bundle:pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pd(e)}set(e,t,a){this._verifyNotCommitted();const s=pg(e,this._firestore),l=Xw(s.converter,t,a),c=zw(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,a);return this._mutations.push(c.toMutation(s._key,wr.none())),this}update(e,t,a,...s){this._verifyNotCommitted();const l=pg(e,this._firestore);let c;return c=typeof(t=vn(t))=="string"||t instanceof Vd?Fw(this._dataReader,"WriteBatch.update",l._key,t,a,s):Bw(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pg(e,this._firestore);return this._mutations=this._mutations.concat(new Ny(t._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pg(n,e){if((n=vn(n)).firestore!==e)throw new Te(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){n=Ar(n,tn);const e=Ar(n.firestore,vs),t=Rc(e);return RV(t,n._key).then((a=>Ww(e,n,a)))}function Nc(n){n=Ar(n,fo);const e=Ar(n.firestore,vs),t=Rc(e),a=new ev(e);return Yw(n._query),CV(t,n._query).then((s=>new Zs(e,a,n,s)))}function qV(n,e,t){n=Ar(n,tn);const a=Ar(n.firestore,vs),s=Xw(n.converter,e,t),l=Pd(a);return iv(a,[zw(l,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,wr.none())])}function Ud(n,e,t,...a){n=Ar(n,tn);const s=Ar(n.firestore,vs),l=Pd(s);let c;return c=typeof(e=vn(e))=="string"||e instanceof Vd?Fw(l,"updateDoc",n._key,e,t,a):Bw(l,"updateDoc",n._key,e),iv(s,[c.toMutation(n._key,wr.exists(!0))])}function GV(n,...e){var g,v,E;n=vn(n);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Lb(e[a])||(t=e[a++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Lb(e[a])){const S=e[a];e[a]=(g=S.next)==null?void 0:g.bind(S),e[a+1]=(v=S.error)==null?void 0:v.bind(S),e[a+2]=(E=S.complete)==null?void 0:E.bind(S)}let l,c,d;if(n instanceof tn)c=Ar(n.firestore,vs),d=Ad(n._key.path),l={next:S=>{e[a]&&e[a](Ww(c,n,S))},error:e[a+1],complete:e[a+2]};else{const S=Ar(n,fo);c=Ar(S.firestore,vs),d=S._query;const I=new ev(c);l={next:M=>{e[a]&&e[a](new Zs(c,I,S,M))},error:e[a+1],complete:e[a+2]},Yw(n._query)}const p=Rc(c);return wV(p,d,s,l)}function iv(n,e){const t=Rc(n);return IV(t,e)}function Ww(n,e,t){const a=t.docs.get(e._key),s=new ev(n);return new Js(n,s,e._key,a,new Bu(t.hasPendingWrites,t.fromCache),e.converter)}function Jw(n){return n=Ar(n,vs),Rc(n),new HV(n,(e=>iv(n,e)))}(function(e,t=!0){I2(Nl),gl(new ro("firestore",((a,{instanceIdentifier:s,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new vs(new x2(a.getProvider("auth-internal")),new V2(c,a.getProvider("app-check-internal")),W2(c,s),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ls(Vb,Pb,e),ls(Vb,Pb,"esm2020")})();var $V="firebase",KV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls($V,KV,"app");function Zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YV=Zw,eR=new yc("auth","Firebase",Zw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new _y("@firebase/auth");function QV(n,...e){Zf.logLevel<=ct.WARN&&Zf.warn(`Auth (${Nl}): ${n}`,...e)}function Tf(n,...e){Zf.logLevel<=ct.ERROR&&Zf.error(`Auth (${Nl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n,...e){throw sv(n,...e)}function oi(n,...e){return sv(n,...e)}function av(n,e,t){const a={...YV(),[e]:t};return new yc("auth","Firebase",a).create(e,{appName:n.name})}function eo(n){return av(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XV(n,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&Vi(n,"argument-error"),av(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sv(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return eR.create(n,...e)}function He(n,e,...t){if(!n)throw sv(e,...t)}function sa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function da(n,e){n||sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function WV(){return jb()==="http:"||jb()==="https:"}function jb(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WV()||ox()||"connection"in navigator)?navigator.onLine:!0}function ZV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,da(t>e,"Short delay should be less than long delay!"),this.isMobile=ix()||lx()}get(){return JV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e){da(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nP=new xc(3e4,6e4);function lv(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Pl(n,e,t,a,s={}){return nR(n,s,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=vc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return sx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Dl(n.emulatorConfig.host)&&(g.credentials="include"),tR.fetch()(await rR(n,n.config.apiHost,t,d),g)})}async function nR(n,e,t){n._canInitEmulator=!1;const a={...eP,...e};try{const s=new iP(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw lf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw lf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw lf(n,"user-disabled",c);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw av(n,v,g);Vi(n,v)}}catch(s){if(s instanceof ga)throw s;Vi(n,"network-request-failed",{message:String(s)})}}async function rP(n,e,t,a,s={}){const l=await Pl(n,e,t,a,s);return"mfaPendingCredential"in l&&Vi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function rR(n,e,t,a){const s=`${e}${t}?${a}`,l=n,c=l.config.emulator?ov(n.config,s):`${n.config.apiScheme}://${s}`;return tP.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class iP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),nP.get())})}}function lf(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const s=oi(n,e,a);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){return Pl(n,"POST","/v1/accounts:delete",e)}async function ed(n,e){return Pl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sP(n,e=!1){const t=vn(n),a=await t.getIdToken(e),s=uv(a);He(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:a,authTime:Xu(gg(s.auth_time)),issuedAtTime:Xu(gg(s.iat)),expirationTime:Xu(gg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function gg(n){return Number(n)*1e3}function uv(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const s=oA(t);return s?JSON.parse(s):(Tf("Failed to decode base64 JWT payload"),null)}catch(s){return Tf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zb(n){const e=uv(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof ga&&oP(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function oP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n){var E;const e=n.auth,t=await n.getIdToken(),a=await uc(n,ed(e,{idToken:t}));He(a==null?void 0:a.users.length,e,"internal-error");const s=a.users[0];n._notifyReloadListener(s);const l=(E=s.providerUserInfo)!=null&&E.length?iR(s.providerUserInfo):[],c=cP(n.providerData,l),d=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Jg(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function uP(n){const e=vn(n);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cP(n,e){return[...n.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function iR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(n,e){const t=await nR(n,{},async()=>{const a=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await rR(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return n.emulatorConfig&&Dl(n.emulatorConfig.host)&&(p.credentials="include"),tR.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fP(n,e){return Pl(n,"POST","/v2/accounts:revokeToken",lv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=zb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:s,expiresIn:l}=await hP(e,t);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:s,expirationTime:l}=t,c=new fl;return a&&(He(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),s&&(He(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(He(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fl,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:t,stsTokenManager:a,...s}){this.providerId="firebase",this.proactiveRefresh=new lP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await uc(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sP(this,e)}reload(){return uP(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await uc(this,aP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:I,providerData:M,stsTokenManager:z}=t;He(E&&z,e,"internal-error");const L=fl.fromJSON(this.name,z);He(typeof E=="string",e,"internal-error"),Wa(a,e.name),Wa(s,e.name),He(typeof S=="boolean",e,"internal-error"),He(typeof I=="boolean",e,"internal-error"),Wa(l,e.name),Wa(c,e.name),Wa(d,e.name),Wa(p,e.name),Wa(g,e.name),Wa(v,e.name);const $=new ai({uid:E,auth:e,email:s,emailVerified:S,displayName:a,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&($.providerData=M.map(G=>({...G}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,t,a=!1){const s=new fl;s.updateFromServerResponse(t);const l=new ai({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await td(l),l}static async _fromGetAccountInfoResponse(e,t,a){const s=t.users[0];He(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?iR(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new fl;d.updateFromIdToken(a);const p=new ai({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Jg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;function oa(n){da(n instanceof Function,"Expected a class definition");let e=Bb.get(n);return e?(da(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Bb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aR.type="NONE";const Fb=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n,e,t){return`firebase:${n}:${e}:${t}`}class dl{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=bf(this.userKey,s.apiKey,l),this.fullPersistenceKey=bf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ed(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new dl(oa(Fb),e,a);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||oa(Fb);const c=bf(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await ed(e,{idToken:v}).catch(()=>{});if(!S)break;E=await ai._fromGetAccountInfoResponse(e,S,v)}else E=ai._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new dl(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new dl(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(fR(e))return"Webos";if(oR(e))return"Safari";if((e.includes("chrome/")||lR(e))&&!e.includes("edge/"))return"Chrome";if(cR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function sR(n=Bn()){return/firefox\//i.test(n)}function oR(n=Bn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lR(n=Bn()){return/crios\//i.test(n)}function uR(n=Bn()){return/iemobile/i.test(n)}function cR(n=Bn()){return/android/i.test(n)}function hR(n=Bn()){return/blackberry/i.test(n)}function fR(n=Bn()){return/webos/i.test(n)}function cv(n=Bn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dP(n=Bn()){var e;return cv(n)&&!!((e=window.navigator)!=null&&e.standalone)}function mP(){return ux()&&document.documentMode===10}function dR(n=Bn()){return cv(n)||cR(n)||fR(n)||hR(n)||/windows phone/i.test(n)||uR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n,e=[]){let t;switch(n){case"Browser":t=Hb(Bn());break;case"Worker":t=`${Hb(Bn())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e={}){return Pl(n,"GET","/v2/passwordPolicy",lv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=6;class vP{constructor(e){var a;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??yP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t,a,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qb(this),this.idTokenSubscription=new qb(this),this.beforeStateQueue=new pP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oa(t)),this._initializationPromise=this.queue(async()=>{var a,s,l;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ed(this,{idToken:e}),a=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(eo(this));const t=e?vn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gP(this),t=new vP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await fP(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oa(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[oa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&QV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jd(n){return vn(n)}class qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=yx(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EP(n){hv=n}function TP(n){return hv.loadJS(n)}function bP(){return hv.gapiScript}function SP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n,e){const t=Ty(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(no(l,e??{}))return s;Vi(s,"already-initialized")}return t.initialize({options:e})}function wP(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(oa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function RP(n,e,t){const a=jd(n);He(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,l=pR(e),{host:c,port:d}=CP(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){He(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),He(no(g,a.config.emulator)&&no(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Dl(c)?(hA(`${l}//${c}${p}`),fA("Auth",!0)):IP()}function pR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CP(n){const e=pR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:Gb(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:Gb(c)}}}function Gb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,t){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e){return rP(n,"POST","/v1/accounts:signInWithIdp",lv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="http://localhost";class so extends gR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s,...l}=t;if(!a||!s)return null;const c=new so(a,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ml(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,ml(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ml(e,t)}buildRequest(){const e={requestUri:DP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Oc{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return so._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return aa.credential(t,a)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Oc{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Oc{constructor(){super("twitter.com")}static credential(e,t){return so._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ns.credential(t,a)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,s=!1){const l=await ai._fromIdTokenResponse(e,a,s),c=$b(a);return new Al({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const s=$b(a);return new Al({user:e,providerId:s,_tokenResponse:a,operationType:t})}}function $b(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends ga{constructor(e,t,a,s){super(t.code,t.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,s){return new nd(e,t,a,s)}}function yR(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(n,l,e,a):l})}async function NP(n,e,t=!1){const a=await uc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Al._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e,t=!1){const{auth:a}=n;if(ri(a.app))return Promise.reject(eo(a));const s="reauthenticate";try{const l=await uc(n,yR(a,s,e,n),t);He(l.idToken,a,"internal-error");const c=uv(l.idToken);He(c,a,"internal-error");const{sub:d}=c;return He(n.uid===d,a,"user-mismatch"),Al._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Vi(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e,t=!1){if(ri(n.app))return Promise.reject(eo(n));const a="signIn",s=await yR(n,a,e),l=await Al._fromIdTokenResponse(n,a,s);return t||await n._updateCurrentUser(l.user),l}function MP(n,e,t,a){return vn(n).onIdTokenChanged(e,t,a)}function VP(n,e,t){return vn(n).beforeAuthStateChanged(e,t)}function PP(n,e,t,a){return vn(n).onAuthStateChanged(e,t,a)}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,kP=10;class _R extends vR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),s=this.localCache[t];a!==s&&e(t,s,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);mP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kP):s()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_R.type="LOCAL";const UP=_R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER extends vR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ER.type="SESSION";const TR=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const a=new zd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await jP(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=dv("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:s,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function BP(n){xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function FP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function qP(){return bR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebaseLocalStorageDb",GP=1,id="firebaseLocalStorage",AR="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bd(n,e){return n.transaction([id],e?"readwrite":"readonly").objectStore(id)}function $P(){const n=indexedDB.deleteDatabase(SR);return new Mc(n).toPromise()}function Zg(){const n=indexedDB.open(SR,GP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(id,{keyPath:AR})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(id)?e(a):(a.close(),await $P(),e(await Zg()))})})}async function Kb(n,e,t){const a=Bd(n,!0).put({[AR]:e,value:t});return new Mc(a).toPromise()}async function KP(n,e){const t=Bd(n,!1).get(e),a=await new Mc(t).toPromise();return a===void 0?null:a.value}function Yb(n,e){const t=Bd(n,!0).delete(e);return new Mc(t).toPromise()}const YP=800,QP=3;class wR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>QP)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zd._getInstance(qP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,a;if(this.activeServiceWorker=await FP(),!this.activeServiceWorker)return;this.sender=new zP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await Kb(e,rd,"1"),await Yb(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>Kb(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>KP(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Bd(s,!1).getAll();return new Mc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wR.type="LOCAL";const XP=wR;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n,e){return e?oa(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends gR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ml(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WP(n){return OP(n.auth,new mv(n),n.bypassAuthState)}function JP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),xP(t,new mv(n),n.bypassAuthState)}async function ZP(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),NP(t,new mv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t,a,s,l=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WP;case"linkViaPopup":case"linkViaRedirect":return ZP;case"reauthViaPopup":case"reauthViaRedirect":return JP;default:Vi(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new xc(2e3,1e4);async function t4(n,e,t){if(ri(n.app))return Promise.reject(oi(n,"operation-not-supported-in-this-environment"));const a=jd(n);XV(n,e,fv);const s=RR(a,t);return new Ws(a,"signInViaPopup",e,s).executeNotNull()}class Ws extends CR{constructor(e,t,a,s,l){super(e,t,s,l),this.provider=a,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if((a=(t=this.authWindow)==null?void 0:t.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e4.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="pendingRedirect",Sf=new Map;class r4 extends CR{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Sf.get(this.auth._key());if(!e){try{const a=await i4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Sf.set(this.auth._key(),e)}return this.bypassAuthState||Sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i4(n,e){const t=o4(e),a=s4(n);if(!await a._isAvailable())return!1;const s=await a._get(t)==="true";return await a._remove(t),s}function a4(n,e){Sf.set(n._key(),e)}function s4(n){return oa(n._redirectPersistence)}function o4(n){return bf(n4,n.config.apiKey,n.name)}async function l4(n,e,t=!1){if(ri(n.app))return Promise.reject(eo(n));const a=jd(n),s=RR(a,e),c=await new r4(a,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=600*1e3;class c4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!IR(e)){const s=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";t.onError(oi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function IR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(n,e={}){return Pl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m4=/^https?/;async function p4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await f4(n);for(const t of e)try{if(g4(t))return}catch{}Vi(n,"unauthorized-domain")}function g4(n){const e=Wg(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!m4.test(t))return!1;if(d4.test(n))return a===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new xc(3e4,6e4);function Xb(){const n=xi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function v4(n){return new Promise((e,t)=>{var s,l,c;function a(){Xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xb(),t(oi(n,"network-request-failed"))},timeout:y4.get()})}if((l=(s=xi().gapi)==null?void 0:s.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=xi().gapi)!=null&&c.load)a();else{const d=SP("iframefcb");return xi()[d]=()=>{gapi.load?a():t(oi(n,"network-request-failed"))},TP(`${bP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Af=null,e})}let Af=null;function _4(n){return Af=Af||v4(n),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new xc(5e3,15e3),T4="__/auth/iframe",b4="emulator/auth/iframe",S4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w4(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ov(e,b4):`https://${n.config.authDomain}/${T4}`,a={apiKey:e.apiKey,appName:n.name,v:Nl},s=A4.get(n.config.apiHost);s&&(a.eid=s);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${vc(a).slice(1)}`}async function R4(n){const e=await _4(n),t=xi().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:w4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S4,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const c=oi(n,"network-request-failed"),d=xi().setTimeout(()=>{l(c)},E4.get());function p(){xi().clearTimeout(d),s(a)}a.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I4=500,D4=600,N4="_blank",x4="http://localhost";class Wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O4(n,e,t,a=I4,s=D4){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...C4,width:a.toString(),height:s.toString(),top:l,left:c},g=Bn().toLowerCase();t&&(d=lR(g)?N4:t),sR(g)&&(e=e||x4,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[I,M])=>`${S}${I}=${M},`,"");if(dP(g)&&d!=="_self")return M4(e||"",d),new Wb(null);const E=window.open(e||"",d,v);He(E,n,"popup-blocked");try{E.focus()}catch{}return new Wb(E)}function M4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",P4="emulator/auth/handler",L4=encodeURIComponent("fac");async function Jb(n,e,t,a,s,l){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Nl,eventId:s};if(e instanceof fv){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",gx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Oc){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${L4}=${encodeURIComponent(p)}`:"";return`${k4(n)}?${vc(d).slice(1)}${g}`}function k4({config:n}){return n.emulator?ov(n,P4):`https://${n.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class U4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TR,this._completeRedirectFn=l4,this._overrideRedirectResult=a4}async _openPopup(e,t,a,s){var c;da((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await Jb(e,t,a,Wg(),s);return O4(e,l,dv())}async _openRedirect(e,t,a,s){await this._originValidation(e);const l=await Jb(e,t,a,Wg(),s);return BP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(da(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await R4(e),a=new c4(e);return t.register("authEvent",s=>(He(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yg,{type:yg},s=>{var c;const l=(c=s==null?void 0:s[0])==null?void 0:c[yg];l!==void 0&&t(!!l),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dR()||oR()||cv()}}const j4=U4;var Zb="@firebase/auth",eS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F4(n){gl(new ro("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(n)},g=new _P(a,s,l,p);return wP(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),gl(new ro("auth-internal",e=>{const t=jd(e.getProvider("auth").getImmediate());return(a=>new z4(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(Zb,eS,B4(n)),ls(Zb,eS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=300,q4=cA("authIdTokenMaxAge")||H4;let tS=null;const G4=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>q4)return;const s=t==null?void 0:t.token;tS!==s&&(tS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $4(n=gA()){const e=Ty(n,"auth");if(e.isInitialized())return e.getImmediate();const t=AP(n,{popupRedirectResolver:j4,persistence:[XP,UP,TR]}),a=cA("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=G4(l.toString());VP(t,c,()=>c(t.currentUser)),MP(t,d=>c(d))}}const s=lA("auth");return s&&RP(t,`http://${s}`),t}function K4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}EP({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=s=>{const l=oi("internal-error");l.customData=s,t(l)},a.type="text/javascript",a.charset="UTF-8",K4().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F4("Browser");const Y4={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function el(n){const e=Y4[n];if(!e)throw new Error(`Missing environment variable: ${n}. Did you forget to create a .env.local?`);return e}const Q4={apiKey:el("VITE_FIREBASE_API_KEY"),authDomain:el("VITE_FIREBASE_AUTH_DOMAIN"),projectId:el("VITE_FIREBASE_PROJECT_ID"),storageBucket:el("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:el("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:el("VITE_FIREBASE_APP_ID")},DR=pA(Q4),wl=$4(DR),X4=new aa,_n=OV(DR),NR=P.createContext(void 0),W4=({children:n})=>{const[e,t]=P.useState(()=>{const c=localStorage.getItem("app-theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),a=P.useCallback(c=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("app-theme",c)},[]);P.useEffect(()=>{a(e)},[e,a]);const s=P.useCallback(c=>{t(c),a(c);const d=wl.currentUser;if(d){const p=Gr(_n,"users",d.uid);Ud(p,{preferredTheme:c}).catch(g=>console.error("Error updating preferred theme in Firebase:",g))}},[a]),l=P.useCallback(()=>{t(c=>c==="light"?"dark":"light")},[t]);return P.useEffect(()=>wl.onAuthStateChanged(async d=>{if(d){const p=Gr(_n,"users",d.uid),g=await Dc(p);if(g.exists()&&g.data().preferredTheme){const v=g.data().preferredTheme;t(v),a(v)}}}),[a]),w.jsx(NR.Provider,{value:{theme:e,toggleTheme:l,setTheme:s},children:n})},Ll=({container:n=!0})=>{const e=w.jsx("div",{className:"spinner"});return n?w.jsx("div",{className:"spinner-container",children:e}):e},Rl=()=>w.jsx("div",{className:"loading-container",children:w.jsx(Ll,{container:!1})}),J4=()=>{const n=pt(a=>a.auth.firebaseUser),e=pt(a=>a.auth.userData);return pt(a=>a.auth.loading)?w.jsx(Rl,{}):n?e?e.isApproved?w.jsx(as,{to:"/app/roster",replace:!0}):w.jsx(as,{to:"/guest",replace:!0}):w.jsx(Rl,{}):w.jsx(as,{to:"/login",replace:!0})};function Nn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Z4=typeof Symbol=="function"&&Symbol.observable||"@@observable",nS=Z4,vg=()=>Math.random().toString(36).substring(7).split("").join("."),eL={INIT:`@@redux/INIT${vg()}`,REPLACE:`@@redux/REPLACE${vg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vg()}`},ad=eL;function pv(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function xR(n,e,t){if(typeof n!="function")throw new Error(Nn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Nn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Nn(1));return t(xR)(n,e)}let a=n,s=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((L,$)=>{c.set($,L)}))}function v(){if(p)throw new Error(Nn(3));return s}function E(L){if(typeof L!="function")throw new Error(Nn(4));if(p)throw new Error(Nn(5));let $=!0;g();const G=d++;return c.set(G,L),function(){if($){if(p)throw new Error(Nn(6));$=!1,g(),c.delete(G),l=null}}}function S(L){if(!pv(L))throw new Error(Nn(7));if(typeof L.type>"u")throw new Error(Nn(8));if(typeof L.type!="string")throw new Error(Nn(17));if(p)throw new Error(Nn(9));try{p=!0,s=a(s,L)}finally{p=!1}return(l=c).forEach(G=>{G()}),L}function I(L){if(typeof L!="function")throw new Error(Nn(10));a=L,S({type:ad.REPLACE})}function M(){const L=E;return{subscribe($){if(typeof $!="object"||$===null)throw new Error(Nn(11));function G(){const X=$;X.next&&X.next(v())}return G(),{unsubscribe:L(G)}},[nS](){return this}}}return S({type:ad.INIT}),{dispatch:S,subscribe:E,getState:v,replaceReducer:I,[nS]:M}}function tL(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:ad.INIT})>"u")throw new Error(Nn(12));if(typeof t(void 0,{type:ad.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nn(13))})}function nL(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const a=Object.keys(t);let s;try{tL(t)}catch(l){s=l}return function(c={},d){if(s)throw s;let p=!1;const g={};for(let v=0;v<a.length;v++){const E=a[v],S=t[E],I=c[E],M=S(I,d);if(typeof M>"u")throw d&&d.type,new Error(Nn(14));g[E]=M,p=p||M!==I}return p=p||a.length!==Object.keys(c).length,p?g:c}}function sd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...a)=>e(t(...a)))}function rL(...n){return e=>(t,a)=>{const s=e(t,a);let l=()=>{throw new Error(Nn(15))};const c={getState:s.getState,dispatch:(p,...g)=>l(p,...g)},d=n.map(p=>p(c));return l=sd(...d)(s.dispatch),{...s,dispatch:l}}}function iL(n){return pv(n)&&"type"in n&&typeof n.type=="string"}var OR=Symbol.for("immer-nothing"),rS=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function ii(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Sr=Object,Cl=Sr.getPrototypeOf,od="constructor",Fd="prototype",ey="configurable",ld="enumerable",wf="writable",cc="value",ma=n=>!!n&&!!n[Qn];function ui(n){var e;return n?MR(n)||qd(n)||!!n[rS]||!!((e=n[od])!=null&&e[rS])||Gd(n)||$d(n):!1}var aL=Sr[Fd][od].toString(),iS=new WeakMap;function MR(n){if(!n||!gv(n))return!1;const e=Cl(n);if(e===null||e===Sr[Fd])return!0;const t=Sr.hasOwnProperty.call(e,od)&&e[od];if(t===Object)return!0;if(!sl(t))return!1;let a=iS.get(t);return a===void 0&&(a=Function.toString.call(t),iS.set(t,a)),a===aL}function Hd(n,e,t=!0){Vc(n)===0?(t?Reflect.ownKeys(n):Sr.keys(n)).forEach(s=>{e(s,n[s],n)}):n.forEach((a,s)=>e(s,a,n))}function Vc(n){const e=n[Qn];return e?e.type_:qd(n)?1:Gd(n)?2:$d(n)?3:0}var aS=(n,e,t=Vc(n))=>t===2?n.has(e):Sr[Fd].hasOwnProperty.call(n,e),ty=(n,e,t=Vc(n))=>t===2?n.get(e):n[e],ud=(n,e,t,a=Vc(n))=>{a===2?n.set(e,t):a===3?n.add(t):n[e]=t};function sL(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var qd=Array.isArray,Gd=n=>n instanceof Map,$d=n=>n instanceof Set,gv=n=>typeof n=="object",sl=n=>typeof n=="function",_g=n=>typeof n=="boolean";function oL(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var ia=n=>n.copy_||n.base_,yv=n=>n.modified_?n.copy_:n.base_;function ny(n,e){if(Gd(n))return new Map(n);if($d(n))return new Set(n);if(qd(n))return Array[Fd].slice.call(n);const t=MR(n);if(e===!0||e==="class_only"&&!t){const a=Sr.getOwnPropertyDescriptors(n);delete a[Qn];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[wf]===!1&&(d[wf]=!0,d[ey]=!0),(d.get||d.set)&&(a[c]={[ey]:!0,[wf]:!0,[ld]:d[ld],[cc]:n[c]})}return Sr.create(Cl(n),a)}else{const a=Cl(n);if(a!==null&&t)return{...n};const s=Sr.create(a);return Sr.assign(s,n)}}function vv(n,e=!1){return Kd(n)||ma(n)||!ui(n)||(Vc(n)>1&&Sr.defineProperties(n,{set:uf,add:uf,clear:uf,delete:uf}),Sr.freeze(n),e&&Hd(n,(t,a)=>{vv(a,!0)},!1)),n}function lL(){ii(2)}var uf={[cc]:lL};function Kd(n){return n===null||!gv(n)?!0:Sr.isFrozen(n)}var cd="MapSet",ry="Patches",sS="ArrayMethods",VR={};function oo(n){const e=VR[n];return e||ii(0,n),e}var oS=n=>!!VR[n],hc,PR=()=>hc,uL=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oS(cd)?oo(cd):void 0,arrayMethodsPlugin_:oS(sS)?oo(sS):void 0});function lS(n,e){e&&(n.patchPlugin_=oo(ry),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function iy(n){ay(n),n.drafts_.forEach(cL),n.drafts_=null}function ay(n){n===hc&&(hc=n.parent_)}var uS=n=>hc=uL(hc,n);function cL(n){const e=n[Qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function cS(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Qn].modified_&&(iy(e),ii(4)),ui(n)&&(n=hS(e,n));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(t[Qn].base_,n,e)}else n=hS(e,t);return hL(e,n,!0),iy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==OR?n:void 0}function hS(n,e){if(Kd(e))return e;const t=e[Qn];if(!t)return hd(e,n.handledSet_,n);if(!Yd(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:a}=t;if(a)for(;a.length>0;)a.pop()(n);UR(t,n)}return t.copy_}function hL(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&vv(e,t)}function LR(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Yd=(n,e)=>n.scope_===e,fL=[];function kR(n,e,t,a){const s=ia(n),l=n.type_;if(a!==void 0&&ty(s,a,l)===e){ud(s,a,t,l);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;Hd(s,(p,g)=>{if(ma(g)){const v=d.get(g)||[];v.push(p),d.set(g,v)}})}const c=n.draftLocations_.get(e)??fL;for(const d of c)ud(s,d,t,l)}function dL(n,e,t){n.callbacks_.push(function(s){var d;const l=e;if(!l||!Yd(l,s))return;(d=s.mapSetPlugin_)==null||d.fixSetContents(l);const c=yv(l);kR(n,l.draft_??l,c,t),UR(l,s)})}function UR(n,e){var a;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((a=n.assigned_)==null?void 0:a.size)??0)>0)){const{patchPlugin_:s}=e;if(s){const l=s.getPath(n);l&&s.generatePatches_(n,l,e)}LR(n)}}function mL(n,e,t){const{scope_:a}=n;if(ma(t)){const s=t[Qn];Yd(s,a)&&s.callbacks_.push(function(){Rf(n);const c=yv(s);kR(n,t,c,e)})}else ui(t)&&n.callbacks_.push(function(){const l=ia(n);n.type_===3?l.has(t)&&hd(t,a.handledSet_,a):ty(l,e,n.type_)===t&&a.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&hd(ty(n.copy_,e,n.type_),a.handledSet_,a)})}function hd(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||ma(n)||e.has(n)||!ui(n)||Kd(n)||(e.add(n),Hd(n,(a,s)=>{if(ma(s)){const l=s[Qn];if(Yd(l,t)){const c=yv(l);ud(n,a,c,n.type_),LR(l)}}else ui(s)&&hd(s,e,t)})),n}function pL(n,e){const t=qd(n),a={type_:t?1:0,scope_:e?e.scope_:PR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=fd;t&&(s=[a],l=fc);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var fd={get(n,e){if(e===Qn)return n;let t=n.scope_.arrayMethodsPlugin_;const a=n.type_===1&&typeof e=="string";if(a&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const s=ia(n);if(!aS(s,e,n.type_))return gL(n,s,e);const l=s[e];if(n.finalized_||!ui(l)||a&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&oL(e))return l;if(l===Eg(n.base_,e)){Rf(n);const c=n.type_===1?+e:e,d=oy(n.scope_,l,n,c);return n.copy_[c]=d}return l},has(n,e){return e in ia(n)},ownKeys(n){return Reflect.ownKeys(ia(n))},set(n,e,t){const a=jR(ia(n),e);if(a!=null&&a.set)return a.set.call(n.draft_,t),!0;if(!n.modified_){const s=Eg(ia(n),e),l=s==null?void 0:s[Qn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(sL(t,s)&&(t!==void 0||aS(n.base_,e,n.type_)))return!0;Rf(n),sy(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),mL(n,e,t)),!0},deleteProperty(n,e){return Rf(n),Eg(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),sy(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ia(n),a=Reflect.getOwnPropertyDescriptor(t,e);return a&&{[wf]:!0,[ey]:n.type_!==1||e!=="length",[ld]:a[ld],[cc]:t[e]}},defineProperty(){ii(11)},getPrototypeOf(n){return Cl(n.base_)},setPrototypeOf(){ii(12)}},fc={};for(let n in fd){let e=fd[n];fc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}fc.deleteProperty=function(n,e){return fc.set.call(this,n,e,void 0)};fc.set=function(n,e,t){return fd.set.call(this,n[0],e,t,n[0])};function Eg(n,e){const t=n[Qn];return(t?ia(t):n)[e]}function gL(n,e,t){var s;const a=jR(e,t);return a?cc in a?a[cc]:(s=a.get)==null?void 0:s.call(n.draft_):void 0}function jR(n,e){if(!(e in n))return;let t=Cl(n);for(;t;){const a=Object.getOwnPropertyDescriptor(t,e);if(a)return a;t=Cl(t)}}function sy(n){n.modified_||(n.modified_=!0,n.parent_&&sy(n.parent_))}function Rf(n){n.copy_||(n.assigned_=new Map,n.copy_=ny(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var yL=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,a)=>{if(sl(e)&&!sl(t)){const l=t;t=e;const c=this;return function(p=l,...g){return c.produce(p,v=>t.call(this,v,...g))}}sl(t)||ii(6),a!==void 0&&!sl(a)&&ii(7);let s;if(ui(e)){const l=uS(this),c=oy(l,e,void 0);let d=!0;try{s=t(c),d=!1}finally{d?iy(l):ay(l)}return lS(l,a),cS(s,l)}else if(!e||!gv(e)){if(s=t(e),s===void 0&&(s=e),s===OR&&(s=void 0),this.autoFreeze_&&vv(s,!0),a){const l=[],c=[];oo(ry).generateReplacementPatches_(e,s,{patches_:l,inversePatches_:c}),a(l,c)}return s}else ii(1,e)},this.produceWithPatches=(e,t)=>{if(sl(e))return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let a,s;return[this.produce(e,t,(c,d)=>{a=c,s=d}),a,s]},_g(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),_g(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),_g(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){ui(n)||ii(8),ma(n)&&(n=vL(n));const e=uS(this),t=oy(e,n,void 0);return t[Qn].isManual_=!0,ay(e),t}finishDraft(n,e){const t=n&&n[Qn];(!t||!t.isManual_)&&ii(9);const{scope_:a}=t;return lS(a,e),cS(void 0,a)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const a=oo(ry).applyPatches_;return ma(n)?a(n,e):this.produce(n,s=>a(s,e))}};function oy(n,e,t,a){const[s,l]=Gd(e)?oo(cd).proxyMap_(e,t):$d(e)?oo(cd).proxySet_(e,t):pL(e,t);return((t==null?void 0:t.scope_)??PR()).drafts_.push(s),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=a,t&&a!==void 0?dL(t,l,a):l.callbacks_.push(function(p){var v;(v=p.mapSetPlugin_)==null||v.fixSetContents(l);const{patchPlugin_:g}=p;l.modified_&&g&&g.generatePatches_(l,[],p)}),s}function vL(n){return ma(n)||ii(10,n),zR(n)}function zR(n){if(!ui(n)||Kd(n))return n;const e=n[Qn];let t,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ny(n,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else t=ny(n,!0);return Hd(t,(s,l)=>{ud(t,s,zR(l))},a),e&&(e.finalized_=!1),t}var _L=new yL,BR=_L.produce;function FR(n){return({dispatch:t,getState:a})=>s=>l=>typeof l=="function"?l(t,a,n):s(l)}var EL=FR(),TL=FR,bL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sd:sd.apply(null,arguments)},SL=n=>n&&typeof n.match=="function";function Wu(n,e){function t(...a){if(e){let s=e(...a);if(!s)throw new Error(ua(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:a[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=a=>iL(a)&&a.type===n,t}var HR=class Fu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fu.prototype)}static get[Symbol.species](){return Fu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fu(...e[0].concat(this)):new Fu(...e.concat(this))}};function fS(n){return ui(n)?BR(n,()=>{}):n}function cf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function AL(n){return typeof n=="boolean"}var wL=()=>function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let c=new HR;return t&&(AL(t)?c.push(EL):c.push(TL(t.extraArgument))),c},RL="RTK_autoBatch",dS=n=>e=>{setTimeout(e,n)},CL=(n={type:"raf"})=>e=>(...t)=>{const a=e(...t);let s=!0,l=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dS(10):n.type==="callback"?n.queueNotification:dS(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(v=>v()))};return Object.assign({},a,{subscribe(v){const E=()=>s&&v(),S=a.subscribe(E);return d.add(v),()=>{S(),d.delete(v)}},dispatch(v){var E;try{return s=!((E=v==null?void 0:v.meta)!=null&&E[RL]),l=!s,l&&(c||(c=!0,p(g))),a.dispatch(v)}finally{s=!0}}})},IL=n=>function(t){const{autoBatch:a=!0}=t??{};let s=new HR(n);return a&&s.push(CL(typeof a=="object"?a:void 0)),s};function DL(n){const e=wL(),{reducer:t=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(pv(t))d=nL(t);else throw new Error(ua(1));let p;typeof a=="function"?p=a(e):p=e();let g=sd;s&&(g=bL({trace:!1,...typeof s=="object"&&s}));const v=rL(...p),E=IL(v);let S=typeof c=="function"?c(E):E();const I=g(...S);return xR(d,l,I)}function qR(n){const e={},t=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(ua(28));if(d in e)throw new Error(ua(29));return e[d]=c,s},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return t.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return n(s),[e,t,a]}function NL(n){return typeof n=="function"}function xL(n,e){let[t,a,s]=qR(e),l;if(NL(n))l=()=>fS(n());else{const d=fS(n);l=()=>d}function c(d=l(),p){let g=[t[p.type],...a.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[s]),g.reduce((v,E)=>{if(E)if(ma(v)){const I=E(v,p);return I===void 0?v:I}else{if(ui(v))return BR(v,S=>E(S,p));{const S=E(v,p);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},d)}return c.getInitialState=l,c}var OL=(n,e)=>SL(n)?n.match(e):n(e);function ML(...n){return e=>n.some(t=>OL(t,e))}var VL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PL=(n=21)=>{let e="",t=n;for(;t--;)e+=VL[Math.random()*64|0];return e},LL=["name","message","stack","code"],Tg=class{constructor(n,e){Fp(this,"_type");this.payload=n,this.meta=e}},mS=class{constructor(n,e){Fp(this,"_type");this.payload=n,this.meta=e}},kL=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of LL)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},pS="External signal was aborted",Cr=(()=>{function n(e,t,a){const s=Wu(e+"/fulfilled",(p,g,v,E)=>({payload:p,meta:{...E||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),l=Wu(e+"/pending",(p,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:p,requestStatus:"pending"}})),c=Wu(e+"/rejected",(p,g,v,E,S)=>({payload:E,error:(a&&a.serializeError||kL)(p||"Rejected"),meta:{...S||{},arg:v,requestId:g,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p,{signal:g}={}){return(v,E,S)=>{const I=a!=null&&a.idGenerator?a.idGenerator(p):PL(),M=new AbortController;let z,L;function $(F){L=F,M.abort()}g&&(g.aborted?$(pS):g.addEventListener("abort",()=>$(pS),{once:!0}));const G=(async function(){var Y,q;let F;try{let b=(Y=a==null?void 0:a.condition)==null?void 0:Y.call(a,p,{getState:E,extra:S});if(jL(b)&&(b=await b),b===!1||M.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((R,N)=>{z=()=>{N({name:"AbortError",message:L||"Aborted"})},M.signal.addEventListener("abort",z,{once:!0})});v(l(I,p,(q=a==null?void 0:a.getPendingMeta)==null?void 0:q.call(a,{requestId:I,arg:p},{getState:E,extra:S}))),F=await Promise.race([A,Promise.resolve(t(p,{dispatch:v,getState:E,extra:S,requestId:I,signal:M.signal,abort:$,rejectWithValue:(R,N)=>new Tg(R,N),fulfillWithValue:(R,N)=>new mS(R,N)})).then(R=>{if(R instanceof Tg)throw R;return R instanceof mS?s(R.payload,I,p,R.meta):s(R,I,p)})])}catch(b){F=b instanceof Tg?c(null,I,p,b.payload,b.meta):c(b,I,p)}finally{z&&M.signal.removeEventListener("abort",z)}return a&&!a.dispatchConditionRejection&&c.match(F)&&F.meta.condition||v(F),F})();return Object.assign(G,{abort:$,requestId:I,arg:p,unwrap(){return G.then(UL)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:s,settled:ML(c,s),typePrefix:e})}return n.withTypes=()=>n,n})();function UL(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function jL(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var zL=Symbol.for("rtk-slice-createasyncthunk");function BL(n,e){return`${n}/${e}`}function FL({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[zL];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(ua(11));const d=(typeof s.reducers=="function"?s.reducers(qL()):s.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(X,Y){const q=typeof X=="string"?X:X.type;if(!q)throw new Error(ua(12));if(q in g.sliceCaseReducersByType)throw new Error(ua(13));return g.sliceCaseReducersByType[q]=Y,v},addMatcher(X,Y){return g.sliceMatchers.push({matcher:X,reducer:Y}),v},exposeAction(X,Y){return g.actionCreators[X]=Y,v},exposeCaseReducer(X,Y){return g.sliceCaseReducersByName[X]=Y,v}};p.forEach(X=>{const Y=d[X],q={reducerName:X,type:BL(l,X),createNotation:typeof s.reducers=="function"};$L(Y)?YL(q,Y,v,e):GL(q,Y,v)});function E(){const[X={},Y=[],q=void 0]=typeof s.extraReducers=="function"?qR(s.extraReducers):[s.extraReducers],b={...X,...g.sliceCaseReducersByType};return xL(s.initialState,A=>{for(let R in b)A.addCase(R,b[R]);for(let R of g.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of Y)A.addMatcher(R.matcher,R.reducer);q&&A.addDefaultCase(q)})}const S=X=>X,I=new Map,M=new WeakMap;let z;function L(X,Y){return z||(z=E()),z(X,Y)}function $(){return z||(z=E()),z.getInitialState()}function G(X,Y=!1){function q(A){let R=A[X];return typeof R>"u"&&Y&&(R=cf(M,q,$)),R}function b(A=S){const R=cf(I,Y,()=>new WeakMap);return cf(R,A,()=>{const N={};for(const[x,V]of Object.entries(s.selectors??{}))N[x]=HL(V,A,()=>cf(M,A,$),Y);return N})}return{reducerPath:X,getSelectors:b,get selectors(){return b(q)},selectSlice:q}}const F={name:l,reducer:L,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:$,...G(c),injectInto(X,{reducerPath:Y,...q}={}){const b=Y??c;return X.inject({reducerPath:b,reducer:L},q),{...F,...G(b,!0)}}};return F}}function HL(n,e,t,a){function s(l,...c){let d=e(l);return typeof d>"u"&&a&&(d=t()),n(d,...c)}return s.unwrapped=n,s}var mo=FL();function qL(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function GL({type:n,reducerName:e,createNotation:t},a,s){let l,c;if("reducer"in a){if(t&&!KL(a))throw new Error(ua(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?Wu(n,c):Wu(n))}function $L(n){return n._reducerDefinitionType==="asyncThunk"}function KL(n){return n._reducerDefinitionType==="reducerWithPrepare"}function YL({type:n,reducerName:e},t,a,s){if(!s)throw new Error(ua(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:g,options:v}=t,E=s(n,l,v);a.exposeAction(e,E),c&&a.addCase(E.fulfilled,c),d&&a.addCase(E.pending,d),p&&a.addCase(E.rejected,p),g&&a.addMatcher(E.settled,g),a.exposeCaseReducer(e,{fulfilled:c||hf,pending:d||hf,rejected:p||hf,settled:g||hf})}function hf(){}function ua(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const QL={positions:[],loading:!1,error:null,fetched:!1},to=Cr("positions/fetchPositions",async(n,{rejectWithValue:e})=>{try{const t=Gr(_n,"metadata","positions"),a=await Dc(t);if(a.exists()){const s=a.data();return Array.isArray(s.list)?s.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch positions")}}),GR=Cr("positions/updatePositions",async(n,{rejectWithValue:e})=>{try{const t=Gr(_n,"metadata","positions");return await Ud(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update positions")}}),XL=mo({name:"positions",initialState:QL,reducers:{},extraReducers:n=>{n.addCase(to.pending,e=>{e.loading=!0,e.error=null}).addCase(to.fulfilled,(e,t)=>{e.positions=t.payload,e.loading=!1,e.fetched=!0}).addCase(to.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(GR.fulfilled,(e,t)=>{e.positions=t.payload})}}),WL=XL.reducer,JL={teams:[],loading:!1,error:null,fetched:!1},pl=Cr("teams/fetchTeams",async(n,{rejectWithValue:e})=>{try{const t=Gr(_n,"metadata","teams"),a=await Dc(t);if(a.exists()){const s=a.data();return Array.isArray(s.list)?s.list.map(c=>({...c,maxConflict:c.maxConflict||1})):[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch teams")}}),Cf=Cr("teams/updateTeams",async(n,{rejectWithValue:e})=>{try{const t=Gr(_n,"metadata","teams");return await Ud(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update teams")}}),$R=mo({name:"teams",initialState:JL,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(pl.pending,e=>{e.loading=!0,e.error=null}).addCase(pl.fulfilled,(e,t)=>{e.teams=t.payload,e.loading=!1,e.fetched=!0}).addCase(pl.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Cf.pending,e=>{e.error=null}).addCase(Cf.fulfilled,(e,t)=>{e.teams=t.payload}).addCase(Cf.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:hU}=$R.actions,ZL=$R.reducer,ek=()=>{const n=Pi(),{firebaseUser:e,userData:t,loading:a}=pt(c=>c.auth),{fetched:s}=pt(c=>c.teams),{fetched:l}=pt(c=>c.positions);return P.useEffect(()=>{e&&(s||n(pl()),l||n(to()))},[n,e,s,l]),a?w.jsx(Rl,{}):e?t?t.isApproved?w.jsx(ZS,{}):w.jsx(as,{to:"/guest",replace:!0}):w.jsx(Rl,{}):w.jsx(as,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=(...n)=>n.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=n=>{const e=nk(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},p)=>P.createElement("svg",{ref:p,...rk,width:e,height:e,stroke:n,strokeWidth:a?Number(t)*24/Number(e):t,className:KR("lucide",s),...!l&&!ik(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>P.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=(n,e)=>{const t=P.forwardRef(({className:a,...s},l)=>P.createElement(ak,{ref:l,iconNode:e,className:KR(`lucide-${tk(gS(n))}`,`lucide-${n}`,a),...s}));return t.displayName=gS(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],YR=kl("chevron-up",sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],QR=kl("corner-down-right",ok);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],uk=kl("moon",lk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],hk=kl("panel-left-close",ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],dk=kl("panel-left-open",fk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pk=kl("sun",mk),gk=()=>{try{const n=localStorage.getItem("hidden-users");return n?JSON.parse(n):{}}catch{return{}}},yk={isMobileSidebarOpen:!1,isDesktopSidebarExpanded:!0,expandedTeams:[],hiddenUsers:gk()},XR=mo({name:"ui",initialState:yk,reducers:{setMobileSidebarOpen:(n,e)=>{n.isMobileSidebarOpen=e.payload},setDesktopSidebarExpanded:(n,e)=>{n.isDesktopSidebarExpanded=e.payload},toggleTeamExpansion:(n,e)=>{const t=e.payload,a=n.expandedTeams.indexOf(t);a>=0?n.expandedTeams.splice(a,1):n.expandedTeams.push(t)},toggleUserVisibility:(n,e)=>{const{teamName:t,positionName:a,userEmail:s}=e.payload;n.hiddenUsers[t]||(n.hiddenUsers[t]={}),n.hiddenUsers[t][a]||(n.hiddenUsers[t][a]=[]);const l=n.hiddenUsers[t][a],c=l.indexOf(s);c>=0?l.splice(c,1):l.push(s),localStorage.setItem("hidden-users",JSON.stringify(n.hiddenUsers))}}}),{setMobileSidebarOpen:Hu,setDesktopSidebarExpanded:vk,toggleTeamExpansion:_k,toggleUserVisibility:Ek}=XR.actions,Tk=XR.reducer,bk=()=>{const n=P.useContext(NR);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},_v=({showText:n})=>{const{theme:e,toggleTheme:t}=bk();return w.jsxs("button",{className:"theme-toggle-button",onClick:t,"aria-label":"Toggle theme",children:[e==="dark"?w.jsx(pk,{size:20}):w.jsx(uk,{size:20}),n&&w.jsx("span",{children:"Toggle theme"})]})},Sk=({title:n})=>{const e=Pi(),{isMobileSidebarOpen:t}=pt(a=>a.ui);return w.jsxs("header",{className:"mobile-header",children:[w.jsxs("div",{className:`mobile-header-pill ${t?"mobile-header-pill-active":""}`,onClick:()=>e(Hu(!t)),children:[w.jsx("span",{className:"mobile-header-text",children:n}),w.jsx(YR,{className:`mobile-header-chevron ${t?"rotate":""}`})]}),w.jsx(_v,{})]})};var Kn=(n=>(n.DASHBOARD="dashboard",n.ROSTER="roster",n.SETTINGS="settings",n))(Kn||{}),ll=(n=>(n.PROFILE="Profile",n.USER_MANAGEMENT="Users",n.POSITIONS="Positions",n.TEAMS="Teams",n))(ll||{});const WR=[{id:"dashboard",label:"Dashboard",icon:""},{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],bg=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],Ak=()=>{const n=uo(),e=Kr(),t=e.pathname.includes("/settings")?Kn.SETTINGS:e.pathname.includes("/dashboard")?Kn.DASHBOARD:Kn.ROSTER,a=s=>{n(`/app/${s}`)};return w.jsx("nav",{className:"bottom-nav-container",children:w.jsx("div",{className:"bottom-nav",children:WR.map(s=>w.jsxs("button",{className:`bottom-nav-btn ${t===s.id?"bottom-nav-btn-active":""}`,onClick:()=>a(s.id),children:[w.jsx("span",{children:s.icon}),w.jsx("span",{children:s.label})]},s.id))})})},wk=()=>{var F;const n=uo(),e=Kr(),t=yd(),a=Pi(),{userData:s}=pt(X=>X.auth),{isDesktopSidebarExpanded:l,expandedTeams:c}=pt(X=>X.ui),{teams:d,fetched:p,loading:g}=pt(X=>X.teams),{fetched:v}=pt(X=>X.positions),E=e.pathname.includes("/settings")?Kn.SETTINGS:Kn.ROSTER,{teamName:S,positionName:I,section:M}=t,z=I||M;P.useEffect(()=>{p||a(pl()),v||a(to())},[a,p,v]);const L=P.useCallback(X=>{n(X)},[n]),$=X=>{a(_k(X))},G=()=>{const X=E===Kn.ROSTER?{label:"Roster"}:bg.find(q=>q.id===z)||{label:"Settings"},Y=X?X.label:"GIG ROSTER";return S&&z?`${S}  ${z}`:S||(z?`${Y}  ${z}`:Y)};return w.jsxs("aside",{className:"side-nav",children:[w.jsxs("div",{className:"sidebar-content",children:[w.jsxs("div",{className:"tablet-sidebar-header",children:[l&&w.jsx("h3",{children:G()}),w.jsx("button",{className:"sidebar-toggle-button",onClick:()=>a(vk(!l)),"aria-label":l?"Collapse sidebar":"Expand sidebar",children:l?w.jsx(hk,{size:20}):w.jsx(dk,{size:20})})]}),w.jsxs("nav",{className:"side-menu-list",children:[E===Kn.ROSTER&&g&&w.jsx("div",{className:"side-nav-item loading",children:"Loading teams..."}),E===Kn.ROSTER?(F=s==null?void 0:s.teams)==null?void 0:F.map(X=>{var A,R;const Y=d.find(N=>N.name===X);if(!Y)return null;const q=s.teams.length===1,b=q||c.includes(Y.name);return w.jsxs("div",{children:[!q&&w.jsxs("div",{className:"sidenav-menu-subheading sidenav-menu-subheading-clickable",style:{cursor:"pointer"},onClick:()=>$(Y.name),children:[w.jsxs("div",{children:[Y.emoji," ",l&&Y.name]}),w.jsx("span",{className:"expand-icon",children:b?"":""})]}),b&&w.jsxs("div",{className:"side-nav-sub-items",children:[(R=(A=Y.positions)==null?void 0:A.filter(N=>!N.parentId))==null?void 0:R.map(N=>{const x=z===N.name&&S===Y.name;return w.jsxs("button",{className:`side-nav-item side-nav-item-sub ${x?"side-nav-item-active":""}`,onClick:()=>{L(`/app/roster/${Y.name}/${N.name}`),a(Hu(!1))},style:{borderLeft:x?`4px solid ${N.colour}`:"4px solid transparent",backgroundColor:x?`${N.colour}15`:"transparent",color:x?N.colour:""},children:[w.jsx("span",{className:"side-emoji",children:N.emoji})," ",l&&N.name]},N.name)}),w.jsxs("button",{className:`side-nav-item side-nav-item-sub ${z==="Absence"&&S===Y.name?"side-nav-item-active":""}`,onClick:()=>{L(`/app/roster/${Y.name}/Absence`),a(Hu(!1))},style:{borderLeft:z==="Absence"&&S===Y.name?"4px solid var(--color-error)":"4px solid transparent",backgroundColor:z==="Absence"&&S===Y.name?"var(--background-toggle-off-transparent)":"transparent"},children:[w.jsx("span",{className:"side-emoji",children:""})," ",l&&"Absence"]})]})]},Y.name)}):bg.filter(X=>!X.adminOnly).map(X=>w.jsxs("button",{className:`side-nav-item ${z===X.id?"side-nav-item-active":""}`,onClick:()=>{L(`/app/settings/${X.id}`),a(Hu(!1))},children:[w.jsx("span",{className:"side-emoji",children:X.icon})," ",l&&X.label]},X.id))]})]}),(s==null?void 0:s.isAdmin)&&E===Kn.SETTINGS&&w.jsxs("div",{className:"admin-only-section-wrapper",children:[w.jsx("div",{className:"sidenav-menu-subheading",children:l&&w.jsx("h4",{children:"Admin Only"})}),bg.filter(X=>X.adminOnly).map(X=>w.jsxs("button",{className:`side-nav-item ${z===X.id?"side-nav-item-active":""}`,onClick:()=>{L(`/app/settings/${X.id}`),a(Hu(!1))},children:[w.jsx("span",{className:"side-emoji",children:X.icon})," ",l&&X.label]},X.id))]}),w.jsx("div",{className:"sidebar-footer",children:w.jsx(_v,{showText:l})})]})},Rk=()=>{const n=uo(),e=Kr(),t=yd(),{userData:a}=pt(M=>M.auth),{teams:s}=pt(M=>M.teams),{isMobileSidebarOpen:l,isDesktopSidebarExpanded:c}=pt(M=>M.ui),d=e.pathname.includes("/settings")?Kn.SETTINGS:e.pathname.includes("/dashboard")?Kn.DASHBOARD:Kn.ROSTER,{teamName:p,positionName:g,section:v}=t,E=g||v||null;P.useEffect(()=>{if(e.pathname==="/app"||e.pathname==="/app/")n("/app/dashboard",{replace:!0});else if(d===Kn.ROSTER&&!p&&!E){if(a!=null&&a.teams&&a.teams.length>0&&s.length>0){const M=a.teams[0],z=s.find(L=>L.name===M);z&&z.positions&&z.positions.length>0&&n(`/app/roster/${z.name}/${z.positions[0].name}`,{replace:!0})}}else d===Kn.SETTINGS&&!E&&n(`/app/settings/${ll.PROFILE}`,{replace:!0})},[d,p,E,a,s,n,e.pathname]);const S=()=>{const M=WR.find(L=>L.id===d),z=M?M.label:"GIG ROSTER";return p&&E?`${p}  ${E}`:p||(E?`${z}  ${E}`:z)},I=["app-shell",l?"menu-open":"",c?"sidebar-expanded":"sidebar-collapsed"].filter(Boolean).join(" ");return w.jsxs(w.Fragment,{children:[w.jsx(Sk,{title:S()}),w.jsxs("div",{className:I,children:[w.jsx(wk,{}),w.jsx("main",{className:"main-content",children:w.jsx("div",{className:"content-container",children:w.jsx(ZS,{})})}),w.jsx(Ak,{})]})]})},Ck={entries:{},dirtyEntries:{},loading:!1,saving:!1,error:null},Ju=Cr("roster/fetchEntries",async(n,{rejectWithValue:e})=>{try{const t=Ic(wc(_n,"roster")),a=await Nc(t),s={};return a.docs.forEach(l=>{const c=l.data(),d=c.updatedAt,p={...c,updatedAt:d&&typeof d=="object"&&"toMillis"in d?d.toMillis():d};s[l.id]={...p,id:l.id}}),s}catch(t){return e(t instanceof Error?t.message:"Failed to fetch roster entries")}}),If=Cr("roster/saveChanges",async(n,{rejectWithValue:e})=>{try{const t=Jw(_n),a=Date.now(),s={};return Object.values(n).forEach(l=>{const c=Gr(_n,"roster",l.id),d={...l,updatedAt:a};t.set(c,d),s[l.id]=d}),await t.commit(),s}catch(t){return e(t instanceof Error?t.message:"Failed to save roster changes")}}),JR=mo({name:"roster",initialState:Ck,reducers:{clearError:n=>{n.error=null},updateLocalAssignment(n,e){const{date:t,teamName:a,userIdentifier:s,positionGroupNames:l,maxConflict:c}=e.payload,d=n.dirtyEntries[t]||n.entries[t];let p;d?p=JSON.parse(JSON.stringify(d)):p={id:t,date:t,teams:{},absence:{}},p.teams[a]||(p.teams[a]={});const g=p.teams[a][s]||[],v=l.findIndex(M=>g.includes(M)),E=v>=0?l[v]:null;let S=null;E===null?S=l[0]:v<l.length-1?S=l[v+1]:S=null;const I=g.filter(M=>!l.includes(M));if(S)if(I.length<c)I.push(S);else{n.error=`User already has ${c} assignment(s) in this team.`;return}I.length===0?delete p.teams[a][s]:p.teams[a][s]=I,n.dirtyEntries[t]=p},resetRosterEdits(n){n.dirtyEntries={},n.error=null},updateLocalAbsence(n,e){var p;const{date:t,userIdentifier:a,reason:s,isAbsent:l}=e.payload,c=n.dirtyEntries[t]||n.entries[t];let d;c?d=JSON.parse(JSON.stringify(c)):d={id:t,date:t,teams:{},absence:{}},l?d.absence[a]={reason:s??((p=d.absence[a])==null?void 0:p.reason)??""}:delete d.absence[a],n.dirtyEntries[t]=d}},extraReducers:n=>{n.addCase(Ju.pending,e=>{e.loading=!0,e.error=null}).addCase(Ju.fulfilled,(e,t)=>{e.entries=t.payload,e.loading=!1}).addCase(Ju.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(If.pending,e=>{e.saving=!0,e.error=null}).addCase(If.fulfilled,(e,t)=>{e.entries={...e.entries,...t.payload},e.dirtyEntries={},e.saving=!1}).addCase(If.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{clearError:fU,updateLocalAssignment:Ik,resetRosterEdits:Dk,updateLocalAbsence:yS}=JR.actions,Nk=JR.reducer,Df=(n,e,t)=>{const a=[],s=new Date;s.setHours(0,0,0,0);const l=s.getFullYear(),c=e||l,d=t||l,p={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g=n.map(I=>p[I]);let v;c===l?v=new Date(s):v=new Date(c,0,1),v.setHours(0,0,0,0);const E=new Date(d,11,31);E.setHours(23,59,59,999);const S=new Date(v);for(;S.getTime()<=E.getTime();)g.includes(S.getDay())&&a.push(new Date(S)),S.setDate(S.getDate()+1);return a.sort((I,M)=>I.getTime()-M.getTime()),a.map(I=>I.toISOString())},xk=(n,e,t=5)=>{const a=[],s=new Date(e);s.setHours(0,0,0,0);const l={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c=n.map(p=>l[p]),d=new Date(s);for(;a.length<t;){d.setDate(d.getDate()-1),c.includes(d.getDay())&&a.push(new Date(d));const p=new Date(s);if(p.setFullYear(p.getFullYear()-1),d<p)break}return a.map(p=>p.toISOString()).sort()},Ok={users:[],allTeamUsers:[],currentTeamData:null,rosterDates:[],loadingUsers:!1,loadingTeam:!1,loadingAllTeamUsers:!1,error:null},Nf=Cr("rosterView/fetchAllTeamUsers",async(n,{rejectWithValue:e})=>{if(!n)return[];try{const t=wc(_n,"users"),a=Ic(t,nv("teams","array-contains",n)),s=await Nc(a),l=[];return s.forEach(c=>{l.push(c.data())}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return console.error("Error fetching team users:",t),e("Failed to load team users.")}}),xf=Cr("rosterView/fetchUsers",async({teamName:n,positionName:e},{rejectWithValue:t,getState:a})=>{if(!n||!e)return[];try{const c=a().positions.positions.filter(I=>I.parentId===e),p=[e,...c.map(I=>I.name)].map(I=>`${n}|${I}`),g=wc(_n,"users"),v=Ic(g,nv("indexedAssignments","array-contains-any",p)),E=await Nc(v),S=[];return E.forEach(I=>{S.push(I.data())}),S.sort((I,M)=>(I.name||"").localeCompare(M.name||""))}catch(s){return console.error("Error fetching users:",s),t("Failed to load users.")}}),Of=Cr("rosterView/fetchTeamData",async(n,{rejectWithValue:e})=>{if(!n)return null;try{const t=Gr(_n,"metadata","teams"),a=await Dc(t);if(a.exists()){const s=a.data();return(Array.isArray(s.list)?s.list.map(d=>({...d,preferredDays:d.preferredDays||[],positions:d.positions||[]})):[]).find(d=>d.name===n)||null}return null}catch(t){return console.error("Error fetching team data:",t),e("Failed to load team data.")}}),ZR=mo({name:"rosterView",initialState:Ok,reducers:{loadPreviousDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const e=xk(n.currentTeamData.preferredDays,n.rosterDates[0]);n.rosterDates=[...e,...n.rosterDates]}},resetToUpcomingDates(n){var e;(e=n.currentTeamData)!=null&&e.preferredDays&&(n.rosterDates=Df(n.currentTeamData.preferredDays))},loadNextYearDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const t=new Date(n.rosterDates[n.rosterDates.length-1]).getFullYear()+1,a=Df(n.currentTeamData.preferredDays,t,t);n.rosterDates=[...n.rosterDates,...a]}}},extraReducers:n=>{n.addCase(xf.pending,e=>{e.loadingUsers=!0,e.users=[],e.error=null}).addCase(xf.fulfilled,(e,t)=>{e.users=t.payload,e.loadingUsers=!1}).addCase(xf.rejected,(e,t)=>{e.error=t.payload,e.loadingUsers=!1}).addCase(Nf.pending,e=>{e.loadingAllTeamUsers=!0,e.allTeamUsers=[]}).addCase(Nf.fulfilled,(e,t)=>{e.allTeamUsers=t.payload,e.loadingAllTeamUsers=!1}).addCase(Nf.rejected,(e,t)=>{e.error=t.payload,e.loadingAllTeamUsers=!1}).addCase(Of.pending,e=>{e.loadingTeam=!0,e.currentTeamData=null,e.rosterDates=[],e.error=null}).addCase(Of.fulfilled,(e,t)=>{var a;e.currentTeamData=t.payload,(a=t.payload)!=null&&a.preferredDays&&(e.rosterDates=Df(t.payload.preferredDays)),e.loadingTeam=!1}).addCase(Of.rejected,(e,t)=>{e.error=t.payload,e.loadingTeam=!1})}}),{loadPreviousDates:Mk,resetToUpcomingDates:Vk,loadNextYearDates:Pk}=ZR.actions,Lk=ZR.reducer,kk=()=>{const n=Pi(),[e]=PN(),t=e.get("date"),{userData:a}=pt(Y=>Y.auth),{teams:s}=pt(Y=>Y.teams),{entries:l,loading:c}=pt(Y=>Y.roster),{positions:d}=pt(Y=>Y.positions),[p,g]=P.useState([]),[v,E]=P.useState(!1),[S,I]=P.useState(0),M=P.useRef(null);P.useEffect(()=>{n(Ju())},[n]);const z=P.useMemo(()=>{if(!(a!=null&&a.teams)||s.length===0)return[];const Y=s.filter(b=>a.teams.includes(b.name)),q=new Set;return Y.forEach(b=>{Df(b.preferredDays).forEach(R=>q.add(R))}),Array.from(q).sort().filter(b=>{const A=b.split("T")[0],R=l[A];return R?Y.some(N=>{var V;const x=((V=R.teams)==null?void 0:V[N.name])||{};return Object.values(x).some(O=>O.length>0)}):!1})},[a,s,l]);P.useEffect(()=>{if(t&&z.length>0&&M.current){const Y=z.findIndex(q=>q.startsWith(t));Y>=0&&setTimeout(()=>{if(M.current){const q=M.current,b=q.offsetWidth;q.scrollTo({left:b*Y,behavior:"auto"}),I(Y)}},100)}},[t,z]),P.useEffect(()=>{(async()=>{if(!(!(a!=null&&a.teams)||a.teams.length===0)){E(!0);try{const q=wc(_n,"users"),b=Ic(q,nv("teams","array-contains-any",a.teams)),A=await Nc(b),R=[];A.forEach(N=>R.push(N.data())),g(R)}catch(q){console.error("Error fetching users for dashboard:",q)}finally{E(!1)}}})()},[a==null?void 0:a.teams]);const L=P.useCallback(Y=>{if(!Y||!(a!=null&&a.teams)||s.length===0)return null;const q=Y.split("T")[0],b=l[q],N=s.filter(x=>a.teams.includes(x.name)).map(x=>{var W;const V=((W=b==null?void 0:b.teams)==null?void 0:W[x.name])||{},O=[],ke=x.positions.map(he=>he.name);let $e=0;return ke.forEach(he=>{const me=d.find(De=>De.name===he),Ve=[];Object.entries(V).forEach(([De,j])=>{if(j.includes(he)){const ie=p.find(de=>de.email===De);Ve.push((ie==null?void 0:ie.name)||De),$e++}}),O.push({posName:he,emoji:(me==null?void 0:me.emoji)||"",names:Ve})}),{teamName:x.name,teamEmoji:x.emoji,positions:O,hasAssignments:$e>0}}).filter(x=>x.hasAssignments);return N.length>0?N:null},[l,a,s,d,p]),$=(Y,q,b,A)=>{let N=`${new Date(Y).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})} - ${b} ${q}
`;A.forEach(x=>{const V=x.names.length>0?x.names.join(", "):"-";N+=`${x.emoji}: ${V}
`}),navigator.clipboard.writeText(N).then(()=>{})},G=()=>{if(!M.current)return;const Y=M.current,q=Math.round(Y.scrollLeft/Y.offsetWidth);q!==S&&I(q)};if(c||v)return w.jsx(Ll,{});if(z.length===0)return w.jsxs("div",{className:"dashboard-empty",children:[w.jsx("h2",{children:"No upcoming events found"}),w.jsx("p",{children:"You are not rostered for any upcoming team events."})]});const F=Y=>new Date(Y).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"}),X=(Y,q=!1)=>{const b=L(Y);return b?w.jsx("div",{className:"team-cards-container",children:b.map(A=>w.jsxs("div",{className:"team-event-card",children:[w.jsxs("div",{className:"team-event-header",children:[w.jsxs("h3",{children:[w.jsx("span",{className:"team-card-emoji",children:A.teamEmoji}),w.jsx("span",{className:"team-card-name",children:A.teamName})]}),!q&&w.jsx("button",{className:"copy-roster-btn",onClick:()=>$(Y,A.teamName,A.teamEmoji,A.positions),title:"Copy to clipboard",children:" Copy"})]}),w.jsx("div",{className:"team-event-details",children:A.positions.map(R=>w.jsxs("div",{className:"pos-assignment-row",children:[w.jsx("span",{className:"pos-emoji-label",title:R.posName,children:R.emoji}),w.jsx("span",{className:`assigned-names ${R.names.length===0?"unassigned":""}`,children:R.names.length>0?R.names.join(", "):"Unassigned"})]},R.posName))})]},A.teamName))}):null};return w.jsxs("div",{className:"dashboard-container",children:[w.jsx("div",{className:"dashboard-header",children:w.jsx("h1",{children:"Upcoming Events"})}),w.jsx("div",{className:"carousel-outer-wrapper",children:w.jsx("div",{className:"events-carousel-track",ref:M,onScroll:G,children:z.map((Y,q)=>w.jsxs("div",{className:`event-card-wrapper ${q===S?"active":"peek"}`,children:[w.jsx("div",{className:"event-card-date",children:F(Y)}),X(Y,q!==S)]},Y))})}),w.jsxs("div",{className:"carousel-pagination",children:[S+1," / ",z.length]})]})},Ri=({children:n,nowrap:e})=>w.jsx("div",{className:`pill-group ${e?"pill-group-nowrap":""}`,children:n}),Yn=({colour:n,isDropdown:e,isActive:t,isDisabled:a,minWidth:s,onClick:l,children:c})=>{const[d,p]=P.useState(!1);return n&&n.startsWith("var(--color-")&&(n=getComputedStyle(document.documentElement).getPropertyValue(n.slice(4,-1)).trim()),w.jsxs("div",{className:`pill pill--text ${t?"pill-active":""} ${a?"pill-disabled":""}`,style:{"--pill-colour":n||"var(--color-link)","--pill-subtle-hover-color":`${n}15`,minWidth:s?`${s}px`:"fit-content"},onClick:g=>{a||(p(v=>!v),l&&l(g))},children:[c,e&&w.jsx(YR,{style:{rotate:d?"90deg":"0"}})]})},e1=n=>{const e=[];return Object.entries(n).forEach(([t,a])=>{a.forEach(s=>{e.push(`${t}|${s}`)})}),e},Uk={firebaseUser:null,userData:null,loading:!0,error:null},Mf=Cr("auth/initializeUserData",async(n,{rejectWithValue:e})=>{try{const t=Gr(_n,"users",n),a=await Dc(t);if(!a.exists()){const s="chris.sm.kang542@gmail.com",l=wl.currentUser,c=(l==null?void 0:l.email)===s,d={name:(l==null?void 0:l.displayName)||null,email:(l==null?void 0:l.email)||null,isApproved:c,isAdmin:c,isActive:!0,teams:[],teamPositions:{},indexedAssignments:[],gender:""};return await qV(t,d),d}return a.data()}catch(t){return e(t instanceof Error?t.message:"Unknown error")}}),Vf=Cr("auth/updateUserProfile",async({uid:n,data:e},{rejectWithValue:t})=>{try{const a=Gr(_n,"users",n),s={...e};return s.teamPositions&&(s.indexedAssignments=e1(s.teamPositions)),await Ud(a,s),s}catch(a){return t(a instanceof Error?a.message:"Failed to update profile")}}),t1=mo({name:"auth",initialState:Uk,reducers:{setUser:(n,e)=>{n.firebaseUser=e.payload},setUserData:(n,e)=>{n.userData=e.payload},setLoading:(n,e)=>{n.loading=e.payload},logout:n=>{n.firebaseUser=null,n.userData=null,n.loading=!1}},extraReducers:n=>{n.addCase(Mf.pending,e=>{e.loading=!0,e.error=null}).addCase(Mf.fulfilled,(e,t)=>{e.userData=t.payload,e.loading=!1}).addCase(Mf.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Vf.pending,e=>{e.error=null}).addCase(Vf.fulfilled,(e,t)=>{e.userData&&(e.userData={...e.userData,...t.payload})}).addCase(Vf.rejected,(e,t)=>{e.error=t.payload})}}),{setUser:jk,setUserData:zk,setLoading:dU,logout:Bk}=t1.actions,Fk=t1.reducer,n1=()=>{const n=Pi(),{userData:e,firebaseUser:t}=pt(F=>F.auth),a=pt(F=>F.teams.teams),[s,l]=P.useState((e==null?void 0:e.name)||""),[c,d]=P.useState((e==null?void 0:e.gender)||""),[p,g]=P.useState((e==null?void 0:e.isActive)??!0),[v,E]=P.useState((e==null?void 0:e.teams)||[]),[S,I]=P.useState((e==null?void 0:e.teamPositions)||{}),[M,z]=P.useState("idle"),L=async()=>{if(t){z("saving");try{const F={name:s,gender:c,isActive:p,teams:v,teamPositions:S};await n(Vf({uid:t.uid,data:F})).unwrap(),z("success"),setTimeout(()=>z("idle"),2e3)}catch(F){console.error(F),z("idle")}}},$=F=>{E(X=>{const Y=X.includes(F),q=Y?X.filter(b=>b!==F):[...X,F];return I(b=>{const A={...b};return Y?delete A[F]:A[F]||(A[F]=[]),A}),q})},G=(F,X)=>{I(Y=>{const q=Y[F]||[],b=q.includes(X)?q.filter(A=>A!==X):[...q,X];return{...Y,[F]:b}})};return e?w.jsxs("section",{className:"profile-card",children:[w.jsx("div",{className:"profile-readonly",children:w.jsxs("p",{children:[w.jsx("strong",{children:"Email:"})," ",e.email]})}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Name"}),w.jsx(Ri,{children:w.jsx("input",{type:"text",value:s,onChange:F=>l(F.target.value),className:"form-input form-input-width-auto"})})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Gender"}),w.jsx(Ri,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(F=>w.jsx(Yn,{colour:F.colour,onClick:()=>d(F.value),isActive:c===F.value,children:F.value},F.value))})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"My Teams"}),w.jsx(Ri,{children:a.map(F=>{const X=v.includes(F.name);return w.jsxs(Yn,{onClick:()=>$(F.name),isActive:X,children:[w.jsx("span",{children:F.emoji})," ",F.name]},F.name)})})]}),v.length>0&&w.jsxs("div",{className:"team-positions-section",children:[w.jsx("label",{className:"section-label",children:"Positions per Team"}),v.map(F=>{var Y,q;const X=a.find(b=>b.name===F);return X?w.jsxs("div",{className:"team-position-group",children:[w.jsxs("div",{className:"team-position-header",children:[X.emoji," ",X.name]}),w.jsx(Ri,{children:(q=(Y=X.positions)==null?void 0:Y.filter(b=>!b.parentId))==null?void 0:q.map(b=>{var R;const A=(R=S[F])==null?void 0:R.includes(b.name);return w.jsxs(Yn,{onClick:()=>G(F,b.name),isActive:A,colour:b.colour,children:[w.jsx("span",{children:b.emoji})," ",b.name]},b.name)})})]},F):null})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Availability Status"}),w.jsx(Yn,{colour:p?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>g(!p),isActive:!0,children:p?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),w.jsx("p",{className:"form-field-hint",children:"Turn off if you want to be hidden from the roster."})]}),w.jsxs("div",{className:"action-container",children:[w.jsx("button",{onClick:L,disabled:M!=="idle",className:`save-button ${M}`,children:M==="saving"?"Saving...":M==="success"?"Done ":"Update Profile"}),w.jsx("button",{onClick:()=>wl.signOut(),className:"logout-btn",children:"Logout"})]})]}):w.jsx("div",{children:"Loading profile..."})},Hk=()=>{const{userData:n,firebaseUser:e,loading:t}=pt(a=>a.auth);return t?w.jsx(Rl,{}):e?n?n.isApproved?w.jsx(as,{to:"/app",replace:!0}):w.jsxs("div",{className:"guest-container",children:[w.jsxs("header",{className:"guest-header",children:[w.jsx("h2",{className:"brand-title",children:"God is Good"}),w.jsx("p",{className:"pending-label",children:"PENDING ADMIN APPROVAL"}),w.jsx("div",{className:"guest-theme-toggle-container",children:w.jsx(_v,{})})]}),w.jsx(n1,{})]}):w.jsx(Rl,{}):w.jsx(as,{to:"/login",replace:!0})},qk=()=>{const{firebaseUser:n,loading:e}=pt(a=>a.auth),t=()=>t4(wl,X4);return e?null:n?w.jsx(as,{to:"/",replace:!0}):w.jsxs("div",{className:"login-container",children:[w.jsxs("header",{className:"login-header",children:[w.jsx("h1",{className:"brand-title",children:"God is Good"}),w.jsx("p",{className:"brand-subtitle",children:"Worship Team Roster"})]}),w.jsx("div",{className:"login-button-container",children:w.jsxs("button",{onClick:t,className:"login-button google",children:[w.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},Gk=()=>{const n=Pi(),e=uo(),{teamName:t,positionName:a}=yd(),{users:s,allTeamUsers:l,rosterDates:c,currentTeamData:d,loadingUsers:p,loadingTeam:g,loadingAllTeamUsers:v,error:E}=pt(se=>se.rosterView),{entries:S,dirtyEntries:I,saving:M,error:z}=pt(se=>se.roster),{teams:L}=pt(se=>se.teams),{positions:$}=pt(se=>se.positions),{hiddenUsers:G}=pt(se=>se.ui),[F,X]=P.useState(null),[Y,q]=P.useState(null),b=Object.keys(I).length>0,A=P.useMemo(()=>$.find(se=>se.name===a),[$,a]),R=P.useMemo(()=>d?d.positions.filter(se=>se.name!==a):[],[d,a]),N=P.useMemo(()=>{var se;return!t||!a?[]:((se=G[t])==null?void 0:se[a])||[]},[G,t,a]),x=P.useMemo(()=>{const se=s.filter(Ee=>Ee.email&&!N.includes(Ee.email));return A!=null&&A.sortByGender?se.sort((Ee,Oe)=>Ee.gender===Oe.gender?(Ee.name||"").localeCompare(Oe.name||""):Ee.gender==="Male"?-1:Oe.gender==="Male"?1:(Ee.gender||"").localeCompare(Oe.gender||"")):se},[s,A,N]),V=P.useMemo(()=>{if(!(A!=null&&A.sortByGender)||x.length===0)return-1;const se=x.findIndex(Ee=>Ee.gender==="Female");return se>0&&se<x.length?se:-1},[A,x]),O=se=>{!t||!a||n(Ek({teamName:t,positionName:a,userEmail:se}))},ke=()=>{n(Mk())},$e=()=>{n(Vk())},W=()=>{n(Pk())},he=se=>{const Ee=se.split("T")[0];me(se)&&e(`/app/dashboard?date=${Ee}`)},me=P.useCallback(se=>{const Ee=se.split("T")[0],Oe=I[Ee]||S[Ee];return Oe?Object.values(Oe.teams).some(Ue=>Object.values(Ue).some(Fe=>Fe.length>0)):!1},[S,I]),Ve=P.useCallback(se=>{if(!Y||!t)return[];const Ee=se.split("T")[0],Oe=I[Ee]||S[Ee];return!Oe||!Oe.teams[t]?[]:Object.entries(Oe.teams[t]).filter(([,Ue])=>Ue.includes(Y)).map(([Ue])=>{const Fe=l.find(be=>be.email===Ue);return(Fe==null?void 0:Fe.name)||Ue})},[Y,t,I,S,l]);P.useEffect(()=>{n(Ju())},[n]),P.useEffect(()=>{a&&t&&a!=="Absence"&&n(xf({teamName:t,positionName:a}))},[a,t,n]),P.useEffect(()=>{t&&(n(Of(t)),n(Nf(t)))},[t,n]);const De=P.useCallback((se,Ee)=>{const Oe=se.split("T")[0],Ue=I[Oe]||S[Oe];return!!(Ue&&Ue.absence&&Ue.absence[Ee])},[I,S]),j=P.useCallback((se,Ee)=>{var Fe,be;const Oe=se.split("T")[0],Ue=I[Oe]||S[Oe];return((be=(Fe=Ue==null?void 0:Ue.absence)==null?void 0:Fe[Ee])==null?void 0:be.reason)||""},[I,S]),ie=P.useCallback((se,Ee)=>{if(!t||!a||a==="Absence")return!1;if(De(se,Ee))return!0;const Oe=se.split("T")[0],Ue=I[Oe]||S[Oe],Fe=L.find(nt=>nt.name===t),be=(Fe==null?void 0:Fe.maxConflict)||1;if(!Ue||!Ue.teams[t]||!Ue.teams[t][Ee])return!1;const Xe=Ue.teams[t][Ee],gt=$.filter(nt=>nt.parentId===a),yt=[a,...gt.map(nt=>nt.name)];return Xe.some(nt=>yt.includes(nt))?!1:Xe.length>=be},[t,a,De,I,S,L,$]),de=P.useCallback((se,Ee,Oe,Ue)=>{if(!t||!a||a==="Absence"||ie(se,Ee)){X({row:Oe,col:Ue,table:"roster"});return}X({row:Oe,col:Ue,table:"roster"});const Fe=L.find(yt=>yt.name===t),be=(Fe==null?void 0:Fe.maxConflict)||1,Xe=$.filter(yt=>yt.parentId===a),gt=[a,...Xe.map(yt=>yt.name)];n(Ik({date:se.split("T")[0],teamName:t,userIdentifier:Ee,positionGroupNames:gt,maxConflict:be}))},[n,t,a,ie,L,$]),ye=P.useCallback((se,Ee,Oe,Ue)=>{X({row:Oe,col:Ue,table:"absence"});const Fe=De(se,Ee);n(yS({date:se.split("T")[0],userIdentifier:Ee,isAbsent:!Fe}))},[n,De]),we=P.useCallback((se,Ee,Oe)=>{n(yS({date:se.split("T")[0],userIdentifier:Ee,reason:Oe,isAbsent:!0}))},[n]),Me=P.useCallback(()=>{n(If(I))},[n,I]),Qe=P.useCallback(()=>{n(Dk()),X(null)},[n]),wt=(se,Ee)=>{var Xe;const Oe=se.split("T")[0],Ue=I[Oe]||S[Oe];if(!Ue||!t)return"-";const Fe=((Xe=Ue.teams[t])==null?void 0:Xe[Ee])||[],be=[];return Object.entries(Ue.teams).forEach(([gt,yt])=>{gt!==t&&yt[Ee]&&be.push({team:gt,positions:yt[Ee]})}),Fe.length===0&&be.length===0?"-":w.jsxs("div",{className:"assigned-positions",children:[Fe.map(gt=>{const yt=$.find(Bt=>Bt.name===gt);return w.jsx("span",{title:`${t}: ${gt}`,className:"pos-emoji",children:(yt==null?void 0:yt.emoji)||""},gt)}),be.map(gt=>gt.positions.map(yt=>{const Bt=$.find(nt=>nt.name===yt);return w.jsx("span",{title:`${gt.team}: ${yt}`,className:"pos-emoji other-team-emoji",children:(Bt==null?void 0:Bt.emoji)||""},`${gt.team}-${yt}`)}))]})};P.useEffect(()=>{const se=Ee=>{const Oe=Ee.target;if(Oe.tagName==="INPUT"||Oe.tagName==="TEXTAREA"||!F)return;const{row:Ue,col:Fe,table:be}=F,Xe=c,gt=be==="roster"?x:l;switch(Ee.key){case"ArrowUp":Ee.preventDefault(),Ue>0&&X({row:Ue-1,col:Fe,table:be});break;case"ArrowDown":Ee.preventDefault(),Ue<Xe.length-1&&X({row:Ue+1,col:Fe,table:be});break;case"ArrowLeft":Ee.preventDefault(),Fe>0&&X({row:Ue,col:Fe-1,table:be});break;case"ArrowRight":Ee.preventDefault(),Fe<gt.length-1&&X({row:Ue,col:Fe+1,table:be});break;case"Tab":Ee.preventDefault(),Ee.shiftKey?Ue>0&&X({row:Ue-1,col:Fe,table:be}):Ue<Xe.length-1&&X({row:Ue+1,col:Fe,table:be});break;case" ":{Ee.preventDefault();const yt=c[Ue],Bt=gt[Fe];Bt!=null&&Bt.email&&(be==="roster"?de(yt,Bt.email,Ue,Fe):ye(yt,Bt.email,Ue,Fe));break}case"Enter":b&&(Ee.preventDefault(),Me());break;case"Escape":b&&(Ee.preventDefault(),Qe());break}};return window.addEventListener("keydown",se),()=>window.removeEventListener("keydown",se)},[F,c,x,l,b,de,ye,Me,Qe]);const vt=P.useMemo(()=>new Date().toISOString().split("T")[0],[]),Ir=P.useMemo(()=>c.length===0?!1:c[0].split("T")[0]<vt,[c,vt]),Yr=P.useCallback(se=>{const Ee=se.split("T")[0];return Ee<vt?"past-date":Ee===vt?"today-date":"future-date"},[vt]);if(p||g||v)return w.jsx(Ll,{});const Lt=E||z;if(Lt)return w.jsxs("div",{className:"roster-table-error",children:["Error: ",Lt]});const An=a==="Absence";return!An&&x.length===0?w.jsx("div",{className:"roster-table-loading",children:"No users found for this position."}):w.jsxs("div",{className:"roster-table-wrapper",children:[!An&&N.length>0&&w.jsxs("div",{className:"hidden-members-bar",children:[w.jsx("span",{className:"hidden-members-label",children:"Hidden Members:"}),w.jsx("div",{className:"hidden-members-list",children:N.map(se=>{const Ee=s.find(Oe=>Oe.email===se);return w.jsxs("button",{className:"unhide-pill",onClick:()=>O(se),title:"Click to unhide",children:[(Ee==null?void 0:Ee.name)||se," ",w.jsx("span",{children:"+"})]},se)})})]}),An?w.jsxs("div",{className:"roster-section absence-section",children:[w.jsx("div",{className:"roster-table-container",children:w.jsxs("table",{className:"roster-table absence-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"roster-table-header-cell sticky-col sticky-header",children:w.jsxs("div",{className:"date-header-content",children:["Date",w.jsxs("div",{className:"date-header-actions",children:[w.jsx("button",{className:"load-prev-btn",onClick:ke,title:"Load 5 previous dates",children:""}),Ir&&w.jsx("button",{className:"load-prev-btn reset-dates-btn",onClick:$e,title:"Hide previous dates",children:""})]})]})}),l.map(se=>w.jsx("th",{className:"roster-table-header-cell sticky-header",children:se.name},se.email)),w.jsx("th",{className:"gender-divider-cell sticky-header"}),w.jsx("th",{className:"roster-table-header-cell sticky-header sticky-right peek-header",children:w.jsxs("select",{className:"peek-selector",value:Y||"",onChange:se=>q(se.target.value||null),children:[w.jsx("option",{value:"",children:"Peek Position..."}),R.map(se=>w.jsxs("option",{value:se.name,children:[se.emoji," ",se.name]},se.name))]})})]})}),w.jsx("tbody",{children:c.map((se,Ee)=>{const Oe=Yr(se),Ue=Oe==="today-date",Fe=me(se);return w.jsxs("tr",{className:`${Oe} ${Fe?"":"no-data"}`,children:[w.jsx("td",{className:`date-cell sticky-col ${Fe?"clickable":""}`,onClick:()=>he(se),children:w.jsxs("div",{className:"date-cell-content",children:[new Date(se).toLocaleDateString(),Ue&&w.jsx("span",{className:"today-badge",children:"TODAY"})]})}),l.map((be,Xe)=>{const gt=(F==null?void 0:F.row)===Ee&&(F==null?void 0:F.col)===Xe&&(F==null?void 0:F.table)==="absence",yt=be.email?De(se,be.email):!1,Bt=be.email?j(se,be.email):"";return w.jsx("td",{className:`roster-cell clickable absence-roster-cell ${gt?"focused":""} ${yt?"absent-cell":""}`,onClick:()=>{be.email&&ye(se,be.email,Ee,Xe)},tabIndex:0,onFocus:()=>X({row:Ee,col:Xe,table:"absence"}),title:Bt,children:yt?w.jsxs("div",{className:"absence-input-container",children:[w.jsx("input",{type:"text",className:"absence-reason-input",value:Bt,placeholder:"Reason...",maxLength:20,autoFocus:gt,onClick:nt=>nt.stopPropagation(),onChange:nt=>{be.email&&we(se,be.email,nt.target.value)}}),w.jsx("button",{className:"remove-absence-btn",onClick:nt=>{nt.stopPropagation(),be.email&&ye(se,be.email,Ee,Xe)},title:"Mark as present",children:""})]}):"-"},be.email)}),w.jsx("td",{className:"gender-divider-cell"}),w.jsx("td",{className:"roster-cell peek-cell sticky-right",children:Ve(se).join(", ")||"-"})]},se)})})]})}),w.jsx("div",{className:"load-more-footer",children:w.jsx("button",{className:"load-next-year-btn",onClick:W,children:"Load Next Year "})})]}):w.jsxs("div",{className:"roster-section",children:[w.jsx("div",{className:"roster-table-container",children:w.jsxs("table",{className:"roster-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"roster-table-header-cell sticky-col sticky-header",children:w.jsxs("div",{className:"date-header-content",children:["Date",w.jsxs("div",{className:"date-header-actions",children:[w.jsx("button",{className:"load-prev-btn",onClick:ke,title:"Load 5 previous dates",children:""}),Ir&&w.jsx("button",{className:"load-prev-btn reset-dates-btn",onClick:$e,title:"Hide previous dates",children:""})]})]})}),x.map((se,Ee)=>w.jsxs(P.Fragment,{children:[V===Ee&&w.jsx("th",{className:"gender-divider-cell sticky-header"}),w.jsxs("th",{className:"roster-table-header-cell sticky-header clickable-header",onClick:()=>se.email&&O(se.email),title:"Click to hide member",children:[se.name,(A==null?void 0:A.sortByGender)&&w.jsxs("span",{className:"gender-label",children:["(",se.gender==="Male"?"M":se.gender==="Female"?"F":"?",")"]})]})]},se.email)),w.jsx("th",{className:"gender-divider-cell sticky-header"}),w.jsx("th",{className:"roster-table-header-cell sticky-header sticky-right peek-header",children:w.jsxs("select",{className:"peek-selector",value:Y||"",onChange:se=>q(se.target.value||null),children:[w.jsx("option",{value:"",children:"Peek Position..."}),R.map(se=>w.jsxs("option",{value:se.name,children:[se.emoji," ",se.name]},se.name))]})})]})}),w.jsx("tbody",{children:c.map((se,Ee)=>{const Oe=Yr(se),Ue=Oe==="today-date",Fe=me(se);return w.jsxs("tr",{className:`${Oe} ${Fe?"":"no-data"}`,children:[w.jsx("td",{className:`date-cell sticky-col ${Fe?"clickable":""}`,onClick:()=>he(se),children:w.jsxs("div",{className:"date-cell-content",children:[new Date(se).toLocaleDateString(),Ue&&w.jsx("span",{className:"today-badge",children:"TODAY"})]})}),x.map((be,Xe)=>{const gt=(F==null?void 0:F.row)===Ee&&(F==null?void 0:F.col)===Xe&&(F==null?void 0:F.table)==="roster",yt=be.email?ie(se,be.email):!1,Bt=be.email?De(se,be.email):!1;return w.jsxs(P.Fragment,{children:[V===Xe&&w.jsx("td",{className:"gender-divider-cell"}),w.jsx("td",{className:`roster-cell ${yt?"disabled":"clickable"} ${gt?"focused":""} ${Bt?"absent-strike":""}`,onClick:()=>{be.email&&!yt&&de(se,be.email,Ee,Xe)},tabIndex:0,onFocus:()=>X({row:Ee,col:Xe,table:"roster"}),children:be.email&&(Bt?w.jsx("span",{title:j(se,be.email),children:""}):wt(se,be.email))})]},be.email)}),w.jsx("td",{className:"gender-divider-cell"}),w.jsx("td",{className:"roster-cell peek-cell sticky-right",children:Ve(se).join(", ")||"-"})]},se)})})]})}),w.jsx("div",{className:"load-more-footer",children:w.jsx("button",{className:"load-next-year-btn",onClick:W,children:"Load Next Year "})})]}),b&&w.jsx("div",{className:"roster-save-footer",children:w.jsxs("div",{className:"save-footer-content",children:[w.jsx("span",{className:"changes-label",children:"You have unsaved changes"}),w.jsxs("div",{className:"save-footer-actions",children:[w.jsx("button",{className:"cancel-btn",onClick:Qe,disabled:M,children:"Discard"}),w.jsx("button",{className:"save-btn",onClick:Me,disabled:M,children:M?"Saving...":"Save Roster"})]})]})})]})},$k=()=>w.jsx("div",{className:"roster-page",style:{height:"100%"},children:w.jsx(Gk,{})}),Kk=({text:n,textAlign:e="left",width:t,minWidth:a,isSticky:s=!1})=>w.jsx("th",{className:s?"sticky-col":void 0,style:{textAlign:e,width:t?`${t}px`:"auto",minWidth:a?`${a}px`:"auto"},children:n}),on=({isSticky:n=!1,textAlign:e="left",className:t,children:a})=>w.jsx("td",{style:{textAlign:e},className:`${t||""} ${n?"sticky-col":""}
`,children:a}),Fr=({name:n,value:e,placeholder:t,type:a="text",isSticky:s,isReadOnly:l=!1,isChild:c=!1,onChange:d})=>w.jsxs(on,{isSticky:s,children:[c&&w.jsx(QR,{}),w.jsx("input",{name:n,className:"form-input",type:a,placeholder:t,value:e,onChange:d,readOnly:l})]}),vS=({name:n,value:e,placeholder:t,onChange:a})=>w.jsxs(on,{className:"color-picker-group",children:[w.jsx("input",{name:n,type:"color",value:e||"#FFFFFF",onChange:a}),w.jsx("input",{name:n,className:"form-input",value:e,placeholder:t,onChange:a})]}),Ev=({headers:n,children:e})=>w.jsx("div",{className:"app-table-container",children:w.jsxs("table",{className:"app-table",children:[w.jsx("thead",{children:w.jsx("tr",{children:n.map((t,a)=>w.jsx(Kk,{...t},a))})}),w.jsx("tbody",{children:e})]})}),Sg={name:"",emoji:"",colour:"",parentId:void 0,sortByGender:!1},Yk=()=>{const n=Pi(),{positions:e,fetched:t,loading:a}=pt(L=>L.positions),[s,l]=P.useState(e),[c,d]=P.useState(Sg),[p,g]=P.useState("idle");P.useEffect(()=>{t||n(to())},[n,t]),P.useEffect(()=>{l(e)},[e]);const v=(L,$,G)=>{const F=[...s];F[L]={...F[L],[$]:G},l(F)},E=(L,$)=>{const G=[...s],F=G[L],X=F.parentId,Y=q=>{const b=G[q];if(!b)return{block:[],startIndex:-1,endIndex:-1};const A=[],R=[b],N=new Set;let x=q,V=q,O=0;for(;O<R.length;){const $e=R[O++];N.has($e.name)||(N.add($e.name),A.push($e),G.forEach((W,he)=>{W.parentId===$e.name&&!N.has(W.name)&&(R.push(W),x=Math.min(x,he),V=Math.max(V,he))}))}return{block:A,startIndex:x,endIndex:V}};if(X){const q=G.filter(O=>O.parentId===X),A=q.findIndex(O=>O.name===F.name)+($==="up"?-1:1);if(A<0||A>=q.length)return;const R=q[A],N=G.indexOf(F),x=G.indexOf(R);if(N===-1||x===-1)return;const V=[...G];V[N]=R,V[x]=F,l(V)}else{const q=Y(L),{block:b,startIndex:A,endIndex:R}=q;if(!b||b.length===0)return;if($==="up"){if(A===0)return;let N=A-1;for(;N>=0&&G[N].parentId;)N--;if(N<0)return;const x=Y(N),{block:V,startIndex:O}=x;if(!V||V.length===0)return;const ke=[...G.slice(0,O),...b,...V,...G.slice(R+1)].filter(Boolean);l(ke)}else{if(R===G.length-1)return;let N=R+1;for(;N<G.length&&G[N].parentId;)N++;if(N>=G.length)return;const x=Y(N),{block:V,startIndex:O}=x;if(!V||V.length===0)return;const ke=[...G.slice(0,A),...V,...b,...G.slice(O+V.length)].filter(Boolean);l(ke)}}},S=()=>{if(!c.name.trim()||!c.emoji.trim())return alert("Please provide both an emoji and a name.");l([...s,c]),d(Sg)},I=L=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const $=s[L];let G=s.filter((F,X)=>X!==L);$.parentId||(G=G.filter(F=>F.parentId!==$.name)),l(G)}},M=async()=>{g("saving");try{const L=s.map($=>({...$,parentId:$.parentId===void 0?void 0:$.parentId}));await n(GR(L)).unwrap(),g("success"),setTimeout(()=>g("idle"),2e3)}catch(L){console.error("Save Error:",L),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),g("idle")}},z=L=>{l($=>{const G={...Sg,parentId:L},F=$.findIndex(q=>q.name===L);if(F===-1)return[...$,G];let X=F;for(;X+1<$.length&&$[X+1].parentId===L;)X++;return[...$.slice(0,X+1),G,...$.slice(X+1)]})};return a?w.jsx(Ll,{}):w.jsxs(w.Fragment,{children:[w.jsxs(Ev,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:80},{text:"Colour",minWidth:100},{text:"Sort by Gender",width:100,textAlign:"center"},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[s.map((L,$)=>w.jsxs("tr",{children:[w.jsx(on,{textAlign:"center",children:L.parentId?w.jsx(QR,{}):w.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[w.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>E($,"up"),disabled:$===0,children:""}),w.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>E($,"down"),disabled:$===s.length-1,children:""})]})}),w.jsx(Fr,{name:`emoji-${$}`,value:L.emoji,onChange:G=>v($,"emoji",G.target.value)}),w.jsx(Fr,{name:`name-${$}`,value:L.name,onChange:G=>v($,"name",G.target.value)}),w.jsx(vS,{name:`colour-${$}`,value:L.colour,onChange:G=>v($,"colour",G.target.value)}),w.jsx(on,{textAlign:"center",children:w.jsx(Yn,{colour:L.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:L.sortByGender,onClick:()=>v($,"sortByGender",!L.sortByGender),children:L.sortByGender?"YES":"NO"})}),w.jsx(on,{textAlign:"center",children:!L.parentId&&w.jsx("button",{className:"icon-button icon-button--add-child",onClick:()=>z(L.name),title:"Add Child Position",children:"+"})}),w.jsx(on,{textAlign:"center",children:w.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>I($),children:""})})]},`${L.emoji}-${$}`)),w.jsxs("tr",{className:"pos-row-new",children:[w.jsx("td",{className:"",children:""}),w.jsx(Fr,{name:"new-emoji",value:c.emoji,placeholder:"",onChange:L=>d({...c,emoji:L.target.value})}),w.jsx(Fr,{name:"new-name",value:c.name,placeholder:"Position Name",onChange:L=>d({...c,name:L.target.value})}),w.jsx(vS,{name:"new-colour",value:c.colour,placeholder:"#FFFFFF",onChange:L=>d({...c,colour:L.target.value})}),w.jsx(on,{textAlign:"center",children:w.jsx(Yn,{colour:c.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:c.sortByGender,onClick:()=>d({...c,sortByGender:!c.sortByGender}),children:c.sortByGender?"YES":"NO"})}),w.jsx(on,{textAlign:"center",children:w.jsx("button",{onClick:S,className:"icon-button icon-button--add",disabled:!c.name.trim()||!c.emoji.trim(),children:"Add"})})]})]}),w.jsx("div",{className:"settings-footer",children:w.jsx("button",{className:`save-button ${p}`,onClick:M,disabled:p!=="idle",children:p==="saving"?"Saving...":p==="success"?"Done ":"Save"})})]})},_S={name:"",emoji:"",positions:[],preferredDays:[],maxConflict:1},ES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Qk=()=>{var X,Y;const n=Pi(),{teams:e,fetched:t,loading:a}=pt(q=>q.teams),{positions:s,fetched:l,loading:c}=pt(q=>q.positions),[d,p]=P.useState(e),[g,v]=P.useState(_S),[E,S]=P.useState("idle");P.useEffect(()=>{t||n(pl()),l||n(to())},[n,t,l]),P.useEffect(()=>{p(e)},[e]);const I=(q,b,A)=>{const R=[...d];R[q]={...R[q],[b]:A},p(R)},M=(q,b)=>{const A=[...d],R=b==="up"?q-1:q+1;if(R<0||R>=A.length)return;const N=A[q];A[q]=A[R],A[R]=N,p(A)},z=(q,b)=>{const A=d.map((R,N)=>{if(N!==q)return R;const x=R.positions||[],V=x.find(O=>O.name===b.name)?x.filter(O=>O.name!==b.name):[...x,b];return{...R,positions:V}});p(A)},L=(q,b)=>{const A=d.map((R,N)=>{if(N!==q)return R;const x=R.preferredDays||[],V=x.includes(b)?x.filter(O=>O!==b):[...x,b];return{...R,preferredDays:V}});p(A)},$=()=>{if(!g.name.trim()||!g.emoji.trim())return alert("Please provide both an emoji and a name for the team.");p([...d,g]),v(_S)},G=q=>{window.confirm("Are you sure you want to delete this team?")&&p(d.filter((b,A)=>A!==q))},F=async()=>{S("saving");try{await n(Cf(d)).unwrap(),S("success"),setTimeout(()=>S("idle"),2e3)}catch(q){console.error("Save Error:",q),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),S("idle")}};return a||c?w.jsx(Ll,{}):w.jsxs(w.Fragment,{children:[w.jsxs(Ev,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:100},{text:"Conflicts",width:60,textAlign:"center"},{text:"Allowed Positions",minWidth:200},{text:"Preferred Days",minWidth:250},{text:"",width:50}],children:[d.map((q,b)=>{var A,R;return w.jsxs("tr",{children:[w.jsxs(on,{children:[" ",w.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[w.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>M(b,"up"),disabled:b===0,children:""}),w.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>M(b,"down"),disabled:b===d.length-1,children:""})]})]}),w.jsx(Fr,{name:`team-emoji-${b}`,value:q.emoji,onChange:N=>I(b,"emoji",N.target.value)}),w.jsx(Fr,{name:`team-name-${b}`,value:q.name,onChange:N=>I(b,"name",N.target.value)}),w.jsx(Fr,{name:`team-maxConflict-${b}`,value:((A=q.maxConflict)==null?void 0:A.toString())||"1",type:"number",onChange:N=>I(b,"maxConflict",parseInt(N.target.value)||1)}),w.jsx(on,{children:w.jsx(Ri,{nowrap:!0,children:(R=s==null?void 0:s.filter(N=>!N.parentId))==null?void 0:R.map(N=>{var V;const x=(V=q.positions)==null?void 0:V.some(O=>O.name===N.name);return w.jsx(Yn,{colour:N.colour,isActive:x,onClick:()=>z(b,N),children:N.emoji},N.name)})})}),w.jsx(on,{children:w.jsx(Ri,{nowrap:!0,children:ES.map(N=>{var V;const x=(V=q.preferredDays)==null?void 0:V.includes(N);return w.jsx(Yn,{isActive:x,onClick:()=>L(b,N),children:N.substring(0,3)},N)})})}),w.jsx(on,{children:w.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>G(b),children:""})})]},`${q.emoji}-${b}`)}),w.jsxs("tr",{className:"team-row-new",children:[w.jsx("td",{className:"",children:""}),w.jsx(Fr,{name:"new-team-emoji",value:g.emoji,placeholder:"",onChange:q=>v({...g,emoji:q.target.value})}),w.jsx(Fr,{name:"new-team-name",value:g.name,placeholder:"Team Name",onChange:q=>v({...g,name:q.target.value})}),w.jsx(Fr,{name:"new-team-maxConflict",value:((X=g.maxConflict)==null?void 0:X.toString())||"1",type:"number",onChange:q=>v({...g,maxConflict:parseInt(q.target.value)||1})}),w.jsx(on,{children:w.jsx(Ri,{nowrap:!0,children:(Y=s==null?void 0:s.filter(q=>!q.parentId))==null?void 0:Y.map(q=>{var A;const b=(A=g.positions)==null?void 0:A.some(R=>R.name===q.name);return w.jsx(Yn,{colour:q.colour,isActive:b,onClick:()=>v(R=>{const N=R.positions||[],x=N.some(V=>V.name===q.name)?N.filter(V=>V.name!==q.name):[...N,q];return{...R,positions:x}}),children:q.emoji},`new-${q.name}`)})})}),w.jsx(on,{children:w.jsx(Ri,{nowrap:!0,children:ES.map(q=>{var A;const b=(A=g.preferredDays)==null?void 0:A.includes(q);return w.jsx(Yn,{isActive:b,onClick:()=>v(R=>{const N=R.preferredDays||[],x=N.includes(q)?N.filter(V=>V!==q):[...N,q];return{...R,preferredDays:x}}),children:q.substring(0,3)},`new-team-${q}`)})})}),w.jsx(on,{children:w.jsx("button",{onClick:$,className:"icon-button icon-button--add",disabled:!g.name.trim()||!g.emoji.trim(),children:"+"})})]})]}),w.jsx("div",{className:"settings-footer",children:w.jsx("button",{className:`save-button ${E}`,onClick:F,disabled:E!=="idle",children:E==="saving"?"Saving...":E==="success"?"Done ":"Save All Team Changes"})})]})},Xk={allUsers:[],loading:!1,saving:!1,error:null},Pf=Cr("userManagement/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=wc(_n,"users"),a=Ic(t),s=await Nc(a),l=[];return s.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch all users")}}),Lf=Cr("userManagement/saveAllChanges",async(n,{rejectWithValue:e})=>{try{const t=Jw(_n);n.forEach(a=>{const{id:s,...l}=a;l.teamPositions&&(l.indexedAssignments=e1(l.teamPositions)),t.update(Gr(_n,"users",s),l)}),await t.commit();return}catch(t){return e(t instanceof Error?t.message:"Failed to save changes")}}),r1=mo({name:"userManagement",initialState:Xk,reducers:{updateUserField(n,e){const{id:t,field:a,value:s}=e.payload,l=n.allUsers.find(c=>c.id===t);l&&(l[a]=s)},toggleUserTeam(n,e){const{userId:t,teamName:a}=e.payload,s=n.allUsers.find(l=>l.id===t);if(s){const l=s.teams||[],c=l.includes(a)?l.filter(d=>d!==a):[...l,a];s.teams=c,s.teamPositions||(s.teamPositions={}),c.includes(a)?s.teamPositions[a]||(s.teamPositions[a]=[]):delete s.teamPositions[a]}},toggleUserTeamPosition(n,e){const{userId:t,teamName:a,posName:s}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l){l.teamPositions||(l.teamPositions={}),l.teamPositions[a]||(l.teamPositions[a]=[]);const c=l.teamPositions[a],d=c.includes(s)?c.filter(p=>p!==s):[...c,s];l.teamPositions[a]=d}}},extraReducers:n=>{n.addCase(Pf.pending,e=>{e.loading=!0,e.error=null}).addCase(Pf.fulfilled,(e,t)=>{e.allUsers=t.payload,e.loading=!1}).addCase(Pf.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Lf.pending,e=>{e.saving=!0,e.error=null}).addCase(Lf.fulfilled,e=>{e.saving=!1}).addCase(Lf.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{updateUserField:Wk,toggleUserTeam:Jk,toggleUserTeamPosition:Zk}=r1.actions,eU=r1.reducer,tU=({user:n,availableTeams:e,adminEmail:t})=>{var d;const a=Pi(),s=(p,g)=>{a(Wk({id:n.id,field:p,value:g}))},l=p=>{a(Jk({userId:n.id,teamName:p}))},c=(p,g)=>{a(Zk({userId:n.id,teamName:p,posName:g}))};return w.jsxs("tr",{children:[w.jsx(Fr,{name:`name-${n.id}`,value:n.name||"",onChange:p=>s("name",p.target.value),isSticky:!0}),w.jsx(Fr,{name:`email-${n.id}`,value:n.email||"",isReadOnly:!0}),w.jsx(on,{children:w.jsxs("select",{name:`gender-${n.id}`,className:"form-select",value:n.gender,onChange:p=>s("gender",p.target.value),children:[w.jsx("option",{value:"",children:"-"}),w.jsx("option",{value:"Male",children:"Male"}),w.jsx("option",{value:"Female",children:"Female"})]})}),w.jsx(on,{children:w.jsx(Ri,{children:e.map(p=>{var v;const g=(v=n.teams)==null?void 0:v.includes(p.name);return w.jsxs(Yn,{onClick:()=>l(p.name),isActive:g,children:[w.jsx("span",{children:p.emoji})," ",p.name]},p.name)})})}),w.jsx(on,{children:(d=n.teams)==null?void 0:d.map(p=>{var v,E;const g=e.find(S=>S.name===p);return g?w.jsxs("div",{style:{marginBottom:"12px"},children:[w.jsxs("div",{style:{fontSize:"0.65rem",fontWeight:"bold",marginBottom:"4px",color:"var(--color-text-dim)",textTransform:"uppercase"},children:[g.emoji," ",g.name]}),w.jsx(Ri,{children:(E=(v=g.positions)==null?void 0:v.filter(S=>!S.parentId))==null?void 0:E.map(S=>{var M,z;const I=(z=(M=n.teamPositions)==null?void 0:M[p])==null?void 0:z.includes(S.name);return w.jsx(Yn,{colour:S.colour,isActive:I,onClick:()=>c(p,S.name),children:S.emoji},S.name)})})]},p):null})}),w.jsx(on,{children:w.jsx(Yn,{colour:n.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>s("isActive",!n.isActive),isActive:!0,children:n.isActive?"YES":"NO"})}),w.jsx(on,{children:w.jsx(Yn,{colour:n.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>s("isApproved",!n.isApproved),isActive:!0,children:n.isApproved?"YES":"NO"})}),w.jsx(on,{children:w.jsx(Yn,{colour:n.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>s("isAdmin",!n.isAdmin),isActive:!0,isDisabled:n.email===t,children:n.isAdmin?"YES":"NO"})})]},n.id)},nU=()=>{const n=Pi(),{allUsers:e,loading:t,saving:a,error:s}=pt(d=>d.userManagement),l=pt(d=>d.teams.teams);P.useEffect(()=>{n(Pf())},[n]);const c=()=>{n(Lf(e))};return t?w.jsx(Ll,{}):s?w.jsxs("div",{children:["Error: ",s]}):w.jsxs(w.Fragment,{children:[w.jsx(Ev,{headers:[{text:"Name",minWidth:70,isSticky:!0},{text:"Email",minWidth:170},{text:"Gender",minWidth:90},{text:"Teams",minWidth:200},{text:"Positions",minWidth:200},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:e.map(d=>w.jsx(tU,{user:d,availableTeams:l,adminEmail:"chris.sm.kang542@gmail.com"},d.id))}),w.jsx("div",{className:"settings-footer",children:w.jsx("button",{className:`save-button ${a?"saving":""}`,onClick:c,disabled:a,children:a?"Saving Changes...":"Save All User Changes"})})]})},rU=()=>{const{userData:n}=pt(t=>t.auth),{section:e}=yd();return n?w.jsxs("div",{className:"settings-container",children:[e===ll.PROFILE&&w.jsx(n1,{}),e===ll.USER_MANAGEMENT&&(n.isAdmin?w.jsx(nU,{}):w.jsx("p",{children:"Access Denied"})),e===ll.TEAMS&&(n.isAdmin?w.jsx(Qk,{}):w.jsx("p",{children:"Access Denied"})),e===ll.POSITIONS&&(n.isAdmin?w.jsx(Yk,{}):w.jsx("p",{children:"Access Denied"}))]}):null},iU=[{path:"/",element:w.jsx(J4,{})},{path:"/login",element:w.jsx(qk,{})},{path:"/guest",element:w.jsx(Hk,{})},{path:"/app",element:w.jsx(ek,{}),children:[{path:"",element:w.jsx(Rk,{}),children:[{path:"dashboard",element:w.jsx(kk,{})},{path:"roster/:teamName?/:positionName?",element:w.jsx($k,{})},{path:"settings/:section?",element:w.jsx(rU,{})}]}]}];let TS=!1;const aU=n=>{if(!TS){TS=!0;let e;PP(wl,t=>{if(t){n.dispatch(jk(t)),n.dispatch(Mf(t.uid));const a=Gr(_n,"users",t.uid);e=GV(a,s=>{if(s.exists()){const l=s.data();n.dispatch(zk(l))}})}else n.dispatch(Bk()),e&&e()})}return e=>t=>e(t)},sU=DL({reducer:{auth:Fk,positions:WL,roster:Nk,rosterView:Lk,teams:ZL,ui:Tk,userManagement:eU},middleware:n=>n({serializableCheck:{ignoredActions:["auth/setUser","roster/fetchEntries/fulfilled","roster/saveChanges/fulfilled"],ignoredPaths:["auth.firebaseUser","roster.entries","roster.dirtyEntries","rosterView.users","rosterView.allTeamUsers"]}}).concat(aU)}),oU=IN(iU);KC.createRoot(document.getElementById("root")).render(w.jsx(SS.StrictMode,{children:w.jsx(lI,{store:sU,children:w.jsx(qN,{children:w.jsx(W4,{children:w.jsx(FN,{router:oU})})})})}));
