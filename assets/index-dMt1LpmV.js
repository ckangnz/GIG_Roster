(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Kv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var gd={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function HA(){if(m_)return ol;m_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return ol.Fragment=t,ol.jsx=i,ol.jsxs=i,ol}var g_;function jA(){return g_||(g_=1,gd.exports=HA()),gd.exports}var on=jA(),pd={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function GA(){if(p_)return pt;p_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),V=Symbol.iterator;function G(N){return N===null||typeof N!="object"?null:(N=V&&N[V]||N["@@iterator"],typeof N=="function"?N:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function ft(N,K,W){this.props=N,this.context=K,this.refs=tt,this.updater=W||Z}ft.prototype.isReactComponent={},ft.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},ft.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _t(){}_t.prototype=ft.prototype;function vt(N,K,W){this.props=N,this.context=K,this.refs=tt,this.updater=W||Z}var Xt=vt.prototype=new _t;Xt.constructor=vt,et(Xt,ft.prototype),Xt.isPureReactComponent=!0;var te=Array.isArray;function Pt(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(N,K,W){var it=W.ref;return{$$typeof:a,type:N,key:K,ref:it!==void 0?it:null,props:W}}function M(N,K){return I(N.type,K,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function L(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(W){return K[W]})}var R=/\/+/g;function ee(N,K){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):K.toString(36)}function Re(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Pt,Pt):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function j(N,K,W,it,mt){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Vt=!1;if(N===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(N.$$typeof){case a:case t:Vt=!0;break;case A:return Vt=N._init,j(Vt(N._payload),K,W,it,mt)}}if(Vt)return mt=mt(N),Vt=it===""?"."+ee(N,0):it,te(mt)?(W="",Vt!=null&&(W=Vt.replace(R,"$&/")+"/"),j(mt,K,W,"",function(Jr){return Jr})):mt!=null&&(O(mt)&&(mt=M(mt,W+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(R,"$&/")+"/")+Vt)),K.push(mt)),1;Vt=0;var we=it===""?".":it+":";if(te(N))for(var ne=0;ne<N.length;ne++)it=N[ne],At=we+ee(it,ne),Vt+=j(it,K,W,At,mt);else if(ne=G(N),typeof ne=="function")for(N=ne.call(N),ne=0;!(it=N.next()).done;)it=it.value,At=we+ee(it,ne++),Vt+=j(it,K,W,At,mt);else if(At==="object"){if(typeof N.then=="function")return j(Re(N),K,W,it,mt);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function $(N,K,W){if(N==null)return N;var it=[],mt=0;return j(N,it,"","",function(At){return K.call(W,At,mt++)}),it}function lt(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(W){(N._status===0||N._status===-1)&&(N._status=1,N._result=W)},function(W){(N._status===0||N._status===-1)&&(N._status=2,N._result=W)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var Ut=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},qt={map:$,forEach:function(N,K,W){$(N,function(){K.apply(this,arguments)},W)},count:function(N){var K=0;return $(N,function(){K++}),K},toArray:function(N){return $(N,function(K){return K})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return pt.Activity=b,pt.Children=qt,pt.Component=ft,pt.Fragment=i,pt.Profiler=l,pt.PureComponent=vt,pt.StrictMode=s,pt.Suspense=_,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,pt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},pt.cache=function(N){return function(){return N.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(N,K,W){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=et({},N.props),mt=N.key;if(K!=null)for(At in K.key!==void 0&&(mt=""+K.key),K)!S.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(it[At]=K[At]);var At=arguments.length-2;if(At===1)it.children=W;else if(1<At){for(var Vt=Array(At),we=0;we<At;we++)Vt[we]=arguments[we+2];it.children=Vt}return I(N.type,mt,it)},pt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},pt.createElement=function(N,K,W){var it,mt={},At=null;if(K!=null)for(it in K.key!==void 0&&(At=""+K.key),K)S.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=K[it]);var Vt=arguments.length-2;if(Vt===1)mt.children=W;else if(1<Vt){for(var we=Array(Vt),ne=0;ne<Vt;ne++)we[ne]=arguments[ne+2];mt.children=we}if(N&&N.defaultProps)for(it in Vt=N.defaultProps,Vt)mt[it]===void 0&&(mt[it]=Vt[it]);return I(N,At,mt)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(N){return{$$typeof:p,render:N}},pt.isValidElement=O,pt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:lt}},pt.memo=function(N,K){return{$$typeof:v,type:N,compare:K===void 0?null:K}},pt.startTransition=function(N){var K=C.T,W={};C.T=W;try{var it=N(),mt=C.S;mt!==null&&mt(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Pt,Ut)}catch(At){Ut(At)}finally{K!==null&&W.types!==null&&(K.types=W.types),C.T=K}},pt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},pt.use=function(N){return C.H.use(N)},pt.useActionState=function(N,K,W){return C.H.useActionState(N,K,W)},pt.useCallback=function(N,K){return C.H.useCallback(N,K)},pt.useContext=function(N){return C.H.useContext(N)},pt.useDebugValue=function(){},pt.useDeferredValue=function(N,K){return C.H.useDeferredValue(N,K)},pt.useEffect=function(N,K){return C.H.useEffect(N,K)},pt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},pt.useId=function(){return C.H.useId()},pt.useImperativeHandle=function(N,K,W){return C.H.useImperativeHandle(N,K,W)},pt.useInsertionEffect=function(N,K){return C.H.useInsertionEffect(N,K)},pt.useLayoutEffect=function(N,K){return C.H.useLayoutEffect(N,K)},pt.useMemo=function(N,K){return C.H.useMemo(N,K)},pt.useOptimistic=function(N,K){return C.H.useOptimistic(N,K)},pt.useReducer=function(N,K,W){return C.H.useReducer(N,K,W)},pt.useRef=function(N){return C.H.useRef(N)},pt.useState=function(N){return C.H.useState(N)},pt.useSyncExternalStore=function(N,K,W){return C.H.useSyncExternalStore(N,K,W)},pt.useTransition=function(){return C.H.useTransition()},pt.version="19.2.4",pt}var y_;function im(){return y_||(y_=1,pd.exports=GA()),pd.exports}var cl=im();const FA=Kv(cl);var yd={exports:{}},ll={},_d={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function QA(){return __||(__=1,(function(a){function t(j,$){var lt=j.length;j.push($);t:for(;0<lt;){var Ut=lt-1>>>1,qt=j[Ut];if(0<l(qt,$))j[Ut]=$,j[lt]=qt,lt=Ut;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var $=j[0],lt=j.pop();if(lt!==$){j[0]=lt;t:for(var Ut=0,qt=j.length,N=qt>>>1;Ut<N;){var K=2*(Ut+1)-1,W=j[K],it=K+1,mt=j[it];if(0>l(W,lt))it<qt&&0>l(mt,W)?(j[Ut]=mt,j[it]=lt,Ut=it):(j[Ut]=W,j[K]=lt,Ut=K);else if(it<qt&&0>l(mt,lt))j[Ut]=mt,j[it]=lt,Ut=it;else break t}}return $}function l(j,$){var lt=j.sortIndex-$.sortIndex;return lt!==0?lt:j.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,b=null,V=3,G=!1,Z=!1,et=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;function Xt(j){for(var $=i(v);$!==null;){if($.callback===null)s(v);else if($.startTime<=j)s(v),$.sortIndex=$.expirationTime,t(_,$);else break;$=i(v)}}function te(j){if(et=!1,Xt(j),!Z)if(i(_)!==null)Z=!0,Pt||(Pt=!0,L());else{var $=i(v);$!==null&&Re(te,$.startTime-j)}}var Pt=!1,C=-1,S=5,I=-1;function M(){return tt?!0:!(a.unstable_now()-I<S)}function O(){if(tt=!1,Pt){var j=a.unstable_now();I=j;var $=!0;try{t:{Z=!1,et&&(et=!1,_t(C),C=-1),G=!0;var lt=V;try{e:{for(Xt(j),b=i(_);b!==null&&!(b.expirationTime>j&&M());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,V=b.priorityLevel;var qt=Ut(b.expirationTime<=j);if(j=a.unstable_now(),typeof qt=="function"){b.callback=qt,Xt(j),$=!0;break e}b===i(_)&&s(_),Xt(j)}else s(_);b=i(_)}if(b!==null)$=!0;else{var N=i(v);N!==null&&Re(te,N.startTime-j),$=!1}}break t}finally{b=null,V=lt,G=!1}$=void 0}}finally{$?L():Pt=!1}}}var L;if(typeof vt=="function")L=function(){vt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=O,L=function(){ee.postMessage(null)}}else L=function(){ft(O,0)};function Re(j,$){C=ft(function(){j(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(j){switch(V){case 1:case 2:case 3:var $=3;break;default:$=V}var lt=V;V=$;try{return j()}finally{V=lt}},a.unstable_requestPaint=function(){tt=!0},a.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var lt=V;V=j;try{return $()}finally{V=lt}},a.unstable_scheduleCallback=function(j,$,lt){var Ut=a.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Ut+lt:Ut):lt=Ut,j){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=lt+qt,j={id:A++,callback:$,priorityLevel:j,startTime:lt,expirationTime:qt,sortIndex:-1},lt>Ut?(j.sortIndex=lt,t(v,j),i(_)===null&&j===i(v)&&(et?(_t(C),C=-1):et=!0,Re(te,lt-Ut))):(j.sortIndex=qt,t(_,j),Z||G||(Z=!0,Pt||(Pt=!0,L()))),j},a.unstable_shouldYield=M,a.unstable_wrapCallback=function(j){var $=V;return function(){var lt=V;V=$;try{return j.apply(this,arguments)}finally{V=lt}}}})(vd)),vd}var v_;function KA(){return v_||(v_=1,_d.exports=QA()),_d.exports}var Ed={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function YA(){if(E_)return Fe;E_=1;var a=im();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:v,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(_,v,null,A)},Fe.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},Fe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},Fe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Fe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:V,fetchPriority:G}):A==="script"&&s.d.X(_,{crossOrigin:b,integrity:V,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},Fe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},Fe.requestFormReset=function(_){s.d.r(_)},Fe.unstable_batchedUpdates=function(_,v){return _(v)},Fe.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.4",Fe}var T_;function XA(){if(T_)return Ed.exports;T_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ed.exports=YA(),Ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function JA(){if(A_)return ll;A_=1;var a=KA(),t=im(),i=XA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),vt=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case te:return"Suspense";case Pt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case vt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var Re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function N(e){return{current:e}}function K(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function W(e,n){qt++,Ut[qt]=e.current,e.current=n}var it=N(null),mt=N(null),At=N(null),Vt=N(null);function we(e,n){switch(W(At,n),W(mt,e),W(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(it),W(it,e)}function ne(){K(it),K(mt),K(At)}function Jr(e){e.memoizedState!==null&&W(Vt,e);var n=it.current,r=ky(n,e.type);n!==r&&(W(mt,e),W(it,r))}function qs(e){mt.current===e&&(K(it),K(mt)),Vt.current===e&&(K(Vt),il._currentValue=lt)}var Hs,js;function Zn(e){if(Hs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Hs=n&&n[1]||"",js=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+e+js}var no=!1;function Zr(e,n){if(!e||no)return"";no=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),k=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===k.length)for(o=w.length-1,h=k.length-1;1<=o&&0<=h&&w[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==k[h]){var H=`
`+w[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{no=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Zn(r):""}function io(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Zr(e.type,!1);case 11:return Zr(e.type.render,!1);case 1:return Zr(e.type,!0);case 31:return Zn("Activity");default:return""}}function ro(e){try{var n="",r=null;do n+=io(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var me=Object.prototype.hasOwnProperty,Ie=a.unstable_scheduleCallback,er=a.unstable_cancelCallback,ph=a.unstable_shouldYield,Hl=a.unstable_requestPaint,Je=a.unstable_now,$r=a.unstable_getCurrentPriorityLevel,so=a.unstable_ImmediatePriority,ao=a.unstable_UserBlockingPriority,nr=a.unstable_NormalPriority,yh=a.unstable_LowPriority,jl=a.unstable_IdlePriority,Gl=a.log,Fl=a.unstable_setDisableYieldValue,Mn=null,xe=null;function _n(e){if(typeof Gl=="function"&&Fl(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Mn,e)}catch{}}var ue=Math.clz32?Math.clz32:Kl,Ql=Math.log,Gs=Math.LN2;function Kl(e){return e>>>=0,e===0?32:31-(Ql(e)/Gs|0)|0}var $n=256,Wr=262144,ge=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):r||(r=E&~e,r!==0&&(h=Wn(r))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):r||(r=o&~e,r!==0&&(h=Wn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _h(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var e=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),e}function ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ts(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,k=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-ue(r),Q=1<<H;E[H]=0,w[H]=-1;var z=k[H];if(z!==null)for(k[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&es(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function es(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ue(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function oo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ue(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function lo(e,n){var r=n&-n;return r=(r&42)!==0?1:ns(r),(r&(e.suspendedLanes|n))!==0?0:r}function ns(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xl(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:o_(e.type))}function Ln(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var xn=Math.random().toString(36).slice(2),pe="__reactFiber$"+xn,Ne="__reactProps$"+xn,ni="__reactContainer$"+xn,Fs="__reactEvents$"+xn,Eh="__reactListeners$"+xn,Jl="__reactHandles$"+xn,Zl="__reactResources$"+xn,ii="__reactMarker$"+xn;function Qs(e){delete e[pe],delete e[Ne],delete e[Fs],delete e[Eh],delete e[Jl]}function ri(e){var n=e[pe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ni]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Fy(e);e!==null;){if(r=e[pe])return r;e=Fy(e)}return n}e=r,r=e.parentNode}return null}function vn(e){if(e=e[pe]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function si(e){var n=e[Zl];return n||(n=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(e){e[ii]=!0}var uo=new Set,co={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(co[e]=n,e=0;e<n.length;e++)uo.add(n[e])}var ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function $l(e){return me.call(mo,e)?!0:me.call(fo,e)?!1:ho.test(e)?mo[e]=!0:(fo[e]=!0,!1)}function Ks(e,n,r){if($l(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function cn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function _e(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function go(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=ir(e)?"checked":"value";e._valueTracker=go(e,n,""+e[n])}}function is(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ir(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rs=/[\n"\\]/g;function We(e){return e.replace(rs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ys(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ve(n)):e.value!==""+Ve(n)&&(e.value=""+Ve(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?po(e,g,Ve(n)):r!=null?po(e,g,Ve(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ve(E):e.removeAttribute("name")}function Wl(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}r=r!=null?""+Ve(r):"",n=n!=null?""+Ve(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function po(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function rr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ve(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function tu(e,n,r){if(n!=null&&(n=""+Ve(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ve(r):""}function sr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(Re(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ve(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ht(e)}function tn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||eu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function _o(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&yo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&yo(e,f,n[f])}function Xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return ar.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pn(){}var vo=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,ui=null;function ss(e){var n=vn(e);if(n&&(e=n.stateNode)){var r=e[Ne]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ys(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ne]||null;if(!h)throw Error(s(90));Ys(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&is(o)}break t;case"textarea":tu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&rr(e,!!r.multiple,n,!1)}}}var Zs=!1;function lr(e,n,r){if(Zs)return e(n,r);Zs=!0;try{var o=e(n);return o}finally{if(Zs=!1,(or!==null||ui!==null)&&(Xu(),or&&(n=or,e=ui,ui=or=null,ss(n),e)))for(n=0;n<e.length;n++)ss(e[n])}}function kn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ne]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),as=!1;if(Tn)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){as=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{as=!1}var ci=null,Eo=null,os=null;function To(){if(os)return os;var e,n=Eo,r=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return os=h.slice(e,1<o?1-o:void 0)}function ls(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function zn(){return!1}function Pe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:zn,this.isPropagationStopped=zn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Pe(Di),ur=b({},Di,{view:0,detail:0}),Ao=Pe(ur),cr,$s,fi,Ws=b({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(cr=e.screenX-fi.screenX,$s=e.screenY-fi.screenY):$s=cr=0,fi=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),So=Pe(Ws),us=b({},Ws,{dataTransfer:0}),iu=Pe(us),ru=b({},ur,{relatedTarget:0}),cs=Pe(ru),bo=b({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),su=Pe(bo),ta=b({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=Pe(ta),ou=b({},Di,{data:0}),di=Pe(ou),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function hr(){return hu}var Ze=b({},ur,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fu=Pe(Ze),du=b({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Pe(du),u=b({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),m=Pe(u),y=b({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),x=b({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(x),J=b({},Di,{newState:0,oldState:0}),Et=Pe(J),ce=[9,13,27,32],kt=Tn&&"CompositionEvent"in window,ie=null;Tn&&"documentMode"in document&&(ie=document.documentMode);var An=Tn&&"TextEvent"in window&&!ie,mi=Tn&&(!kt||ie&&8<ie&&11>=ie),Bn=" ",qn=!1;function hs(e,n){switch(e){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function f0(e,n){switch(e){case"compositionend":return ea(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return e=n.data,e===Bn&&qn?null:e;default:return null}}function d0(e,n){if(na)return e==="compositionend"||!kt&&hs(e,n)?(e=To(),os=Eo=ci=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var m0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!m0[e.type]:n==="textarea"}function Xm(e,n,r,o){or?ui?ui.push(o):ui=[o]:or=o,n=nc(n,"onChange"),0<n.length&&(r=new hi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ro=null,wo=null;function g0(e){Ny(e,0)}function mu(e){var n=un(e);if(is(n))return e}function Jm(e,n){if(e==="change")return n}var Zm=!1;if(Tn){var Th;if(Tn){var Ah="oninput"in document;if(!Ah){var $m=document.createElement("div");$m.setAttribute("oninput","return;"),Ah=typeof $m.oninput=="function"}Th=Ah}else Th=!1;Zm=Th&&(!document.documentMode||9<document.documentMode)}function Wm(){Ro&&(Ro.detachEvent("onpropertychange",tg),wo=Ro=null)}function tg(e){if(e.propertyName==="value"&&mu(wo)){var n=[];Xm(n,wo,e,En(e)),lr(g0,n)}}function p0(e,n,r){e==="focusin"?(Wm(),Ro=n,wo=r,Ro.attachEvent("onpropertychange",tg)):e==="focusout"&&Wm()}function y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(wo)}function _0(e,n){if(e==="click")return mu(n)}function v0(e,n){if(e==="input"||e==="change")return mu(n)}function E0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:E0;function Io(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!me.call(n,h)||!hn(e[h],n[h]))return!1}return!0}function eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ng(e,n){var r=eg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=eg(r)}}function ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function Sh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var T0=Tn&&"documentMode"in document&&11>=document.documentMode,ia=null,bh=null,Co=null,Rh=!1;function sg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||ia==null||ia!==li(o)||(o=ia,"selectionStart"in o&&Sh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Io(Co,o)||(Co=o,o=nc(bh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ia)))}function fs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ra={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},wh={},ag={};Tn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function ds(e){if(wh[e])return wh[e];if(!ra[e])return e;var n=ra[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ag)return wh[e]=n[r];return e}var og=ds("animationend"),lg=ds("animationiteration"),ug=ds("animationstart"),A0=ds("transitionrun"),S0=ds("transitionstart"),b0=ds("transitioncancel"),cg=ds("transitionend"),hg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Hn(e,n){hg.set(e,n),ai(n,[e])}var gu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Sn=[],sa=0,Ch=0;function pu(){for(var e=sa,n=Ch=sa=0;n<e;){var r=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&fg(r,h,f)}}function yu(e,n,r,o){Sn[sa++]=e,Sn[sa++]=n,Sn[sa++]=r,Sn[sa++]=o,Ch|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Dh(e,n,r,o){return yu(e,n,r,o),_u(e)}function ms(e,n){return yu(e,null,null,n),_u(e)}function fg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ue(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function _u(e){if(50<Jo)throw Jo=0,zf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var aa={};function R0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,r,o){return new R0(e,n,r,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,n){var r=e.alternate;return r===null?(r=fn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function dg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Oh(e)&&(g=1);else if(typeof e=="string")g=OA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=fn(31,r,n,h),e.elementType=I,e.lanes=f,e;case et:return gs(r.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=fn(12,r,n,h|2),e.elementType=ft,e.lanes=f,e;case te:return e=fn(13,r,n,h),e.elementType=te,e.lanes=f,e;case Pt:return e=fn(19,r,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vt:g=10;break t;case _t:g=9;break t;case Xt:g=11;break t;case C:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=fn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function gs(e,n,r,o){return e=fn(7,e,o,n),e.lanes=r,e}function Nh(e,n,r){return e=fn(6,e,null,n),e.lanes=r,e}function mg(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function Vh(e,n,r){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var gg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var r=gg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ro(n)},gg.set(e,n),n)}return{value:e,source:n,stack:ro(n)}}var oa=[],la=0,Eu=null,Do=0,Rn=[],wn=0,fr=null,gi=1,pi="";function Vi(e,n){oa[la++]=Do,oa[la++]=Eu,Eu=e,Do=n}function pg(e,n,r){Rn[wn++]=gi,Rn[wn++]=pi,Rn[wn++]=fr,fr=e;var o=gi;e=pi;var h=32-ue(o)-1;o&=~(1<<h),r+=1;var f=32-ue(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-ue(n)+h|r<<h|o,pi=f+e}else gi=1<<f|r<<h|o,pi=e}function Mh(e){e.return!==null&&(Vi(e,1),pg(e,1,0))}function Uh(e){for(;e===Eu;)Eu=oa[--la],oa[la]=null,Do=oa[--la],oa[la]=null;for(;e===fr;)fr=Rn[--wn],Rn[wn]=null,pi=Rn[--wn],Rn[wn]=null,gi=Rn[--wn],Rn[wn]=null}function yg(e,n){Rn[wn++]=gi,Rn[wn++]=pi,Rn[wn++]=fr,gi=n.id,pi=n.overflow,fr=e}var ke=null,Zt=null,Nt=!1,dr=null,In=!1,Lh=Error(s(519));function mr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(bn(n,e)),Lh}function _g(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[pe]=e,n[Ne]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<$o.length;r++)Rt($o[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Wl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),sr(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Ly(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=Pn),n=!0):n=!1,n||mr(e,!0)}function vg(e){for(ke=e.return;ke;)switch(ke.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:ke=ke.return}}function ua(e){if(e!==ke)return!1;if(!Nt)return vg(e),Nt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||td(e.type,e.memoizedProps)),r=!r),r&&Zt&&mr(e),vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Zt=Gy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Zt=Gy(e)}else n===27?(n=Zt,Cr(e.type)?(e=sd,sd=null,Zt=e):Zt=n):Zt=ke?Dn(e.stateNode.nextSibling):null;return!0}function ps(){Zt=ke=null,Nt=!1}function xh(){var e=dr;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),dr=null),e}function Oo(e){dr===null?dr=[e]:dr.push(e)}var Ph=N(null),ys=null,Mi=null;function gr(e,n,r){W(Ph,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=Ph.current,K(Ph)}function kh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function zh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),kh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),kh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ca(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;hn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&zh(n,e,r,o),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ze(e){return Eg(ys,e)}function Au(e,n){return ys===null&&_s(e),Eg(e,n)}function Eg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Mi===null){if(e===null)throw Error(s(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return r}var w0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},I0=a.unstable_scheduleCallback,C0=a.unstable_NormalPriority,ve={$$typeof:vt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new w0,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&I0(C0,function(){e.controller.abort()})}var Vo=null,qh=0,ha=0,fa=null;function D0(e,n){if(Vo===null){var r=Vo=[];qh=0,ha=Ff(),fa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return qh++,n.then(Tg,Tg),n}function Tg(){if(--qh===0&&Vo!==null){fa!==null&&(fa.status="fulfilled");var e=Vo;Vo=null,ha=0,fa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function O0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Ag=j.S;j.S=function(e,n){sy=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&D0(e,n),Ag!==null&&Ag(e,n)};var vs=N(null);function Hh(){var e=vs.current;return e!==null?e:Jt.pooledCache}function Su(e,n){n===null?W(vs,vs.current):W(vs,n.pool)}function Sg(){var e=Hh();return e===null?null:{parent:ve._currentValue,pool:e}}var da=Error(s(460)),jh=Error(s(474)),bu=Error(s(542)),Ru={then:function(){}};function bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Pn,Pn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e;default:if(typeof n.status=="string")n.then(Pn,Pn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Ig(e),e}throw Ts=n,da}}function Es(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ts=r,da):r}}var Ts=null;function wg(){if(Ts===null)throw Error(s(459));var e=Ts;return Ts=null,e}function Ig(e){if(e===da||e===bu)throw Error(s(483))}var ma=null,Mo=0;function wu(e){var n=Mo;return Mo+=1,ma===null&&(ma=[]),Rg(ma,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Iu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function r(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Ni(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,F){return D===null||D.tag!==6?(D=Nh(P,U.mode,F),D.return=U,D):(D=h(D,P),D.return=U,D)}function w(U,D,P,F){var ot=P.type;return ot===et?H(U,D,P.props.children,F,P.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Es(ot)===D.type)?(D=h(D,P.props),Uo(D,P),D.return=U,D):(D=vu(P.type,P.key,P.props,null,U.mode,F),Uo(D,P),D.return=U,D)}function k(U,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Vh(P,U.mode,F),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function H(U,D,P,F,ot){return D===null||D.tag!==7?(D=gs(P,U.mode,F,ot),D.return=U,D):(D=h(D,P),D.return=U,D)}function Q(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Nh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=vu(D.type,D.key,D.props,null,U.mode,P),Uo(P,D),P.return=U,P;case Z:return D=Vh(D,U.mode,P),D.return=U,D;case S:return D=Es(D),Q(U,D,P)}if(Re(D)||L(D))return D=gs(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Q(U,wu(D),P);if(D.$$typeof===vt)return Q(U,Au(U,D),P);Iu(U,D)}return null}function z(U,D,P,F){var ot=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(U,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ot?w(U,D,P,F):null;case Z:return P.key===ot?k(U,D,P,F):null;case S:return P=Es(P),z(U,D,P,F)}if(Re(P)||L(P))return ot!==null?null:H(U,D,P,F,null);if(typeof P.then=="function")return z(U,D,wu(P),F);if(P.$$typeof===vt)return z(U,D,Au(U,P),F);Iu(U,P)}return null}function q(U,D,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(D,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?P:F.key)||null,w(D,U,F,ot);case Z:return U=U.get(F.key===null?P:F.key)||null,k(D,U,F,ot);case S:return F=Es(F),q(U,D,P,F,ot)}if(Re(F)||L(F))return U=U.get(P)||null,H(D,U,F,ot,null);if(typeof F.then=="function")return q(U,D,P,wu(F),ot);if(F.$$typeof===vt)return q(U,D,P,Au(D,F),ot);Iu(D,F)}return null}function rt(U,D,P,F){for(var ot=null,Lt=null,st=D,St=D=0,It=null;st!==null&&St<P.length;St++){st.index>St?(It=st,st=null):It=st.sibling;var xt=z(U,st,P[St],F);if(xt===null){st===null&&(st=It);break}e&&st&&xt.alternate===null&&n(U,st),D=f(xt,D,St),Lt===null?ot=xt:Lt.sibling=xt,Lt=xt,st=It}if(St===P.length)return r(U,st),Nt&&Vi(U,St),ot;if(st===null){for(;St<P.length;St++)st=Q(U,P[St],F),st!==null&&(D=f(st,D,St),Lt===null?ot=st:Lt.sibling=st,Lt=st);return Nt&&Vi(U,St),ot}for(st=o(st);St<P.length;St++)It=q(st,U,St,P[St],F),It!==null&&(e&&It.alternate!==null&&st.delete(It.key===null?St:It.key),D=f(It,D,St),Lt===null?ot=It:Lt.sibling=It,Lt=It);return e&&st.forEach(function(Mr){return n(U,Mr)}),Nt&&Vi(U,St),ot}function ct(U,D,P,F){if(P==null)throw Error(s(151));for(var ot=null,Lt=null,st=D,St=D=0,It=null,xt=P.next();st!==null&&!xt.done;St++,xt=P.next()){st.index>St?(It=st,st=null):It=st.sibling;var Mr=z(U,st,xt.value,F);if(Mr===null){st===null&&(st=It);break}e&&st&&Mr.alternate===null&&n(U,st),D=f(Mr,D,St),Lt===null?ot=Mr:Lt.sibling=Mr,Lt=Mr,st=It}if(xt.done)return r(U,st),Nt&&Vi(U,St),ot;if(st===null){for(;!xt.done;St++,xt=P.next())xt=Q(U,xt.value,F),xt!==null&&(D=f(xt,D,St),Lt===null?ot=xt:Lt.sibling=xt,Lt=xt);return Nt&&Vi(U,St),ot}for(st=o(st);!xt.done;St++,xt=P.next())xt=q(st,U,St,xt.value,F),xt!==null&&(e&&xt.alternate!==null&&st.delete(xt.key===null?St:xt.key),D=f(xt,D,St),Lt===null?ot=xt:Lt.sibling=xt,Lt=xt);return e&&st.forEach(function(qA){return n(U,qA)}),Nt&&Vi(U,St),ot}function Yt(U,D,P,F){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ot=P.key;D!==null;){if(D.key===ot){if(ot=P.type,ot===et){if(D.tag===7){r(U,D.sibling),F=h(D,P.props.children),F.return=U,U=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Es(ot)===D.type){r(U,D.sibling),F=h(D,P.props),Uo(F,P),F.return=U,U=F;break t}r(U,D);break}else n(U,D);D=D.sibling}P.type===et?(F=gs(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=vu(P.type,P.key,P.props,null,U.mode,F),Uo(F,P),F.return=U,U=F)}return g(U);case Z:t:{for(ot=P.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(U,D.sibling),F=h(D,P.children||[]),F.return=U,U=F;break t}else{r(U,D);break}else n(U,D);D=D.sibling}F=Vh(P,U.mode,F),F.return=U,U=F}return g(U);case S:return P=Es(P),Yt(U,D,P,F)}if(Re(P))return rt(U,D,P,F);if(L(P)){if(ot=L(P),typeof ot!="function")throw Error(s(150));return P=ot.call(P),ct(U,D,P,F)}if(typeof P.then=="function")return Yt(U,D,wu(P),F);if(P.$$typeof===vt)return Yt(U,D,Au(U,P),F);Iu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(U,D.sibling),F=h(D,P),F.return=U,U=F):(r(U,D),F=Nh(P,U.mode,F),F.return=U,U=F),g(U)):r(U,D)}return function(U,D,P,F){try{Mo=0;var ot=Yt(U,D,P,F);return ma=null,ot}catch(st){if(st===da||st===bu)throw st;var Lt=fn(29,st,null,U.mode);return Lt.lanes=F,Lt.return=U,Lt}finally{}}}var As=Cg(!0),Dg=Cg(!1),pr=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(zt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=_u(e),fg(e,null,r),n}return yu(e,o,n,r),_u(e)}function Lo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oo(e,r)}}function Qh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Kh=!1;function xo(){if(Kh){var e=fa;if(e!==null)throw e}}function Po(e,n,r,o){Kh=!1;var h=e.updateQueue;pr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,k=w.next;w.next=null,g===null?f=k:g.next=k,g=w;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=k:E.next=k,H.lastBaseUpdate=w))}if(f!==null){var Q=h.baseState;g=0,H=k=w=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(wt&z)===z:(o&z)===z){z!==0&&z===ha&&(Kh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ct=E;z=n;var Yt=r;switch(ct.tag){case 1:if(rt=ct.payload,typeof rt=="function"){Q=rt.call(Yt,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ct.payload,z=typeof rt=="function"?rt.call(Yt,Q,z):rt,z==null)break t;Q=b({},Q,z);break t;case 2:pr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(k=H=q,w=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(w=Q),h.baseState=w,h.firstBaseUpdate=k,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Sr|=g,e.lanes=g,e.memoizedState=Q}}function Og(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ng(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Og(r[e],n)}var ga=N(null),Cu=N(0);function Vg(e,n){e=ji,W(Cu,e),W(ga,n),ji=e|n.baseLanes}function Yh(){W(Cu,ji),W(ga,ga.current)}function Xh(){ji=Cu.current,K(ga),K(Cu)}var dn=N(null),Cn=null;function vr(e){var n=e.alternate;W(he,he.current&1),W(dn,e),Cn===null&&(n===null||ga.current!==null||n.memoizedState!==null)&&(Cn=e)}function Jh(e){W(he,he.current),W(dn,e),Cn===null&&(Cn=e)}function Mg(e){e.tag===22?(W(he,he.current),W(dn,e),Cn===null&&(Cn=e)):Er()}function Er(){W(he,he.current),W(dn,dn.current)}function mn(e){K(dn),Cn===e&&(Cn=null),K(he)}var he=N(0);function Du(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||id(r)||rd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Tt=null,Qt=null,Ee=null,Ou=!1,pa=!1,Ss=!1,Nu=0,ko=0,ya=null,N0=0;function oe(){throw Error(s(321))}function Zh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!hn(e[r],n[r]))return!1;return!0}function $h(e,n,r,o,h,f){return Li=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?pp:mf,Ss=!1,f=r(o,h),Ss=!1,pa&&(f=Lg(n,r,o,h)),Ug(e),f}function Ug(e){j.H=qo;var n=Qt!==null&&Qt.next!==null;if(Li=0,Ee=Qt=Tt=null,Ou=!1,ko=0,ya=null,n)throw Error(s(300));e===null||Te||(e=e.dependencies,e!==null&&Tu(e)&&(Te=!0))}function Lg(e,n,r,o){Tt=e;var h=0;do{if(pa&&(ya=null),ko=0,pa=!1,25<=h)throw Error(s(301));if(h+=1,Ee=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=yp,f=n(r,o)}while(pa);return f}function V0(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?zo(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function Wh(){var e=Nu!==0;return Nu=0,e}function tf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function ef(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}Li=0,Ee=Qt=Tt=null,pa=!1,ko=Nu=0,ya=null}function $e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Tt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function fe(){if(Qt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=Ee===null?Tt.memoizedState:Ee.next;if(n!==null)Ee=n,Qt=e;else{if(e===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Ee===null?Tt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(e){var n=ko;return ko+=1,ya===null&&(ya=[]),e=Rg(ya,e,n),n=Tt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?pp:mf),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===vt)return ze(e)}throw Error(s(438,String(e)))}function nf(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Vu(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function xi(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=fe();return rf(n,Qt,e)}function rf(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,w=null,k=n,H=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(wt&Q)===Q:(Li&Q)===Q){var z=k.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===ha&&(H=!0);else if((Li&z)===z){k=k.next,z===ha&&(H=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=Q,g=f):w=w.next=Q,Tt.lanes|=z,Sr|=z;Q=k.action,Ss&&r(f,Q),f=k.hasEagerState?k.eagerState:r(f,Q)}else z={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Tt.lanes|=Q,Sr|=Q;k=k.next}while(k!==null&&k!==n);if(w===null?g=f:w.next=E,!hn(f,e.memoizedState)&&(Te=!0,H&&(r=fa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var n=fe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);hn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function xg(e,n,r){var o=Tt,h=fe(),f=Nt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!hn((Qt||h).memoizedState,r);if(g&&(h.memoizedState=r,Te=!0),h=h.queue,lf(zg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(o.flags|=2048,_a(9,{destroy:void 0},kg.bind(null,o,h,r,n),null),Jt===null)throw Error(s(349));f||(Li&127)!==0||Pg(o,n,r)}return r}function Pg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Vu(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function kg(e,n,r,o){n.value=r,n.getSnapshot=o,Bg(n)&&qg(e)}function zg(e,n,r){return r(function(){Bg(n)&&qg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!hn(e,r)}catch{return!0}}function qg(e){var n=ms(e,2);n!==null&&an(n,e,2)}function af(e){var n=$e();if(typeof e=="function"){var r=e;if(e=r(),Ss){_n(!0);try{r()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},n}function Hg(e,n,r,o){return e.baseState=r,rf(e,Qt,typeof o=="function"?o:xi)}function M0(e,n,r,o,h){if(Pu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,jg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function jg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var E=r(h,o),w=j.S;w!==null&&w(g,E),Gg(e,n,E)}catch(k){of(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=r(h,o),Gg(e,n,f)}catch(k){of(e,n,k)}}function Gg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Fg(e,n,o)},function(o){return of(e,n,o)}):Fg(e,n,r)}function Fg(e,n,r){n.status="fulfilled",n.value=r,Qg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,jg(e,r)))}function of(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Qg(n),n=n.next;while(n!==o)}e.action=null}function Qg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Kg(e,n){return n}function Yg(e,n){if(Nt){var r=Jt.formState;if(r!==null){t:{var o=Tt;if(Nt){if(Zt){e:{for(var h=Zt,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=Dn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Zt=Dn(h.nextSibling),o=h.data==="F!";break t}}mr(o)}o=!1}o&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:n},r.queue=o,r=dp.bind(null,Tt,o),o.dispatch=r,o=af(!1),f=df.bind(null,Tt,!1,o.queue),o=$e(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=M0.bind(null,Tt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Xg(e){var n=fe();return Jg(n,Qt,e)}function Jg(e,n,r){if(n=rf(e,n,Kg)[0],e=Uu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=zo(n)}catch(g){throw g===da?bu:g}else o=n;n=fe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,_a(9,{destroy:void 0},U0.bind(null,h,r),null)),[o,f,e]}function U0(e,n){e.action=n}function Zg(e){var n=fe(),r=Qt;if(r!==null)return Jg(n,r,e);fe(),n=n.memoizedState,r=fe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function _a(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Vu(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function $g(){return fe().memoizedState}function Lu(e,n,r,o){var h=$e();Tt.flags|=e,h.memoizedState=_a(1|n,{destroy:void 0},r,o===void 0?null:o)}function xu(e,n,r,o){var h=fe();o=o===void 0?null:o;var f=h.memoizedState.inst;Qt!==null&&o!==null&&Zh(o,Qt.memoizedState.deps)?h.memoizedState=_a(n,f,r,o):(Tt.flags|=e,h.memoizedState=_a(1|n,f,r,o))}function Wg(e,n){Lu(8390656,8,e,n)}function lf(e,n){xu(2048,8,e,n)}function L0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Vu(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function tp(e){var n=fe().memoizedState;return L0({ref:n,nextImpl:e}),function(){if((zt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ep(e,n){return xu(4,2,e,n)}function np(e,n){return xu(4,4,e,n)}function ip(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,r){r=r!=null?r.concat([e]):null,xu(4,4,ip.bind(null,n,e),r)}function uf(){}function sp(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Zh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function ap(e,n){var r=fe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Zh(n,o[1]))return o[0];if(o=e(),Ss){_n(!0);try{e()}finally{_n(!1)}}return r.memoizedState=[o,n],o}function cf(e,n,r){return r===void 0||(Li&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=oy(),Tt.lanes|=e,Sr|=e,r)}function op(e,n,r,o){return hn(r,n)?r:ga.current!==null?(e=cf(e,r,o),hn(e,n)||(Te=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(wt&261930)===0?(Te=!0,e.memoizedState=r):(e=oy(),Tt.lanes|=e,Sr|=e,n)}function lp(e,n,r,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var g=j.T,E={};j.T=E,df(e,!1,n,r);try{var w=h(),k=j.S;if(k!==null&&k(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=O0(w,o);Bo(e,n,H,yn(e))}else Bo(e,n,o,yn(e))}catch(Q){Bo(e,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),j.T=g}}function x0(){}function hf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=up(e).queue;lp(e,h,n,lt,r===null?x0:function(){return cp(e),r(o)})}function up(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cp(e){var n=up(e);n.next===null&&(n=e.alternate.memoizedState),Bo(e,n.next.queue,{},yn())}function ff(){return ze(il)}function hp(){return fe().memoizedState}function fp(){return fe().memoizedState}function P0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=yn();e=yr(r);var o=_r(n,e,r);o!==null&&(an(o,n,r),Lo(o,n,r)),n={cache:Bh()},e.payload=n;return}n=n.return}}function k0(e,n,r){var o=yn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?mp(n,r):(r=Dh(e,n,r,o),r!==null&&(an(r,e,o),gp(r,n,o)))}function dp(e,n,r){var o=yn();Bo(e,n,r,o)}function Bo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))mp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,hn(E,g))return yu(e,n,h,0),Jt===null&&pu(),!1}catch{}finally{}if(r=Dh(e,n,h,o),r!==null)return an(r,e,o),gp(r,n,o),!0}return!1}function df(e,n,r,o){if(o={lane:2,revertLane:Ff(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(n)throw Error(s(479))}else n=Dh(e,r,o,2),n!==null&&an(n,e,2)}function Pu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function mp(e,n){pa=Ou=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function gp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oo(e,r)}}var qo={readContext:ze,use:Mu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};qo.useEffectEvent=oe;var pp={readContext:ze,use:Mu,useCallback:function(e,n){return $e().memoizedState=[e,n===void 0?null:n],e},useContext:ze,useEffect:Wg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Lu(4194308,4,ip.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var r=$e();n=n===void 0?null:n;var o=e();if(Ss){_n(!0);try{e()}finally{_n(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=$e();if(r!==void 0){var h=r(n);if(Ss){_n(!0);try{r(n)}finally{_n(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=k0.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=$e();return e={current:e},n.memoizedState=e},useState:function(e){e=af(e);var n=e.queue,r=dp.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:uf,useDeferredValue:function(e,n){var r=$e();return cf(r,e,n)},useTransition:function(){var e=af(!1);return e=lp.bind(null,Tt,e.queue,!0,!1),$e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,h=$e();if(Nt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(wt&127)!==0||Pg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Wg(zg.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,{destroy:void 0},kg.bind(null,o,f,r,n),null),r},useId:function(){var e=$e(),n=Jt.identifierPrefix;if(Nt){var r=pi,o=gi;r=(o&~(1<<32-ue(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Nu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=N0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:ff,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var n=$e();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=df.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:nf,useCacheRefresh:function(){return $e().memoizedState=P0.bind(null,Tt)},useEffectEvent:function(e){var n=$e(),r={impl:e};return n.memoizedState=r,function(){if((zt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},mf={readContext:ze,use:Mu,useCallback:sp,useContext:ze,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:Uu,useRef:$g,useState:function(){return Uu(xi)},useDebugValue:uf,useDeferredValue:function(e,n){var r=fe();return op(r,Qt.memoizedState,e,n)},useTransition:function(){var e=Uu(xi)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:zo(e),n]},useSyncExternalStore:xg,useId:hp,useHostTransitionStatus:ff,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var r=fe();return Hg(r,Qt,e,n)},useMemoCache:nf,useCacheRefresh:fp};mf.useEffectEvent=tp;var yp={readContext:ze,use:Mu,useCallback:sp,useContext:ze,useEffect:lf,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:np,useMemo:ap,useReducer:sf,useRef:$g,useState:function(){return sf(xi)},useDebugValue:uf,useDeferredValue:function(e,n){var r=fe();return Qt===null?cf(r,e,n):op(r,Qt.memoizedState,e,n)},useTransition:function(){var e=sf(xi)[0],n=fe().memoizedState;return[typeof e=="boolean"?e:zo(e),n]},useSyncExternalStore:xg,useId:hp,useHostTransitionStatus:ff,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var r=fe();return Qt!==null?Hg(r,Qt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:nf,useCacheRefresh:fp};yp.useEffectEvent=tp;function gf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=yn(),h=yr(o);h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(an(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=yn(),h=yr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=_r(e,h,o),n!==null&&(an(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=yn(),o=yr(r);o.tag=2,n!=null&&(o.callback=n),n=_r(e,o,r),n!==null&&(an(n,e,r),Lo(n,e,r))}};function _p(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Io(r,o)||!Io(h,f):!0}function vp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&pf.enqueueReplaceState(n,n.state,null)}function bs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Ep(e){gu(e)}function Tp(e){console.error(e)}function Ap(e){gu(e)}function ku(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yf(e,n,r){return r=yr(r),r.tag=3,r.payload={element:null},r.callback=function(){ku(e,n)},r}function bp(e){return e=yr(e),e.tag=3,e}function Rp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Sp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sp(n,r,o),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function z0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ca(n,r,h,!0),r=dn.current,r!==null){switch(r.tag){case 31:case 13:return Cn===null?Ju():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Hf(e,o,h)),!1;case 22:return r.flags|=65536,o===Ru?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Hf(e,o,h)),!1}throw Error(s(435,r.tag))}return Hf(e,o,h),Ju(),!1}if(Nt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Lh&&(e=Error(s(422),{cause:o}),Oo(bn(e,r)))):(o!==Lh&&(n=Error(s(423),{cause:o}),Oo(bn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=bn(o,r),h=yf(e.stateNode,o,h),Qh(e,h),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:o});if(f=bn(f,r),Xo===null?Xo=[f]:Xo.push(f),le!==4&&(le=2),n===null)return!0;o=bn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=yf(r.stateNode,o,e),Qh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(br===null||!br.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=bp(h),Rp(h,e,r,o),Qh(r,h),!1}r=r.return}while(r!==null);return!1}var _f=Error(s(461)),Te=!1;function Be(e,n,r,o){n.child=e===null?Dg(n,null,r,o):As(n,e.child,r,o)}function wp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return _s(n),o=$h(e,n,r,g,f,h),E=Wh(),e!==null&&!Te?(tf(e,n,h),Pi(e,n,h)):(Nt&&E&&Mh(n),n.flags|=1,Be(e,n,o,h),n.child)}function Ip(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,o,h)):(e=vu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!wf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Io,r(g,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Ni(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Io(f,o)&&e.ref===n.ref)if(Te=!1,n.pendingProps=o=f,wf(e,h))(e.flags&131072)!==0&&(Te=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return vf(e,n,r,o,h)}function Dp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Op(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,f!==null?f.cachePool:null),f!==null?Vg(n,f):Yh(),Mg(n);else return o=n.lanes=536870912,Op(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Su(n,f.cachePool),Vg(n,f),Er(),n.memoizedState=null):(e!==null&&Su(n,null),Yh(),Er());return Be(e,n,h,r),n.child}function Ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(e,n,r,o,h){var f=Hh();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Su(n,null),Yh(),Mg(n),e!==null&&ca(e,n,o,!0),n.childLanes=h,null}function zu(e,n){return n=qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Np(e,n,r){return As(n,e.child,null,r),e=zu(n,n.pendingProps),e.flags|=2,mn(n),n.memoizedState=null,e}function B0(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Nt){if(o.mode==="hidden")return e=zu(n,o),n.lanes=536870912,Ho(null,e);if(Jh(n),(e=Zt)?(e=jy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=mg(e),r.return=n,n.child=r,ke=n,Zt=null)):e=null,e===null)throw mr(n);return n.lanes=536870912,null}return zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Jh(n),h)if(n.flags&256)n.flags&=-257,n=Np(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||ca(e,n,r,!1),h=(r&e.childLanes)!==0,Te||h){if(o=Jt,o!==null&&(g=lo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,ms(e,g),an(o,e,g),_f;Ju(),n=Np(e,n,r)}else e=f.treeContext,Zt=Dn(g.nextSibling),ke=n,Nt=!0,dr=null,In=!1,e!==null&&yg(n,e),n=zu(n,o),n.flags|=4096;return n}return e=Ni(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function vf(e,n,r,o,h){return _s(n),r=$h(e,n,r,o,void 0,h),o=Wh(),e!==null&&!Te?(tf(e,n,h),Pi(e,n,h)):(Nt&&o&&Mh(n),n.flags|=1,Be(e,n,r,h),n.child)}function Vp(e,n,r,o,h,f){return _s(n),n.updateQueue=null,r=Lg(n,o,r,h),Ug(e),o=Wh(),e!==null&&!Te?(tf(e,n,f),Pi(e,n,f)):(Nt&&o&&Mh(n),n.flags|=1,Be(e,n,r,f),n.child)}function Mp(e,n,r,o,h){if(_s(n),n.stateNode===null){var f=aa,g=r.contextType;typeof g=="object"&&g!==null&&(f=ze(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Gh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?ze(g):aa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(gf(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&pf.enqueueReplaceState(f,f.state,null),Po(n,o,f,h),xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=bs(r,E);f.props=w;var k=f.context,H=r.contextType;g=aa,typeof H=="object"&&H!==null&&(g=ze(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&vp(n,f,o,g),pr=!1;var z=n.memoizedState;f.state=z,Po(n,o,f,h),xo(),k=n.memoizedState,E||z!==k||pr?(typeof Q=="function"&&(gf(n,r,Q,o),k=n.memoizedState),(w=pr||_p(n,r,w,o,z,k,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Fh(e,n),g=n.memoizedProps,H=bs(r,g),f.props=H,Q=n.pendingProps,z=f.context,k=r.contextType,w=aa,typeof k=="object"&&k!==null&&(w=ze(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==w)&&vp(n,f,o,w),pr=!1,z=n.memoizedState,f.state=z,Po(n,o,f,h),xo();var q=n.memoizedState;g!==Q||z!==q||pr||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof E=="function"&&(gf(n,r,E,o),q=n.memoizedState),(H=pr||_p(n,r,H,o,z,q,w)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Bu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=As(n,e.child,null,h),n.child=As(n,null,r,h)):Be(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function Up(e,n,r,o){return ps(),n.flags|=256,Be(e,n,r,o),n.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(e){return{baseLanes:e,cachePool:Sg()}}function Af(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=pn),e}function Lp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(he.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Nt){if(h?vr(n):Er(),(e=Zt)?(e=jy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=mg(e),r.return=n,n.child=r,ke=n,Zt=null)):e=null,e===null)throw mr(n);return rd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Er(),h=n.mode,E=qu({mode:"hidden",children:E},h),o=gs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Tf(r),o.childLanes=Af(e,g,r),n.memoizedState=Ef,Ho(null,o)):(vr(n),Sf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(vr(n),n.flags&=-257,n=bf(e,n,r)):n.memoizedState!==null?(Er(),n.child=e.child,n.flags|=128,n=null):(Er(),E=o.fallback,h=n.mode,o=qu({mode:"visible",children:o.children},h),E=gs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,As(n,e.child,null,r),o=n.child,o.memoizedState=Tf(r),o.childLanes=Af(e,g,r),n.memoizedState=Ef,n=Ho(null,o));else if(vr(n),rd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(s(419)),o.stack="",o.digest=g,Oo({value:o,source:null,stack:null}),n=bf(e,n,r)}else if(Te||ca(e,n,r,!1),g=(r&e.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(o=lo(g,r),o!==0&&o!==w.retryLane))throw w.retryLane=o,ms(e,o),an(g,e,o),_f;id(E)||Ju(),n=bf(e,n,r)}else id(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,Zt=Dn(E.nextSibling),ke=n,Nt=!0,dr=null,In=!1,e!==null&&yg(n,e),n=Sf(n,o.children),n.flags|=4096);return n}return h?(Er(),E=o.fallback,h=n.mode,w=e.child,k=w.sibling,o=Ni(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,k!==null?E=Ni(k,E):(E=gs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Ho(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Tf(r):(h=E.cachePool,h!==null?(w=ve._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Sg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Af(e,g,r),n.memoizedState=Ef,Ho(e.child,o)):(vr(n),r=e.child,e=r.sibling,r=Ni(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Sf(e,n){return n=qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function qu(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function bf(e,n,r){return As(n,e.child,null,r),e=Sf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),kh(e.return,n,r)}function Rf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Pp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(he,g),Be(e,n,o,r),o=Nt?Do:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,r,n);else if(e.tag===19)xp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Du(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Rf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Rf(n,!0,r,null,f,o);break;case"together":Rf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ca(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ni(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ni(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function wf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function q0(e,n,r){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),gr(n,ve,e.memoizedState.cache),ps();break;case 27:case 5:Jr(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Jh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(vr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Lp(e,n,r):(vr(n),e=Pi(e,n,r),e!==null?e.sibling:null);vr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ca(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Pp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(he,he.current),o)break;return null;case 22:return n.lanes=0,Dp(e,n,r,n.pendingProps);case 24:gr(n,ve,e.memoizedState.cache)}return Pi(e,n,r)}function kp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Te=!0;else{if(!wf(e,r)&&(n.flags&128)===0)return Te=!1,q0(e,n,r);Te=(e.flags&131072)!==0}else Te=!1,Nt&&(n.flags&1048576)!==0&&pg(n,Do,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Es(n.elementType),n.type=e,typeof e=="function")Oh(e)?(o=bs(e,o),n.tag=1,n=Mp(null,n,e,o,r)):(n.tag=0,n=vf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Xt){n.tag=11,n=wp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Ip(null,n,e,o,r);break t}}throw n=ee(e)||e,Error(s(306,n,""))}}return n;case 0:return vf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=bs(o,n.pendingProps),Mp(e,n,o,h,r);case 3:t:{if(we(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Fh(e,n),Po(n,o,null,r);var g=n.memoizedState;if(o=g.cache,gr(n,ve,o),o!==f.cache&&zh(n,[ve],r,!0),xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,o,r);break t}else if(o!==h){h=bn(Error(s(424)),n),Oo(h),n=Up(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Zt=Dn(e.firstChild),ke=n,Nt=!0,dr=null,In=!0,r=Dg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ps(),o===h){n=Pi(e,n,r);break t}Be(e,n,o,r)}n=n.child}return n;case 26:return Bu(e,n),e===null?(r=Xy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Nt||(r=n.type,e=n.pendingProps,o=ic(At.current).createElement(r),o[pe]=n,o[Ne]=e,qe(o,r,e),ye(o),n.stateNode=o):n.memoizedState=Xy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jr(n),e===null&&Nt&&(o=n.stateNode=Qy(n.type,n.pendingProps,At.current),ke=n,In=!0,h=Zt,Cr(n.type)?(sd=h,Zt=Dn(o.firstChild)):Zt=h),Be(e,n,n.pendingProps.children,r),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Nt&&((h=o=Zt)&&(o=yA(o,n.type,n.pendingProps,In),o!==null?(n.stateNode=o,ke=n,Zt=Dn(o.firstChild),In=!1,h=!0):h=!1),h||mr(n)),Jr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,td(h,f)?o=null:g!==null&&td(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=$h(e,n,V0,null,null,r),il._currentValue=h),Bu(e,n),Be(e,n,o,r),n.child;case 6:return e===null&&Nt&&((e=r=Zt)&&(r=_A(r,n.pendingProps,In),r!==null?(n.stateNode=r,ke=n,Zt=null,e=!0):e=!1),e||mr(n)),null;case 13:return Lp(e,n,r);case 4:return we(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=As(n,null,o,r):Be(e,n,o,r),n.child;case 11:return wp(e,n,n.type,n.pendingProps,r);case 7:return Be(e,n,n.pendingProps,r),n.child;case 8:return Be(e,n,n.pendingProps.children,r),n.child;case 12:return Be(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,gr(n,n.type,o.value),Be(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,_s(n),h=ze(h),o=o(h),n.flags|=1,Be(e,n,o,r),n.child;case 14:return Ip(e,n,n.type,n.pendingProps,r);case 15:return Cp(e,n,n.type,n.pendingProps,r);case 19:return Pp(e,n,r);case 31:return B0(e,n,r);case 22:return Dp(e,n,r,n.pendingProps);case 24:return _s(n),o=ze(ve),e===null?(h=Hh(),h===null&&(h=Jt,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Gh(n),gr(n,ve,h)):((e.lanes&r)!==0&&(Fh(e,n),Po(n,null,null,r),xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,ve,o)):(o=f.cache,gr(n,ve,o),o!==h.cache&&zh(n,[ve],r,!0))),Be(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ki(e){e.flags|=4}function If(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(hy())e.flags|=8192;else throw Ts=Ru,jh}else e.flags&=-16777217}function zp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!t_(n))if(hy())e.flags|=8192;else throw Ts=Ru,jh}function Hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yl():536870912,e.lanes|=n,Aa|=n)}function jo(e,n){if(!Nt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $t(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function H0(e,n,r){var o=n.pendingProps;switch(Uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(ve),ne(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ua(n)?ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xh())),$t(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ki(n),f!==null?($t(n),zp(n,f)):($t(n),If(n,h,null,o,r))):f?f!==e.memoizedState?(ki(n),$t(n),zp(n,f)):($t(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ki(n),$t(n),If(n,h,e,o,r)),null;case 27:if(qs(n),r=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return $t(n),null}e=it.current,ua(n)?_g(n):(e=Qy(h,o,r),n.stateNode=e,ki(n))}return $t(n),null;case 5:if(qs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return $t(n),null}if(f=it.current,ua(n))_g(n);else{var g=ic(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[pe]=n,f[Ne]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ki(n)}}return $t(n),If(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=At.current,ua(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[pe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ly(e.nodeValue,r)),e||mr(n,!0)}else e=ic(e).createTextNode(o),e[pe]=n,n.stateNode=e}return $t(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ua(n),r!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[pe]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),e=!1}else r=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return $t(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ua(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[pe]=n}else ps(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;$t(n),h=!1}else h=xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Hu(n,n.updateQueue),$t(n),null);case 4:return ne(),e===null&&Xf(n.stateNode.containerInfo),$t(n),null;case 10:return Ui(n.type),$t(n),null;case 19:if(K(he),o=n.memoizedState,o===null)return $t(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)jo(o,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Du(e),f!==null){for(n.flags|=128,jo(o,!1),e=f.updateQueue,n.updateQueue=e,Hu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)dg(r,e),r=r.sibling;return W(he,he.current&1|2),Nt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Ku&&(n.flags|=128,h=!0,jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Du(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Hu(n,e),jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Nt)return $t(n),null}else 2*Je()-o.renderingStartTime>Ku&&r!==536870912&&(n.flags|=128,h=!0,jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,r=he.current,W(he,h?r&1|2:r&1),Nt&&Vi(n,o.treeForkCount),e):($t(n),null);case 22:case 23:return mn(n),Xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Hu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(vs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(ve),$t(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function j0(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(ve),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return qs(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ps()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(he),null;case 4:return ne(),null;case 10:return Ui(n.type),null;case 22:case 23:return mn(n),Xh(),e!==null&&K(vs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(ve),null;case 25:return null;default:return null}}function Bp(e,n){switch(Uh(n),n.tag){case 3:Ui(ve),ne();break;case 26:case 27:case 5:qs(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:K(he);break;case 10:Ui(n.type);break;case 22:case 23:mn(n),Xh(),e!==null&&K(vs);break;case 24:Ui(ve)}}function Go(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Gt(n,n.return,E)}}function Tr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var w=r,k=E;try{k()}catch(H){Gt(h,w,H)}}}o=o.next}while(o!==f)}}catch(H){Gt(n,n.return,H)}}function qp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ng(n,r)}catch(o){Gt(e,e.return,o)}}}function Hp(e,n,r){r.props=bs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Gt(e,n,o)}}function Fo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Gt(e,n,h)}}function yi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Gt(e,n,h)}else r.current=null}function jp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Gt(e,e.return,h)}}function Cf(e,n,r){try{var o=e.stateNode;hA(o,e.type,r,n),o[Ne]=n}catch(h){Gt(e,e.return,h)}}function Gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Cr(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Cr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Of(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Pn));else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Of(e,n,r),e=e.sibling;e!==null;)Of(e,n,r),e=e.sibling}function ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Cr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ju(e,n,r),e=e.sibling;e!==null;)ju(e,n,r),e=e.sibling}function Fp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);qe(n,o,r),n[pe]=e,n[Ne]=r}catch(f){Gt(e,e.return,f)}}var zi=!1,Ae=!1,Nf=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function G0(e,n){if(e=e.containerInfo,$f=cc,e=rg(e),Sh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,w=-1,k=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==r||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(w=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===r&&++k===h&&(E=g),z===f&&++H===o&&(w=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wf={focusedElem:e,selectionRange:r},cc=!1,Me=n;Me!==null;)if(n=Me,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Me=e;else for(;Me!==null;){switch(n=Me,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=bs(r.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Gt(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)nd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Me=e;break}Me=n.return}}function Kp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Go(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Gt(r,r.return,g)}else{var h=bs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(r,r.return,g)}}o&64&&qp(r),o&512&&Fo(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ng(e,n)}catch(g){Gt(r,r.return,g)}}break;case 27:n===null&&o&4&&Fp(r);case 26:case 5:qi(e,r),n===null&&o&4&&jp(r),o&512&&Fo(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&Jp(e,r);break;case 13:qi(e,r),o&4&&Zp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=W0.bind(null,r),vA(e,r))));break;case 22:if(o=r.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Ae,h=zi;var f=Ae;zi=o,(Ae=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),zi=h,Ae=f}break;case 30:break;default:qi(e,r)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,en=!1;function Bi(e,n,r){for(r=r.child;r!==null;)Xp(e,n,r),r=r.sibling}function Xp(e,n,r){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Mn,r)}catch{}switch(r.tag){case 26:Ae||yi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ae||yi(r,n);var o=re,h=en;Cr(r.type)&&(re=r.stateNode,en=!1),Bi(e,n,r),tl(r.stateNode),re=o,en=h;break;case 5:Ae||yi(r,n);case 6:if(o=re,h=en,re=null,Bi(e,n,r),re=o,en=h,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Gt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Gt(r,n,f)}break;case 18:re!==null&&(en?(e=re,qy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oa(e)):qy(re,r.stateNode));break;case 4:o=re,h=en,re=r.stateNode.containerInfo,en=!0,Bi(e,n,r),re=o,en=h;break;case 0:case 11:case 14:case 15:Tr(2,r,n),Ae||Tr(4,r,n),Bi(e,n,r);break;case 1:Ae||(yi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Hp(r,n,o)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:Ae=(o=Ae)||r.memoizedState!==null,Bi(e,n,r),Ae=o;break;default:Bi(e,n,r)}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(r){Gt(n,n.return,r)}}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(r){Gt(n,n.return,r)}}function F0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Qp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Qp),n;default:throw Error(s(435,e.tag))}}function Gu(e,n){var r=F0(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=tA.bind(null,e,o);o.then(h,h)}})}function nn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Cr(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(s(160));Xp(f,g,h),re=null,en=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)$p(n,e),n=n.sibling}var jn=null;function $p(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nn(n,e),rn(e),o&4&&(Tr(3,e,e.return),Go(3,e),Tr(5,e,e.return));break;case 1:nn(n,e),rn(e),o&512&&(Ae||r===null||yi(r,r.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=jn;if(nn(n,e),rn(e),o&512&&(Ae||r===null||yi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),qe(f,o,r),f[pe]=e,ye(f),o=f;break t;case"link":var g=$y("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;case"meta":if(g=$y("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),qe(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[pe]=e,ye(f),o=f}e.stateNode=o}else Wy(h,e.type,e.stateNode);else e.stateNode=Zy(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Wy(h,e.type,e.stateNode):Zy(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,r.memoizedProps)}break;case 27:nn(n,e),rn(e),o&512&&(Ae||r===null||yi(r,r.return)),r!==null&&o&4&&Cf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(nn(n,e),rn(e),o&512&&(Ae||r===null||yi(r,r.return)),e.flags&32){h=e.stateNode;try{tn(h,"")}catch(rt){Gt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Cf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Nf=!0);break;case 6:if(nn(n,e),rn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Gt(e,e.return,rt)}}break;case 3:if(ac=null,h=jn,jn=rc(n.containerInfo),nn(n,e),jn=h,rn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(rt){Gt(e,e.return,rt)}Nf&&(Nf=!1,Wp(e));break;case 4:o=jn,jn=rc(e.stateNode.containerInfo),nn(n,e),rn(e),jn=o;break;case 12:nn(n,e),rn(e);break;case 31:nn(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 13:nn(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Qu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,k=zi,H=Ae;if(zi=k||h,Ae=H||w,nn(n,e),Ae=H,zi=k,rn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||w||zi||Ae||Rs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Gt(w,w.return,rt)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(rt){Gt(w,w.return,rt)}}}else if(n.tag===18){if(r===null){w=n;try{var q=w.stateNode;h?Hy(q,!0):Hy(w.stateNode,!1)}catch(rt){Gt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Gu(e,r))));break;case 19:nn(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:nn(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Gp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Df(e);ju(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(tn(g,""),r.flags&=-33);var E=Df(e);ju(e,E,g);break;case 3:case 4:var w=r.stateNode.containerInfo,k=Df(e);Of(e,k,w);break;default:throw Error(s(161))}}catch(H){Gt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Wp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kp(e,n.alternate,n),n=n.sibling}function Rs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),Rs(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Hp(n,n.return,r),Rs(n);break;case 27:tl(n.stateNode);case 26:case 5:yi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,r),Go(4,f);break;case 1:if(Hi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Gt(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Og(w[h],E)}catch(k){Gt(o,o.return,k)}}r&&g&64&&qp(f),Fo(f,f.return);break;case 27:Fp(f);case 26:case 5:Hi(h,f,r),r&&o===null&&g&4&&jp(f),Fo(f,f.return);break;case 12:Hi(h,f,r);break;case 31:Hi(h,f,r),r&&g&4&&Jp(h,f);break;case 13:Hi(h,f,r),r&&g&4&&Zp(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,r),Fo(f,f.return);break;case 30:break;default:Hi(h,f,r)}n=n.sibling}}function Vf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&No(r))}function Mf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e))}function Gn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ty(e,n,r,o),n=n.sibling}function ty(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,r,o),h&2048&&Go(9,n);break;case 1:Gn(e,n,r,o);break;case 3:Gn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e)));break;case 12:if(h&2048){Gn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Gt(n,n.return,w)}}else Gn(e,n,r,o);break;case 31:Gn(e,n,r,o);break;case 13:Gn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(e,n,r,o):Qo(e,n):f._visibility&2?Gn(e,n,r,o):(f._visibility|=2,va(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Vf(g,n);break;case 24:Gn(e,n,r,o),h&2048&&Mf(n.alternate,n);break;default:Gn(e,n,r,o)}}function va(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,w=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:va(f,g,E,w,h),Go(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?va(f,g,E,w,h):Qo(f,g):(H._visibility|=2,va(f,g,E,w,h)),h&&k&2048&&Vf(g.alternate,g);break;case 24:va(f,g,E,w,h),h&&k&2048&&Mf(g.alternate,g);break;default:va(f,g,E,w,h)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Qo(r,o),h&2048&&Vf(o.alternate,o);break;case 24:Qo(r,o),h&2048&&Mf(o.alternate,o);break;default:Qo(r,o)}n=n.sibling}}var Ko=8192;function Ea(e,n,r){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ey(e,n,r),e=e.sibling}function ey(e,n,r){switch(e.tag){case 26:Ea(e,n,r),e.flags&Ko&&e.memoizedState!==null&&NA(r,jn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e,n,r);break;case 3:case 4:var o=jn;jn=rc(e.stateNode.containerInfo),Ea(e,n,r),jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ko,Ko=16777216,Ea(e,n,r),Ko=o):Ea(e,n,r));break;default:Ea(e,n,r)}}function ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Me=o,ry(o,e)}ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)iy(e),e=e.sibling}function iy(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Yo(e);break;default:Yo(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Me=o,ry(o,e)}ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),Fu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function ry(e,n){for(;Me!==null;){var r=Me;switch(r.tag){case 0:case 11:case 15:Tr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Me=o;else t:for(r=e;Me!==null;){o=Me;var h=o.sibling,f=o.return;if(Yp(o),o===r){Me=null;break t}if(h!==null){h.return=f,Me=h;break t}Me=f}}}var Q0={getCacheForType:function(e){var n=ze(ve),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return ze(ve).controller.signal}},K0=typeof WeakMap=="function"?WeakMap:Map,zt=0,Jt=null,bt=null,wt=0,jt=0,gn=null,Ar=!1,Ta=!1,Uf=!1,ji=0,le=0,Sr=0,ws=0,Lf=0,pn=0,Aa=0,Xo=null,sn=null,xf=!1,Qu=0,sy=0,Ku=1/0,Yu=null,br=null,Ce=0,Rr=null,Sa=null,Gi=0,Pf=0,kf=null,ay=null,Jo=0,zf=null;function yn(){return(zt&2)!==0&&wt!==0?wt&-wt:j.T!==null?Ff():Xl()}function oy(){if(pn===0)if((wt&536870912)===0||Nt){var e=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),pn=e}else pn=536870912;return e=dn.current,e!==null&&(e.flags|=32),pn}function an(e,n,r){(e===Jt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(ba(e,0),wr(e,wt,pn,!1)),ts(e,r),((zt&2)===0||e!==Jt)&&(e===Jt&&((zt&2)===0&&(ws|=r),le===4&&wr(e,wt,pn,!1)),_i(e))}function ly(e,n,r){if((zt&6)!==0)throw Error(s(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=o?J0(e,n):qf(e,n,!0),f=o;do{if(h===0){Ta&&!o&&wr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!Y0(r)){h=qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Xo;var w=E.current.memoizedState.isDehydrated;if(w&&(ba(E,g).flags|=256),g=qf(E,g,!1),g!==2){if(Uf&&!w){E.errorRecoveryDisabledLanes|=f,ws|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ba(e,0),wr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:wr(o,n,pn,!Ar);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Qu+300-Je(),10<h)){if(wr(o,n,pn,!Ar),ti(o,0,!0)!==0)break t;Gi=n,o.timeoutHandle=zy(uy.bind(null,o,r,sn,Yu,xf,n,pn,ws,Aa,Ar,f,"Throttled",-0,0),h);break t}uy(o,r,sn,Yu,xf,n,pn,ws,Aa,Ar,f,null,-0,0)}}break}while(!0);_i(e)}function uy(e,n,r,o,h,f,g,E,w,k,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},ey(n,f,Q);var rt=(f&62914560)===f?Qu-Je():(f&4194048)===f?sy-Je():0;if(rt=VA(Q,rt),rt!==null){Gi=f,e.cancelPendingCommit=rt(yy.bind(null,e,n,f,r,o,h,g,E,w,H,Q,null,z,q)),wr(e,f,g,!k);return}}yy(e,n,f,r,o,h,g,E,w)}function Y0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function wr(e,n,r,o){n&=~Lf,n&=~ws,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ue(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&es(e,r,n)}function Xu(){return(zt&6)===0?(Zo(0),!1):!0}function Bf(){if(bt!==null){if(jt===0)var e=bt.return;else e=bt,Mi=ys=null,ef(e),ma=null,Mo=0,e=bt;for(;e!==null;)Bp(e.alternate,e),e=e.return;bt=null}}function ba(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,mA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Gi=0,Bf(),Jt=e,bt=r=Ni(e.current,null),wt=n,jt=0,gn=null,Ar=!1,Ta=Un(e,n),Uf=!1,Aa=pn=Lf=ws=Sr=le=0,sn=Xo=null,xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ue(o),f=1<<h;n|=e[h],o&=~f}return ji=n,pu(),r}function cy(e,n){Tt=null,j.H=qo,n===da||n===bu?(n=wg(),jt=3):n===jh?(n=wg(),jt=4):jt=n===_f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,bt===null&&(le=1,ku(e,bn(n,e.current)))}function hy(){var e=dn.current;return e===null?!0:(wt&4194048)===wt?Cn===null:(wt&62914560)===wt||(wt&536870912)!==0?e===Cn:!1}function fy(){var e=j.H;return j.H=qo,e===null?qo:e}function dy(){var e=j.A;return j.A=Q0,e}function Ju(){le=4,Ar||(wt&4194048)!==wt&&dn.current!==null||(Ta=!0),(Sr&134217727)===0&&(ws&134217727)===0||Jt===null||wr(Jt,wt,pn,!1)}function qf(e,n,r){var o=zt;zt|=2;var h=fy(),f=dy();(Jt!==e||wt!==n)&&(Yu=null,ba(e,n)),n=!1;var g=le;t:do try{if(jt!==0&&bt!==null){var E=bt,w=gn;switch(jt){case 8:Bf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var k=jt;if(jt=0,gn=null,Ra(e,E,w,k),r&&Ta){g=0;break t}break;default:k=jt,jt=0,gn=null,Ra(e,E,w,k)}}X0(),g=le;break}catch(H){cy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Mi=ys=null,zt=o,j.H=h,j.A=f,bt===null&&(Jt=null,wt=0,pu()),g}function X0(){for(;bt!==null;)my(bt)}function J0(e,n){var r=zt;zt|=2;var o=fy(),h=dy();Jt!==e||wt!==n?(Yu=null,Ku=Je()+500,ba(e,n)):Ta=Un(e,n);t:do try{if(jt!==0&&bt!==null){n=bt;var f=gn;e:switch(jt){case 1:jt=0,gn=null,Ra(e,n,f,1);break;case 2:case 9:if(bg(f)){jt=0,gn=null,gy(n);break}n=function(){jt!==2&&jt!==9||Jt!==e||(jt=7),_i(e)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:bg(f)?(jt=0,gn=null,gy(n)):(jt=0,gn=null,Ra(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?t_(g):E.stateNode.complete){jt=0,gn=null;var w=E.sibling;if(w!==null)bt=w;else{var k=E.return;k!==null?(bt=k,Zu(k)):bt=null}break e}}jt=0,gn=null,Ra(e,n,f,5);break;case 6:jt=0,gn=null,Ra(e,n,f,6);break;case 8:Bf(),le=6;break t;default:throw Error(s(462))}}Z0();break}catch(H){cy(e,H)}while(!0);return Mi=ys=null,j.H=o,j.A=h,zt=r,bt!==null?0:(Jt=null,wt=0,pu(),le)}function Z0(){for(;bt!==null&&!ph();)my(bt)}function my(e){var n=kp(e.alternate,e,ji);e.memoizedProps=e.pendingProps,n===null?Zu(e):bt=n}function gy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Vp(r,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Vp(r,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:ef(n);default:Bp(r,n),n=bt=dg(n,ji),n=kp(r,n,ji)}e.memoizedProps=e.pendingProps,n===null?Zu(e):bt=n}function Ra(e,n,r,o){Mi=ys=null,ef(n),ma=null,Mo=0;var h=n.return;try{if(z0(e,h,n,r,wt)){le=1,ku(e,bn(r,e.current)),bt=null;return}}catch(f){if(h!==null)throw bt=h,f;le=1,ku(e,bn(r,e.current)),bt=null;return}n.flags&32768?(Nt||o===1?e=!0:Ta||(wt&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){py(n,Ar);return}e=n.return;var r=H0(n.alternate,n,ji);if(r!==null){bt=r;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);le===0&&(le=5)}function py(e,n){do{var r=j0(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);le=6,bt=null}function yy(e,n,r,o,h,f,g,E,w){e.cancelPendingCommit=null;do $u();while(Ce!==0);if((zt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Ch,vh(e,r,f,g,E,w),e===Jt&&(bt=Jt=null,wt=0),Sa=n,Rr=e,Gi=r,Pf=f,kf=h,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,eA(nr,function(){return Ay(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=$.p,$.p=2,g=zt,zt|=4;try{G0(e,n,r)}finally{zt=g,$.p=h,j.T=o}}Ce=1,_y(),vy(),Ey()}}function _y(){if(Ce===1){Ce=0;var e=Rr,n=Sa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var o=$.p;$.p=2;var h=zt;zt|=4;try{$p(n,e);var f=Wf,g=rg(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ig(E.ownerDocument.documentElement,E)){if(w!==null&&Sh(E)){var k=w.start,H=w.end;if(H===void 0&&(H=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),rt=E.textContent.length,ct=Math.min(w.start,rt),Yt=w.end===void 0?ct:Math.min(w.end,rt);!q.extend&&ct>Yt&&(g=Yt,Yt=ct,ct=g);var U=ng(E,ct),D=ng(E,Yt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ct>Yt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}cc=!!$f,Wf=$f=null}finally{zt=h,$.p=o,j.T=r}}e.current=n,Ce=2}}function vy(){if(Ce===2){Ce=0;var e=Rr,n=Sa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var o=$.p;$.p=2;var h=zt;zt|=4;try{Kp(e,n.alternate,n)}finally{zt=h,$.p=o,j.T=r}}Ce=3}}function Ey(){if(Ce===4||Ce===3){Ce=0,Hl();var e=Rr,n=Sa,r=Gi,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ce=5:(Ce=0,Sa=Rr=null,Ty(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Ii(r),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=$.p,$.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{j.T=n,$.p=h}}(Gi&3)!==0&&$u(),_i(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===zf?Jo++:(Jo=0,zf=e):Jo=0,Zo(0)}}function Ty(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,No(n)))}function $u(){return _y(),vy(),Ey(),Ay()}function Ay(){if(Ce!==5)return!1;var e=Rr,n=Pf;Pf=0;var r=Ii(Gi),o=j.T,h=$.p;try{$.p=32>r?32:r,j.T=null,r=kf,kf=null;var f=Rr,g=Gi;if(Ce=0,Sa=Rr=null,Gi=0,(zt&6)!==0)throw Error(s(331));var E=zt;if(zt|=4,iy(f.current),ty(f,f.current,g,r),zt=E,Zo(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{$.p=h,j.T=o,Ty(e,n)}}function Sy(e,n,r){n=bn(r,n),n=yf(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(ts(e,2),_i(e))}function Gt(e,n,r){if(e.tag===3)Sy(e,e,r);else for(;n!==null;){if(n.tag===3){Sy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(br===null||!br.has(o))){e=bn(r,e),r=bp(2),o=_r(n,r,2),o!==null&&(Rp(r,o,n,e),ts(o,2),_i(o));break}}n=n.return}}function Hf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new K0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Uf=!0,h.add(r),e=$0.bind(null,e,n,r),n.then(e,e))}function $0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(wt&r)===r&&(le===4||le===3&&(wt&62914560)===wt&&300>Je()-Qu?(zt&2)===0&&ba(e,0):Lf|=r,Aa===wt&&(Aa=0)),_i(e)}function by(e,n){n===0&&(n=Yl()),e=ms(e,n),e!==null&&(ts(e,n),_i(e))}function W0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),by(e,r)}function tA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),by(e,r)}function eA(e,n){return Ie(e,n)}var Wu=null,wa=null,jf=!1,tc=!1,Gf=!1,Ir=0;function _i(e){e!==wa&&e.next===null&&(wa===null?Wu=wa=e:wa=wa.next=e),tc=!0,jf||(jf=!0,iA())}function Zo(e,n){if(!Gf&&tc){Gf=!0;do for(var r=!1,o=Wu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ue(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cy(o,f))}else f=wt,f=ti(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(r=!0,Cy(o,f));o=o.next}while(r);Gf=!1}}function nA(){Ry()}function Ry(){tc=jf=!1;var e=0;Ir!==0&&dA()&&(e=Ir);for(var n=Je(),r=null,o=Wu;o!==null;){var h=o.next,f=wy(o,n);f===0?(o.next=null,r===null?Wu=h:r.next=h,h===null&&(wa=r)):(r=o,(e!==0||(f&3)!==0)&&(tc=!0)),o=h}Ce!==0&&Ce!==5||Zo(e),Ir!==0&&(Ir=0)}function wy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,w=h[g];w===-1?((E&r)===0||(E&o)!==0)&&(h[g]=_h(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=wt,r=ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&er(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&er(o),Ii(r)){case 2:case 8:r=ao;break;case 32:r=nr;break;case 268435456:r=jl;break;default:r=nr}return o=Iy.bind(null,e),r=Ie(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&er(o),e.callbackPriority=2,e.callbackNode=null,2}function Iy(e,n){if(Ce!==0&&Ce!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if($u()&&e.callbackNode!==r)return null;var o=wt;return o=ti(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),wy(e,Je()),e.callbackNode!=null&&e.callbackNode===r?Iy.bind(null,e):null)}function Cy(e,n){if($u())return null;ly(e,n,!0)}function iA(){gA(function(){(zt&6)!==0?Ie(so,nA):Ry()})}function Ff(){if(Ir===0){var e=ha;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Ir=e}return Ir}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Oy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function rA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Dy((h[Ne]||null).action),g=o.submitter;g&&(n=(n=g[Ne]||null)?Dy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ir!==0){var w=g?Oy(h,g):new FormData(h);hf(r,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Oy(h,g):new FormData(h),hf(r,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Qf=0;Qf<Ih.length;Qf++){var Kf=Ih[Qf],sA=Kf.toLowerCase(),aA=Kf[0].toUpperCase()+Kf.slice(1);Hn(sA,"on"+aA)}Hn(og,"onAnimationEnd"),Hn(lg,"onAnimationIteration"),Hn(ug,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(A0,"onTransitionRun"),Hn(S0,"onTransitionStart"),Hn(b0,"onTransitionCancel"),Hn(cg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Ny(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,k=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){gu(H)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,k=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(H){gu(H)}h.currentTarget=null,f=w}}}}function Rt(e,n){var r=n[Fs];r===void 0&&(r=n[Fs]=new Set);var o=e+"__bubble";r.has(o)||(Vy(n,e,2,!1),r.add(o))}function Yf(e,n,r){var o=0;n&&(o|=4),Vy(r,e,o,n)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Xf(e){if(!e[ec]){e[ec]=!0,uo.forEach(function(r){r!=="selectionchange"&&(oA.has(r)||Yf(r,!1,e),Yf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ec]||(n[ec]=!0,Yf("selectionchange",!1,n))}}function Vy(e,n,r,o){switch(o_(n)){case 2:var h=LA;break;case 8:h=xA;break;default:h=cd}r=h.bind(null,n,r,e),h=void 0,!as||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function Jf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}lr(function(){var k=f,H=En(r),Q=[];t:{var z=hg.get(e);if(z!==void 0){var q=hi,rt=e;switch(e){case"keypress":if(ls(r)===0)break t;case"keydown":case"keyup":q=fu;break;case"focusin":rt="focus",q=cs;break;case"focusout":rt="blur",q=cs;break;case"beforeblur":case"afterblur":q=cs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case og:case lg:case ug:q=su;break;case cg:q=T;break;case"scroll":case"scrollend":q=Ao;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Et}var ct=(n&4)!==0,Yt=!ct&&(e==="scroll"||e==="scrollend"),U=ct?z!==null?z+"Capture":null:z;ct=[];for(var D=k,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=kn(D,U),F!=null&&ct.push(Wo(D,F,P))),Yt)break;D=D.return}0<ct.length&&(z=new q(z,rt,null,r,H),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==vo&&(rt=r.relatedTarget||r.fromElement)&&(ri(rt)||rt[ni]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=k,rt=rt?ri(rt):null,rt!==null&&(Yt=c(rt),ct=rt.tag,rt!==Yt||ct!==5&&ct!==27&&ct!==6)&&(rt=null)):(q=null,rt=k),q!==rt)){if(ct=So,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Oi,F="onPointerLeave",U="onPointerEnter",D="pointer"),Yt=q==null?z:un(q),P=rt==null?z:un(rt),z=new ct(F,D+"leave",q,r,H),z.target=Yt,z.relatedTarget=P,F=null,ri(H)===k&&(ct=new ct(U,D+"enter",rt,r,H),ct.target=P,ct.relatedTarget=Yt,F=ct),Yt=F,q&&rt)e:{for(ct=lA,U=q,D=rt,P=0,F=U;F;F=ct(F))P++;F=0;for(var ot=D;ot;ot=ct(ot))F++;for(;0<P-F;)U=ct(U),P--;for(;0<F-P;)D=ct(D),F--;for(;P--;){if(U===D||D!==null&&U===D.alternate){ct=U;break e}U=ct(U),D=ct(D)}ct=null}else ct=null;q!==null&&My(Q,z,q,ct,!1),rt!==null&&Yt!==null&&My(Q,Yt,rt,ct,!0)}}t:{if(z=k?un(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Lt=Jm;else if(Ym(z))if(Zm)Lt=v0;else{Lt=y0;var st=p0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&Xs(k.elementType)&&(Lt=Jm):Lt=_0;if(Lt&&(Lt=Lt(e,k))){Xm(Q,Lt,r,H);break t}st&&st(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&po(z,"number",z.value)}switch(st=k?un(k):window,e){case"focusin":(Ym(st)||st.contentEditable==="true")&&(ia=st,bh=k,Co=null);break;case"focusout":Co=bh=ia=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,sg(Q,r,H);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":sg(Q,r,H)}var St;if(kt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else na?hs(e,r)&&(It="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(It="onCompositionStart");It&&(mi&&r.locale!=="ko"&&(na||It!=="onCompositionStart"?It==="onCompositionEnd"&&na&&(St=To()):(ci=H,Eo="value"in ci?ci.value:ci.textContent,na=!0)),st=nc(k,It),0<st.length&&(It=new di(It,e,null,r,H),Q.push({event:It,listeners:st}),St?It.data=St:(St=ea(r),St!==null&&(It.data=St)))),(St=An?f0(e,r):d0(e,r))&&(It=nc(k,"onBeforeInput"),0<It.length&&(st=new di("onBeforeInput","beforeinput",null,r,H),Q.push({event:st,listeners:It}),st.data=St)),rA(Q,e,k,r,H)}Ny(Q,n)})}function Wo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function nc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=kn(e,r),h!=null&&o.unshift(Wo(e,h,f)),h=kn(e,n),h!=null&&o.push(Wo(e,h,f))),e.tag===3)return o;e=e.return}return[]}function lA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function My(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,w=E.alternate,k=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||k===null||(w=k,h?(k=kn(r,f),k!=null&&g.unshift(Wo(r,k,w))):h||(k=kn(r,f),k!=null&&g.push(Wo(r,k,w)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function Uy(e){return(typeof e=="string"?e:""+e).replace(uA,`
`).replace(cA,"")}function Ly(e,n){return n=Uy(n),Uy(e)===n}function Kt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||tn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&tn(e,""+o);break;case"className":cn(e,"class",o);break;case"tabIndex":cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,r,o);break;case"style":_o(e,o,f);break;case"data":if(n!=="object"){cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Js(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Pn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Ks(e,"popover",o);break;case"xlinkActuate":_e(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_e(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_e(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_e(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_e(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_e(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_e(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ks(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nu.get(r)||r,Ks(e,r,o))}}function Zf(e,n,r,o,h,f){switch(r){case"style":_o(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?tn(e,o):(typeof o=="number"||typeof o=="bigint")&&tn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!co.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ne]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ks(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,f,g,r,null)}}h&&Kt(e,n,"srcSet",r.srcSet,r,null),o&&Kt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,w=null,k=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":k=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(e,n,o,H,r,null)}}Wl(e,f,E,w,k,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Kt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?rr(e,!!o,n,!1):r!=null&&rr(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,n,g,E,r,null)}sr(e,o,h,f);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(o=r[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Kt(e,n,w,o,r,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<$o.length;o++)Rt($o[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,k,o,r,null)}return;default:if(Xs(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Zf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Kt(e,n,E,o,r,null))}function hA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,w=null,k=null,H=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(q)||Kt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Kt(e,n,z,q,o,Q)}}Ys(e,g,E,w,k,H,f,h);return;case"select":q=g=E=z=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Kt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=r[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Kt(e,n,h,f,o,w)}n=E,r=g,o=q,z!=null?rr(e,!!r,z,!1):!!o!=!!r&&(n!=null?rr(e,!!r,n,!0):rr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,n,g,h,o,f)}tu(e,z,q);return;case"option":for(var rt in r)if(z=r[rt],r.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Kt(e,n,rt,null,o,z)}for(w in o)if(z=o[w],q=r[w],o.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Kt(e,n,w,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Kt(e,n,ct,null,o,z);for(k in o)if(z=o[k],q=r[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Kt(e,n,k,z,o,q)}return;default:if(Xs(n)){for(var Yt in r)z=r[Yt],r.hasOwnProperty(Yt)&&z!==void 0&&!o.hasOwnProperty(Yt)&&Zf(e,n,Yt,void 0,o,z);for(H in o)z=o[H],q=r[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||Zf(e,n,H,z,o,q);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Kt(e,n,U,null,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Kt(e,n,Q,z,o,q)}function xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&xy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var w=r[o],k=w.startTime;if(k>E)break;var H=w.transferSize,Q=w.initiatorType;H&&xy(Q)&&(w=w.responseEnd,g+=H*(w<E?1:(E-k)/(w-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $f=null,Wf=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ed=null;function dA(){var e=window.event;return e&&e.type==="popstate"?e===ed?!1:(ed=e,!0):(ed=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(pA)}:zy;function pA(e){setTimeout(function(){throw e})}function Cr(e){return e==="head"}function qy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Oa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")tl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,tl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&tl(e.ownerDocument.body);r=h}while(r);Oa(n)}function Hy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nd(r),Qs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function yA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function _A(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Dn(e.nextSibling),e===null))return null;return e}function jy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function id(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function vA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var sd=null;function Gy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Dn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Fy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Qy(e,n,r){switch(n=ic(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qs(e)}var On=new Map,Ky=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=$.d;$.d={f:EA,r:TA,D:AA,C:SA,L:bA,m:RA,X:IA,S:wA,M:CA};function EA(){var e=Fi.f(),n=Xu();return e||n}function TA(e){var n=vn(e);n!==null&&n.tag===5&&n.type==="form"?cp(n):Fi.r(e)}var Ia=typeof document>"u"?null:document;function Yy(e,n,r){var o=Ia;if(o&&typeof n=="string"&&n){var h=We(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ky.has(h)||(Ky.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),qe(n,"link",e),ye(n),o.head.appendChild(n)))}}function AA(e){Fi.D(e),Yy("dns-prefetch",e,null)}function SA(e,n){Fi.C(e,n),Yy("preconnect",e,n)}function bA(e,n,r){Fi.L(e,n,r);var o=Ia;if(o&&e&&n){var h='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+We(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+We(r.imageSizes)+'"]')):h+='[href="'+We(e)+'"]';var f=h;switch(n){case"style":f=Ca(e);break;case"script":f=Da(e)}On.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),qe(n,"link",e),ye(n),o.head.appendChild(n)))}}function RA(e,n){Fi.m(e,n);var r=Ia;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+We(o)+'"][href="'+We(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Da(e)}if(!On.has(f)&&(e=b({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nl(f)))return}o=r.createElement("link"),qe(o,"link",e),ye(o),r.head.appendChild(o)}}}function wA(e,n,r){Fi.S(e,n,r);var o=Ia;if(o&&e){var h=si(o).hoistableStyles,f=Ca(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(el(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&ad(e,r);var w=g=o.createElement("link");ye(w),qe(w,"link",e),w._p=new Promise(function(k,H){w.onload=k,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function IA(e,n){Fi.X(e,n);var r=Ia;if(r&&e){var o=si(r).hoistableScripts,h=Da(e),f=o.get(h);f||(f=r.querySelector(nl(h)),f||(e=b({src:e,async:!0},n),(n=On.get(h))&&od(e,n),f=r.createElement("script"),ye(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function CA(e,n){Fi.M(e,n);var r=Ia;if(r&&e){var o=si(r).hoistableScripts,h=Da(e),f=o.get(h);f||(f=r.querySelector(nl(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=On.get(h))&&od(e,n),f=r.createElement("script"),ye(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Xy(e,n,r,o){var h=(h=At.current)?rc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ca(r.href),r=si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ca(r.href);var f=si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(el(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||DA(h,e,r,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Da(r),r=si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ca(e){return'href="'+We(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function Jy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function DA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),ye(n),e.head.appendChild(n))}function Da(e){return'[src="'+We(e)+'"]'}function nl(e){return"script[async]"+e}function Zy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+We(r.href)+'"]');if(o)return n.instance=o,ye(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ye(o),qe(o,"style",h),sc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ca(r.href);var f=e.querySelector(el(h));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;o=Jy(r),(h=On.get(h))&&ad(o,h),f=(e.ownerDocument||e).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",o),n.state.loading|=4,sc(f,r.precedence,e),n.instance=f;case"script":return f=Da(r.src),(h=e.querySelector(nl(f)))?(n.instance=h,ye(h),h):(o=r,(h=On.get(f))&&(o=b({},r),od(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ye(h),qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,sc(o,r.precedence,e));return n.instance}function sc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function $y(e,n,r){if(ac===null){var o=new Map,h=ac=new Map;h.set(r,o)}else h=ac,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ii]||f[pe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function Wy(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function OA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function NA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ca(o.href),f=n.querySelector(el(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=oc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ye(f);return}f=n.ownerDocument||n,o=Jy(o),(h=On.get(h))&&ad(o,h),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=oc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var ld=0;function VA(e,n){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&ld===0&&(ld=62500*fA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>ld?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function oc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(MA,e),lc=null,oc.call(e))}function MA(e,n){if(!(n.state.loading&4)){var r=lc.get(e);if(r)var o=r.get(null);else{r=new Map,lc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var il={$$typeof:vt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function UA(e,n,r,o,h,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function e_(e,n,r,o,h,f,g,E,w,k,H,Q){return e=new UA(e,n,r,g,w,k,H,Q,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=Bh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Gh(f),e}function n_(e){return e?(e=aa,e):aa}function i_(e,n,r,o,h,f){h=n_(h),o.context===null?o.context=h:o.pendingContext=h,o=yr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=_r(e,o,n),r!==null&&(an(r,e,n),Lo(r,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ud(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=ms(e,67108864);n!==null&&an(n,e,67108864),ud(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=yn();n=ns(n);var r=ms(e,n);r!==null&&an(r,e,n),ud(e,n)}}var cc=!0;function LA(e,n,r,o){var h=j.T;j.T=null;var f=$.p;try{$.p=2,cd(e,n,r,o)}finally{$.p=f,j.T=h}}function xA(e,n,r,o){var h=j.T;j.T=null;var f=$.p;try{$.p=8,cd(e,n,r,o)}finally{$.p=f,j.T=h}}function cd(e,n,r,o){if(cc){var h=hd(o);if(h===null)Jf(e,n,o,hc,r),l_(e,o);else if(kA(h,e,n,r,o))o.stopPropagation();else if(l_(e,o),n&4&&-1<PA.indexOf(e)){for(;h!==null;){var f=vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ue(g);E.entanglements[1]|=w,g&=~w}_i(f),(zt&6)===0&&(Ku=Je()+500,Zo(0))}}break;case 31:case 13:E=ms(f,2),E!==null&&an(E,f,2),Xu(),ud(f,2)}if(f=hd(o),f===null&&Jf(e,n,o,hc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else Jf(e,n,o,null,r)}}function hd(e){return e=En(e),fd(e)}var hc=null;function fd(e){if(hc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hc=e,null}function o_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($r()){case so:return 2;case ao:return 8;case nr:case yh:return 32;case jl:return 268435456;default:return 32}default:return 32}}var dd=!1,Dr=null,Or=null,Nr=null,rl=new Map,sl=new Map,Vr=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l_(e,n){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=vn(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function kA(e,n,r,o,h){switch(n){case"focusin":return Dr=al(Dr,e,n,r,o,h),!0;case"dragenter":return Or=al(Or,e,n,r,o,h),!0;case"mouseover":return Nr=al(Nr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return rl.set(f,al(rl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,sl.set(f,al(sl.get(f)||null,e,n,r,o,h)),!0}return!1}function u_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){a_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Ln(e.priority,function(){a_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=hd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);vo=o,r.target.dispatchEvent(o),vo=null}else return n=vn(r),n!==null&&s_(n),e.blockedOn=r,!1;n.shift()}return!0}function c_(e,n,r){fc(e)&&r.delete(n)}function zA(){dd=!1,Dr!==null&&fc(Dr)&&(Dr=null),Or!==null&&fc(Or)&&(Or=null),Nr!==null&&fc(Nr)&&(Nr=null),rl.forEach(c_),sl.forEach(c_)}function dc(e,n){e.blockedOn===n&&(e.blockedOn=null,dd||(dd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zA)))}var mc=null;function h_(e){mc!==e&&(mc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(fd(o||r)===null)continue;break}var f=vn(r);f!==null&&(e.splice(n,3),n-=3,hf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Oa(e){function n(w){return dc(w,e)}Dr!==null&&dc(Dr,e),Or!==null&&dc(Or,e),Nr!==null&&dc(Nr,e),rl.forEach(n),sl.forEach(n);for(var r=0;r<Vr.length;r++){var o=Vr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)u_(r),r.blockedOn===null&&Vr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ne]||null;if(typeof f=="function")g||h_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ne]||null)E=g.formAction;else if(fd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),h_(r)}}}function f_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function md(e){this._internalRoot=e}gc.prototype.render=md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=yn();i_(r,o,e,n,null,null)},gc.prototype.unmount=md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;i_(e.current,2,null,e,null,null),Xu(),n[ni]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,e),r===0&&u_(e)}};var d_=t.version;if(d_!=="19.2.4")throw Error(s(527,d_,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var BA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Mn=pc.inject(BA),xe=pc}catch{}}return ll.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=Ep,f=Tp,g=Ap;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e_(e,1,!1,null,null,r,o,null,h,f,g,f_),e[ni]=n.current,Xf(e),new md(n)},ll.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=Ep,g=Tp,E=Ap,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),n=e_(e,1,!0,n,r??null,o,h,w,f,g,E,f_),n.context=n_(null),r=n.current,o=yn(),o=ns(o),h=yr(o),h.callback=null,_r(r,h,o),r=o,n.current.lanes=r,ts(n,r),_i(n),e[ni]=n.current,Xf(e),new gc(n)},ll.version="19.2.4",ll}var S_;function ZA(){if(S_)return yd.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yd.exports=JA(),yd.exports}var $A=ZA();const WA=Kv($A),tS=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},eS=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let V=(p&15)<<2|v>>6,G=v&63;_||(G=64,d||(V=64)),s.push(i[A],i[b],i[V],i[G])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Yv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):eS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const b=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new nS;const V=c<<2|p>>4;if(s.push(V),v!==64){const G=p<<4&240|v>>2;if(s.push(G),b!==64){const Z=v<<6&192|b;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(a){const t=Yv(a);return Xv.encodeByteArray(t,!0)},Uc=function(a){return iS(a).replace(/\./g,"")},Jv=function(a){try{return Xv.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>rS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof b_>"u")return;const a=b_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},oS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Jv(a[1]);return t&&JSON.parse(t)},th=()=>{try{return tS()||sS()||aS()||oS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Zv=a=>{var t,i;return(i=(t=th())==null?void 0:t.emulatorHosts)==null?void 0:i[a]},lS=a=>{const t=Zv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},$v=()=>{var a;return(a=th())==null?void 0:a.config},Wv=a=>{var t;return(t=th())==null?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const gl={};function hS(){const a={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?a.emulator.push(t):a.prod.push(t);return a}function fS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let R_=!1;function eE(a,t){if(typeof window>"u"||typeof document>"u"||!Xa(window.location.host)||gl[a]===t||gl[a]||R_)return;gl[a]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=hS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{R_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function b(){const V=fS(s),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),_t=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const vt=V.element;p(vt),A(tt,et);const Xt=v();_(_t,ft),vt.append(_t,Z,tt,Xt),document.body.appendChild(vt)}c?(Z.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function mS(){var t;const a=(t=th())==null?void 0:t.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _S(){const a=Xe();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function vS(){return!mS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ES(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)==null?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class tr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=AS,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?SS(c,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new tr(l,p,s)}}function SS(a,t){return a.replace(bS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const bS=/\{\$([^}]+)}/g;function RS(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Vs(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(w_(c)&&w_(d)){if(!Vs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function w_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function wS(a,t){const i=new IS(a,t);return i.subscribe.bind(i)}class IS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");CS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Td),l.error===void 0&&(l.error=Td),l.complete===void 0&&(l.complete=Td);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(a){return a&&a._delegate?a._delegate:a}class Ms{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new uS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NS(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OS(a){return a===Is?void 0:a}function NS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new DS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const MS={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},US=Ct.INFO,LS={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},xS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=LS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=US,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const PS=(a,t)=>t.some(i=>a instanceof i);let I_,C_;function kS(){return I_||(I_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nE=new WeakMap,Md=new WeakMap,iE=new WeakMap,Ad=new WeakMap,sm=new WeakMap;function BS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(zr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&nE.set(i,a)}).catch(()=>{}),sm.set(t,a),t}function qS(a){if(Md.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Md.set(a,t)}let Ud={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Md.get(a);if(t==="objectStoreNames")return a.objectStoreNames||iE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function HS(a){Ud=a(Ud)}function jS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Sd(this),t,...i);return iE.set(s,t.sort?t.sort():[t]),zr(s)}:zS().includes(a)?function(...t){return a.apply(Sd(this),t),zr(nE.get(this))}:function(...t){return zr(a.apply(Sd(this),t))}}function GS(a){return typeof a=="function"?jS(a):(a instanceof IDBTransaction&&qS(a),PS(a,kS())?new Proxy(a,Ud):a)}function zr(a){if(a instanceof IDBRequest)return BS(a);if(Ad.has(a))return Ad.get(a);const t=GS(a);return t!==a&&(Ad.set(a,t),sm.set(t,a)),t}const Sd=a=>sm.get(a);function FS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=zr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(zr(d.result),_.oldVersion,_.newVersion,zr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const QS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],bd=new Map;function D_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(bd.get(t))return bd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=KS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||QS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&_.done]))[0]};return bd.set(t,c),c}HS(a=>({...a,get:(t,i,s)=>D_(t,i)||a.get(t,i,s),has:(t,i)=>!!D_(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function XS(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ld="@firebase/app",O_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new rm("@firebase/app"),JS="@firebase/app-compat",ZS="@firebase/analytics-compat",$S="@firebase/analytics",WS="@firebase/app-check-compat",t1="@firebase/app-check",e1="@firebase/auth",n1="@firebase/auth-compat",i1="@firebase/database",r1="@firebase/data-connect",s1="@firebase/database-compat",a1="@firebase/functions",o1="@firebase/functions-compat",l1="@firebase/installations",u1="@firebase/installations-compat",c1="@firebase/messaging",h1="@firebase/messaging-compat",f1="@firebase/performance",d1="@firebase/performance-compat",m1="@firebase/remote-config",g1="@firebase/remote-config-compat",p1="@firebase/storage",y1="@firebase/storage-compat",_1="@firebase/firestore",v1="@firebase/ai",E1="@firebase/firestore-compat",T1="firebase",A1="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",S1={[Ld]:"fire-core",[JS]:"fire-core-compat",[$S]:"fire-analytics",[ZS]:"fire-analytics-compat",[t1]:"fire-app-check",[WS]:"fire-app-check-compat",[e1]:"fire-auth",[n1]:"fire-auth-compat",[i1]:"fire-rtdb",[r1]:"fire-data-connect",[s1]:"fire-rtdb-compat",[a1]:"fire-fn",[o1]:"fire-fn-compat",[l1]:"fire-iid",[u1]:"fire-iid-compat",[c1]:"fire-fcm",[h1]:"fire-fcm-compat",[f1]:"fire-perf",[d1]:"fire-perf-compat",[m1]:"fire-rc",[g1]:"fire-rc-compat",[p1]:"fire-gcs",[y1]:"fire-gcs-compat",[_1]:"fire-fst",[E1]:"fire-fst-compat",[v1]:"fire-vertex","fire-js":"fire-js",[T1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,b1=new Map,Pd=new Map;function N_(a,t){try{a.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function qa(a){const t=a.name;if(Pd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,a);for(const i of Lc.values())N_(i,a);for(const i of b1.values())N_(i,a);return!0}function am(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Fn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new Vl("app","Firebase",R1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=A1;function rE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s={name:xd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Br.create("bad-app-name",{appName:String(l)});if(i||(i=$v()),!i)throw Br.create("no-options");const c=Lc.get(l);if(c){if(Vs(i,c.options)&&Vs(s,c.config))return c;throw Br.create("duplicate-app",{appName:l})}const d=new VS(l);for(const _ of Pd.values())d.addComponent(_);const p=new w1(i,s,d);return Lc.set(l,p),p}function sE(a=xd){const t=Lc.get(a);if(!t&&a===xd&&$v())return rE();if(!t)throw Br.create("no-app",{appName:a});return t}function qr(a,t,i){let s=S1[a]??a;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}qa(new Ms(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebase-heartbeat-database",C1=1,Al="firebase-heartbeat-store";let Rd=null;function aE(){return Rd||(Rd=FS(I1,C1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(a=>{throw Br.create("idb-open",{originalErrorMessage:a.message})})),Rd}async function D1(a){try{const i=(await aE()).transaction(Al),s=await i.objectStore(Al).get(oE(a));return await i.done,s}catch(t){if(t instanceof tr)Ji.warn(t.message);else{const i=Br.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(i.message)}}}async function V_(a,t){try{const s=(await aE()).transaction(Al,"readwrite");await s.objectStore(Al).put(t,oE(a)),await s.done}catch(i){if(i instanceof tr)Ji.warn(i.message);else{const s=Br.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ji.warn(s.message)}}}function oE(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=1024,N1=30;class V1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new U1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=M_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>N1){const d=L1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=M_(),{heartbeatsToSend:s,unsentEntries:l}=M1(this._heartbeatsCache.heartbeats),c=Uc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ji.warn(i),""}}}function M_(){return new Date().toISOString().substring(0,10)}function M1(a,t=O1){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),U_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),U_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class U1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ES()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await D1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function U_(a){return Uc(JSON.stringify({version:2,heartbeats:a})).length}function L1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(a){qa(new Ms("platform-logger",t=>new YS(t),"PRIVATE")),qa(new Ms("heartbeat",t=>new V1(t),"PRIVATE")),qr(Ld,O_,a),qr(Ld,O_,"esm2020"),qr("fire-js","")}x1("");var P1="firebase",k1="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(P1,k1,"app");function lE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z1=lE,uE=new Vl("auth","Firebase",lE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new rm("@firebase/auth");function B1(a,...t){xc.logLevel<=Ct.WARN&&xc.warn(`Auth (${Ja}): ${a}`,...t)}function bc(a,...t){xc.logLevel<=Ct.ERROR&&xc.error(`Auth (${Ja}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(a,...t){throw lm(a,...t)}function Yn(a,...t){return lm(a,...t)}function om(a,t,i){const s={...z1(),[t]:i};return new Vl("auth","Firebase",s).create(t,{appName:a.name})}function Os(a){return om(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q1(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&bi(a,"argument-error"),om(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return uE.create(a,...t)}function dt(a,t,...i){if(!a)throw lm(t,...i)}function Ki(a){const t="INTERNAL ASSERTION FAILED: "+a;throw bc(t),new Error(t)}function Zi(a,t){a||Ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function H1(){return L_()==="http:"||L_()==="https:"}function L_(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H1()||pS()||"connection"in navigator)?navigator.onLine:!0}function G1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zi(i>t,"Short delay should be less than long delay!"),this.isMobile=dS()||yS()}get(){return j1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(a,t){Zi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K1=new Ul(3e4,6e4);function cm(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Za(a,t,i,s,l={}){return hE(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=Ml({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...c};return gS()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Xa(a.emulatorConfig.host)&&(v.credentials="include"),cE.fetch()(await fE(a,a.config.apiHost,i,p),v)})}async function hE(a,t,i){a._canInitEmulator=!1;const s={...F1,...t};try{const l=new X1(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw yc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw yc(a,"user-disabled",d);const A=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw om(a,A,v);bi(a,A)}}catch(l){if(l instanceof tr)throw l;bi(a,"network-request-failed",{message:String(l)})}}async function Y1(a,t,i,s,l={}){const c=await Za(a,t,i,s,l);return"mfaPendingCredential"in c&&bi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function fE(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?um(a.config,l):`${a.config.apiScheme}://${l}`;return Q1.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class X1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),K1.get())})}}function yc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Yn(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(a,t){return Za(a,"POST","/v1/accounts:delete",t)}async function Pc(a,t){return Za(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Z1(a,t=!1){const i=Jn(a),s=await i.getIdToken(t),l=hm(s);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:pl(wd(l.auth_time)),issuedAtTime:pl(wd(l.iat)),expirationTime:pl(wd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function wd(a){return Number(a)*1e3}function hm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Jv(i);return l?JSON.parse(l):(bc("Failed to decode base64 JWT payload"),null)}catch(l){return bc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function x_(a){const t=hm(a);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof tr&&$1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function $1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(a){var b;const t=a.auth,i=await a.getIdToken(),s=await Sl(a,Pc(t,{idToken:i}));dt(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];a._notifyReloadListener(l);const c=(b=l.providerUserInfo)!=null&&b.length?dE(l.providerUserInfo):[],d=eb(a.providerData,c),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(a,A)}async function tb(a){const t=Jn(a);await kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eb(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function dE(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(a,t){const i=await hE(a,{},async()=>{const s=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await fE(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return a.emulatorConfig&&Xa(a.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ib(a,t){return Za(a,"POST","/v2/accounts:revokeToken",cm(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):x_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=x_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await nb(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new xa;return s&&(dt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(a,t){dt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Qn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new W1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Z1(this,t)}reload(){return tb(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Qn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await Sl(this,J1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:G,providerData:Z,stsTokenManager:et}=i;dt(b&&et,t,"internal-error");const tt=xa.fromJSON(this.name,et);dt(typeof b=="string",t,"internal-error"),Ur(s,t.name),Ur(l,t.name),dt(typeof V=="boolean",t,"internal-error"),dt(typeof G=="boolean",t,"internal-error"),Ur(c,t.name),Ur(d,t.name),Ur(p,t.name),Ur(_,t.name),Ur(v,t.name),Ur(A,t.name);const ft=new Qn({uid:b,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:v,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ft.providerData=Z.map(_t=>({..._t}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,s=!1){const l=new xa;l.updateFromServerResponse(i);const c=new Qn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await kc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?dE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new xa;p.updateFromIdToken(s);const _=new Qn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Yi(a){Zi(a instanceof Function,"Expected a class definition");let t=P_.get(a);return t?(Zi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,P_.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}mE.type="NONE";const k_=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(a,t,i){return`firebase:${a}:${t}:${i}`}class Pa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Rc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Pc(this.auth,{idToken:t}).catch(()=>{});return i?Qn._fromGetAccountInfoResponse(this.auth,i,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Pa(Yi(k_),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Yi(k_);const d=Rc(s,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const V=await Pc(t,{idToken:A}).catch(()=>{});if(!V)break;b=await Qn._fromGetAccountInfoResponse(t,V,A)}else b=Qn._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Pa(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Pa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_E(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(EE(t))return"Blackberry";if(TE(t))return"Webos";if(pE(t))return"Safari";if((t.includes("chrome/")||yE(t))&&!t.includes("edge/"))return"Chrome";if(vE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gE(a=Xe()){return/firefox\//i.test(a)}function pE(a=Xe()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yE(a=Xe()){return/crios\//i.test(a)}function _E(a=Xe()){return/iemobile/i.test(a)}function vE(a=Xe()){return/android/i.test(a)}function EE(a=Xe()){return/blackberry/i.test(a)}function TE(a=Xe()){return/webos/i.test(a)}function fm(a=Xe()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function rb(a=Xe()){var t;return fm(a)&&!!((t=window.navigator)!=null&&t.standalone)}function sb(){return _S()&&document.documentMode===10}function AE(a=Xe()){return fm(a)||vE(a)||TE(a)||EE(a)||/windows phone/i.test(a)||_E(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(a,t=[]){let i;switch(a){case"Browser":i=z_(Xe());break;case"Worker":i=`${z_(Xe())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(a,t={}){return Za(a,"GET","/v2/passwordPolicy",cm(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=6;class ub{constructor(t){var s;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Pc(this,{idToken:t}),s=await Qn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var c;if(Fn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=s==null?void 0:s._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===p)&&(_!=null&&_.user)&&(s=_.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await kc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(Os(this));const i=t?Jn(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ob(this),i=new ub(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await ib(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var i;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&B1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function eh(a){return Jn(a)}class B_{constructor(t){this.auth=t,this.observer=null,this.addObserver=wS(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hb(a){dm=a}function fb(a){return dm.loadJS(a)}function db(){return dm.gapiScript}function mb(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(a,t){const i=am(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vs(c,t??{}))return l;bi(l,"already-initialized")}return i.initialize({options:t})}function pb(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Yi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function yb(a,t,i){const s=eh(a);dt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=bE(t),{host:d,port:p}=_b(t),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){dt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),dt(Vs(v,s.config.emulator)&&Vs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,Xa(d)?(tE(`${c}//${d}${_}`),eE("Auth",!0)):vb()}function bE(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function _b(a){const t=bE(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:q_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:q_(d)}}}function q_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function vb(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(a,t){return Y1(a,"POST","/v1/accounts:signInWithIdp",cm(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="http://localhost";class Us extends RE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):bi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Us(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ka(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,ka(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ka(t,i)}buildRequest(){const t={requestUri:Eb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ml(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends mm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Ll{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Us._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Qi.credential(i,s)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ll{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ll{constructor(){super("twitter.com")}static credential(t,i){return Us._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Pr.credential(i,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Qn._fromIdTokenResponse(t,s,l),d=H_(s);return new Ha({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=H_(s);return new Ha({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function H_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends tr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new zc(t,i,s,l)}}function wE(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(a,c,t,s):c})}async function Tb(a,t,i=!1){const s=await Sl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ha._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(a,t,i=!1){const{auth:s}=a;if(Fn(s.app))return Promise.reject(Os(s));const l="reauthenticate";try{const c=await Sl(a,wE(s,l,t,a),i);dt(c.idToken,s,"internal-error");const d=hm(c.idToken);dt(d,s,"internal-error");const{sub:p}=d;return dt(a.uid===p,s,"user-mismatch"),Ha._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&bi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(a,t,i=!1){if(Fn(a.app))return Promise.reject(Os(a));const s="signIn",l=await wE(a,s,t),c=await Ha._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function bb(a,t,i,s){return Jn(a).onIdTokenChanged(t,i,s)}function Rb(a,t,i){return Jn(a).beforeAuthStateChanged(t,i)}function wb(a,t,i,s){return Jn(a).onAuthStateChanged(t,i,s)}const Bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=1e3,Cb=10;class CE extends IE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);sb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Cb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},Ib)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}CE.type="LOCAL";const Db=CE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends IE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}DE.type="SESSION";const OE=DE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await Ob(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=gm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(b){const V=b;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function Vb(a){Ei().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function Mb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ub(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function Lb(){return NE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firebaseLocalStorageDb",xb=1,qc="firebaseLocalStorage",ME="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(a,t){return a.transaction([qc],t?"readwrite":"readonly").objectStore(qc)}function Pb(){const a=indexedDB.deleteDatabase(VE);return new xl(a).toPromise()}function Bd(){const a=indexedDB.open(VE,xb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(qc,{keyPath:ME})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(qc)?t(s):(s.close(),await Pb(),t(await Bd()))})})}async function j_(a,t,i){const s=ih(a,!0).put({[ME]:t,value:i});return new xl(s).toPromise()}async function kb(a,t){const i=ih(a,!1).get(t),s=await new xl(i).toPromise();return s===void 0?null:s.value}function G_(a,t){const i=ih(a,!0).delete(t);return new xl(i).toPromise()}const zb=800,Bb=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>Bb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(Lb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await Mb(),!this.activeServiceWorker)return;this.sender=new Nb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ub()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bd();return await j_(t,Bc,"1"),await G_(t,Bc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>j_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>kb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>G_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ih(l,!1).getAll();return new xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const qb=UE;new Ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(a,t){return t?Yi(t):(dt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends RE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Hb(a){return Sb(a.auth,new pm(a),a.bypassAuthState)}function jb(a){const{auth:t,user:i}=a;return dt(i,t,"internal-error"),Ab(i,new pm(a),a.bypassAuthState)}async function Gb(a){const{auth:t,user:i}=a;return dt(i,t,"internal-error"),Tb(i,new pm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Hb;case"linkViaPopup":case"linkViaRedirect":return Gb;case"reauthViaPopup":case"reauthViaRedirect":return jb;default:bi(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Ul(2e3,1e4);async function Qb(a,t,i){if(Fn(a.app))return Promise.reject(Yn(a,"operation-not-supported-in-this-environment"));const s=eh(a);q1(a,t,mm);const l=LE(s,i);return new Cs(s,"signInViaPopup",t,l).executeNotNull()}class Cs extends xE{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Fb.get())};t()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="pendingRedirect",wc=new Map;class Yb extends xE{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const s=await Xb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xb(a,t){const i=$b(t),s=Zb(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function Jb(a,t){wc.set(a._key(),t)}function Zb(a){return Yi(a._redirectPersistence)}function $b(a){return Rc(Kb,a.config.apiKey,a.name)}async function Wb(a,t,i=!1){if(Fn(a.app))return Promise.reject(Os(a));const s=eh(a),l=LE(s,t),d=await new Yb(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=600*1e3;class eR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!PE(t)){const l=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(Yn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tR&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(t))}saveEventToCache(t){this.cachedEventUids.add(F_(t)),this.lastProcessedEventTime=Date.now()}}function F_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function PE({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function nR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(a,t={}){return Za(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sR=/^https?/;async function aR(a){if(a.config.emulator)return;const{authorizedDomains:t}=await iR(a);for(const i of t)try{if(oR(i))return}catch{}bi(a,"unauthorized-domain")}function oR(a){const t=kd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!sR.test(i))return!1;if(rR.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Ul(3e4,6e4);function Q_(){const a=Ei().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function uR(a){return new Promise((t,i)=>{var l,c,d;function s(){Q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q_(),i(Yn(a,"network-request-failed"))},timeout:lR.get()})}if((c=(l=Ei().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)t(gapi.iframes.getContext());else if((d=Ei().gapi)!=null&&d.load)s();else{const p=mb("iframefcb");return Ei()[p]=()=>{gapi.load?s():i(Yn(a,"network-request-failed"))},fb(`${db()}?onload=${p}`).catch(_=>i(_))}}).catch(t=>{throw Ic=null,t})}let Ic=null;function cR(a){return Ic=Ic||uR(a),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Ul(5e3,15e3),fR="__/auth/iframe",dR="emulator/auth/iframe",mR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pR(a){const t=a.config;dt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?um(t,dR):`https://${a.config.authDomain}/${fR}`,s={apiKey:t.apiKey,appName:a.name,v:Ja},l=gR.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Ml(s).slice(1)}`}async function yR(a){const t=await cR(a),i=Ei().gapi;return dt(i,a,"internal-error"),t.open({where:document.body,url:pR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=Yn(a,"network-request-failed"),p=Ei().setTimeout(()=>{c(d)},hR.get());function _(){Ei().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vR=500,ER=600,TR="_blank",AR="http://localhost";class K_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SR(a,t,i,s=vR,l=ER){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={..._R,width:s.toString(),height:l.toString(),top:c,left:d},v=Xe().toLowerCase();i&&(p=yE(v)?TR:i),gE(v)&&(t=t||AR,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[G,Z])=>`${V}${G}=${Z},`,"");if(rb(v)&&p!=="_self")return bR(t||"",p),new K_(null);const b=window.open(t||"",p,A);dt(b,a,"popup-blocked");try{b.focus()}catch{}return new K_(b)}function bR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="__/auth/handler",wR="emulator/auth/handler",IR=encodeURIComponent("fac");async function Y_(a,t,i,s,l,c){dt(a.config.authDomain,a,"auth-domain-config-required"),dt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ja,eventId:l};if(t instanceof mm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",RS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Ll){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),v=_?`#${IR}=${encodeURIComponent(_)}`:"";return`${CR(a)}?${Ml(p).slice(1)}${v}`}function CR({config:a}){return a.emulator?um(a,wR):`https://${a.authDomain}/${RR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="webStorageSupport";class DR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OE,this._completeRedirectFn=Wb,this._overrideRedirectResult=Jb}async _openPopup(t,i,s,l){var d;Zi((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await Y_(t,i,s,kd(),l);return SR(t,c,gm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Y_(t,i,s,kd(),l);return Vb(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Zi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await yR(t),s=new eR(t);return i.register("authEvent",l=>(dt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Id,{type:Id},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Id];c!==void 0&&i(!!c),bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=aR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return AE()||pE()||fm()}}const OR=DR;var X_="@firebase/auth",J_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MR(a){qa(new Ms("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(a)},v=new cb(s,l,c,_);return pb(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),qa(new Ms("auth-internal",t=>{const i=eh(t.getProvider("auth").getImmediate());return(s=>new NR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(X_,J_,VR(a)),qr(X_,J_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=300,LR=Wv("authIdTokenMaxAge")||UR;let Z_=null;const xR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>LR)return;const l=i==null?void 0:i.token;Z_!==l&&(Z_=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PR(a=sE()){const t=am(a,"auth");if(t.isInitialized())return t.getImmediate();const i=gb(a,{popupRedirectResolver:OR,persistence:[qb,Db,OE]}),s=Wv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=xR(c.toString());Rb(i,d,()=>d(i.currentUser)),bb(i,p=>d(p))}}const l=Zv("auth");return l&&yb(i,`http://${l}`),i}function kR(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}hb({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=Yn("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",kR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MR("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,kE;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,L){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return S.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)M[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],O=C.g[2];let L=C.g[3],R;R=S+(L^I&(O^L))+M[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+M[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+M[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+M[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(L^I&(O^L))+M[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+M[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+M[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+M[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(L^I&(O^L))+M[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+M[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+M[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+M[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(L^I&(O^L))+M[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+M[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+M[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+M[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(O^L&(I^O))+M[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+M[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+M[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+M[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(I^O))+M[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+M[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+M[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+M[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(I^O))+M[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+M[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+M[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+M[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(I^O))+M[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+M[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+M[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+M[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(I^O^L)+M[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+M[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+M[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+M[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^L)+M[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+M[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+M[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+M[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^L)+M[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+M[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+M[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+M[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^L)+M[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+M[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+M[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+M[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(O^(I|~L))+M[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+M[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+M[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+M[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~L))+M[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+M[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+M[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+M[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~L))+M[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+M[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+M[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+M[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~L))+M[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+M[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+M[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<S;){if(O==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<S;)if(M[O++]=C.charCodeAt(L++),O==this.blockSize){l(this,M),O=0;break}}else for(;L<S;)if(M[O++]=C[L++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function c(C,S){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;M&&L==S||(I[O]=L,M=!1)}this.g=I}var p={};function _(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return tt(v(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return tt(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(S,8));let M=b;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+O),S);O<8?(O=v(Math.pow(S,O)),M=M.j(O).add(v(R))):(M=M.j(I),M=M.add(v(R)))}return M}var b=_(0),V=_(1),G=_(16777216);a=d.prototype,a.m=function(){if(et(this))return-tt(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},a.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+tt(this).toString(C);const S=v(Math.pow(C,6));var I=this;let M="";for(;;){const O=Xt(I,S).g;I=ft(I,O.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,Z(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},a.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function et(C){return C.h==-1}a.l=function(C){return C=ft(this,C),et(C)?-1:Z(C)?0:1};function tt(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(V)}a.abs=function(){return et(this)?tt(this):this},a.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=S;O++){let L=M+(this.i(O)&65535)+(C.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=R>>>16,L&=65535,R&=65535,I[O]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ft(C,S){return C.add(tt(S))}a.j=function(C){if(Z(this)||Z(C))return b;if(et(this))return et(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(et(C))return tt(this.j(tt(C)));if(this.l(G)<0&&C.l(G)<0)return v(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const L=this.i(M)>>>16,R=this.i(M)&65535,ee=C.i(O)>>>16,Re=C.i(O)&65535;I[2*M+2*O]+=R*Re,_t(I,2*M+2*O),I[2*M+2*O+1]+=L*Re,_t(I,2*M+2*O+1),I[2*M+2*O+1]+=R*ee,_t(I,2*M+2*O+1),I[2*M+2*O+2]+=L*ee,_t(I,2*M+2*O+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function _t(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function vt(C,S){this.g=C,this.h=S}function Xt(C,S){if(Z(S))throw Error("division by zero");if(Z(C))return new vt(b,b);if(et(C))return S=Xt(tt(C),S),new vt(tt(S.g),tt(S.h));if(et(S))return S=Xt(C,tt(S)),new vt(tt(S.g),S.h);if(C.g.length>30){if(et(C)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=S;M.l(C)<=0;)I=te(I),M=te(M);var O=Pt(I,1),L=Pt(M,1);for(M=Pt(M,2),I=Pt(I,2);!Z(M);){var R=L.add(M);R.l(C)<=0&&(O=O.add(I),L=R),M=Pt(M,1),I=Pt(I,1)}return S=ft(C,O.j(S)),new vt(O,S)}for(O=b;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=v(I),R=L.j(S);et(R)||R.l(C)>0;)I-=M,L=v(I),R=L.j(S);Z(L)&&(L=V),O=O.add(L),C=ft(C,R)}return new vt(O,C)}a.B=function(C){return Xt(this,C).h},a.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},a.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},a.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function te(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Pt(C,S){const I=S>>5;S%=32;const M=C.g.length-I,O=[];for(let L=0;L<M;L++)O[L]=S>0?C.i(L+I)>>>S|C.i(L+I+1)<<32-S:C.i(L+I);return new d(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,kE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Hr=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zE,hl,BE,Cc,qd,qE,HE,jE;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in y))break t;y=y[x]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,x,B){for(var J=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)J[Et-2]=arguments[Et];return m.prototype[x].apply(T,J)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const x=arguments[T];var y=typeof x;if(y=y!="object"?y:x?Array.isArray(x)?"array":y:"null",y=="array"||y=="object"&&typeof x.length=="number"){y=u.length||0;const B=x.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=x[J]}else u.push(x)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,y){const T=vt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var vt=new et(()=>new Xt,u=>u.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Pt=!1,C=new _t,S=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(I)}};function I(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){tt(y)}var m=vt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,O),ee.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),j=0;function $(u,m,y,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=x,this.key=++j,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function qt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function N(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let y,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(y in T)u[y]=T[y];for(let B=0;B<K.length;B++)y=K[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,x){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=At(u,m,T,x);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new $(m,this.src,B,!!T,x),m.fa=y,u.push(m)),m};function mt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],x=Array.prototype.indexOf.call(T,m,void 0),B;(B=x>=0)&&Array.prototype.splice.call(T,x,1),B&&(lt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,T){for(let x=0;x<u.length;++x){const B=u[x];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return x}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),we={};function ne(u,m,y,T,x){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ne(u,m[B],y,T,x);return null}return y=ro(y),u&&u[Re]?u.J(m,y,p(T)?!!T.capture:!1,x):Jr(u,m,y,!1,T,x)}function Jr(u,m,y,T,x,B){if(!m)throw Error("Invalid event type");const J=p(x)?!!x.capture:!!x;let Et=Zr(u);if(Et||(u[Vt]=Et=new it(u)),y=Et.add(m,y,T,J,B),y.proxy)return y;if(T=qs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)L||(x=J),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function qs(){function u(y){return m.call(u.src,u.listener,y)}const m=no;return u}function Hs(u,m,y,T,x){if(Array.isArray(m))for(var B=0;B<m.length;B++)Hs(u,m[B],y,T,x);else T=p(T)?!!T.capture:!!T,y=ro(y),u&&u[Re]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=At(m,y,T,x),y>-1&&(lt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Zr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,T,x)),(y=u>-1?m[u]:null)&&js(y))}function js(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])mt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Zn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Zr(m))?(mt(y,u),y.h==0&&(y.src=null,m[Vt]=null)):lt(u)}}}function Zn(u){return u in we?we[u]:we[u]="on"+u}function no(u,m){if(u.da)u=!0;else{m=new ee(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&js(u),u=y.call(T,m)}return u}function Zr(u){return u=u[Vt],u instanceof it?u:null}var io="__closure_events_fn_"+(Math.random()*1e9>>>0);function ro(u){return typeof u=="function"?u:(u[io]||(u[io]=function(m){return u.handleEvent(m)}),u[io])}function me(){M.call(this),this.i=new it(this),this.M=this,this.G=null}b(me,M),me.prototype[Re]=!0,me.prototype.removeEventListener=function(u,m,y,T){Hs(this,u,m,y,T)};function Ie(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var x=m;m=new O(T,u),W(m,x)}x=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],x=er(B,T,!0,m)&&x;if(B=m.g=u,x=er(B,T,!0,m)&&x,x=er(B,T,!1,m)&&x,y)for(J=0;J<y.length;J++)B=m.g=y[J],x=er(B,T,!1,m)&&x}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)lt(y[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},me.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function er(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Et=J.listener,ce=J.ha||J.src;J.fa&&mt(u.i,J),x=Et.call(ce,T)!==!1&&x}}return x&&!T.defaultPrevented}function ph(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Hl(u){u.g=ph(()=>{u.g=null,u.i&&(u.i=!1,Hl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends M{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Hl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(u){M.call(this),this.h=u,this.g={}}b($r,M);var so=[];function ao(u){Ut(u.g,function(m,y){this.g.hasOwnProperty(y)&&js(m)},u),u.g={}}$r.prototype.N=function(){$r.Z.N.call(this),ao(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=d.JSON.stringify,yh=d.JSON.parse,jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Gl(){}function Fl(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){O.call(this,"d")}b(xe,O);function _n(){O.call(this,"c")}b(_n,O);var ue={},Ql=null;function Gs(){return Ql=Ql||new me}ue.Ia="serverreachability";function Kl(u){O.call(this,ue.Ia,u)}b(Kl,O);function $n(u){const m=Gs();Ie(m,new Kl(m))}ue.STAT_EVENT="statevent";function Wr(u,m){O.call(this,ue.STAT_EVENT,u),this.stat=m}b(Wr,O);function ge(u){const m=Gs();Ie(m,new Wr(m,u))}ue.Ja="timingevent";function Wn(u,m){O.call(this,ue.Ja,u),this.size=m}b(Wn,O);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function _h(u,m,y,T,x,B){u.info(function(){if(u.g)if(B){var J="",Et=B.split("&");for(let kt=0;kt<Et.length;kt++){var ce=Et[kt].split("=");if(ce.length>1){const ie=ce[0];ce=ce[1];const An=ie.split("_");J=An.length>=2&&An[1]=="type"?J+(ie+"="+ce+"&"):J+(ie+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+y+`
`+J})}function Yl(u,m,y,T,x,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+y+`
`+B+" "+J})}function ei(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+vh(u,y)+(T?" "+T:"")})}function ts(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return nr(B)}catch{return m}}var es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},lo;function ns(){}b(ns,Gl),ns.prototype.g=function(){return new XMLHttpRequest},lo=new ns;function Ii(u){return encodeURIComponent(String(u))}function Xl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new $r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var pe={},Ne={};function ni(u,m,y){u.M=1,u.A=is(_e(m)),u.u=y,u.R=!0,Fs(u,null)}function Fs(u,m){u.F=Date.now(),ii(u),u.B=_e(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Xs(y.i,"t",T),u.C=0,y=u.j.L,u.h=new xn,u.g=cu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(so[0]=x.toString()),x=so);for(let B=0;B<x.length;B++){const J=ne(y,x[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),_h(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&zn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Et=zn(this.g),ce=this.g.ya(),kt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Et!=4||ce==7||(ce==8||kt<=0?$n(3):$n(2)),ri(this);var m=this.g.ca();this.X=m;var y=Eh(this);if(this.o=m==200,Yl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,ge(12),un(this),vn(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<y.length;)if(ie=Zl(this,y),ie==Ne){Et==4&&(this.m=4,ge(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==pe){this.m=4,ge(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,ie,null),si(this,ie);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),vn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),bo(J),J.P=!0,ge(11))}}else ei(this.i,this.l,y,null),si(this,y);Et==4&&un(this),this.o&&!this.K&&(Et==4?au(this.j,this):(this.o=!1,ii(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),un(this),vn(this)}}}catch{}finally{}};function Eh(u){if(!Jl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,x=zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(x&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Jl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Zl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ne:(y=Number(m.substring(y,T)),isNaN(y)?pe:(T+=1,T+y>m.length?Ne:(m=m.slice(T,T+y),u.C=T+y,m)))}Ln.prototype.cancel=function(){this.K=!0,un(this)};function ii(u){u.T=Date.now()+u.H,Qs(u,u.H)}function Qs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ts(this.i,this.B),this.M!=2&&($n(),ge(17)),un(this),this.m=2,vn(this)):Qs(this,this.T-u)};function vn(u){u.j.I==0||u.K||au(u.j,u)}function un(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ta(y),cr(y);else break t;cs(y),ge(18)}}else y.xa=x[1],0<y.xa-y.K&&x[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(v(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&ta(y),!R(m))for(x=y.Ba.g.parse(m),m=0;m<x.length;m++){let kt=x[m];const ie=kt[0];if(!(ie<=y.K))if(y.K=ie,kt=kt[1],y.I==2)if(kt[0]=="c"){y.M=kt[1],y.ba=kt[2];const An=kt[3];An!=null&&(y.ka=An,y.j.info("VER="+y.ka));const mi=kt[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const Bn=kt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const qn=u.g;if(qn){const hs=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var B=T.h;B.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ho(B,B.h),B.h=null))}if(T.G){const ea=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(T.wa=ea,Ht(T.J,T.G,ea))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=uu(T,T.L?T.ba:null,T.W),J.L){fo(T.h,J);var Et=J,ce=T.O;ce&&(Et.H=ce),Et.D&&(ri(Et),ii(Et)),T.g=J}else ru(T);y.i.length>0&&fi(y)}else kt[0]!="stop"&&kt[0]!="close"||di(y,7);else y.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?di(y,7):Ao(y):kt[0]!="noop"&&y.l&&y.l.qa(kt),y.A=0)}}$n(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function uo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ho(u,m){u.g?u.g.add(m):u.h=m}function fo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}uo.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ks(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let x,B=null;T>=0?(x=u[y].substring(0,T),B=u[y].substring(T+1)):x=u[y],m(x,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Ve(this,u.j),this.o=u.o,this.g=u.g,ir(this,u.u),this.h=u.h,go(this,nu(u.i)),this.m=u.m):u&&(m=String(u).match($l))?(this.l=!1,Ve(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),ir(this,m[4]),this.h=li(m[5]||"",!0),go(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(rs(m,Ys,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(rs(m,Ys,!0),"@"),u.push(Ii(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(rs(y,y.charAt(0)=="/"?po:Wl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",rs(y,tu)),u.join("")},cn.prototype.resolve=function(u){const m=_e(this);let y=!!u.j;y?Ve(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)ir(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var x=m.h.lastIndexOf("/");x!=-1&&(T=m.h.slice(0,x+1)+T)}if(x=T,x==".."||x==".")T="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){T=x.lastIndexOf("/",0)==0,x=x.split("/");const B=[];for(let J=0;J<x.length;){const Et=x[J++];Et=="."?T&&J==x.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==x.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=x}return y?m.h=T:y=u.i.toString()!=="",y?go(m,nu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function _e(u){return new cn(u)}function Ve(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ir(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function go(u,m,y){m instanceof sr?(u.i=m,Js(u.i,u.l)):(y||(m=rs(m,rr)),u.i=new sr(m,u.l))}function Ht(u,m,y){u.i.set(m,y)}function is(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,We),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Wl=/[#\?:]/g,po=/[#\?]/g,rr=/[#\?@]/g,tu=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ks(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=sr.prototype,a.add=function(u,m){tn(this),this.i=null,u=ar(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function eu(u,m){tn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yo(u,m){return tn(u),m=ar(u,m),u.g.has(m)}a.forEach=function(u,m){tn(this),this.g.forEach(function(y,T){y.forEach(function(x){u.call(m,x,T,this)},this)},this)};function _o(u,m){tn(u);let y=[];if(typeof m=="string")yo(u,m)&&(y=y.concat(u.g.get(ar(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return tn(this),this.i=null,u=ar(this,u),yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=_o(this,u),u.length>0?String(u[0]):m):m};function Xs(u,m,y){eu(u,m),y.length>0&&(u.i=null,u.g.set(ar(u,m),G(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const x=Ii(y);y=_o(this,y);for(let B=0;B<y.length;B++){let J=x;y[B]!==""&&(J+="="+Ii(y[B])),u.push(J)}}return this.i=u.join("&")};function nu(u){const m=new sr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Js(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(y,T){const x=T.toLowerCase();T!=x&&(eu(this,T),Xs(this,x,y))},u)),u.j=m}function Pn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=A(En,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(En,y,"TestLoadImage: error",!1,m,T),T.onabort=A(En,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(En,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function vo(u,m){const y=new Un,T=new AbortController,x=setTimeout(()=>{T.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(x),B.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(y)}catch{}}function or(){this.g=new jl}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Gl),ui.prototype.g=function(){return new ss(this.i,this.h)};function ss(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ss,me),a=ss.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?lr(this):kn(this),this.readyState==3&&Zs(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,lr(this))},a.Na=function(u){this.g&&(this.response=u,lr(this))},a.ga=function(){this.g&&lr(this)};function lr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,kn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Ut(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function as(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Tn(y),typeof u=="string"?y!=null&&Ii(y):Ht(u,m,y))}function Ft(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ft,me);var ci=/^https?$/i,Eo=["POST","PUT"];a=Ft.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():lo.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){os(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)y.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Eo,m,void 0)>=0)||T||x||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){os(this,B)}};function os(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,To(u),Ci(u)}function To(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Ci(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Ft.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ls(this):this.Xa())},a.Xa=function(){ls(this)};function ls(u){if(u.h&&typeof c<"u"){if(u.v&&zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match($l)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ci.test(J?J.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var x=zn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",To(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ie(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=Xl(u[T]);const x=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[x]||[];m[x]=B,B.push(y)}qt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ur(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new uo(u&&u.concurrentRequestLimit),this.Ba=new or,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ur.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,T){ge(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=uu(this,null,this.W),fi(this)};function Ao(u){if($s(u),u.I==3){var m=u.V++,y=_e(u.J);if(Ht(y,"SID",u.M),Ht(y,"RID",m),Ht(y,"TYPE","terminate"),us(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=is(_e(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}lu(u)}function cr(u){u.g&&(bo(u),u.g.cancel(),u.g=null)}function $s(u){cr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!co(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||S(),Pt||(te(),Pt=!0),C.add(m,u),u.D=0}}function Ws(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),ou(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new Ln(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(x.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=iu(this,x,m),y=_e(this.J),Ht(y,"RID",u),Ht(y,"CVER",22),this.G&&Ht(y,"X-HTTP-Session-Id",this.G),us(this,y),B&&(this.R?m="headers="+Ii(Tn(B))+"&"+m:this.u&&as(y,this.u,B)),ho(this.h,x),this.Ra&&Ht(y,"TYPE","init"),this.S?(Ht(y,"$req",m),Ht(y,"SID","null"),x.U=!0,ni(x,y,null)):ni(x,y,m),this.I=2}}else this.I==3&&(u?So(this,u):this.i.length==0||co(this.h)||So(this))};function So(u,m){var y;m?y=m.l:y=u.V++;const T=_e(u.J);Ht(T,"SID",u.M),Ht(T,"RID",y),Ht(T,"AID",u.K),us(u,T),u.u&&u.o&&as(T,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=iu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ho(u.h,y),ni(y,T,m)}function us(u,m){u.H&&Ut(u.H,function(y,T){Ht(m,T,y)}),u.l&&Ut({},function(y,T){Ht(m,T,y)})}function iu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var x=u.i;let Et=-1;for(;;){const ce=["count="+y];Et==-1?y>0?(Et=x[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let kt=!0;for(let ie=0;ie<y;ie++){var B=x[ie].g;const An=x[ie].map;if(B-=Et,B<0)Et=Math.max(0,x[ie].g-100),kt=!1;else try{B="req"+B+"_"||"";try{var J=An instanceof Map?An:Object.entries(An);for(const[mi,Bn]of J){let qn=Bn;p(Bn)&&(qn=nr(Bn)),ce.push(B+mi+"="+encodeURIComponent(qn))}}catch(mi){throw ce.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(An)}}if(kt){J=ce.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||S(),Pt||(te(),Pt=!0),C.add(m,u),u.A=0}}function cs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),ou(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),cr(this),su(this))};function bo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),us(u,m),u.u&&u.o&&as(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=is(_e(m)),y.u=null,y.R=!0,Fs(y,u)}a.Va=function(){this.C!=null&&(this.C=null,cr(this),cs(this),ge(19))};function ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var y=null;if(u.g==m){ta(u),bo(u),u.g=null;var T=2}else if(oi(u.h,m))y=m.G,fo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;T=Gs(),Ie(T,new Wn(T,y)),fi(u)}else ru(u);else if(x=m.m,x==3||x==0&&m.X>0||!(T==1&&Ws(u,m)||T==2&&cs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),x){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function ou(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const x=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ve(T,"https"),is(T),x?Pn(T.toString(),y):vo(T.toString(),y)}else ge(2);u.I=0,u.l&&u.l.pa(m),lu(u),$s(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function uu(u,m,y){var T=y instanceof cn?_e(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),ir(T,T.u);else{var x=d.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const B=new cn(null);T&&Ve(B,T),m&&(B.g=m),x&&ir(B,x),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Ht(T,y,m),Ht(T,"VER",u.ka),us(u,T),T}function cu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ft(new ui({ab:y})):new Ft(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function hu(){}a=hu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function hr(){}hr.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){me.call(this),this.g=new ur(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}b(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Ao(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=nr(u),u=y);m.i.push(new ye(m.Ya++,u)),m.I==3&&fi(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,Ze.Z.N.call(this)};function fu(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(fu,xe);function du(){_n.call(this),this.status=1}b(du,_n);function Oi(u){this.g=u}b(Oi,hu),Oi.prototype.ra=function(){Ie(this.g,"a")},Oi.prototype.qa=function(u){Ie(this.g,new fu(u))},Oi.prototype.pa=function(u){Ie(this.g,new du)},Oi.prototype.oa=function(){Ie(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,jE=function(){return new hr},HE=function(){return Gs()},qE=ue,qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,Cc=es,oo.COMPLETE="complete",BE=oo,Fl.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",me.prototype.listen=me.prototype.J,hl=Fl,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,zE=Ft}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="12.8.0";function zR(a){$a=a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new rm("@firebase/firestore");function Va(){return Ls.logLevel}function nt(a,...t){if(Ls.logLevel<=Ct.DEBUG){const i=t.map(ym);Ls.debug(`Firestore (${$a}): ${a}`,...i)}}function $i(a,...t){if(Ls.logLevel<=Ct.ERROR){const i=t.map(ym);Ls.error(`Firestore (${$a}): ${a}`,...i)}}function ja(a,...t){if(Ls.logLevel<=Ct.WARN){const i=t.map(ym);Ls.warn(`Firestore (${$a}): ${a}`,...i)}}function ym(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,GE(a,s,i)}function GE(a,t,i){let s=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $i(s),new Error(s)}function Bt(a,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,a||GE(t,l,s)}function yt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends tr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class qR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class HR{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Bt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new FE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class jR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class GR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new jR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Bt(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new W_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=QR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Dt(a,t){return a<t?-1:a>t?1:0}function Hd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const l=a.charAt(s),c=t.charAt(s);if(l!==c)return Cd(l)===Cd(c)?Dt(l,c):Cd(l)?1:-1}return Dt(a.length,t.length)}const KR=55296,YR=57343;function Cd(a){const t=a.charCodeAt(0);return t>=KR&&t<=YR}function Ga(a,t,i){return a.length===t.length&&a.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class vi{constructor(t,i,s){i===void 0?i=0:i>t.length&&ht(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&ht(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const s=vi.isNumericId(t),l=vi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Hd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class se extends vi{construct(t,i,s){return new se(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends vi{construct(t,i,s){return new je(t,i,s)}static isValidIdentifier(t){return XR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new je([tv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(se.fromString(t))}static fromName(t){return new ut(se.fromString(t).popFirst(5))}static empty(){return new ut(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(a,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function ZR(a,t,i,s){if(t===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ev(a){if(!ut.isDocumentKey(a))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function QE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function vm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":ht(12329,{type:typeof a})}function bl(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vm(a);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(a,t){const i={typeString:a};return t&&(i.value=t),i}function Pl(a,t){if(!QE(a))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=-62135596800,iv=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*iv);return new Wt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<nv)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,Wt._jsonSchema))return new Wt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:be("string",Wt._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new Wt(0,0))}static max(){return new gt(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function $R(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=gt.fromTimestamp(s===1e9?new Wt(i+1,0):new Wt(i,s));return new Gr(l,ut.empty(),t)}function WR(a){return new Gr(a.readTime,a.key,Rl)}class Gr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Gr(gt.min(),ut.empty(),Rl)}static max(){return new Gr(gt.max(),ut.empty(),Rl)}}function tw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==ew)throw a;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,s)=>{i(t)}))}static reject(t){return new Y(((i,s)=>{s(t)}))}static waitFor(t){return new Y(((i,s)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>s(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next((l=>l?Y.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Y(((s,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((A=>{d[v]=A,++p,p===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function iw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function to(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=-1;function sh(a){return a==null}function Hc(a){return a===0&&1/a==-1/0}function rw(a){return typeof a=="number"&&Number.isInteger(a)&&!Hc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function sw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=rv(t)),t=aw(a.get(i),t);return rv(t)}function aw(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case KE:i+="";break;default:i+=c}}return i}function rv(a){return a+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ps(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function YE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new He(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ht(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(t){return new av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new Kn([])}unionWith(t){let i=new Oe(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new XE("Invalid base64 string: "+c):c}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const ow=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(a){if(Bt(!!a,39018),typeof a=="string"){let t=0;const i=ow.exec(a);if(Bt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Qr(a){return typeof a=="string"?Ge.fromBase64String(a):Ge.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",ZE="__type__",$E="__previous_value__",WE="__local_write_time__";function Tm(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[ZE])==null?void 0:s.stringValue)===JE}function ah(a){const t=a.mapValue.fields[$E];return Tm(t)?ah(t):t}function wl(a){const t=Fr(a.mapValue.fields[WE].timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i,s,l,c,d,p,_,v,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A,this.apiKey=b}}const jc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||jc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===jc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}function uw(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(a.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",cw="__max__",Ec={mapValue:{}},eT="__vector__",Gc="value";function Kr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Tm(a)?4:fw(a)?9007199254740991:hw(a)?10:11:ht(28295,{value:a})}function Ri(a,t){if(a===t)return!0;const i=Kr(a);if(i!==Kr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return wl(a).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Fr(l.timestampValue),p=Fr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Qr(l.bytesValue).isEqual(Qr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),p=de(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Ga(a.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(sv(d)!==sv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ri(d[_],p[_])))return!1;return!0})(a,t);default:return ht(52216,{left:a})}}function Cl(a,t){return(a.values||[]).find((i=>Ri(i,t)))!==void 0}function Fa(a,t){if(a===t)return 0;const i=Kr(a),s=Kr(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=de(c.integerValue||c.doubleValue),_=de(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return ov(a.timestampValue,t.timestampValue);case 4:return ov(wl(a),wl(t));case 5:return Hd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Qr(c),_=Qr(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Dt(p[v],_[v]);if(A!==0)return A}return Dt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(de(c.latitude),de(d.latitude));return p!==0?p:Dt(de(c.longitude),de(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return lv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){var V,G,Z,et;const p=c.fields||{},_=d.fields||{},v=(V=p[Gc])==null?void 0:V.arrayValue,A=(G=_[Gc])==null?void 0:G.arrayValue,b=Dt(((Z=v==null?void 0:v.values)==null?void 0:Z.length)||0,((et=A==null?void 0:A.values)==null?void 0:et.length)||0);return b!==0?b:lv(v,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ec.mapValue&&d===Ec.mapValue)return 0;if(c===Ec.mapValue)return 1;if(d===Ec.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const V=Hd(_[b],A[b]);if(V!==0)return V;const G=Fa(p[_[b]],v[A[b]]);if(G!==0)return G}return Dt(_.length,A.length)})(a.mapValue,t.mapValue);default:throw ht(23264,{he:i})}}function ov(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=Fr(a),s=Fr(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function lv(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fa(i[l],s[l]);if(c)return c}return Dt(i.length,s.length)}function Qa(a){return jd(a)}function jd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Fr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Qr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ut.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=jd(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${jd(i.fields[d])}`;return l+"}"})(a.mapValue):ht(61005,{value:a})}function Dc(a){switch(Kr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(a);return t?16+Dc(t):16;case 5:return 2*a.stringValue.length;case 6:return Qr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Dc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let l=0;return Ps(s.fields,((c,d)=>{l+=c.length+Dc(d)})),l})(a.mapValue);default:throw ht(13486,{value:a})}}function Gd(a){return!!a&&"integerValue"in a}function Am(a){return!!a&&"arrayValue"in a}function uv(a){return!!a&&"nullValue"in a}function cv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Oc(a){return!!a&&"mapValue"in a}function hw(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[tT])==null?void 0:s.stringValue)===eT}function yl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ps(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=yl(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=yl(a.arrayValue.values[i]);return t}return{...a}}function fw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===cw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(i)}setAll(t){let i=je.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=p.popLast()}d?s[p.lastSegment()]=yl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){Ps(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new Nn(yl(this.value))}}function nT(a){const t=[];return Ps(a.fields,((i,s)=>{const l=new je([i]);if(Oc(s)){const c=nT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,s,l,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ye(t,0,gt.min(),gt.min(),gt.min(),Nn.empty(),0)}static newFoundDocument(t,i,s,l){return new Ye(t,1,i,gt.min(),s,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,gt.min(),gt.min(),Nn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,gt.min(),gt.min(),Nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function hv(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function fv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ri(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function dw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{}class De extends iT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new gw(t,i,s):i==="array-contains"?new _w(t,s):i==="in"?new vw(t,s):i==="not-in"?new Ew(t,s):i==="array-contains-any"?new Tw(t,s):new De(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new pw(t,s):new yw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fa(i,this.value)):i!==null&&Kr(this.value)===Kr(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends iT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new wi(t,i)}matches(t){return rT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rT(a){return a.op==="and"}function sT(a){return mw(a)&&rT(a)}function mw(a){for(const t of a.filters)if(t instanceof wi)return!1;return!0}function Fd(a){if(a instanceof De)return a.field.canonicalString()+a.op.toString()+Qa(a.value);if(sT(a))return a.filters.map((t=>Fd(t))).join(",");{const t=a.filters.map((i=>Fd(i))).join(",");return`${a.op}(${t})`}}function aT(a,t){return a instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Ri(s.value,l.value)})(a,t):a instanceof wi?(function(s,l){return l instanceof wi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,p)=>c&&aT(d,l.filters[p])),!0):!1})(a,t):void ht(19439)}function oT(a){return a instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${Qa(i.value)}`})(a):a instanceof wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(oT).join(" ,")+"}"})(a):"Filter"}class gw extends De{constructor(t,i,s){super(t,i,s),this.key=ut.fromName(s.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class pw extends De{constructor(t,i){super(t,"in",i),this.keys=lT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yw extends De{constructor(t,i){super(t,"not-in",i),this.keys=lT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lT(a,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((s=>ut.fromName(s.referenceValue)))}class _w extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Cl(i.arrayValue,this.value)}}class vw extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class Ew extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class Tw extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Cl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,i=null,s=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function dv(a,t=null,i=[],s=[],l=null,c=null,d=null){return new Aw(a,t,i,s,l,c,d)}function Sm(a){const t=yt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>Fd(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Qa(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Qa(s))).join(",")),t.Te=i}return t.Te}function bm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!dw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!aT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!fv(a.startAt,t.startAt)&&fv(a.endAt,t.endAt)}function Qd(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i=null,s=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Sw(a,t,i,s,l,c,d,p){return new oh(a,t,i,s,l,c,d,p)}function Rm(a){return new oh(a)}function mv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function bw(a){return ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Rw(a){return a.collectionGroup!==null}function _l(a){const t=yt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(je.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,s))})),i.has(je.keyField().canonicalString())||t.Ie.push(new Qc(je.keyField(),s))}return t.Ie}function Ti(a){const t=yt(a);return t.Ee||(t.Ee=ww(t,_l(a))),t.Ee}function ww(a,t){if(a.limitType==="F")return dv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Qc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return dv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Kd(a,t,i){return new oh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function lh(a,t){return bm(Ti(a),Ti(t))&&a.limitType===t.limitType}function uT(a){return`${Sm(Ti(a))}|lt:${a.limitType}`}function Ma(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>oT(l))).join(", ")}]`),sh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Qa(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Qa(l))).join(",")),`Target(${s})`})(Ti(a))}; limitType=${a.limitType})`}function uh(a,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,l){for(const c of _l(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const v=hv(d,p,_);return d.inclusive?v<=0:v<0})(s.startAt,_l(s),l)||s.endAt&&!(function(d,p,_){const v=hv(d,p,_);return d.inclusive?v>=0:v>0})(s.endAt,_l(s),l))})(a,t)}function Iw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function cT(a){return(t,i)=>{let s=!1;for(const l of _l(a)){const c=Cw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Cw(a,t,i){const s=a.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Fa(_,v):ht(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return ht(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new ae(ut.comparator);function Wi(){return Dw}const hT=new ae(ut.comparator);function fl(...a){let t=hT;for(const i of a)t=t.insert(i.key,i);return t}function fT(a){let t=hT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ds(){return vl()}function dT(){return vl()}function vl(){return new ks((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Ow=new ae(ut.comparator),Nw=new Oe(ut.comparator);function Ot(...a){let t=Nw;for(const i of a)t=t.add(i);return t}const Vw=new Oe(Dt);function Mw(){return Vw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function mT(a){return{integerValue:""+a}}function Uw(a,t){return rw(t)?mT(t):wm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function Lw(a,t,i){return a instanceof Kc?(function(l,c){const d={fields:{[ZE]:{stringValue:JE},[WE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Tm(c)&&(c=ah(c)),c&&(d.fields[$E]=c),{mapValue:d}})(i,t):a instanceof Dl?pT(a,t):a instanceof Ol?yT(a,t):(function(l,c){const d=gT(l,c),p=gv(d)+gv(l.Ae);return Gd(d)&&Gd(l.Ae)?mT(p):wm(l.serializer,p)})(a,t)}function xw(a,t,i){return a instanceof Dl?pT(a,t):a instanceof Ol?yT(a,t):i}function gT(a,t){return a instanceof Yc?(function(s){return Gd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Kc extends ch{}class Dl extends ch{constructor(t){super(),this.elements=t}}function pT(a,t){const i=_T(t);for(const s of a.elements)i.some((l=>Ri(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Ol extends ch{constructor(t){super(),this.elements=t}}function yT(a,t){let i=_T(t);for(const s of a.elements)i=i.filter((l=>!Ri(l,s)));return{arrayValue:{values:i}}}class Yc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function gv(a){return de(a.integerValue||a.doubleValue)}function _T(a){return Am(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Pw(a,t){return a.field.isEqual(t.field)&&(function(s,l){return s instanceof Dl&&l instanceof Dl||s instanceof Ol&&l instanceof Ol?Ga(s.elements,l.elements,Ri):s instanceof Yc&&l instanceof Yc?Ri(s.Ae,l.Ae):s instanceof Kc&&l instanceof Kc})(a.transform,t.transform)}class kw{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class hh{}function vT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new TT(a.key,Xi.none()):new kl(a.key,a.data,Xi.none());{const i=a.data,s=Nn.empty();let l=new Oe(je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new zs(a.key,s,new Kn(l.toArray()),Xi.none())}}function zw(a,t,i){a instanceof kl?(function(l,c,d){const p=l.value.clone(),_=yv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof zs?(function(l,c,d){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=yv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(ET(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function El(a,t,i,s){return a instanceof kl?(function(c,d,p,_){if(!Nc(c.precondition,d))return p;const v=c.value.clone(),A=_v(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof zs?(function(c,d,p,_){if(!Nc(c.precondition,d))return p;const v=_v(c.fieldTransforms,_,d),A=d.data;return A.setAll(ET(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(a,t,i,s):(function(c,d,p){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function Bw(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=gT(s.transform,l||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(s.field,c))}return i||null}function pv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ga(s,l,((c,d)=>Pw(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class kl extends hh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class zs extends hh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ET(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function yv(a,t,i){const s=new Map;Bt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);s.set(c.field,xw(d,p,i[l]))}return s}function _v(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,Lw(c,d,t))}return s}class TT extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qw extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&zw(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=El(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=El(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=dT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=vT(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(gt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,((i,s)=>pv(i,s)))&&Ga(this.baseMutations,t.baseMutations,((i,s)=>pv(i,s)))}}class Im{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Bt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return Ow})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Im(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Mt;function Fw(a){switch(a){case X.OK:return ht(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ht(15467,{code:a})}}function AT(a){if(a===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(a){case Se.OK:return X.OK;case Se.CANCELLED:return X.CANCELLED;case Se.UNKNOWN:return X.UNKNOWN;case Se.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Se.INTERNAL:return X.INTERNAL;case Se.UNAVAILABLE:return X.UNAVAILABLE;case Se.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Se.NOT_FOUND:return X.NOT_FOUND;case Se.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Se.ABORTED:return X.ABORTED;case Se.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Se.DATA_LOSS:return X.DATA_LOSS;default:return ht(39323,{code:a})}}(Mt=Se||(Se={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Hr([4294967295,4294967295],0);function vv(a){const t=Qw().encode(a),i=new kE;return i.update(t),new Uint8Array(i.digest())}function Ev(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,s],0),new Hr([l,c],0)]}class Cm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Hr.fromNumber(s)));return l.compare(Kw)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=vv(t),[s,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Cm(c,l,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=vv(t),[s,l]=Ev(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new fh(gt.min(),l,new ae(Dt),Wi(),Ot())}}class zl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new zl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class ST{constructor(t,i){this.targetId=t,this.Ce=i}}class bT{constructor(t,i,s=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Tv{constructor(){this.ve=0,this.Fe=Av(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ht(38017,{changeType:c})}})),new zl(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=Av()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Yw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.He=Tc(),this.Je=Tc(),this.Ze=new ae(Dt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:ht(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Qd(c))if(s===0){const d=new ut(c.path);this.et(i,d,Ye.newNoDocument(d,gt.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Qr(s).toUint8Array()}catch(_){if(_ instanceof XE)return ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Cm(d,l,c)}catch(_){return ja(_ instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Qd(p.target)){const _=new ut(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ye.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Ot();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ze,this.je,s);return this.je=Wi(),this.He=Tc(),this.Je=Tc(),this.Ze=new ae(Dt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Tv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Oe(Dt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Oe(Dt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Tv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Tc(){return new ae(ut.comparator)}function Av(){return new ae(ut.comparator)}const Xw={asc:"ASCENDING",desc:"DESCENDING"},Jw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zw={and:"AND",or:"OR"};class $w{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Yd(a,t){return a.useProto3Json||sh(t)?t:{value:t}}function Xc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Ww(a,t){return Xc(a,t.toTimestamp())}function Ai(a){return Bt(!!a,49232),gt.fromTimestamp((function(i){const s=Fr(i);return new Wt(s.seconds,s.nanos)})(a))}function Dm(a,t){return Xd(a,t).canonicalString()}function Xd(a,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function wT(a){const t=se.fromString(a);return Bt(NT(t),10190,{key:t.toString()}),t}function Jd(a,t){return Dm(a.databaseId,t.path)}function Dd(a,t){const i=wT(t);if(i.get(1)!==a.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ut(CT(i))}function IT(a,t){return Dm(a.databaseId,t)}function tI(a){const t=wT(a);return t.length===4?se.emptyPath():CT(t)}function Zd(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function CT(a){return Bt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Sv(a,t,i){return{name:Jd(a,t),fields:i.value.mapValue.fields}}function eI(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ht(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Bt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Bt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:AT(v.code);return new at(A,v.message||"")})(d);i=new bT(s,l,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Dd(a,s.document.name),c=Ai(s.document.updateTime),d=s.document.createTime?Ai(s.document.createTime):gt.min(),p=new Nn({mapValue:{fields:s.document.fields}}),_=Ye.newFoundDocument(l,c,d,p),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Vc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Dd(a,s.document),c=s.readTime?Ai(s.readTime):gt.min(),d=Ye.newNoDocument(l,c),p=s.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Dd(a,s.document),c=s.removedTargetIds||[];i=new Vc([],c,l,null)}else{if(!("filter"in t))return ht(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Gw(l,c),p=s.targetId;i=new ST(p,d)}}return i}function nI(a,t){let i;if(t instanceof kl)i={update:Sv(a,t.key,t.value)};else if(t instanceof TT)i={delete:Jd(a,t.key)};else if(t instanceof zs)i={update:Sv(a,t.key,t.data),updateMask:hI(t.fieldMask)};else{if(!(t instanceof qw))return ht(16599,{dt:t.type});i={verify:Jd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ht(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Ww(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ht(27497)})(a,t.precondition)),i}function iI(a,t){return a&&a.length>0?(Bt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(gt.min())&&(d=Ai(c)),new kw(d,l.transformResults||[])})(i,t)))):[]}function rI(a,t){return{documents:[IT(a,t.path)]}}function sI(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=IT(a,l);const c=(function(v){if(v.length!==0)return OT(wi.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:Ua(V.field),direction:lI(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Yd(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function aI(a){let t=tI(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Bt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=DT(b);return V instanceof wi&&sT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(Z){return new Qc(La(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let V;return V=typeof b=="object"?b.value:b,sh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(b){const V=!!b.before,G=b.values||[];return new Fc(G,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const V=!b.before,G=b.values||[];return new Fc(G,V)})(i.endAt)),Sw(t,l,d,c,p,"F",_,v)}function oI(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function DT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=La(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=La(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=La(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=La(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(a):a.fieldFilter!==void 0?(function(i){return De.create(La(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return wi.create(i.compositeFilter.filters.map((s=>DT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(i.compositeFilter.op))})(a):ht(30097,{filter:a})}function lI(a){return Xw[a]}function uI(a){return Jw[a]}function cI(a){return Zw[a]}function Ua(a){return{fieldPath:a.canonicalString()}}function La(a){return je.fromServerFormat(a.fieldPath)}function OT(a){return a instanceof De?(function(i){if(i.op==="=="){if(cv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NAN"}};if(uv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NAN"}};if(uv(i.value))return{unaryFilter:{field:Ua(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(i.field),op:uI(i.op),value:i.value}}})(a):a instanceof wi?(function(i){const s=i.getFilters().map((l=>OT(l)));return s.length===1?s[0]:{compositeFilter:{op:cI(i.op),filters:s}}})(a):ht(54877,{filter:a})}function hI(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function VT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t,i,s,l,c=gt.min(),d=gt.min(),p=Ge.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t){this.yt=t}}function dI(a){const t=aI({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Kd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.Sn=new gI}addToCollectionParentIndex(t,i){return this.Sn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Gr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Gr.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class gI{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Oe(se.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Oe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(MT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ka(0)}static ar(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LruGarbageCollector",pI=1048576;function wv([a,t],[i,s]){const l=Dt(a,i);return l===0?Dt(t,s):l}class yI{constructor(t){this.Pr=t,this.buffer=new Oe(wv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();wv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _I{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(Rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){to(i)?nt(Rv,"Ignoring IndexedDB error during garbage collection: ",i):await Wa(i)}await this.Ar(3e5)}))}}class vI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(rh.ce);const s=new yI(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(bv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,p,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(s=b,p=Date.now(),this.removeTargets(t,s,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((b=>(v=Date.now(),Va()<=Ct.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function EI(a,t){return new vI(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.changes=new ks((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&El(s.mutation,l,Kn.empty(),Wt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ds();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=fl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ds();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,l){let c=Wi();const d=vl(),p=(function(){return vl()})();return i.forEach(((_,v)=>{const A=s.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof zs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),El(A.mutation,v,A.mutation.getFieldMask(),Wt.now())):d.set(v.key,Kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new AI(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=vl();let l=new ae(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||Kn.empty();A=p.applyToLocalView(v,A),s.set(_,A);const b=(l.get(p.batchId)||Ot()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,b=dT();A.forEach((V=>{if(!c.has(V)){const G=vT(i.get(V),s.get(V));G!==null&&b.set(V,G),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return bw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Rw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Y.resolve(Ds());let p=Rl,_=c;return d.next((v=>Y.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,Ot()))).next((A=>({batchId:p,changes:fT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((s=>{let l=fl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(_=>{const v=(function(b,V){return new oh(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))}));let p=fl();return d.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&El(A.mutation,v,Kn.empty(),Wt.now()),uh(i,v)&&(p=p.insert(_,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Y.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:dI(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.overlays=new ae(ut.comparator),this.Lr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ds();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const l=Ds(),c=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&l.set(_.getKey(),_)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ae(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=c.get(v.largestBatchId);A===null&&(A=Ds(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Ds(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return Y.resolve(p)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jw(i,s));let c=this.Lr.get(i);c===void 0&&(c=Ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.kr=new Oe(Ue.Kr),this.qr=new Oe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Ue(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ut(new se([])),s=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ut(new se([])),s=new Ue(i,t),l=new Ue(i,t+1);let c=Ot();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ut.comparator(t.key,i.key)||Dt(t.Hr,i.Hr)}static Ur(t,i){return Dt(t.Hr,i.Hr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(Ue.Kr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Hw(c,i,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Ue(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Em:this.Yn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Oe(Dt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),Y.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new ut(c),0);let p=new Oe(Dt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(p=p.add(_.Hr)),!0)}),d),Y.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Bt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Y.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Ue(i,0),l=this.Jr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.ti=t,this.docs=(function(){return new ae(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let s=Wi();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Ye.newInvalidDocument(l))})),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Wi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||tw(WR(A),s)<=0||(l.has(A.key)||uh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,s,l){ht(9500)}ni(t,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new DI(this)}getSize(t){return Y.resolve(this.size)}}class DI extends TI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),Y.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.persistence=t,this.ri=new ks((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.ii=0,this.si=new Om,this.targetCount=0,this.oi=Ka._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),Y.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.lr(i),Y.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,i){this._i={},this.overlays={},this.ai=new rh(0),this.ui=!1,this.ui=!0,this.ci=new wI,this.referenceDelegate=t(this),this.li=new OI(this),this.indexManager=new mI,this.remoteDocumentCache=(function(l){return new CI(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new fI(i),this.Pi=new bI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new RI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new II(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const l=new NI(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Y.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class NI extends nw{constructor(t){super(),this.currentSequenceNumber=t}}class Nm{constructor(t){this.persistence=t,this.Ri=new Om,this.Ai=null}static Vi(t){return new Nm(t)}get di(){if(this.Ai)return this.Ai;throw ht(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(s=>{const l=ut.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,gt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.fi=new ks((s=>sw(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=EI(this,i)}static Vi(t,i){return new Jc(t,i)}Ti(){}Ii(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return Y.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,gt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Dc(t.data.value)),i}wr(t,i,s){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return vS()?8:iw(Xe())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new VI;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Va()<=Ct.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Va()<=Ct.DEBUG&&nt("QueryEngine","Query:",Ma(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Va()<=Ct.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):Y.resolve())}gs(t,i){if(mv(i))return Y.resolve(null);let s=Ti(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Kd(i,null,"F"),s=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const v=this.bs(i,p);return this.Ss(i,v,d,_.readTime)?this.gs(t,Kd(i,null,"F")):this.Ds(t,v,i,_)}))))})))))}ps(t,i,s,l){return mv(i)||l.isEqual(gt.min())?Y.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?Y.resolve(null):(Va()<=Ct.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ma(i)),this.Ds(t,d,i,$R(l,Rl)).next((p=>p)))}))}bs(t,i){let s=new Oe(cT(t));return i.forEach(((l,c)=>{uh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Va()<=Ct.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ma(i)),this.fs.getDocumentsMatchingQuery(t,i,Gr.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",UI=3e8;class LI{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new ae(Dt),this.Fs=new ks((c=>Sm(c)),bm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function xI(a,t,i,s){return new LI(a,t,i,s)}async function LT(a,t){const i=yt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=Ot();for(const v of l){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function PI(a,t){const i=yt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const b=v.batch,V=b.keys();let G=Y.resolve();return V.forEach((Z=>{G=G.next((()=>A.getEntry(_,Z))).next((et=>{const tt=v.docVersions.get(Z);Bt(tt!==null,48541),et.version.compareTo(tt)<0&&(b.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Ot();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function xT(a){const t=yt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function kI(a,t){const i=yt(a),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,b)=>{const V=l.get(b);if(!V)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,b))));let G=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?G=G.withResumeToken(Ge.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),l=l.insert(b,G),(function(et,tt,ft){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=UI?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(V,G,A)&&p.push(i.li.updateTargetData(c,G))}));let _=Wi(),v=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(zI(c,d,t.documentUpdates).next((A=>{_=A.Bs,v=A.Ls}))),!s.isEqual(gt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(A)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=l,c)))}function zI(a,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=Wi();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(gt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):nt(Mm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function BI(a,t){const i=yt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function qI(a,t){const i=yt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,Y.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new kr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function $d(a,t,i){const s=yt(a),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!to(d))throw d;nt(Mm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function Iv(a,t,i){const s=yt(a);let l=gt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const b=yt(_),V=b.Fs.get(A);return V!==void 0?Y.resolve(b.vs.get(V)):b.li.getTargetData(v,A)})(s,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:gt.min(),i?c:Ot()))).next((p=>(HI(s,Iw(t),p),{documents:p,ks:c})))))}function HI(a,t,i){let s=a.Ms.get(t)||gt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Ms.set(t,s)}class Cv{constructor(){this.activeTargetIds=Mw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jI{constructor(){this.vo=new Cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Cv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="ConnectivityMonitor";class Ov{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(Dv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(Dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function Wd(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class QI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===jc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=Wd(),p=this.Qo(t,i.toUriEncodedString());nt(Od,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:v}=new URL(p),A=Xa(v);return this.zo(t,p,_,s,A).then((b=>(nt(Od,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw ja(Od,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",s),b}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$a})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=FI[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection",ul=(a,t,i)=>{a.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class za extends QI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!za.c_){const t=HE();ul(t,qE.STAT_EVENT,(i=>{i.stat===qd.PROXY?nt(Qe,"STAT_EVENT: detected buffering proxy"):i.stat===qd.NOPROXY&&nt(Qe,"STAT_EVENT: detected no buffering proxy")})),za.c_=!0}}zo(t,i,s,l,c){const d=Wd();return new Promise(((p,_)=>{const v=new zE;v.setWithCredentials(!0),v.listenOnce(BE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Cc.NO_ERROR:const b=v.getResponseJson();nt(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Cc.TIMEOUT:nt(Qe,`RPC '${t}' ${d} timed out`),_(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const V=v.getStatus();if(nt(Qe,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const et=(function(ft){const _t=ft.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(_t)>=0?_t:X.UNKNOWN})(Z.status);_(new at(et,Z.message))}else _(new at(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(X.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{nt(Qe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Qe,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=Wd(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const v=c.join("");nt(Qe,`Creating RPC '${t}' stream ${l}: ${v}`,p);const A=d.createWebChannel(v,p);this.I_(A);let b=!1,V=!1;const G=new KI({Ho:Z=>{V?nt(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(b||(nt(Qe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),b=!0),nt(Qe,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return ul(A,hl.EventType.OPEN,(()=>{V||(nt(Qe,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),ul(A,hl.EventType.CLOSE,(()=>{V||(V=!0,nt(Qe,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(A))})),ul(A,hl.EventType.ERROR,(Z=>{V||(V=!0,ja(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),ul(A,hl.EventType.MESSAGE,(Z=>{var et;if(!V){const tt=Z.data[0];Bt(!!tt,16349);const ft=tt,_t=(ft==null?void 0:ft.error)||((et=ft[0])==null?void 0:et.error);if(_t){nt(Qe,`RPC '${t}' stream ${l} received error:`,_t);const vt=_t.status;let Xt=(function(C){const S=Se[C];if(S!==void 0)return AT(S)})(vt),te=_t.message;Xt===void 0&&(Xt=X.INTERNAL,te="Unknown error status: "+vt+" with message "+_t.message),V=!0,G.o_(new at(Xt,te)),A.close()}else nt(Qe,`RPC '${t}' stream ${l} received:`,tt),G.__(tt)}})),za.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return jE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(a){return new za(a)}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(a){return new $w(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za.c_=!1;class PT{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="PersistentStream";class kT{constructor(t,i,s,l,c,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(nt(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XI extends kT{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=eI(this.serializer,t),s=(function(c){if(!("targetChange"in c))return gt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?Ai(d.readTime):gt.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=Zd(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Qd(_)?{documents:rI(c,_)}:{query:sI(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=RT(c,d.resumeToken);const v=Yd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const v=Yd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=oI(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=Zd(this.serializer),i.removeTarget=t,this.K_(i)}}class JI extends kT{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=iI(t.writeResults,t.commitTime),s=Ai(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Zd(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>nI(this.serializer,s)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{}class $I extends ZI{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Xd(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Xd(i,s),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function WI(a,t,i,s){return new $I(a,t,i,s)}class tC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="RemoteStore";class eC{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Bs(this)&&(nt(xs,"Restarting streams for network reachability change."),await(async function(_){const v=yt(_);v.Ea.add(4),await Bl(v),v.Va.set("Unknown"),v.Ea.delete(4),await mh(v)})(this))}))})),this.Va=new tC(s,l)}}async function mh(a){if(Bs(a))for(const t of a.Ra)await t(!0)}async function Bl(a){for(const t of a.Ra)await t(!1)}function zT(a,t){const i=yt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Pm(i)?xm(i):eo(i).O_()&&Lm(i,t))}function Um(a,t){const i=yt(a),s=eo(i);i.Ia.delete(t),s.O_()&&BT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Bs(i)&&i.Va.set("Unknown"))}function Lm(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}eo(a).Z_(t)}function BT(a,t){a.da.$e(t),eo(a).X_(t)}function xm(a){a.da=new Yw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),eo(a).start(),a.Va.ua()}function Pm(a){return Bs(a)&&!eo(a).x_()&&a.Ia.size>0}function Bs(a){return yt(a).Ea.size===0}function qT(a){a.da=void 0}async function nC(a){a.Va.set("Online")}async function iC(a){a.Ia.forEach(((t,i)=>{Lm(a,t)}))}async function rC(a,t){qT(a),Pm(a)?(a.Va.ha(t),xm(a)):a.Va.set("Unknown")}async function sC(a,t,i){if(a.Va.set("Online"),t instanceof bT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(a,t)}catch(s){nt(xs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Zc(a,s)}else if(t instanceof Vc?a.da.Xe(t):t instanceof ST?a.da.st(t):a.da.tt(t),!i.isEqual(gt.min()))try{const s=await xT(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),BT(c,_);const b=new kr(A.target,_,v,A.sequenceNumber);Lm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){nt(xs,"Failed to raise snapshot:",s),await Zc(a,s)}}async function Zc(a,t,i){if(!to(t))throw t;a.Ea.add(1),await Bl(a),a.Va.set("Offline"),i||(i=()=>xT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(xs,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await mh(a)}))}function HT(a,t){return t().catch((i=>Zc(a,i,t)))}async function gh(a){const t=yt(a),i=Yr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;aC(t);)try{const l=await BI(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,oC(t,l)}catch(l){await Zc(t,l)}jT(t)&&GT(t)}function aC(a){return Bs(a)&&a.Ta.length<10}function oC(a,t){a.Ta.push(t);const i=Yr(a);i.O_()&&i.Y_&&i.ea(t.mutations)}function jT(a){return Bs(a)&&!Yr(a).x_()&&a.Ta.length>0}function GT(a){Yr(a).start()}async function lC(a){Yr(a).ra()}async function uC(a){const t=Yr(a);for(const i of a.Ta)t.ea(i.mutations)}async function cC(a,t,i){const s=a.Ta.shift(),l=Im.from(s,t,i);await HT(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await gh(a)}async function hC(a,t){t&&Yr(a).Y_&&await(async function(s,l){if((function(d){return Fw(d)&&d!==X.ABORTED})(l.code)){const c=s.Ta.shift();Yr(s).B_(),await HT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gh(s)}})(a,t),jT(a)&&GT(a)}async function Vv(a,t){const i=yt(a);i.asyncQueue.verifyOperationInProgress(),nt(xs,"RemoteStore received new credentials");const s=Bs(i);i.Ea.add(3),await Bl(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function fC(a,t){const i=yt(a);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await Bl(i),i.Va.set("Unknown"))}function eo(a){return a.ma||(a.ma=(function(i,s,l){const c=yt(i);return c.sa(),new XI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:nC.bind(null,a),Yo:iC.bind(null,a),t_:rC.bind(null,a),J_:sC.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),Pm(a)?xm(a):a.Va.set("Unknown")):(await a.ma.stop(),qT(a))}))),a.ma}function Yr(a){return a.fa||(a.fa=(function(i,s,l){const c=yt(i);return c.sa(),new JI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lC.bind(null,a),t_:hC.bind(null,a),ta:uC.bind(null,a),na:cC.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await gh(a)):(await a.fa.stop(),a.Ta.length>0&&(nt(xs,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,p=new km(t,i,d,l,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(a,t){if($i("AsyncQueue",`${t}: ${a}`),to(a))return new at(X.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=fl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.ga=new ae(ut.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ht(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Ya{constructor(t,i,s,l,c,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ya(t,i,Ba.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class mC{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=yt(i),c=l.queries;l.queries=Uv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function Uv(){return new ks((a=>uT(a)),lh)}async function gC(a,t){const i=yt(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new dC,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=zm(d,`Initialization of query '${Ma(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function pC(a,t){const i=yt(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function yC(a,t){const i=yt(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&Bm(i)}function _C(a,t,i){const s=yt(a),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function Bm(a){a.Ca.forEach((t=>{t.next()}))}var tm,Lv;(Lv=tm||(tm={})).Ma="default",Lv.Cache="cache";class vC{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t){this.key=t}}class QT{constructor(t){this.key=t}}class EC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=cT(t),this.tu=new Ba(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new Mv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const V=l.get(A),G=uh(this.query,b)?b:null,Z=!!V&&this.mutatedKeys.has(V.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;V&&G?V.data.isEqual(G.data)?Z!==et&&(s.track({type:3,doc:G}),tt=!0):this.su(V,G)||(s.track({type:2,doc:G}),tt=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(p=!0)):!V&&G?(s.track({type:0,doc:G}),tt=!0):V&&!G&&(s.track({type:1,doc:V}),tt=!0,(_||v)&&(p=!0)),tt&&(G?(d=d.add(G),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(G,Z){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Vt:tt})}};return et(G)-et(Z)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new Ya(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Mv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new QT(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new FT(s))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qm="SyncEngine";class TC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class AC{constructor(t){this.key=t,this.hu=!1}}class SC{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ks((p=>uT(p)),lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ae(ut.comparator),this.Au=new Map,this.Vu=new Om,this.du={},this.mu=new Map,this.fu=Ka.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bC(a,t,i=!0){const s=$T(a);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await KT(s,t,i,!0),l}async function RC(a,t){const i=$T(a);await KT(i,t,!0,!1)}async function KT(a,t,i,s){const l=await qI(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await wC(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&zT(a.remoteStore,l),p}async function wC(a,t,i,s,l){a.pu=(b,V,G)=>(async function(et,tt,ft,_t){let vt=tt.view.ru(ft);vt.Ss&&(vt=await Iv(et.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,vt))));const Xt=_t&&_t.targetChanges.get(tt.targetId),te=_t&&_t.targetMismatches.get(tt.targetId)!=null,Pt=tt.view.applyChanges(vt,et.isPrimaryClient,Xt,te);return Pv(et,tt.targetId,Pt.au),Pt.snapshot})(a,b,V,G);const c=await Iv(a.localStore,t,!0),d=new EC(t,c.ks),p=d.ru(c.documents),_=zl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(p,a.isPrimaryClient,_);Pv(a,i,v.au);const A=new TC(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function IC(a,t,i){const s=yt(a),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!lh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await $d(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Um(s.remoteStore,l.targetId),em(s,l.targetId)})).catch(Wa)):(em(s,l.targetId),await $d(s.localStore,l.targetId,!0))}async function CC(a,t){const i=yt(a),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Um(i.remoteStore,s.targetId))}async function DC(a,t,i){const s=xC(a);try{const l=await(function(d,p){const _=yt(d),v=Wt.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),Ot());let b,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=Wi(),et=Ot();return _.xs.getEntries(G,A).next((tt=>{Z=tt,Z.forEach(((ft,_t)=>{_t.isValidDocument()||(et=et.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,Z))).next((tt=>{b=tt;const ft=[];for(const _t of p){const vt=Bw(_t,b.get(_t.key).overlayedDocument);vt!=null&&ft.push(new zs(_t.key,vt,nT(vt.value.mapValue),Xi.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,ft,p)})).next((tt=>{V=tt;const ft=tt.applyToLocalDocumentSet(b,et);return _.documentOverlayCache.saveOverlays(G,tt.batchId,ft)}))})).then((()=>({batchId:V.batchId,changes:fT(b)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let v=d.du[d.currentUser.toKey()];v||(v=new ae(Dt)),v=v.insert(p,_),d.du[d.currentUser.toKey()]=v})(s,l.batchId,i),await ql(s,l.changes),await gh(s.remoteStore)}catch(l){const c=zm(l,"Failed to persist write");i.reject(c)}}async function YT(a,t){const i=yt(a);try{const s=await kI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Bt(d.hu,14607):l.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await ql(i,s,t)}catch(s){await Wa(s)}}function xv(a,t,i){const s=yt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=yt(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,b)=>{for(const V of b.ba)V.va(p)&&(v=!0)})),v&&Bm(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function OC(a,t,i){const s=yt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new ae(ut.comparator);d=d.insert(c,Ye.newNoDocument(c,gt.min()));const p=Ot().add(c),_=new fh(gt.min(),new Map,new ae(Dt),d,p);await YT(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),Hm(s)}else await $d(s.localStore,t,!1).then((()=>em(s,t,i))).catch(Wa)}async function NC(a,t){const i=yt(a),s=t.batch.batchId;try{const l=await PI(i.localStore,t);JT(i,s,null),XT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ql(i,l)}catch(l){await Wa(l)}}async function VC(a,t,i){const s=yt(a);try{const l=await(function(d,p){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((b=>(Bt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(s.localStore,t);JT(s,t,i),XT(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await ql(s,l)}catch(l){await Wa(l)}}function XT(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function JT(a,t,i){const s=yt(a);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function em(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((s=>{a.Vu.containsKey(s)||ZT(a,s)}))}function ZT(a,t){a.Eu.delete(t.path.canonicalString());const i=a.Ru.get(t);i!==null&&(Um(a.remoteStore,i),a.Ru=a.Ru.remove(t),a.Au.delete(i),Hm(a))}function Pv(a,t,i){for(const s of i)s instanceof FT?(a.Vu.addReference(s.key,t),MC(a,s)):s instanceof QT?(nt(qm,"Document no longer in limbo: "+s.key),a.Vu.removeReference(s.key,t),a.Vu.containsKey(s.key)||ZT(a,s.key)):ht(19791,{wu:s})}function MC(a,t){const i=t.key,s=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(s)||(nt(qm,"New document in limbo: "+i),a.Eu.add(s),Hm(a))}function Hm(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ut(se.fromString(t)),s=a.fu.next();a.Au.set(s,new AC(i)),a.Ru=a.Ru.insert(i,s),zT(a.remoteStore,new kr(Ti(Rm(i.path)),s,"TargetPurposeLimboResolution",rh.ce))}}async function ql(a,t,i){const s=yt(a),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((v=>{var A;if((v||i)&&s.isPrimaryClient){const b=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Vm.Es(_.targetId,v);c.push(b)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,v){const A=yt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(v,(V=>Y.forEach(V.Ts,(G=>A.persistence.referenceDelegate.addReference(b,V.targetId,G))).next((()=>Y.forEach(V.Is,(G=>A.persistence.referenceDelegate.removeReference(b,V.targetId,G)))))))))}catch(b){if(!to(b))throw b;nt(Mm,"Failed to update sequence numbers: "+b)}for(const b of v){const V=b.targetId;if(!b.fromCache){const G=A.vs.get(V),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(V,et)}}})(s.localStore,c))}async function UC(a,t){const i=yt(a);if(!i.currentUser.isEqual(t)){nt(qm,"User change. New user:",t.toKey());const s=await LT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ql(i,s.Ns)}}function LC(a,t){const i=yt(a),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function $T(a){const t=yt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=YT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OC.bind(null,t),t.Pu.J_=yC.bind(null,t.eventManager),t.Pu.yu=_C.bind(null,t.eventManager),t}function xC(a){const t=yt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VC.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return xI(this.persistence,new MI,t.initialUser,this.serializer)}Cu(t){return new UT(Nm.Vi,this.serializer)}Du(t){return new jI}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class PC extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Bt(this.persistence.referenceDelegate instanceof Jc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _I(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new UT((s=>Jc.Vi(s,i)),this.serializer)}}class nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await fC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new mC})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),s=YI(t.databaseInfo);return WI(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,p){return new eC(s,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>xv(this.syncEngine,i,0)),(function(){return Ov.v()?new Ov:new GI})())}createSyncEngine(t,i){return(function(l,c,d,p,_,v,A){const b=new SC(l,c,d,p,_,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=yt(l);nt(xs,"RemoteStore shutting down."),c.Ea.add(5),await Bl(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class zC{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{nt(Xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(nt(Xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=zm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Vd(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Xr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async l=>{s.isEqual(l)||(await LT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function kv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await BC(a);nt(Xr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Vv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,l)=>Vv(t.remoteStore,l))),a._onlineComponents=t}async function BC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Xr,"Using user provided OfflineComponentProvider");try{await Vd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ja("Error using user provided cache. Falling back to memory cache: "+i),await Vd(a,new $c)}}else nt(Xr,"Using default OfflineComponentProvider"),await Vd(a,new PC(void 0));return a._offlineComponents}async function WT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Xr,"Using user provided OnlineComponentProvider"),await kv(a,a._uninitializedComponentsProvider._online)):(nt(Xr,"Using default OnlineComponentProvider"),await kv(a,new nm))),a._onlineComponents}function qC(a){return WT(a).then((t=>t.syncEngine))}async function HC(a){const t=await WT(a),i=t.eventManager;return i.onListen=bC.bind(null,t.syncEngine),i.onUnlisten=IC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=RC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=CC.bind(null,t.syncEngine),i}function jC(a,t,i={}){const s=new jr;return a.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,v){const A=new kC({next:V=>{A.Nu(),d.enqueueAndForget((()=>pC(c,b)));const G=V.docs.has(p);!G&&V.fromCache?v.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&V.fromCache&&_&&_.source==="server"?v.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),b=new vC(Rm(p.path),A,{includeMetadataChanges:!0,Ka:!0});return gC(c,b)})(await HC(a),a.asyncQueue,t,i,s))),s.promise}function GC(a,t){const i=new jr;return a.asyncQueue.enqueueAndForget((async()=>DC(await qC(a),t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="ComponentProvider",zv=new Map;function QC(a,t,i,s,l){return new lw(a,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,t0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="firestore.googleapis.com",Bv=!0;class qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e0,this.ssl=Bv}else this.host=t.host,this.ssl=t.ssl??Bv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=MT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pI)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jm{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new BR;switch(s.type){case"firstParty":return new GR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=zv.get(i);s&&(nt(FC,"Removing Datastore"),zv.delete(i),s.terminate())})(this),Promise.resolve()}}function KC(a,t,i,s={}){var v;a=bl(a,jm);const l=Xa(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(tE(`https://${p}`),eE("Firestore",!0)),c.host!==e0&&c.host!==p&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:s};if(!Vs(_,d)&&(a._setSettings(_),s.mockUserToken)){let A,b;if(typeof s.mockUserToken=="string")A=s.mockUserToken,b=Ke.MOCK_USER;else{A=cS(s.mockUserToken,(v=a._app)==null?void 0:v.options.projectId);const V=s.mockUserToken.sub||s.mockUserToken.user_id;if(!V)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(V)}a._authCredentials=new qR(new FE(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gm(this.firestore,t,this._query)}}class Le{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Pl(i,Le._jsonSchema))return new Le(t,s||null,new ut(se.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:be("string",Le._jsonSchemaVersion),referencePath:be("string")};class Nl extends Gm{constructor(t,i,s){super(t,i,Rm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ut(t))}withConverter(t){return new Nl(this.firestore,t,this._path)}}function YC(a,t,...i){if(a=Jn(a),arguments.length===1&&(t=_m.newId()),JR("doc","path",t),a instanceof jm){const s=se.fromString(t,...i);return ev(s),new Le(a,null,new ut(s))}{if(!(a instanceof Le||a instanceof Nl))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(se.fromString(t,...i));return ev(s),new Le(a.firestore,a instanceof Nl?a.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="AsyncQueue";class jv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PT(this,"async_queue_retry"),this._c=()=>{const s=Nd();s&&nt(Hv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Nd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Nd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!to(t))throw t;nt(Hv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Gv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=km.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ht(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Gv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Fm extends jm{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new jv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new jv(t),this._firestoreClient=void 0,await t}}}function XC(a,t){const i=typeof a=="object"?a:sE(),s=typeof a=="string"?a:jc,l=am(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=lS("firestore");c&&KC(l,...c)}return l}function n0(a){if(a._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||JC(a),a._firestoreClient}function JC(a){var s,l,c,d;const t=a._freezeSettings(),i=QC(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,(l=a._app)==null?void 0:l.options.apiKey,t);a._componentsProvider||(c=t.localCache)!=null&&c._offlineComponentProvider&&((d=t.localCache)!=null&&d._onlineComponentProvider)&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new zC(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(_){const v=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(v),_online:v}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Ge.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:be("string",Vn._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:be("string",Si._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,Xn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Xn(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:be("string",Xn._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=/^__.*__$/;class $C{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new zs(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function s0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{dataSource:a})}}class Qm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var l;const i=(l=this.path)==null?void 0:l.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){var l;const i=(l=this.path)==null?void 0:l.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(s0(this.dataSource)&&ZC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class WC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||dh(t)}createContext(t,i,s,l=!1){return new Qm({dataSource:t,methodName:i,targetDoc:s,path:je.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t2(a){const t=a._freezeSettings(),i=dh(a._databaseId);return new WC(a._databaseId,!!t.ignoreUndefinedProperties,i)}function e2(a,t,i,s,l,c={}){const d=a.createContext(c.merge||c.mergeFields?2:0,t,i,l);u0("Data must be an object, but it was:",d,s);const p=o0(s,d);let _,v;if(c.merge)_=new Kn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=Km(t,b,i);if(!d.contains(V))throw new at(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);r2(A,V)||A.push(V)}_=new Kn(A),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new $C(new Nn(p),_,v)}function a0(a,t){if(l0(a=Jn(a)))return u0("Unsupported field value:",t,a),o0(a,t);if(a instanceof r0)return(function(s,l){if(!s0(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const p of s){let _=a0(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,l){if((s=Jn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Uw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Wt.fromDate(s);return{timestampValue:Xc(l.serializer,c)}}if(s instanceof Wt){const c=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(s instanceof Si)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:RT(l.serializer,s._byteString)};if(s instanceof Le){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Xn)return(function(d,p){const _=d instanceof Xn?d.toArray():d;return{mapValue:{fields:{[tT]:{stringValue:eT},[Gc]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return wm(p.serializer,A)}))}}}}}})(s,l);if(VT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${vm(s)}`)})(a,t)}function o0(a,t){const i={};return YE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(a,((s,l)=>{const c=a0(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function l0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Wt||a instanceof Si||a instanceof Vn||a instanceof Le||a instanceof r0||a instanceof Xn||VT(a))}function u0(a,t,i){if(!l0(i)||!QE(i)){const s=vm(i);throw s==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+s)}}function Km(a,t,i){if((t=Jn(t))instanceof i0)return t._internalPath;if(typeof t=="string")return i2(a,t);throw Wc("Field path arguments must be of type string or ",a,!1,void 0,i)}const n2=new RegExp("[~\\*/\\[\\]]");function i2(a,t,i){if(t.search(n2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new i0(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Wc(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new at(X.INVALID_ARGUMENT,p+a+_)}function r2(a,t){return a.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{convertValue(t,i="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ht(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ps(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){var s,l,c;const i=(c=(l=(s=t.fields)==null?void 0:s[Gc].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>de(d.doubleValue)));return new Xn(i)}convertGeoPoint(t){return new Si(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=ah(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Fr(t);return new Wt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=se.fromString(t);Bt(NT(s),9688,{name:t});const l=new Il(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends s2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}const Fv="@firebase/firestore",Qv="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new o2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const i=this._document.data.field(Km("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class o2 extends c0{data(){return super.data()}}function l2(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends c0{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Km("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ns._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:be("string",Ns._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Mc extends Ns{data(t={}){return super.data(t)}}class Tl{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Mc(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Mc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Mc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:u2(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function u2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:a})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:be("string",Tl._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(a){a=bl(a,Le);const t=bl(a.firestore,Fm),i=n0(t);return jC(i,a._key).then((s=>d2(t,a,s)))}function h2(a,t,i){a=bl(a,Le);const s=bl(a.firestore,Fm),l=l2(a.converter,t),c=t2(s);return f2(s,[e2(c,"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Xi.none())])}function f2(a,t){const i=n0(a);return GC(i,t)}function d2(a,t,i){const s=i.docs.get(t._key),l=new a2(a);return new Ns(a,l,t._key,s,new ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){zR(Ja),qa(new Ms("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Fm(new HR(s.getProvider("auth-internal")),new FR(d,s.getProvider("app-check-internal")),uw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),qr(Fv,Qv,t),qr(Fv,Qv,"esm2020")})();const m2={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function Na(a){const t=m2[a];if(!t)throw new Error(`Missing environment variable: ${a}. Did you forget to create a .env.local?`);return t}const g2={apiKey:Na("VITE_FIREBASE_API_KEY"),authDomain:Na("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Na("VITE_FIREBASE_PROJECT_ID"),storageBucket:Na("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Na("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Na("VITE_FIREBASE_APP_ID")},h0=rE(g2),Sc=PR(h0),p2=new Qi,y2=XC(h0);function _2(){const[a,t]=cl.useState(null),[i,s]=cl.useState(null),[l,c]=cl.useState(!0);cl.useEffect(()=>wb(Sc,async _=>{if(_){const v=YC(y2,"users",_.uid),A=await c2(v);if(A.exists())s(A.data());else{const V=_.email==="chris.sm.kang542@gmail.com",G={name:_.displayName,email:_.email,isApproved:V,isAdmin:V,isActive:!0,roles:[],gender:""};await h2(v,G),s(G)}t(_)}else t(null),s(null);c(!1)}),[]);const d=()=>Qb(Sc,p2);return l?on.jsx("h1",{children:"Loading..."}):a?i&&!i.isApproved?on.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[on.jsxs("h1",{children:["Welcome, ",a.displayName]}),on.jsx("p",{style:{color:"orange",fontWeight:"bold"},children:"You are a guest. Wait for approval from admin."}),on.jsx("button",{onClick:()=>Sc.signOut(),children:"Logout"})]}):on.jsxs("div",{style:{padding:"20px"},children:[on.jsx("h1",{children:"GIG Roster Main App"}),on.jsxs("p",{children:["Welcome back, ",i.name,"!"]}),on.jsx("button",{onClick:()=>Sc.signOut(),children:"Logout"})]}):on.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[on.jsx("h1",{children:"GIG Roster"}),on.jsx("button",{onClick:d,style:{padding:"10px 20px",fontSize:"18px"},children:"Login with Google"})]})}WA.createRoot(document.getElementById("root")).render(on.jsx(FA.StrictMode,{children:on.jsx(_2,{})}));
