(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function TE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function bS(){if(k_)return _l;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var z_;function wS(){return z_||(z_=1,Vd.exports=bS()),Vd.exports}var M=wS(),Md={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function RS(){if(j_)return _t;j_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,W={};function ut(V,J,nt){this.props=V,this.context=J,this.refs=W,this.updater=nt||G}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Et(){}Et.prototype=ut.prototype;function Tt(V,J,nt){this.props=V,this.context=J,this.refs=W,this.updater=nt||G}var $t=Tt.prototype=new Et;$t.constructor=Tt,Y($t,ut.prototype),$t.isPureReactComponent=!0;var ie=Array.isArray;function zt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(V,J,nt){var st=nt.ref;return{$$typeof:s,type:V,key:J,ref:st!==void 0?st:null,props:nt}}function x(V,J){return I(V.type,J,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return J[nt]})}var R=/\/+/g;function se(V,J){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):J.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(zt,zt):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,J,nt,st,pt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case s:case t:xt=!0;break;case T:return xt=V._init,Q(xt(V._payload),J,nt,st,pt)}}if(xt)return pt=pt(V),xt=st===""?"."+se(V,0):st,ie(pt)?(nt="",xt!=null&&(nt=xt.replace(R,"$&/")+"/"),Q(pt,J,nt,"",function(rr){return rr})):pt!=null&&(O(pt)&&(pt=x(pt,nt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+xt)),J.push(pt)),1;xt=0;var Ne=st===""?".":st+":";if(ie(V))for(var re=0;re<V.length;re++)st=V[re],bt=Ne+se(st,re),xt+=Q(st,J,nt,bt,pt);else if(re=P(V),typeof re=="function")for(V=re.call(V),re=0;!(st=V.next()).done;)st=st.value,bt=Ne+se(st,re++),xt+=Q(st,J,nt,bt,pt);else if(bt==="object"){if(typeof V.then=="function")return Q(Ie(V),J,nt,st,pt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return xt}function et(V,J,nt){if(V==null)return V;var st=[],pt=0;return Q(V,st,"","",function(bt){return J.call(nt,bt,pt++)}),st}function ct(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:et,forEach:function(V,J,nt){et(V,function(){J.apply(this,arguments)},nt)},count:function(V){var J=0;return et(V,function(){J++}),J},toArray:function(V){return et(V,function(J){return J})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=S,_t.Children=Ht,_t.Component=ut,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=Tt,_t.StrictMode=r,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,J,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=Y({},V.props),pt=V.key;if(J!=null)for(bt in J.key!==void 0&&(pt=""+J.key),J)!w.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(st[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var xt=Array(bt),Ne=0;Ne<bt;Ne++)xt[Ne]=arguments[Ne+2];st.children=xt}return I(V.type,pt,st)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},_t.createElement=function(V,J,nt){var st,pt={},bt=null;if(J!=null)for(st in J.key!==void 0&&(bt=""+J.key),J)w.call(J,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=J[st]);var xt=arguments.length-2;if(xt===1)pt.children=nt;else if(1<xt){for(var Ne=Array(xt),re=0;re<xt;re++)Ne[re]=arguments[re+2];pt.children=Ne}if(V&&V.defaultProps)for(st in xt=V.defaultProps,xt)pt[st]===void 0&&(pt[st]=xt[st]);return I(V,bt,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=O,_t.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ct}},_t.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},_t.startTransition=function(V){var J=N.T,nt={};N.T=nt;try{var st=V(),pt=N.S;pt!==null&&pt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(zt,Lt)}catch(bt){Lt(bt)}finally{J!==null&&nt.types!==null&&(J.types=nt.types),N.T=J}},_t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},_t.use=function(V){return N.H.use(V)},_t.useActionState=function(V,J,nt){return N.H.useActionState(V,J,nt)},_t.useCallback=function(V,J){return N.H.useCallback(V,J)},_t.useContext=function(V){return N.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,J){return N.H.useDeferredValue(V,J)},_t.useEffect=function(V,J){return N.H.useEffect(V,J)},_t.useEffectEvent=function(V){return N.H.useEffectEvent(V)},_t.useId=function(){return N.H.useId()},_t.useImperativeHandle=function(V,J,nt){return N.H.useImperativeHandle(V,J,nt)},_t.useInsertionEffect=function(V,J){return N.H.useInsertionEffect(V,J)},_t.useLayoutEffect=function(V,J){return N.H.useLayoutEffect(V,J)},_t.useMemo=function(V,J){return N.H.useMemo(V,J)},_t.useOptimistic=function(V,J){return N.H.useOptimistic(V,J)},_t.useReducer=function(V,J,nt){return N.H.useReducer(V,J,nt)},_t.useRef=function(V){return N.H.useRef(V)},_t.useState=function(V){return N.H.useState(V)},_t.useSyncExternalStore=function(V,J,nt){return N.H.useSyncExternalStore(V,J,nt)},_t.useTransition=function(){return N.H.useTransition()},_t.version="19.2.4",_t}var B_;function Am(){return B_||(B_=1,Md.exports=RS()),Md.exports}var gt=Am();const CS=TE(gt);var xd={exports:{}},vl={},Ud={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function IS(){return q_||(q_=1,(function(s){function t(Q,et){var ct=Q.length;Q.push(et);t:for(;0<ct;){var Lt=ct-1>>>1,Ht=Q[Lt];if(0<l(Ht,et))Q[Lt]=et,Q[ct]=Ht,ct=Lt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var et=Q[0],ct=Q.pop();if(ct!==et){Q[0]=ct;t:for(var Lt=0,Ht=Q.length,V=Ht>>>1;Lt<V;){var J=2*(Lt+1)-1,nt=Q[J],st=J+1,pt=Q[st];if(0>l(nt,ct))st<Ht&&0>l(pt,nt)?(Q[Lt]=pt,Q[st]=ct,Lt=st):(Q[Lt]=nt,Q[J]=ct,Lt=J);else if(st<Ht&&0>l(pt,ct))Q[Lt]=pt,Q[st]=ct,Lt=st;else break t}}return et}function l(Q,et){var ct=Q.sortIndex-et.sortIndex;return ct!==0?ct:Q.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],g=[],T=1,S=null,b=3,P=!1,G=!1,Y=!1,W=!1,ut=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function $t(Q){for(var et=i(g);et!==null;){if(et.callback===null)r(g);else if(et.startTime<=Q)r(g),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(g)}}function ie(Q){if(Y=!1,$t(Q),!G)if(i(_)!==null)G=!0,zt||(zt=!0,L());else{var et=i(g);et!==null&&Ie(ie,et.startTime-Q)}}var zt=!1,N=-1,w=5,I=-1;function x(){return W?!0:!(s.unstable_now()-I<w)}function O(){if(W=!1,zt){var Q=s.unstable_now();I=Q;var et=!0;try{t:{G=!1,Y&&(Y=!1,Et(N),N=-1),P=!0;var ct=b;try{e:{for($t(Q),S=i(_);S!==null&&!(S.expirationTime>Q&&x());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,b=S.priorityLevel;var Ht=Lt(S.expirationTime<=Q);if(Q=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,$t(Q),et=!0;break e}S===i(_)&&r(_),$t(Q)}else r(_);S=i(_)}if(S!==null)et=!0;else{var V=i(g);V!==null&&Ie(ie,V.startTime-Q),et=!1}}break t}finally{S=null,b=ct,P=!1}et=void 0}}finally{et?L():zt=!1}}}var L;if(typeof Tt=="function")L=function(){Tt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,se=R.port2;R.port1.onmessage=O,L=function(){se.postMessage(null)}}else L=function(){ut(O,0)};function Ie(Q,et){N=ut(function(){Q(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var et=3;break;default:et=b}var ct=b;b=et;try{return Q()}finally{b=ct}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=b;b=Q;try{return et()}finally{b=ct}},s.unstable_scheduleCallback=function(Q,et,ct){var Lt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,Q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ct+Ht,Q={id:T++,callback:et,priorityLevel:Q,startTime:ct,expirationTime:Ht,sortIndex:-1},ct>Lt?(Q.sortIndex=ct,t(g,Q),i(_)===null&&Q===i(g)&&(Y?(Et(N),N=-1):Y=!0,Ie(ie,ct-Lt))):(Q.sortIndex=Ht,t(_,Q),G||P||(G=!0,zt||(zt=!0,L()))),Q},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(Q){var et=b;return function(){var ct=b;b=et;try{return Q.apply(this,arguments)}finally{b=ct}}}})(Ld)),Ld}var H_;function NS(){return H_||(H_=1,Ud.exports=IS()),Ud.exports}var Pd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function DS(){if(G_)return Ye;G_=1;var s=Am();function t(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:g,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(_,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(_,g,null,T)},Ye.flushSync=function(_){var g=d.T,T=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=g,r.p=T,r.d.f()}},Ye.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},Ye.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ye.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:P}):T==="script"&&r.d.X(_,{crossOrigin:S,integrity:b,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ye.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},Ye.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin);r.d.L(_,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ye.preloadModule=function(_,g){if(typeof _=="string")if(g){var T=p(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},Ye.requestFormReset=function(_){r.d.r(_)},Ye.unstable_batchedUpdates=function(_,g){return _(g)},Ye.useFormState=function(_,g,T){return d.H.useFormState(_,g,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var F_;function OS(){if(F_)return Pd.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pd.exports=DS(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function VS(){if(Q_)return vl;Q_=1;var s=NS(),t=Am(),i=OS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function T(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=T(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),$t=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case ut:return"Profiler";case W:return"StrictMode";case ie:return"Suspense";case zt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case Tt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case $t:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ie=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function V(e){return{current:e}}function J(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function nt(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var st=V(null),pt=V(null),bt=V(null),xt=V(null);function Ne(e,n){switch(nt(bt,n),nt(pt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=o_(n),e=l_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(st),nt(st,e)}function re(){J(st),J(pt),J(bt)}function rr(e){e.memoizedState!==null&&nt(xt,e);var n=st.current,a=l_(n,e.type);n!==a&&(nt(pt,e),nt(st,a))}function Jr(e){pt.current===e&&(J(st),J(pt)),xt.current===e&&(J(xt),ml._currentValue=ct)}var $r,Zr;function ni(e){if($r===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);$r=n&&n[1]||"",Zr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$r+e+Zr}var mo=!1;function ar(e,n){if(!e||mo)return"";mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var C=y.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ni(a):""}function go(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return ar(e.type,!1);case 11:return ar(e.type.render,!1);case 1:return ar(e.type,!0);case 31:return ni("Activity");default:return""}}function po(e){try{var n="",a=null;do n+=go(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,os=s.unstable_cancelCallback,Mh=s.unstable_shouldYield,Wl=s.unstable_requestPaint,We=s.unstable_now,or=s.unstable_getCurrentPriorityLevel,yo=s.unstable_ImmediatePriority,_o=s.unstable_UserBlockingPriority,ls=s.unstable_NormalPriority,xh=s.unstable_LowPriority,tu=s.unstable_IdlePriority,eu=s.log,nu=s.unstable_setDisableYieldValue,jn=null,ze=null;function wn(e){if(typeof eu=="function"&&nu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(jn,e)}catch{}}var he=Math.clz32?Math.clz32:su,iu=Math.log,Wr=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/Wr|0)|0}var ii=256,lr=262144,_e=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(y&=E,y!==0?h=si(y):a||(a=E&~e,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):y!==0?h=si(y):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ur(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,n,a,o,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=y&~a;0<a;){var F=31-he(a),X=1<<F;E[F]=0,C[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&cr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function cr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function vo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Eo(e,n){var a=n&-n;return a=(a&42)!==0?1:hr(a),(a&(e.suspendedLanes|n))!==0?0:a}function hr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:O_(e.type))}function qn(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,xe="__reactProps$"+Hn,oi="__reactContainer$"+Hn,ta="__reactEvents$"+Hn,Ph="__reactListeners$"+Hn,ou="__reactHandles$"+Hn,lu="__reactResources$"+Hn,li="__reactMarker$"+Hn;function ea(e){delete e[ve],delete e[xe],delete e[ta],delete e[Ph],delete e[ou]}function ui(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=g_(e);e!==null;){if(a=e[ve])return a;e=g_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[ve]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ci(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[li]=!0}var To=new Set,Ao={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Ao[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function uu(e){return ye.call(wo,e)?!0:ye.call(bo,e)?!1:So.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function na(e,n,a){if(uu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function fr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dr=/[\n"\\]/g;function nn(e){return e.replace(dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Co(e,y,Ue(n)):a!=null?Co(e,y,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function cu(e,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Gt(e)}function Co(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cs(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function hs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ie(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||fu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function No(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Do=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,mi=null;function mr(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(r(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fr(o)}break t;case"textarea":hu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&cs(e,!!a.multiple,n,!1)}}}var aa=!1;function ms(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(ds!==null||mi!==null)&&(ac(),ds&&(n=ds,e=mi,mi=ds=null,mr(n),e)))for(n=0;n<e.length;n++)mr(e[n])}}function Fn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gr=!1;if(In)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{gr=!1}var gi=null,Oo=null,pr=null;function Vo(){if(pr)return pr;var e,n=Oo,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return pr=h.slice(e,1<o?1-o:void 0)}function yr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Qn(){return!1}function je(e){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Qn,this.isPropagationStopped=Qn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=je(Ui),gs=S({},Ui,{view:0,detail:0}),Mo=je(gs),ps,oa,yi,la=S({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ps=e.screenX-yi.screenX,oa=e.screenY-yi.screenY):oa=ps=0,yi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),xo=je(la),_r=S({},la,{dataTransfer:0}),mu=je(_r),gu=S({},gs,{relatedTarget:0}),vr=je(gu),Uo=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=je(Uo),ua=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=je(ua),_u=S({},Ui,{data:0}),_i=je(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function ys(){return Au}var tn=S({},gs,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=je(tn),bu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=je(bu),u=S({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=je(u),v=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=je(v),k=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(k),tt=S({},Ui,{newState:0,oldState:0}),At=je(tt),fe=[9,13,27,32],jt=In&&"CompositionEvent"in window,ae=null;In&&"documentMode"in document&&(ae=document.documentMode);var Nn=In&&"TextEvent"in window&&!ae,vi=In&&(!jt||ae&&8<ae&&11>=ae),Kn=" ",Yn=!1;function Er(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function Y0(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Yn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Yn?null:e;default:return null}}function X0(e,n){if(ha)return e==="compositionend"||!jt&&Er(e,n)?(e=Vo(),pr=Oo=gi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!J0[e.type]:n==="textarea"}function vg(e,n,a,o){ds?mi?mi.push(o):mi=[o]:ds=o,n=dc(n,"onChange"),0<n.length&&(a=new pi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Lo=null,Po=null;function $0(e){e_(e,0)}function wu(e){var n=dn(e);if(fr(n))return e}function Eg(e,n){if(e==="change")return n}var Tg=!1;if(In){var kh;if(In){var zh="oninput"in document;if(!zh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),zh=typeof Ag.oninput=="function"}kh=zh}else kh=!1;Tg=kh&&(!document.documentMode||9<document.documentMode)}function Sg(){Lo&&(Lo.detachEvent("onpropertychange",bg),Po=Lo=null)}function bg(e){if(e.propertyName==="value"&&wu(Po)){var n=[];vg(n,Po,e,Cn(e)),ms($0,n)}}function Z0(e,n,a){e==="focusin"?(Sg(),Lo=n,Po=a,Lo.attachEvent("onpropertychange",bg)):e==="focusout"&&Sg()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Po)}function tA(e,n){if(e==="click")return wu(n)}function eA(e,n){if(e==="input"||e==="change")return wu(n)}function nA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:nA;function ko(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,n){var a=wg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=wg(a)}}function Cg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iA=In&&"documentMode"in document&&11>=document.documentMode,fa=null,Bh=null,zo=null,qh=!1;function Ng(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||fa==null||fa!==di(o)||(o=fa,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&ko(zo,o)||(zo=o,o=dc(Bh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function Tr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Hh={},Dg={};In&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ar(e){if(Hh[e])return Hh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dg)return Hh[e]=n[a];return e}var Og=Ar("animationend"),Vg=Ar("animationiteration"),Mg=Ar("animationstart"),sA=Ar("transitionrun"),rA=Ar("transitionstart"),aA=Ar("transitioncancel"),xg=Ar("transitionend"),Ug=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Xn(e,n){Ug.set(e,n),hi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ma=0,Fh=0;function Cu(){for(var e=ma,n=Fh=ma=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Lg(a,h,f)}}function Iu(e,n,a,o){Dn[ma++]=e,Dn[ma++]=n,Dn[ma++]=a,Dn[ma++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,a,o){return Iu(e,n,a,o),Nu(e)}function Sr(e,n){return Iu(e,null,null,n),Nu(e)}function Lg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Nu(e){if(50<ol)throw ol=0,nd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function oA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,a,o){return new oA(e,n,a,o)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var a=e.alternate;return a===null?(a=pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Pg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,a,o,h,f){var y=0;if(o=e,typeof e=="function")Kh(e)&&(y=1);else if(typeof e=="string")y=fS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,n,h),e.elementType=I,e.lanes=f,e;case Y:return br(a.children,h,f,n);case W:y=8,h|=24;break;case ut:return e=pn(12,a,n,h|2),e.elementType=ut,e.lanes=f,e;case ie:return e=pn(13,a,n,h),e.elementType=ie,e.lanes=f,e;case zt:return e=pn(19,a,n,h),e.elementType=zt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:y=10;break t;case Et:y=9;break t;case $t:y=11;break t;case N:y=14;break t;case w:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=pn(y,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function br(e,n,a,o){return e=pn(7,e,o,n),e.lanes=a,e}function Yh(e,n,a){return e=pn(6,e,null,n),e.lanes=a,e}function kg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zg=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var a=zg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:po(n)},zg.set(e,n),n)}return{value:e,source:n,stack:po(n)}}var pa=[],ya=0,Ou=null,jo=0,Vn=[],Mn=0,_s=null,Ei=1,Ti="";function ki(e,n){pa[ya++]=jo,pa[ya++]=Ou,Ou=e,jo=n}function jg(e,n,a){Vn[Mn++]=Ei,Vn[Mn++]=Ti,Vn[Mn++]=_s,_s=e;var o=Ei;e=Ti;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ei=1<<32-he(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function Jh(e){e.return!==null&&(ki(e,1),jg(e,1,0))}function $h(e){for(;e===Ou;)Ou=pa[--ya],pa[ya]=null,jo=pa[--ya],pa[ya]=null;for(;e===_s;)_s=Vn[--Mn],Vn[Mn]=null,Ti=Vn[--Mn],Vn[Mn]=null,Ei=Vn[--Mn],Vn[Mn]=null}function Bg(e,n){Vn[Mn++]=Ei,Vn[Mn++]=Ti,Vn[Mn++]=_s,Ei=n.id,Ti=n.overflow,_s=e}var Be=null,Wt=null,Mt=!1,vs=null,xn=!1,Zh=Error(r(519));function Es(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(On(n,e)),Zh}function qg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[xe]=o,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<ul.length;a++)Ct(ul[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),hs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||r_(n.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Es(e,!0)}function Hg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Mt)return Hg(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&Wt&&Es(e),Hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=m_(e)}else n===27?(n=Wt,xs(e.type)?(e=Ad,Ad=null,Wt=e):Wt=n):Wt=Be?Ln(e.stateNode.nextSibling):null;return!0}function wr(){Wt=Be=null,Mt=!1}function Wh(){var e=vs;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),vs=null),e}function Bo(e){vs===null?vs=[e]:vs.push(e)}var tf=V(null),Rr=null,zi=null;function Ts(e,n,a){nt(tf,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=tf.current,J(tf)}function ef(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function nf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,e),o||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),ef(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&nf(n,e,a,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){Rr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Gg(Rr,e)}function Mu(e,n){return Rr===null&&Cr(e),Gg(e,n)}function Gg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(r(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return a}var lA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},uA=s.unstable_scheduleCallback,cA=s.unstable_NormalPriority,Ae={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new lA,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&uA(cA,function(){e.controller.abort()})}var Ho=null,rf=0,Ea=0,Ta=null;function hA(e,n){if(Ho===null){var a=Ho=[];rf=0,Ea=ld(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,n.then(Fg,Fg),n}function Fg(){if(--rf===0&&Ho!==null){Ta!==null&&(Ta.status="fulfilled");var e=Ho;Ho=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Qg=Q.S;Q.S=function(e,n){Ny=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hA(e,n),Qg!==null&&Qg(e,n)};var Ir=V(null);function af(){var e=Ir.current;return e!==null?e:Zt.pooledCache}function xu(e,n){n===null?nt(Ir,Ir.current):nt(Ir,n.pool)}function Kg(){var e=af();return e===null?null:{parent:Ae._currentValue,pool:e}}var Aa=Error(r(460)),of=Error(r(474)),Uu=Error(r(542)),Lu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw Dr=n,Aa}}function Nr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Dr=a,Aa):a}}var Dr=null;function Jg(){if(Dr===null)throw Error(r(459));var e=Dr;return Dr=null,e}function $g(e){if(e===Aa||e===Uu)throw Error(r(483))}var Sa=null,Go=0;function Pu(e){var n=Go;return Go+=1,Sa===null&&(Sa=[]),Xg(Sa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){function n(U,D){if(e){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function a(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Pi(U,D),U.index=0,U.sibling=null,U}function f(U,D,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,z,K){return D===null||D.tag!==6?(D=Yh(z,U.mode,K),D.return=U,D):(D=h(D,z),D.return=U,D)}function C(U,D,z,K){var lt=z.type;return lt===Y?F(U,D,z.props.children,K,z.key):D!==null&&(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&Nr(lt)===D.type)?(D=h(D,z.props),Fo(D,z),D.return=U,D):(D=Du(z.type,z.key,z.props,null,U.mode,K),Fo(D,z),D.return=U,D)}function j(U,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Xh(z,U.mode,K),D.return=U,D):(D=h(D,z.children||[]),D.return=U,D)}function F(U,D,z,K,lt){return D===null||D.tag!==7?(D=br(z,U.mode,K,lt),D.return=U,D):(D=h(D,z),D.return=U,D)}function X(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return z=Du(D.type,D.key,D.props,null,U.mode,z),Fo(z,D),z.return=U,z;case G:return D=Xh(D,U.mode,z),D.return=U,D;case w:return D=Nr(D),X(U,D,z)}if(Ie(D)||L(D))return D=br(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return X(U,Pu(D),z);if(D.$$typeof===Tt)return X(U,Mu(U,D),z);ku(U,D)}return null}function B(U,D,z,K){var lt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:E(U,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===lt?C(U,D,z,K):null;case G:return z.key===lt?j(U,D,z,K):null;case w:return z=Nr(z),B(U,D,z,K)}if(Ie(z)||L(z))return lt!==null?null:F(U,D,z,K,null);if(typeof z.then=="function")return B(U,D,Pu(z),K);if(z.$$typeof===Tt)return B(U,D,Mu(U,z),K);ku(U,z)}return null}function H(U,D,z,K,lt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(z)||null,E(D,U,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case P:return U=U.get(K.key===null?z:K.key)||null,C(D,U,K,lt);case G:return U=U.get(K.key===null?z:K.key)||null,j(D,U,K,lt);case w:return K=Nr(K),H(U,D,z,K,lt)}if(Ie(K)||L(K))return U=U.get(z)||null,F(D,U,K,lt,null);if(typeof K.then=="function")return H(U,D,z,Pu(K),lt);if(K.$$typeof===Tt)return H(U,D,z,Mu(D,K),lt);ku(D,K)}return null}function rt(U,D,z,K){for(var lt=null,Pt=null,ot=D,wt=D=0,Nt=null;ot!==null&&wt<z.length;wt++){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var kt=B(U,ot,z[wt],K);if(kt===null){ot===null&&(ot=Nt);break}e&&ot&&kt.alternate===null&&n(U,ot),D=f(kt,D,wt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt,ot=Nt}if(wt===z.length)return a(U,ot),Mt&&ki(U,wt),lt;if(ot===null){for(;wt<z.length;wt++)ot=X(U,z[wt],K),ot!==null&&(D=f(ot,D,wt),Pt===null?lt=ot:Pt.sibling=ot,Pt=ot);return Mt&&ki(U,wt),lt}for(ot=o(ot);wt<z.length;wt++)Nt=H(ot,U,wt,z[wt],K),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?wt:Nt.key),D=f(Nt,D,wt),Pt===null?lt=Nt:Pt.sibling=Nt,Pt=Nt);return e&&ot.forEach(function(zs){return n(U,zs)}),Mt&&ki(U,wt),lt}function ft(U,D,z,K){if(z==null)throw Error(r(151));for(var lt=null,Pt=null,ot=D,wt=D=0,Nt=null,kt=z.next();ot!==null&&!kt.done;wt++,kt=z.next()){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var zs=B(U,ot,kt.value,K);if(zs===null){ot===null&&(ot=Nt);break}e&&ot&&zs.alternate===null&&n(U,ot),D=f(zs,D,wt),Pt===null?lt=zs:Pt.sibling=zs,Pt=zs,ot=Nt}if(kt.done)return a(U,ot),Mt&&ki(U,wt),lt;if(ot===null){for(;!kt.done;wt++,kt=z.next())kt=X(U,kt.value,K),kt!==null&&(D=f(kt,D,wt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt);return Mt&&ki(U,wt),lt}for(ot=o(ot);!kt.done;wt++,kt=z.next())kt=H(ot,U,wt,kt.value,K),kt!==null&&(e&&kt.alternate!==null&&ot.delete(kt.key===null?wt:kt.key),D=f(kt,D,wt),Pt===null?lt=kt:Pt.sibling=kt,Pt=kt);return e&&ot.forEach(function(SS){return n(U,SS)}),Mt&&ki(U,wt),lt}function Jt(U,D,z,K){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var lt=z.key;D!==null;){if(D.key===lt){if(lt=z.type,lt===Y){if(D.tag===7){a(U,D.sibling),K=h(D,z.props.children),K.return=U,U=K;break t}}else if(D.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&Nr(lt)===D.type){a(U,D.sibling),K=h(D,z.props),Fo(K,z),K.return=U,U=K;break t}a(U,D);break}else n(U,D);D=D.sibling}z.type===Y?(K=br(z.props.children,U.mode,K,z.key),K.return=U,U=K):(K=Du(z.type,z.key,z.props,null,U.mode,K),Fo(K,z),K.return=U,U=K)}return y(U);case G:t:{for(lt=z.key;D!==null;){if(D.key===lt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(U,D.sibling),K=h(D,z.children||[]),K.return=U,U=K;break t}else{a(U,D);break}else n(U,D);D=D.sibling}K=Xh(z,U.mode,K),K.return=U,U=K}return y(U);case w:return z=Nr(z),Jt(U,D,z,K)}if(Ie(z))return rt(U,D,z,K);if(L(z)){if(lt=L(z),typeof lt!="function")throw Error(r(150));return z=lt.call(z),ft(U,D,z,K)}if(typeof z.then=="function")return Jt(U,D,Pu(z),K);if(z.$$typeof===Tt)return Jt(U,D,Mu(U,z),K);ku(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(U,D.sibling),K=h(D,z),K.return=U,U=K):(a(U,D),K=Yh(z,U.mode,K),K.return=U,U=K),y(U)):a(U,D)}return function(U,D,z,K){try{Go=0;var lt=Jt(U,D,z,K);return Sa=null,lt}catch(ot){if(ot===Aa||ot===Uu)throw ot;var Pt=pn(29,ot,null,U.mode);return Pt.lanes=K,Pt.return=U,Pt}finally{}}}var Or=Zg(!0),Wg=Zg(!1),As=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Lg(e,null,a),n}return Iu(e,o,n,a),Nu(e)}function Qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}function cf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hf=!1;function Ko(){if(hf){var e=Ta;if(e!==null)throw e}}function Yo(e,n,a,o){hf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,y===null?f=j:y.next=j,y=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;y=0,F=j=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(It&B)===B:(o&B)===B){B!==0&&B===Ea&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;B=n;var Jt=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){X=rt.call(Jt,X,B);break t}X=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,B=typeof rt=="function"?rt.call(Jt,X,B):rt,B==null)break t;X=S({},X,B);break t;case 2:As=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=H,C=X):F=F.next=H,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ns|=y,e.lanes=y,e.memoizedState=X}}function tp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ep(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)tp(a[e],n)}var ba=V(null),zu=V(0);function np(e,n){e=Xi,nt(zu,e),nt(ba,n),Xi=e|n.baseLanes}function ff(){nt(zu,Xi),nt(ba,ba.current)}function df(){Xi=zu.current,J(ba),J(zu)}var yn=V(null),Un=null;function ws(e){var n=e.alternate;nt(de,de.current&1),nt(yn,e),Un===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Un=e)}function mf(e){nt(de,de.current),nt(yn,e),Un===null&&(Un=e)}function ip(e){e.tag===22?(nt(de,de.current),nt(yn,e),Un===null&&(Un=e)):Rs()}function Rs(){nt(de,de.current),nt(yn,yn.current)}function _n(e){J(yn),Un===e&&(Un=null),J(de)}var de=V(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,St=null,Yt=null,Se=null,Bu=!1,wa=!1,Vr=!1,qu=0,Xo=0,Ra=null,dA=0;function ue(){throw Error(r(321))}function gf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function pf(e,n,a,o,h,f){return Bi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?jp:Of,Vr=!1,f=a(o,h),Vr=!1,wa&&(f=rp(n,a,o,h)),sp(e),f}function sp(e){Q.H=Zo;var n=Yt!==null&&Yt.next!==null;if(Bi=0,Se=Yt=St=null,Bu=!1,Xo=0,Ra=null,n)throw Error(r(300));e===null||be||(e=e.dependencies,e!==null&&Vu(e)&&(be=!0))}function rp(e,n,a,o){St=e;var h=0;do{if(wa&&(Ra=null),Xo=0,wa=!1,25<=h)throw Error(r(301));if(h+=1,Se=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Bp,f=n(a,o)}while(wa);return f}function mA(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(St.flags|=1024),n}function yf(){var e=qu!==0;return qu=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}Bi=0,Se=Yt=St=null,wa=!1,Xo=qu=0,Ra=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Yt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Xo;return Xo+=1,Ra===null&&(Ra=[]),e=Xg(Ra,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?jp:Of),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===Tt)return qe(e)}throw Error(r(438,String(e)))}function Ef(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Hu(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=x;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=me();return Tf(n,Yt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,C=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(It&X)===X:(Bi&X)===X){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ea&&(F=!0);else if((Bi&B)===B){j=j.next,B===Ea&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=X,y=f):C=C.next=X,St.lanes|=B,Ns|=B;X=j.action,Vr&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=B,y=f):C=C.next=B,St.lanes|=X,Ns|=X;j=j.next}while(j!==null&&j!==n);if(C===null?y=f:C.next=E,!gn(f,e.memoizedState)&&(be=!0,F&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ap(e,n,a){var o=St,h=me(),f=Mt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!gn((Yt||h).memoizedState,a);if(y&&(h.memoizedState=a,be=!0),h=h.queue,wf(up.bind(null,o,h,e),[e]),h.getSnapshot!==n||y||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},lp.bind(null,o,h,a,n),null),Zt===null)throw Error(r(349));f||(Bi&127)!==0||op(o,n,a)}return a}function op(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Hu(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function lp(e,n,a,o){n.value=a,n.getSnapshot=o,cp(n)&&hp(e)}function up(e,n,a){return a(function(){cp(n)&&hp(e)})}function cp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function hp(e){var n=Sr(e,2);n!==null&&un(n,e,2)}function Sf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),Vr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function fp(e,n,a,o){return e.baseState=a,Tf(e,Yt,typeof o=="function"?o:qi)}function gA(e,n,a,o,h){if(Yu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,dp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dp(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var E=a(h,o),C=Q.S;C!==null&&C(y,E),mp(e,n,E)}catch(j){bf(e,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),Q.T=f}}else try{f=a(h,o),mp(e,n,f)}catch(j){bf(e,n,j)}}function mp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gp(e,n,o)},function(o){return bf(e,n,o)}):gp(e,n,a)}function gp(e,n,a){n.status="fulfilled",n.value=a,pp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,dp(e,a)))}function bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,pp(n),n=n.next;while(n!==o)}e.action=null}function pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yp(e,n){return n}function _p(e,n){if(Mt){var a=Zt.formState;if(a!==null){t:{var o=St;if(Mt){if(Wt){e:{for(var h=Wt,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Ln(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},a.queue=o,a=Pp.bind(null,St,o),o.dispatch=a,o=Sf(!1),f=Df.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=gA.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function vp(e){var n=me();return Ep(n,Yt,e)}function Ep(e,n,a){if(n=Tf(e,n,yp)[0],e=Fu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(y){throw y===Aa?Uu:y}else o=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Ca(9,{destroy:void 0},pA.bind(null,h,a),null)),[o,f,e]}function pA(e,n){e.action=n}function Tp(e){var n=me(),a=Yt;if(a!==null)return Ep(n,a,e);me(),n=n.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ca(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Hu(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Ap(){return me().memoizedState}function Qu(e,n,a,o){var h=en();St.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},a,o===void 0?null:o)}function Ku(e,n,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&gf(o,Yt.memoizedState.deps)?h.memoizedState=Ca(n,f,a,o):(St.flags|=e,h.memoizedState=Ca(1|n,f,a,o))}function Sp(e,n){Qu(8390656,8,e,n)}function wf(e,n){Ku(2048,8,e,n)}function yA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Hu(),St.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function bp(e){var n=me().memoizedState;return yA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function wp(e,n){return Ku(4,2,e,n)}function Rp(e,n){return Ku(4,4,e,n)}function Cp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,a){a=a!=null?a.concat([e]):null,Ku(4,4,Cp.bind(null,n,e),a)}function Rf(){}function Np(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Dp(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=e(),Vr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Cf(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Oy(),St.lanes|=e,Ns|=e,a)}function Op(e,n,a,o){return gn(a,n)?a:ba.current!==null?(e=Cf(e,a,o),gn(e,n)||(be=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=a):(e=Oy(),St.lanes|=e,Ns|=e,n)}function Vp(e,n,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var y=Q.T,E={};Q.T=E,Df(e,!1,n,a);try{var C=h(),j=Q.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=fA(C,o);$o(e,n,F,Tn(e))}else $o(e,n,o,Tn(e))}catch(X){$o(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{et.p=f,y!==null&&E.types!==null&&(y.types=E.types),Q.T=y}}function _A(){}function If(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Mp(e).queue;Vp(e,h,n,ct,a===null?_A:function(){return xp(e),a(o)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xp(e){var n=Mp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},Tn())}function Nf(){return qe(ml)}function Up(){return me().memoizedState}function Lp(){return me().memoizedState}function vA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Ss(a);var o=bs(n,e,a);o!==null&&(un(o,n,a),Qo(o,n,a)),n={cache:sf()},e.payload=n;return}n=n.return}}function EA(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?kp(n,a):(a=Qh(e,n,a,o),a!==null&&(un(a,e,o),zp(a,n,o)))}function Pp(e,n,a){var o=Tn();$o(e,n,a,o)}function $o(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return Iu(e,n,h,0),Zt===null&&Cu(),!1}catch{}finally{}if(a=Qh(e,n,h,o),a!==null)return un(a,e,o),zp(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(r(479))}else n=Qh(e,a,o,2),n!==null&&un(n,e,2)}function Yu(e){var n=e.alternate;return e===St||n!==null&&n===St}function kp(e,n){wa=Bu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,vo(e,a)}}var Zo={readContext:qe,use:Gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Zo.useEffectEvent=ue;var jp={readContext:qe,use:Gu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Sp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,Cp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(Vr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(Vr){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=EA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=Pp.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,n){var a=en();return Cf(a,e,n)},useTransition:function(){var e=Sf(!1);return e=Vp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,h=en();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Zt===null)throw Error(r(349));(It&127)!==0||op(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Sp(up.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},lp.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Zt.identifierPrefix;if(Mt){var a=Ti,o=Ei;a=(o&~(1<<32-he(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=qu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=dA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nf,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return en().memoizedState=vA.bind(null,St)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:qe,use:Gu,useCallback:Np,useContext:qe,useEffect:wf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Fu,useRef:Ap,useState:function(){return Fu(qi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=me();return Op(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Fu(qi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:Nf,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var a=me();return fp(a,Yt,e,n)},useMemoCache:Ef,useCacheRefresh:Lp};Of.useEffectEvent=bp;var Bp={readContext:qe,use:Gu,useCallback:Np,useContext:qe,useEffect:wf,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Dp,useReducer:Af,useRef:Ap,useState:function(){return Af(qi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=me();return Yt===null?Cf(a,e,n):Op(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Af(qi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ap,useId:Up,useHostTransitionStatus:Nf,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var a=me();return Yt!==null?fp(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Lp};Bp.useEffectEvent=bp;function Vf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Ss(o);h.payload=n,a!=null&&(h.callback=a),n=bs(e,h,o),n!==null&&(un(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Ss(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=bs(e,h,o),n!==null&&(un(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=Ss(a);o.tag=2,n!=null&&(o.callback=n),n=bs(e,o,a),n!==null&&(un(n,e,a),Qo(n,e,a))}};function qp(e,n,a,o,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!ko(a,o)||!ko(h,f):!0}function Hp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Mf.enqueueReplaceState(n,n.state,null)}function Mr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Gp(e){Ru(e)}function Fp(e){console.error(e)}function Qp(e){Ru(e)}function Xu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,a){return a=Ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,n)},a}function Yp(e){return e=Ss(e),e.tag=3,e}function Xp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Kp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Kp(n,a,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function TA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?oc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return a.flags|=65536,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),rd(e,o,h)),!1}throw Error(r(435,a.tag))}return rd(e,o,h),oc(),!1}if(Mt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(r(422),{cause:o}),Bo(On(e,a)))):(o!==Zh&&(n=Error(r(423),{cause:o}),Bo(On(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=xf(e.stateNode,o,h),cf(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:o});if(f=On(f,a),al===null?al=[f]:al.push(f),ce!==4&&(ce=2),n===null)return!0;o=On(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=xf(a.stateNode,o,e),cf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yp(h),Xp(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var Uf=Error(r(461)),be=!1;function He(e,n,a,o){n.child=e===null?Wg(n,null,a,o):Or(n,e.child,a,o)}function Jp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Cr(n),o=pf(e,n,a,y,f,h),E=yf(),e!==null&&!be?(_f(e,n,h),Hi(e,n,h)):(Mt&&E&&Jh(n),n.flags|=1,He(e,n,o,h),n.child)}function $p(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,o,h)):(e=Du(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(y,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Lf(e,n,a,o,h)}function Wp(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ty(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?np(n,f):ff(),ip(n);else return o=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(xu(n,f.cachePool),np(n,f),Rs(),n.memoizedState=null):(e!==null&&xu(n,null),ff(),Rs());return He(e,n,h,a),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,a,o,h){var f=af();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(n,null),ff(),ip(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,a){return Or(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function AA(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,Wo(null,e);if(mf(n),(e=Wt)?(e=d_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=kg(e),a.return=n,n.child=a,Be=n,Wt=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(be||va(e,n,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Zt,o!==null&&(y=Eo(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Sr(e,y),un(o,e,y),Uf;oc(),n=ey(e,n,a)}else e=f.treeContext,Wt=Ln(y.nextSibling),Be=n,Mt=!0,vs=null,xn=!1,e!==null&&Bg(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Lf(e,n,a,o,h){return Cr(n),a=pf(e,n,a,o,void 0,h),o=yf(),e!==null&&!be?(_f(e,n,h),Hi(e,n,h)):(Mt&&o&&Jh(n),n.flags|=1,He(e,n,a,h),n.child)}function ny(e,n,a,o,h,f){return Cr(n),n.updateQueue=null,a=rp(n,o,a,h),sp(e),o=yf(),e!==null&&!be?(_f(e,n,f),Hi(e,n,f)):(Mt&&o&&Jh(n),n.flags|=1,He(e,n,a,f),n.child)}function iy(e,n,a,o,h){if(Cr(n),n.stateNode===null){var f=ga,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):ga,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Vf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Mr(a,E);f.props=C;var j=f.context,F=a.contextType;y=ga,typeof F=="object"&&F!==null&&(y=qe(F));var X=a.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&Hp(n,f,o,y),As=!1;var B=n.memoizedState;f.state=B,Yo(n,o,f,h),Ko(),j=n.memoizedState,E||B!==j||As?(typeof X=="function"&&(Vf(n,a,X,o),j=n.memoizedState),(C=As||qp(n,a,C,o,B,j,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),y=n.memoizedProps,F=Mr(a,y),f.props=F,X=n.pendingProps,B=f.context,j=a.contextType,C=ga,typeof j=="object"&&j!==null&&(C=qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==C)&&Hp(n,f,o,C),As=!1,B=n.memoizedState,f.state=B,Yo(n,o,f,h),Ko();var H=n.memoizedState;y!==X||B!==H||As||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Vf(n,a,E,o),H=n.memoizedState),(F=As||qp(n,a,F,o,B,H,C)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function sy(e,n,a,o){return wr(),n.flags|=256,He(e,n,a,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Kg()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function ry(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?ws(n):Rs(),(e=Wt)?(e=d_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=kg(e),a.return=n,n.child=a,Be=n,Wt=null)):e=null,e===null)throw Es(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=br(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(a),o.childLanes=zf(e,y,a),n.memoizedState=Pf,Wo(null,o)):(ws(n),jf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Bf(e,n,a)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=br(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Or(n,e.child,null,a),o=n.child,o.memoizedState=kf(a),o.childLanes=zf(e,y,a),n.memoizedState=Pf,n=Wo(null,o));else if(ws(n),Td(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(r(419)),o.stack="",o.digest=y,Bo({value:o,source:null,stack:null}),n=Bf(e,n,a)}else if(be||va(e,n,a,!1),y=(a&e.childLanes)!==0,be||y){if(y=Zt,y!==null&&(o=Eo(y,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Sr(e,o),un(y,e,o),Uf;Ed(E)||oc(),n=Bf(e,n,a)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Wt=Ln(E.nextSibling),Be=n,Mt=!0,vs=null,xn=!1,e!==null&&Bg(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=Pi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=Pi(j,E):(E=br(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=kf(a):(h=E.cachePool,h!==null?(C=Ae._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Kg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,y,a),n.memoizedState=Pf,Wo(e.child,o)):(ws(n),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function jf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Bf(e,n,a){return Or(n,e.child,null,a),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,a)}function qf(e,n,a,o,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function oy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=de.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,nt(de,y),He(e,n,o,a),o=Mt?jo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,a,n);else if(e.tag===19)ay(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&ju(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(n,!0,a,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Pi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function SA(e,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ts(n,Ae,e.memoizedState.cache),wr();break;case 27:case 5:rr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ry(e,n,a):(ws(n),e=Hi(e,n,a),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return oy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(de,de.current),o)break;return null;case 22:return n.lanes=0,Wp(e,n,a,n.pendingProps);case 24:Ts(n,Ae,e.memoizedState.cache)}return Hi(e,n,a)}function ly(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Hf(e,a)&&(n.flags&128)===0)return be=!1,SA(e,n,a);be=(e.flags&131072)!==0}else be=!1,Mt&&(n.flags&1048576)!==0&&jg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Nr(n.elementType),n.type=e,typeof e=="function")Kh(e)?(o=Mr(e,o),n.tag=1,n=iy(null,n,e,o,a)):(n.tag=0,n=Lf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===$t){n.tag=11,n=Jp(null,n,e,o,a);break t}else if(h===N){n.tag=14,n=$p(null,n,e,o,a);break t}}throw n=se(e)||e,Error(r(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Mr(o,n.pendingProps),iy(e,n,o,h,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Yo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Ts(n,Ae,o),o!==f.cache&&nf(n,[Ae],a,!0),Ko(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,o,a);break t}else if(o!==h){h=On(Error(r(424)),n),Bo(h),n=sy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=Ln(e.firstChild),Be=n,Mt=!0,vs=null,xn=!0,a=Wg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wr(),o===h){n=Hi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=v_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=mc(bt.current).createElement(a),o[ve]=n,o[xe]=e,Ge(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rr(n),e===null&&Mt&&(o=n.stateNode=p_(n.type,n.pendingProps,bt.current),Be=n,xn=!0,h=Wt,xs(n.type)?(Ad=h,Wt=Ln(o.firstChild)):Wt=h),He(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=Wt)&&(o=WA(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,Be=n,Wt=Ln(o.firstChild),xn=!1,h=!0):h=!1),h||Es(n)),rr(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:y!==null&&yd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,mA,null,null,a),ml._currentValue=h),$u(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=Wt)&&(a=tS(a,n.pendingProps,xn),a!==null?(n.stateNode=a,Be=n,Wt=null,e=!0):e=!1),e||Es(n)),null;case 13:return ry(e,n,a);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Or(n,null,o,a):He(e,n,o,a),n.child;case 11:return Jp(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return $p(e,n,n.type,n.pendingProps,a);case 15:return Zp(e,n,n.type,n.pendingProps,a);case 19:return oy(e,n,a);case 31:return AA(e,n,a);case 22:return Wp(e,n,a,n.pendingProps);case 24:return Cr(n),o=qe(Ae),e===null?(h=af(),h===null&&(h=Zt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},lf(n),Ts(n,Ae,h)):((e.lanes&a)!==0&&(uf(e,n),Yo(n,null,null,a),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Ae,o)):(o=f.cache,Ts(n,Ae,o),o!==h.cache&&nf(n,[Ae],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(e){e.flags|=4}function Gf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw Dr=Lu,of}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!b_(n))if(Uy())e.flags|=8192;else throw Dr=Lu,of}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Oa|=n)}function tl(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function bA(e,n,a){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(Ae),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(te(n),uy(n,f)):(te(n),Gf(n,h,null,o,a))):f?f!==e.memoizedState?(Gi(n),te(n),uy(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),te(n),Gf(n,h,e,o,a)),null;case 27:if(Jr(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=st.current,_a(n)?qg(n):(e=p_(h,o,a),n.stateNode=e,Gi(n))}return te(n),null;case 5:if(Jr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=st.current,_a(n))qg(n);else{var y=mc(bt.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[ve]=n,f[xe]=o;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return te(n),Gf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||r_(e.nodeValue,a)),e||Es(n,!0)}else e=mc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return te(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ve]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ve]=n}else wr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Wu(n,n.updateQueue),te(n),null);case 4:return re(),e===null&&fd(n.stateNode.containerInfo),te(n),null;case 10:return ji(n.type),te(n),null;case 19:if(J(de),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Pg(a,e),a=a.sibling;return nt(de,de.current&1|2),Mt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>sc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return te(n),null}else 2*We()-o.renderingStartTime>sc&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=de.current,nt(de,h?a&1|2:a&1),Mt&&ki(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return _n(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Wu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&J(Ir),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(Ae),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function wA(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(Ae),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(r(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));wr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(de),null;case 4:return re(),null;case 10:return ji(n.type),null;case 22:case 23:return _n(n),df(),e!==null&&J(Ir),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(Ae),null;case 25:return null;default:return null}}function cy(e,n){switch($h(n),n.tag){case 3:ji(Ae),re();break;case 26:case 27:case 5:Jr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:J(de);break;case 10:ji(n.type);break;case 22:case 23:_n(n),df(),e!==null&&J(Ir);break;case 24:ji(Ae)}}function el(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Qt(n,n.return,E)}}function Cs(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=a,j=E;try{j()}catch(F){Qt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){Qt(n,n.return,F)}}function hy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ep(n,a)}catch(o){Qt(e,e.return,o)}}}function fy(e,n,a){a.props=Mr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,n,o)}}function nl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,n,h)}else a.current=null}function dy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function Ff(e,n,a){try{var o=e.stateNode;KA(o,e.type,a,n),o[xe]=n}catch(h){Qt(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&xs(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,a),e=e.sibling;e!==null;)Kf(e,n,a),e=e.sibling}function tc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,n,a),e=e.sibling;e!==null;)tc(e,n,a),e=e.sibling}function gy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[ve]=e,n[xe]=a}catch(f){Qt(e,e.return,f)}}var Fi=!1,we=!1,Yf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Le=null;function RA(e,n){if(e=e.containerInfo,gd=Tc,e=Ig(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,C=-1,j=0,F=0,X=e,B=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(C=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===a&&++j===h&&(E=y),B===f&&++F===o&&(C=y),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:e,selectionRange:a},Tc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var rt=Mr(a.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Qt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function yy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),o&4&&el(5,a);break;case 1:if(Ki(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Qt(a,a.return,y)}else{var h=Mr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Qt(a,a.return,y)}}o&64&&hy(a),o&512&&nl(a,a.return);break;case 3:if(Ki(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ep(e,n)}catch(y){Qt(a,a.return,y)}}break;case 27:n===null&&o&4&&gy(a);case 26:case 5:Ki(e,a),n===null&&o&4&&dy(a),o&512&&nl(a,a.return);break;case 12:Ki(e,a);break;case 31:Ki(e,a),o&4&&Ey(e,a);break;case 13:Ki(e,a),o&4&&Ty(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=UA.bind(null,a),eS(e,a))));break;case 22:if(o=a.memoizedState!==null||Fi,!o){n=n!==null&&n.memoizedState!==null||we,h=Fi;var f=we;Fi=o,(we=n)&&!f?Yi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Fi=h,we=f}break;case 30:break;default:Ki(e,a)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,rn=!1;function Qi(e,n,a){for(a=a.child;a!==null;)vy(e,n,a),a=a.sibling}function vy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:we||Ai(a,n),Qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ai(a,n);var o=oe,h=rn;xs(a.type)&&(oe=a.stateNode,rn=!1),Qi(e,n,a),hl(a.stateNode),oe=o,rn=h;break;case 5:we||Ai(a,n);case 6:if(o=oe,h=rn,oe=null,Qi(e,n,a),oe=o,rn=h,oe!==null)if(rn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:oe!==null&&(rn?(e=oe,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),za(e)):h_(oe,a.stateNode));break;case 4:o=oe,h=rn,oe=a.stateNode.containerInfo,rn=!0,Qi(e,n,a),oe=o,rn=h;break;case 0:case 11:case 14:case 15:Cs(2,a,n),we||Cs(4,a,n),Qi(e,n,a);break;case 1:we||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fy(a,n,o)),Qi(e,n,a);break;case 21:Qi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Qi(e,n,a),we=o;break;default:Qi(e,n,a)}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(a){Qt(n,n.return,a)}}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(a){Qt(n,n.return,a)}}function CA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(r(435,e.tag))}}function ec(e,n){var a=CA(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=LA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){oe=E.stateNode,rn=!1;break t}break;case 5:oe=E.stateNode,rn=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(oe===null)throw Error(r(160));vy(f,y,h),oe=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,e),n=n.sibling}var Jn=null;function Ay(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(Cs(3,e,e.return),el(3,e),Cs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||a===null||Ai(a,a.return)),o&64&&Fi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(an(n,e),on(e),o&512&&(we||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var y=A_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(y=A_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else S_(h,e.type,e.stateNode);else e.stateNode=T_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?S_(h,e.type,e.stateNode):T_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||a===null||Ai(a,a.return)),a!==null&&o&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Qt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(yc=null,h=Jn,Jn=gc(n.containerInfo),an(n,e),Jn=h,on(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}Yf&&(Yf=!1,Sy(e));break;case 4:o=Jn,Jn=gc(e.stateNode.containerInfo),an(n,e),on(e),Jn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Fi,F=we;if(Fi=j||h,we=F||C,an(n,e),we=F,Fi=j,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Fi||we||xr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(rt){Qt(C,C.return,rt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(rt){Qt(C,C.return,rt)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;h?f_(H,!0):f_(C.stateNode,!1)}catch(rt){Qt(C,C.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ec(e,a))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(my(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Qf(e);tc(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(sn(y,""),a.flags&=-33);var E=Qf(e);tc(e,E,y);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Qf(e);Kf(e,j,C);break;default:throw Error(r(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),xr(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fy(n,n.return,a),xr(n);break;case 27:hl(n.stateNode);case 26:case 5:Ai(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Yi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,a),el(4,f);break;case 1:if(Yi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Qt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)tp(C[h],E)}catch(j){Qt(o,o.return,j)}}a&&y&64&&hy(f),nl(f,f.return);break;case 27:gy(f);case 26:case 5:Yi(h,f,a),a&&o===null&&y&4&&dy(f),nl(f,f.return);break;case 12:Yi(h,f,a);break;case 31:Yi(h,f,a),a&&y&4&&Ey(h,f);break;case 13:Yi(h,f,a),a&&y&4&&Ty(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,a),nl(f,f.return);break;case 30:break;default:Yi(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function $n(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(e,n,a,o),n=n.sibling}function by(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,a,o),h&2048&&el(9,n);break;case 1:$n(e,n,a,o);break;case 3:$n(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){$n(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else $n(e,n,a,o);break;case 31:$n(e,n,a,o);break;case 13:$n(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,a,o):il(e,n):f._visibility&2?$n(e,n,a,o):(f._visibility|=2,Ia(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(y,n);break;case 24:$n(e,n,a,o),h&2048&&Jf(n.alternate,n);break;default:$n(e,n,a,o)}}function Ia(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,C=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ia(f,y,E,C,h),el(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?Ia(f,y,E,C,h):il(f,y):(F._visibility|=2,Ia(f,y,E,C,h)),h&&j&2048&&Xf(y.alternate,y);break;case 24:Ia(f,y,E,C,h),h&&j&2048&&Jf(y.alternate,y);break;default:Ia(f,y,E,C,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:il(a,o),h&2048&&Xf(o.alternate,o);break;case 24:il(a,o),h&2048&&Jf(o.alternate,o);break;default:il(a,o)}n=n.sibling}}var sl=8192;function Na(e,n,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)wy(e,n,a),e=e.sibling}function wy(e,n,a){switch(e.tag){case 26:Na(e,n,a),e.flags&sl&&e.memoizedState!==null&&dS(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,a);break;case 3:case 4:var o=Jn;Jn=gc(e.stateNode.containerInfo),Na(e,n,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Na(e,n,a),sl=o):Na(e,n,a));break;default:Na(e,n,a)}}function Ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Iy(o,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):rl(e);break;default:rl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,Iy(o,e)}Ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),nc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Iy(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(_y(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var IA={getCacheForType:function(e){var n=qe(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(Ae).controller.signal}},NA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Zt=null,Rt=null,It=0,Ft=0,vn=null,Is=!1,Da=!1,$f=!1,Xi=0,ce=0,Ns=0,Ur=0,Zf=0,En=0,Oa=0,al=null,ln=null,Wf=!1,ic=0,Ny=0,sc=1/0,rc=null,Ds=null,Oe=0,Os=null,Va=null,Ji=0,td=0,ed=null,Dy=null,ol=0,nd=null;function Tn(){return(Bt&2)!==0&&It!==0?It&-It:Q.T!==null?ld():au()}function Oy(){if(En===0)if((It&536870912)===0||Mt){var e=lr;lr<<=1,(lr&3932160)===0&&(lr=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,n,a){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Vs(e,It,En,!1)),ur(e,a),((Bt&2)===0||e!==Zt)&&(e===Zt&&((Bt&2)===0&&(Ur|=a),ce===4&&Vs(e,It,En,!1)),Si(e))}function Vy(e,n,a){if((Bt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?VA(e,n):sd(e,n,!0),f=o;do{if(h===0){Da&&!o&&Vs(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!DA(a)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=al;var C=E.current.memoizedState.isDehydrated;if(C&&(Ma(E,y).flags|=256),y=sd(E,y,!1),y!==2){if($f&&!C){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Vs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Vs(o,n,En,!Is);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ic+300-We(),10<h)){if(Vs(o,n,En,!Is),ri(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=u_(My.bind(null,o,a,ln,rc,Wf,n,En,Ur,Oa,Is,f,"Throttled",-0,0),h);break t}My(o,a,ln,rc,Wf,n,En,Ur,Oa,Is,f,null,-0,0)}}break}while(!0);Si(e)}function My(e,n,a,o,h,f,y,E,C,j,F,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},wy(n,f,X);var rt=(f&62914560)===f?ic-We():(f&4194048)===f?Ny-We():0;if(rt=mS(X,rt),rt!==null){Ji=f,e.cancelPendingCommit=rt(By.bind(null,e,n,f,a,o,h,y,E,C,F,X,null,B,H)),Vs(e,f,y,!j);return}}By(e,n,f,a,o,h,y,E,C)}function DA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(e,n,a,o){n&=~Zf,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&cr(e,a,n)}function ac(){return(Bt&6)===0?(ll(0),!1):!0}function id(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,zi=Rr=null,vf(e),Sa=null,Go=0,e=Rt;for(;e!==null;)cy(e.alternate,e),e=e.return;Rt=null}}function Ma(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,JA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,id(),Zt=e,Rt=a=Pi(e.current,null),It=n,Ft=0,vn=null,Is=!1,Da=Bn(e,n),$f=!1,Oa=En=Zf=Ur=Ns=ce=0,ln=al=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,Cu(),a}function xy(e,n){St=null,Q.H=Zo,n===Aa||n===Uu?(n=Jg(),Ft=3):n===of?(n=Jg(),Ft=4):Ft=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Rt===null&&(ce=1,Xu(e,On(n,e.current)))}function Uy(){var e=yn.current;return e===null?!0:(It&4194048)===It?Un===null:(It&62914560)===It||(It&536870912)!==0?e===Un:!1}function Ly(){var e=Q.H;return Q.H=Zo,e===null?Zo:e}function Py(){var e=Q.A;return Q.A=IA,e}function oc(){ce=4,Is||(It&4194048)!==It&&yn.current!==null||(Da=!0),(Ns&134217727)===0&&(Ur&134217727)===0||Zt===null||Vs(Zt,It,En,!1)}function sd(e,n,a){var o=Bt;Bt|=2;var h=Ly(),f=Py();(Zt!==e||It!==n)&&(rc=null,Ma(e,n)),n=!1;var y=ce;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,C=vn;switch(Ft){case 8:id(),y=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var j=Ft;if(Ft=0,vn=null,xa(e,E,C,j),a&&Da){y=0;break t}break;default:j=Ft,Ft=0,vn=null,xa(e,E,C,j)}}OA(),y=ce;break}catch(F){xy(e,F)}while(!0);return n&&e.shellSuspendCounter++,zi=Rr=null,Bt=o,Q.H=h,Q.A=f,Rt===null&&(Zt=null,It=0,Cu()),y}function OA(){for(;Rt!==null;)ky(Rt)}function VA(e,n){var a=Bt;Bt|=2;var o=Ly(),h=Py();Zt!==e||It!==n?(rc=null,sc=We()+500,Ma(e,n)):Da=Bn(e,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(Yg(f)){Ft=0,vn=null,zy(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),Si(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Yg(f)?(Ft=0,vn=null,zy(n)):(Ft=0,vn=null,xa(e,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(y?b_(y):E.stateNode.complete){Ft=0,vn=null;var C=E.sibling;if(C!==null)Rt=C;else{var j=E.return;j!==null?(Rt=j,lc(j)):Rt=null}break e}}Ft=0,vn=null,xa(e,n,f,5);break;case 6:Ft=0,vn=null,xa(e,n,f,6);break;case 8:id(),ce=6;break t;default:throw Error(r(462))}}MA();break}catch(F){xy(e,F)}while(!0);return zi=Rr=null,Q.H=o,Q.A=h,Bt=a,Rt!==null?0:(Zt=null,It=0,Cu(),ce)}function MA(){for(;Rt!==null&&!Mh();)ky(Rt)}function ky(e){var n=ly(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?lc(e):Rt=n}function zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ny(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ny(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:vf(n);default:cy(a,n),n=Rt=Pg(n,Xi),n=ly(a,n,Xi)}e.memoizedProps=e.pendingProps,n===null?lc(e):Rt=n}function xa(e,n,a,o){zi=Rr=null,vf(n),Sa=null,Go=0;var h=n.return;try{if(TA(e,h,n,a,It)){ce=1,Xu(e,On(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Xu(e,On(a,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:Da||(It&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){jy(n,Is);return}e=n.return;var a=bA(n.alternate,n,Xi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function jy(e,n){do{var a=wA(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ce=6,Rt=null}function By(e,n,a,o,h,f,y,E,C){e.cancelPendingCommit=null;do uc();while(Oe!==0);if((Bt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fh,Lh(e,a,f,y,E,C),e===Zt&&(Rt=Zt=null,It=0),Va=n,Os=e,Ji=a,td=f,ed=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PA(ls,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=et.p,et.p=2,y=Bt,Bt|=4;try{RA(e,n,a)}finally{Bt=y,et.p=h,Q.T=o}}Oe=1,qy(),Hy(),Gy()}}function qy(){if(Oe===1){Oe=0;var e=Os,n=Va,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{Ay(n,e);var f=pd,y=Ig(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Cg(E.ownerDocument.documentElement,E)){if(C!==null&&jh(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),rt=E.textContent.length,ft=Math.min(C.start,rt),Jt=C.end===void 0?ft:Math.min(C.end,rt);!H.extend&&ft>Jt&&(y=Jt,Jt=ft,ft=y);var U=Rg(E,ft),D=Rg(E,Jt);if(U&&D&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=X.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),ft>Jt?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Tc=!!gd,pd=gd=null}finally{Bt=h,et.p=o,Q.T=a}}e.current=n,Oe=2}}function Hy(){if(Oe===2){Oe=0;var e=Os,n=Va,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=et.p;et.p=2;var h=Bt;Bt|=4;try{yy(e,n.alternate,n)}finally{Bt=h,et.p=o,Q.T=a}}Oe=3}}function Gy(){if(Oe===4||Oe===3){Oe=0,Wl();var e=Os,n=Va,a=Ji,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Va=Os=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Mi(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=et.p,et.p=2,Q.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,et.p=h}}(Ji&3)!==0&&uc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?ol++:(ol=0,nd=e):ol=0,ll(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function uc(){return qy(),Hy(),Gy(),Qy()}function Qy(){if(Oe!==5)return!1;var e=Os,n=td;td=0;var a=Mi(Ji),o=Q.T,h=et.p;try{et.p=32>a?32:a,Q.T=null,a=ed,ed=null;var f=Os,y=Ji;if(Oe=0,Va=Os=null,Ji=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,Cy(f.current),by(f,f.current,y,a),Bt=E,ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{et.p=h,Q.T=o,Fy(e,n)}}function Ky(e,n,a){n=On(a,n),n=xf(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(ur(e,2),Si(e))}function Qt(e,n,a){if(e.tag===3)Ky(e,e,a);else for(;n!==null;){if(n.tag===3){Ky(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=On(a,e),a=Yp(2),o=bs(n,a,2),o!==null&&(Xp(a,o,n,e),ur(o,2),Si(o));break}}n=n.return}}function rd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new NA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||($f=!0,h.add(a),e=xA.bind(null,e,n,a),n.then(e,e))}function xA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>We()-ic?(Bt&2)===0&&Ma(e,0):Zf|=a,Oa===It&&(Oa=0)),Si(e)}function Yy(e,n){n===0&&(n=ru()),e=Sr(e,n),e!==null&&(ur(e,n),Si(e))}function UA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Yy(e,a)}function LA(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Yy(e,a)}function PA(e,n){return De(e,n)}var cc=null,Ua=null,ad=!1,hc=!1,od=!1,Ms=0;function Si(e){e!==Ua&&e.next===null&&(Ua===null?cc=Ua=e:Ua=Ua.next=e),hc=!0,ad||(ad=!0,zA())}function ll(e,n){if(!od&&hc){od=!0;do for(var a=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(o,f))}else f=It,f=ri(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,Zy(o,f));o=o.next}while(a);od=!1}}function kA(){Xy()}function Xy(){hc=ad=!1;var e=0;Ms!==0&&XA()&&(e=Ms);for(var n=We(),a=null,o=cc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,a===null?cc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Oe!==0&&Oe!==5||ll(e),Ms!==0&&(Ms=0)}function Jy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-he(f),E=1<<y,C=h[y];C===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Uh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,a=It,a=ri(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&os(o),Mi(a)){case 2:case 8:a=_o;break;case 32:a=ls;break;case 268435456:a=tu;break;default:a=ls}return o=$y.bind(null,e),a=De(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var o=It;return o=ri(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Jy(e,We()),e.callbackNode!=null&&e.callbackNode===a?$y.bind(null,e):null)}function Zy(e,n){if(uc())return null;Vy(e,n,!0)}function zA(){$A(function(){(Bt&6)!==0?De(yo,kA):Xy()})}function ld(){if(Ms===0){var e=Ea;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ms=e}return Ms}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function t_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function jA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Wy((h[xe]||null).action),y=o.submitter;y&&(n=(n=y[xe]||null)?Wy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var C=y?t_(h,y):new FormData(h);If(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=y?t_(h,y):new FormData(h),If(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],BA=cd.toLowerCase(),qA=cd[0].toUpperCase()+cd.slice(1);Xn(BA,"on"+qA)}Xn(Og,"onAnimationEnd"),Xn(Vg,"onAnimationIteration"),Xn(Mg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(sA,"onTransitionRun"),Xn(rA,"onTransitionStart"),Xn(aA,"onTransitionCancel"),Xn(xg,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function e_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=C}else for(y=0;y<o.length;y++){if(E=o[y],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){Ru(F)}h.currentTarget=null,f=C}}}}function Ct(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(n_(n,e,2,!1),a.add(o))}function hd(e,n,a){var o=0;n&&(o|=4),n_(a,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[fc]){e[fc]=!0,To.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||hd(a,!1,e),hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,hd("selectionchange",!1,n))}}function n_(e,n,a,o){switch(O_(n)){case 2:var h=yS;break;case 8:h=_S;break;default:h=Cd}a=h.bind(null,n,a,e),h=void 0,!gr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function dd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ui(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=f=y;continue t}E=E.parentNode}}o=o.return}ms(function(){var j=f,F=Cn(a),X=[];t:{var B=Ug.get(e);if(B!==void 0){var H=pi,rt=e;switch(e){case"keypress":if(yr(a)===0)break t;case"keydown":case"keyup":H=Su;break;case"focusin":rt="focus",H=vr;break;case"focusout":rt="blur",H=vr;break;case"beforeblur":case"afterblur":H=vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Og:case Vg:case Mg:H=pu;break;case xg:H=A;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Li;break;case"toggle":case"beforetoggle":H=At}var ft=(n&4)!==0,Jt=!ft&&(e==="scroll"||e==="scrollend"),U=ft?B!==null?B+"Capture":null:B;ft=[];for(var D=j,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||U===null||(K=Fn(D,U),K!=null&&ft.push(cl(D,K,z))),Jt)break;D=D.return}0<ft.length&&(B=new H(B,rt,null,a,F),X.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Do&&(rt=a.relatedTarget||a.fromElement)&&(ui(rt)||rt[oi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(rt=a.relatedTarget||a.toElement,H=j,rt=rt?ui(rt):null,rt!==null&&(Jt=c(rt),ft=rt.tag,rt!==Jt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(H=null,rt=j),H!==rt)){if(ft=xo,K="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Li,K="onPointerLeave",U="onPointerEnter",D="pointer"),Jt=H==null?B:dn(H),z=rt==null?B:dn(rt),B=new ft(K,D+"leave",H,a,F),B.target=Jt,B.relatedTarget=z,K=null,ui(F)===j&&(ft=new ft(U,D+"enter",rt,a,F),ft.target=z,ft.relatedTarget=Jt,K=ft),Jt=K,H&&rt)e:{for(ft=GA,U=H,D=rt,z=0,K=U;K;K=ft(K))z++;K=0;for(var lt=D;lt;lt=ft(lt))K++;for(;0<z-K;)U=ft(U),z--;for(;0<K-z;)D=ft(D),K--;for(;z--;){if(U===D||D!==null&&U===D.alternate){ft=U;break e}U=ft(U),D=ft(D)}ft=null}else ft=null;H!==null&&i_(X,B,H,ft,!1),rt!==null&&Jt!==null&&i_(X,Jt,rt,ft,!0)}}t:{if(B=j?dn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Pt=Eg;else if(_g(B))if(Tg)Pt=eA;else{Pt=W0;var ot=Z0}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&sa(j.elementType)&&(Pt=Eg):Pt=tA;if(Pt&&(Pt=Pt(e,j))){vg(X,Pt,a,F);break t}ot&&ot(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Co(B,"number",B.value)}switch(ot=j?dn(j):window,e){case"focusin":(_g(ot)||ot.contentEditable==="true")&&(fa=ot,Bh=j,zo=null);break;case"focusout":zo=Bh=fa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Ng(X,a,F);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":Ng(X,a,F)}var wt;if(jt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ha?Er(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(vi&&a.locale!=="ko"&&(ha||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ha&&(wt=Vo()):(gi=F,Oo="value"in gi?gi.value:gi.textContent,ha=!0)),ot=dc(j,Nt),0<ot.length&&(Nt=new _i(Nt,e,null,a,F),X.push({event:Nt,listeners:ot}),wt?Nt.data=wt:(wt=ca(a),wt!==null&&(Nt.data=wt)))),(wt=Nn?Y0(e,a):X0(e,a))&&(Nt=dc(j,"onBeforeInput"),0<Nt.length&&(ot=new _i("onBeforeInput","beforeinput",null,a,F),X.push({event:ot,listeners:Nt}),ot.data=wt)),jA(X,e,j,a,F)}e_(X,n)})}function cl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function dc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,a),h!=null&&o.unshift(cl(e,h,f)),h=Fn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function GA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Fn(a,f),j!=null&&y.unshift(cl(a,j,C))):h||(j=Fn(a,f),j!=null&&y.push(cl(a,j,C)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var FA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(FA,`
`).replace(QA,"")}function r_(e,n){return n=s_(n),s_(e)===n}function Xt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,na(e,a,o))}}function md(e,n,a,o,h,f){switch(a){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,y,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=y=h=null,C=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":y=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Xt(e,n,o,F,a,null)}}cu(e,f,E,C,j,y,h,!1);return;case"select":Ct("invalid",e),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Xt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!o,n!=null?cs(e,!!o,n,!1):a!=null&&cs(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,y,E,a,null)}hs(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,C,o,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Ct(ul[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,j,o,a,null)}return;default:if(sa(n)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&md(e,n,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,n,E,o,a,null))}function KA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,C=null,j=null,F=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||Xt(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=a[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==X&&Xt(e,n,B,H,o,X)}}ia(e,y,E,C,j,F,f,h);return;case"select":H=y=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==C&&Xt(e,n,h,f,o,C)}n=E,a=y,o=H,B!=null?cs(e,!!a,B,!1):!!o!=!!a&&(n!=null?cs(e,!!a,n,!0):cs(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Xt(e,n,y,h,o,f)}hu(e,B,H);return;case"option":for(var rt in a)if(B=a[rt],a.hasOwnProperty(rt)&&B!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Xt(e,n,rt,null,o,B)}for(C in o)if(B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(e,n,C,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,B);for(j in o)if(B=o[j],H=a[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Xt(e,n,j,B,o,H)}return;default:if(sa(n)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!o.hasOwnProperty(Jt)&&md(e,n,Jt,void 0,o,B);for(F in o)B=o[F],H=a[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||md(e,n,F,B,o,H);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,B);for(X in o)B=o[X],H=a[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||Xt(e,n,X,B,o,H)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&a_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],j=C.startTime;if(j>E)break;var F=C.transferSize,X=C.initiatorType;F&&a_(X)&&(C=C.responseEnd,y+=F*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,pd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function XA(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(ZA)}:u_;function ZA(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function h_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")hl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,hl(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&hl(e.ownerDocument.body);a=h}while(a);za(n)}function f_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function WA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function tS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,a){switch(n=mc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Pn=new Map,y_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=et.d;et.d={f:nS,r:iS,D:sS,C:rS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var e=$i.f(),n=ac();return e||n}function iS(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?xp(n):$i.r(e)}var La=typeof document>"u"?null:document;function __(e,n,a){var o=La;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function sS(e){$i.D(e),__("dns-prefetch",e,null)}function rS(e,n){$i.C(e,n),__("preconnect",e,n)}function aS(e,n,a){$i.L(e,n,a);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=ka(e)}Pn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function oS(e,n){$i.m(e,n);var a=La;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Pn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function lS(e,n,a){$i.S(e,n,a);var o=La;if(o&&e){var h=ci(o).hoistableStyles,f=Pa(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(fl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Pn.get(f))&&Sd(e,a);var C=y=o.createElement("link");Ee(C),Ge(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function uS(e,n){$i.X(e,n);var a=La;if(a&&e){var o=ci(a).hoistableScripts,h=ka(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cS(e,n){$i.M(e,n);var a=La;if(a&&e){var o=ci(a).hoistableScripts,h=ka(e),f=o.get(h);f||(f=a.querySelector(dl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(e,n,a,o){var h=(h=bt.current)?gc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var f=ci(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(fl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||hS(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pa(e){return'href="'+nn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function E_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function hS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ee(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function dl(e){return"script[async]"+e}function T_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),pc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Pa(a.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=E_(a),(h=Pn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var y=f;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ge(f,"link",o),n.state.loading|=4,pc(f,a.precedence,e),n.instance=f;case"script":return f=ka(a.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=Pn.get(f))&&(o=S({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,a.precedence,e));return n.instance}function pc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function A_(e,n,a){if(yc===null){var o=new Map,h=yc=new Map;h.set(a,o)}else h=yc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function S_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=E_(o),(h=Pn.get(h))&&Sd(o,h),f=f.createElement("link"),Ee(f);var y=f;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_c.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wd=0;function mS(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*YA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(gS,e),vc=null,_c.call(e))}function gS(e,n){if(!(n.state.loading&4)){var a=vc.get(e);if(a)var o=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function pS(e,n,a,o,h,f,y,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function w_(e,n,a,o,h,f,y,E,C,j,F,X){return e=new pS(e,n,a,y,C,j,F,X,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},lf(f),e}function R_(e){return e?(e=ga,e):ga}function C_(e,n,a,o,h,f){h=R_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=bs(e,o,n),a!==null&&(un(a,e,n),Qo(a,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Rd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&un(n,e,67108864),Rd(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=Tn();n=hr(n);var a=Sr(e,n);a!==null&&un(a,e,n),Rd(e,n)}}var Tc=!0;function yS(e,n,a,o){var h=Q.T;Q.T=null;var f=et.p;try{et.p=2,Cd(e,n,a,o)}finally{et.p=f,Q.T=h}}function _S(e,n,a,o){var h=Q.T;Q.T=null;var f=et.p;try{et.p=8,Cd(e,n,a,o)}finally{et.p=f,Q.T=h}}function Cd(e,n,a,o){if(Tc){var h=Id(o);if(h===null)dd(e,n,o,Ac,a),V_(e,o);else if(ES(h,e,n,a,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<vS.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=si(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-he(y);E.entanglements[1]|=C,y&=~C}Si(f),(Bt&6)===0&&(sc=We()+500,ll(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&un(E,f,2),ac(),Rd(f,2)}if(f=Id(o),f===null&&dd(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,a)}}function Id(e){return e=Cn(e),Nd(e)}var Ac=null;function Nd(e){if(Ac=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function O_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case yo:return 2;case _o:return 8;case ls:case xh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Dd=!1,Us=null,Ls=null,Ps=null,gl=new Map,pl=new Map,ks=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ES(e,n,a,o,h){switch(n){case"focusin":return Us=yl(Us,e,n,a,o,h),!0;case"dragenter":return Ls=yl(Ls,e,n,a,o,h),!0;case"mouseover":return Ps=yl(Ps,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,a,o,h)),!0}return!1}function M_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,qn(e.priority,function(){D_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,qn(e.priority,function(){D_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Id(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=Rn(a),n!==null&&N_(n),e.blockedOn=a,!1;n.shift()}return!0}function x_(e,n,a){Sc(e)&&a.delete(n)}function TS(){Dd=!1,Us!==null&&Sc(Us)&&(Us=null),Ls!==null&&Sc(Ls)&&(Ls=null),Ps!==null&&Sc(Ps)&&(Ps=null),gl.forEach(x_),pl.forEach(x_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TS)))}var wc=null;function U_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function za(e){function n(C){return bc(C,e)}Us!==null&&bc(Us,e),Ls!==null&&bc(Ls,e),Ps!==null&&bc(Ps,e),gl.forEach(n),pl.forEach(n);for(var a=0;a<ks.length;a++){var o=ks[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(a=ks[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&ks.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[xe]||null;if(typeof f=="function")y||U_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[xe]||null)E=y.formAction;else if(Nd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),U_(a)}}}function L_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Rc.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Tn();C_(a,o,e,n,null,null)},Rc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;C_(e.current,2,null,e,null,null),ac(),n[oi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ks.length&&n!==0&&n<ks[a].priority;a++);ks.splice(a,0,e),a===0&&M_(e)}};var P_=t.version;if(P_!=="19.2.4")throw Error(r(527,P_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var AS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{jn=Cc.inject(AS),ze=Cc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Gp,f=Fp,y=Qp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=w_(e,1,!1,null,null,a,o,null,h,f,y,L_),e[oi]=n.current,fd(e),new Od(n)},vl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Gp,y=Fp,E=Qp,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=w_(e,1,!0,n,a??null,o,h,C,f,y,E,L_),n.context=R_(null),a=n.current,o=Tn(),o=hr(o),h=Ss(o),h.callback=null,bs(a,h,o),a=o,n.current.lanes=a,ur(n,a),Si(n),e[oi]=n.current,fd(e),new Rc(n)},vl.version="19.2.4",vl}var K_;function MS(){if(K_)return xd.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),xd.exports=VS(),xd.exports}var xS=MS();const US=TE(xS),LS=()=>{};var Y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},PS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,g=_?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let b=(p&15)<<2|g>>6,P=g&63;_||(P=64,d||(b=64)),r.push(i[T],i[S],i[b],i[P])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(AE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):PS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const g=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||g==null||S==null)throw new kS;const b=c<<2|p>>4;if(r.push(b),g!==64){const P=p<<4&240|g>>2;if(r.push(P),S!==64){const G=g<<6&192|S;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zS=function(s){const t=AE(s);return SE.encodeByteArray(t,!0)},Gc=function(s){return zS(s).replace(/\./g,"")},bE=function(s){try{return SE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=()=>jS().__FIREBASE_DEFAULTS__,qS=()=>{if(typeof process>"u"||typeof Y_>"u")return;const s=Y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},HS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&bE(s[1]);return t&&JSON.parse(t)},hh=()=>{try{return LS()||BS()||qS()||HS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},wE=s=>{var t,i;return(i=(t=hh())==null?void 0:t.emulatorHosts)==null?void 0:i[s]},GS=s=>{const t=wE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},RE=()=>{var s;return(s=hh())==null?void 0:s.config},CE=s=>{var t;return(t=hh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const wl={};function KS(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function YS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let X_=!1;function NE(s,t){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||wl[s]===t||wl[s]||X_)return;wl[s]=t;function i(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=KS().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function p(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function _(b,P){b.setAttribute("width","24"),b.setAttribute("id",P),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{X_=!0,d()},b}function T(b,P){b.setAttribute("id",P),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=YS(r),P=i("text"),G=document.getElementById(P)||document.createElement("span"),Y=i("learnmore"),W=document.getElementById(Y)||document.createElement("a"),ut=i("preprendIcon"),Et=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Tt=b.element;p(Tt),T(W,Y);const $t=g();_(Et,ut),Tt.append(Et,G,W,$t),document.body.appendChild(Tt)}c?(G.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function JS(){var t;const s=(t=hh())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function WS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t1(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function e1(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n1(){try{return typeof indexedDB=="object"}catch{return!1}}function i1(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)==null?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="FirebaseError";class as extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=s1,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?r1(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new as(l,p,r)}}function r1(s,t){return s.replace(a1,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const a1=/\{\$([^}]+)}/g;function o1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function qr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(J_(c)&&J_(d)){if(!qr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function J_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function l1(s,t){const i=new u1(s,t);return i.subscribe.bind(i)}class u1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");c1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(s){return s&&s._delegate?s._delegate:s}class Hr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new FS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(d1(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f1(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f1(s){return s===Lr?void 0:s}function d1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new h1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const g1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},p1=Dt.INFO,y1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},_1=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=y1[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=p1,this._logHandler=_1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?g1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const v1=(s,t)=>t.some(i=>s instanceof i);let $_,Z_;function E1(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T1(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,Zd=new WeakMap,OE=new WeakMap,zd=new WeakMap,bm=new WeakMap;function A1(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Fs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&DE.set(i,s)}).catch(()=>{}),bm.set(t,s),t}function S1(s){if(Zd.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Zd.set(s,t)}let Wd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||OE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function b1(s){Wd=s(Wd)}function w1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(jd(this),t,...i);return OE.set(r,t.sort?t.sort():[t]),Fs(r)}:T1().includes(s)?function(...t){return s.apply(jd(this),t),Fs(DE.get(this))}:function(...t){return Fs(s.apply(jd(this),t))}}function R1(s){return typeof s=="function"?w1(s):(s instanceof IDBTransaction&&S1(s),v1(s,E1())?new Proxy(s,Wd):s)}function Fs(s){if(s instanceof IDBRequest)return A1(s);if(zd.has(s))return zd.get(s);const t=R1(s);return t!==s&&(zd.set(s,t),bm.set(t,s)),t}const jd=s=>bm.get(s);function C1(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Fs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Fs(d.result),_.oldVersion,_.newVersion,Fs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const I1=["get","getKey","getAll","getAllKeys","count"],N1=["put","add","delete","clear"],Bd=new Map;function W_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=N1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||I1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),l&&_.done]))[0]};return Bd.set(t,c),c}b1(s=>({...s,get:(t,i,r)=>W_(t,i)||s.get(t,i,r),has:(t,i)=>!!W_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(O1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function O1(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const tm="@firebase/app",tv="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Sm("@firebase/app"),V1="@firebase/app-compat",M1="@firebase/analytics-compat",x1="@firebase/analytics",U1="@firebase/app-check-compat",L1="@firebase/app-check",P1="@firebase/auth",k1="@firebase/auth-compat",z1="@firebase/database",j1="@firebase/data-connect",B1="@firebase/database-compat",q1="@firebase/functions",H1="@firebase/functions-compat",G1="@firebase/installations",F1="@firebase/installations-compat",Q1="@firebase/messaging",K1="@firebase/messaging-compat",Y1="@firebase/performance",X1="@firebase/performance-compat",J1="@firebase/remote-config",$1="@firebase/remote-config-compat",Z1="@firebase/storage",W1="@firebase/storage-compat",tb="@firebase/firestore",eb="@firebase/ai",nb="@firebase/firestore-compat",ib="firebase",sb="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",rb={[tm]:"fire-core",[V1]:"fire-core-compat",[x1]:"fire-analytics",[M1]:"fire-analytics-compat",[L1]:"fire-app-check",[U1]:"fire-app-check-compat",[P1]:"fire-auth",[k1]:"fire-auth-compat",[z1]:"fire-rtdb",[j1]:"fire-data-connect",[B1]:"fire-rtdb-compat",[q1]:"fire-fn",[H1]:"fire-fn-compat",[G1]:"fire-iid",[F1]:"fire-iid-compat",[Q1]:"fire-fcm",[K1]:"fire-fcm-compat",[Y1]:"fire-perf",[X1]:"fire-perf-compat",[J1]:"fire-rc",[$1]:"fire-rc-compat",[Z1]:"fire-gcs",[W1]:"fire-gcs-compat",[tb]:"fire-fst",[nb]:"fire-fst-compat",[eb]:"fire-vertex","fire-js":"fire-js",[ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,ab=new Map,nm=new Map;function ev(s,t){try{s.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(nm.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,s);for(const i of Fc.values())ev(i,s);for(const i of ab.values())ev(i,s);return!0}function wm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Zn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new jl("app","Firebase",ob);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=sb;function VE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:em,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(i||(i=RE()),!i)throw Qs.create("no-options");const c=Fc.get(l);if(c){if(qr(i,c.options)&&qr(r,c.config))return c;throw Qs.create("duplicate-app",{appName:l})}const d=new m1(l);for(const _ of nm.values())d.addComponent(_);const p=new lb(i,r,d);return Fc.set(l,p),p}function ME(s=em){const t=Fc.get(s);if(!t&&s===em&&RE())return VE();if(!t)throw Qs.create("no-app",{appName:s});return t}function Ks(s,t,i){let r=rb[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}$a(new Hr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firebase-heartbeat-database",cb=1,Ol="firebase-heartbeat-store";let qd=null;function xE(){return qd||(qd=C1(ub,cb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),qd}async function hb(s){try{const i=(await xE()).transaction(Ol),r=await i.objectStore(Ol).get(UE(s));return await i.done,r}catch(t){if(t instanceof as)ns.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ns.warn(i.message)}}}async function nv(s,t){try{const r=(await xE()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(t,UE(s)),await r.done}catch(i){if(i instanceof as)ns.warn(i.message);else{const r=Qs.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ns.warn(r.message)}}}function UE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=1024,db=30;class mb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=iv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>db){const d=yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=iv(),{heartbeatsToSend:r,unsentEntries:l}=gb(this._heartbeatsCache.heartbeats),c=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ns.warn(i),""}}}function iv(){return new Date().toISOString().substring(0,10)}function gb(s,t=fb){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class pb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n1()?i1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function sv(s){return Gc(JSON.stringify({version:2,heartbeats:s})).length}function yb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(s){$a(new Hr("platform-logger",t=>new D1(t),"PRIVATE")),$a(new Hr("heartbeat",t=>new mb(t),"PRIVATE")),Ks(tm,tv,s),Ks(tm,tv,"esm2020"),Ks("fire-js","")}_b("");var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,LE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(x,O,L){for(var R=Array(arguments.length-2),se=2;se<arguments.length;se++)R[se-2]=arguments[se];return w.prototype[O].apply(x,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)x[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)x[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],O=N.g[2];let L=N.g[3],R;R=w+(L^I&(O^L))+x[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[1]+3905402710&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+x[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[5]+1200080426&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+x[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[9]+2336552879&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(L^I&(O^L))+x[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=L+(O^w&(I^O))+x[13]+4254626195&4294967295,L=w+(R<<12&4294967295|R>>>20),R=O+(I^L&(w^I))+x[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(w^O&(L^w))+x[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^L&(I^O))+x[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[6]+3225465664&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+x[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[10]+38016083&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+x[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[14]+3275163606&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^L&(I^O))+x[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(w^I))+x[2]+4243563512&4294967295,L=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(L^w))+x[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^w&(O^L))+x[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^L)+x[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[8]+2272392833&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+x[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[4]+1272893353&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+x[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[0]+3936430074&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^L)+x[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=L+(w^I^O)+x[12]+3873151461&4294967295,L=w+(R<<11&4294967295|R>>>21),R=O+(L^w^I)+x[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^w)+x[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~L))+x[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[7]+1126891415&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+x[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[3]+2399980690&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+x[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[15]+4264355552&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~L))+x[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=L+(I^(w|~O))+x[11]+3174756917&4294967295,L=w+(R<<10&4294967295|R>>>22),R=O+(w^(L|~I))+x[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~w))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,x=this.C;let O=this.h,L=0;for(;L<w;){if(O==0)for(;L<=I;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<w;)if(x[O++]=N.charCodeAt(L++),O==this.blockSize){l(this,x),O=0;break}}else for(;L<w;)if(x[O++]=N[L++],O==this.blockSize){l(this,x),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)N[w++]=this.g[I]>>>x&255;return N};function c(N,w){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let x=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;x&&L==w||(I[O]=L,x=!1)}this.g=I}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return W(g(-N));const w=[];let I=1;for(let x=0;N>=I;x++)w[x]=N/I|0,I*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return W(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let x=S;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const R=parseInt(N.substring(L,L+O),w);O<8?(O=g(Math.pow(w,O)),x=x.j(O).add(g(R))):(x=x.j(I),x=x.add(g(R)))}return x}var S=_(0),b=_(1),P=_(16777216);s=d.prototype,s.m=function(){if(Y(this))return-W(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);N+=(x>=0?x:4294967296+x)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(G(this))return"0";if(Y(this))return"-"+W(this).toString(N);const w=g(Math.pow(N,6));var I=this;let x="";for(;;){const O=$t(I,w).g;I=ut(I,O.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,G(I))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function G(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Y(N){return N.h==-1}s.l=function(N){return N=ut(this,N),Y(N)?-1:G(N)?0:1};function W(N){const w=N.g.length,I=[];for(let x=0;x<w;x++)I[x]=~N.g[x];return new d(I,~N.h).add(b)}s.abs=function(){return Y(this)?W(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let x=0;for(let O=0;O<=w;O++){let L=x+(this.i(O)&65535)+(N.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);x=R>>>16,L&=65535,R&=65535,I[O]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ut(N,w){return N.add(W(w))}s.j=function(N){if(G(this)||G(N))return S;if(Y(this))return Y(N)?W(this).j(W(N)):W(W(this).j(N));if(Y(N))return W(this.j(W(N)));if(this.l(P)<0&&N.l(P)<0)return g(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let O=0;O<N.g.length;O++){const L=this.i(x)>>>16,R=this.i(x)&65535,se=N.i(O)>>>16,Ie=N.i(O)&65535;I[2*x+2*O]+=R*Ie,Et(I,2*x+2*O),I[2*x+2*O+1]+=L*Ie,Et(I,2*x+2*O+1),I[2*x+2*O+1]+=R*se,Et(I,2*x+2*O+1),I[2*x+2*O+2]+=L*se,Et(I,2*x+2*O+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function Et(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Tt(N,w){this.g=N,this.h=w}function $t(N,w){if(G(w))throw Error("division by zero");if(G(N))return new Tt(S,S);if(Y(N))return w=$t(W(N),w),new Tt(W(w.g),W(w.h));if(Y(w))return w=$t(N,W(w)),new Tt(W(w.g),w.h);if(N.g.length>30){if(Y(N)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,x=w;x.l(N)<=0;)I=ie(I),x=ie(x);var O=zt(I,1),L=zt(x,1);for(x=zt(x,2),I=zt(I,2);!G(x);){var R=L.add(x);R.l(N)<=0&&(O=O.add(I),L=R),x=zt(x,1),I=zt(I,1)}return w=ut(N,O.j(w)),new Tt(O,w)}for(O=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=g(I),R=L.j(w);Y(R)||R.l(N)>0;)I-=x,L=g(I),R=L.j(w);G(L)&&(L=b),O=O.add(L),N=ut(N,R)}return new Tt(O,N)}s.B=function(N){return $t(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&N.i(x);return new d(I,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|N.i(x);return new d(I,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^N.i(x);return new d(I,this.h^N.h)};function ie(N){const w=N.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(I,N.h)}function zt(N,w){const I=w>>5;w%=32;const x=N.g.length-I,O=[];for(let L=0;L<x;L++)O[L]=w>0?N.i(L+I)>>>w|N.i(L+I+1)<<32-w:N.i(L+I);return new d(O,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=T,Ys=d}).apply(typeof rv<"u"?rv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PE,Tl,kE,xc,im,zE,jE,BE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in v))break t;v=v[k]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function g(u,m,v){return g=_,g.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,k,q){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[k].apply(A,tt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function G(u,m){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=u.length||0;const q=k.length||0;u.length=v+q;for(let tt=0;tt<q;tt++)u[v+tt]=k[tt]}else u.push(k)}}class Y{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const A=Tt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Tt=new Y(()=>new $t,u=>u.reset());class $t{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,zt=!1,N=new Et,w=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(I)}};function I(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){W(v)}var m=Tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}zt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(se,O),se.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,v,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=k,this.key=++Q,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)u[v]=A[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,A,k){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=bt(u,m,A,k);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,q,!!A,k),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],k=Array.prototype.indexOf.call(A,m,void 0),q;(q=k>=0)&&Array.prototype.splice.call(A,k,1),q&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,A){for(let k=0;k<u.length;++k){const q=u[k];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return k}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(u,m,v,A,k){if(Array.isArray(m)){for(let q=0;q<m.length;q++)re(u,m[q],v,A,k);return null}return v=po(v),u&&u[Ie]?u.J(m,v,p(A)?!!A.capture:!1,k):rr(u,m,v,!1,A,k)}function rr(u,m,v,A,k,q){if(!m)throw Error("Invalid event type");const tt=p(k)?!!k.capture:!!k;let At=ar(u);if(At||(u[xt]=At=new st(u)),v=At.add(m,v,A,tt,q),v.proxy)return v;if(A=Jr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)L||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(ni(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jr(){function u(v){return m.call(u.src,u.listener,v)}const m=mo;return u}function $r(u,m,v,A,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)$r(u,m[q],v,A,k);else A=p(A)?!!A.capture:!!A,v=po(v),u&&u[Ie]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,A,k),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ar(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,A,k)),(v=u>-1?m[u]:null)&&Zr(v))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ni(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ar(m))?(pt(v,u),v.h==0&&(v.src=null,m[xt]=null)):ct(u)}}}function ni(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Zr(u),u=v.call(A,m)}return u}function ar(u){return u=u[xt],u instanceof st?u:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(u){return typeof u=="function"?u:(u[go]||(u[go]=function(m){return u.handleEvent(m)}),u[go])}function ye(){x.call(this),this.i=new st(this),this.M=this,this.G=null}S(ye,x),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(u,m,v,A){$r(this,u,m,v,A)};function De(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var k=m;m=new O(A,u),nt(m,k)}k=!0;let q,tt;if(v)for(tt=v.length-1;tt>=0;tt--)q=m.g=v[tt],k=os(q,A,!0,m)&&k;if(q=m.g=u,k=os(q,A,!0,m)&&k,k=os(q,A,!1,m)&&k,v)for(tt=0;tt<v.length;tt++)q=m.g=v[tt],k=os(q,A,!1,m)&&k}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ct(v[A]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ye.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function os(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==v){const At=tt.listener,fe=tt.ha||tt.src;tt.fa&&pt(u.i,tt),k=At.call(fe,A)!==!1&&k}}return k&&!A.defaultPrevented}function Mh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Mh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){x.call(this),this.h=u,this.g={}}S(or,x);var yo=[];function _o(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zr(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),_o(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,xh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}S(ze,O);function wn(){O.call(this,"c")}S(wn,O);var he={},iu=null;function Wr(){return iu=iu||new ye}he.Ia="serverreachability";function su(u){O.call(this,he.Ia,u)}S(su,O);function ii(u){const m=Wr();De(m,new su(m))}he.STAT_EVENT="statevent";function lr(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}S(lr,O);function _e(u){const m=Wr();De(m,new lr(m,u))}he.Ja="timingevent";function si(u,m){O.call(this,he.Ja,u),this.size=m}S(si,O);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,A,k,q){u.info(function(){if(u.g)if(q){var tt="",At=q.split("&");for(let jt=0;jt<At.length;jt++){var fe=At[jt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Nn=ae.split("_");tt=Nn.length>=2&&Nn[1]=="type"?tt+(ae+"="+fe+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+v+`
`+tt})}function ru(u,m,v,A,k,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+v+`
`+q+" "+tt})}function ai(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(A?" "+A:"")})}function ur(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return ls(q)}catch{return m}}var cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function hr(){}S(hr,eu),hr.prototype.g=function(){return new XMLHttpRequest},Eo=new hr;function Mi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function oi(u,m,v){u.M=1,u.A=fr(Te(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=Te(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),sa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Hn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(g(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(yo[0]=k.toString()),k=yo);for(let q=0;q<k.length;q++){const tt=re(v,k[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Qn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||fe==7||(fe==8||jt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),Rn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=lu(this,v),ae==xe){At==4&&(this.m=4,_e(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,ae,null),ci(this,ae);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(tt),tt.P=!0,_e(11))}}else ai(this.i,this.l,v,null),ci(this,v);At==4&&dn(this),this.o&&!this.K&&(At==4?yu(this.j,this):(this.o=!1,li(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),Rn(this)}}}catch{}finally{}};function Ph(u){if(!ou(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const A=m.length,k=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(k&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?xe:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?xe:(m=m.slice(A,A+v),u.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,dn(this)};function li(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(g(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ur(this.i,this.B),this.M!=2&&(ii(),_e(17)),dn(this),this.m=2,Rn(this)):ea(this,this.T-u)};function Rn(u){u.j.I==0||u.K||yu(u.j,u)}function dn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),ps(v);else break t;vr(v),_e(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(g(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ua(v),!R(m))for(k=v.Ba.g.parse(m),m=0;m<k.length;m++){let jt=k[m];const ae=jt[0];if(!(ae<=v.K))if(v.K=ae,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const Nn=jt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const vi=jt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=jt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=u.g;if(Yn){const Er=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var q=A.h;q.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(So(q,q.h),q.h=null))}if(A.G){const ca=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(A.wa=ca,Gt(A.J,A.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=u;if(A.na=Eu(A,A.L?A.ba:null,A.W),tt.L){bo(A.h,tt);var At=tt,fe=A.O;fe&&(At.H=fe),At.D&&(ui(At),li(At)),A.g=tt}else gu(A);v.i.length>0&&yi(v)}else jt[0]!="stop"&&jt[0]!="close"||_i(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?_i(v,7):Mo(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ii(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return P(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let k,q=null;A>=0?(k=u[v].substring(0,A),q=u[v].substring(A+1)):k=u[v],m(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,Ro(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),us(this,m[4]),this.h=di(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(dr(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(dr(m,ia,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(dr(v,v.charAt(0)=="/"?Co:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",dr(v,hu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=m.h.lastIndexOf("/");k!=-1&&(A=m.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let tt=0;tt<k.length;){const At=k[tt++];At=="."?A&&tt==k.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==k.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=k}return v?m.h=A:v=u.i.toString()!=="",v?Ro(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function Ue(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof hs?(u.i=m,ra(u.i,u.l)):(v||(m=dr(m,cs)),u.i=new hs(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function fr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,cu=/[#\?:]/g,Co=/[#\?]/g,cs=/[#\?@]/g,hu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=hs.prototype,s.add=function(u,m){sn(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){sn(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return sn(u),m=fs(u,m),u.g.has(m)}s.forEach=function(u,m){sn(this),this.g.forEach(function(v,A){v.forEach(function(k){u.call(m,k,A,this)},this)},this)};function No(u,m){sn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return sn(this),this.i=null,u=fs(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),P(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const k=Mi(v);v=No(this,v);for(let q=0;q<v.length;q++){let tt=k;v[q]!==""&&(tt+="="+Mi(v[q])),u.push(tt)}}return this.i=u.join("&")};function du(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(fu(this,A),sa(this,k,v))},u)),u.j=m}function Gn(u,m){const v=new Bn;if(d.Image){const A=new Image;A.onload=T(Cn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Cn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Cn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Cn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Do(u,m){const v=new Bn,A=new AbortController,k=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(k),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function ds(){this.g=new tu}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,eu),mi.prototype.g=function(){return new mr(this.i,this.h)};function mr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(mr,ye),s=mr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Fn(this),this.readyState==3&&aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},s.Na=function(u){this.g&&(this.response=u,ms(this))},s.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Lt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function gr(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=In(v),typeof u=="string"?v!=null&&Mi(v):Gt(u,m,v))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ye);var gi=/^https?$/i,Oo=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){pr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){pr(this,q)}};function pr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),xi(u)}function Vo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?yr(this):this.Xa())},s.Xa=function(){yr(this)};function yr(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let tt=String(u.D).match(uu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),A=!gi.test(tt?tt.toLowerCase():"")}v=A}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var k=Qn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Vo(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=au(u[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[k]||[];m[k]=q,q.push(v)}Ht(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){_e(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Eu(this,null,this.W),yi(this)};function Mo(u){if(oa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),_r(u,v),m=new qn(u,u.j,m),m.M=2,m.A=fr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}vu(u)}function ps(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function oa(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||w(),zt||(ie(),zt=!0),N.add(m,u),u.D=0}}function la(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(g(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,k,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),_r(this,v),q&&(this.R?m="headers="+Mi(In(q))+"&"+m:this.u&&gr(v,this.u,q)),So(this.h,k),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),k.U=!0,oi(k,v,null)):oi(k,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||Ao(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const A=Te(u.J);Gt(A,"SID",u.M),Gt(A,"RID",v),Gt(A,"AID",u.K),_r(u,A),u.u&&u.o&&gr(A,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),oi(v,A,m)}function _r(u,m){u.H&&Lt(u.H,function(v,A){Gt(m,A,v)}),u.l&&Lt({},function(v,A){Gt(m,A,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?g(u.l.Ka,u.l,u):null;t:{var k=u.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=k[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let jt=!0;for(let ae=0;ae<v;ae++){var q=k[ae].g;const Nn=k[ae].map;if(q-=At,q<0)At=Math.max(0,k[ae].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var tt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[vi,Kn]of tt){let Yn=Kn;p(Kn)&&(Yn=ls(Kn)),fe.push(q+vi+"="+encodeURIComponent(Yn))}}catch(vi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{A&&A(Nn)}}if(jt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||w(),zt||(ie(),zt=!0),N.add(m,u),u.A=0}}function vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(g(u.Da,u),_u(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(g(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ps(this),pu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),_r(u,m),u.u&&u.o&&gr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=fr(Te(m)),v.u=null,v.R=!0,ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),vr(this),_e(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){ua(u),Uo(u),u.g=null;var A=2}else if(fi(u.h,m))v=m.G,bo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;A=Wr(),De(A,new si(A,v)),yi(u)}else gu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(A==1&&la(u,m)||A==2&&vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),k){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=g(u.bb,u),A=u.Ua;const k=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),fr(A),k?Gn(A.toString(),v):Do(A.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),vu(u),oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")m&&(A.g=m+"."+A.g),us(A,A.u);else{var k=d.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const q=new mn(null);A&&Ue(q,A),m&&(q.g=m),k&&us(q,k),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Gt(A,v,m),Gt(A,"VER",u.ka),_r(u,A),A}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new mi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mo(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&yi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,tn.Z.N.call(this)};function Su(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,ze);function bu(){wn.call(this),this.status=1}S(bu,wn);function Li(u){this.g=u}S(Li,Au),Li.prototype.ra=function(){De(this.g,"a")},Li.prototype.qa=function(u){De(this.g,new Su(u))},Li.prototype.pa=function(u){De(this.g,new bu)},Li.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,BE=function(){return new ys},jE=function(){return Wr()},zE=he,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},cr.NO_ERROR=0,cr.TIMEOUT=8,cr.HTTP_ERROR=6,xc=cr,vo.COMPLETE="complete",kE=vo,nu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Tl=nu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,PE=Kt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.8.0";function vb(s){lo=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Sm("@firebase/firestore");function Ba(){return Gr.logLevel}function it(s,...t){if(Gr.logLevel<=Dt.DEBUG){const i=t.map(Rm);Gr.debug(`Firestore (${lo}): ${s}`,...i)}}function is(s,...t){if(Gr.logLevel<=Dt.ERROR){const i=t.map(Rm);Gr.error(`Firestore (${lo}): ${s}`,...i)}}function Za(s,...t){if(Gr.logLevel<=Dt.WARN){const i=t.map(Rm);Gr.warn(`Firestore (${lo}): ${s}`,...i)}}function Rm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,qE(s,r,i)}function qE(s,t,i){let r=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw is(r),new Error(r)}function qt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||qE(t,l,r)}function vt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Eb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class Tb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ab{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new HE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class Sb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class bb{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Sb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Rb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ot(s,t){return s<t?-1:s>t?1:0}function sm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Hd(l)===Hd(c)?Ot(l,c):Hd(l)?1:-1}return Ot(s.length,t.length)}const Cb=55296,Ib=57343;function Hd(s){const t=s.charCodeAt(0);return t>=Cb&&t<=Ib}function Wa(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class bi{constructor(t,i,r){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&dt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=bi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const r=bi.isNumericId(t),l=bi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?bi.extractNumericId(t).compare(bi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class ee extends bi{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new at(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends bi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return Nb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Qe([ov])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new at(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new at(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ee.fromString(t))}static fromName(t){return new ht(ee.fromString(t).popFirst(5))}static empty(){return new ht(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s,t,i){if(!i)throw new at(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Db(s,t,i,r){if(t===!0&&r===!0)throw new at(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function lv(s){if(!ht.isDocumentKey(s))throw new at(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function uv(s){if(ht.isDocumentKey(s))throw new at(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function FE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Im(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Sn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Im(s);throw new at(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,t){const i={typeString:s};return t&&(i.value=t),i}function ql(s,t){if(!FE(s))throw new at(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new at(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*hv);return new ne(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<cv)throw new at(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ql(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function Ob(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Js(l,ht.empty(),t)}function Vb(s){return new Js(s.readTime,s.key,Vl)}class Js{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Js(yt.min(),ht.empty(),Vl)}static max(){return new Js(yt.max(),ht.empty(),Vl)}}function Mb(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==xb)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const g=_;i(t[g]).next((T=>{d[g]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function Lb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function dh(s){return s==null}function Qc(s){return s===0&&1/s==-1/0}function Pb(s){return typeof s=="number"&&Number.isInteger(s)&&!Qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="";function kb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=fv(t)),t=zb(s.get(i),t);return fv(t)}function zb(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case QE:i+="";break;default:i+=c}}return i}function fv(s){return s+QE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ir(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function KE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Fe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new YE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const jb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=jb.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Zs(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="server_timestamp",JE="__type__",$E="__previous_value__",ZE="__local_write_time__";function Dm(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[JE])==null?void 0:r.stringValue)===XE}function mh(s){const t=s.mapValue.fields[$E];return Dm(t)?mh(t):t}function Ml(s){const t=$s(s.mapValue.fields[ZE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,i,r,l,c,d,p,_,g,T,S){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=g,this.isUsingEmulator=T,this.apiKey=S}}const Kc="(default)";class xl{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}function qb(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new at(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(s.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="__type__",Hb="__max__",Dc={mapValue:{}},tT="__vector__",Yc="value";function Ws(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dm(s)?4:Fb(s)?9007199254740991:Gb(s)?10:11:dt(28295,{value:s})}function Di(s,t){if(s===t)return!0;const i=Ws(s);if(i!==Ws(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ml(s).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Zs(l.bytesValue).isEqual(Zs(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Qc(d)===Qc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(dv(d)!==dv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Di(d[_],p[_])))return!1;return!0})(s,t);default:return dt(52216,{left:s})}}function Ul(s,t){return(s.values||[]).find((i=>Di(i,t)))!==void 0}function to(s,t){if(s===t)return 0;const i=Ws(s),r=Ws(t);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return gv(s.timestampValue,t.timestampValue);case 4:return gv(Ml(s),Ml(t));case 5:return sm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Zs(c),_=Zs(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let g=0;g<p.length&&g<_.length;g++){const T=Ot(p[g],_[g]);if(T!==0)return T}return Ot(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(ge(c.latitude),ge(d.latitude));return p!==0?p:Ot(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return pv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var b,P,G,Y;const p=c.fields||{},_=d.fields||{},g=(b=p[Yc])==null?void 0:b.arrayValue,T=(P=_[Yc])==null?void 0:P.arrayValue,S=Ot(((G=g==null?void 0:g.values)==null?void 0:G.length)||0,((Y=T==null?void 0:T.values)==null?void 0:Y.length)||0);return S!==0?S:pv(g,T)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),g=d.fields||{},T=Object.keys(g);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const b=sm(_[S],T[S]);if(b!==0)return b;const P=to(p[_[S]],g[T[S]]);if(P!==0)return P}return Ot(_.length,T.length)})(s.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function gv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=$s(s),r=$s(t),l=Ot(i.seconds,r.seconds);return l!==0?l:Ot(i.nanos,r.nanos)}function pv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=to(i[l],r[l]);if(c)return c}return Ot(i.length,r.length)}function eo(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=$s(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Zs(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ht.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=rm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(s.mapValue):dt(61005,{value:s})}function Uc(s){switch(Ws(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(s);return t?16+Uc(t):16;case 5:return 2*s.stringValue.length;case 6:return Zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ir(r.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw dt(13486,{value:s})}}function am(s){return!!s&&"integerValue"in s}function Om(s){return!!s&&"arrayValue"in s}function yv(s){return!!s&&"nullValue"in s}function _v(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function Gb(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[WE])==null?void 0:r.stringValue)===tT}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ir(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Rl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return{...s}}function Fb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){ir(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new hn(Rl(this.value))}}function eT(s){const t=[];return ir(s.fields,((i,r)=>{const l=new Qe([i]);if(Lc(r)){const c=eT(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,yt.min(),yt.min(),yt.min(),hn.empty(),0)}static newFoundDocument(t,i,r,l){return new $e(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new $e(t,2,i,yt.min(),yt.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,yt.min(),yt.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i){this.position=t,this.inclusive=i}}function vv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=to(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ev(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Qb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class Ve extends nT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Yb(t,i,r):i==="array-contains"?new $b(t,r):i==="in"?new Zb(t,r):i==="not-in"?new Wb(t,r):i==="array-contains-any"?new tw(t,r):new Ve(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Xb(t,r):new Jb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&Ws(this.value)===Ws(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends nT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Oi(t,i)}matches(t){return iT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iT(s){return s.op==="and"}function sT(s){return Kb(s)&&iT(s)}function Kb(s){for(const t of s.filters)if(t instanceof Oi)return!1;return!0}function om(s){if(s instanceof Ve)return s.field.canonicalString()+s.op.toString()+eo(s.value);if(sT(s))return s.filters.map((t=>om(t))).join(",");{const t=s.filters.map((i=>om(i))).join(",");return`${s.op}(${t})`}}function rT(s,t){return s instanceof Ve?(function(r,l){return l instanceof Ve&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(s,t):s instanceof Oi?(function(r,l){return l instanceof Oi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&rT(d,l.filters[p])),!0):!1})(s,t):void dt(19439)}function aT(s){return s instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(s):s instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(aT).join(" ,")+"}"})(s):"Filter"}class Yb extends Ve{constructor(t,i,r){super(t,i,r),this.key=ht.fromName(r.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Xb extends Ve{constructor(t,i){super(t,"in",i),this.keys=oT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Jb extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=oT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function oT(s,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((r=>ht.fromName(r.referenceValue)))}class $b extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&Ul(i.arrayValue,this.value)}}class Zb extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class Wb extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class tw extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ul(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Tv(s,t=null,i=[],r=[],l=null,c=null,d=null){return new ew(s,t,i,r,l,c,d)}function Vm(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>om(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>eo(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>eo(r))).join(",")),t.Te=i}return t.Te}function Mm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Qb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!rT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Ev(s.startAt,t.startAt)&&Ev(s.endAt,t.endAt)}function lm(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nw(s,t,i,r,l,c,d,p){return new gh(s,t,i,r,l,c,d,p)}function ph(s){return new gh(s)}function Av(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function iw(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function sw(s){return s.collectionGroup!==null}function Cl(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Jc(Qe.keyField(),r))}return t.Ie}function Ri(s){const t=vt(s);return t.Ee||(t.Ee=rw(t,Cl(s))),t.Ee}function rw(s,t){if(s.limitType==="F")return Tv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=s.endAt?new Xc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Xc(s.startAt.position,s.startAt.inclusive):null;return Tv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function um(s,t,i){return new gh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return Mm(Ri(s),Ri(t))&&s.limitType===t.limitType}function lT(s){return`${Vm(Ri(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>aT(l))).join(", ")}]`),dh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${r})`})(Ri(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Cl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const g=vv(d,p,_);return d.inclusive?g<=0:g<0})(r.startAt,Cl(r),l)||r.endAt&&!(function(d,p,_){const g=vv(d,p,_);return d.inclusive?g>=0:g>0})(r.endAt,Cl(r),l))})(s,t)}function aw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function uT(s){return(t,i)=>{let r=!1;for(const l of Cl(s)){const c=ow(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function ow(s,t,i){const r=s.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),g=p.data.field(c);return _!==null&&g!==null?to(_,g):dt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return KE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=new le(ht.comparator);function ss(){return lw}const cT=new le(ht.comparator);function Al(...s){let t=cT;for(const i of s)t=t.insert(i.key,i);return t}function hT(s){let t=cT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Pr(){return Il()}function fT(){return Il()}function Il(){return new Kr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uw=new le(ht.comparator),cw=new Me(ht.comparator);function Vt(...s){let t=cw;for(const i of s)t=t.add(i);return t}const hw=new Me(Ot);function fw(){return hw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function dT(s){return{integerValue:""+s}}function dw(s,t){return Pb(t)?dT(t):xm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function mw(s,t,i){return s instanceof $c?(function(l,c){const d={fields:{[JE]:{stringValue:XE},[ZE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=mh(c)),c&&(d.fields[$E]=c),{mapValue:d}})(i,t):s instanceof Ll?gT(s,t):s instanceof Pl?pT(s,t):(function(l,c){const d=mT(l,c),p=Sv(d)+Sv(l.Ae);return am(d)&&am(l.Ae)?dT(p):xm(l.serializer,p)})(s,t)}function gw(s,t,i){return s instanceof Ll?gT(s,t):s instanceof Pl?pT(s,t):i}function mT(s,t){return s instanceof Zc?(function(r){return am(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class $c extends vh{}class Ll extends vh{constructor(t){super(),this.elements=t}}function gT(s,t){const i=yT(t);for(const r of s.elements)i.some((l=>Di(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Pl extends vh{constructor(t){super(),this.elements=t}}function pT(s,t){let i=yT(t);for(const r of s.elements)i=i.filter((l=>!Di(l,r)));return{arrayValue:{values:i}}}class Zc extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Sv(s){return ge(s.integerValue||s.doubleValue)}function yT(s){return Om(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function pw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Ll&&l instanceof Ll||r instanceof Pl&&l instanceof Pl?Wa(r.elements,l.elements,Di):r instanceof Zc&&l instanceof Zc?Di(r.Ae,l.Ae):r instanceof $c&&l instanceof $c})(s.transform,t.transform)}class yw{constructor(t,i){this.version=t,this.transformResults=i}}class bn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bn}static exists(t){return new bn(void 0,t)}static updateTime(t){return new bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function _T(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Um(s.key,bn.none()):new Hl(s.key,s.data,bn.none());{const i=s.data,r=hn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new sr(s.key,r,new An(l.toArray()),bn.none())}}function _w(s,t,i){s instanceof Hl?(function(l,c,d){const p=l.value.clone(),_=wv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof sr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=wv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(vT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(s,t,i,r){return s instanceof Hl?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const g=c.value.clone(),T=Rv(c.fieldTransforms,_,d);return g.setAll(T),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,t,i,r):s instanceof sr?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const g=Rv(c.fieldTransforms,_,d),T=d.data;return T.setAll(vT(c)),T.setAll(g),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function vw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=mT(r.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(r.field,c))}return i||null}function bv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Wa(r,l,((c,d)=>pw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Hl extends Eh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class sr extends Eh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function wv(s,t,i){const r=new Map;qt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,gw(d,p,i[l]))}return r}function Rv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,mw(c,d,t))}return r}class Um extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ew extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_w(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Nl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Nl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=fT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=_T(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,r)=>bv(i,r)))&&Wa(this.baseMutations,t.baseMutations,((i,r)=>bv(i,r)))}}class Lm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return uw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Lm(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Ut;function bw(s){switch(s){case Z.OK:return dt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function ET(s){if(s===void 0)return is("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return dt(39323,{code:s})}}(Ut=Re||(Re={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Ys([4294967295,4294967295],0);function Cv(s){const t=ww().encode(s),i=new LE;return i.update(t),new Uint8Array(i.digest())}function Iv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,r],0),new Ys([l,c],0)]}class Pm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Ys.fromNumber(r)));return l.compare(Rw)===1&&(l=new Ys([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Cv(t),[r,l]=Iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Cv(t),[r,l]=Iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Th(yt.min(),l,new le(Ot),ss(),Vt())}}class Gl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Gl(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i,r,l){this.Se=t,this.removedTargetIds=i,this.key=r,this.De=l}}class TT{constructor(t,i){this.targetId=t,this.Ce=i}}class AT{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Dv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:dt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,r)}Ke(){this.Oe=!1,this.Fe=Dv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Cw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.He=Oc(),this.Je=Oc(),this.Ze=new le(Ot)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(r===0){const d=new ht(c.path);this.et(i,d,$e.newNoDocument(d,yt.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const g=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,g)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Zs(r).toUint8Array()}catch(_){if(_ instanceof YE)return Za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Pm(d,l,c)}catch(_){return Za(_ instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const _=new ht(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=Vt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const g=this.ot(_);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ze,this.je,r);return this.je=ss(),this.He=Oc(),this.Je=Oc(),this.Ze=new le(Ot),l}Ye(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new le(ht.comparator)}function Dv(){return new le(ht.comparator)}const Iw={asc:"ASCENDING",desc:"DESCENDING"},Nw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class Ow{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(s,t){return s.useProto3Json||dh(t)?t:{value:t}}function Wc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Vw(s,t){return Wc(s,t.toTimestamp())}function Ci(s){return qt(!!s,49232),yt.fromTimestamp((function(i){const r=$s(i);return new ne(r.seconds,r.nanos)})(s))}function km(s,t){return hm(s,t).canonicalString()}function hm(s,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function bT(s){const t=ee.fromString(s);return qt(NT(t),10190,{key:t.toString()}),t}function fm(s,t){return km(s.databaseId,t.path)}function Gd(s,t){const i=bT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(RT(i))}function wT(s,t){return km(s.databaseId,t)}function Mw(s){const t=bT(s);return t.length===4?ee.emptyPath():RT(t)}function dm(s){return new ee(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function RT(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ov(s,t,i){return{name:fm(s,t),fields:i.value.mapValue.fields}}function xw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:dt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(g,T){return g.useProto3Json?(qt(T===void 0||typeof T=="string",58123),Ke.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ke.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(g){const T=g.code===void 0?Z.UNKNOWN:ET(g.code);return new at(T,g.message||"")})(d);i=new AT(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Gd(s,r.document.name),c=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):yt.min(),p=new hn({mapValue:{fields:r.document.fields}}),_=$e.newFoundDocument(l,c,d,p),g=r.targetIds||[],T=r.removedTargetIds||[];i=new kc(g,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Gd(s,r.document),c=r.readTime?Ci(r.readTime):yt.min(),d=$e.newNoDocument(l,c),p=r.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Gd(s,r.document),c=r.removedTargetIds||[];i=new kc([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Sw(l,c),p=r.targetId;i=new TT(p,d)}}return i}function Uw(s,t){let i;if(t instanceof Hl)i={update:Ov(s,t.key,t.value)};else if(t instanceof Um)i={delete:fm(s,t.key)};else if(t instanceof sr)i={update:Ov(s,t.key,t.data),updateMask:Gw(t.fieldMask)};else{if(!(t instanceof Ew))return dt(16599,{dt:t.type});i={verify:fm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Vw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(s,t.precondition)),i}function Lw(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(yt.min())&&(d=Ci(c)),new yw(d,l.transformResults||[])})(i,t)))):[]}function Pw(s,t){return{documents:[wT(s,t.path)]}}function kw(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=wT(s,l);const c=(function(g){if(g.length!==0)return IT(Oi.create(g,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((T=>(function(b){return{field:Ha(b.field),direction:Bw(b.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:i,parent:l}}function zw(s){let t=Mw(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){qt(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const b=CT(S);return b instanceof Oi&&sT(b)?b.getFilters():[b]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((b=>(function(G){return new Jc(Ga(G.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(b)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let b;return b=typeof S=="object"?S.value:S,dh(b)?null:b})(i.limit));let _=null;i.startAt&&(_=(function(S){const b=!!S.before,P=S.values||[];return new Xc(P,b)})(i.startAt));let g=null;return i.endAt&&(g=(function(S){const b=!S.before,P=S.values||[];return new Xc(P,b)})(i.endAt)),nw(t,l,d,c,p,"F",_,g)}function jw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function CT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ve.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((r=>CT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(s):dt(30097,{filter:s})}function Bw(s){return Iw[s]}function qw(s){return Nw[s]}function Hw(s){return Dw[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Qe.fromServerFormat(s.fieldPath)}function IT(s){return s instanceof Ve?(function(i){if(i.op==="=="){if(_v(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(yv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(_v(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(yv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:qw(i.op),value:i.value}}})(s):s instanceof Oi?(function(i){const r=i.getFilters().map((l=>IT(l)));return r.length===1?r[0]:{compositeFilter:{op:Hw(i.op),filters:r}}})(s):dt(54877,{filter:s})}function Gw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function DT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,i,r,l,c=yt.min(),d=yt.min(),p=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.yt=t}}function Qw(s){const t=zw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.Sn=new Yw}addToCollectionParentIndex(t,i){return this.Sn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Js.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Yw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(ee.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OT=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(OT,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",Xw=1048576;function xv([s,t],[i,r]){const l=Ot(s,i);return l===0?Ot(t,r):l}class Jw{constructor(t){this.Pr=t,this.buffer=new Me(xv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();xv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $w{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){it(Mv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?it(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Ar(3e5)}))}}class Zw{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const r=new Jw(i);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Vv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let r,l,c,d,p,_,g;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(g=Date.now(),Ba()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(g-_)+`ms
Total Duration: ${g-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function Ww(s,t){return new Zw(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.changes=new Kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Nl(r.mutation,l,An.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const l=Pr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=Al();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Pr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ss();const d=Il(),p=(function(){return Il()})();return i.forEach(((_,g)=>{const T=r.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof sr)?c=c.insert(g.key,g):T!==void 0?(d.set(g.key,T.mutation.getFieldMask()),Nl(T.mutation,g,T.mutation.getFieldMask(),ne.now())):d.set(g.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((g,T)=>d.set(g,T))),i.forEach(((g,T)=>p.set(g,new eR(T,d.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Il();let l=new le(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const g=i.get(_);if(g===null)return;let T=r.get(_)||An.empty();T=p.applyToLocalView(g,T),r.set(_,T);const S=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),g=_.key,T=_.value,S=fT();T.forEach((b=>{if(!c.has(b)){const P=_T(i.get(b),r.get(b));P!==null&&S.set(b,P),c=c.add(b)}})),d.push(this.documentOverlayCache.saveOverlays(t,g,S))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return iw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):sw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(Pr());let p=Vl,_=c;return d.next((g=>$.forEach(g,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(t,T).next((b=>{_=_.insert(T,b)}))))).next((()=>this.populateOverlays(t,g,c))).next((()=>this.computeViews(t,_,g,Vt()))).next((T=>({batchId:p,changes:hT(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((r=>{let l=Al();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const g=(function(S,b){return new gh(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,g,r,l).next((T=>{T.forEach(((S,b)=>{d=d.insert(S,b)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,g)=>{const T=g.getKey();d.get(T)===null&&(d=d.insert(T,$e.newInvalidDocument(T)))}));let p=Al();return d.forEach(((_,g)=>{const T=c.get(_);T!==void 0&&Nl(T.mutation,g,An.empty(),ne.now()),_h(i,g)&&(p=p.insert(_,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Qw(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.overlays=new le(ht.comparator),this.Lr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Pr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.bt(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=Pr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,g=_.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new le(((g,T)=>g-T));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>r){let T=c.get(g.largestBatchId);T===null&&(T=Pr(),c=c.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const p=Pr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((g,T)=>p.set(g,T))),!(p.size()>=l)););return $.resolve(p)}bt(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Aw(i,r));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.kr=new Me(Pe.Kr),this.qr=new Me(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Pe(t,i))}Qr(t,i){t.forEach((r=>this.removeReference(r,i)))}Gr(t){const i=new ht(new ee([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ht(new ee([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=Vt();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ht.comparator(t.key,i.key)||Ot(t.Hr,i.Hr)}static Ur(t,i){return Ot(t.Hr,i.Hr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Pe.Kr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tw(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Nm:this.Yn-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Ot);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ht(c),0);let p=new Me(Ot);return this.Jr.forEachWhile((_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===l&&(p=p.add(_.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.ti=t,this.docs=(function(){return new le(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let r=ss();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ss();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:g,value:{document:T}}=_.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||Mb(Vb(T),r)<=0||(l.has(T.key)||_h(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){dt(9500)}ni(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new lR(this)}getSize(t){return $.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.persistence=t,this.ri=new Kr((i=>Vm(i)),Mm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new zm,this.targetCount=0,this.oi=no._r()}forEachTarget(t,i){return this.ri.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new no(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.lr(i),$.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(t,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new rR,this.referenceDelegate=t(this),this.li=new uR(this),this.indexManager=new Kw,this.remoteDocumentCache=(function(l){return new oR(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Fw(i),this.Pi=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this._i[t.toKey()];return r||(r=new aR(i,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(t,i))))}}class cR extends Ub{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Ai=null}static Vi(t){return new jm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=ht.fromPath(r);return this.mi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class th{constructor(t,i){this.persistence=t,this.fi=new Kr((r=>kb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Ww(this,i)}static Vi(t,i){return new th(t,i)}Ti(){}Ii(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}pr(t){let i=0;return this.mr(t,(r=>{i++})).next((()=>i))}mr(t,i){return $.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(r++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.fi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),$.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}wr(t,i,r){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Ts=r,this.Is=l}static Es(t,i){let r=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return e1()?8:Lb(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,r,l){return r.documentReadCount<this.Vs?(Ba()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ba()<=Dt.DEBUG&&it("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ba()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):$.resolve())}gs(t,i){if(Av(i))return $.resolve(null);let r=Ri(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),r=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const g=this.bs(i,p);return this.Ss(i,g,d,_.readTime)?this.gs(t,um(i,null,"F")):this.Ds(t,g,i,_)}))))})))))}ps(t,i,r,l){return Av(i)||l.isEqual(yt.min())?$.resolve(null):this.fs.getDocuments(t,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?$.resolve(null):(Ba()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(t,d,i,Ob(l,Vl)).next((p=>p)))}))}bs(t,i){let r=new Me(uT(t));return i.forEach(((l,c)=>{_h(t,c)&&(r=r.add(c))})),r}Ss(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,r){return Ba()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,Js.min(),r)}Ds(t,i,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",dR=3e8;class mR{constructor(t,i,r,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Ot),this.Fs=new Kr((c=>Vm(c)),Mm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function gR(s,t,i,r){return new mR(s,t,i,r)}async function MT(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Vt();for(const g of l){d.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}for(const g of c){p.push(g.batchId);for(const T of g.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(r,_).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:p})))}))}))}function pR(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,g,T){const S=g.batch,b=S.keys();let P=$.resolve();return b.forEach((G=>{P=P.next((()=>T.getEntry(_,G))).next((Y=>{const W=g.docVersions.get(G);qt(W!==null,48541),Y.version.compareTo(W)<0&&(S.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),T.addEntry(Y)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Vt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(_=_.add(p.batch.mutations[g].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function xT(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function yR(s,t){const i=vt(s),r=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((T,S)=>{const b=l.get(S);if(!b)return;p.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let P=b.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Ke.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,r)),l=l.insert(S,P),(function(Y,W,ut){return Y.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=dR?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(b,P,T)&&p.push(i.li.updateTargetData(c,P))}));let _=ss(),g=Vt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(_R(c,d,t.documentUpdates).next((T=>{_=T.Bs,g=T.Ls}))),!r.isEqual(yt.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,g))).next((()=>_))})).then((c=>(i.vs=l,c)))}function _R(s,t,i){let r=Vt(),l=Vt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ss();return i.forEach(((p,_)=>{const g=c.get(p);_.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(qm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function vR(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ER(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Gs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(t,r.targetId)),r}))}async function mm(s,t,i){const r=vt(s),l=r.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;it(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function Uv(s,t,i){const r=vt(s);let l=yt.min(),c=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,g,T){const S=vt(_),b=S.Fs.get(T);return b!==void 0?$.resolve(S.vs.get(b)):S.li.getTargetData(g,T)})(r,d,Ri(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Vt()))).next((p=>(TR(r,aw(t),p),{documents:p,ks:c})))))}function TR(s,t,i){let r=s.Ms.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(t,r)}class Lv{constructor(){this.activeTargetIds=fw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AR{constructor(){this.vo=new Lv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,r){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Lv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="ConnectivityMonitor";class kv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){it(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function gm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Kc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,i,r,l,c){const d=gm(),p=this.Qo(t,i.toUriEncodedString());it(Fd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:g}=new URL(p),T=ao(g);return this.zo(t,p,_,r,T).then((S=>(it(Fd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Za(Fd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}jo(t,i,r,l,c,d){return this.Wo(t,i,r,l,c)}Go(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const r=bR[t];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection",El=(s,t,i)=>{s.listen(t,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends wR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fa.c_){const t=jE();El(t,zE.STAT_EVENT,(i=>{i.stat===im.PROXY?it(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===im.NOPROXY&&it(Xe,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(t,i,r,l,c){const d=gm();return new Promise(((p,_)=>{const g=new PE;g.setWithCredentials(!0),g.listenOnce(kE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case xc.NO_ERROR:const S=g.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case xc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),_(new at(Z.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const b=g.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,b,"response text:",g.getResponseText()),b>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const G=P==null?void 0:P.error;if(G&&G.status&&G.message){const Y=(function(ut){const Et=ut.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Et)>=0?Et:Z.UNKNOWN})(G.status);_(new at(Y,G.message))}else _(new at(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else _(new at(Z.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),g.send(i,"POST",T,r,15)}))}T_(t,i,r){const l=gm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const g=c.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${g}`,p);const T=d.createWebChannel(g,p);this.I_(T);let S=!1,b=!1;const P=new RR({Ho:G=>{b?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,G):(S||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,G),T.send(G))},Jo:()=>T.close()});return El(T,Tl.EventType.OPEN,(()=>{b||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),P.i_())})),El(T,Tl.EventType.CLOSE,(()=>{b||(b=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),P.o_(),this.E_(T))})),El(T,Tl.EventType.ERROR,(G=>{b||(b=!0,Za(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),P.o_(new at(Z.UNAVAILABLE,"The operation could not be completed")))})),El(T,Tl.EventType.MESSAGE,(G=>{var Y;if(!b){const W=G.data[0];qt(!!W,16349);const ut=W,Et=(ut==null?void 0:ut.error)||((Y=ut[0])==null?void 0:Y.error);if(Et){it(Xe,`RPC '${t}' stream ${l} received error:`,Et);const Tt=Et.status;let $t=(function(N){const w=Re[N];if(w!==void 0)return ET(w)})(Tt),ie=Et.message;$t===void 0&&($t=Z.INTERNAL,ie="Unknown error status: "+Tt+" with message "+Et.message),b=!0,P.o_(new at($t,ie)),T.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,W),P.__(W)}})),Fa.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,r){super.Go(t,i,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s){return new Fa(s)}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(s){return new Ow(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa.c_=!1;class UT{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="PersistentStream";class LT{constructor(t,i,r,l,c,d,p,_){this.Ci=t,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new at(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(it(zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IR extends LT{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=xw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ci(d.readTime):yt.min()})(t);return this.listener.J_(i,r)}Z_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=lm(_)?{documents:Pw(c,_)}:{query:kw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ST(c,d.resumeToken);const g=cm(c,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Wc(c,d.snapshotVersion.toTimestamp());const g=cm(c,d.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const r=jw(this.serializer,t);r&&(i.labels=r),this.K_(i)}X_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.K_(i)}}class NR extends LT{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Lw(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=dm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Uw(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{}class OR extends DR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,hm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Z.UNKNOWN,c.toString())}))}jo(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,hm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VR(s,t,i,r){return new OR(s,t,i,r)}class MR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="RemoteStore";class xR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Yr(this)&&(it(Fr,"Restarting streams for network reachability change."),await(async function(_){const g=vt(_);g.Ea.add(4),await Fl(g),g.Va.set("Unknown"),g.Ea.delete(4),await Sh(g)})(this))}))})),this.Va=new MR(r,l)}}async function Sh(s){if(Yr(s))for(const t of s.Ra)await t(!0)}async function Fl(s){for(const t of s.Ra)await t(!1)}function PT(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Fm(i):ho(i).O_()&&Gm(i,t))}function Hm(s,t){const i=vt(s),r=ho(i);i.Ia.delete(t),r.O_()&&kT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Yr(i)&&i.Va.set("Unknown"))}function Gm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(s).Z_(t)}function kT(s,t){s.da.$e(t),ho(s).X_(t)}function Fm(s){s.da=new Cw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ho(s).start(),s.Va.ua()}function Qm(s){return Yr(s)&&!ho(s).x_()&&s.Ia.size>0}function Yr(s){return vt(s).Ea.size===0}function zT(s){s.da=void 0}async function UR(s){s.Va.set("Online")}async function LR(s){s.Ia.forEach(((t,i)=>{Gm(s,t)}))}async function PR(s,t){zT(s),Qm(s)?(s.Va.ha(t),Fm(s)):s.Va.set("Unknown")}async function kR(s,t,i){if(s.Va.set("Online"),t instanceof AT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,t)}catch(r){it(Fr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await eh(s,r)}else if(t instanceof kc?s.da.Xe(t):t instanceof TT?s.da.st(t):s.da.tt(t),!i.isEqual(yt.min()))try{const r=await xT(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,g)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(g);T&&c.Ia.set(g,T.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,g)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(Ke.EMPTY_BYTE_STRING,T.snapshotVersion)),kT(c,_);const S=new Gs(T.target,_,g,T.sequenceNumber);Gm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){it(Fr,"Failed to raise snapshot:",r),await eh(s,r)}}async function eh(s,t,i){if(!co(t))throw t;s.Ea.add(1),await Fl(s),s.Va.set("Offline"),i||(i=()=>xT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Fr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function jT(s,t){return t().catch((i=>eh(s,i,t)))}async function bh(s){const t=vt(s),i=tr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Nm;for(;zR(t);)try{const l=await vR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,jR(t,l)}catch(l){await eh(t,l)}BT(t)&&qT(t)}function zR(s){return Yr(s)&&s.Ta.length<10}function jR(s,t){s.Ta.push(t);const i=tr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function BT(s){return Yr(s)&&!tr(s).x_()&&s.Ta.length>0}function qT(s){tr(s).start()}async function BR(s){tr(s).ra()}async function qR(s){const t=tr(s);for(const i of s.Ta)t.ea(i.mutations)}async function HR(s,t,i){const r=s.Ta.shift(),l=Lm.from(r,t,i);await jT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function GR(s,t){t&&tr(s).Y_&&await(async function(r,l){if((function(d){return bw(d)&&d!==Z.ABORTED})(l.code)){const c=r.Ta.shift();tr(r).B_(),await jT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(r)}})(s,t),BT(s)&&qT(s)}async function jv(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(Fr,"RemoteStore received new credentials");const r=Yr(i);i.Ea.add(3),await Fl(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function FR(s,t){const i=vt(s);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Fl(i),i.Va.set("Unknown"))}function ho(s){return s.ma||(s.ma=(function(i,r,l){const c=vt(i);return c.sa(),new IR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:UR.bind(null,s),Yo:LR.bind(null,s),t_:PR.bind(null,s),J_:kR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Qm(s)?Fm(s):s.Va.set("Unknown")):(await s.ma.stop(),zT(s))}))),s.ma}function tr(s){return s.fa||(s.fa=(function(i,r,l){const c=vt(i);return c.sa(),new NR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BR.bind(null,s),t_:GR.bind(null,s),ta:qR.bind(null,s),na:HR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Fr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new Km(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,t){if(is("AsyncQueue",`${t}: ${s}`),co(s))return new at(Z.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Al(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(){this.ga=new le(ht.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class io{constructor(t,i,r,l,c,d,p,_,g){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=g}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new io(t,i,Qa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class KR{constructor(){this.queries=qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=vt(i),c=l.queries;l.queries=qv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(r)}))})(this,new at(Z.ABORTED,"Firestore shutting down"))}}function qv(){return new Kr((s=>lT(s)),yh)}async function Xm(s,t){const i=vt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(r=2):(c=new QR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Ym(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function Jm(s,t){const i=vt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function YR(s,t){const i=vt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(r=!0);d.wa=l}}r&&$m(i)}function XR(s,t,i){const r=vt(s),l=r.queries.get(t);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(t)}function $m(s){s.Ca.forEach((t=>{t.next()}))}var pm,Hv;(Hv=pm||(pm={})).Ma="default",Hv.Cache="cache";class Zm{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new io(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.key=t}}class GT{constructor(t){this.key=t}}class JR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=uT(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,i){const r=i?i.iu:new Bv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const b=l.get(T),P=_h(this.query,S)?S:null,G=!!b&&this.mutatedKeys.has(b.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let W=!1;b&&P?b.data.isEqual(P.data)?G!==Y&&(r.track({type:3,doc:P}),W=!0):this.su(b,P)||(r.track({type:2,doc:P}),W=!0,(_&&this.eu(P,_)>0||g&&this.eu(P,g)<0)&&(p=!0)):!b&&P?(r.track({type:0,doc:P}),W=!0):b&&!P&&(r.track({type:1,doc:b}),W=!0,(_||g)&&(p=!0)),W&&(P?(d=d.add(P),c=Y?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,S)=>(function(P,G){const Y=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:W})}};return Y(P)-Y(G)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,g=_!==this.Xa;return this.Xa=_,d.length!==0||g?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,_===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return t.forEach((r=>{this.Ya.has(r)||i.push(new GT(r))})),this.Ya.forEach((r=>{t.has(r)||i.push(new HT(r))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class $R{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class ZR{constructor(t){this.key=t,this.hu=!1}}class WR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((p=>lT(p)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ht.comparator),this.Au=new Map,this.Vu=new zm,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tC(s,t,i=!0){const r=JT(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await FT(r,t,i,!0),l}async function eC(s,t){const i=JT(s);await FT(i,t,!0,!1)}async function FT(s,t,i,r){const l=await ER(s.localStore,Ri(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await nC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&PT(s.remoteStore,l),p}async function nC(s,t,i,r,l){s.pu=(S,b,P)=>(async function(Y,W,ut,Et){let Tt=W.view.ru(ut);Tt.Ss&&(Tt=await Uv(Y.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,Tt))));const $t=Et&&Et.targetChanges.get(W.targetId),ie=Et&&Et.targetMismatches.get(W.targetId)!=null,zt=W.view.applyChanges(Tt,Y.isPrimaryClient,$t,ie);return Fv(Y,W.targetId,zt.au),zt.snapshot})(s,S,b,P);const c=await Uv(s.localStore,t,!0),d=new JR(t,c.ks),p=d.ru(c.documents),_=Gl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),g=d.applyChanges(p,s.isPrimaryClient,_);Fv(s,i,g.au);const T=new $R(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),g.snapshot}async function iC(s,t,i){const r=vt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Hm(r.remoteStore,l.targetId),ym(r,l.targetId)})).catch(uo)):(ym(r,l.targetId),await mm(r.localStore,l.targetId,!0))}async function sC(s,t){const i=vt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Hm(i.remoteStore,r.targetId))}async function rC(s,t,i){const r=fC(s);try{const l=await(function(d,p){const _=vt(d),g=ne.now(),T=p.reduce(((P,G)=>P.add(G.key)),Vt());let S,b;return _.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let G=ss(),Y=Vt();return _.xs.getEntries(P,T).next((W=>{G=W,G.forEach(((ut,Et)=>{Et.isValidDocument()||(Y=Y.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(P,G))).next((W=>{S=W;const ut=[];for(const Et of p){const Tt=vw(Et,S.get(Et.key).overlayedDocument);Tt!=null&&ut.push(new sr(Et.key,Tt,eT(Tt.value.mapValue),bn.exists(!0)))}return _.mutationQueue.addMutationBatch(P,g,ut,p)})).next((W=>{b=W;const ut=W.applyToLocalDocumentSet(S,Y);return _.documentOverlayCache.saveOverlays(P,W.batchId,ut)}))})).then((()=>({batchId:b.batchId,changes:hT(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let g=d.du[d.currentUser.toKey()];g||(g=new le(Ot)),g=g.insert(p,_),d.du[d.currentUser.toKey()]=g})(r,l.batchId,i),await Ql(r,l.changes),await bh(r.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");i.reject(c)}}async function QT(s,t){const i=vt(s);try{const r=await yR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Ql(i,r,t)}catch(r){await uo(r)}}function Gv(s,t,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let g=!1;_.queries.forEach(((T,S)=>{for(const b of S.ba)b.va(p)&&(g=!0)})),g&&$m(_)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aC(s,t,i){const r=vt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new le(ht.comparator);d=d.insert(c,$e.newNoDocument(c,yt.min()));const p=Vt().add(c),_=new Th(yt.min(),new Map,new le(Ot),d,p);await QT(r,_),r.Ru=r.Ru.remove(c),r.Au.delete(t),tg(r)}else await mm(r.localStore,t,!1).then((()=>ym(r,t,i))).catch(uo)}async function oC(s,t){const i=vt(s),r=t.batch.batchId;try{const l=await pR(i.localStore,t);YT(i,r,null),KT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(i,l)}catch(l){await uo(l)}}async function lC(s,t,i){const r=vt(s);try{const l=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return _.mutationQueue.lookupMutationBatch(g,p).next((S=>(qt(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(g,S)))).next((()=>_.mutationQueue.performConsistencyCheck(g))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(g,T,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>_.localDocuments.getDocuments(g,T)))}))})(r.localStore,t);YT(r,t,i),KT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Ql(r,l)}catch(l){await uo(l)}}function KT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function YT(s,t,i){const r=vt(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function ym(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((r=>{s.Vu.containsKey(r)||XT(s,r)}))}function XT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Hm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),tg(s))}function Fv(s,t,i){for(const r of i)r instanceof HT?(s.Vu.addReference(r.key,t),uC(s,r)):r instanceof GT?(it(Wm,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,t),s.Vu.containsKey(r.key)||XT(s,r.key)):dt(19791,{wu:r})}function uC(s,t){const i=t.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(it(Wm,"New document in limbo: "+i),s.Eu.add(r),tg(s))}function tg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ht(ee.fromString(t)),r=s.fu.next();s.Au.set(r,new ZR(i)),s.Ru=s.Ru.insert(i,r),PT(s.remoteStore,new Gs(Ri(ph(i.path)),r,"TargetPurposeLimboResolution",fh.ce))}}async function Ql(s,t,i){const r=vt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((g=>{var T;if((g||i)&&r.isPrimaryClient){const S=g?!g.fromCache:(T=i==null?void 0:i.targetChanges.get(_.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(g){l.push(g);const S=Bm.Es(_.targetId,g);c.push(S)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(_,g){const T=vt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(g,(b=>$.forEach(b.Ts,(P=>T.persistence.referenceDelegate.addReference(S,b.targetId,P))).next((()=>$.forEach(b.Is,(P=>T.persistence.referenceDelegate.removeReference(S,b.targetId,P)))))))))}catch(S){if(!co(S))throw S;it(qm,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const P=T.vs.get(b),G=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(G);T.vs=T.vs.insert(b,Y)}}})(r.localStore,c))}async function cC(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){it(Wm,"User change. New user:",t.toKey());const r=await MT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new at(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ql(i,r.Ns)}}function hC(s,t){const i=vt(s),r=i.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function JT(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aC.bind(null,t),t.Pu.J_=YR.bind(null,t.eventManager),t.Pu.yu=XR.bind(null,t.eventManager),t}function fC(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return gR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new VT(jm.Vi,this.serializer)}Du(t){return new AR}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class dC extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $w(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new VT((r=>th.Vi(r,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Gv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cC.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KR})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),r=CR(t.databaseInfo);return VR(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new xR(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Gv(this.syncEngine,i,0)),(function(){return kv.v()?new kv:new SR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,g,T){const S=new WR(l,c,d,p,_,g);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=vt(l);it(Fr,"RemoteStore shutting down."),c.Ea.add(5),await Fl(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="FirestoreClient";class mC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it(er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ym(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),it(er,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await MT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Qv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await gC(s);it(er,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>jv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>jv(t.remoteStore,l))),s._onlineComponents=t}async function gC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(er,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new nh)}}else it(er,"Using default OfflineComponentProvider"),await Kd(s,new dC(void 0));return s._offlineComponents}async function $T(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(er,"Using user provided OnlineComponentProvider"),await Qv(s,s._uninitializedComponentsProvider._online)):(it(er,"Using default OnlineComponentProvider"),await Qv(s,new _m))),s._onlineComponents}function pC(s){return $T(s).then((t=>t.syncEngine))}async function ih(s){const t=await $T(s),i=t.eventManager;return i.onListen=tC.bind(null,t.syncEngine),i.onUnlisten=iC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sC.bind(null,t.syncEngine),i}function yC(s,t,i,r){const l=new eg(r),c=new Zm(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>Xm(await ih(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>Jm(await ih(s),c)))}}function _C(s,t,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,g){const T=new eg({next:b=>{T.Nu(),d.enqueueAndForget((()=>Jm(c,S)));const P=b.docs.has(p);!P&&b.fromCache?g.reject(new at(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&_&&_.source==="server"?g.reject(new at(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new Zm(ph(p.path),T,{includeMetadataChanges:!0,Ka:!0});return Xm(c,S)})(await ih(s),s.asyncQueue,t,i,r))),r.promise}function vC(s,t,i={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,g){const T=new eg({next:b=>{T.Nu(),d.enqueueAndForget((()=>Jm(c,S))),b.fromCache&&_.source==="server"?g.reject(new at(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new Zm(p,T,{includeMetadataChanges:!0,Ka:!0});return Xm(c,S)})(await ih(s),s.asyncQueue,t,i,r))),r.promise}function EC(s,t){const i=new es;return s.asyncQueue.enqueueAndForget((async()=>rC(await pC(s),t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="ComponentProvider",Kv=new Map;function AC(s,t,i,r,l){return new Bb(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,ZT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firestore.googleapis.com",Yv=!0;class Xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WT,this.ssl=Yv}else this.host=t.host,this.ssl=t.ssl??Yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xw)throw new at(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Db("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Eb;switch(r.type){case"firstParty":return new bb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Kv.get(i);r&&(it(TC,"Removing Datastore"),Kv.delete(i),r.terminate())})(this),Promise.resolve()}}function SC(s,t,i,r={}){var g;s=Sn(s,wh);const l=ao(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(IE(`https://${p}`),NE("Firestore",!0)),c.host!==WT&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!qr(_,d)&&(s._setSettings(_),r.mockUserToken)){let T,S;if(typeof r.mockUserToken=="string")T=r.mockUserToken,S=Je.MOCK_USER;else{T=QS(r.mockUserToken,(g=s._app)==null?void 0:g.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new at(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Je(b)}s._authCredentials=new Tb(new HE(T,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Kl(this.firestore,t,this._query)}}class pe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(ql(i,pe._jsonSchema))return new pe(t,r||null,new ht(ee.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ce("string",pe._jsonSchemaVersion),referencePath:Ce("string")};class Xs extends Kl{constructor(t,i,r){super(t,i,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new ht(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function bC(s,t,...i){if(s=ke(s),GE("collection","path",t),s instanceof wh){const r=ee.fromString(t,...i);return uv(r),new Xs(s,null,r)}{if(!(s instanceof pe||s instanceof Xs))throw new at(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return uv(r),new Xs(s.firestore,null,r)}}function zn(s,t,...i){if(s=ke(s),arguments.length===1&&(t=Cm.newId()),GE("doc","path",t),s instanceof wh){const r=ee.fromString(t,...i);return lv(r),new pe(s,null,new ht(r))}{if(!(s instanceof pe||s instanceof Xs))throw new at(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ee.fromString(t,...i));return lv(r),new pe(s.firestore,s instanceof Xs?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="AsyncQueue";class $v{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UT(this,"async_queue_retry"),this._c=()=>{const r=Qd();r&&it(Jv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;it(Jv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",Zv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Km.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:Zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Zv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class nr extends wh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new $v,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new $v(t),this._firestoreClient=void 0,await t}}}function wC(s,t){const i=typeof s=="object"?s:ME(),r=typeof s=="string"?s:Kc,l=wm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=GS("firestore");c&&SC(l,...c)}return l}function Yl(s){if(s._terminated)throw new at(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RC(s),s._firestoreClient}function RC(s){var r,l,c,d;const t=s._freezeSettings(),i=AC(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(l=s._app)==null?void 0:l.options.apiKey,t);s._componentsProvider||(c=t.localCache)!=null&&c._offlineComponentProvider&&((d=t.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new mC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(_){const g=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Ke.fromBase64String(t))}catch(i){throw new at(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ql(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Ce("string",kn._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(ql(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ce("string",Ii._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ql(t,ti._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ti(t.vectorValues);throw new at(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Ce("string",ti._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=/^__.*__$/;class IC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class t0{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function e0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:s})}}class ig{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ig({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var l;const i=(l=this.path)==null?void 0:l.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){var l;const i=(l=this.path)==null?void 0:l.child(t),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(e0(this.dataSource)&&CC.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class NC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ah(t)}createContext(t,i,r,l=!1){return new ig({dataSource:t,methodName:i,targetDoc:r,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new NC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function n0(s,t,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);rg("Data must be an object, but it was:",d,r);const p=r0(r,d);let _,g;if(c.merge)_=new An(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const b=kl(t,S,i);if(!d.contains(b))throw new at(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);l0(T,b)||T.push(b)}_=new An(T),g=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,g=d.fieldTransforms;return new IC(new hn(p),_,g)}class Ch extends ng{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function i0(s,t,i,r){const l=s.createContext(1,t,i);rg("Data must be an object, but it was:",l,r);const c=[],d=hn.empty();ir(r,((_,g)=>{const T=o0(t,_,i);g=ke(g);const S=l.childContextForFieldPath(T);if(g instanceof Ch)c.push(T);else{const b=Ih(g,S);b!=null&&(c.push(T),d.set(T,b))}}));const p=new An(c);return new t0(d,p,l.fieldTransforms)}function s0(s,t,i,r,l,c){const d=s.createContext(1,t,i),p=[kl(t,r,i)],_=[l];if(c.length%2!=0)throw new at(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)p.push(kl(t,c[b])),_.push(c[b+1]);const g=[],T=hn.empty();for(let b=p.length-1;b>=0;--b)if(!l0(g,p[b])){const P=p[b];let G=_[b];G=ke(G);const Y=d.childContextForFieldPath(P);if(G instanceof Ch)g.push(P);else{const W=Ih(G,Y);W!=null&&(g.push(P),T.set(P,W))}}const S=new An(g);return new t0(T,S,d.fieldTransforms)}function Ih(s,t){if(a0(s=ke(s)))return rg("Unsupported field value:",t,s),r0(s,t);if(s instanceof ng)return(function(r,l){if(!e0(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=Ih(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ne.fromDate(r);return{timestampValue:Wc(l.serializer,c)}}if(r instanceof ne){const c=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:ST(l.serializer,r._byteString)};if(r instanceof pe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ti)return(function(d,p){const _=d instanceof ti?d.toArray():d;return{mapValue:{fields:{[WE]:{stringValue:tT},[Yc]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw p.createError("VectorValues must only contain numeric values.");return xm(p.serializer,T)}))}}}}}})(r,l);if(DT(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Im(r)}`)})(s,t)}function r0(s,t){const i={};return KE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(s,((r,l)=>{const c=Ih(l,t.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function a0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof Ii||s instanceof kn||s instanceof pe||s instanceof ng||s instanceof ti||DT(s))}function rg(s,t,i){if(!a0(i)||!FE(i)){const r=Im(i);throw r==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+r)}}function kl(s,t,i){if((t=ke(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return o0(s,t);throw sh("Field path arguments must be of type string or ",s,!1,void 0,i)}const DC=new RegExp("[~\\*/\\[\\]]");function o0(s,t,i){if(t.search(DC)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function sh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new at(Z.INVALID_ARGUMENT,p+s+_)}function l0(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{convertValue(t,i="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ir(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){var r,l,c;const i=(c=(l=(r=t.fields)==null?void 0:r[Yc].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>ge(d.doubleValue)));return new ti(i)}convertGeoPoint(t){return new Ii(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=mh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const i=$s(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);qt(NT(r),9688,{name:t});const l=new xl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(i)||is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends OC{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,i)}}const Wv="@firebase/firestore",tE="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const i=this._document.data.field(kl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VC extends u0{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function h0(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zr extends u0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(kl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",zr._jsonSchema={type:Ce("string",zr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class zc extends zr{data(t={}){return super.data(t)}}class jr{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new zc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:MC(p.type),doc:_,oldIndex:g,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=jr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr._jsonSchemaVersion="firestore/querySnapshot/1.0",jr._jsonSchema={type:Ce("string",jr._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=sg(t)}set(t,i,r){this._verifyNotCommitted();const l=Yd(t,this._firestore),c=h0(l.converter,i,r),d=n0(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,r);return this._mutations.push(d.toMutation(l._key,bn.none())),this}update(t,i,r,...l){this._verifyNotCommitted();const c=Yd(t,this._firestore);let d;return d=typeof(i=ke(i))=="string"||i instanceof Rh?s0(this._dataReader,"WriteBatch.update",c._key,i,r,l):i0(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,bn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Yd(t,this._firestore);return this._mutations=this._mutations.concat(new Um(i._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yd(s,t){if((s=ke(s)).firestore!==t)throw new at(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(s){s=Sn(s,pe);const t=Sn(s.firestore,nr),i=Yl(t);return _C(i,s._key).then((r=>f0(t,s,r)))}function UC(s){s=Sn(s,Kl);const t=Sn(s.firestore,nr),i=Yl(t),r=new ag(t);return c0(s._query),vC(i,s._query).then((l=>new jr(t,r,s,l)))}function LC(s,t,i){s=Sn(s,pe);const r=Sn(s.firestore,nr),l=h0(s.converter,t,i),c=sg(r);return og(r,[n0(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,bn.none())])}function Nh(s,t,i,...r){s=Sn(s,pe);const l=Sn(s.firestore,nr),c=sg(l);let d;return d=typeof(t=ke(t))=="string"||t instanceof Rh?s0(c,"updateDoc",s._key,t,i,r):i0(c,"updateDoc",s._key,t),og(l,[d.toMutation(s._key,bn.exists(!0))])}function PC(s,...t){var g,T,S;s=ke(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||eE(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(eE(t[r])){const b=t[r];t[r]=(g=b.next)==null?void 0:g.bind(b),t[r+1]=(T=b.error)==null?void 0:T.bind(b),t[r+2]=(S=b.complete)==null?void 0:S.bind(b)}let c,d,p;if(s instanceof pe)d=Sn(s.firestore,nr),p=ph(s._key.path),c={next:b=>{t[r]&&t[r](f0(d,s,b))},error:t[r+1],complete:t[r+2]};else{const b=Sn(s,Kl);d=Sn(b.firestore,nr),p=b._query;const P=new ag(d);c={next:G=>{t[r]&&t[r](new jr(d,P,b,G))},error:t[r+1],complete:t[r+2]},c0(s._query)}const _=Yl(d);return yC(_,p,l,c)}function og(s,t){const i=Yl(s);return EC(i,t)}function f0(s,t,i){const r=i.docs.get(t._key),l=new ag(s);return new zr(s,l,t._key,r,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function kC(s){return s=Sn(s,nr),Yl(s),new xC(s,(t=>og(s,t)))}(function(t,i=!0){vb(oo),$a(new Hr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new nr(new Ab(r.getProvider("auth-internal")),new wb(d,r.getProvider("app-check-internal")),qb(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(Wv,tE,t),Ks(Wv,tE,"esm2020")})();var zC="firebase",jC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks(zC,jC,"app");function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BC=d0,m0=new jl("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Sm("@firebase/auth");function qC(s,...t){rh.logLevel<=Dt.WARN&&rh.warn(`Auth (${oo}): ${s}`,...t)}function jc(s,...t){rh.logLevel<=Dt.ERROR&&rh.error(`Auth (${oo}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(s,...t){throw ug(s,...t)}function ei(s,...t){return ug(s,...t)}function lg(s,t,i){const r={...BC(),[t]:i};return new jl("auth","Firebase",r).create(t,{appName:s.name})}function Br(s){return lg(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HC(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&Vi(s,"argument-error"),lg(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ug(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return m0.create(s,...t)}function mt(s,t,...i){if(!s)throw ug(t,...i)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw jc(t),new Error(t)}function rs(s,t){s||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function GC(){return nE()==="http:"||nE()==="https:"}function nE(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GC()||ZS()||"connection"in navigator)?navigator.onLine:!0}function QC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rs(i>t,"Short delay should be less than long delay!"),this.isMobile=XS()||WS()}get(){return FC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(s,t){rs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XC=new Xl(3e4,6e4);function hg(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function fo(s,t,i,r,l={}){return p0(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Bl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const g={method:t,headers:_,...c};return $S()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&ao(s.emulatorConfig.host)&&(g.credentials="include"),g0.fetch()(await y0(s,s.config.apiHost,i,p),g)})}async function p0(s,t,i){s._canInitEmulator=!1;const r={...KC,...t};try{const l=new $C(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,g]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mc(s,"user-disabled",d);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lg(s,T,g);Vi(s,T)}}catch(l){if(l instanceof as)throw l;Vi(s,"network-request-failed",{message:String(l)})}}async function JC(s,t,i,r,l={}){const c=await fo(s,t,i,r,l);return"mfaPendingCredential"in c&&Vi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function y0(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?cg(s.config,l):`${s.config.apiScheme}://${l}`;return YC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),XC.get())})}}function Mc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ei(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(s,t){return fo(s,"POST","/v1/accounts:delete",t)}async function ah(s,t){return fo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WC(s,t=!1){const i=ke(s),r=await i.getIdToken(t),l=fg(r);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Dl(Xd(l.auth_time)),issuedAtTime:Dl(Xd(l.iat)),expirationTime:Dl(Xd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Xd(s){return Number(s)*1e3}function fg(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bE(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function iE(s){const t=fg(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof as&&tI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function tI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(s){var S;const t=s.auth,i=await s.getIdToken(),r=await zl(s,ah(t,{idToken:i}));mt(r==null?void 0:r.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=(S=l.providerUserInfo)!=null&&S.length?_0(l.providerUserInfo):[],d=iI(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),g=p?_:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Em(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,T)}async function nI(s){const t=ke(s);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iI(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function _0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(s,t){const i=await p0(s,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await y0(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return s.emulatorConfig&&ao(s.emulatorConfig.host)&&(_.credentials="include"),g0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function rI(s,t){return fo(s,"POST","/v2/accounts:revokeToken",hg(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=iE(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await sI(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ka;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new eI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return WC(this,t)}reload(){return nI(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Br(this.auth));const t=await this.getIdToken();return await zl(this,ZC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,g=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:P,providerData:G,stsTokenManager:Y}=i;mt(S&&Y,t,"internal-error");const W=Ka.fromJSON(this.name,Y);mt(typeof S=="string",t,"internal-error"),js(r,t.name),js(l,t.name),mt(typeof b=="boolean",t,"internal-error"),mt(typeof P=="boolean",t,"internal-error"),js(c,t.name),js(d,t.name),js(p,t.name),js(_,t.name),js(g,t.name),js(T,t.name);const ut=new Wn({uid:S,auth:t,email:l,emailVerified:b,displayName:r,isAnonymous:P,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:g,lastLoginAt:T});return G&&Array.isArray(G)&&(ut.providerData=G.map(Et=>({...Et}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new Ka;p.updateFromIdToken(r);const _=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(_,g),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function ts(s){rs(s instanceof Function,"Expected a class definition");let t=sE.get(s);return t?(rs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,sE.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}v0.type="NONE";const rE=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ya{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ya(ts(rE),t,r);const l=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||ts(rE);const d=Bc(r,t.config.apiKey,t.name);let p=null;for(const g of i)try{const T=await g._get(d);if(T){let S;if(typeof T=="string"){const b=await ah(t,{idToken:T}).catch(()=>{});if(!b)break;S=await Wn._fromGetAccountInfoResponse(t,b,T)}else S=Wn._fromJSON(t,T);g!==c&&(p=S),c=g;break}}catch{}const _=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ya(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Ya(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(S0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(E0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(w0(t))return"Blackberry";if(R0(t))return"Webos";if(T0(t))return"Safari";if((t.includes("chrome/")||A0(t))&&!t.includes("edge/"))return"Chrome";if(b0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E0(s=Ze()){return/firefox\//i.test(s)}function T0(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A0(s=Ze()){return/crios\//i.test(s)}function S0(s=Ze()){return/iemobile/i.test(s)}function b0(s=Ze()){return/android/i.test(s)}function w0(s=Ze()){return/blackberry/i.test(s)}function R0(s=Ze()){return/webos/i.test(s)}function dg(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aI(s=Ze()){var t;return dg(s)&&!!((t=window.navigator)!=null&&t.standalone)}function oI(){return t1()&&document.documentMode===10}function C0(s=Ze()){return dg(s)||b0(s)||R0(s)||w0(s)||/windows phone/i.test(s)||S0(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(s,t=[]){let i;switch(s){case"Browser":i=aE(Ze());break;case"Worker":i=`${aE(Ze())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(s,t={}){return fo(s,"GET","/v2/passwordPolicy",hg(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=6;class hI{constructor(t){var r;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),r=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var c;if(Zn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=r==null?void 0:r._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===p)&&(_!=null&&_.user)&&(r=_.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Br(this));const i=t?ke(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uI(this),i=new hI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await rI(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var i;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&qC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Dh(s){return ke(s)}class oE{constructor(t){this.auth=t,this.observer=null,this.addObserver=l1(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(s){mg=s}function mI(s){return mg.loadJS(s)}function gI(){return mg.gapiScript}function pI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(s,t){const i=wm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qr(c,t??{}))return l;Vi(l,"already-initialized")}return i.initialize({options:t})}function _I(s,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ts);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function vI(s,t,i){const r=Dh(s);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=N0(t),{host:d,port:p}=EI(t),_=p===null?"":`:${p}`,g={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(qr(g,r.config.emulator)&&qr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ao(d)?(IE(`${c}//${d}${_}`),NE("Auth",!0)):TI()}function N0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function EI(s){const t=N0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:lE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:lE(d)}}}function lE(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function TI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(s,t){return JC(s,"POST","/v1/accounts:signInWithIdp",hg(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Qr extends D0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Vi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Xa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends gg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Jl{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Zi.credential(i,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Jl{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Wn._fromIdTokenResponse(t,r,l),d=uE(r);return new so({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=uE(r);return new so({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function uE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends as{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new lh(t,i,r,l)}}function O0(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(s,c,t,r):c})}async function SI(s,t,i=!1){const r=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return so._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(s,t,i=!1){const{auth:r}=s;if(Zn(r.app))return Promise.reject(Br(r));const l="reauthenticate";try{const c=await zl(s,O0(r,l,t,s),i);mt(c.idToken,r,"internal-error");const d=fg(c.idToken);mt(d,r,"internal-error");const{sub:p}=d;return mt(s.uid===p,r,"user-mismatch"),so._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Vi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(s,t,i=!1){if(Zn(s.app))return Promise.reject(Br(s));const r="signIn",l=await O0(s,r,t),c=await so._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function RI(s,t,i,r){return ke(s).onIdTokenChanged(t,i,r)}function CI(s,t,i){return ke(s).beforeAuthStateChanged(t,i)}function II(s,t,i,r){return ke(s).onAuthStateChanged(t,i,r)}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,DI=10;class M0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);oI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,DI):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}M0.type="LOCAL";const OI=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}x0.type="SESSION";const U0=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Oh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async g=>g(i.origin,c)),_=await VI(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const g=pg("",20);l.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(b.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function xI(s){Ni().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function UI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LI(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function PI(){return L0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firebaseLocalStorageDb",kI=1,ch="firebaseLocalStorage",k0="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Vh(s,t){return s.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function zI(){const s=indexedDB.deleteDatabase(P0);return new $l(s).toPromise()}function Tm(){const s=indexedDB.open(P0,kI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ch,{keyPath:k0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ch)?t(r):(r.close(),await zI(),t(await Tm()))})})}async function cE(s,t,i){const r=Vh(s,!0).put({[k0]:t,value:i});return new $l(r).toPromise()}async function jI(s,t){const i=Vh(s,!1).get(t),r=await new $l(i).toPromise();return r===void 0?null:r.value}function hE(s,t){const i=Vh(s,!0).delete(t);return new $l(i).toPromise()}const BI=800,qI=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>qI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(PI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await UI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tm();return await cE(t,uh,"1"),await hE(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>cE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>jI(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Vh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const HI=z0;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(s,t){return t?ts(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends D0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function GI(s){return wI(s.auth,new yg(s),s.bypassAuthState)}function FI(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),bI(i,new yg(s),s.bypassAuthState)}async function QI(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),SI(i,new yg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:Vi(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new Xl(2e3,1e4);async function YI(s,t,i){if(Zn(s.app))return Promise.reject(ei(s,"operation-not-supported-in-this-environment"));const r=Dh(s);HC(s,t,gg);const l=j0(r,i);return new kr(r,"signInViaPopup",t,l).executeNotNull()}class kr extends B0{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,kr.currentPopupAction&&kr.currentPopupAction.cancel(),kr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KI.get())};t()}}kr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="pendingRedirect",qc=new Map;class JI extends B0{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=qc.get(this.auth._key());if(!t){try{const r=await $I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}qc.set(this.auth._key(),t)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $I(s,t){const i=t2(t),r=WI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function ZI(s,t){qc.set(s._key(),t)}function WI(s){return ts(s._redirectPersistence)}function t2(s){return Bc(XI,s.config.apiKey,s.name)}async function e2(s,t,i=!1){if(Zn(s.app))return Promise.reject(Br(s));const r=Dh(s),l=j0(r,t),d=await new JI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=600*1e3;class i2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!s2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!q0(t)){const l=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(ei(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=n2&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(t))}saveEventToCache(t){this.cachedEventUids.add(fE(t)),this.lastProcessedEventTime=Date.now()}}function fE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function q0({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function s2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(s,t={}){return fo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o2=/^https?/;async function l2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await r2(s);for(const i of t)try{if(u2(i))return}catch{}Vi(s,"unauthorized-domain")}function u2(s){const t=vm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!o2.test(i))return!1;if(a2.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=new Xl(3e4,6e4);function dE(){const s=Ni().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function h2(s){return new Promise((t,i)=>{var l,c,d;function r(){dE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dE(),i(ei(s,"network-request-failed"))},timeout:c2.get()})}if((c=(l=Ni().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)t(gapi.iframes.getContext());else if((d=Ni().gapi)!=null&&d.load)r();else{const p=pI("iframefcb");return Ni()[p]=()=>{gapi.load?r():i(ei(s,"network-request-failed"))},mI(`${gI()}?onload=${p}`).catch(_=>i(_))}}).catch(t=>{throw Hc=null,t})}let Hc=null;function f2(s){return Hc=Hc||h2(s),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Xl(5e3,15e3),m2="__/auth/iframe",g2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _2(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?cg(t,g2):`https://${s.config.authDomain}/${m2}`,r={apiKey:t.apiKey,appName:s.name,v:oo},l=y2.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bl(r).slice(1)}`}async function v2(s){const t=await f2(s),i=Ni().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:_2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=ei(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},d2.get());function _(){Ni().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T2=500,A2=600,S2="_blank",b2="http://localhost";class mE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w2(s,t,i,r=T2,l=A2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...E2,width:r.toString(),height:l.toString(),top:c,left:d},g=Ze().toLowerCase();i&&(p=A0(g)?S2:i),E0(g)&&(t=t||b2,_.scrollbars="yes");const T=Object.entries(_).reduce((b,[P,G])=>`${b}${P}=${G},`,"");if(aI(g)&&p!=="_self")return R2(t||"",p),new mE(null);const S=window.open(t||"",p,T);mt(S,s,"popup-blocked");try{S.focus()}catch{}return new mE(S)}function R2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="__/auth/handler",I2="emulator/auth/handler",N2=encodeURIComponent("fac");async function gE(s,t,i,r,l,c){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:oo,eventId:l};if(t instanceof gg){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",o1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(t instanceof Jl){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const _=await s._getAppCheckToken(),g=_?`#${N2}=${encodeURIComponent(_)}`:"";return`${D2(s)}?${Bl(p).slice(1)}${g}`}function D2({config:s}){return s.emulator?cg(s,I2):`https://${s.authDomain}/${C2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class O2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=e2,this._overrideRedirectResult=ZI}async _openPopup(t,i,r,l){var d;rs((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await gE(t,i,r,vm(),l);return w2(t,c,pg())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await gE(t,i,r,vm(),l);return xI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await v2(t),r=new i2(t);return i.register("authEvent",l=>(mt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jd,{type:Jd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Jd];c!==void 0&&i(!!c),Vi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=l2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return C0()||T0()||dg()}}const V2=O2;var pE="@firebase/auth",yE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U2(s){$a(new Hr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(s)},g=new fI(r,l,c,_);return _I(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$a(new Hr("auth-internal",t=>{const i=Dh(t.getProvider("auth").getImmediate());return(r=>new M2(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(pE,yE,x2(s)),Ks(pE,yE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=300,P2=CE("authIdTokenMaxAge")||L2;let _E=null;const k2=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>P2)return;const l=i==null?void 0:i.token;_E!==l&&(_E=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function z2(s=ME()){const t=wm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=yI(s,{popupRedirectResolver:V2,persistence:[HI,OI,U0]}),r=CE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=k2(c.toString());CI(i,d,()=>d(i.currentUser)),RI(i,p=>d(p))}}const l=wE("auth");return l&&vI(i,`http://${l}`),i}function j2(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}dI({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=ei("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",j2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U2("Browser");const B2={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function ja(s){const t=B2[s];if(!t)throw new Error(`Missing environment variable: ${s}. Did you forget to create a .env.local?`);return t}const q2={apiKey:ja("VITE_FIREBASE_API_KEY"),authDomain:ja("VITE_FIREBASE_AUTH_DOMAIN"),projectId:ja("VITE_FIREBASE_PROJECT_ID"),storageBucket:ja("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:ja("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:ja("VITE_FIREBASE_APP_ID")},H0=VE(q2),ro=z2(H0),H2=new Zi,fn=wC(H0),G0=gt.createContext(void 0),G2=({children:s})=>{const[t,i]=gt.useState(()=>{const d=localStorage.getItem("app-theme");return d||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),r=gt.useCallback(d=>{document.documentElement.setAttribute("data-theme",d),localStorage.setItem("app-theme",d)},[]);gt.useEffect(()=>{r(t)},[t,r]);const l=gt.useCallback(d=>{i(d),r(d);const p=ro.currentUser;if(p){const _=zn(fn,"users",p.uid);Nh(_,{preferredTheme:d}).catch(g=>console.error("Error updating preferred theme in Firebase:",g))}},[r]),c=gt.useCallback(()=>{i(d=>d==="light"?"dark":"light")},[i]);return gt.useEffect(()=>ro.onAuthStateChanged(async p=>{if(p){const _=zn(fn,"users",p.uid),g=await Xr(_);if(g.exists()&&g.data().preferredTheme){const T=g.data().preferredTheme;i(T),r(T)}}}),[r]),M.jsx(G0.Provider,{value:{theme:t,toggleTheme:c,setTheme:l},children:s})},F2=()=>{const[s,t]=gt.useState(null),[i,r]=gt.useState(null),[l,c]=gt.useState(!0);return gt.useEffect(()=>{let d;const p=II(ro,async _=>{if(_){t(_);const g=zn(fn,"users",_.uid);if(!(await Xr(g)).exists()){const b=_.email==="chris.sm.kang542@gmail.com",P={name:_.displayName,email:_.email,isApproved:b,isAdmin:b,isActive:!0,positions:[],gender:""};await LC(g,P)}d=PC(g,S=>{S.exists()&&r(S.data()),c(!1)})}else t(null),r(null),c(!1)});return()=>{p(),d&&d()}},[]),{user:s,userData:i,loading:l}};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=s=>{const t=K2(s);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=gt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>gt.createElement("svg",{ref:_,...Y2,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:F0("lucide",l),...!c&&!X2(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,T])=>gt.createElement(g,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=(s,t)=>{const i=gt.forwardRef(({className:r,...l},c)=>gt.createElement(J2,{ref:c,iconNode:t,className:F0(`lucide-${Q2(vE(s))}`,`lucide-${s}`,r),...l}));return i.displayName=vE(s),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Z2=Zl("chevron-up",$2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tN=Zl("moon",W2);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],nN=Zl("panel-left-close",eN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],sN=Zl("panel-left-open",iN);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aN=Zl("sun",rN),oN=()=>{const s=gt.useContext(G0);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},Q0=({showText:s})=>{const{theme:t,toggleTheme:i}=oN();return M.jsxs("button",{className:"theme-toggle-button",onClick:i,"aria-label":"Toggle theme",children:[t==="dark"?M.jsx(aN,{size:20}):M.jsx(tN,{size:20}),s&&M.jsx("span",{children:"Toggle theme"})]})},lN=({title:s,isSidebarOpen:t,setSidebarOpen:i})=>M.jsxs("header",{className:"mobile-header",children:[M.jsxs("div",{className:`mobile-header-pill ${t?"mobile-header-pill-active":""}`,onClick:()=>i(!t),children:[M.jsx("span",{className:"mobile-header-text",children:s}),M.jsx(Z2,{className:`mobile-header-chevron ${t?"rotate":""}`})]}),M.jsx(Q0,{})]});var wi=(s=>(s.ROSTER="roster",s.SETTINGS="settings",s))(wi||{}),Ja=(s=>(s.PROFILE="Profile",s.USER_MANAGEMENT="Users",s.POSITIONS="Positions",s))(Ja||{});const K0=[{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],$d=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],uN=({activeTab:s,onTabChange:t})=>M.jsx("nav",{className:"bottom-nav-container",children:M.jsx("div",{className:"bottom-nav",children:K0.map(i=>M.jsxs("button",{className:`bottom-nav-btn ${s===i.id?"bottom-nav-btn-active":""}`,onClick:()=>t(i.id),children:[M.jsx("span",{children:i.icon}),M.jsx("span",{children:i.label})]},i.id))})}),cN=({user:s,activeTab:t,activeSideItem:i,onSideItemChange:r,isSidebarOpen:l,setSidebarOpen:c,headerTitle:d})=>{const[p,_]=gt.useState([]);return gt.useEffect(()=>{const g=async()=>{try{const T=await Xr(zn(fn,"metadata","positions"));if(T.exists()){const S=T.data().list||[];_(S),t===wi.ROSTER&&!i&&S.length>0&&r(S[0].name,!1)}}catch(T){console.error("Error fetching positions:",T)}};t===wi.ROSTER?g():t===wi.SETTINGS&&!i&&r(Ja.PROFILE,!1)},[t,i,r]),M.jsxs("aside",{className:"side-nav",children:[M.jsxs("div",{className:"sidebar-content",children:[M.jsxs("div",{className:"tablet-sidebar-header",children:[l&&M.jsx("h3",{children:d}),M.jsx("button",{className:"sidebar-toggle-button",onClick:()=>c(!l),"aria-label":l?"Collapse sidebar":"Expand sidebar",children:l?M.jsx(nN,{size:20}):M.jsx(sN,{size:20})})]}),M.jsxs("nav",{className:"side-menu-list",children:[t===wi.ROSTER&&p.length===0&&M.jsx("div",{className:"side-nav-item loading",children:"Loading..."}),t===wi.ROSTER?p.map(g=>{const T=i===g.name;return M.jsxs("button",{className:`side-nav-item ${T?"side-nav-item-active":""}`,onClick:()=>r(g.name,!0),style:{borderLeft:T?`4px solid ${g.colour}`:"4px solid transparent",backgroundColor:T?`${g.colour}15`:"transparent",color:T?g.colour:""},children:[M.jsx("span",{className:"side-emoji",children:g.emoji})," ",l&&g.name]},g.name)}):M.jsx(M.Fragment,{children:$d.filter(g=>!g.adminOnly).map(g=>M.jsxs("button",{className:`side-nav-item ${i===g.id?"side-nav-item-active":""}`,onClick:()=>r(g.id,!0),children:[M.jsx("span",{className:"side-emoji",children:g.icon})," ",l&&g.label]},g.id))})]})]}),s.isAdmin&&t===wi.SETTINGS&&$d.some(g=>g.adminOnly)&&M.jsxs("div",{className:"admin-only-section-wrapper",children:[M.jsx("div",{className:"admin-section-heading",children:l&&M.jsx("h4",{children:"Admin Only"})}),$d.filter(g=>g.adminOnly).map(g=>M.jsxs("button",{className:`side-nav-item ${i===g.id?"side-nav-item-active":""}`,onClick:()=>r(g.id,!0),children:[M.jsx("span",{className:"side-emoji",children:g.icon})," ",l&&g.label]},g.id))]}),M.jsx(Q0,{showText:l})]})},hN=({user:s,children:t,activeTab:i,onTabChange:r,activeSideItem:l,onSideItemChange:c,isSidebarOpen:d,setSidebarOpen:p})=>{const[_,g]=gt.useState(!0);gt.useEffect(()=>{const P=()=>{};return window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const T=()=>{const P=K0.find(Y=>Y.id===i),G=P?P.label:"GIG ROSTER";return l?`${G}  ${l}`:G},S=gt.useCallback((P,G)=>{c(P),G&&window.innerWidth<768&&p(!1)},[c,p]),b=["app-shell",window.innerWidth<768&&d?"menu-open":"",window.innerWidth>=768&&!_?"sidebar-collapsed":"",window.innerWidth>=768&&_?"sidebar-expanded":""].filter(Boolean).join(" ");return M.jsxs(M.Fragment,{children:[M.jsx(lN,{title:T(),isSidebarOpen:d,setSidebarOpen:p}),M.jsxs("div",{className:b,children:[M.jsx(cN,{user:s,activeTab:i,activeSideItem:l,onSideItemChange:S,isSidebarOpen:_,setSidebarOpen:g,headerTitle:T()}),M.jsx("main",{className:"main-content",children:M.jsx("div",{className:"content-container",children:t})}),M.jsx(uN,{activeTab:i,onTabChange:r})]})]})},fN=({user:s,uid:t})=>{const[i,r]=gt.useState(s.name||""),[l,c]=gt.useState(s.gender||""),[d,p]=gt.useState(s.positions||[]),[_,g]=gt.useState([]),[T,S]=gt.useState("idle");gt.useEffect(()=>{(async()=>{try{const W=zn(fn,"metadata","positions"),ut=await Xr(W);ut.exists()&&g(ut.data().list||[])}catch(W){console.error("Error fetching positions:",W)}})()},[]),gt.useEffect(()=>{if(T==="success"){const Y=setTimeout(()=>S("idle"),3e3);return()=>clearTimeout(Y)}},[T]);const b=!i.trim()||!l||d.length===0,P=async()=>{if(!b){S("saving");try{await Nh(zn(fn,"users",t),{name:i.trim(),gender:l,positions:d}),S("success")}catch(Y){console.error(Y),S("idle")}}},G=Y=>{p(W=>W.includes(Y)?W.filter(ut=>ut!==Y):[...W,Y])};return M.jsxs("div",{className:"guest-container",children:[M.jsxs("header",{className:"guest-header",children:[M.jsx("h2",{className:"brand-title",children:"God is Good"}),M.jsx("p",{className:"status-label",children:"PENDING ADMIN APPROVAL"})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Display Name"}),M.jsx("input",{className:"text-input",value:i,onChange:Y=>r(Y.target.value),placeholder:"Enter your name"})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Gender"}),M.jsx("div",{className:"gender-toggle-group",children:["Male","Female"].map(Y=>M.jsx("button",{onClick:()=>c(Y),className:`pill-button ${Y.toLowerCase()} ${l===Y?"active":"inactive"}`,style:{flex:1},children:Y},Y))})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Positions"}),M.jsx("div",{className:"pill-group",children:_.map(Y=>{const W=d.includes(Y.name),ut=Y.colour&&Y.colour!=="";return M.jsxs("button",{onClick:()=>G(Y.name),className:`pill-button ${W?"active":"inactive"}`,style:W&&ut?{backgroundColor:Y.colour,borderColor:Y.colour}:{},children:[M.jsx("span",{className:"emoji-span",children:Y.emoji}),Y.name]},Y.name)})})]}),M.jsxs("div",{className:"action-container",children:[M.jsx("button",{onClick:P,disabled:b||T!=="idle",className:`save-button ${T}`,children:T==="saving"?"Saving...":T==="success"?"Done ":"Update Information"}),M.jsx("button",{onClick:()=>ro.signOut(),className:"logout-link",children:"Logout"})]})]})},EE=()=>M.jsx("div",{className:"loading-container",children:M.jsx("div",{className:"spinner"})}),dN=()=>{const s=()=>YI(ro,H2);return M.jsxs("div",{className:"login-container",children:[M.jsxs("header",{className:"login-header",children:[M.jsx("h1",{className:"brand-title",children:"God is Good"}),M.jsx("p",{className:"brand-subtitle",children:"Worship Team Roster"})]}),M.jsx("div",{className:"login-button-container",children:M.jsxs("button",{onClick:s,className:"login-button google",children:[M.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},mN=()=>{const[s,t]=gt.useState([]),[i,r]=gt.useState(!1),[l,c]=gt.useState({name:"",emoji:"",colour:"#646cff"});gt.useEffect(()=>{(async()=>{try{const b=zn(fn,"metadata","positions"),P=await Xr(b);if(P.exists()){const G=P.data();t(Array.isArray(G.list)?G.list:[])}}catch(b){console.error("Error fetching positions:",b)}})()},[]);const d=(S,b,P)=>{const G=[...s];G[S]={...G[S],[b]:P},t(G)},p=(S,b)=>{const P=[...s],G=b==="up"?S-1:S+1;if(G<0||G>=P.length)return;const Y=P[S];P[S]=P[G],P[G]=Y,t(P)},_=()=>{if(!l.name.trim()||!l.emoji.trim())return alert("Please provide both an emoji and a name.");t([...s,l]),c({name:"",emoji:"",colour:"#646cff"})},g=S=>{window.confirm("Delete this position? This will remove it from the global list.")&&t(s.filter((b,P)=>P!==S))},T=async()=>{r(!0);try{const S=zn(fn,"metadata","positions");await Nh(S,{list:s}),alert("Position configuration saved successfully!")}catch(S){console.error("Save Error:",S),alert("Check Firestore Rules: You may lack permission to write to 'metadata'.")}finally{r(!1)}};return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"app-table-container",children:M.jsxs("table",{className:"app-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{className:"w-order",children:"Order"}),M.jsx("th",{className:"w-emoji",children:"Emoji"}),M.jsx("th",{className:"w-name",children:"Name"}),M.jsx("th",{className:"w-color",children:"Colour"}),M.jsx("th",{className:"w-action"})]})}),M.jsxs("tbody",{children:[s.map((S,b)=>M.jsxs("tr",{children:[M.jsx("td",{children:M.jsxs("div",{className:"order-controls",children:[M.jsx("button",{onClick:()=>p(b,"up"),disabled:b===0,children:""}),M.jsx("button",{onClick:()=>p(b,"down"),disabled:b===s.length-1,children:""})]})}),M.jsx("td",{children:M.jsx("input",{className:"form-input center",value:S.emoji,onChange:P=>d(b,"emoji",P.target.value)})}),M.jsx("td",{children:M.jsx("input",{className:"form-input",value:S.name,onChange:P=>d(b,"name",P.target.value)})}),M.jsx("td",{children:M.jsxs("div",{className:"color-picker-group",children:[M.jsx("input",{type:"color",value:S.colour,onChange:P=>d(b,"colour",P.target.value)}),M.jsx("input",{className:"form-input hex-input",value:S.colour,onChange:P=>d(b,"colour",P.target.value)})]})}),M.jsx("td",{children:M.jsx("button",{onClick:()=>g(b),className:"icon-button icon-button--delete",children:""})})]},`${S.name}-${b}`)),M.jsxs("tr",{className:"pos-row-new",children:[M.jsx("td",{className:"new-tag",children:"NEW"}),M.jsx("td",{children:M.jsx("input",{className:"form-input center",placeholder:"emoji",value:l.emoji,onChange:S=>c({...l,emoji:S.target.value})})}),M.jsx("td",{children:M.jsx("input",{className:"form-input",placeholder:"Position Name",value:l.name,onChange:S=>c({...l,name:S.target.value})})}),M.jsx("td",{children:M.jsxs("div",{className:"color-picker-group",children:[M.jsx("input",{type:"color",value:l.colour,onChange:S=>c({...l,colour:S.target.value})}),M.jsx("input",{className:"form-input hex-input",value:l.colour,onChange:S=>c({...l,colour:S.target.value})})]})}),M.jsx("td",{children:M.jsx("button",{onClick:_,className:"icon-button icon-button--add",children:"+"})})]})]})]})}),M.jsx("div",{className:"settings-footer",children:M.jsx("button",{className:"save-button is-bulk",onClick:T,disabled:i,children:i?"Saving...":"Save Position Config"})})]})},gN=({userData:s,uid:t})=>{const[i,r]=gt.useState(s.gender||""),[l,c]=gt.useState(s.positions||[]),[d,p]=gt.useState(s.isActive??!0),[_,g]=gt.useState([]),[T,S]=gt.useState("idle");gt.useEffect(()=>{(async()=>{try{const Y=await Xr(zn(fn,"metadata","positions"));Y.exists()&&g(Y.data().list||[])}catch(Y){console.error(Y)}})()},[]);const b=async()=>{if(t){S("saving");try{const G={gender:i,positions:l,isActive:d};await Nh(zn(fn,"users",t),G),S("success"),setTimeout(()=>S("idle"),2e3)}catch(G){console.error(G),S("idle")}}},P=G=>{c(Y=>Y.includes(G)?Y.filter(W=>W!==G):[...Y,G])};return M.jsxs("section",{className:"settings-card",children:[M.jsxs("div",{className:"profile-readonly",children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Name:"})," ",s.name]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Email:"})," ",s.email]})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Gender"}),M.jsx("div",{className:"gender-toggle-group",children:["Male","Female"].map(G=>M.jsx("button",{onClick:()=>r(G),className:`pill pill--text ${G.toLowerCase()} ${i===G?"is-active":""}`,children:G},G))})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"My Positions"}),M.jsx("div",{className:"pill-group",children:_.map(G=>{const Y=l.includes(G.name);return M.jsxs("button",{onClick:()=>P(G.name),className:`pill pill--text ${Y?"is-active":""}`,style:{"--pos-colour":G.colour,"--pos-subtle-hover-color":`${G.colour}15`,...Y&&G.colour?{backgroundColor:G.colour,borderColor:G.colour}:{}},children:[M.jsx("span",{children:G.emoji})," ",G.name]},G.name)})})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{children:"Availability Status"}),M.jsxs("div",{className:"status-toggle-container",children:[M.jsx("button",{className:`toggle-switch ${d?"on":"off"}`,onClick:()=>p(!d),children:d?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),M.jsx("p",{className:"form-field-hint",children:"Turn off if you want to be hidden from the roster."})]})]}),M.jsxs("div",{className:"action-container",children:[M.jsx("button",{onClick:b,disabled:T!=="idle",className:`save-button ${T}`,children:T==="saving"?"Saving...":T==="success"?"Done ":"Update Profile"}),M.jsx("button",{onClick:()=>ro.signOut(),className:"logout-btn",children:"Logout"})]})]})},pN=()=>{const[s,t]=gt.useState([]),[i,r]=gt.useState([]),[l,c]=gt.useState(!1);gt.useEffect(()=>{(async()=>{const S=(await UC(bC(fn,"users"))).docs.map(P=>({...P.data(),id:P.id}));t(S);const b=await Xr(zn(fn,"metadata","positions"));b.exists()&&r(b.data().list||[])})()},[]);const d=(g,T)=>{t(S=>S.map(b=>{if(b.id!==g)return b;const P=b.positions||[],G=P.includes(T)?P.filter(Y=>Y!==T):[...P,T];return{...b,positions:G}}))},p=(g,T,S)=>{t(b=>b.map(P=>P.id===g?{...P,[T]:S}:P))},_=async()=>{c(!0);const g=kC(fn);s.forEach(T=>{const{id:S,...b}=T;g.update(zn(fn,"users",S),b)});try{await g.commit(),alert("All users updated successfully!")}catch(T){console.error(T),alert("Error saving users.")}finally{c(!1)}};return M.jsxs("div",{className:"admin-section",children:[M.jsx("div",{className:"app-table-container",children:M.jsxs("table",{className:"app-table",children:[M.jsx("thead",{children:M.jsxs("tr",{children:[M.jsx("th",{className:"w-user-name sticky-col",children:"Name"}),M.jsx("th",{className:"w-user-email",children:"Email"}),M.jsx("th",{className:"w-user-gender",children:"Gender"}),M.jsx("th",{className:"w-user-positions",children:"Positions"}),M.jsx("th",{className:"w-user-status-cols",children:"Active"}),M.jsx("th",{className:"w-user-status-cols",children:"Approved"}),M.jsx("th",{className:"w-user-status-cols",children:"Admin"})]})}),M.jsx("tbody",{children:s.map(g=>M.jsxs("tr",{children:[M.jsx("td",{className:"w-user-name sticky-col",children:M.jsx("input",{className:"form-input",value:g.name||"",onChange:T=>p(g.id,"name",T.target.value)})}),M.jsx("td",{className:"w-user-email",children:M.jsx("input",{className:"form-input--readonly",value:g.email||"",readOnly:!0})}),M.jsx("td",{className:"w-user-gender",children:M.jsxs("select",{className:"form-select",value:g.gender,onChange:T=>p(g.id,"gender",T.target.value),children:[M.jsx("option",{value:"",children:"-"}),M.jsx("option",{value:"Male",children:"Male"}),M.jsx("option",{value:"Female",children:"Female"})]})}),M.jsx("td",{className:"w-user-positions pos-pills-cell",children:M.jsx("div",{className:"pos-pills-wrapper",children:i.map(T=>{var b;const S=(b=g.positions)==null?void 0:b.includes(T.name);return M.jsx("button",{className:`pill pill--emoji ${S?"is-active":""}`,onClick:()=>d(g.id,T.name),style:{"--pos-subtle-hover-color":`${T.colour}15`,borderColor:S?T.colour:"transparent",backgroundColor:S?`${T.colour}20`:""},title:T.name,children:T.emoji},T.name)})})}),M.jsx("td",{className:"w-user-status-cols center",children:M.jsx("div",{className:`badge ${g.isActive?"badge--yes":"badge--no"}`,onClick:()=>p(g.id,"isActive",!g.isActive),children:g.isActive?"YES":"NO"})}),M.jsx("td",{className:"w-user-status-cols center",children:M.jsx("div",{className:`badge ${g.isApproved?"badge--yes":"badge--no"}`,onClick:()=>p(g.id,"isApproved",!g.isApproved),children:g.isApproved?"YES":"NO"})}),M.jsx("td",{className:"w-user-status-cols center",children:M.jsx("div",{className:`badge ${g.isAdmin?"badge--yes":"badge--no"}`,onClick:()=>p(g.id,"isAdmin",!g.isAdmin),children:g.isAdmin?"YES":"NO"})})]},g.id))})]})}),M.jsx("div",{className:"settings-footer",children:M.jsx("button",{className:"save-button is-bulk",onClick:_,disabled:l,children:l?"Saving Changes...":"Save All User Changes"})})]})},yN=({userData:s,uid:t,activeSection:i})=>M.jsxs("div",{className:"settings-container",children:[i===Ja.PROFILE&&M.jsx(gN,{userData:s,uid:t},t),i===Ja.USER_MANAGEMENT&&(s.isAdmin?M.jsx(pN,{}):M.jsx("p",{children:"Access Denied"})),i===Ja.POSITIONS&&(s.isAdmin?M.jsx(mN,{}):M.jsx("p",{children:"Access Denied"}))]}),_N=()=>{const{user:s,userData:t,loading:i}=F2(),[r,l]=gt.useState(wi.ROSTER),[c,d]=gt.useState(null),[p,_]=gt.useState(!1);return i?M.jsx(EE,{}):s?t?t&&!t.isApproved?M.jsx(fN,{user:t,uid:s.uid}):M.jsx(hN,{user:t,activeTab:r,isSidebarOpen:p,setSidebarOpen:_,onTabChange:g=>{g!==r&&(l(g),g===wi.SETTINGS?d(Ja.PROFILE):d(null))},activeSideItem:c,onSideItemChange:d,children:r===wi.ROSTER?M.jsx("div",{className:"roster-view",children:M.jsxs("div",{className:"table-placeholder",children:["Grid for ",c||"All Positions","..."]})}):M.jsx(yN,{userData:t,uid:s.uid,activeSection:c})}):M.jsx(EE,{}):M.jsx(dN,{})};US.createRoot(document.getElementById("root")).render(M.jsx(CS.StrictMode,{children:M.jsx(G2,{children:M.jsx(_N,{})})}));
