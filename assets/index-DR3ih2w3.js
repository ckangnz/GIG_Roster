var CI=Object.defineProperty;var RI=(n,e,t)=>e in n?CI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pg=(n,e,t)=>RI(n,typeof e!="symbol"?e+"":e,t);function II(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function iA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gg={exports:{}},ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function xI(){if(bb)return ec;bb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return ec.Fragment=e,ec.jsx=t,ec.jsxs=t,ec}var Sb;function NI(){return Sb||(Sb=1,gg.exports=xI()),gg.exports}var T=NI(),yg={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function DI(){if(Ab)return We;Ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,P={};function F(j,re,_e){this.props=j,this.context=re,this.refs=P,this.updater=_e||O}F.prototype.isReactComponent={},F.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=F.prototype;function G(j,re,_e){this.props=j,this.context=re,this.refs=P,this.updater=_e||O}var ee=G.prototype=new B;ee.constructor=G,H(ee,F.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray;function ne(){}var A={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(j,re,_e){var we=_e.ref;return{$$typeof:n,type:j,key:re,ref:we!==void 0?we:null,props:_e}}function M(j,re){return C(j.type,re,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function L(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(_e){return re[_e]})}var x=/\/+/g;function ge(j,re){return typeof j=="object"&&j!==null&&j.key!=null?L(""+j.key):re.toString(36)}function Te(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ne,ne):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,re,_e,we,le){var Se=typeof j;(Se==="undefined"||Se==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(Se){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0;break;case y:return xe=j._init,z(xe(j._payload),re,_e,we,le)}}if(xe)return le=le(j),xe=we===""?"."+ge(j,0):we,ie(le)?(_e="",xe!=null&&(_e=xe.replace(x,"$&/")+"/"),z(le,re,_e,"",function(at){return at})):le!=null&&(D(le)&&(le=M(le,_e+(le.key==null||j&&j.key===le.key?"":(""+le.key).replace(x,"$&/")+"/")+xe)),re.push(le)),1;xe=0;var ze=we===""?".":we+":";if(ie(j))for(var Be=0;Be<j.length;Be++)we=j[Be],Se=ze+ge(we,Be),xe+=z(we,re,_e,Se,le);else if(Be=w(j),typeof Be=="function")for(j=Be.call(j),Be=0;!(we=j.next()).done;)we=we.value,Se=ze+ge(we,Be++),xe+=z(we,re,_e,Se,le);else if(Se==="object"){if(typeof j.then=="function")return z(Te(j),re,_e,we,le);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function se(j,re,_e){if(j==null)return j;var we=[],le=0;return z(j,we,"","",function(Se){return re.call(_e,Se,le++)}),we}function ye(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(_e){(j._status===0||j._status===-1)&&(j._status=1,j._result=_e)},function(_e){(j._status===0||j._status===-1)&&(j._status=2,j._result=_e)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ee={map:se,forEach:function(j,re,_e){se(j,function(){re.apply(this,arguments)},_e)},count:function(j){var re=0;return se(j,function(){re++}),re},toArray:function(j){return se(j,function(re){return re})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return We.Activity=v,We.Children=Ee,We.Component=F,We.Fragment=t,We.Profiler=s,We.PureComponent=G,We.StrictMode=i,We.Suspense=m,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,We.__COMPILER_RUNTIME={__proto__:null,c:function(j){return A.H.useMemoCache(j)}},We.cache=function(j){return function(){return j.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(j,re,_e){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var we=H({},j.props),le=j.key;if(re!=null)for(Se in re.key!==void 0&&(le=""+re.key),re)!I.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(we[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)we.children=_e;else if(1<Se){for(var xe=Array(Se),ze=0;ze<Se;ze++)xe[ze]=arguments[ze+2];we.children=xe}return C(j.type,le,we)},We.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},We.createElement=function(j,re,_e){var we,le={},Se=null;if(re!=null)for(we in re.key!==void 0&&(Se=""+re.key),re)I.call(re,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(le[we]=re[we]);var xe=arguments.length-2;if(xe===1)le.children=_e;else if(1<xe){for(var ze=Array(xe),Be=0;Be<xe;Be++)ze[Be]=arguments[Be+2];le.children=ze}if(j&&j.defaultProps)for(we in xe=j.defaultProps,xe)le[we]===void 0&&(le[we]=xe[we]);return C(j,Se,le)},We.createRef=function(){return{current:null}},We.forwardRef=function(j){return{$$typeof:f,render:j}},We.isValidElement=D,We.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ye}},We.memo=function(j,re){return{$$typeof:p,type:j,compare:re===void 0?null:re}},We.startTransition=function(j){var re=A.T,_e={};A.T=_e;try{var we=j(),le=A.S;le!==null&&le(_e,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(ne,pe)}catch(Se){pe(Se)}finally{re!==null&&_e.types!==null&&(re.types=_e.types),A.T=re}},We.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},We.use=function(j){return A.H.use(j)},We.useActionState=function(j,re,_e){return A.H.useActionState(j,re,_e)},We.useCallback=function(j,re){return A.H.useCallback(j,re)},We.useContext=function(j){return A.H.useContext(j)},We.useDebugValue=function(){},We.useDeferredValue=function(j,re){return A.H.useDeferredValue(j,re)},We.useEffect=function(j,re){return A.H.useEffect(j,re)},We.useEffectEvent=function(j){return A.H.useEffectEvent(j)},We.useId=function(){return A.H.useId()},We.useImperativeHandle=function(j,re,_e){return A.H.useImperativeHandle(j,re,_e)},We.useInsertionEffect=function(j,re){return A.H.useInsertionEffect(j,re)},We.useLayoutEffect=function(j,re){return A.H.useLayoutEffect(j,re)},We.useMemo=function(j,re){return A.H.useMemo(j,re)},We.useOptimistic=function(j,re){return A.H.useOptimistic(j,re)},We.useReducer=function(j,re,_e){return A.H.useReducer(j,re,_e)},We.useRef=function(j){return A.H.useRef(j)},We.useState=function(j){return A.H.useState(j)},We.useSyncExternalStore=function(j,re,_e){return A.H.useSyncExternalStore(j,re,_e)},We.useTransition=function(){return A.H.useTransition()},We.version="19.2.4",We}var wb;function zd(){return wb||(wb=1,yg.exports=DI()),yg.exports}var V=zd();const aA=iA(V),OI=II({__proto__:null,default:aA},[V]);var _g={exports:{}},tc={},vg={exports:{}},Eg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function MI(){return Cb||(Cb=1,(function(n){function e(z,se){var ye=z.length;z.push(se);e:for(;0<ye;){var pe=ye-1>>>1,Ee=z[pe];if(0<s(Ee,se))z[pe]=se,z[ye]=Ee,ye=pe;else break e}}function t(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var se=z[0],ye=z.pop();if(ye!==se){z[0]=ye;e:for(var pe=0,Ee=z.length,j=Ee>>>1;pe<j;){var re=2*(pe+1)-1,_e=z[re],we=re+1,le=z[we];if(0>s(_e,ye))we<Ee&&0>s(le,_e)?(z[pe]=le,z[we]=ye,pe=we):(z[pe]=_e,z[re]=ye,pe=re);else if(we<Ee&&0>s(le,ye))z[pe]=le,z[we]=ye,pe=we;else break e}}return se}function s(z,se){var ye=z.sortIndex-se.sortIndex;return ye!==0?ye:z.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,v=null,S=3,w=!1,O=!1,H=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ee(z){for(var se=t(p);se!==null;){if(se.callback===null)i(p);else if(se.startTime<=z)i(p),se.sortIndex=se.expirationTime,e(m,se);else break;se=t(p)}}function ie(z){if(H=!1,ee(z),!O)if(t(m)!==null)O=!0,ne||(ne=!0,L());else{var se=t(p);se!==null&&Te(ie,se.startTime-z)}}var ne=!1,A=-1,I=5,C=-1;function M(){return P?!0:!(n.unstable_now()-C<I)}function D(){if(P=!1,ne){var z=n.unstable_now();C=z;var se=!0;try{e:{O=!1,H&&(H=!1,B(A),A=-1),w=!0;var ye=S;try{t:{for(ee(z),v=t(m);v!==null&&!(v.expirationTime>z&&M());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,S=v.priorityLevel;var Ee=pe(v.expirationTime<=z);if(z=n.unstable_now(),typeof Ee=="function"){v.callback=Ee,ee(z),se=!0;break t}v===t(m)&&i(m),ee(z)}else i(m);v=t(m)}if(v!==null)se=!0;else{var j=t(p);j!==null&&Te(ie,j.startTime-z),se=!1}}break e}finally{v=null,S=ye,w=!1}se=void 0}}finally{se?L():ne=!1}}}var L;if(typeof G=="function")L=function(){G(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ge=x.port2;x.port1.onmessage=D,L=function(){ge.postMessage(null)}}else L=function(){F(D,0)};function Te(z,se){A=F(function(){z(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(z){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ye=S;S=se;try{return z()}finally{S=ye}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(z,se){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ye=S;S=z;try{return se()}finally{S=ye}},n.unstable_scheduleCallback=function(z,se,ye){var pe=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?pe+ye:pe):ye=pe,z){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ye+Ee,z={id:y++,callback:se,priorityLevel:z,startTime:ye,expirationTime:Ee,sortIndex:-1},ye>pe?(z.sortIndex=ye,e(p,z),t(m)===null&&z===t(p)&&(H?(B(A),A=-1):H=!0,Te(ie,ye-pe))):(z.sortIndex=Ee,e(m,z),O||w||(O=!0,ne||(ne=!0,L()))),z},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(z){var se=S;return function(){var ye=S;S=se;try{return z.apply(this,arguments)}finally{S=ye}}}})(Eg)),Eg}var Rb;function PI(){return Rb||(Rb=1,vg.exports=MI()),vg.exports}var Tg={exports:{}},er={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function VI(){if(Ib)return er;Ib=1;var n=zd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return er.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,er.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},er.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},er.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},er.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},er.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:w}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:S,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},er.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},er.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},er.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},er.requestFormReset=function(m){i.d.r(m)},er.unstable_batchedUpdates=function(m,p){return m(p)},er.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},er.useFormStatus=function(){return c.H.useHostTransitionStatus()},er.version="19.2.4",er}var xb;function sA(){if(xb)return Tg.exports;xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=VI(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function LI(){if(Nb)return tc;Nb=1;var n=PI(),e=zd(),t=sA();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function f(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),r;if(g===u)return m(d),a;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var E=!1,R=d.child;R;){if(R===o){E=!0,o=d,u=g;break}if(R===u){E=!0,u=d,o=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===o){E=!0,o=g,u=d;break}if(R===u){E=!0,u=g,o=d;break}R=R.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=y(r),a!==null)return a;r=r.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case H:return"Fragment";case F:return"Profiler";case P:return"StrictMode";case ie:return"Suspense";case ne:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case G:return r.displayName||"Context";case B:return(r._context.displayName||"Context")+".Consumer";case ee:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return a=r.displayName||null,a!==null?a:ge(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return ge(r(a))}catch{}}return null}var Te=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},pe=[],Ee=-1;function j(r){return{current:r}}function re(r){0>Ee||(r.current=pe[Ee],pe[Ee]=null,Ee--)}function _e(r,a){Ee++,pe[Ee]=r.current,r.current=a}var we=j(null),le=j(null),Se=j(null),xe=j(null);function ze(r,a){switch(_e(Se,a),_e(le,r),_e(we,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?GT(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=GT(a),r=$T(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(we),_e(we,r)}function Be(){re(we),re(le),re(Se)}function at(r){r.memoizedState!==null&&_e(xe,r);var a=we.current,o=$T(a,r.type);a!==o&&(_e(le,r),_e(we,o))}function bt(r){le.current===r&&(re(we),re(le)),xe.current===r&&(re(xe),Xu._currentValue=ye)}var Ye,vt;function Mt(r){if(Ye===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Ye=a&&a[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+r+vt}var Qn=!1;function dn(r,a){if(!r||Qn)return"";Qn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(te){var J=te}Reflect.construct(r,[],he)}else{try{he.call()}catch(te){J=te}r.call(he.prototype)}}else{try{throw Error()}catch(te){J=te}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],R=g[1];if(E&&R){var U=E.split(`
`),X=R.split(`
`);for(d=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(u===U.length||d===X.length)for(u=U.length-1,d=X.length-1;1<=u&&0<=d&&U[u]!==X[d];)d--;for(;1<=u&&0<=d;u--,d--)if(U[u]!==X[d]){if(u!==1||d!==1)do if(u--,d--,0>d||U[u]!==X[d]){var ae=`
`+U[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=d);break}}}finally{Qn=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Mt(o):""}function sr(r,a){switch(r.tag){case 26:case 27:case 5:return Mt(r.type);case 16:return Mt("Lazy");case 13:return r.child!==a&&a!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return dn(r.type,!1);case 11:return dn(r.type.render,!1);case 1:return dn(r.type,!0);case 31:return Mt("Activity");default:return""}}function Xn(r){try{var a="",o=null;do a+=sr(r,o),o=r,r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Pt=Object.prototype.hasOwnProperty,Wt=n.unstable_scheduleCallback,Vt=n.unstable_cancelCallback,or=n.unstable_shouldYield,di=n.unstable_requestPaint,qt=n.unstable_now,lr=n.unstable_getCurrentPriorityLevel,Yr=n.unstable_ImmediatePriority,Wn=n.unstable_UserBlockingPriority,Jt=n.unstable_NormalPriority,bn=n.unstable_LowPriority,xi=n.unstable_IdlePriority,ue=n.log,ve=n.unstable_setDisableYieldValue,Ce=null,de=null;function De(r){if(typeof ue=="function"&&ve(r),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(Ce,r)}catch{}}var je=Math.clz32?Math.clz32:St,ln=Math.log,Et=Math.LN2;function St(r){return r>>>=0,r===0?32:31-(ln(r)/Et|0)|0}var xt=256,mn=262144,rn=4194304;function Qr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Nr(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var R=u&134217727;return R!==0?(u=R&~g,u!==0?d=Qr(u):(E&=R,E!==0?d=Qr(E):o||(o=R&~r,o!==0&&(d=Qr(o))))):(R=u&~g,R!==0?d=Qr(R):E!==0?d=Qr(E):o||(o=u&~r,o!==0&&(d=Qr(o)))),d===0?0:a!==0&&a!==d&&(a&g)===0&&(g=d&-d,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:d}function Dr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Oo(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(){var r=rn;return rn<<=1,(rn&62914560)===0&&(rn=4194304),r}function ur(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function Ni(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function lu(r,a,o,u,d,g){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var R=r.entanglements,U=r.expirationTimes,X=r.hiddenUpdates;for(o=E&~o;0<o;){var ae=31-je(o),he=1<<ae;R[ae]=0,U[ae]=-1;var J=X[ae];if(J!==null)for(X[ae]=null,ae=0;ae<J.length;ae++){var te=J[ae];te!==null&&(te.lane&=-536870913)}o&=~he}u!==0&&ea(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~a))}function ea(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-je(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function k(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-je(o),d=1<<u;d&a|r[u]&a&&(r[u]|=a),o&=~d}}function $(r,a){var o=a&-a;return o=(o&42)!==0?1:W(o),(o&(r.suspendedLanes|a))!==0?0:o}function W(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function me(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function be(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:pb(r.type))}function Oe(r,a){var o=se.p;try{return se.p=r,a()}finally{se.p=o}}var Ve=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Ve,Ie="__reactProps$"+Ve,Pe="__reactContainer$"+Ve,Ge="__reactEvents$"+Ve,Ue="__reactListeners$"+Ve,Qe="__reactHandles$"+Ve,st="__reactResources$"+Ve,kt="__reactMarker$"+Ve;function Zt(r){delete r[Ae],delete r[Ie],delete r[Ge],delete r[Ue],delete r[Qe]}function $t(r){var a=r[Ae];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Pe]||o[Ae]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=ZT(r);r!==null;){if(o=r[Ae])return o;r=ZT(r)}return a}r=o,o=r.parentNode}return null}function nt(r){if(r=r[Ae]||r[Pe]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Kt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Ln(r){var a=r[st];return a||(a=r[st]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Yt(r){r[kt]=!0}var yr=new Set,Jn={};function _r(r,a){Zn(r,a),Zn(r+"Capture",a)}function Zn(r,a){for(Jn[r]=a,r=0;r<a.length;r++)yr.add(a[r])}var Or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Di={},Oi={};function lt(r){return Pt.call(Oi,r)?!0:Pt.call(Di,r)?!1:Or.test(r)?Oi[r]=!0:(Di[r]=!0,!1)}function un(r,a,o){if(lt(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Sn(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function Ut(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}function rt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Mr(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ja(r,a,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return d.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ct(r){if(!r._valueTracker){var a=Mr(r)?"checked":"value";r._valueTracker=ja(r,a,""+r[a])}}function zs(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Mr(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Mi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Bs=/[\n"\\]/g;function vr(r){return r.replace(Bs,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Mo(r,a,o,u,d,g,E,R){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+rt(a)):r.value!==""+rt(a)&&(r.value=""+rt(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?uu(r,E,rt(a)):o!=null?uu(r,E,rt(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+rt(R):r.removeAttribute("name")}function oh(r,a,o,u,d,g,E,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Ct(r);return}o=o!=null?""+rt(o):"",a=a!=null?""+rt(a):o,R||a===r.value||(r.value=a),r.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=R?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),Ct(r)}function uu(r,a,o){a==="number"&&Mi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ka(r,a,o,u){if(r=r.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=a.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+rt(o),a=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}a!==null||r[d].disabled||(a=r[d])}a!==null&&(a.selected=!0)}}function lh(r,a,o){if(a!=null&&(a=""+rt(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+rt(o):""}function Ua(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Te(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=rt(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Ct(r)}function Er(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var uh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||uh.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function hu(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&o[d]!==u&&cu(r,d,u)}else for(var g in a)a.hasOwnProperty(g)&&cu(r,g,a[g])}function Po(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ch=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(r){return za.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function mi(){}var fu=null;function Xr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ba=null,Pi=null;function Hs(r){var a=nt(r);if(a&&(r=a.stateNode)){var o=r[Ie]||null;e:switch(r=a.stateNode,a.type){case"input":if(Mo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vr(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var d=u[Ie]||null;if(!d)throw Error(i(90));Mo(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&zs(u)}break e;case"textarea":lh(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&ka(r,!!o.multiple,a,!1)}}}var Lo=!1;function Ha(r,a,o){if(Lo)return r(a,o);Lo=!0;try{var u=r(a);return u}finally{if(Lo=!1,(Ba!==null||Pi!==null)&&(rf(),Ba&&(a=Ba,r=Pi,Pi=Ba=null,Hs(a),r)))for(a=0;a<r.length;a++)Hs(r[a])}}function pi(r,a){var o=r.stateNode;if(o===null)return null;var u=o[Ie]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Wr)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{Fs=!1}var Vi=null,du=null,qs=null;function mu(){if(qs)return qs;var r,a=du,o=a.length,u,d="value"in Vi?Vi.value:Vi.textContent,g=d.length;for(r=0;r<o&&a[r]===d[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===d[g-u];u++);return qs=d.slice(r,1<u?1-u:void 0)}function Gs(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ta(){return!0}function gi(){return!1}function Un(r){function a(o,u,d,g,E){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(o=r[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ta:gi,this.isPropagationStopped=gi,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),a}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Un(na),Fa=v({},na,{view:0,detail:0}),pu=Un(Fa),qa,jo,ji,ko=v({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ji&&(ji&&r.type==="mousemove"?(qa=r.screenX-ji.screenX,jo=r.screenY-ji.screenY):jo=qa=0,ji=r),qa)},movementY:function(r){return"movementY"in r?r.movementY:jo}}),gu=Un(ko),$s=v({},ko,{dataTransfer:0}),hh=Un($s),fh=v({},Fa,{relatedTarget:0}),Ks=Un(fh),yu=v({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Un(yu),Uo=v({},na,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),mh=Un(Uo),ph=v({},na,{data:0}),ki=Un(ph),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=_h[r])?!!a[r]:!1}function Ga(){return vh}var cr=v({},Fa,{key:function(r){if(r.key){var a=gh[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Gs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?yh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(r){return r.type==="keypress"?Gs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Gs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Eh=Un(cr),Th=v({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ra=Un(Th),h=v({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),_=Un(h),b=v({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=Un(b),Y=v({},ko,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Un(Y),Re=v({},na,{newState:0,oldState:0}),Ze=Un(Re),_n=[9,13,27,32],Rt=Wr&&"CompositionEvent"in window,an=null;Wr&&"documentMode"in document&&(an=document.documentMode);var Jr=Wr&&"TextEvent"in window&&!an,Ui=Wr&&(!Rt||an&&8<an&&11>=an),yi=" ",_i=!1;function Ys(r,a){switch(r){case"keyup":return _n.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Bo=!1;function XC(r,a){switch(r){case"compositionend":return zo(a);case"keypress":return a.which!==32?null:(_i=!0,yi);case"textInput":return r=a.data,r===yi&&_i?null:r;default:return null}}function WC(r,a){if(Bo)return r==="compositionend"||!Rt&&Ys(r,a)?(r=mu(),qs=du=Vi=null,Bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ui&&a.locale!=="ko"?null:a.data;default:return null}}var JC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nv(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!JC[r.type]:a==="textarea"}function rv(r,a,o,u){Ba?Pi?Pi.push(u):Pi=[u]:Ba=u,a=hf(a,"onChange"),0<a.length&&(o=new Li("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var _u=null,vu=null;function ZC(r){UT(r,0)}function bh(r){var a=Kt(r);if(zs(a))return r}function iv(r,a){if(r==="change")return a}var av=!1;if(Wr){var bm;if(Wr){var Sm="oninput"in document;if(!Sm){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),Sm=typeof sv.oninput=="function"}bm=Sm}else bm=!1;av=bm&&(!document.documentMode||9<document.documentMode)}function ov(){_u&&(_u.detachEvent("onpropertychange",lv),vu=_u=null)}function lv(r){if(r.propertyName==="value"&&bh(vu)){var a=[];rv(a,vu,r,Xr(r)),Ha(ZC,a)}}function eR(r,a,o){r==="focusin"?(ov(),_u=a,vu=o,_u.attachEvent("onpropertychange",lv)):r==="focusout"&&ov()}function tR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return bh(vu)}function nR(r,a){if(r==="click")return bh(a)}function rR(r,a){if(r==="input"||r==="change")return bh(a)}function iR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Pr=typeof Object.is=="function"?Object.is:iR;function Eu(r,a){if(Pr(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Pt.call(a,d)||!Pr(r[d],a[d]))return!1}return!0}function uv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cv(r,a){var o=uv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uv(o)}}function hv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?hv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function fv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Mi(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Mi(r.document)}return a}function Am(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var aR=Wr&&"documentMode"in document&&11>=document.documentMode,Ho=null,wm=null,Tu=null,Cm=!1;function dv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Cm||Ho==null||Ho!==Mi(u)||(u=Ho,"selectionStart"in u&&Am(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tu&&Eu(Tu,u)||(Tu=u,u=hf(wm,"onSelect"),0<u.length&&(a=new Li("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Ho)))}function Qs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Fo={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Rm={},mv={};Wr&&(mv=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Xs(r){if(Rm[r])return Rm[r];if(!Fo[r])return r;var a=Fo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in mv)return Rm[r]=a[o];return r}var pv=Xs("animationend"),gv=Xs("animationiteration"),yv=Xs("animationstart"),sR=Xs("transitionrun"),oR=Xs("transitionstart"),lR=Xs("transitioncancel"),_v=Xs("transitionend"),vv=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function vi(r,a){vv.set(r,a),_r(a,[r])}var Sh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Zr=[],qo=0,xm=0;function Ah(){for(var r=qo,a=xm=qo=0;a<r;){var o=Zr[a];Zr[a++]=null;var u=Zr[a];Zr[a++]=null;var d=Zr[a];Zr[a++]=null;var g=Zr[a];if(Zr[a++]=null,u!==null&&d!==null){var E=u.pending;E===null?d.next=d:(d.next=E.next,E.next=d),u.pending=d}g!==0&&Ev(o,d,g)}}function wh(r,a,o,u){Zr[qo++]=r,Zr[qo++]=a,Zr[qo++]=o,Zr[qo++]=u,xm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Nm(r,a,o,u){return wh(r,a,o,u),Ch(r)}function Ws(r,a){return wh(r,null,null,a),Ch(r)}function Ev(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&a!==null&&(d=31-je(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[a]:u.push(a),a.lane=o|536870912),g):null}function Ch(r){if(50<Fu)throw Fu=0,Up=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Go={};function uR(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(r,a,o,u){return new uR(r,a,o,u)}function Dm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ia(r,a){var o=r.alternate;return o===null?(o=Vr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Tv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Rh(r,a,o,u,d,g){var E=0;if(u=r,typeof r=="function")Dm(r)&&(E=1);else if(typeof r=="string")E=mI(r,o,we.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Vr(31,o,a,d),r.elementType=C,r.lanes=g,r;case H:return Js(o.children,d,g,a);case P:E=8,d|=24;break;case F:return r=Vr(12,o,a,d|2),r.elementType=F,r.lanes=g,r;case ie:return r=Vr(13,o,a,d),r.elementType=ie,r.lanes=g,r;case ne:return r=Vr(19,o,a,d),r.elementType=ne,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:E=10;break e;case B:E=9;break e;case ee:E=11;break e;case A:E=14;break e;case I:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Vr(E,o,a,d),a.elementType=r,a.type=u,a.lanes=g,a}function Js(r,a,o,u){return r=Vr(7,r,u,a),r.lanes=o,r}function Om(r,a,o){return r=Vr(6,r,null,a),r.lanes=o,r}function bv(r){var a=Vr(18,null,null,0);return a.stateNode=r,a}function Mm(r,a,o){return a=Vr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Sv=new WeakMap;function ei(r,a){if(typeof r=="object"&&r!==null){var o=Sv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Xn(a)},Sv.set(r,a),a)}return{value:r,source:a,stack:Xn(a)}}var $o=[],Ko=0,Ih=null,bu=0,ti=[],ni=0,$a=null,zi=1,Bi="";function aa(r,a){$o[Ko++]=bu,$o[Ko++]=Ih,Ih=r,bu=a}function Av(r,a,o){ti[ni++]=zi,ti[ni++]=Bi,ti[ni++]=$a,$a=r;var u=zi;r=Bi;var d=32-je(u)-1;u&=~(1<<d),o+=1;var g=32-je(a)+d;if(30<g){var E=d-d%5;g=(u&(1<<E)-1).toString(32),u>>=E,d-=E,zi=1<<32-je(a)+d|o<<d|u,Bi=g+r}else zi=1<<g|o<<d|u,Bi=r}function Pm(r){r.return!==null&&(aa(r,1),Av(r,1,0))}function Vm(r){for(;r===Ih;)Ih=$o[--Ko],$o[Ko]=null,bu=$o[--Ko],$o[Ko]=null;for(;r===$a;)$a=ti[--ni],ti[ni]=null,Bi=ti[--ni],ti[ni]=null,zi=ti[--ni],ti[ni]=null}function wv(r,a){ti[ni++]=zi,ti[ni++]=Bi,ti[ni++]=$a,zi=a.id,Bi=a.overflow,$a=r}var zn=null,en=null,_t=!1,Ka=null,ri=!1,Lm=Error(i(519));function Ya(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Su(ei(a,r)),Lm}function Cv(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[Ae]=r,a[Ie]=u,o){case"dialog":ct("cancel",a),ct("close",a);break;case"iframe":case"object":case"embed":ct("load",a);break;case"video":case"audio":for(o=0;o<Gu.length;o++)ct(Gu[o],a);break;case"source":ct("error",a);break;case"img":case"image":case"link":ct("error",a),ct("load",a);break;case"details":ct("toggle",a);break;case"input":ct("invalid",a),oh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ct("invalid",a);break;case"textarea":ct("invalid",a),Ua(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||FT(a.textContent,o)?(u.popover!=null&&(ct("beforetoggle",a),ct("toggle",a)),u.onScroll!=null&&ct("scroll",a),u.onScrollEnd!=null&&ct("scrollend",a),u.onClick!=null&&(a.onclick=mi),a=!0):a=!1,a||Ya(r,!0)}function Rv(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:zn=zn.return}}function Yo(r){if(r!==zn)return!1;if(!_t)return Rv(r),_t=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||eg(r.type,r.memoizedProps)),o=!o),o&&en&&Ya(r),Rv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));en=JT(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));en=JT(r)}else a===27?(a=en,ls(r.type)?(r=ag,ag=null,en=r):en=a):en=zn?ai(r.stateNode.nextSibling):null;return!0}function Zs(){en=zn=null,_t=!1}function jm(){var r=Ka;return r!==null&&(Ar===null?Ar=r:Ar.push.apply(Ar,r),Ka=null),r}function Su(r){Ka===null?Ka=[r]:Ka.push(r)}var km=j(null),eo=null,sa=null;function Qa(r,a,o){_e(km,a._currentValue),a._currentValue=o}function oa(r){r._currentValue=km.current,re(km)}function Um(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function zm(r,a,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var E=d.child;g=g.firstContext;e:for(;g!==null;){var R=g;g=d;for(var U=0;U<a.length;U++)if(R.context===a[U]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Um(g.return,o,r),u||(E=null);break e}g=R.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(i(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Um(E,o,r),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===r){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function Qo(r,a,o,u){r=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=d.type;Pr(d.pendingProps.value,E.value)||(r!==null?r.push(R):r=[R])}}else if(d===xe.current){if(E=d.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Xu):r=[Xu])}d=d.return}r!==null&&zm(a,r,o,u),a.flags|=262144}function xh(r){for(r=r.firstContext;r!==null;){if(!Pr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function to(r){eo=r,sa=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Bn(r){return Iv(eo,r)}function Nh(r,a){return eo===null&&to(r),Iv(r,a)}function Iv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},sa===null){if(r===null)throw Error(i(308));sa=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else sa=sa.next=a;return o}var cR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},hR=n.unstable_scheduleCallback,fR=n.unstable_NormalPriority,An={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new cR,data:new Map,refCount:0}}function Au(r){r.refCount--,r.refCount===0&&hR(fR,function(){r.controller.abort()})}var wu=null,Hm=0,Xo=0,Wo=null;function dR(r,a){if(wu===null){var o=wu=[];Hm=0,Xo=Gp(),Wo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Hm++,a.then(xv,xv),a}function xv(){if(--Hm===0&&wu!==null){Wo!==null&&(Wo.status="fulfilled");var r=wu;wu=null,Xo=0,Wo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function mR(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Nv=z.S;z.S=function(r,a){dT=qt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&dR(r,a),Nv!==null&&Nv(r,a)};var no=j(null);function Fm(){var r=no.current;return r!==null?r:Gt.pooledCache}function Dh(r,a){a===null?_e(no,no.current):_e(no,a.pool)}function Dv(){var r=Fm();return r===null?null:{parent:An._currentValue,pool:r}}var Jo=Error(i(460)),qm=Error(i(474)),Oh=Error(i(542)),Mh={then:function(){}};function Ov(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Mv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(mi,mi),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Vv(r),r;default:if(typeof a.status=="string")a.then(mi,mi);else{if(r=Gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Vv(r),r}throw io=a,Jo}}function ro(r){try{var a=r._init;return a(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(io=o,Jo):o}}var io=null;function Pv(){if(io===null)throw Error(i(459));var r=io;return io=null,r}function Vv(r){if(r===Jo||r===Oh)throw Error(i(483))}var Zo=null,Cu=0;function Ph(r){var a=Cu;return Cu+=1,Zo===null&&(Zo=[]),Mv(Zo,r,a)}function Ru(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Vh(r,a){throw a.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Lv(r){function a(K,q){if(r){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function o(K,q){if(!r)return null;for(;q!==null;)a(K,q),q=q.sibling;return null}function u(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function d(K,q){return K=ia(K,q),K.index=0,K.sibling=null,K}function g(K,q,Q){return K.index=Q,r?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=67108866,q):Q):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function E(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function R(K,q,Q,oe){return q===null||q.tag!==6?(q=Om(Q,K.mode,oe),q.return=K,q):(q=d(q,Q),q.return=K,q)}function U(K,q,Q,oe){var He=Q.type;return He===H?ae(K,q,Q.props.children,oe,Q.key):q!==null&&(q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===I&&ro(He)===q.type)?(q=d(q,Q.props),Ru(q,Q),q.return=K,q):(q=Rh(Q.type,Q.key,Q.props,null,K.mode,oe),Ru(q,Q),q.return=K,q)}function X(K,q,Q,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Mm(Q,K.mode,oe),q.return=K,q):(q=d(q,Q.children||[]),q.return=K,q)}function ae(K,q,Q,oe,He){return q===null||q.tag!==7?(q=Js(Q,K.mode,oe,He),q.return=K,q):(q=d(q,Q),q.return=K,q)}function he(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Om(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return Q=Rh(q.type,q.key,q.props,null,K.mode,Q),Ru(Q,q),Q.return=K,Q;case O:return q=Mm(q,K.mode,Q),q.return=K,q;case I:return q=ro(q),he(K,q,Q)}if(Te(q)||L(q))return q=Js(q,K.mode,Q,null),q.return=K,q;if(typeof q.then=="function")return he(K,Ph(q),Q);if(q.$$typeof===G)return he(K,Nh(K,q),Q);Vh(K,q)}return null}function J(K,q,Q,oe){var He=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return He!==null?null:R(K,q,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===He?U(K,q,Q,oe):null;case O:return Q.key===He?X(K,q,Q,oe):null;case I:return Q=ro(Q),J(K,q,Q,oe)}if(Te(Q)||L(Q))return He!==null?null:ae(K,q,Q,oe,null);if(typeof Q.then=="function")return J(K,q,Ph(Q),oe);if(Q.$$typeof===G)return J(K,q,Nh(K,Q),oe);Vh(K,Q)}return null}function te(K,q,Q,oe,He){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return K=K.get(Q)||null,R(q,K,""+oe,He);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case w:return K=K.get(oe.key===null?Q:oe.key)||null,U(q,K,oe,He);case O:return K=K.get(oe.key===null?Q:oe.key)||null,X(q,K,oe,He);case I:return oe=ro(oe),te(K,q,Q,oe,He)}if(Te(oe)||L(oe))return K=K.get(Q)||null,ae(q,K,oe,He,null);if(typeof oe.then=="function")return te(K,q,Q,Ph(oe),He);if(oe.$$typeof===G)return te(K,q,Q,Nh(q,oe),He);Vh(q,oe)}return null}function Le(K,q,Q,oe){for(var He=null,At=null,ke=q,it=q=0,dt=null;ke!==null&&it<Q.length;it++){ke.index>it?(dt=ke,ke=null):dt=ke.sibling;var wt=J(K,ke,Q[it],oe);if(wt===null){ke===null&&(ke=dt);break}r&&ke&&wt.alternate===null&&a(K,ke),q=g(wt,q,it),At===null?He=wt:At.sibling=wt,At=wt,ke=dt}if(it===Q.length)return o(K,ke),_t&&aa(K,it),He;if(ke===null){for(;it<Q.length;it++)ke=he(K,Q[it],oe),ke!==null&&(q=g(ke,q,it),At===null?He=ke:At.sibling=ke,At=ke);return _t&&aa(K,it),He}for(ke=u(ke);it<Q.length;it++)dt=te(ke,K,it,Q[it],oe),dt!==null&&(r&&dt.alternate!==null&&ke.delete(dt.key===null?it:dt.key),q=g(dt,q,it),At===null?He=dt:At.sibling=dt,At=dt);return r&&ke.forEach(function(ds){return a(K,ds)}),_t&&aa(K,it),He}function qe(K,q,Q,oe){if(Q==null)throw Error(i(151));for(var He=null,At=null,ke=q,it=q=0,dt=null,wt=Q.next();ke!==null&&!wt.done;it++,wt=Q.next()){ke.index>it?(dt=ke,ke=null):dt=ke.sibling;var ds=J(K,ke,wt.value,oe);if(ds===null){ke===null&&(ke=dt);break}r&&ke&&ds.alternate===null&&a(K,ke),q=g(ds,q,it),At===null?He=ds:At.sibling=ds,At=ds,ke=dt}if(wt.done)return o(K,ke),_t&&aa(K,it),He;if(ke===null){for(;!wt.done;it++,wt=Q.next())wt=he(K,wt.value,oe),wt!==null&&(q=g(wt,q,it),At===null?He=wt:At.sibling=wt,At=wt);return _t&&aa(K,it),He}for(ke=u(ke);!wt.done;it++,wt=Q.next())wt=te(ke,K,it,wt.value,oe),wt!==null&&(r&&wt.alternate!==null&&ke.delete(wt.key===null?it:wt.key),q=g(wt,q,it),At===null?He=wt:At.sibling=wt,At=wt);return r&&ke.forEach(function(wI){return a(K,wI)}),_t&&aa(K,it),He}function Ft(K,q,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===H&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var He=Q.key;q!==null;){if(q.key===He){if(He=Q.type,He===H){if(q.tag===7){o(K,q.sibling),oe=d(q,Q.props.children),oe.return=K,K=oe;break e}}else if(q.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===I&&ro(He)===q.type){o(K,q.sibling),oe=d(q,Q.props),Ru(oe,Q),oe.return=K,K=oe;break e}o(K,q);break}else a(K,q);q=q.sibling}Q.type===H?(oe=Js(Q.props.children,K.mode,oe,Q.key),oe.return=K,K=oe):(oe=Rh(Q.type,Q.key,Q.props,null,K.mode,oe),Ru(oe,Q),oe.return=K,K=oe)}return E(K);case O:e:{for(He=Q.key;q!==null;){if(q.key===He)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){o(K,q.sibling),oe=d(q,Q.children||[]),oe.return=K,K=oe;break e}else{o(K,q);break}else a(K,q);q=q.sibling}oe=Mm(Q,K.mode,oe),oe.return=K,K=oe}return E(K);case I:return Q=ro(Q),Ft(K,q,Q,oe)}if(Te(Q))return Le(K,q,Q,oe);if(L(Q)){if(He=L(Q),typeof He!="function")throw Error(i(150));return Q=He.call(Q),qe(K,q,Q,oe)}if(typeof Q.then=="function")return Ft(K,q,Ph(Q),oe);if(Q.$$typeof===G)return Ft(K,q,Nh(K,Q),oe);Vh(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(o(K,q.sibling),oe=d(q,Q),oe.return=K,K=oe):(o(K,q),oe=Om(Q,K.mode,oe),oe.return=K,K=oe),E(K)):o(K,q)}return function(K,q,Q,oe){try{Cu=0;var He=Ft(K,q,Q,oe);return Zo=null,He}catch(ke){if(ke===Jo||ke===Oh)throw ke;var At=Vr(29,ke,null,K.mode);return At.lanes=oe,At.return=K,At}finally{}}}var ao=Lv(!0),jv=Lv(!1),Xa=!1;function Gm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $m(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Wa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ja(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(It&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=Ch(r),Ev(r,null,o),a}return wh(r,u,a,o),Ch(r)}function Iu(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,k(r,o)}}function Km(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?d=g=a:g=g.next=a}else d=g=a;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Ym=!1;function xu(){if(Ym){var r=Wo;if(r!==null)throw r}}function Nu(r,a,o,u){Ym=!1;var d=r.updateQueue;Xa=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var U=R,X=U.next;U.next=null,E===null?g=X:E.next=X,E=U;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,R=ae.lastBaseUpdate,R!==E&&(R===null?ae.firstBaseUpdate=X:R.next=X,ae.lastBaseUpdate=U))}if(g!==null){var he=d.baseState;E=0,ae=X=U=null,R=g;do{var J=R.lane&-536870913,te=J!==R.lane;if(te?(ft&J)===J:(u&J)===J){J!==0&&J===Xo&&(Ym=!0),ae!==null&&(ae=ae.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Le=r,qe=R;J=a;var Ft=o;switch(qe.tag){case 1:if(Le=qe.payload,typeof Le=="function"){he=Le.call(Ft,he,J);break e}he=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=qe.payload,J=typeof Le=="function"?Le.call(Ft,he,J):Le,J==null)break e;he=v({},he,J);break e;case 2:Xa=!0}}J=R.callback,J!==null&&(r.flags|=64,te&&(r.flags|=8192),te=d.callbacks,te===null?d.callbacks=[J]:te.push(J))}else te={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ae===null?(X=ae=te,U=he):ae=ae.next=te,E|=J;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;te=R,R=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);ae===null&&(U=he),d.baseState=U,d.firstBaseUpdate=X,d.lastBaseUpdate=ae,g===null&&(d.shared.lanes=0),rs|=E,r.lanes=E,r.memoizedState=he}}function kv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Uv(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)kv(o[r],a)}var el=j(null),Lh=j(0);function zv(r,a){r=ga,_e(Lh,r),_e(el,a),ga=r|a.baseLanes}function Qm(){_e(Lh,ga),_e(el,el.current)}function Xm(){ga=Lh.current,re(el),re(Lh)}var Lr=j(null),ii=null;function Za(r){var a=r.alternate;_e(vn,vn.current&1),_e(Lr,r),ii===null&&(a===null||el.current!==null||a.memoizedState!==null)&&(ii=r)}function Wm(r){_e(vn,vn.current),_e(Lr,r),ii===null&&(ii=r)}function Bv(r){r.tag===22?(_e(vn,vn.current),_e(Lr,r),ii===null&&(ii=r)):es()}function es(){_e(vn,vn.current),_e(Lr,Lr.current)}function jr(r){re(Lr),ii===r&&(ii=null),re(vn)}var vn=j(0);function jh(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||rg(o)||ig(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var la=0,et=null,Bt=null,wn=null,kh=!1,tl=!1,so=!1,Uh=0,Du=0,nl=null,pR=0;function pn(){throw Error(i(321))}function Jm(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Pr(r[o],a[o]))return!1;return!0}function Zm(r,a,o,u,d,g){return la=g,et=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=r===null||r.memoizedState===null?AE:mp,so=!1,g=o(u,d),so=!1,tl&&(g=Fv(a,o,u,d)),Hv(r),g}function Hv(r){z.H=Pu;var a=Bt!==null&&Bt.next!==null;if(la=0,wn=Bt=et=null,kh=!1,Du=0,nl=null,a)throw Error(i(300));r===null||Cn||(r=r.dependencies,r!==null&&xh(r)&&(Cn=!0))}function Fv(r,a,o,u){et=r;var d=0;do{if(tl&&(nl=null),Du=0,tl=!1,25<=d)throw Error(i(301));if(d+=1,wn=Bt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=wE,g=a(o,u)}while(tl);return g}function gR(){var r=z.H,a=r.useState()[0];return a=typeof a.then=="function"?Ou(a):a,r=r.useState()[0],(Bt!==null?Bt.memoizedState:null)!==r&&(et.flags|=1024),a}function ep(){var r=Uh!==0;return Uh=0,r}function tp(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function np(r){if(kh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}kh=!1}la=0,wn=Bt=et=null,tl=!1,Du=Uh=0,nl=null}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?et.memoizedState=wn=r:wn=wn.next=r,wn}function En(){if(Bt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var a=wn===null?et.memoizedState:wn.next;if(a!==null)wn=a,Bt=r;else{if(r===null)throw et.alternate===null?Error(i(467)):Error(i(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},wn===null?et.memoizedState=wn=r:wn=wn.next=r}return wn}function zh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(r){var a=Du;return Du+=1,nl===null&&(nl=[]),r=Mv(nl,r,a),a=et,(wn===null?a.memoizedState:wn.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?AE:mp),r}function Bh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ou(r);if(r.$$typeof===G)return Bn(r)}throw Error(i(438,String(r)))}function rp(r){var a=null,o=et.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=zh(),et.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=M;return a.index++,o}function ua(r,a){return typeof a=="function"?a(r):a}function Hh(r){var a=En();return ip(a,Bt,r)}function ip(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}a.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{a=d.next;var R=E=null,U=null,X=a,ae=!1;do{var he=X.lane&-536870913;if(he!==X.lane?(ft&he)===he:(la&he)===he){var J=X.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),he===Xo&&(ae=!0);else if((la&J)===J){X=X.next,J===Xo&&(ae=!0);continue}else he={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(R=U=he,E=g):U=U.next=he,et.lanes|=J,rs|=J;he=X.action,so&&o(g,he),g=X.hasEagerState?X.eagerState:o(g,he)}else J={lane:he,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(R=U=J,E=g):U=U.next=J,et.lanes|=he,rs|=he;X=X.next}while(X!==null&&X!==a);if(U===null?E=g:U.next=R,!Pr(g,r.memoizedState)&&(Cn=!0,ae&&(o=Wo,o!==null)))throw o;r.memoizedState=g,r.baseState=E,r.baseQueue=U,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function ap(r){var a=En(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=a.memoizedState;if(d!==null){o.pending=null;var E=d=d.next;do g=r(g,E.action),E=E.next;while(E!==d);Pr(g,a.memoizedState)||(Cn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function qv(r,a,o){var u=et,d=En(),g=_t;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Pr((Bt||d).memoizedState,o);if(E&&(d.memoizedState=o,Cn=!0),d=d.queue,lp(Kv.bind(null,u,d,r),[r]),d.getSnapshot!==a||E||wn!==null&&wn.memoizedState.tag&1){if(u.flags|=2048,rl(9,{destroy:void 0},$v.bind(null,u,d,o,a),null),Gt===null)throw Error(i(349));g||(la&127)!==0||Gv(u,a,o)}return o}function Gv(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=et.updateQueue,a===null?(a=zh(),et.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function $v(r,a,o,u){a.value=o,a.getSnapshot=u,Yv(a)&&Qv(r)}function Kv(r,a,o){return o(function(){Yv(a)&&Qv(r)})}function Yv(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Pr(r,o)}catch{return!0}}function Qv(r){var a=Ws(r,2);a!==null&&wr(a,r,2)}function sp(r){var a=hr();if(typeof r=="function"){var o=r;if(r=o(),so){De(!0);try{o()}finally{De(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:r},a}function Xv(r,a,o,u){return r.baseState=o,ip(r,Bt,typeof u=="function"?u:ua)}function yR(r,a,o,u,d){if(Gh(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};z.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,Wv(a,g)):(g.next=o.next,a.pending=o.next=g)}}function Wv(r,a){var o=a.action,u=a.payload,d=r.state;if(a.isTransition){var g=z.T,E={};z.T=E;try{var R=o(d,u),U=z.S;U!==null&&U(E,R),Jv(r,a,R)}catch(X){op(r,a,X)}finally{g!==null&&E.types!==null&&(g.types=E.types),z.T=g}}else try{g=o(d,u),Jv(r,a,g)}catch(X){op(r,a,X)}}function Jv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Zv(r,a,u)},function(u){return op(r,a,u)}):Zv(r,a,o)}function Zv(r,a,o){a.status="fulfilled",a.value=o,eE(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,Wv(r,o)))}function op(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,eE(a),a=a.next;while(a!==u)}r.action=null}function eE(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function tE(r,a){return a}function nE(r,a){if(_t){var o=Gt.formState;if(o!==null){e:{var u=et;if(_t){if(en){t:{for(var d=en,g=ri;d.nodeType!==8;){if(!g){d=null;break t}if(d=ai(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){en=ai(d.nextSibling),u=d.data==="F!";break e}}Ya(u)}u=!1}u&&(a=o[0])}}return o=hr(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tE,lastRenderedState:a},o.queue=u,o=TE.bind(null,et,u),u.dispatch=o,u=sp(!1),g=dp.bind(null,et,!1,u.queue),u=hr(),d={state:a,dispatch:null,action:r,pending:null},u.queue=d,o=yR.bind(null,et,d,g,o),d.dispatch=o,u.memoizedState=r,[a,o,!1]}function rE(r){var a=En();return iE(a,Bt,r)}function iE(r,a,o){if(a=ip(r,a,tE)[0],r=Hh(ua)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ou(a)}catch(E){throw E===Jo?Oh:E}else u=a;a=En();var d=a.queue,g=d.dispatch;return o!==a.memoizedState&&(et.flags|=2048,rl(9,{destroy:void 0},_R.bind(null,d,o),null)),[u,g,r]}function _R(r,a){r.action=a}function aE(r){var a=En(),o=Bt;if(o!==null)return iE(a,o,r);En(),a=a.memoizedState,o=En();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function rl(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=et.updateQueue,a===null&&(a=zh(),et.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function sE(){return En().memoizedState}function Fh(r,a,o,u){var d=hr();et.flags|=r,d.memoizedState=rl(1|a,{destroy:void 0},o,u===void 0?null:u)}function qh(r,a,o,u){var d=En();u=u===void 0?null:u;var g=d.memoizedState.inst;Bt!==null&&u!==null&&Jm(u,Bt.memoizedState.deps)?d.memoizedState=rl(a,g,o,u):(et.flags|=r,d.memoizedState=rl(1|a,g,o,u))}function oE(r,a){Fh(8390656,8,r,a)}function lp(r,a){qh(2048,8,r,a)}function vR(r){et.flags|=4;var a=et.updateQueue;if(a===null)a=zh(),et.updateQueue=a,a.events=[r];else{var o=a.events;o===null?a.events=[r]:o.push(r)}}function lE(r){var a=En().memoizedState;return vR({ref:a,nextImpl:r}),function(){if((It&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function uE(r,a){return qh(4,2,r,a)}function cE(r,a){return qh(4,4,r,a)}function hE(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function fE(r,a,o){o=o!=null?o.concat([r]):null,qh(4,4,hE.bind(null,a,r),o)}function up(){}function dE(r,a){var o=En();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Jm(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function mE(r,a){var o=En();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Jm(a,u[1]))return u[0];if(u=r(),so){De(!0);try{r()}finally{De(!1)}}return o.memoizedState=[u,a],u}function cp(r,a,o){return o===void 0||(la&1073741824)!==0&&(ft&261930)===0?r.memoizedState=a:(r.memoizedState=o,r=pT(),et.lanes|=r,rs|=r,o)}function pE(r,a,o,u){return Pr(o,a)?o:el.current!==null?(r=cp(r,o,u),Pr(r,a)||(Cn=!0),r):(la&42)===0||(la&1073741824)!==0&&(ft&261930)===0?(Cn=!0,r.memoizedState=o):(r=pT(),et.lanes|=r,rs|=r,a)}function gE(r,a,o,u,d){var g=se.p;se.p=g!==0&&8>g?g:8;var E=z.T,R={};z.T=R,dp(r,!1,a,o);try{var U=d(),X=z.S;if(X!==null&&X(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=mR(U,u);Mu(r,a,ae,zr(r))}else Mu(r,a,u,zr(r))}catch(he){Mu(r,a,{then:function(){},status:"rejected",reason:he},zr())}finally{se.p=g,E!==null&&R.types!==null&&(E.types=R.types),z.T=E}}function ER(){}function hp(r,a,o,u){if(r.tag!==5)throw Error(i(476));var d=yE(r).queue;gE(r,d,a,ye,o===null?ER:function(){return _E(r),o(u)})}function yE(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:ye},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function _E(r){var a=yE(r);a.next===null&&(a=r.alternate.memoizedState),Mu(r,a.next.queue,{},zr())}function fp(){return Bn(Xu)}function vE(){return En().memoizedState}function EE(){return En().memoizedState}function TR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=zr();r=Wa(o);var u=Ja(a,r,o);u!==null&&(wr(u,a,o),Iu(u,a,o)),a={cache:Bm()},r.payload=a;return}a=a.return}}function bR(r,a,o){var u=zr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gh(r)?bE(a,o):(o=Nm(r,a,o,u),o!==null&&(wr(o,r,u),SE(o,a,u)))}function TE(r,a,o){var u=zr();Mu(r,a,o,u)}function Mu(r,a,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gh(r))bE(a,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var E=a.lastRenderedState,R=g(E,o);if(d.hasEagerState=!0,d.eagerState=R,Pr(R,E))return wh(r,a,d,0),Gt===null&&Ah(),!1}catch{}finally{}if(o=Nm(r,a,d,u),o!==null)return wr(o,r,u),SE(o,a,u),!0}return!1}function dp(r,a,o,u){if(u={lane:2,revertLane:Gp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gh(r)){if(a)throw Error(i(479))}else a=Nm(r,o,u,2),a!==null&&wr(a,r,2)}function Gh(r){var a=r.alternate;return r===et||a!==null&&a===et}function bE(r,a){tl=kh=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function SE(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,k(r,o)}}var Pu={readContext:Bn,use:Bh,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};Pu.useEffectEvent=pn;var AE={readContext:Bn,use:Bh,useCallback:function(r,a){return hr().memoizedState=[r,a===void 0?null:a],r},useContext:Bn,useEffect:oE,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,Fh(4194308,4,hE.bind(null,a,r),o)},useLayoutEffect:function(r,a){return Fh(4194308,4,r,a)},useInsertionEffect:function(r,a){Fh(4,2,r,a)},useMemo:function(r,a){var o=hr();a=a===void 0?null:a;var u=r();if(so){De(!0);try{r()}finally{De(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=hr();if(o!==void 0){var d=o(a);if(so){De(!0);try{o(a)}finally{De(!1)}}}else d=a;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=bR.bind(null,et,r),[u.memoizedState,r]},useRef:function(r){var a=hr();return r={current:r},a.memoizedState=r},useState:function(r){r=sp(r);var a=r.queue,o=TE.bind(null,et,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:up,useDeferredValue:function(r,a){var o=hr();return cp(o,r,a)},useTransition:function(){var r=sp(!1);return r=gE.bind(null,et,r.queue,!0,!1),hr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=et,d=hr();if(_t){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Gt===null)throw Error(i(349));(ft&127)!==0||Gv(u,a,o)}d.memoizedState=o;var g={value:o,getSnapshot:a};return d.queue=g,oE(Kv.bind(null,u,g,r),[r]),u.flags|=2048,rl(9,{destroy:void 0},$v.bind(null,u,g,o,a),null),o},useId:function(){var r=hr(),a=Gt.identifierPrefix;if(_t){var o=Bi,u=zi;o=(u&~(1<<32-je(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Uh++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=pR++,a="_"+a+"r_"+o.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:fp,useFormState:nE,useActionState:nE,useOptimistic:function(r){var a=hr();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=dp.bind(null,et,!0,o),o.dispatch=a,[r,a]},useMemoCache:rp,useCacheRefresh:function(){return hr().memoizedState=TR.bind(null,et)},useEffectEvent:function(r){var a=hr(),o={impl:r};return a.memoizedState=o,function(){if((It&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},mp={readContext:Bn,use:Bh,useCallback:dE,useContext:Bn,useEffect:lp,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:mE,useReducer:Hh,useRef:sE,useState:function(){return Hh(ua)},useDebugValue:up,useDeferredValue:function(r,a){var o=En();return pE(o,Bt.memoizedState,r,a)},useTransition:function(){var r=Hh(ua)[0],a=En().memoizedState;return[typeof r=="boolean"?r:Ou(r),a]},useSyncExternalStore:qv,useId:vE,useHostTransitionStatus:fp,useFormState:rE,useActionState:rE,useOptimistic:function(r,a){var o=En();return Xv(o,Bt,r,a)},useMemoCache:rp,useCacheRefresh:EE};mp.useEffectEvent=lE;var wE={readContext:Bn,use:Bh,useCallback:dE,useContext:Bn,useEffect:lp,useImperativeHandle:fE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:mE,useReducer:ap,useRef:sE,useState:function(){return ap(ua)},useDebugValue:up,useDeferredValue:function(r,a){var o=En();return Bt===null?cp(o,r,a):pE(o,Bt.memoizedState,r,a)},useTransition:function(){var r=ap(ua)[0],a=En().memoizedState;return[typeof r=="boolean"?r:Ou(r),a]},useSyncExternalStore:qv,useId:vE,useHostTransitionStatus:fp,useFormState:aE,useActionState:aE,useOptimistic:function(r,a){var o=En();return Bt!==null?Xv(o,Bt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:rp,useCacheRefresh:EE};wE.useEffectEvent=lE;function pp(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var gp={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=zr(),d=Wa(u);d.payload=a,o!=null&&(d.callback=o),a=Ja(r,d,u),a!==null&&(wr(a,r,u),Iu(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=zr(),d=Wa(u);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=Ja(r,d,u),a!==null&&(wr(a,r,u),Iu(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=zr(),u=Wa(o);u.tag=2,a!=null&&(u.callback=a),a=Ja(r,u,o),a!==null&&(wr(a,r,o),Iu(a,r,o))}};function CE(r,a,o,u,d,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,E):a.prototype&&a.prototype.isPureReactComponent?!Eu(o,u)||!Eu(d,g):!0}function RE(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&gp.enqueueReplaceState(a,a.state,null)}function oo(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function IE(r){Sh(r)}function xE(r){console.error(r)}function NE(r){Sh(r)}function $h(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function DE(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yp(r,a,o){return o=Wa(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(r,a)},o}function OE(r){return r=Wa(r),r.tag=3,r}function ME(r,a,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){DE(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){DE(a,o,u),typeof d!="function"&&(is===null?is=new Set([this]):is.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function SR(r,a,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Qo(a,o,d,!0),o=Lr.current,o!==null){switch(o.tag){case 31:case 13:return ii===null?af():o.alternate===null&&gn===0&&(gn=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Mh?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Hp(r,u,d)),!1;case 22:return o.flags|=65536,u===Mh?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Hp(r,u,d)),!1}throw Error(i(435,o.tag))}return Hp(r,u,d),af(),!1}if(_t)return a=Lr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Lm&&(r=Error(i(422),{cause:u}),Su(ei(r,o)))):(u!==Lm&&(a=Error(i(423),{cause:u}),Su(ei(a,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=ei(u,o),d=yp(r.stateNode,u,d),Km(r,d),gn!==4&&(gn=2)),!1;var g=Error(i(520),{cause:u});if(g=ei(g,o),Hu===null?Hu=[g]:Hu.push(g),gn!==4&&(gn=2),a===null)return!0;u=ei(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=yp(o.stateNode,u,r),Km(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(is===null||!is.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=OE(d),ME(d,r,o,u),Km(o,d),!1}o=o.return}while(o!==null);return!1}var _p=Error(i(461)),Cn=!1;function Hn(r,a,o,u){a.child=r===null?jv(a,null,o,u):ao(a,r.child,o,u)}function PE(r,a,o,u,d){o=o.render;var g=a.ref;if("ref"in u){var E={};for(var R in u)R!=="ref"&&(E[R]=u[R])}else E=u;return to(a),u=Zm(r,a,o,E,g,d),R=ep(),r!==null&&!Cn?(tp(r,a,d),ca(r,a,d)):(_t&&R&&Pm(a),a.flags|=1,Hn(r,a,u,d),a.child)}function VE(r,a,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Dm(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,LE(r,a,g,u,d)):(r=Rh(o.type,null,u,a,a.mode,d),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!Cp(r,d)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Eu,o(E,u)&&r.ref===a.ref)return ca(r,a,d)}return a.flags|=1,r=ia(g,u),r.ref=a.ref,r.return=a,a.child=r}function LE(r,a,o,u,d){if(r!==null){var g=r.memoizedProps;if(Eu(g,u)&&r.ref===a.ref)if(Cn=!1,a.pendingProps=u=g,Cp(r,d))(r.flags&131072)!==0&&(Cn=!0);else return a.lanes=r.lanes,ca(r,a,d)}return vp(r,a,o,u,d)}function jE(r,a,o,u){var d=u.children,g=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(u=a.child=r.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,a.child=null;return kE(r,a,g,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Dh(a,g!==null?g.cachePool:null),g!==null?zv(a,g):Qm(),Bv(a);else return u=a.lanes=536870912,kE(r,a,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Dh(a,g.cachePool),zv(a,g),es(),a.memoizedState=null):(r!==null&&Dh(a,null),Qm(),es());return Hn(r,a,d,o),a.child}function Vu(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function kE(r,a,o,u,d){var g=Fm();return g=g===null?null:{parent:An._currentValue,pool:g},a.memoizedState={baseLanes:o,cachePool:g},r!==null&&Dh(a,null),Qm(),Bv(a),r!==null&&Qo(r,a,u,!0),a.childLanes=d,null}function Kh(r,a){return a=Qh({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function UE(r,a,o){return ao(a,r.child,null,o),r=Kh(a,a.pendingProps),r.flags|=2,jr(a),a.memoizedState=null,r}function AR(r,a,o){var u=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(_t){if(u.mode==="hidden")return r=Kh(a,u),a.lanes=536870912,Vu(null,r);if(Wm(a),(r=en)?(r=WT(r,ri),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:$a!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=bv(r),o.return=a,a.child=o,zn=a,en=null)):r=null,r===null)throw Ya(a);return a.lanes=536870912,null}return Kh(a,u)}var g=r.memoizedState;if(g!==null){var E=g.dehydrated;if(Wm(a),d)if(a.flags&256)a.flags&=-257,a=UE(r,a,o);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Cn||Qo(r,a,o,!1),d=(o&r.childLanes)!==0,Cn||d){if(u=Gt,u!==null&&(E=$(u,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Ws(r,E),wr(u,r,E),_p;af(),a=UE(r,a,o)}else r=g.treeContext,en=ai(E.nextSibling),zn=a,_t=!0,Ka=null,ri=!1,r!==null&&wv(a,r),a=Kh(a,u),a.flags|=4096;return a}return r=ia(r.child,{mode:u.mode,children:u.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Yh(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function vp(r,a,o,u,d){return to(a),o=Zm(r,a,o,u,void 0,d),u=ep(),r!==null&&!Cn?(tp(r,a,d),ca(r,a,d)):(_t&&u&&Pm(a),a.flags|=1,Hn(r,a,o,d),a.child)}function zE(r,a,o,u,d,g){return to(a),a.updateQueue=null,o=Fv(a,u,o,d),Hv(r),u=ep(),r!==null&&!Cn?(tp(r,a,g),ca(r,a,g)):(_t&&u&&Pm(a),a.flags|=1,Hn(r,a,o,g),a.child)}function BE(r,a,o,u,d){if(to(a),a.stateNode===null){var g=Go,E=o.contextType;typeof E=="object"&&E!==null&&(g=Bn(E)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gp,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Gm(a),E=o.contextType,g.context=typeof E=="object"&&E!==null?Bn(E):Go,g.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(pp(a,o,E,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&gp.enqueueReplaceState(g,g.state,null),Nu(a,u,g,d),xu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){g=a.stateNode;var R=a.memoizedProps,U=oo(o,R);g.props=U;var X=g.context,ae=o.contextType;E=Go,typeof ae=="object"&&ae!==null&&(E=Bn(ae));var he=o.getDerivedStateFromProps;ae=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||X!==E)&&RE(a,g,u,E),Xa=!1;var J=a.memoizedState;g.state=J,Nu(a,u,g,d),xu(),X=a.memoizedState,R||J!==X||Xa?(typeof he=="function"&&(pp(a,o,he,u),X=a.memoizedState),(U=Xa||CE(a,o,U,u,J,X,E))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=X),g.props=u,g.state=X,g.context=E,u=U):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,$m(r,a),E=a.memoizedProps,ae=oo(o,E),g.props=ae,he=a.pendingProps,J=g.context,X=o.contextType,U=Go,typeof X=="object"&&X!==null&&(U=Bn(X)),R=o.getDerivedStateFromProps,(X=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==he||J!==U)&&RE(a,g,u,U),Xa=!1,J=a.memoizedState,g.state=J,Nu(a,u,g,d),xu();var te=a.memoizedState;E!==he||J!==te||Xa||r!==null&&r.dependencies!==null&&xh(r.dependencies)?(typeof R=="function"&&(pp(a,o,R,u),te=a.memoizedState),(ae=Xa||CE(a,o,ae,u,J,te,U)||r!==null&&r.dependencies!==null&&xh(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,te,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,te,U)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=te),g.props=u,g.state=te,g.context=U,u=ae):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),u=!1)}return g=u,Yh(r,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&u?(a.child=ao(a,r.child,null,d),a.child=ao(a,null,o,d)):Hn(r,a,o,d),a.memoizedState=g.state,r=a.child):r=ca(r,a,d),r}function HE(r,a,o,u){return Zs(),a.flags|=256,Hn(r,a,o,u),a.child}var Ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(r){return{baseLanes:r,cachePool:Dv()}}function bp(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Ur),r}function FE(r,a,o){var u=a.pendingProps,d=!1,g=(a.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(vn.current&2)!==0),E&&(d=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(_t){if(d?Za(a):es(),(r=en)?(r=WT(r,ri),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:$a!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},o=bv(r),o.return=a,a.child=o,zn=a,en=null)):r=null,r===null)throw Ya(a);return ig(r)?a.lanes=32:a.lanes=536870912,null}var R=u.children;return u=u.fallback,d?(es(),d=a.mode,R=Qh({mode:"hidden",children:R},d),u=Js(u,d,o,null),R.return=a,u.return=a,R.sibling=u,a.child=R,u=a.child,u.memoizedState=Tp(o),u.childLanes=bp(r,E,o),a.memoizedState=Ep,Vu(null,u)):(Za(a),Sp(a,R))}var U=r.memoizedState;if(U!==null&&(R=U.dehydrated,R!==null)){if(g)a.flags&256?(Za(a),a.flags&=-257,a=Ap(r,a,o)):a.memoizedState!==null?(es(),a.child=r.child,a.flags|=128,a=null):(es(),R=u.fallback,d=a.mode,u=Qh({mode:"visible",children:u.children},d),R=Js(R,d,o,null),R.flags|=2,u.return=a,R.return=a,u.sibling=R,a.child=u,ao(a,r.child,null,o),u=a.child,u.memoizedState=Tp(o),u.childLanes=bp(r,E,o),a.memoizedState=Ep,a=Vu(null,u));else if(Za(a),ig(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var X=E.dgst;E=X,u=Error(i(419)),u.stack="",u.digest=E,Su({value:u,source:null,stack:null}),a=Ap(r,a,o)}else if(Cn||Qo(r,a,o,!1),E=(o&r.childLanes)!==0,Cn||E){if(E=Gt,E!==null&&(u=$(E,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,Ws(r,u),wr(E,r,u),_p;rg(R)||af(),a=Ap(r,a,o)}else rg(R)?(a.flags|=192,a.child=r.child,a=null):(r=U.treeContext,en=ai(R.nextSibling),zn=a,_t=!0,Ka=null,ri=!1,r!==null&&wv(a,r),a=Sp(a,u.children),a.flags|=4096);return a}return d?(es(),R=u.fallback,d=a.mode,U=r.child,X=U.sibling,u=ia(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,X!==null?R=ia(X,R):(R=Js(R,d,o,null),R.flags|=2),R.return=a,u.return=a,u.sibling=R,a.child=u,Vu(null,u),u=a.child,R=r.child.memoizedState,R===null?R=Tp(o):(d=R.cachePool,d!==null?(U=An._currentValue,d=d.parent!==U?{parent:U,pool:U}:d):d=Dv(),R={baseLanes:R.baseLanes|o,cachePool:d}),u.memoizedState=R,u.childLanes=bp(r,E,o),a.memoizedState=Ep,Vu(r.child,u)):(Za(a),o=r.child,r=o.sibling,o=ia(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function Sp(r,a){return a=Qh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Qh(r,a){return r=Vr(22,r,null,a),r.lanes=0,r}function Ap(r,a,o){return ao(a,r.child,null,o),r=Sp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function qE(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Um(r.return,a,o)}function wp(r,a,o,u,d,g){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=d,E.treeForkCount=g)}function GE(r,a,o){var u=a.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var E=vn.current,R=(E&2)!==0;if(R?(E=E&1|2,a.flags|=128):E&=1,_e(vn,E),Hn(r,a,u,o),u=_t?bu:0,!R&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qE(r,o,a);else if(r.tag===19)qE(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=a.child,d=null;o!==null;)r=o.alternate,r!==null&&jh(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),wp(a,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(r=d.alternate,r!==null&&jh(r)===null){a.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}wp(a,!0,o,null,g,u);break;case"together":wp(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ca(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),rs|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(Qo(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=ia(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=ia(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Cp(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&xh(r)))}function wR(r,a,o){switch(a.tag){case 3:ze(a,a.stateNode.containerInfo),Qa(a,An,r.memoizedState.cache),Zs();break;case 27:case 5:at(a);break;case 4:ze(a,a.stateNode.containerInfo);break;case 10:Qa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Wm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Za(a),a.flags|=128,null):(o&a.child.childLanes)!==0?FE(r,a,o):(Za(a),r=ca(r,a,o),r!==null?r.sibling:null);Za(a);break;case 19:var d=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Qo(r,a,o,!1),u=(o&a.childLanes)!==0),d){if(u)return GE(r,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_e(vn,vn.current),u)break;return null;case 22:return a.lanes=0,jE(r,a,o,a.pendingProps);case 24:Qa(a,An,r.memoizedState.cache)}return ca(r,a,o)}function $E(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Cn=!0;else{if(!Cp(r,o)&&(a.flags&128)===0)return Cn=!1,wR(r,a,o);Cn=(r.flags&131072)!==0}else Cn=!1,_t&&(a.flags&1048576)!==0&&Av(a,bu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(r=ro(a.elementType),a.type=r,typeof r=="function")Dm(r)?(u=oo(r,u),a.tag=1,a=BE(null,a,r,u,o)):(a.tag=0,a=vp(null,a,r,u,o));else{if(r!=null){var d=r.$$typeof;if(d===ee){a.tag=11,a=PE(null,a,r,u,o);break e}else if(d===A){a.tag=14,a=VE(null,a,r,u,o);break e}}throw a=ge(r)||r,Error(i(306,a,""))}}return a;case 0:return vp(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,d=oo(u,a.pendingProps),BE(r,a,u,d,o);case 3:e:{if(ze(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;d=g.element,$m(r,a),Nu(a,u,null,o);var E=a.memoizedState;if(u=E.cache,Qa(a,An,u),u!==g.cache&&zm(a,[An],o,!0),xu(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=HE(r,a,u,o);break e}else if(u!==d){d=ei(Error(i(424)),a),Su(d),a=HE(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(en=ai(r.firstChild),zn=a,_t=!0,Ka=null,ri=!0,o=jv(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zs(),u===d){a=ca(r,a,o);break e}Hn(r,a,u,o)}a=a.child}return a;case 26:return Yh(r,a),r===null?(o=rb(a.type,null,a.pendingProps,null))?a.memoizedState=o:_t||(o=a.type,r=a.pendingProps,u=ff(Se.current).createElement(o),u[Ae]=a,u[Ie]=r,Fn(u,o,r),Yt(u),a.stateNode=u):a.memoizedState=rb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return at(a),r===null&&_t&&(u=a.stateNode=eb(a.type,a.pendingProps,Se.current),zn=a,ri=!0,d=en,ls(a.type)?(ag=d,en=ai(u.firstChild)):en=d),Hn(r,a,a.pendingProps.children,o),Yh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&_t&&((d=u=en)&&(u=tI(u,a.type,a.pendingProps,ri),u!==null?(a.stateNode=u,zn=a,en=ai(u.firstChild),ri=!1,d=!0):d=!1),d||Ya(a)),at(a),d=a.type,g=a.pendingProps,E=r!==null?r.memoizedProps:null,u=g.children,eg(d,g)?u=null:E!==null&&eg(d,E)&&(a.flags|=32),a.memoizedState!==null&&(d=Zm(r,a,gR,null,null,o),Xu._currentValue=d),Yh(r,a),Hn(r,a,u,o),a.child;case 6:return r===null&&_t&&((r=o=en)&&(o=nI(o,a.pendingProps,ri),o!==null?(a.stateNode=o,zn=a,en=null,r=!0):r=!1),r||Ya(a)),null;case 13:return FE(r,a,o);case 4:return ze(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=ao(a,null,u,o):Hn(r,a,u,o),a.child;case 11:return PE(r,a,a.type,a.pendingProps,o);case 7:return Hn(r,a,a.pendingProps,o),a.child;case 8:return Hn(r,a,a.pendingProps.children,o),a.child;case 12:return Hn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Qa(a,a.type,u.value),Hn(r,a,u.children,o),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,to(a),d=Bn(d),u=u(d),a.flags|=1,Hn(r,a,u,o),a.child;case 14:return VE(r,a,a.type,a.pendingProps,o);case 15:return LE(r,a,a.type,a.pendingProps,o);case 19:return GE(r,a,o);case 31:return AR(r,a,o);case 22:return jE(r,a,o,a.pendingProps);case 24:return to(a),u=Bn(An),r===null?(d=Fm(),d===null&&(d=Gt,g=Bm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),a.memoizedState={parent:u,cache:d},Gm(a),Qa(a,An,d)):((r.lanes&o)!==0&&($m(r,a),Nu(a,null,null,o),xu()),d=r.memoizedState,g=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Qa(a,An,u)):(u=g.cache,Qa(a,An,u),u!==d.cache&&zm(a,[An],o,!0))),Hn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ha(r){r.flags|=4}function Rp(r,a,o,u,d){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(vT())r.flags|=8192;else throw io=Mh,qm}else r.flags&=-16777217}function KE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!lb(a))if(vT())r.flags|=8192;else throw io=Mh,qm}function Xh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Zi():536870912,r.lanes|=a,ol|=a)}function Lu(r,a){if(!_t)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function tn(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function CR(r,a,o){var u=a.pendingProps;switch(Vm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(a),null;case 1:return tn(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),oa(An),Be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Yo(a)?ha(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jm())),tn(a),null;case 26:var d=a.type,g=a.memoizedState;return r===null?(ha(a),g!==null?(tn(a),KE(a,g)):(tn(a),Rp(a,d,null,u,o))):g?g!==r.memoizedState?(ha(a),tn(a),KE(a,g)):(tn(a),a.flags&=-16777217):(r=r.memoizedProps,r!==u&&ha(a),tn(a),Rp(a,d,r,u,o)),null;case 27:if(bt(a),o=Se.current,d=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ha(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return tn(a),null}r=we.current,Yo(a)?Cv(a):(r=eb(d,u,o),a.stateNode=r,ha(a))}return tn(a),null;case 5:if(bt(a),d=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&ha(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return tn(a),null}if(g=we.current,Yo(a))Cv(a);else{var E=ff(Se.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?E.createElement(d,{is:u.is}):E.createElement(d)}}g[Ae]=a,g[Ie]=u;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=g;e:switch(Fn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ha(a)}}return tn(a),Rp(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,o),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&ha(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=Se.current,Yo(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,d=zn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Ae]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||FT(r.nodeValue,o)),r||Ya(a,!0)}else r=ff(r).createTextNode(u),r[Ae]=a,a.stateNode=r}return tn(a),null;case 31:if(o=a.memoizedState,r===null||r.memoizedState!==null){if(u=Yo(a),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ae]=a}else Zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),r=!1}else o=jm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return a.flags&256?(jr(a),a):(jr(a),null);if((a.flags&128)!==0)throw Error(i(558))}return tn(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Yo(a),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ae]=a}else Zs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;tn(a),d=!1}else d=jm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(jr(a),a):(jr(a),null)}return jr(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==r&&o&&(a.child.flags|=8192),Xh(a,a.updateQueue),tn(a),null);case 4:return Be(),r===null&&Qp(a.stateNode.containerInfo),tn(a),null;case 10:return oa(a.type),tn(a),null;case 19:if(re(vn),u=a.memoizedState,u===null)return tn(a),null;if(d=(a.flags&128)!==0,g=u.rendering,g===null)if(d)Lu(u,!1);else{if(gn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=jh(r),g!==null){for(a.flags|=128,Lu(u,!1),r=g.updateQueue,a.updateQueue=r,Xh(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Tv(o,r),o=o.sibling;return _e(vn,vn.current&1|2),_t&&aa(a,u.treeForkCount),a.child}r=r.sibling}u.tail!==null&&qt()>tf&&(a.flags|=128,d=!0,Lu(u,!1),a.lanes=4194304)}else{if(!d)if(r=jh(g),r!==null){if(a.flags|=128,d=!0,r=r.updateQueue,a.updateQueue=r,Xh(a,r),Lu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!_t)return tn(a),null}else 2*qt()-u.renderingStartTime>tf&&o!==536870912&&(a.flags|=128,d=!0,Lu(u,!1),a.lanes=4194304);u.isBackwards?(g.sibling=a.child,a.child=g):(r=u.last,r!==null?r.sibling=g:a.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=qt(),r.sibling=null,o=vn.current,_e(vn,d?o&1|2:o&1),_t&&aa(a,u.treeForkCount),r):(tn(a),null);case 22:case 23:return jr(a),Xm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(tn(a),a.subtreeFlags&6&&(a.flags|=8192)):tn(a),o=a.updateQueue,o!==null&&Xh(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&re(no),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),oa(An),tn(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function RR(r,a){switch(Vm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return oa(An),Be(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return bt(a),null;case 31:if(a.memoizedState!==null){if(jr(a),a.alternate===null)throw Error(i(340));Zs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(jr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Zs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return re(vn),null;case 4:return Be(),null;case 10:return oa(a.type),null;case 22:case 23:return jr(a),Xm(),r!==null&&re(no),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return oa(An),null;case 25:return null;default:return null}}function YE(r,a){switch(Vm(a),a.tag){case 3:oa(An),Be();break;case 26:case 27:case 5:bt(a);break;case 4:Be();break;case 31:a.memoizedState!==null&&jr(a);break;case 13:jr(a);break;case 19:re(vn);break;case 10:oa(a.type);break;case 22:case 23:jr(a),Xm(),r!==null&&re(no);break;case 24:oa(An)}}function ju(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==d)}}catch(R){jt(a,a.return,R)}}function ts(r,a,o){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var E=u.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,d=a;var U=o,X=R;try{X()}catch(ae){jt(d,U,ae)}}}u=u.next}while(u!==g)}}catch(ae){jt(a,a.return,ae)}}function QE(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Uv(a,o)}catch(u){jt(r,r.return,u)}}}function XE(r,a,o){o.props=oo(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){jt(r,a,u)}}function ku(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){jt(r,a,d)}}function Hi(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){jt(r,a,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){jt(r,a,d)}else o.current=null}function WE(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){jt(r,r.return,d)}}function Ip(r,a,o){try{var u=r.stateNode;QR(u,r.type,o,a),u[Ie]=a}catch(d){jt(r,r.return,d)}}function JE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ls(r.type)||r.tag===4}function xp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||JE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ls(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Np(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=mi));else if(u!==4&&(u===27&&ls(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Np(r,a,o),r=r.sibling;r!==null;)Np(r,a,o),r=r.sibling}function Wh(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&ls(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Wh(r,a,o),r=r.sibling;r!==null;)Wh(r,a,o),r=r.sibling}function ZE(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Fn(a,u,o),a[Ae]=r,a[Ie]=o}catch(g){jt(r,r.return,g)}}var fa=!1,Rn=!1,Dp=!1,eT=typeof WeakSet=="function"?WeakSet:Set,jn=null;function IR(r,a){if(r=r.containerInfo,Jp=vf,r=fv(r),Am(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,R=-1,U=-1,X=0,ae=0,he=r,J=null;t:for(;;){for(var te;he!==o||d!==0&&he.nodeType!==3||(R=E+d),he!==g||u!==0&&he.nodeType!==3||(U=E+u),he.nodeType===3&&(E+=he.nodeValue.length),(te=he.firstChild)!==null;)J=he,he=te;for(;;){if(he===r)break t;if(J===o&&++X===d&&(R=E),J===g&&++ae===u&&(U=E),(te=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=te}o=R===-1||U===-1?null:{start:R,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zp={focusedElem:r,selectionRange:o},vf=!1,jn=a;jn!==null;)if(a=jn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,jn=r;else for(;jn!==null;){switch(a=jn,g=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Le=oo(o.type,d);r=u.getSnapshotBeforeUpdate(Le,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(qe){jt(o,o.return,qe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)ng(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ng(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,jn=r;break}jn=a.return}}function tT(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ma(r,o),u&4&&ju(5,o);break;case 1:if(ma(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){jt(o,o.return,E)}else{var d=oo(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(d,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){jt(o,o.return,E)}}u&64&&QE(o),u&512&&ku(o,o.return);break;case 3:if(ma(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Uv(r,a)}catch(E){jt(o,o.return,E)}}break;case 27:a===null&&u&4&&ZE(o);case 26:case 5:ma(r,o),a===null&&u&4&&WE(o),u&512&&ku(o,o.return);break;case 12:ma(r,o);break;case 31:ma(r,o),u&4&&iT(r,o);break;case 13:ma(r,o),u&4&&aT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=jR.bind(null,o),rI(r,o))));break;case 22:if(u=o.memoizedState!==null||fa,!u){a=a!==null&&a.memoizedState!==null||Rn,d=fa;var g=Rn;fa=u,(Rn=a)&&!g?pa(r,o,(o.subtreeFlags&8772)!==0):ma(r,o),fa=d,Rn=g}break;case 30:break;default:ma(r,o)}}function nT(r){var a=r.alternate;a!==null&&(r.alternate=null,nT(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Zt(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var sn=null,Tr=!1;function da(r,a,o){for(o=o.child;o!==null;)rT(r,a,o),o=o.sibling}function rT(r,a,o){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(Ce,o)}catch{}switch(o.tag){case 26:Rn||Hi(o,a),da(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rn||Hi(o,a);var u=sn,d=Tr;ls(o.type)&&(sn=o.stateNode,Tr=!1),da(r,a,o),Ku(o.stateNode),sn=u,Tr=d;break;case 5:Rn||Hi(o,a);case 6:if(u=sn,d=Tr,sn=null,da(r,a,o),sn=u,Tr=d,sn!==null)if(Tr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(o.stateNode)}catch(g){jt(o,a,g)}else try{sn.removeChild(o.stateNode)}catch(g){jt(o,a,g)}break;case 18:sn!==null&&(Tr?(r=sn,QT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),pl(r)):QT(sn,o.stateNode));break;case 4:u=sn,d=Tr,sn=o.stateNode.containerInfo,Tr=!0,da(r,a,o),sn=u,Tr=d;break;case 0:case 11:case 14:case 15:ts(2,o,a),Rn||ts(4,o,a),da(r,a,o);break;case 1:Rn||(Hi(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&XE(o,a,u)),da(r,a,o);break;case 21:da(r,a,o);break;case 22:Rn=(u=Rn)||o.memoizedState!==null,da(r,a,o),Rn=u;break;default:da(r,a,o)}}function iT(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{pl(r)}catch(o){jt(a,a.return,o)}}}function aT(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{pl(r)}catch(o){jt(a,a.return,o)}}function xR(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new eT),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new eT),a;default:throw Error(i(435,r.tag))}}function Jh(r,a){var o=xR(r);a.forEach(function(u){if(!o.has(u)){o.add(u);var d=kR.bind(null,r,u);u.then(d,d)}})}function br(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,E=a,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(ls(R.type)){sn=R.stateNode,Tr=!1;break e}break;case 5:sn=R.stateNode,Tr=!1;break e;case 3:case 4:sn=R.stateNode.containerInfo,Tr=!0;break e}R=R.return}if(sn===null)throw Error(i(160));rT(g,E,d),sn=null,Tr=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)sT(a,r),a=a.sibling}var Ei=null;function sT(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:br(a,r),Sr(r),u&4&&(ts(3,r,r.return),ju(3,r),ts(5,r,r.return));break;case 1:br(a,r),Sr(r),u&512&&(Rn||o===null||Hi(o,o.return)),u&64&&fa&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Ei;if(br(a,r),Sr(r),u&512&&(Rn||o===null||Hi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[kt]||g[Ae]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Fn(g,u,o),g[Ae]=r,Yt(g),u=g;break e;case"link":var E=sb("link","href",d).get(u+(o.href||""));if(E){for(var R=0;R<E.length;R++)if(g=E[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(R,1);break t}}g=d.createElement(u),Fn(g,u,o),d.head.appendChild(g);break;case"meta":if(E=sb("meta","content",d).get(u+(o.content||""))){for(R=0;R<E.length;R++)if(g=E[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(R,1);break t}}g=d.createElement(u),Fn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Ae]=r,Yt(g),u=g}r.stateNode=u}else ob(d,r.type,r.stateNode);else r.stateNode=ab(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?ob(d,r.type,r.stateNode):ab(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Ip(r,r.memoizedProps,o.memoizedProps)}break;case 27:br(a,r),Sr(r),u&512&&(Rn||o===null||Hi(o,o.return)),o!==null&&u&4&&Ip(r,r.memoizedProps,o.memoizedProps);break;case 5:if(br(a,r),Sr(r),u&512&&(Rn||o===null||Hi(o,o.return)),r.flags&32){d=r.stateNode;try{Er(d,"")}catch(Le){jt(r,r.return,Le)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,Ip(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Dp=!0);break;case 6:if(br(a,r),Sr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Le){jt(r,r.return,Le)}}break;case 3:if(pf=null,d=Ei,Ei=df(a.containerInfo),br(a,r),Ei=d,Sr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pl(a.containerInfo)}catch(Le){jt(r,r.return,Le)}Dp&&(Dp=!1,oT(r));break;case 4:u=Ei,Ei=df(r.stateNode.containerInfo),br(a,r),Sr(r),Ei=u;break;case 12:br(a,r),Sr(r);break;case 31:br(a,r),Sr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Jh(r,u)));break;case 13:br(a,r),Sr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ef=qt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Jh(r,u)));break;case 22:d=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,X=fa,ae=Rn;if(fa=X||d,Rn=ae||U,br(a,r),Rn=ae,fa=X,Sr(r),u&8192)e:for(a=r.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||U||fa||Rn||lo(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){U=o=a;try{if(g=U.stateNode,d)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=U.stateNode;var he=U.memoizedProps.style,J=he!=null&&he.hasOwnProperty("display")?he.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Le){jt(U,U.return,Le)}}}else if(a.tag===6){if(o===null){U=a;try{U.stateNode.nodeValue=d?"":U.memoizedProps}catch(Le){jt(U,U.return,Le)}}}else if(a.tag===18){if(o===null){U=a;try{var te=U.stateNode;d?XT(te,!0):XT(U.stateNode,!1)}catch(Le){jt(U,U.return,Le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Jh(r,o))));break;case 19:br(a,r),Sr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Jh(r,u)));break;case 30:break;case 21:break;default:br(a,r),Sr(r)}}function Sr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(JE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=xp(r);Wh(r,g,d);break;case 5:var E=o.stateNode;o.flags&32&&(Er(E,""),o.flags&=-33);var R=xp(r);Wh(r,R,E);break;case 3:case 4:var U=o.stateNode.containerInfo,X=xp(r);Np(r,X,U);break;default:throw Error(i(161))}}catch(ae){jt(r,r.return,ae)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function oT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;oT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ma(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tT(r,a.alternate,a),a=a.sibling}function lo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ts(4,a,a.return),lo(a);break;case 1:Hi(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&XE(a,a.return,o),lo(a);break;case 27:Ku(a.stateNode);case 26:case 5:Hi(a,a.return),lo(a);break;case 22:a.memoizedState===null&&lo(a);break;case 30:lo(a);break;default:lo(a)}r=r.sibling}}function pa(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=r,g=a,E=g.flags;switch(g.tag){case 0:case 11:case 15:pa(d,g,o),ju(4,g);break;case 1:if(pa(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){jt(u,u.return,X)}if(u=g,d=u.updateQueue,d!==null){var R=u.stateNode;try{var U=d.shared.hiddenCallbacks;if(U!==null)for(d.shared.hiddenCallbacks=null,d=0;d<U.length;d++)kv(U[d],R)}catch(X){jt(u,u.return,X)}}o&&E&64&&QE(g),ku(g,g.return);break;case 27:ZE(g);case 26:case 5:pa(d,g,o),o&&u===null&&E&4&&WE(g),ku(g,g.return);break;case 12:pa(d,g,o);break;case 31:pa(d,g,o),o&&E&4&&iT(d,g);break;case 13:pa(d,g,o),o&&E&4&&aT(d,g);break;case 22:g.memoizedState===null&&pa(d,g,o),ku(g,g.return);break;case 30:break;default:pa(d,g,o)}a=a.sibling}}function Op(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Au(o))}function Mp(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Au(r))}function Ti(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lT(r,a,o,u),a=a.sibling}function lT(r,a,o,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(r,a,o,u),d&2048&&ju(9,a);break;case 1:Ti(r,a,o,u);break;case 3:Ti(r,a,o,u),d&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Au(r)));break;case 12:if(d&2048){Ti(r,a,o,u),r=a.stateNode;try{var g=a.memoizedProps,E=g.id,R=g.onPostCommit;typeof R=="function"&&R(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){jt(a,a.return,U)}}else Ti(r,a,o,u);break;case 31:Ti(r,a,o,u);break;case 13:Ti(r,a,o,u);break;case 23:break;case 22:g=a.stateNode,E=a.alternate,a.memoizedState!==null?g._visibility&2?Ti(r,a,o,u):Uu(r,a):g._visibility&2?Ti(r,a,o,u):(g._visibility|=2,il(r,a,o,u,(a.subtreeFlags&10256)!==0||!1)),d&2048&&Op(E,a);break;case 24:Ti(r,a,o,u),d&2048&&Mp(a.alternate,a);break;default:Ti(r,a,o,u)}}function il(r,a,o,u,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=r,E=a,R=o,U=u,X=E.flags;switch(E.tag){case 0:case 11:case 15:il(g,E,R,U,d),ju(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?il(g,E,R,U,d):Uu(g,E):(ae._visibility|=2,il(g,E,R,U,d)),d&&X&2048&&Op(E.alternate,E);break;case 24:il(g,E,R,U,d),d&&X&2048&&Mp(E.alternate,E);break;default:il(g,E,R,U,d)}a=a.sibling}}function Uu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,d=u.flags;switch(u.tag){case 22:Uu(o,u),d&2048&&Op(u.alternate,u);break;case 24:Uu(o,u),d&2048&&Mp(u.alternate,u);break;default:Uu(o,u)}a=a.sibling}}var zu=8192;function al(r,a,o){if(r.subtreeFlags&zu)for(r=r.child;r!==null;)uT(r,a,o),r=r.sibling}function uT(r,a,o){switch(r.tag){case 26:al(r,a,o),r.flags&zu&&r.memoizedState!==null&&pI(o,Ei,r.memoizedState,r.memoizedProps);break;case 5:al(r,a,o);break;case 3:case 4:var u=Ei;Ei=df(r.stateNode.containerInfo),al(r,a,o),Ei=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=zu,zu=16777216,al(r,a,o),zu=u):al(r,a,o));break;default:al(r,a,o)}}function cT(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Bu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];jn=u,fT(u,r)}cT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hT(r),r=r.sibling}function hT(r){switch(r.tag){case 0:case 11:case 15:Bu(r),r.flags&2048&&ts(9,r,r.return);break;case 3:Bu(r);break;case 12:Bu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Zh(r)):Bu(r);break;default:Bu(r)}}function Zh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];jn=u,fT(u,r)}cT(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ts(8,a,a.return),Zh(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Zh(a));break;default:Zh(a)}r=r.sibling}}function fT(r,a){for(;jn!==null;){var o=jn;switch(o.tag){case 0:case 11:case 15:ts(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,jn=u;else e:for(o=r;jn!==null;){u=jn;var d=u.sibling,g=u.return;if(nT(u),u===o){jn=null;break e}if(d!==null){d.return=g,jn=d;break e}jn=g}}}var NR={getCacheForType:function(r){var a=Bn(An),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o},cacheSignal:function(){return Bn(An).controller.signal}},DR=typeof WeakMap=="function"?WeakMap:Map,It=0,Gt=null,ut=null,ft=0,Lt=0,kr=null,ns=!1,sl=!1,Pp=!1,ga=0,gn=0,rs=0,uo=0,Vp=0,Ur=0,ol=0,Hu=null,Ar=null,Lp=!1,ef=0,dT=0,tf=1/0,nf=null,is=null,Mn=0,as=null,ll=null,ya=0,jp=0,kp=null,mT=null,Fu=0,Up=null;function zr(){return(It&2)!==0&&ft!==0?ft&-ft:z.T!==null?Gp():be()}function pT(){if(Ur===0)if((ft&536870912)===0||_t){var r=mn;mn<<=1,(mn&3932160)===0&&(mn=262144),Ur=r}else Ur=536870912;return r=Lr.current,r!==null&&(r.flags|=32),Ur}function wr(r,a,o){(r===Gt&&(Lt===2||Lt===9)||r.cancelPendingCommit!==null)&&(ul(r,0),ss(r,ft,Ur,!1)),Ni(r,o),((It&2)===0||r!==Gt)&&(r===Gt&&((It&2)===0&&(uo|=o),gn===4&&ss(r,ft,Ur,!1)),Fi(r))}function gT(r,a,o){if((It&6)!==0)throw Error(i(327));var u=!o&&(a&127)===0&&(a&r.expiredLanes)===0||Dr(r,a),d=u?PR(r,a):Bp(r,a,!0),g=u;do{if(d===0){sl&&!u&&ss(r,a,0,!1);break}else{if(o=r.current.alternate,g&&!OR(o)){d=Bp(r,a,!1),g=!1;continue}if(d===2){if(g=a,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var R=r;d=Hu;var U=R.current.memoizedState.isDehydrated;if(U&&(ul(R,E).flags|=256),E=Bp(R,E,!1),E!==2){if(Pp&&!U){R.errorRecoveryDisabledLanes|=g,uo|=g,d=4;break e}g=Ar,Ar=d,g!==null&&(Ar===null?Ar=g:Ar.push.apply(Ar,g))}d=E}if(g=!1,d!==2)continue}}if(d===1){ul(r,0),ss(r,a,0,!0);break}e:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ss(u,a,Ur,!ns);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=ef+300-qt(),10<d)){if(ss(u,a,Ur,!ns),Nr(u,0,!0)!==0)break e;ya=a,u.timeoutHandle=KT(yT.bind(null,u,o,Ar,nf,Lp,a,Ur,uo,ol,ns,g,"Throttled",-0,0),d);break e}yT(u,o,Ar,nf,Lp,a,Ur,uo,ol,ns,g,null,-0,0)}}break}while(!0);Fi(r)}function yT(r,a,o,u,d,g,E,R,U,X,ae,he,J,te){if(r.timeoutHandle=-1,he=a.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},uT(a,g,he);var Le=(g&62914560)===g?ef-qt():(g&4194048)===g?dT-qt():0;if(Le=gI(he,Le),Le!==null){ya=g,r.cancelPendingCommit=Le(wT.bind(null,r,a,g,o,u,d,E,R,U,ae,he,null,J,te)),ss(r,g,E,!X);return}}wT(r,a,g,o,u,d,E,R,U)}function OR(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Pr(g(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ss(r,a,o,u){a&=~Vp,a&=~uo,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var d=a;0<d;){var g=31-je(d),E=1<<g;u[g]=-1,d&=~E}o!==0&&ea(r,o,a)}function rf(){return(It&6)===0?(qu(0),!1):!0}function zp(){if(ut!==null){if(Lt===0)var r=ut.return;else r=ut,sa=eo=null,np(r),Zo=null,Cu=0,r=ut;for(;r!==null;)YE(r.alternate,r),r=r.return;ut=null}}function ul(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,JR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ya=0,zp(),Gt=r,ut=o=ia(r.current,null),ft=a,Lt=0,kr=null,ns=!1,sl=Dr(r,a),Pp=!1,ol=Ur=Vp=uo=rs=gn=0,Ar=Hu=null,Lp=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var d=31-je(u),g=1<<d;a|=r[d],u&=~g}return ga=a,Ah(),o}function _T(r,a){et=null,z.H=Pu,a===Jo||a===Oh?(a=Pv(),Lt=3):a===qm?(a=Pv(),Lt=4):Lt=a===_p?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,kr=a,ut===null&&(gn=1,$h(r,ei(a,r.current)))}function vT(){var r=Lr.current;return r===null?!0:(ft&4194048)===ft?ii===null:(ft&62914560)===ft||(ft&536870912)!==0?r===ii:!1}function ET(){var r=z.H;return z.H=Pu,r===null?Pu:r}function TT(){var r=z.A;return z.A=NR,r}function af(){gn=4,ns||(ft&4194048)!==ft&&Lr.current!==null||(sl=!0),(rs&134217727)===0&&(uo&134217727)===0||Gt===null||ss(Gt,ft,Ur,!1)}function Bp(r,a,o){var u=It;It|=2;var d=ET(),g=TT();(Gt!==r||ft!==a)&&(nf=null,ul(r,a)),a=!1;var E=gn;e:do try{if(Lt!==0&&ut!==null){var R=ut,U=kr;switch(Lt){case 8:zp(),E=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(a=!0);var X=Lt;if(Lt=0,kr=null,cl(r,R,U,X),o&&sl){E=0;break e}break;default:X=Lt,Lt=0,kr=null,cl(r,R,U,X)}}MR(),E=gn;break}catch(ae){_T(r,ae)}while(!0);return a&&r.shellSuspendCounter++,sa=eo=null,It=u,z.H=d,z.A=g,ut===null&&(Gt=null,ft=0,Ah()),E}function MR(){for(;ut!==null;)bT(ut)}function PR(r,a){var o=It;It|=2;var u=ET(),d=TT();Gt!==r||ft!==a?(nf=null,tf=qt()+500,ul(r,a)):sl=Dr(r,a);e:do try{if(Lt!==0&&ut!==null){a=ut;var g=kr;t:switch(Lt){case 1:Lt=0,kr=null,cl(r,a,g,1);break;case 2:case 9:if(Ov(g)){Lt=0,kr=null,ST(a);break}a=function(){Lt!==2&&Lt!==9||Gt!==r||(Lt=7),Fi(r)},g.then(a,a);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Ov(g)?(Lt=0,kr=null,ST(a)):(Lt=0,kr=null,cl(r,a,g,7));break;case 5:var E=null;switch(ut.tag){case 26:E=ut.memoizedState;case 5:case 27:var R=ut;if(E?lb(E):R.stateNode.complete){Lt=0,kr=null;var U=R.sibling;if(U!==null)ut=U;else{var X=R.return;X!==null?(ut=X,sf(X)):ut=null}break t}}Lt=0,kr=null,cl(r,a,g,5);break;case 6:Lt=0,kr=null,cl(r,a,g,6);break;case 8:zp(),gn=6;break e;default:throw Error(i(462))}}VR();break}catch(ae){_T(r,ae)}while(!0);return sa=eo=null,z.H=u,z.A=d,It=o,ut!==null?0:(Gt=null,ft=0,Ah(),gn)}function VR(){for(;ut!==null&&!or();)bT(ut)}function bT(r){var a=$E(r.alternate,r,ga);r.memoizedProps=r.pendingProps,a===null?sf(r):ut=a}function ST(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=zE(o,a,a.pendingProps,a.type,void 0,ft);break;case 11:a=zE(o,a,a.pendingProps,a.type.render,a.ref,ft);break;case 5:np(a);default:YE(o,a),a=ut=Tv(a,ga),a=$E(o,a,ga)}r.memoizedProps=r.pendingProps,a===null?sf(r):ut=a}function cl(r,a,o,u){sa=eo=null,np(a),Zo=null,Cu=0;var d=a.return;try{if(SR(r,d,a,o,ft)){gn=1,$h(r,ei(o,r.current)),ut=null;return}}catch(g){if(d!==null)throw ut=d,g;gn=1,$h(r,ei(o,r.current)),ut=null;return}a.flags&32768?(_t||u===1?r=!0:sl||(ft&536870912)!==0?r=!1:(ns=r=!0,(u===2||u===9||u===3||u===6)&&(u=Lr.current,u!==null&&u.tag===13&&(u.flags|=16384))),AT(a,r)):sf(a)}function sf(r){var a=r;do{if((a.flags&32768)!==0){AT(a,ns);return}r=a.return;var o=CR(a.alternate,a,ga);if(o!==null){ut=o;return}if(a=a.sibling,a!==null){ut=a;return}ut=a=r}while(a!==null);gn===0&&(gn=5)}function AT(r,a){do{var o=RR(r.alternate,r);if(o!==null){o.flags&=32767,ut=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){ut=r;return}ut=r=o}while(r!==null);gn=6,ut=null}function wT(r,a,o,u,d,g,E,R,U){r.cancelPendingCommit=null;do of();while(Mn!==0);if((It&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=xm,lu(r,o,g,E,R,U),r===Gt&&(ut=Gt=null,ft=0),ll=a,as=r,ya=o,jp=g,kp=d,mT=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,UR(Jt,function(){return NT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,d=se.p,se.p=2,E=It,It|=4;try{IR(r,a,o)}finally{It=E,se.p=d,z.T=u}}Mn=1,CT(),RT(),IT()}}function CT(){if(Mn===1){Mn=0;var r=as,a=ll,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=z.T,z.T=null;var u=se.p;se.p=2;var d=It;It|=4;try{sT(a,r);var g=Zp,E=fv(r.containerInfo),R=g.focusedElem,U=g.selectionRange;if(E!==R&&R&&R.ownerDocument&&hv(R.ownerDocument.documentElement,R)){if(U!==null&&Am(R)){var X=U.start,ae=U.end;if(ae===void 0&&(ae=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(ae,R.value.length);else{var he=R.ownerDocument||document,J=he&&he.defaultView||window;if(J.getSelection){var te=J.getSelection(),Le=R.textContent.length,qe=Math.min(U.start,Le),Ft=U.end===void 0?qe:Math.min(U.end,Le);!te.extend&&qe>Ft&&(E=Ft,Ft=qe,qe=E);var K=cv(R,qe),q=cv(R,Ft);if(K&&q&&(te.rangeCount!==1||te.anchorNode!==K.node||te.anchorOffset!==K.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var Q=he.createRange();Q.setStart(K.node,K.offset),te.removeAllRanges(),qe>Ft?(te.addRange(Q),te.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),te.addRange(Q))}}}}for(he=[],te=R;te=te.parentNode;)te.nodeType===1&&he.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<he.length;R++){var oe=he[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}vf=!!Jp,Zp=Jp=null}finally{It=d,se.p=u,z.T=o}}r.current=a,Mn=2}}function RT(){if(Mn===2){Mn=0;var r=as,a=ll,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=z.T,z.T=null;var u=se.p;se.p=2;var d=It;It|=4;try{tT(r,a.alternate,a)}finally{It=d,se.p=u,z.T=o}}Mn=3}}function IT(){if(Mn===4||Mn===3){Mn=0,di();var r=as,a=ll,o=ya,u=mT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Mn=5:(Mn=0,ll=as=null,xT(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(is=null),me(o),a=a.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(Ce,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=z.T,d=se.p,se.p=2,z.T=null;try{for(var g=r.onRecoverableError,E=0;E<u.length;E++){var R=u[E];g(R.value,{componentStack:R.stack})}}finally{z.T=a,se.p=d}}(ya&3)!==0&&of(),Fi(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===Up?Fu++:(Fu=0,Up=r):Fu=0,qu(0)}}function xT(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Au(a)))}function of(){return CT(),RT(),IT(),NT()}function NT(){if(Mn!==5)return!1;var r=as,a=jp;jp=0;var o=me(ya),u=z.T,d=se.p;try{se.p=32>o?32:o,z.T=null,o=kp,kp=null;var g=as,E=ya;if(Mn=0,ll=as=null,ya=0,(It&6)!==0)throw Error(i(331));var R=It;if(It|=4,hT(g.current),lT(g,g.current,E,o),It=R,qu(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(Ce,g)}catch{}return!0}finally{se.p=d,z.T=u,xT(r,a)}}function DT(r,a,o){a=ei(o,a),a=yp(r.stateNode,a,2),r=Ja(r,a,2),r!==null&&(Ni(r,2),Fi(r))}function jt(r,a,o){if(r.tag===3)DT(r,r,o);else for(;a!==null;){if(a.tag===3){DT(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(is===null||!is.has(u))){r=ei(o,r),o=OE(2),u=Ja(a,o,2),u!==null&&(ME(o,u,a,r),Ni(u,2),Fi(u));break}}a=a.return}}function Hp(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new DR;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(o)||(Pp=!0,d.add(o),r=LR.bind(null,r,a,o),a.then(r,r))}function LR(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Gt===r&&(ft&o)===o&&(gn===4||gn===3&&(ft&62914560)===ft&&300>qt()-ef?(It&2)===0&&ul(r,0):Vp|=o,ol===ft&&(ol=0)),Fi(r)}function OT(r,a){a===0&&(a=Zi()),r=Ws(r,a),r!==null&&(Ni(r,a),Fi(r))}function jR(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),OT(r,o)}function kR(r,a){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),OT(r,o)}function UR(r,a){return Wt(r,a)}var lf=null,hl=null,Fp=!1,uf=!1,qp=!1,os=0;function Fi(r){r!==hl&&r.next===null&&(hl===null?lf=hl=r:hl=hl.next=r),uf=!0,Fp||(Fp=!0,BR())}function qu(r,a){if(!qp&&uf){qp=!0;do for(var o=!1,u=lf;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var E=u.suspendedLanes,R=u.pingedLanes;g=(1<<31-je(42|r)+1)-1,g&=d&~(E&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,LT(u,g))}else g=ft,g=Nr(u,u===Gt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Dr(u,g)||(o=!0,LT(u,g));u=u.next}while(o);qp=!1}}function zR(){MT()}function MT(){uf=Fp=!1;var r=0;os!==0&&WR()&&(r=os);for(var a=qt(),o=null,u=lf;u!==null;){var d=u.next,g=PT(u,a);g===0?(u.next=null,o===null?lf=d:o.next=d,d===null&&(hl=o)):(o=u,(r!==0||(g&3)!==0)&&(uf=!0)),u=d}Mn!==0&&Mn!==5||qu(r),os!==0&&(os=0)}function PT(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-je(g),R=1<<E,U=d[E];U===-1?((R&o)===0||(R&u)!==0)&&(d[E]=Oo(R,a)):U<=a&&(r.expiredLanes|=R),g&=~R}if(a=Gt,o=ft,o=Nr(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(Lt===2||Lt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Vt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Dr(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Vt(u),me(o)){case 2:case 8:o=Wn;break;case 32:o=Jt;break;case 268435456:o=xi;break;default:o=Jt}return u=VT.bind(null,r),o=Wt(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Vt(u),r.callbackPriority=2,r.callbackNode=null,2}function VT(r,a){if(Mn!==0&&Mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(of()&&r.callbackNode!==o)return null;var u=ft;return u=Nr(r,r===Gt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(gT(r,u,a),PT(r,qt()),r.callbackNode!=null&&r.callbackNode===o?VT.bind(null,r):null)}function LT(r,a){if(of())return null;gT(r,a,!0)}function BR(){ZR(function(){(It&6)!==0?Wt(Yr,zR):MT()})}function Gp(){if(os===0){var r=Xo;r===0&&(r=xt,xt<<=1,(xt&261888)===0&&(xt=256)),os=r}return os}function jT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Vo(""+r)}function kT(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function HR(r,a,o,u,d){if(a==="submit"&&o&&o.stateNode===d){var g=jT((d[Ie]||null).action),E=u.submitter;E&&(a=(a=E[Ie]||null)?jT(a.formAction):E.getAttribute("formAction"),a!==null&&(g=a,E=null));var R=new Li("action","action",null,u,d);r.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(os!==0){var U=E?kT(d,E):new FormData(d);hp(o,{pending:!0,data:U,method:d.method,action:g},null,U)}}else typeof g=="function"&&(R.preventDefault(),U=E?kT(d,E):new FormData(d),hp(o,{pending:!0,data:U,method:d.method,action:g},g,U))},currentTarget:d}]})}}for(var $p=0;$p<Im.length;$p++){var Kp=Im[$p],FR=Kp.toLowerCase(),qR=Kp[0].toUpperCase()+Kp.slice(1);vi(FR,"on"+qR)}vi(pv,"onAnimationEnd"),vi(gv,"onAnimationIteration"),vi(yv,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(sR,"onTransitionRun"),vi(oR,"onTransitionStart"),vi(lR,"onTransitionCancel"),vi(_v,"onTransitionEnd"),Zn("onMouseEnter",["mouseout","mouseover"]),Zn("onMouseLeave",["mouseout","mouseover"]),Zn("onPointerEnter",["pointerout","pointerover"]),Zn("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function UT(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var E=u.length-1;0<=E;E--){var R=u[E],U=R.instance,X=R.currentTarget;if(R=R.listener,U!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=X;try{g(d)}catch(ae){Sh(ae)}d.currentTarget=null,g=U}else for(E=0;E<u.length;E++){if(R=u[E],U=R.instance,X=R.currentTarget,R=R.listener,U!==g&&d.isPropagationStopped())break e;g=R,d.currentTarget=X;try{g(d)}catch(ae){Sh(ae)}d.currentTarget=null,g=U}}}}function ct(r,a){var o=a[Ge];o===void 0&&(o=a[Ge]=new Set);var u=r+"__bubble";o.has(u)||(zT(a,r,2,!1),o.add(u))}function Yp(r,a,o){var u=0;a&&(u|=4),zT(o,r,u,a)}var cf="_reactListening"+Math.random().toString(36).slice(2);function Qp(r){if(!r[cf]){r[cf]=!0,yr.forEach(function(o){o!=="selectionchange"&&(GR.has(o)||Yp(o,!1,r),Yp(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[cf]||(a[cf]=!0,Yp("selectionchange",!1,a))}}function zT(r,a,o,u){switch(pb(a)){case 2:var d=vI;break;case 8:d=EI;break;default:d=cg}o=d.bind(null,a,o,r),d=void 0,!Fs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(a,o,{capture:!0,passive:d}):r.addEventListener(a,o,!0):d!==void 0?r.addEventListener(a,o,{passive:d}):r.addEventListener(a,o,!1)}function Xp(r,a,o,u,d){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var R=u.stateNode.containerInfo;if(R===d)break;if(E===4)for(E=u.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;R!==null;){if(E=$t(R),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){u=g=E;continue e}R=R.parentNode}}u=u.return}Ha(function(){var X=g,ae=Xr(o),he=[];e:{var J=vv.get(r);if(J!==void 0){var te=Li,Le=r;switch(r){case"keypress":if(Gs(o)===0)break e;case"keydown":case"keyup":te=Eh;break;case"focusin":Le="focus",te=Ks;break;case"focusout":Le="blur",te=Ks;break;case"beforeblur":case"afterblur":te=Ks;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=_;break;case pv:case gv:case yv:te=dh;break;case _v:te=N;break;case"scroll":case"scrollend":te=pu;break;case"wheel":te=Z;break;case"copy":case"cut":case"paste":te=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ra;break;case"toggle":case"beforetoggle":te=Ze}var qe=(a&4)!==0,Ft=!qe&&(r==="scroll"||r==="scrollend"),K=qe?J!==null?J+"Capture":null:J;qe=[];for(var q=X,Q;q!==null;){var oe=q;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||K===null||(oe=pi(q,K),oe!=null&&qe.push($u(q,oe,Q))),Ft)break;q=q.return}0<qe.length&&(J=new te(J,Le,null,o,ae),he.push({event:J,listeners:qe}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",J&&o!==fu&&(Le=o.relatedTarget||o.fromElement)&&($t(Le)||Le[Pe]))break e;if((te||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Le=o.relatedTarget||o.toElement,te=X,Le=Le?$t(Le):null,Le!==null&&(Ft=l(Le),qe=Le.tag,Le!==Ft||qe!==5&&qe!==27&&qe!==6)&&(Le=null)):(te=null,Le=X),te!==Le)){if(qe=gu,oe="onMouseLeave",K="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(qe=ra,oe="onPointerLeave",K="onPointerEnter",q="pointer"),Ft=te==null?J:Kt(te),Q=Le==null?J:Kt(Le),J=new qe(oe,q+"leave",te,o,ae),J.target=Ft,J.relatedTarget=Q,oe=null,$t(ae)===X&&(qe=new qe(K,q+"enter",Le,o,ae),qe.target=Q,qe.relatedTarget=Ft,oe=qe),Ft=oe,te&&Le)t:{for(qe=$R,K=te,q=Le,Q=0,oe=K;oe;oe=qe(oe))Q++;oe=0;for(var He=q;He;He=qe(He))oe++;for(;0<Q-oe;)K=qe(K),Q--;for(;0<oe-Q;)q=qe(q),oe--;for(;Q--;){if(K===q||q!==null&&K===q.alternate){qe=K;break t}K=qe(K),q=qe(q)}qe=null}else qe=null;te!==null&&BT(he,J,te,qe,!1),Le!==null&&Ft!==null&&BT(he,Ft,Le,qe,!0)}}e:{if(J=X?Kt(X):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var At=iv;else if(nv(J))if(av)At=rR;else{At=tR;var ke=eR}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Po(X.elementType)&&(At=iv):At=nR;if(At&&(At=At(r,X))){rv(he,At,o,ae);break e}ke&&ke(r,J,X),r==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&uu(J,"number",J.value)}switch(ke=X?Kt(X):window,r){case"focusin":(nv(ke)||ke.contentEditable==="true")&&(Ho=ke,wm=X,Tu=null);break;case"focusout":Tu=wm=Ho=null;break;case"mousedown":Cm=!0;break;case"contextmenu":case"mouseup":case"dragend":Cm=!1,dv(he,o,ae);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":dv(he,o,ae)}var it;if(Rt)e:{switch(r){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Bo?Ys(r,o)&&(dt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(dt="onCompositionStart");dt&&(Ui&&o.locale!=="ko"&&(Bo||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Bo&&(it=mu()):(Vi=ae,du="value"in Vi?Vi.value:Vi.textContent,Bo=!0)),ke=hf(X,dt),0<ke.length&&(dt=new ki(dt,r,null,o,ae),he.push({event:dt,listeners:ke}),it?dt.data=it:(it=zo(o),it!==null&&(dt.data=it)))),(it=Jr?XC(r,o):WC(r,o))&&(dt=hf(X,"onBeforeInput"),0<dt.length&&(ke=new ki("onBeforeInput","beforeinput",null,o,ae),he.push({event:ke,listeners:dt}),ke.data=it)),HR(he,r,X,o,ae)}UT(he,a)})}function $u(r,a,o){return{instance:r,listener:a,currentTarget:o}}function hf(r,a){for(var o=a+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=pi(r,o),d!=null&&u.unshift($u(r,d,g)),d=pi(r,a),d!=null&&u.push($u(r,d,g))),r.tag===3)return u;r=r.return}return[]}function $R(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function BT(r,a,o,u,d){for(var g=a._reactName,E=[];o!==null&&o!==u;){var R=o,U=R.alternate,X=R.stateNode;if(R=R.tag,U!==null&&U===u)break;R!==5&&R!==26&&R!==27||X===null||(U=X,d?(X=pi(o,g),X!=null&&E.unshift($u(o,X,U))):d||(X=pi(o,g),X!=null&&E.push($u(o,X,U)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var KR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function HT(r){return(typeof r=="string"?r:""+r).replace(KR,`
`).replace(YR,"")}function FT(r,a){return a=HT(a),HT(r)===a}function Ht(r,a,o,u,d,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Er(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Er(r,""+u);break;case"className":Sn(r,"class",u);break;case"tabIndex":Sn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(r,o,u);break;case"style":hu(r,u,g);break;case"data":if(a!=="object"){Sn(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Vo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Ht(r,a,"name",d.name,d,null),Ht(r,a,"formEncType",d.formEncType,d,null),Ht(r,a,"formMethod",d.formMethod,d,null),Ht(r,a,"formTarget",d.formTarget,d,null)):(Ht(r,a,"encType",d.encType,d,null),Ht(r,a,"method",d.method,d,null),Ht(r,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Vo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=mi);break;case"onScroll":u!=null&&ct("scroll",r);break;case"onScrollEnd":u!=null&&ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Vo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ct("beforetoggle",r),ct("toggle",r),un(r,"popover",u);break;case"xlinkActuate":Ut(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":un(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ch.get(o)||o,un(r,o,u))}}function Wp(r,a,o,u,d,g){switch(o){case"style":hu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Er(r,u):(typeof u=="number"||typeof u=="bigint")&&Er(r,""+u);break;case"onScroll":u!=null&&ct("scroll",r);break;case"onScrollEnd":u!=null&&ct("scrollend",r);break;case"onClick":u!=null&&(r.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),g=r[Ie]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):un(r,o,u)}}}function Fn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",r),ct("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ht(r,a,g,E,o,null)}}d&&Ht(r,a,"srcSet",o.srcSet,o,null),u&&Ht(r,a,"src",o.src,o,null);return;case"input":ct("invalid",r);var R=g=E=d=null,U=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":d=ae;break;case"type":E=ae;break;case"checked":U=ae;break;case"defaultChecked":X=ae;break;case"value":g=ae;break;case"defaultValue":R=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:Ht(r,a,u,ae,o,null)}}oh(r,g,R,U,X,E,d,!1);return;case"select":ct("invalid",r),u=E=g=null;for(d in o)if(o.hasOwnProperty(d)&&(R=o[d],R!=null))switch(d){case"value":g=R;break;case"defaultValue":E=R;break;case"multiple":u=R;default:Ht(r,a,d,R,o,null)}a=g,o=E,r.multiple=!!u,a!=null?ka(r,!!u,a,!1):o!=null&&ka(r,!!u,o,!0);return;case"textarea":ct("invalid",r),g=d=u=null;for(E in o)if(o.hasOwnProperty(E)&&(R=o[E],R!=null))switch(E){case"value":u=R;break;case"defaultValue":d=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Ht(r,a,E,R,o,null)}Ua(r,u,d,g);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ht(r,a,U,u,o,null)}return;case"dialog":ct("beforetoggle",r),ct("toggle",r),ct("cancel",r),ct("close",r);break;case"iframe":case"object":ct("load",r);break;case"video":case"audio":for(u=0;u<Gu.length;u++)ct(Gu[u],r);break;case"image":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"embed":case"source":case"link":ct("error",r),ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ht(r,a,X,u,o,null)}return;default:if(Po(a)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&Wp(r,a,ae,u,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(u=o[R],u!=null&&Ht(r,a,R,u,o,null))}function QR(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,E=null,R=null,U=null,X=null,ae=null;for(te in o){var he=o[te];if(o.hasOwnProperty(te)&&he!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=he;default:u.hasOwnProperty(te)||Ht(r,a,te,null,u,he)}}for(var J in u){var te=u[J];if(he=o[J],u.hasOwnProperty(J)&&(te!=null||he!=null))switch(J){case"type":g=te;break;case"name":d=te;break;case"checked":X=te;break;case"defaultChecked":ae=te;break;case"value":E=te;break;case"defaultValue":R=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==he&&Ht(r,a,J,te,u,he)}}Mo(r,E,R,U,X,ae,g,d);return;case"select":te=E=R=J=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":te=U;default:u.hasOwnProperty(g)||Ht(r,a,g,null,u,U)}for(d in u)if(g=u[d],U=o[d],u.hasOwnProperty(d)&&(g!=null||U!=null))switch(d){case"value":J=g;break;case"defaultValue":R=g;break;case"multiple":E=g;default:g!==U&&Ht(r,a,d,g,u,U)}a=R,o=E,u=te,J!=null?ka(r,!!o,J,!1):!!u!=!!o&&(a!=null?ka(r,!!o,a,!0):ka(r,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(R in o)if(d=o[R],o.hasOwnProperty(R)&&d!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ht(r,a,R,null,u,d)}for(E in u)if(d=u[E],g=o[E],u.hasOwnProperty(E)&&(d!=null||g!=null))switch(E){case"value":J=d;break;case"defaultValue":te=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&Ht(r,a,E,d,u,g)}lh(r,J,te);return;case"option":for(var Le in o)if(J=o[Le],o.hasOwnProperty(Le)&&J!=null&&!u.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:Ht(r,a,Le,null,u,J)}for(U in u)if(J=u[U],te=o[U],u.hasOwnProperty(U)&&J!==te&&(J!=null||te!=null))switch(U){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ht(r,a,U,J,u,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in o)J=o[qe],o.hasOwnProperty(qe)&&J!=null&&!u.hasOwnProperty(qe)&&Ht(r,a,qe,null,u,J);for(X in u)if(J=u[X],te=o[X],u.hasOwnProperty(X)&&J!==te&&(J!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Ht(r,a,X,J,u,te)}return;default:if(Po(a)){for(var Ft in o)J=o[Ft],o.hasOwnProperty(Ft)&&J!==void 0&&!u.hasOwnProperty(Ft)&&Wp(r,a,Ft,void 0,u,J);for(ae in u)J=u[ae],te=o[ae],!u.hasOwnProperty(ae)||J===te||J===void 0&&te===void 0||Wp(r,a,ae,J,u,te);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!u.hasOwnProperty(K)&&Ht(r,a,K,null,u,J);for(he in u)J=u[he],te=o[he],!u.hasOwnProperty(he)||J===te||J==null&&te==null||Ht(r,a,he,J,u,te)}function qT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,E=d.initiatorType,R=d.duration;if(g&&R&&qT(E)){for(E=0,R=d.responseEnd,u+=1;u<o.length;u++){var U=o[u],X=U.startTime;if(X>R)break;var ae=U.transferSize,he=U.initiatorType;ae&&qT(he)&&(U=U.responseEnd,E+=ae*(U<R?1:(R-X)/(U-X)))}if(--u,a+=8*(g+E)/(d.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Jp=null,Zp=null;function ff(r){return r.nodeType===9?r:r.ownerDocument}function GT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function eg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var tg=null;function WR(){var r=window.event;return r&&r.type==="popstate"?r===tg?!1:(tg=r,!0):(tg=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,YT=typeof Promise=="function"?Promise:void 0,ZR=typeof queueMicrotask=="function"?queueMicrotask:typeof YT<"u"?function(r){return YT.resolve(null).then(r).catch(eI)}:KT;function eI(r){setTimeout(function(){throw r})}function ls(r){return r==="head"}function QT(r,a){var o=a,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(d),pl(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ku(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Ku(o);for(var g=o.firstChild;g;){var E=g.nextSibling,R=g.nodeName;g[kt]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&Ku(r.ownerDocument.body);o=d}while(o);pl(a)}function XT(r,a){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function ng(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ng(o),Zt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function tI(r,a,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[kt])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ai(r.nextSibling),r===null)break}return null}function nI(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ai(r.nextSibling),r===null))return null;return r}function WT(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=ai(r.nextSibling),r===null))return null;return r}function rg(r){return r.data==="$?"||r.data==="$~"}function ig(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function rI(r,a){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function ai(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var ag=null;function JT(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(a===0)return ai(r.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}r=r.nextSibling}return null}function ZT(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return r;a--}else o!=="/$"&&o!=="/&"||a++}r=r.previousSibling}return null}function eb(r,a,o){switch(a=ff(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ku(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Zt(r)}var si=new Map,tb=new Set;function df(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _a=se.d;se.d={f:iI,r:aI,D:sI,C:oI,L:lI,m:uI,X:hI,S:cI,M:fI};function iI(){var r=_a.f(),a=rf();return r||a}function aI(r){var a=nt(r);a!==null&&a.tag===5&&a.type==="form"?_E(a):_a.r(r)}var fl=typeof document>"u"?null:document;function nb(r,a,o){var u=fl;if(u&&typeof a=="string"&&a){var d=vr(a);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),tb.has(d)||(tb.add(d),r={rel:r,crossOrigin:o,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),Fn(a,"link",r),Yt(a),u.head.appendChild(a)))}}function sI(r){_a.D(r),nb("dns-prefetch",r,null)}function oI(r,a){_a.C(r,a),nb("preconnect",r,a)}function lI(r,a,o){_a.L(r,a,o);var u=fl;if(u&&r&&a){var d='link[rel="preload"][as="'+vr(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+vr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+vr(o.imageSizes)+'"]')):d+='[href="'+vr(r)+'"]';var g=d;switch(a){case"style":g=dl(r);break;case"script":g=ml(r)}si.has(g)||(r=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),si.set(g,r),u.querySelector(d)!==null||a==="style"&&u.querySelector(Yu(g))||a==="script"&&u.querySelector(Qu(g))||(a=u.createElement("link"),Fn(a,"link",r),Yt(a),u.head.appendChild(a)))}}function uI(r,a){_a.m(r,a);var o=fl;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+vr(u)+'"][href="'+vr(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ml(r)}if(!si.has(g)&&(r=v({rel:"modulepreload",href:r},a),si.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qu(g)))return}u=o.createElement("link"),Fn(u,"link",r),Yt(u),o.head.appendChild(u)}}}function cI(r,a,o){_a.S(r,a,o);var u=fl;if(u&&r){var d=Ln(u).hoistableStyles,g=dl(r);a=a||"default";var E=d.get(g);if(!E){var R={loading:0,preload:null};if(E=u.querySelector(Yu(g)))R.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":a},o),(o=si.get(g))&&sg(r,o);var U=E=u.createElement("link");Yt(U),Fn(U,"link",r),U._p=new Promise(function(X,ae){U.onload=X,U.onerror=ae}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,mf(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:R},d.set(g,E)}}}function hI(r,a){_a.X(r,a);var o=fl;if(o&&r){var u=Ln(o).hoistableScripts,d=ml(r),g=u.get(d);g||(g=o.querySelector(Qu(d)),g||(r=v({src:r,async:!0},a),(a=si.get(d))&&og(r,a),g=o.createElement("script"),Yt(g),Fn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function fI(r,a){_a.M(r,a);var o=fl;if(o&&r){var u=Ln(o).hoistableScripts,d=ml(r),g=u.get(d);g||(g=o.querySelector(Qu(d)),g||(r=v({src:r,async:!0,type:"module"},a),(a=si.get(d))&&og(r,a),g=o.createElement("script"),Yt(g),Fn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function rb(r,a,o,u){var d=(d=Se.current)?df(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=dl(o.href),o=Ln(d).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=dl(o.href);var g=Ln(d).hoistableStyles,E=g.get(r);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=d.querySelector(Yu(r)))&&!g._p&&(E.instance=g,E.state.loading=5),si.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},si.set(r,o),g||dI(d,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ml(o),o=Ln(d).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function dl(r){return'href="'+vr(r)+'"'}function Yu(r){return'link[rel="stylesheet"]['+r+"]"}function ib(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function dI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Fn(a,"link",o),Yt(a),r.head.appendChild(a))}function ml(r){return'[src="'+vr(r)+'"]'}function Qu(r){return"script[async]"+r}function ab(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+vr(o.href)+'"]');if(u)return a.instance=u,Yt(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Yt(u),Fn(u,"style",d),mf(u,o.precedence,r),a.instance=u;case"stylesheet":d=dl(o.href);var g=r.querySelector(Yu(d));if(g)return a.state.loading|=4,a.instance=g,Yt(g),g;u=ib(o),(d=si.get(d))&&sg(u,d),g=(r.ownerDocument||r).createElement("link"),Yt(g);var E=g;return E._p=new Promise(function(R,U){E.onload=R,E.onerror=U}),Fn(g,"link",u),a.state.loading|=4,mf(g,o.precedence,r),a.instance=g;case"script":return g=ml(o.src),(d=r.querySelector(Qu(g)))?(a.instance=d,Yt(d),d):(u=o,(d=si.get(g))&&(u=v({},o),og(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Yt(d),Fn(d,"link",u),r.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,mf(u,o.precedence,r));return a.instance}function mf(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,E=0;E<u.length;E++){var R=u[E];if(R.dataset.precedence===a)g=R;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function sg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function og(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var pf=null;function sb(r,a,o){if(pf===null){var u=new Map,d=pf=new Map;d.set(o,u)}else d=pf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[kt]||g[Ae]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(a)||"";E=r+E;var R=u.get(E);R?R.push(g):u.set(E,[g])}}return u}function ob(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function mI(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function lb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function pI(r,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=dl(u.href),g=a.querySelector(Yu(d));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=gf.bind(r),a.then(r,r)),o.state.loading|=4,o.instance=g,Yt(g);return}g=a.ownerDocument||a,u=ib(u),(d=si.get(d))&&sg(u,d),g=g.createElement("link"),Yt(g);var E=g;E._p=new Promise(function(R,U){E.onload=R,E.onerror=U}),Fn(g,"link",u),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=gf.bind(r),a.addEventListener("load",o),a.addEventListener("error",o))}}var lg=0;function gI(r,a){return r.stylesheets&&r.count===0&&_f(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&_f(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+a);0<r.imgBytes&&lg===0&&(lg=62500*XR());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&_f(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>lg?50:800)+a);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yf=null;function _f(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yf=new Map,a.forEach(yI,r),yf=null,gf.call(r))}function yI(r,a){if(!(a.state.loading&4)){var o=yf.get(r);if(o)var u=o.get(null);else{o=new Map,yf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var E=d[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}d=a.instance,E=d.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,d),o.set(E,d),this.count++,u=gf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),a.state.loading|=4}}var Xu={$$typeof:G,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function _I(r,a,o,u,d,g,E,R,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function ub(r,a,o,u,d,g,E,R,U,X,ae,he){return r=new _I(r,a,o,E,U,X,ae,he,R),a=1,g===!0&&(a|=24),g=Vr(3,null,null,a),r.current=g,g.stateNode=r,a=Bm(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},Gm(g),r}function cb(r){return r?(r=Go,r):Go}function hb(r,a,o,u,d,g){d=cb(d),u.context===null?u.context=d:u.pendingContext=d,u=Wa(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ja(r,u,a),o!==null&&(wr(o,r,a),Iu(o,r,a))}function fb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function ug(r,a){fb(r,a),(r=r.alternate)&&fb(r,a)}function db(r){if(r.tag===13||r.tag===31){var a=Ws(r,67108864);a!==null&&wr(a,r,67108864),ug(r,67108864)}}function mb(r){if(r.tag===13||r.tag===31){var a=zr();a=W(a);var o=Ws(r,a);o!==null&&wr(o,r,a),ug(r,a)}}var vf=!0;function vI(r,a,o,u){var d=z.T;z.T=null;var g=se.p;try{se.p=2,cg(r,a,o,u)}finally{se.p=g,z.T=d}}function EI(r,a,o,u){var d=z.T;z.T=null;var g=se.p;try{se.p=8,cg(r,a,o,u)}finally{se.p=g,z.T=d}}function cg(r,a,o,u){if(vf){var d=hg(u);if(d===null)Xp(r,a,u,Ef,o),gb(r,u);else if(bI(d,r,a,o,u))u.stopPropagation();else if(gb(r,u),a&4&&-1<TI.indexOf(r)){for(;d!==null;){var g=nt(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Qr(g.pendingLanes);if(E!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var U=1<<31-je(E);R.entanglements[1]|=U,E&=~U}Fi(g),(It&6)===0&&(tf=qt()+500,qu(0))}}break;case 31:case 13:R=Ws(g,2),R!==null&&wr(R,g,2),rf(),ug(g,2)}if(g=hg(u),g===null&&Xp(r,a,u,Ef,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Xp(r,a,u,null,o)}}function hg(r){return r=Xr(r),fg(r)}var Ef=null;function fg(r){if(Ef=null,r=$t(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===31){if(r=f(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Ef=r,null}function pb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case Yr:return 2;case Wn:return 8;case Jt:case bn:return 32;case xi:return 268435456;default:return 32}default:return 32}}var dg=!1,us=null,cs=null,hs=null,Wu=new Map,Ju=new Map,fs=[],TI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(r,a){switch(r){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Wu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(a.pointerId)}}function Zu(r,a,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},a!==null&&(a=nt(a),a!==null&&db(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),r)}function bI(r,a,o,u,d){switch(a){case"focusin":return us=Zu(us,r,a,o,u,d),!0;case"dragenter":return cs=Zu(cs,r,a,o,u,d),!0;case"mouseover":return hs=Zu(hs,r,a,o,u,d),!0;case"pointerover":var g=d.pointerId;return Wu.set(g,Zu(Wu.get(g)||null,r,a,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Ju.set(g,Zu(Ju.get(g)||null,r,a,o,u,d)),!0}return!1}function yb(r){var a=$t(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,Oe(r.priority,function(){mb(o)});return}}else if(a===31){if(a=f(o),a!==null){r.blockedOn=a,Oe(r.priority,function(){mb(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=hg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);fu=u,o.target.dispatchEvent(u),fu=null}else return a=nt(o),a!==null&&db(a),r.blockedOn=o,!1;a.shift()}return!0}function _b(r,a,o){Tf(r)&&o.delete(a)}function SI(){dg=!1,us!==null&&Tf(us)&&(us=null),cs!==null&&Tf(cs)&&(cs=null),hs!==null&&Tf(hs)&&(hs=null),Wu.forEach(_b),Ju.forEach(_b)}function bf(r,a){r.blockedOn===a&&(r.blockedOn=null,dg||(dg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,SI)))}var Sf=null;function vb(r){Sf!==r&&(Sf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sf===r&&(Sf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],d=r[a+2];if(typeof u!="function"){if(fg(u||o)===null)continue;break}var g=nt(o);g!==null&&(r.splice(a,3),a-=3,hp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function pl(r){function a(U){return bf(U,r)}us!==null&&bf(us,r),cs!==null&&bf(cs,r),hs!==null&&bf(hs,r),Wu.forEach(a),Ju.forEach(a);for(var o=0;o<fs.length;o++){var u=fs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<fs.length&&(o=fs[0],o.blockedOn===null);)yb(o),o.blockedOn===null&&fs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],E=d[Ie]||null;if(typeof g=="function")E||vb(o);else if(E){var R=null;if(g&&g.hasAttribute("formAction")){if(d=g,E=g[Ie]||null)R=E.formAction;else if(fg(d)!==null)continue}else R=E.action;typeof R=="function"?o[u+1]=R:(o.splice(u,3),u-=3),vb(o)}}}function Eb(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return d=E})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function mg(r){this._internalRoot=r}Af.prototype.render=mg.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=zr();hb(o,u,r,a,null,null)},Af.prototype.unmount=mg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;hb(r.current,2,null,r,null,null),rf(),a[Pe]=null}};function Af(r){this._internalRoot=r}Af.prototype.unstable_scheduleHydration=function(r){if(r){var a=be();r={blockedOn:null,target:r,priority:a};for(var o=0;o<fs.length&&a!==0&&a<fs[o].priority;o++);fs.splice(o,0,r),o===0&&yb(r)}};var Tb=e.version;if(Tb!=="19.2.4")throw Error(i(527,Tb,"19.2.4"));se.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(a),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var AI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Ce=wf.inject(AI),de=wf}catch{}}return tc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",d=IE,g=xE,E=NE;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=ub(r,1,!1,null,null,o,u,null,d,g,E,Eb),r[Pe]=a.current,Qp(r),new mg(a)},tc.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,d="",g=IE,E=xE,R=NE,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),a=ub(r,1,!0,a,o??null,u,d,U,g,E,R,Eb),a.context=cb(null),o=a.current,u=zr(),u=W(u),d=Wa(u),d.callback=null,Ja(o,d,u),o=u,a.current.lanes=o,Ni(a,o),Fi(a),r[Pe]=a.current,Qp(r),new Af(a)},tc.version="19.2.4",tc}var Db;function jI(){if(Db)return _g.exports;Db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_g.exports=LI(),_g.exports}var kI=jI();const UI=iA(kI);var bg={exports:{}},Sg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function zI(){if(Ob)return Sg;Ob=1;var n=zd();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,f=n.useDebugValue;return Sg.useSyncExternalStoreWithSelector=function(m,p,y,v,S){var w=s(null);if(w.current===null){var O={hasValue:!1,value:null};w.current=O}else O=w.current;w=c(function(){function P(ie){if(!F){if(F=!0,B=ie,ie=v(ie),S!==void 0&&O.hasValue){var ne=O.value;if(S(ne,ie))return G=ne}return G=ie}if(ne=G,t(B,ie))return ne;var A=v(ie);return S!==void 0&&S(ne,A)?(B=ie,ne):(B=ie,G=A)}var F=!1,B,G,ee=y===void 0?null:y;return[function(){return P(p())},ee===null?void 0:function(){return P(ee())}]},[p,y,v,S]);var H=i(m,w[0],w[1]);return l(function(){O.hasValue=!0,O.value=H},[H]),f(H),H},Sg}var Mb;function BI(){return Mb||(Mb=1,bg.exports=zI()),bg.exports}var HI=BI();function FI(n){n()}function qI(){let n=null,e=null;return{clear(){n=null,e=null},notify(){FI(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!i||n===null||(i=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var Pb={notify(){},get:()=>[]};function GI(n,e){let t,i=Pb,s=0,l=!1;function c(H){y();const P=i.subscribe(H);let F=!1;return()=>{F||(F=!0,P(),v())}}function f(){i.notify()}function m(){O.onStateChange&&O.onStateChange()}function p(){return l}function y(){s++,t||(t=n.subscribe(m),i=qI())}function v(){s--,t&&s===0&&(t(),t=void 0,i.clear(),i=Pb)}function S(){l||(l=!0,y())}function w(){l&&(l=!1,v())}const O={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:p,trySubscribe:S,tryUnsubscribe:w,getListeners:()=>i};return O}var $I=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KI=$I(),YI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QI=YI(),XI=()=>KI||QI?V.useLayoutEffect:V.useEffect,WI=XI(),Ag=Symbol.for("react-redux-context"),wg=typeof globalThis<"u"?globalThis:{};function JI(){if(!V.createContext)return{};const n=wg[Ag]??(wg[Ag]=new Map);let e=n.get(V.createContext);return e||(e=V.createContext(null),n.set(V.createContext,e)),e}var xs=JI();function ZI(n){const{children:e,context:t,serverState:i,store:s}=n,l=V.useMemo(()=>{const m=GI(s);return{store:s,subscription:m,getServerState:i?()=>i:void 0}},[s,i]),c=V.useMemo(()=>s.getState(),[s]);WI(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const f=t||xs;return V.createElement(f.Provider,{value:l},e)}var ex=ZI;function zy(n=xs){return function(){return V.useContext(n)}}var oA=zy();function lA(n=xs){const e=n===xs?oA:zy(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var tx=lA();function nx(n=xs){const e=n===xs?tx:lA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var rx=nx(),ix=(n,e)=>n===e;function ax(n=xs){const e=n===xs?oA:zy(n),t=(i,s={})=>{const{equalityFn:l=ix}=typeof s=="function"?{equalityFn:s}:s,c=e(),{store:f,subscription:m,getServerState:p}=c;V.useRef(!0);const y=V.useCallback({[i.name](S){return i(S)}}[i.name],[i]),v=HI.useSyncExternalStoreWithSelector(m.addNestedSub,f.getState,p||f.getState,y,l);return V.useDebugValue(v),v};return Object.assign(t,{withTypes:()=>t}),t}var sx=ax();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uA=n=>{throw TypeError(n)},ox=(n,e,t)=>e.has(n)||uA("Cannot "+t),Cg=(n,e,t)=>(ox(n,e,"read from private field"),t?t.call(n):e.get(n)),lx=(n,e,t)=>e.has(n)?uA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Vb="popstate";function ux(n={}){function e(s,l){let{pathname:c="/",search:f="",hash:m=""}=Va(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ac("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=s.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Xi(l))}function i(s,l){hn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return hx(e,t,i,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cx(){return Math.random().toString(36).substring(2,10)}function Lb(n,e){return{usr:n.state,key:n.key,idx:e}}function Ac(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Va(e):e,state:t,key:e&&e.key||i||cx()}}function Xi({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function hx(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){f="POP";let P=y(),F=P==null?null:P-p;p=P,m&&m({action:f,location:H.location,delta:F})}function S(P,F){f="PUSH";let B=Ac(H.location,P,F);t&&t(B,P),p=y()+1;let G=Lb(B,p),ee=H.createHref(B);try{c.pushState(G,"",ee)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(ee)}l&&m&&m({action:f,location:H.location,delta:1})}function w(P,F){f="REPLACE";let B=Ac(H.location,P,F);t&&t(B,P),p=y();let G=Lb(B,p),ee=H.createHref(B);c.replaceState(G,"",ee),l&&m&&m({action:f,location:H.location,delta:0})}function O(P){return cA(P)}let H={get action(){return f},get location(){return n(s,c)},listen(P){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Vb,v),m=P,()=>{s.removeEventListener(Vb,v),m=null}},createHref(P){return e(s,P)},createURL:O,encodeLocation(P){let F=O(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:w,go(P){return c.go(P)}};return H}function cA(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Xi(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var oc,jb=class{constructor(n){if(lx(this,oc,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Cg(this,oc).has(n))return Cg(this,oc).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Cg(this,oc).set(n,e)}};oc=new WeakMap;var fx=new Set(["lazy","caseSensitive","path","id","index","children"]);function dx(n){return fx.has(n)}var mx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function px(n){return mx.has(n)}function gx(n){return n.index===!0}function wc(n,e,t=[],i={},s=!1){return n.map((l,c)=>{let f=[...t,String(c)],m=typeof l.id=="string"?l.id:f.join("-");if(ot(l.index!==!0||!l.children,"Cannot specify children on an index route"),ot(s||!i[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),gx(l)){let p={...l,id:m};return i[m]=kb(p,e(p)),p}else{let p={...l,id:m,children:void 0};return i[m]=kb(p,e(p)),l.children&&(p.children=wc(l.children,e,f,i,s)),p}})}function kb(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function gs(n,e,t="/"){return lc(n,e,t,!1)}function lc(n,e,t,i){let s=typeof e=="string"?Va(e):e,l=ci(s.pathname||"/",t);if(l==null)return null;let c=hA(n);_x(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=xx(l);f=Rx(c[m],p,i)}return f}function yx(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function hA(n,e=[],t=[],i="",s=!1){let l=(c,f,m=s,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;ot(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Gi([i,y.relativePath]),S=t.concat(y);c.children&&c.children.length>0&&(ot(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),hA(c.children,e,S,v,m)),!(c.path==null&&!c.index)&&e.push({path:v,score:wx(v,c.index),routesMeta:S})};return n.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of fA(c.path))l(c,f,!0,p)}),e}function fA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=fA(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function _x(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Cx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var vx=/^:[\w-]+$/,Ex=3,Tx=2,bx=1,Sx=10,Ax=-2,Ub=n=>n==="*";function wx(n,e){let t=n.split("/"),i=t.length;return t.some(Ub)&&(i+=Ax),e&&(i+=Tx),t.filter(s=>!Ub(s)).reduce((s,l)=>s+(vx.test(l)?Ex:l===""?bx:Sx),i)}function Cx(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function Rx(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=cd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),S=m.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=cd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:Gi([l,v.pathname]),pathnameBase:Ox(Gi([l,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(l=Gi([l,v.pathnameBase]))}return c}function cd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Ix(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:v},S)=>{if(y==="*"){let O=f[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const w=f[S];return v&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function Ix(n,e=!1,t=!0){hn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function xx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Nx({basename:n,pathname:e}){return e==="/"?n:Gi([n,e])}var dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,By=n=>dA.test(n);function Dx(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Va(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=zb(t.substring(1),"/"):l=zb(t,e)):l=e,{pathname:l,search:Mx(i),hash:Px(s)}}function zb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Rg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mA(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bd(n){let e=mA(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Hd(n,e,t,i=!1){let s;typeof n=="string"?s=Va(n):(s={...n},ot(!s.pathname||!s.pathname.includes("?"),Rg("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Rg("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Rg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=t;else{let v=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),v-=1;s.pathname=S.join("/")}f=v>=0?e[v]:"/"}let m=Dx(s,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Gi=n=>n.join("/").replace(/\/\/+/g,"/"),Ox=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Mx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Px=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Uc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Cc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function zc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gA(n,e){let t=n;if(typeof t!="string"||!dA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,s=!1;if(pA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),f=ci(c.pathname,e);c.origin===l.origin&&f!=null?t=f+c.search+c.hash:s=!0}catch{hn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:t}}var Ts=Symbol("Uninstrumented");function Vx(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let f of c)l[f]&&t[f].push(l[f])}}));let i={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=Rl(t.lazy,e.lazy,()=>{});s&&(i.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(l=>{let c=s[l],f=t[`lazy.${l}`];if(typeof c=="function"&&f.length>0){let m=Rl(f,c,()=>{});m&&(i.lazy=Object.assign(i.lazy||{},{[l]:m}))}})}return["loader","action"].forEach(s=>{let l=e[s];if(typeof l=="function"&&t[s].length>0){let c=l[Ts]??l,f=Rl(t[s],c,(...m)=>Bb(m[0]));f&&(s==="loader"&&c.hydrate===!0&&(f.hydrate=!0),f[Ts]=c,i[s]=f)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(i.middleware=e.middleware.map(s=>{let l=s[Ts]??s,c=Rl(t.middleware,l,(...f)=>Bb(f[0]));return c?(c[Ts]=l,c):s})),i}function Lx(n,e){let t={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(s){let l=Object.keys(s);for(let c of l)s[c]&&t[c].push(s[c])}})),t.navigate.length>0){let i=n.navigate[Ts]??n.navigate,s=Rl(t.navigate,i,(...l)=>{let[c,f]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?Xi(c):".",...Hb(n,f??{})}});s&&(s[Ts]=i,n.navigate=s)}if(t.fetch.length>0){let i=n.fetch[Ts]??n.fetch,s=Rl(t.fetch,i,(...l)=>{let[c,,f,m]=l;return{href:f??".",fetcherKey:c,...Hb(n,m??{})}});s&&(s[Ts]=i,n.fetch=s)}return n}function Rl(n,e,t){return n.length===0?null:async(...i)=>{let s=await yA(n,t(...i),()=>e(...i),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function yA(n,e,t,i){let s=n[i],l;if(s){let c,f=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=yA(n,e,t,i-1),l=await c,ot(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await s(f,e)}catch(m){console.error("An instrumentation function threw an error:",m)}c||await f(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Bb(n){let{request:e,context:t,params:i,unstable_pattern:s}=n;return{request:jx(e),params:{...i},unstable_pattern:s,context:kx(t)}}function Hb(n,e){return{currentUrl:Xi(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function jx(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function kx(n){if(zx(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var Ux=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zx(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===Ux}var _A=["POST","PUT","PATCH","DELETE"],Bx=new Set(_A),Hx=["GET",..._A],Fx=new Set(Hx),vA=new Set([301,302,303,307,308]),qx=new Set([307,308]),Ig={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Gx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$x=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),EA="remix-router-transitions",TA=Symbol("ResetLoaderData");function Kx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ot(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||$x,l=s;if(n.unstable_instrumentations){let k=n.unstable_instrumentations;l=$=>({...s($),...Vx(k.map(W=>W.route).filter(Boolean),$)})}let c={},f=wc(n.routes,l,void 0,c),m,p=n.basename||"/";p.startsWith("/")||(p=`/${p}`);let y=n.dataStrategy||Jx,v={...n.future},S=null,w=new Set,O=null,H=null,P=null,F=n.hydrationData!=null,B=gs(f,n.history.location,p),G=!1,ee=null,ie;if(B==null&&!n.patchRoutesOnNavigation){let k=oi(404,{pathname:n.history.location.pathname}),{matches:$,route:W}=Cf(f);ie=!0,B=$,ee={[W.id]:k}}else if(B&&!n.hydrationData&&Zi(B,f,n.history.location.pathname).active&&(B=null),B)if(B.some(k=>k.route.lazy))ie=!1;else if(!B.some(k=>Hy(k.route)))ie=!0;else{let k=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let W=B.findIndex(me=>$[me.route.id]!==void 0);ie=B.slice(0,W+1).every(me=>!ry(me.route,k,$))}else ie=B.every(W=>!ry(W.route,k,$))}else{ie=!1,B=[];let k=Zi(null,f,n.history.location.pathname);k.active&&k.matches&&(G=!0,B=k.matches)}let ne,A={historyAction:n.history.action,location:n.history.location,matches:B,initialized:ie,navigation:Ig,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},I="POP",C=null,M=!1,D,L=!1,x=new Map,ge=null,Te=!1,z=!1,se=new Set,ye=new Map,pe=0,Ee=-1,j=new Map,re=new Set,_e=new Map,we=new Map,le=new Set,Se=new Map,xe,ze=null;function Be(){if(S=n.history.listen(({action:k,location:$,delta:W})=>{if(xe){xe(),xe=void 0;return}hn(Se.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=mn({currentLocation:A.location,nextLocation:$,historyAction:k});if(me&&W!=null){let be=new Promise(Oe=>{xe=Oe});n.history.go(W*-1),xt(me,{state:"blocked",location:$,proceed(){xt(me,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),be.then(()=>n.history.go(W))},reset(){let Oe=new Map(A.blockers);Oe.set(me,nc),Ye({blockers:Oe})}}),C==null||C.resolve(),C=null;return}return dn(k,$)}),t){gN(e,x);let k=()=>yN(e,x);e.addEventListener("pagehide",k),ge=()=>e.removeEventListener("pagehide",k)}return A.initialized||dn("POP",A.location,{initialHydration:!0}),ne}function at(){S&&S(),ge&&ge(),w.clear(),D&&D.abort(),A.fetchers.forEach((k,$)=>ve($)),A.blockers.forEach((k,$)=>St($))}function bt(k){return w.add(k),()=>w.delete(k)}function Ye(k,$={}){k.matches&&(k.matches=k.matches.map(be=>{let Oe=c[be.route.id],Ve=be.route;return Ve.element!==Oe.element||Ve.errorElement!==Oe.errorElement||Ve.hydrateFallbackElement!==Oe.hydrateFallbackElement?{...be,route:Oe}:be})),A={...A,...k};let W=[],me=[];A.fetchers.forEach((be,Oe)=>{be.state==="idle"&&(le.has(Oe)?W.push(Oe):me.push(Oe))}),le.forEach(be=>{!A.fetchers.has(be)&&!ye.has(be)&&W.push(be)}),[...w].forEach(be=>be(A,{deletedFetchers:W,newErrors:k.errors??null,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),W.forEach(be=>ve(be)),me.forEach(be=>A.fetchers.delete(be))}function vt(k,$,{flushSync:W}={}){var Ge,Ue;let me=A.actionData!=null&&A.navigation.formMethod!=null&&nr(A.navigation.formMethod)&&A.navigation.state==="loading"&&((Ge=k.state)==null?void 0:Ge._isRedirect)!==!0,be;$.actionData?Object.keys($.actionData).length>0?be=$.actionData:be=null:me?be=A.actionData:be=null;let Oe=$.loaderData?Jb(A.loaderData,$.loaderData,$.matches||[],$.errors):A.loaderData,Ve=A.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Qe,st)=>Ve.set(st,nc)));let Ae=Te?!1:Oo(k,$.matches||A.matches),Ie=M===!0||A.navigation.formMethod!=null&&nr(A.navigation.formMethod)&&((Ue=k.state)==null?void 0:Ue._isRedirect)!==!0;m&&(f=m,m=void 0),Te||I==="POP"||(I==="PUSH"?n.history.push(k,k.state):I==="REPLACE"&&n.history.replace(k,k.state));let Pe;if(I==="POP"){let Qe=x.get(A.location.pathname);Qe&&Qe.has(k.pathname)?Pe={currentLocation:A.location,nextLocation:k}:x.has(k.pathname)&&(Pe={currentLocation:k,nextLocation:A.location})}else if(L){let Qe=x.get(A.location.pathname);Qe?Qe.add(k.pathname):(Qe=new Set([k.pathname]),x.set(A.location.pathname,Qe)),Pe={currentLocation:A.location,nextLocation:k}}Ye({...$,actionData:be,loaderData:Oe,historyAction:I,location:k,initialized:!0,navigation:Ig,revalidation:"idle",restoreScrollPosition:Ae,preventScrollReset:Ie,blockers:Ve},{viewTransitionOpts:Pe,flushSync:W===!0}),I="POP",M=!1,L=!1,Te=!1,z=!1,C==null||C.resolve(),C=null,ze==null||ze.resolve(),ze=null}async function Mt(k,$){if(C==null||C.resolve(),C=null,typeof k=="number"){C||(C=n0());let st=C.promise;return n.history.go(k),st}let W=ny(A.location,A.matches,p,k,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:me,submission:be,error:Oe}=Fb(!1,W,$),Ve=A.location,Ae=Ac(A.location,me,$&&$.state);Ae={...Ae,...n.history.encodeLocation(Ae)};let Ie=$&&$.replace!=null?$.replace:void 0,Pe="PUSH";Ie===!0?Pe="REPLACE":Ie===!1||be!=null&&nr(be.formMethod)&&be.formAction===A.location.pathname+A.location.search&&(Pe="REPLACE");let Ge=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ue=($&&$.flushSync)===!0,Qe=mn({currentLocation:Ve,nextLocation:Ae,historyAction:Pe});if(Qe){xt(Qe,{state:"blocked",location:Ae,proceed(){xt(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),Mt(k,$)},reset(){let st=new Map(A.blockers);st.set(Qe,nc),Ye({blockers:st})}});return}await dn(Pe,Ae,{submission:be,pendingError:Oe,preventScrollReset:Ge,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ue,callSiteDefaultShouldRevalidate:$&&$.unstable_defaultShouldRevalidate})}function Qn(){ze||(ze=n0()),Wn(),Ye({revalidation:"loading"});let k=ze.promise;return A.navigation.state==="submitting"?k:A.navigation.state==="idle"?(dn(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),k):(dn(I||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:L===!0}),k)}async function dn(k,$,W){D&&D.abort(),D=null,I=k,Te=(W&&W.startUninterruptedRevalidation)===!0,Dr(A.location,A.matches),M=(W&&W.preventScrollReset)===!0,L=(W&&W.enableViewTransition)===!0;let me=m||f,be=W&&W.overrideNavigation,Oe=W!=null&&W.initialHydration&&A.matches&&A.matches.length>0&&!G?A.matches:gs(me,$,p),Ve=(W&&W.flushSync)===!0;if(Oe&&A.initialized&&!z&&sN(A.location,$)&&!(W&&W.submission&&nr(W.submission.formMethod))){vt($,{matches:Oe},{flushSync:Ve});return}let Ae=Zi(Oe,me,$.pathname);if(Ae.active&&Ae.matches&&(Oe=Ae.matches),!Oe){let{error:Zt,notFoundMatches:$t,route:nt}=rn($.pathname);vt($,{matches:$t,loaderData:{},errors:{[nt.id]:Zt}},{flushSync:Ve});return}D=new AbortController;let Ie=El(n.history,$,D.signal,W&&W.submission),Pe=n.getContext?await n.getContext():new jb,Ge;if(W&&W.pendingError)Ge=[ys(Oe).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&nr(W.submission.formMethod)){let Zt=await sr(Ie,$,W.submission,Oe,Pe,Ae.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:Ve});if(Zt.shortCircuited)return;if(Zt.pendingActionResult){let[$t,nt]=Zt.pendingActionResult;if(Br(nt)&&Cc(nt.error)&&nt.error.status===404){D=null,vt($,{matches:Zt.matches,loaderData:{},errors:{[$t]:nt.error}});return}}Oe=Zt.matches||Oe,Ge=Zt.pendingActionResult,be=xg($,W.submission),Ve=!1,Ae.active=!1,Ie=El(n.history,Ie.url,Ie.signal)}let{shortCircuited:Ue,matches:Qe,loaderData:st,errors:kt}=await Xn(Ie,$,Oe,Pe,Ae.active,be,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,Ve,Ge,W&&W.callSiteDefaultShouldRevalidate);Ue||(D=null,vt($,{matches:Qe||Oe,...Zb(Ge),loaderData:st,errors:kt}))}async function sr(k,$,W,me,be,Oe,Ve,Ae={}){Wn();let Ie=mN($,W);if(Ye({navigation:Ie},{flushSync:Ae.flushSync===!0}),Oe){let Ue=await ur(me,$.pathname,k.signal);if(Ue.type==="aborted")return{shortCircuited:!0};if(Ue.type==="error"){if(Ue.partialMatches.length===0){let{matches:st,route:kt}=Cf(f);return{matches:st,pendingActionResult:[kt.id,{type:"error",error:Ue.error}]}}let Qe=ys(Ue.partialMatches).route.id;return{matches:Ue.partialMatches,pendingActionResult:[Qe,{type:"error",error:Ue.error}]}}else if(Ue.matches)me=Ue.matches;else{let{notFoundMatches:Qe,error:st,route:kt}=rn($.pathname);return{matches:Qe,pendingActionResult:[kt.id,{type:"error",error:st}]}}}let Pe,Ge=Bf(me,$);if(!Ge.route.action&&!Ge.route.lazy)Pe={type:"error",error:oi(405,{method:k.method,pathname:$.pathname,routeId:Ge.route.id})};else{let Ue=Nl(l,c,k,me,Ge,Ve?[]:i,be),Qe=await lr(k,Ue,be,null);if(Pe=Qe[Ge.route.id],!Pe){for(let st of me)if(Qe[st.route.id]){Pe=Qe[st.route.id];break}}if(k.signal.aborted)return{shortCircuited:!0}}if(mo(Pe)){let Ue;return Ae&&Ae.replace!=null?Ue=Ae.replace:Ue=Qb(Pe.response.headers.get("Location"),new URL(k.url),p,n.history)===A.location.pathname+A.location.search,await qt(k,Pe,!0,{submission:W,replace:Ue}),{shortCircuited:!0}}if(Br(Pe)){let Ue=ys(me,Ge.route.id);return(Ae&&Ae.replace)!==!0&&(I="PUSH"),{matches:me,pendingActionResult:[Ue.route.id,Pe,Ge.route.id]}}return{matches:me,pendingActionResult:[Ge.route.id,Pe]}}async function Xn(k,$,W,me,be,Oe,Ve,Ae,Ie,Pe,Ge,Ue,Qe){let st=Oe||xg($,Ve),kt=Ve||Ae||t0(st),Zt=!Te&&!Pe;if(be){if(Zt){let un=Pt(Ue);Ye({navigation:st,...un!==void 0?{actionData:un}:{}},{flushSync:Ge})}let lt=await ur(W,$.pathname,k.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){if(lt.partialMatches.length===0){let{matches:Sn,route:Ut}=Cf(f);return{matches:Sn,loaderData:{},errors:{[Ut.id]:lt.error}}}let un=ys(lt.partialMatches).route.id;return{matches:lt.partialMatches,loaderData:{},errors:{[un]:lt.error}}}else if(lt.matches)W=lt.matches;else{let{error:un,notFoundMatches:Sn,route:Ut}=rn($.pathname);return{matches:Sn,loaderData:{},errors:{[Ut.id]:un}}}}let $t=m||f,{dsMatches:nt,revalidatingFetchers:Kt}=qb(k,me,l,c,n.history,A,W,kt,$,Pe?[]:i,Pe===!0,z,se,le,_e,re,$t,p,n.patchRoutesOnNavigation!=null,Ue,Qe);if(Ee=++pe,!n.dataStrategy&&!nt.some(lt=>lt.shouldLoad)&&!nt.some(lt=>lt.route.middleware&&lt.route.middleware.length>0)&&Kt.length===0){let lt=je();return vt($,{matches:W,loaderData:{},errors:Ue&&Br(Ue[1])?{[Ue[0]]:Ue[1].error}:null,...Zb(Ue),...lt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:Ge}),{shortCircuited:!0}}if(Zt){let lt={};if(!be){lt.navigation=st;let un=Pt(Ue);un!==void 0&&(lt.actionData=un)}Kt.length>0&&(lt.fetchers=Wt(Kt)),Ye(lt,{flushSync:Ge})}Kt.forEach(lt=>{de(lt.key),lt.controller&&ye.set(lt.key,lt.controller)});let Ln=()=>Kt.forEach(lt=>de(lt.key));D&&D.signal.addEventListener("abort",Ln);let{loaderResults:Yt,fetcherResults:yr}=await Yr(nt,Kt,k,me);if(k.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ln),Kt.forEach(lt=>ye.delete(lt.key));let Jn=Rf(Yt);if(Jn)return await qt(k,Jn.result,!0,{replace:Ie}),{shortCircuited:!0};if(Jn=Rf(yr),Jn)return re.add(Jn.key),await qt(k,Jn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:_r,errors:Zn}=Wb(A,W,Yt,Ue,Kt,yr);Pe&&A.errors&&(Zn={...A.errors,...Zn});let Or=je(),Di=ln(Ee),Oi=Or||Di||Kt.length>0;return{matches:W,loaderData:_r,errors:Zn,...Oi?{fetchers:new Map(A.fetchers)}:{}}}function Pt(k){if(k&&!Br(k[1]))return{[k[0]]:k[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Wt(k){return k.forEach($=>{let W=A.fetchers.get($.key),me=rc(void 0,W?W.data:void 0);A.fetchers.set($.key,me)}),new Map(A.fetchers)}async function Vt(k,$,W,me){de(k);let be=(me&&me.flushSync)===!0,Oe=m||f,Ve=ny(A.location,A.matches,p,W,$,me==null?void 0:me.relative),Ae=gs(Oe,Ve,p),Ie=Zi(Ae,Oe,Ve);if(Ie.active&&Ie.matches&&(Ae=Ie.matches),!Ae){bn(k,$,oi(404,{pathname:Ve}),{flushSync:be});return}let{path:Pe,submission:Ge,error:Ue}=Fb(!0,Ve,me);if(Ue){bn(k,$,Ue,{flushSync:be});return}let Qe=n.getContext?await n.getContext():new jb,st=(me&&me.preventScrollReset)===!0;if(Ge&&nr(Ge.formMethod)){await or(k,$,Pe,Ae,Qe,Ie.active,be,st,Ge,me&&me.unstable_defaultShouldRevalidate);return}_e.set(k,{routeId:$,path:Pe}),await di(k,$,Pe,Ae,Qe,Ie.active,be,st,Ge)}async function or(k,$,W,me,be,Oe,Ve,Ae,Ie,Pe){Wn(),_e.delete(k);let Ge=A.fetchers.get(k);Jt(k,pN(Ie,Ge),{flushSync:Ve});let Ue=new AbortController,Qe=El(n.history,W,Ue.signal,Ie);if(Oe){let rt=await ur(me,new URL(Qe.url).pathname,Qe.signal,k);if(rt.type==="aborted")return;if(rt.type==="error"){bn(k,$,rt.error,{flushSync:Ve});return}else if(rt.matches)me=rt.matches;else{bn(k,$,oi(404,{pathname:W}),{flushSync:Ve});return}}let st=Bf(me,W);if(!st.route.action&&!st.route.lazy){let rt=oi(405,{method:Ie.formMethod,pathname:W,routeId:$});bn(k,$,rt,{flushSync:Ve});return}ye.set(k,Ue);let kt=pe,Zt=Nl(l,c,Qe,me,st,i,be),$t=await lr(Qe,Zt,be,k),nt=$t[st.route.id];if(!nt){for(let rt of Zt)if($t[rt.route.id]){nt=$t[rt.route.id];break}}if(Qe.signal.aborted){ye.get(k)===Ue&&ye.delete(k);return}if(le.has(k)){if(mo(nt)||Br(nt)){Jt(k,Ta(void 0));return}}else{if(mo(nt))if(ye.delete(k),Ee>kt){Jt(k,Ta(void 0));return}else return re.add(k),Jt(k,rc(Ie)),qt(Qe,nt,!1,{fetcherSubmission:Ie,preventScrollReset:Ae});if(Br(nt)){bn(k,$,nt.error);return}}let Kt=A.navigation.location||A.location,Ln=El(n.history,Kt,Ue.signal),Yt=m||f,yr=A.navigation.state!=="idle"?gs(Yt,A.navigation.location,p):A.matches;ot(yr,"Didn't find any matches after fetcher action");let Jn=++pe;j.set(k,Jn);let _r=rc(Ie,nt.data);A.fetchers.set(k,_r);let{dsMatches:Zn,revalidatingFetchers:Or}=qb(Ln,be,l,c,n.history,A,yr,Ie,Kt,i,!1,z,se,le,_e,re,Yt,p,n.patchRoutesOnNavigation!=null,[st.route.id,nt],Pe);Or.filter(rt=>rt.key!==k).forEach(rt=>{let Mr=rt.key,ja=A.fetchers.get(Mr),Ct=rc(void 0,ja?ja.data:void 0);A.fetchers.set(Mr,Ct),de(Mr),rt.controller&&ye.set(Mr,rt.controller)}),Ye({fetchers:new Map(A.fetchers)});let Di=()=>Or.forEach(rt=>de(rt.key));Ue.signal.addEventListener("abort",Di);let{loaderResults:Oi,fetcherResults:lt}=await Yr(Zn,Or,Ln,be);if(Ue.signal.aborted)return;if(Ue.signal.removeEventListener("abort",Di),j.delete(k),ye.delete(k),Or.forEach(rt=>ye.delete(rt.key)),A.fetchers.has(k)){let rt=Ta(nt.data);A.fetchers.set(k,rt)}let un=Rf(Oi);if(un)return qt(Ln,un.result,!1,{preventScrollReset:Ae});if(un=Rf(lt),un)return re.add(un.key),qt(Ln,un.result,!1,{preventScrollReset:Ae});let{loaderData:Sn,errors:Ut}=Wb(A,yr,Oi,void 0,Or,lt);ln(Jn),A.navigation.state==="loading"&&Jn>Ee?(ot(I,"Expected pending action"),D&&D.abort(),vt(A.navigation.location,{matches:yr,loaderData:Sn,errors:Ut,fetchers:new Map(A.fetchers)})):(Ye({errors:Ut,loaderData:Jb(A.loaderData,Sn,yr,Ut),fetchers:new Map(A.fetchers)}),z=!1)}async function di(k,$,W,me,be,Oe,Ve,Ae,Ie){let Pe=A.fetchers.get(k);Jt(k,rc(Ie,Pe?Pe.data:void 0),{flushSync:Ve});let Ge=new AbortController,Ue=El(n.history,W,Ge.signal);if(Oe){let nt=await ur(me,new URL(Ue.url).pathname,Ue.signal,k);if(nt.type==="aborted")return;if(nt.type==="error"){bn(k,$,nt.error,{flushSync:Ve});return}else if(nt.matches)me=nt.matches;else{bn(k,$,oi(404,{pathname:W}),{flushSync:Ve});return}}let Qe=Bf(me,W);ye.set(k,Ge);let st=pe,kt=Nl(l,c,Ue,me,Qe,i,be),$t=(await lr(Ue,kt,be,k))[Qe.route.id];if(ye.get(k)===Ge&&ye.delete(k),!Ue.signal.aborted){if(le.has(k)){Jt(k,Ta(void 0));return}if(mo($t))if(Ee>st){Jt(k,Ta(void 0));return}else{re.add(k),await qt(Ue,$t,!1,{preventScrollReset:Ae});return}if(Br($t)){bn(k,$,$t.error);return}Jt(k,Ta($t.data))}}async function qt(k,$,W,{submission:me,fetcherSubmission:be,preventScrollReset:Oe,replace:Ve}={}){W||(C==null||C.resolve(),C=null),$.response.headers.has("X-Remix-Revalidate")&&(z=!0);let Ae=$.response.headers.get("Location");ot(Ae,"Expected a Location header on the redirect Response"),Ae=Qb(Ae,new URL(k.url),p,n.history);let Ie=Ac(A.location,Ae,{_isRedirect:!0});if(t){let kt=!1;if($.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(By(Ae)){const Zt=cA(Ae,!0);kt=Zt.origin!==e.location.origin||ci(Zt.pathname,p)==null}if(kt){Ve?e.location.replace(Ae):e.location.assign(Ae);return}}D=null;let Pe=Ve===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ge,formAction:Ue,formEncType:Qe}=A.navigation;!me&&!be&&Ge&&Ue&&Qe&&(me=t0(A.navigation));let st=me||be;if(qx.has($.response.status)&&st&&nr(st.formMethod))await dn(Pe,Ie,{submission:{...st,formAction:Ae},preventScrollReset:Oe||M,enableViewTransition:W?L:void 0});else{let kt=xg(Ie,me);await dn(Pe,Ie,{overrideNavigation:kt,fetcherSubmission:be,preventScrollReset:Oe||M,enableViewTransition:W?L:void 0})}}async function lr(k,$,W,me){var Ve;let be,Oe={};try{be=await eN(y,k,$,me,W,!1)}catch(Ae){return $.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Oe[Ie.route.id]={type:"error",error:Ae}}),Oe}if(k.signal.aborted)return Oe;if(!nr(k.method))for(let Ae of $){if(((Ve=be[Ae.route.id])==null?void 0:Ve.type)==="error")break;!be.hasOwnProperty(Ae.route.id)&&!A.loaderData.hasOwnProperty(Ae.route.id)&&(!A.errors||!A.errors.hasOwnProperty(Ae.route.id))&&Ae.shouldCallHandler()&&(be[Ae.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ae.route.id}`)})}for(let[Ae,Ie]of Object.entries(be))if(cN(Ie)){let Pe=Ie.result;Oe[Ae]={type:"redirect",response:iN(Pe,k,Ae,$,p)}}else Oe[Ae]=await rN(Ie);return Oe}async function Yr(k,$,W,me){let be=lr(W,k,me,null),Oe=Promise.all($.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let Ge=(await lr(Ie.request,Ie.matches,me,Ie.key))[Ie.match.route.id];return{[Ie.key]:Ge}}else return Promise.resolve({[Ie.key]:{type:"error",error:oi(404,{pathname:Ie.path})}})})),Ve=await be,Ae=(await Oe).reduce((Ie,Pe)=>Object.assign(Ie,Pe),{});return{loaderResults:Ve,fetcherResults:Ae}}function Wn(){z=!0,_e.forEach((k,$)=>{ye.has($)&&se.add($),de($)})}function Jt(k,$,W={}){A.fetchers.set(k,$),Ye({fetchers:new Map(A.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function bn(k,$,W,me={}){let be=ys(A.matches,$);ve(k),Ye({errors:{[be.route.id]:W},fetchers:new Map(A.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function xi(k){return we.set(k,(we.get(k)||0)+1),le.has(k)&&le.delete(k),A.fetchers.get(k)||Gx}function ue(k,$){de(k,$==null?void 0:$.reason),Jt(k,Ta(null))}function ve(k){let $=A.fetchers.get(k);ye.has(k)&&!($&&$.state==="loading"&&j.has(k))&&de(k),_e.delete(k),j.delete(k),re.delete(k),le.delete(k),se.delete(k),A.fetchers.delete(k)}function Ce(k){let $=(we.get(k)||0)-1;$<=0?(we.delete(k),le.add(k)):we.set(k,$),Ye({fetchers:new Map(A.fetchers)})}function de(k,$){let W=ye.get(k);W&&(W.abort($),ye.delete(k))}function De(k){for(let $ of k){let W=xi($),me=Ta(W.data);A.fetchers.set($,me)}}function je(){let k=[],$=!1;for(let W of re){let me=A.fetchers.get(W);ot(me,`Expected fetcher: ${W}`),me.state==="loading"&&(re.delete(W),k.push(W),$=!0)}return De(k),$}function ln(k){let $=[];for(let[W,me]of j)if(me<k){let be=A.fetchers.get(W);ot(be,`Expected fetcher: ${W}`),be.state==="loading"&&(de(W),j.delete(W),$.push(W))}return De($),$.length>0}function Et(k,$){let W=A.blockers.get(k)||nc;return Se.get(k)!==$&&Se.set(k,$),W}function St(k){A.blockers.delete(k),Se.delete(k)}function xt(k,$){let W=A.blockers.get(k)||nc;ot(W.state==="unblocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="blocked"||W.state==="blocked"&&$.state==="proceeding"||W.state==="blocked"&&$.state==="unblocked"||W.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${$.state}`);let me=new Map(A.blockers);me.set(k,$),Ye({blockers:me})}function mn({currentLocation:k,nextLocation:$,historyAction:W}){if(Se.size===0)return;Se.size>1&&hn(!1,"A router only supports one blocker at a time");let me=Array.from(Se.entries()),[be,Oe]=me[me.length-1],Ve=A.blockers.get(be);if(!(Ve&&Ve.state==="proceeding")&&Oe({currentLocation:k,nextLocation:$,historyAction:W}))return be}function rn(k){let $=oi(404,{pathname:k}),W=m||f,{matches:me,route:be}=Cf(W);return{notFoundMatches:me,route:be,error:$}}function Qr(k,$,W){if(O=k,P=$,H=W||null,!F&&A.navigation===Ig){F=!0;let me=Oo(A.location,A.matches);me!=null&&Ye({restoreScrollPosition:me})}return()=>{O=null,P=null,H=null}}function Nr(k,$){return H&&H(k,$.map(me=>yx(me,A.loaderData)))||k.key}function Dr(k,$){if(O&&P){let W=Nr(k,$);O[W]=P()}}function Oo(k,$){if(O){let W=Nr(k,$),me=O[W];if(typeof me=="number")return me}return null}function Zi(k,$,W){if(n.patchRoutesOnNavigation)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:lc($,W,p,!0)}}else return{active:!0,matches:lc($,W,p,!0)||[]};return{active:!1,matches:null}}async function ur(k,$,W,me){if(!n.patchRoutesOnNavigation)return{type:"success",matches:k};let be=k;for(;;){let Oe=m==null,Ve=m||f,Ae=c;try{await n.patchRoutesOnNavigation({signal:W,path:$,matches:be,fetcherKey:me,patch:(Ge,Ue)=>{W.aborted||Gb(Ge,Ue,Ve,Ae,l,!1)}})}catch(Ge){return{type:"error",error:Ge,partialMatches:be}}finally{Oe&&!W.aborted&&(f=[...f])}if(W.aborted)return{type:"aborted"};let Ie=gs(Ve,$,p),Pe=null;if(Ie){if(Object.keys(Ie[0].params).length===0)return{type:"success",matches:Ie};if(Pe=lc(Ve,$,p,!0),!(Pe&&be.length<Pe.length&&Ni(be,Pe.slice(0,be.length))))return{type:"success",matches:Ie}}if(Pe||(Pe=lc(Ve,$,p,!0)),!Pe||Ni(be,Pe))return{type:"success",matches:null};be=Pe}}function Ni(k,$){return k.length===$.length&&k.every((W,me)=>W.route.id===$[me].route.id)}function lu(k){c={},m=wc(k,l,void 0,c)}function ea(k,$,W=!1){let me=m==null;Gb(k,$,m||f,c,l,W),me&&(f=[...f],Ye({}))}return ne={get basename(){return p},get future(){return v},get state(){return A},get routes(){return f},get window(){return e},initialize:Be,subscribe:bt,enableScrollRestoration:Qr,navigate:Mt,fetch:Vt,revalidate:Qn,createHref:k=>n.history.createHref(k),encodeLocation:k=>n.history.encodeLocation(k),getFetcher:xi,resetFetcher:ue,deleteFetcher:Ce,dispose:at,getBlocker:Et,deleteBlocker:St,patchRoutes:ea,_internalFetchControllers:ye,_internalSetRoutes:lu,_internalSetStateDoNotUseOrYouWillBreakYourApp(k){Ye(k)}},n.unstable_instrumentations&&(ne=Lx(ne,n.unstable_instrumentations.map(k=>k.router).filter(Boolean))),ne}function Yx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ny(n,e,t,i,s,l){let c,f;if(s){c=[];for(let p of e)if(c.push(p),p.route.id===s){f=p;break}}else c=e,f=e[e.length-1];let m=Hd(i||".",Bd(c),ci(n.pathname,t)||n.pathname,l==="path");if(i==null&&(m.search=n.search,m.hash=n.hash),(i==null||i===""||i===".")&&f){let p=qy(m.search);if(f.route.index&&!p)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&p){let y=new URLSearchParams(m.search),v=y.getAll("index");y.delete("index"),v.filter(w=>w).forEach(w=>y.append("index",w));let S=y.toString();m.search=S?`?${S}`:""}}return t!=="/"&&(m.pathname=Nx({basename:t,pathname:m.pathname})),Xi(m)}function Fb(n,e,t){if(!t||!Yx(t))return{path:e};if(t.formMethod&&!dN(t.formMethod))return{path:e,error:oi(405,{method:t.formMethod})};let i=()=>({path:e,error:oi(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=RA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!nr(l))return i();let v=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((S,[w,O])=>`${S}${w}=${O}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:v}}}else if(t.formEncType==="application/json"){if(!nr(l))return i();try{let v=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}ot(typeof FormData=="function","FormData is not available in this environment");let f,m;if(t.formData)f=ay(t.formData),m=t.formData;else if(t.body instanceof FormData)f=ay(t.body),m=t.body;else if(t.body instanceof URLSearchParams)f=t.body,m=Xb(f);else if(t.body==null)f=new URLSearchParams,m=new FormData;else try{f=new URLSearchParams(t.body),m=Xb(f)}catch{return i()}let p={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(nr(p.formMethod))return{path:e,submission:p};let y=Va(e);return n&&y.search&&qy(y.search)&&f.append("index",""),y.search=`?${f}`,{path:Xi(y),submission:p}}function qb(n,e,t,i,s,l,c,f,m,p,y,v,S,w,O,H,P,F,B,G,ee){var Te;let ie=G?Br(G[1])?G[1].error:G[1].data:void 0,ne=s.createURL(l.location),A=s.createURL(m),I;if(y&&l.errors){let z=Object.keys(l.errors)[0];I=c.findIndex(se=>se.route.id===z)}else if(G&&Br(G[1])){let z=G[0];I=c.findIndex(se=>se.route.id===z)-1}let C=G?G[1].statusCode:void 0,M=C&&C>=400,D={currentUrl:ne,currentParams:((Te=l.matches[0])==null?void 0:Te.params)||{},nextUrl:A,nextParams:c[0].params,...f,actionResult:ie,actionStatus:C},L=zc(c),x=c.map((z,se)=>{let{route:ye}=z,pe=null;if(I!=null&&se>I?pe=!1:ye.lazy?pe=!0:Hy(ye)?y?pe=ry(ye,l.loaderData,l.errors):Qx(l.loaderData,l.matches[se],z)&&(pe=!0):pe=!1,pe!==null)return iy(t,i,n,L,z,p,e,pe);let Ee=!1;typeof ee=="boolean"?Ee=ee:M?Ee=!1:(v||ne.pathname+ne.search===A.pathname+A.search||ne.search!==A.search||Xx(l.matches[se],z))&&(Ee=!0);let j={...D,defaultShouldRevalidate:Ee},re=mc(z,j);return iy(t,i,n,L,z,p,e,re,j,ee)}),ge=[];return O.forEach((z,se)=>{if(y||!c.some(le=>le.route.id===z.routeId)||w.has(se))return;let ye=l.fetchers.get(se),pe=ye&&ye.state!=="idle"&&ye.data===void 0,Ee=gs(P,z.path,F);if(!Ee){if(B&&pe)return;ge.push({key:se,routeId:z.routeId,path:z.path,matches:null,match:null,request:null,controller:null});return}if(H.has(se))return;let j=Bf(Ee,z.path),re=new AbortController,_e=El(s,z.path,re.signal),we=null;if(S.has(se))S.delete(se),we=Nl(t,i,_e,Ee,j,p,e);else if(pe)v&&(we=Nl(t,i,_e,Ee,j,p,e));else{let le;typeof ee=="boolean"?le=ee:M?le=!1:le=v;let Se={...D,defaultShouldRevalidate:le};mc(j,Se)&&(we=Nl(t,i,_e,Ee,j,p,e,Se))}we&&ge.push({key:se,routeId:z.routeId,path:z.path,matches:we,match:j,request:_e,controller:re})}),{dsMatches:x,revalidatingFetchers:ge}}function Hy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function ry(n,e,t){if(n.lazy)return!0;if(!Hy(n))return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function Qx(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function Xx(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function mc(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Gb(n,e,t,i,s,l){let c;if(n){let p=i[n];ot(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),c=p.children}else c=t;let f=[],m=[];if(e.forEach(p=>{let y=c.find(v=>bA(p,v));y?m.push({existingRoute:y,newRoute:p}):f.push(p)}),f.length>0){let p=wc(f,s,[n||"_","patch",String((c==null?void 0:c.length)||"0")],i);c.push(...p)}if(l&&m.length>0)for(let p=0;p<m.length;p++){let{existingRoute:y,newRoute:v}=m[p],S=y,[w]=wc([v],s,[],{},!0);Object.assign(S,{element:w.element?w.element:S.element,errorElement:w.errorElement?w.errorElement:S.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:S.hydrateFallbackElement})}}function bA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(l=>bA(t,l))}):!1}var $b=new WeakMap,SA=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(ot(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=$b.get(s);c||(c={},$b.set(s,c));let f=c[n];if(f)return f;let m=(async()=>{let p=dx(n),v=s[n]!==void 0&&n!=="hasErrorBoundary";if(p)hn(!p,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(v)hn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let S=await l();S!=null&&(Object.assign(s,{[n]:S}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(S=>S===void 0)&&(s.lazy=void 0))})();return c[n]=m,m},Kb=new WeakMap;function Wx(n,e,t,i,s){let l=t[n.id];if(ot(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let y=Kb.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let v=(async()=>{ot(typeof n.lazy=="function","No lazy route function found");let S=await n.lazy(),w={};for(let O in S){let H=S[O];if(H===void 0)continue;let P=px(O),B=l[O]!==void 0&&O!=="hasErrorBoundary";P?hn(!P,"Route property "+O+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?hn(!B,`Route "${l.id}" has a static property "${O}" defined but its lazy function is also returning a value for this property. The lazy route property "${O}" will be ignored.`):w[O]=H}Object.assign(l,w),Object.assign(l,{...i(l),lazy:void 0})})();return Kb.set(l,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let c=Object.keys(n.lazy),f=[],m;for(let y of c){if(s&&s.includes(y))continue;let v=SA({key:y,route:n,manifest:t,mapRouteProperties:i});v&&(f.push(v),y===e&&(m=v))}let p=f.length>0?Promise.all(f).then(()=>{}):void 0;return p==null||p.catch(()=>{}),m==null||m.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:m}}async function Yb(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function Jx(n){return n.matches.some(e=>e.route.middleware)?AA(n,()=>Yb(n)):Yb(n)}function AA(n,e){return Zx(n,e,i=>{if(fN(i))throw i;return i},lN,t);function t(i,s,l){if(l)return Promise.resolve(Object.assign(l.value,{[s]:{type:"error",result:i}}));{let{matches:c}=n,f=Math.min(Math.max(c.findIndex(p=>p.route.id===s),0),Math.max(c.findIndex(p=>p.shouldCallHandler()),0)),m=ys(c,c[f].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:i}})}}}async function Zx(n,e,t,i,s){let{matches:l,request:c,params:f,context:m,unstable_pattern:p}=n,y=l.flatMap(S=>S.route.middleware?S.route.middleware.map(w=>[S.route.id,w]):[]);return await wA({request:c,params:f,context:m,unstable_pattern:p},y,e,t,i,s)}async function wA(n,e,t,i,s,l,c=0){let{request:f}=n;if(f.signal.aborted)throw f.signal.reason??new Error(`Request aborted: ${f.method} ${f.url}`);let m=e[c];if(!m)return await t();let[p,y]=m,v,S=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await wA(n,e,t,i,s,l,c+1)},v.value}catch(w){return v={value:await l(w,p,v)},v.value}};try{let w=await y(n,S),O=w!=null?i(w):void 0;return s(O)?O:v?O??v.value:(v={value:await S()},v.value)}catch(w){return await l(w,p,v)}}function CA(n,e,t,i,s){let l=SA({key:"middleware",route:i.route,manifest:e,mapRouteProperties:n}),c=Wx(i.route,nr(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function iy(n,e,t,i,s,l,c,f,m=null,p){let y=!1,v=CA(n,e,t,s,l);return{...s,_lazyPromises:v,shouldLoad:f,shouldRevalidateArgs:m,shouldCallHandler(S){return y=!0,m?typeof p=="boolean"?mc(s,{...m,defaultShouldRevalidate:p}):typeof S=="boolean"?mc(s,{...m,defaultShouldRevalidate:S}):mc(s,m):f},resolve(S){let{lazy:w,loader:O,middleware:H}=s.route,P=y||f||S&&!nr(t.method)&&(w||O),F=H&&H.length>0&&!O&&!w;return P&&(nr(t.method)||!F)?tN({request:t,unstable_pattern:i,match:s,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:S,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Nl(n,e,t,i,s,l,c,f=null){return i.map(m=>m.route.id!==s.route.id?{...m,shouldLoad:!1,shouldRevalidateArgs:f,shouldCallHandler:()=>!1,_lazyPromises:CA(n,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:iy(n,e,t,zc(i),m,l,c,!0,f))}async function eN(n,e,t,i,s,l){t.some(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(t.map(p=>{var y;return(y=p._lazyPromises)==null?void 0:y.middleware}));let c={request:e,unstable_pattern:zc(t),params:t[0].params,context:s,matches:t},m=await n({...c,fetcherKey:i,runClientMiddleware:p=>{let y=c;return AA(y,()=>p({...y,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(p=>{var y,v;return[(y=p._lazyPromises)==null?void 0:y.handler,(v=p._lazyPromises)==null?void 0:v.route]}))}catch{}return m}async function tN({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:i,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let f,m,p=nr(n.method),y=p?"action":"loader",v=S=>{let w,O=new Promise((F,B)=>w=B);m=()=>w(),n.signal.addEventListener("abort",m);let H=F=>typeof S!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${t.route.id}]`)):S({request:n,unstable_pattern:e,params:t.params,context:c},...F!==void 0?[F]:[]),P=(async()=>{try{return{type:"data",result:await(l?l(B=>H(B)):H())}}catch(F){return{type:"error",result:F}}})();return Promise.race([P,O])};try{let S=p?t.route.action:t.route.loader;if(i||s)if(S){let w,[O]=await Promise.all([v(S).catch(H=>{w=H}),i,s]);if(w!==void 0)throw w;f=O}else{await i;let w=p?t.route.action:t.route.loader;if(w)[f]=await Promise.all([v(w),s]);else if(y==="action"){let O=new URL(n.url),H=O.pathname+O.search;throw oi(405,{method:n.method,pathname:H,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(S)f=await v(S);else{let w=new URL(n.url),O=w.pathname+w.search;throw oi(404,{pathname:O})}}catch(S){return{type:"error",result:S}}finally{m&&n.signal.removeEventListener("abort",m)}return f}async function nN(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function rN(n){var i,s,l,c,f;let{result:e,type:t}=n;if(Fy(e)){let m;try{m=await nN(e)}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Uc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return t==="error"?e0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:oN(e),statusCode:Cc(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Cc(e)?e.status:void 0}:e0(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function iN(n,e,t,i,s){let l=n.headers.get("Location");if(ot(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!By(l)){let c=i.slice(0,i.findIndex(f=>f.route.id===t)+1);l=ny(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function Qb(n,e,t,i){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(By(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(s.includes(c.protocol))throw new Error("Invalid redirect location");let f=ci(c.pathname,t)!=null;if(c.origin===e.origin&&f)return c.pathname+c.search+c.hash}try{let l=i.createURL(n);if(s.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function El(n,e,t,i){let s=n.createURL(RA(e)).toString(),l={signal:t};if(i&&nr(i.formMethod)){let{formMethod:c,formEncType:f}=i;l.method=c.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(i.json)):f==="text/plain"?l.body=i.text:f==="application/x-www-form-urlencoded"&&i.formData?l.body=ay(i.formData):l.body=i.formData}return new Request(s,l)}function ay(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function Xb(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function aN(n,e,t,i=!1,s=!1){let l={},c=null,f,m=!1,p={},y=t&&Br(t[1])?t[1].error:void 0;return n.forEach(v=>{if(!(v.route.id in e))return;let S=v.route.id,w=e[S];if(ot(!mo(w),"Cannot handle redirect results in processLoaderData"),Br(w)){let O=w.error;if(y!==void 0&&(O=y,y=void 0),c=c||{},s)c[S]=O;else{let H=ys(n,S);c[H.route.id]==null&&(c[H.route.id]=O)}i||(l[S]=TA),m||(m=!0,f=Cc(w.error)?w.error.status:500),w.headers&&(p[S]=w.headers)}else l[S]=w.data,w.statusCode&&w.statusCode!==200&&!m&&(f=w.statusCode),w.headers&&(p[S]=w.headers)}),y!==void 0&&t&&(c={[t[0]]:y},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:f||200,loaderHeaders:p}}function Wb(n,e,t,i,s,l){let{loaderData:c,errors:f}=aN(e,t,i);return s.filter(m=>!m.matches||m.matches.some(p=>p.shouldLoad)).forEach(m=>{let{key:p,match:y,controller:v}=m;if(v&&v.signal.aborted)return;let S=l[p];if(ot(S,"Did not find corresponding fetcher result"),Br(S)){let w=ys(n.matches,y==null?void 0:y.route.id);f&&f[w.route.id]||(f={...f,[w.route.id]:S.error}),n.fetchers.delete(p)}else if(mo(S))ot(!1,"Unhandled fetcher revalidation redirect");else{let w=Ta(S.data);n.fetchers.set(p,w)}}),{loaderData:c,errors:f}}function Jb(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==TA).reduce((l,[c,f])=>(l[c]=f,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function Zb(n){return n?Br(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function ys(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Cf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function oi(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?f=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(c="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",f=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?f=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(f=`Invalid request method "${i.toUpperCase()}"`)),new Uc(n||500,c,new Error(f),!0)}function Rf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(mo(s))return{key:i,result:s}}}function RA(n){let e=typeof n=="string"?Va(n):n;return Xi({...e,hash:""})}function sN(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function oN(n){var e,t;return new Uc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function lN(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&uN(t))}function uN(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function cN(n){return Fy(n.result)&&vA.has(n.result.status)}function Br(n){return n.type==="error"}function mo(n){return(n&&n.type)==="redirect"}function e0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Fy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function hN(n){return vA.has(n)}function fN(n){return Fy(n)&&hN(n.status)&&n.headers.has("Location")}function dN(n){return Fx.has(n.toUpperCase())}function nr(n){return Bx.has(n.toUpperCase())}function qy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Bf(n,e){let t=typeof e=="string"?Va(e).search:e.search;if(n[n.length-1].route.index&&qy(t||""))return n[n.length-1];let i=mA(n);return i[i.length-1]}function t0(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function xg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mN(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rc(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pN(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ta(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function gN(n,e){try{let t=n.sessionStorage.getItem(EA);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function yN(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(EA,JSON.stringify(t))}catch(i){hn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function n0(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Co=V.createContext(null);Co.displayName="DataRouter";var Bc=V.createContext(null);Bc.displayName="DataRouterState";var IA=V.createContext(!1);function _N(){return V.useContext(IA)}var Gy=V.createContext({isTransitioning:!1});Gy.displayName="ViewTransition";var xA=V.createContext(new Map);xA.displayName="Fetchers";var vN=V.createContext(null);vN.displayName="Await";var $r=V.createContext(null);$r.displayName="Navigation";var Fd=V.createContext(null);Fd.displayName="Location";var hi=V.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var $y=V.createContext(null);$y.displayName="RouteError";var NA="REACT_ROUTER_ERROR",EN="REDIRECT",TN="ROUTE_ERROR_RESPONSE";function bN(n){if(n.startsWith(`${NA}:${EN}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function SN(n){if(n.startsWith(`${NA}:${TN}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Uc(e.status,e.statusText,e.data)}catch{}}function AN(n,{relative:e}={}){ot(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=V.useContext($r),{hash:s,pathname:l,search:c}=Fc(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Gi([t,l])),i.createHref({pathname:f,search:c,hash:s})}function Jl(){return V.useContext(Fd)!=null}function fi(){return ot(Jl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Fd).location}var DA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OA(n){V.useContext($r).static||V.useLayoutEffect(n)}function Ro(){let{isDataRoute:n}=V.useContext(hi);return n?UN():wN()}function wN(){ot(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(Co),{basename:e,navigator:t}=V.useContext($r),{matches:i}=V.useContext(hi),{pathname:s}=fi(),l=JSON.stringify(Bd(i)),c=V.useRef(!1);return OA(()=>{c.current=!0}),V.useCallback((m,p={})=>{if(hn(c.current,DA),!c.current)return;if(typeof m=="number"){t.go(m);return}let y=Hd(m,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gi([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,s,n])}var CN=V.createContext(null);function RN(n){let e=V.useContext(hi).outlet;return V.useMemo(()=>e&&V.createElement(CN.Provider,{value:n},e),[e,n])}function Hc(){let{matches:n}=V.useContext(hi),e=n[n.length-1];return e?e.params:{}}function Fc(n,{relative:e}={}){let{matches:t}=V.useContext(hi),{pathname:i}=fi(),s=JSON.stringify(Bd(t));return V.useMemo(()=>Hd(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function IN(n,e,t,i,s){ot(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext($r),{matches:c}=V.useContext(hi),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let B=v&&v.path||"";PA(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=fi(),w;w=S;let O=w.pathname||"/",H=O;if(y!=="/"){let B=y.replace(/^\//,"").split("/");H="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let P=gs(n,{pathname:H});return hn(v||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),MN(P&&P.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Gi([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Gi([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,i,s)}function xN(){let n=kN(),e=Cc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,c)}var NN=V.createElement(xN,null),MA=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=SN(n.digest);t&&(n=t)}let e=n!==void 0?V.createElement(hi.Provider,{value:this.props.routeContext},V.createElement($y.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?V.createElement(DN,{error:n},e):e}};MA.contextType=IA;var Ng=new WeakMap;function DN({children:n,error:e}){let{basename:t}=V.useContext($r);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=bN(e.digest);if(i){let s=Ng.get(e);if(s)throw s;let l=gA(i.location,t);if(pA&&!Ng.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Ng.set(e,c),c}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function ON({routeContext:n,match:e,children:t}){let i=V.useContext(Co);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(hi.Provider,{value:n},t)}function MN(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let y=l.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);ot(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:S,errors:w}=t,O=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||O){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=t&&i?(y,v)=>{var S,w;i(y,{location:t.location,params:((w=(S=t.matches)==null?void 0:S[0])==null?void 0:w.params)??{},unstable_pattern:zc(t.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,S)=>{let w,O=!1,H=null,P=null;t&&(w=c&&v.route.id?c[v.route.id]:void 0,H=v.route.errorElement||NN,f&&(m<0&&S===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):m===S&&(O=!0,P=v.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,S+1)),B=()=>{let G;return w?G=H:O?G=P:v.route.Component?G=V.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=y,V.createElement(ON,{match:v,routeContext:{outlet:y,matches:F,isDataRoute:t!=null},children:G})};return t&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?V.createElement(MA,{location:t.location,revalidation:t.revalidation,component:H,error:w,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):B()},null)}function Ky(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PN(n){let e=V.useContext(Co);return ot(e,Ky(n)),e}function VN(n){let e=V.useContext(Bc);return ot(e,Ky(n)),e}function LN(n){let e=V.useContext(hi);return ot(e,Ky(n)),e}function Yy(n){let e=LN(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function jN(){return Yy("useRouteId")}function kN(){var i;let n=V.useContext($y),e=VN("useRouteError"),t=Yy("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function UN(){let{router:n}=PN("useNavigate"),e=Yy("useNavigate"),t=V.useRef(!1);return OA(()=>{t.current=!0}),V.useCallback(async(s,l={})=>{hn(t.current,DA),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var r0={};function PA(n,e,t){!e&&!r0[n]&&(r0[n]=!0,hn(!1,t))}var i0={};function a0(n,e){!n&&!i0[e]&&(i0[e]=!0,console.warn(e))}var zN="useOptimistic",s0=OI[zN],BN=()=>{};function HN(n){return s0?s0(n):[n,BN]}function FN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&hn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&hn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&hn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var qN=["HydrateFallback","hydrateFallbackElement"],GN=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function $N({router:n,flushSync:e,onError:t,unstable_useTransitions:i}){i=_N()||i;let[l,c]=V.useState(n.state),[f,m]=HN(l),[p,y]=V.useState(),[v,S]=V.useState({isTransitioning:!1}),[w,O]=V.useState(),[H,P]=V.useState(),[F,B]=V.useState(),G=V.useRef(new Map),ee=V.useCallback((I,{deletedFetchers:C,newErrors:M,flushSync:D,viewTransitionOpts:L})=>{M&&t&&Object.values(M).forEach(ge=>{var Te;return t(ge,{location:I.location,params:((Te=I.matches[0])==null?void 0:Te.params)??{},unstable_pattern:zc(I.matches)})}),I.fetchers.forEach((ge,Te)=>{ge.data!==void 0&&G.current.set(Te,ge.data)}),C.forEach(ge=>G.current.delete(ge)),a0(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(a0(L==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!L||!x){e&&D?e(()=>c(I)):i===!1?c(I):V.startTransition(()=>{i===!0&&m(ge=>o0(ge,I)),c(I)});return}if(e&&D){e(()=>{H&&(w==null||w.resolve(),H.skipTransition()),S({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let ge=n.window.document.startViewTransition(()=>{e(()=>c(I))});ge.finished.finally(()=>{e(()=>{O(void 0),P(void 0),y(void 0),S({isTransitioning:!1})})}),e(()=>P(ge));return}H?(w==null||w.resolve(),H.skipTransition(),B({state:I,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(y(I),S({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,e,H,w,i,m,t]);V.useLayoutEffect(()=>n.subscribe(ee),[n,ee]),V.useEffect(()=>{v.isTransitioning&&!v.flushSync&&O(new GN)},[v]),V.useEffect(()=>{if(w&&p&&n.window){let I=p,C=w.promise,M=n.window.document.startViewTransition(async()=>{i===!1?c(I):V.startTransition(()=>{i===!0&&m(D=>o0(D,I)),c(I)}),await C});M.finished.finally(()=>{O(void 0),P(void 0),y(void 0),S({isTransitioning:!1})}),P(M)}},[p,w,n.window,i,m]),V.useEffect(()=>{w&&p&&f.location.key===p.location.key&&w.resolve()},[w,H,f.location,p]),V.useEffect(()=>{!v.isTransitioning&&F&&(y(F.state),S({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}),B(void 0))},[v.isTransitioning,F]);let ie=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,C,M)=>n.navigate(I,{state:C,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(I,C,M)=>n.navigate(I,{replace:!0,state:C,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),ne=n.basename||"/",A=V.useMemo(()=>({router:n,navigator:ie,static:!1,basename:ne,onError:t}),[n,ie,ne,t]);return V.createElement(V.Fragment,null,V.createElement(Co.Provider,{value:A},V.createElement(Bc.Provider,{value:f},V.createElement(xA.Provider,{value:G.current},V.createElement(Gy.Provider,{value:v},V.createElement(QN,{basename:ne,location:f.location,navigationType:f.historyAction,navigator:ie,unstable_useTransitions:i},V.createElement(KN,{routes:n.routes,future:n.future,state:f,onError:t})))))),null)}function o0(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var KN=V.memo(YN);function YN({routes:n,future:e,state:t,onError:i}){return IN(n,void 0,t,i,e)}function Ss({to:n,replace:e,state:t,relative:i}){ot(Jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext($r);hn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(hi),{pathname:c}=fi(),f=Ro(),m=Hd(n,Bd(l),c,i==="path"),p=JSON.stringify(m);return V.useEffect(()=>{f(JSON.parse(p),{replace:e,state:t,relative:i})},[f,p,i,e,t]),null}function VA(n){return RN(n.context)}function QN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){ot(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[f,s,l,c]);typeof t=="string"&&(t=Va(t));let{pathname:p="/",search:y="",hash:v="",state:S=null,key:w="default"}=t,O=V.useMemo(()=>{let H=ci(p,f);return H==null?null:{location:{pathname:H,search:y,hash:v,state:S,key:w},navigationType:i}},[f,p,y,v,S,w,i]);return hn(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:V.createElement($r.Provider,{value:m},V.createElement(Fd.Provider,{children:e,value:O}))}var Hf="get",Ff="application/x-www-form-urlencoded";function qd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function XN(n){return qd(n)&&n.tagName.toLowerCase()==="button"}function WN(n){return qd(n)&&n.tagName.toLowerCase()==="form"}function JN(n){return qd(n)&&n.tagName.toLowerCase()==="input"}function ZN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eD(n,e){return n.button===0&&(!e||e==="_self")&&!ZN(n)}function sy(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function tD(n,e){let t=sy(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(l=>{t.append(s,l)})}),t}var If=null;function nD(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var rD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(n){return n!=null&&!rD.has(n)?(hn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):n}function iD(n,e){let t,i,s,l,c;if(WN(n)){let f=n.getAttribute("action");i=f?ci(f,e):null,t=n.getAttribute("method")||Hf,s=Dg(n.getAttribute("enctype"))||Ff,l=new FormData(n)}else if(XN(n)||JN(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?ci(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Hf,s=Dg(n.getAttribute("formenctype"))||Dg(f.getAttribute("enctype"))||Ff,l=new FormData(f,n),!nD()){let{name:p,type:y,value:v}=n;if(y==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,v)}}else{if(qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hf,i=null,s=Ff,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function aD(n,e,t,i){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&ci(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function sD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lD(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await sD(l,t);return c.links?c.links():[]}return[]}));return fD(i.flat(1).filter(oD).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function l0(n,e,t,i,s,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,f=(m,p)=>{var y;return t[p].pathname!==m.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var v;let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function uD(n,e,{includeHydrateFallback:t}={}){return cD(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function cD(n){return[...new Set(n)]}function hD(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function fD(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(hD(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function LA(){let n=V.useContext(Co);return Qy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dD(){let n=V.useContext(Bc);return Qy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xy=V.createContext(void 0);Xy.displayName="FrameworkContext";function jA(){let n=V.useContext(Xy);return Qy(n,"You must render this element inside a <HydratedRouter> element"),n}function mD(n,e){let t=V.useContext(Xy),[i,s]=V.useState(!1),[l,c]=V.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,S=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let H=F=>{F.forEach(B=>{c(B.isIntersecting)})},P=new IntersectionObserver(H,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[n]),V.useEffect(()=>{if(i){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[i]);let w=()=>{s(!0)},O=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:ic(f,w),onBlur:ic(m,O),onMouseEnter:ic(p,w),onMouseLeave:ic(y,O),onTouchStart:ic(v,w)}]:[!1,S,{}]}function ic(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pD({page:n,...e}){let{router:t}=LA(),i=V.useMemo(()=>gs(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?V.createElement(yD,{page:n,matches:i,...e}):null}function gD(n){let{manifest:e,routeModules:t}=jA(),[i,s]=V.useState([]);return V.useEffect(()=>{let l=!1;return lD(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function yD({page:n,matches:e,...t}){let i=fi(),{future:s,manifest:l,routeModules:c}=jA(),{basename:f}=LA(),{loaderData:m,matches:p}=dD(),y=V.useMemo(()=>l0(n,e,p,l,i,"data"),[n,e,p,l,i]),v=V.useMemo(()=>l0(n,e,p,l,i,"assets"),[n,e,p,l,i]),S=V.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let H=new Set,P=!1;if(e.forEach(B=>{var ee;let G=l.routes[B.route.id];!G||!G.hasLoader||(!y.some(ie=>ie.route.id===B.route.id)&&B.route.id in m&&((ee=c[B.route.id])!=null&&ee.shouldRevalidate)||G.hasClientLoader?P=!0:H.add(B.route.id))}),H.size===0)return[];let F=aD(n,f,s.unstable_trailingSlashAwareDataRequests,"data");return P&&H.size>0&&F.searchParams.set("_routes",e.filter(B=>H.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[f,s.unstable_trailingSlashAwareDataRequests,m,i,l,y,e,n,c]),w=V.useMemo(()=>uD(v,l),[v,l]),O=gD(v);return V.createElement(V.Fragment,null,S.map(H=>V.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...t})),w.map(H=>V.createElement("link",{key:H,rel:"modulepreload",href:H,...t})),O.map(({key:H,link:P})=>V.createElement("link",{key:H,nonce:t.nonce,...P,crossOrigin:P.crossOrigin??t.crossOrigin})))}function _D(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vD&&(window.__reactRouterVersion="7.13.0")}catch{}function ED(n,e){return Kx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:ux({window:e==null?void 0:e.window}),hydrationData:TD(),routes:n,mapRouteProperties:FN,hydrationRouteProperties:qN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function TD(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:bD(n.errors)}),n}function bD(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Uc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var kA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UA=V.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:S,...w},O){let{basename:H,unstable_useTransitions:P}=V.useContext($r),F=typeof p=="string"&&kA.test(p),B=gA(p,H);p=B.to;let G=AN(p,{relative:s}),[ee,ie,ne]=mD(i,w),A=CD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:S,unstable_useTransitions:P});function I(M){e&&e(M),M.defaultPrevented||A(M)}let C=V.createElement("a",{...w,...ne,href:B.absoluteURL||G,onClick:B.isExternal||l?e:I,ref:_D(O,ie),target:m,"data-discover":!F&&t==="render"?"true":void 0});return ee&&!F?V.createElement(V.Fragment,null,C,V.createElement(pD,{page:G})):C});UA.displayName="Link";var SD=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let v=Fc(c,{relative:p.relative}),S=fi(),w=V.useContext(Bc),{navigator:O,basename:H}=V.useContext($r),P=w!=null&&OD(v)&&f===!0,F=O.encodeLocation?O.encodeLocation(v).pathname:v.pathname,B=S.pathname,G=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(B=B.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&H&&(G=ci(G,H)||G);const ee=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ie=B===F||!s&&B.startsWith(F)&&B.charAt(ee)==="/",ne=G!=null&&(G===F||!s&&G.startsWith(F)&&G.charAt(F.length)==="/"),A={isActive:ie,isPending:ne,isTransitioning:P},I=ie?e:void 0,C;typeof i=="function"?C=i(A):C=[i,ie?"active":null,ne?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(A):l;return V.createElement(UA,{...p,"aria-current":I,className:C,ref:y,style:M,to:c,viewTransition:f},typeof m=="function"?m(A):m)});SD.displayName="NavLink";var AD=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=Hf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:S,...w},O)=>{let{unstable_useTransitions:H}=V.useContext($r),P=ND(),F=DD(f,{relative:p}),B=c.toLowerCase()==="get"?"get":"post",G=typeof f=="string"&&kA.test(f),ee=ie=>{if(m&&m(ie),ie.defaultPrevented)return;ie.preventDefault();let ne=ie.nativeEvent.submitter,A=(ne==null?void 0:ne.getAttribute("formmethod"))||c,I=()=>P(ne||ie.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:s,state:l,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:S});H&&t!==!1?V.startTransition(()=>I()):I()};return V.createElement("form",{ref:O,method:B,action:F,onSubmit:i?m:ee,...w,"data-discover":!G&&n==="render"?"true":void 0})});AD.displayName="Form";function wD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zA(n){let e=V.useContext(Co);return ot(e,wD(n)),e}function CD(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let p=Ro(),y=fi(),v=Fc(n,{relative:l});return V.useCallback(S=>{if(eD(S,e)){S.preventDefault();let w=t!==void 0?t:Xi(y)===Xi(v),O=()=>p(n,{replace:w,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?V.startTransition(()=>O()):O()}},[y,p,v,t,i,e,n,s,l,c,f,m])}function RD(n){hn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(sy(n)),t=V.useRef(!1),i=fi(),s=V.useMemo(()=>tD(i.search,t.current?null:e.current),[i.search]),l=Ro(),c=V.useCallback((f,m)=>{const p=sy(typeof f=="function"?f(new URLSearchParams(s)):f);t.current=!0,l("?"+p,m)},[l,s]);return[s,c]}var ID=0,xD=()=>`__${String(++ID)}__`;function ND(){let{router:n}=zA("useSubmit"),{basename:e}=V.useContext($r),t=jN(),i=n.fetch,s=n.navigate;return V.useCallback(async(l,c={})=>{let{action:f,method:m,encType:p,formData:y,body:v}=iD(l,e);if(c.navigate===!1){let S=c.fetcherKey||xD();await i(S,t,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:v,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,t])}function DD(n,{relative:e}={}){let{basename:t}=V.useContext($r),i=V.useContext(hi);ot(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Fc(n||".",{relative:e})},c=fi();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Gi([t,l.pathname])),Xi(l)}function OD(n,{relative:e}={}){let t=V.useContext(Gy);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zA("useViewTransitionState"),s=Fc(n,{relative:e});if(!t.isTransitioning)return!1;let l=ci(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ci(t.nextLocation.pathname,i)||t.nextLocation.pathname;return cd(s.pathname,c)!=null||cd(s.pathname,l)!=null}var BA=sA();function MD(n){return V.createElement($N,{flushSync:BA.flushSync,...n})}const PD=V.createContext(void 0),xr=()=>rx(),tt=sx.withTypes(),VD=({children:n})=>{const e=tt(t=>t.auth.loading);return T.jsx(PD.Provider,{value:{isLoading:e},children:n})},LD=()=>{};var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jD=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],f=n[t++],m=((s&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},FA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,f=c?n[s+1]:0,m=s+2<n.length,p=m?n[s+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let S=(f&15)<<2|p>>6,w=p&63;m||(w=64,c||(S=64)),i.push(t[y],t[v],t[S],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||f==null||p==null||v==null)throw new kD;const S=l<<2|f>>4;if(i.push(S),p!==64){const w=f<<4&240|p>>2;if(i.push(w),v!==64){const O=p<<6&192|v;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UD=function(n){const e=HA(n);return FA.encodeByteArray(e,!0)},hd=function(n){return UD(n).replace(/\./g,"")},qA=function(n){try{return FA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=()=>zD().__FIREBASE_DEFAULTS__,HD=()=>{if(typeof process>"u"||typeof u0>"u")return;const n=u0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qA(n[1]);return e&&JSON.parse(e)},Gd=()=>{try{return LD()||BD()||HD()||FD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GA=n=>{var e,t;return(t=(e=Gd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},qD=n=>{const e=GA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$A=()=>{var n;return(n=Gd())==null?void 0:n.config},KA=n=>{var e;return(e=Gd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[hd(JSON.stringify(t)),hd(JSON.stringify(c)),""].join(".")}const pc={};function KD(){const n={prod:[],emulator:[]};for(const e of Object.keys(pc))pc[e]?n.emulator.push(e):n.prod.push(e);return n}function YD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let c0=!1;function QA(n,e){if(typeof window>"u"||typeof document>"u"||!Zl(window.location.host)||pc[n]===e||pc[n]||c0)return;pc[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=KD().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,w){S.setAttribute("width","24"),S.setAttribute("id",w),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{c0=!0,c()},S}function y(S,w){S.setAttribute("id",w),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=YD(i),w=t("text"),O=document.getElementById(w)||document.createElement("span"),H=t("learnmore"),P=document.getElementById(H)||document.createElement("a"),F=t("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const G=S.element;f(G),y(P,H);const ee=p();m(B,F),G.append(B,O,P,ee),document.body.appendChild(G)}l?(O.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ar())}function XD(){var e;const n=(e=Gd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e2(){const n=ar();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function t2(){return!XD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function r2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="FirebaseError";class La extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=i2,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qc.prototype.create)}}class qc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?a2(l,i):"Error",f=`${this.serviceName}: ${c} (${s}).`;return new La(s,f,i)}}function a2(n,e){return n.replace(s2,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const s2=/\{\$([^}]+)}/g;function o2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Eo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(h0(l)&&h0(c)){if(!Eo(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function h0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function l2(n,e){const t=new u2(n,e);return t.subscribe.bind(t)}class u2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");c2(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Og),s.error===void 0&&(s.error=Og),s.complete===void 0&&(s.complete=Og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n){return n&&n._delegate?n._delegate:n}class To{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new GD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d2(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:f2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f2(n){return n===ho?void 0:n}function d2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new h2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(pt||(pt={}));const p2={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},g2=pt.INFO,y2={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},_2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=y2[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wy{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=_2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}}const v2=(n,e)=>e.some(t=>n instanceof t);let f0,d0;function E2(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T2(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XA=new WeakMap,oy=new WeakMap,WA=new WeakMap,Mg=new WeakMap,Jy=new WeakMap;function b2(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(As(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&XA.set(t,n)}).catch(()=>{}),Jy.set(e,n),e}function S2(n){if(oy.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});oy.set(n,e)}let ly={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return oy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return As(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function A2(n){ly=n(ly)}function w2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Pg(this),e,...t);return WA.set(i,e.sort?e.sort():[e]),As(i)}:T2().includes(n)?function(...e){return n.apply(Pg(this),e),As(XA.get(this))}:function(...e){return As(n.apply(Pg(this),e))}}function C2(n){return typeof n=="function"?w2(n):(n instanceof IDBTransaction&&S2(n),v2(n,E2())?new Proxy(n,ly):n)}function As(n){if(n instanceof IDBRequest)return b2(n);if(Mg.has(n))return Mg.get(n);const e=C2(n);return e!==n&&(Mg.set(n,e),Jy.set(e,n)),e}const Pg=n=>Jy.get(n);function R2(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),f=As(c);return i&&c.addEventListener("upgradeneeded",m=>{i(As(c.result),m.oldVersion,m.newVersion,As(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const I2=["get","getKey","getAll","getAllKeys","count"],x2=["put","add","delete","clear"],Vg=new Map;function m0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=x2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||I2.includes(t)))return;const l=async function(c,...f){const m=this.transaction(c,s?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),s&&m.done]))[0]};return Vg.set(e,l),l}A2(n=>({...n,get:(e,t,i)=>m0(e,t)||n.get(e,t,i),has:(e,t)=>!!m0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function D2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uy="@firebase/app",p0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Wy("@firebase/app"),O2="@firebase/app-compat",M2="@firebase/analytics-compat",P2="@firebase/analytics",V2="@firebase/app-check-compat",L2="@firebase/app-check",j2="@firebase/auth",k2="@firebase/auth-compat",U2="@firebase/database",z2="@firebase/data-connect",B2="@firebase/database-compat",H2="@firebase/functions",F2="@firebase/functions-compat",q2="@firebase/installations",G2="@firebase/installations-compat",$2="@firebase/messaging",K2="@firebase/messaging-compat",Y2="@firebase/performance",Q2="@firebase/performance-compat",X2="@firebase/remote-config",W2="@firebase/remote-config-compat",J2="@firebase/storage",Z2="@firebase/storage-compat",eO="@firebase/firestore",tO="@firebase/ai",nO="@firebase/firestore-compat",rO="firebase",iO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",aO={[uy]:"fire-core",[O2]:"fire-core-compat",[P2]:"fire-analytics",[M2]:"fire-analytics-compat",[L2]:"fire-app-check",[V2]:"fire-app-check-compat",[j2]:"fire-auth",[k2]:"fire-auth-compat",[U2]:"fire-rtdb",[z2]:"fire-data-connect",[B2]:"fire-rtdb-compat",[H2]:"fire-fn",[F2]:"fire-fn-compat",[q2]:"fire-iid",[G2]:"fire-iid-compat",[$2]:"fire-fcm",[K2]:"fire-fcm-compat",[Y2]:"fire-perf",[Q2]:"fire-perf-compat",[X2]:"fire-rc",[W2]:"fire-rc-compat",[J2]:"fire-gcs",[Z2]:"fire-gcs-compat",[eO]:"fire-fst",[nO]:"fire-fst-compat",[tO]:"fire-vertex","fire-js":"fire-js",[rO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,sO=new Map,hy=new Map;function g0(n,e){try{n.container.addComponent(e)}catch(t){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zl(n){const e=n.name;if(hy.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;hy.set(e,n);for(const t of fd.values())g0(t,n);for(const t of sO.values())g0(t,n);return!0}function Zy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new qc("app","Firebase",oO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new To("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=iO;function JA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:cy,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ws.create("bad-app-name",{appName:String(s)});if(t||(t=$A()),!t)throw ws.create("no-options");const l=fd.get(s);if(l){if(Eo(t,l.options)&&Eo(i,l.config))return l;throw ws.create("duplicate-app",{appName:s})}const c=new m2(s);for(const m of hy.values())c.addComponent(m);const f=new lO(t,i,c);return fd.set(s,f),f}function ZA(n=cy){const e=fd.get(n);if(!e&&n===cy&&$A())return JA();if(!e)throw ws.create("no-app",{appName:n});return e}function Cs(n,e,t){let i=aO[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(c.join(" "));return}zl(new To(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="firebase-heartbeat-database",cO=1,Rc="firebase-heartbeat-store";let Lg=null;function ew(){return Lg||(Lg=R2(uO,cO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ws.create("idb-open",{originalErrorMessage:n.message})})),Lg}async function hO(n){try{const t=(await ew()).transaction(Rc),i=await t.objectStore(Rc).get(tw(n));return await t.done,i}catch(e){if(e instanceof La)xa.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xa.warn(t.message)}}}async function y0(n,e){try{const i=(await ew()).transaction(Rc,"readwrite");await i.objectStore(Rc).put(e,tw(n)),await i.done}catch(t){if(t instanceof La)xa.warn(t.message);else{const i=ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xa.warn(i.message)}}}function tw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=1024,dO=30;class mO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=_0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>dO){const c=yO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xa.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_0(),{heartbeatsToSend:i,unsentEntries:s}=pO(this._heartbeatsCache.heartbeats),l=hd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return xa.warn(t),""}}}function _0(){return new Date().toISOString().substring(0,10)}function pO(n,e=fO){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),v0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),v0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class gO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?r2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v0(n){return hd(JSON.stringify({version:2,heartbeats:n})).length}function yO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){zl(new To("platform-logger",e=>new N2(e),"PRIVATE")),zl(new To("heartbeat",e=>new mO(e),"PRIVATE")),Cs(uy,p0,n),Cs(uy,p0,"esm2020"),Cs("fire-js","")}_O("");var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,nw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function C(){}C.prototype=I.prototype,A.F=I.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(M,D,L){for(var x=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)x[ge-2]=arguments[ge];return I.prototype[D].apply(M,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,I,C){C||(C=0);const M=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)M[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=A.g[0],C=A.g[1],D=A.g[2];let L=A.g[3],x;x=I+(L^C&(D^L))+M[0]+3614090360&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(D^I&(C^D))+M[1]+3905402710&4294967295,L=I+(x<<12&4294967295|x>>>20),x=D+(C^L&(I^C))+M[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(I^D&(L^I))+M[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(L^C&(D^L))+M[4]+4118548399&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(D^I&(C^D))+M[5]+1200080426&4294967295,L=I+(x<<12&4294967295|x>>>20),x=D+(C^L&(I^C))+M[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(I^D&(L^I))+M[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(L^C&(D^L))+M[8]+1770035416&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(D^I&(C^D))+M[9]+2336552879&4294967295,L=I+(x<<12&4294967295|x>>>20),x=D+(C^L&(I^C))+M[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(I^D&(L^I))+M[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(L^C&(D^L))+M[12]+1804603682&4294967295,I=C+(x<<7&4294967295|x>>>25),x=L+(D^I&(C^D))+M[13]+4254626195&4294967295,L=I+(x<<12&4294967295|x>>>20),x=D+(C^L&(I^C))+M[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(I^D&(L^I))+M[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(D^L&(C^D))+M[1]+4129170786&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(I^C))+M[6]+3225465664&4294967295,L=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(L^I))+M[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(D^L))+M[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(D^L&(C^D))+M[5]+3593408605&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(I^C))+M[10]+38016083&4294967295,L=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(L^I))+M[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(D^L))+M[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(D^L&(C^D))+M[9]+568446438&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(I^C))+M[14]+3275163606&4294967295,L=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(L^I))+M[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(D^L))+M[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(D^L&(C^D))+M[13]+2850285829&4294967295,I=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(I^C))+M[2]+4243563512&4294967295,L=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(L^I))+M[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^I&(D^L))+M[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(C^D^L)+M[5]+4294588738&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^D)+M[8]+2272392833&4294967295,L=I+(x<<11&4294967295|x>>>21),x=D+(L^I^C)+M[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^I)+M[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(C^D^L)+M[1]+2763975236&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^D)+M[4]+1272893353&4294967295,L=I+(x<<11&4294967295|x>>>21),x=D+(L^I^C)+M[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^I)+M[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(C^D^L)+M[13]+681279174&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^D)+M[0]+3936430074&4294967295,L=I+(x<<11&4294967295|x>>>21),x=D+(L^I^C)+M[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^I)+M[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(C^D^L)+M[9]+3654602809&4294967295,I=C+(x<<4&4294967295|x>>>28),x=L+(I^C^D)+M[12]+3873151461&4294967295,L=I+(x<<11&4294967295|x>>>21),x=D+(L^I^C)+M[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^I)+M[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(D^(C|~L))+M[0]+4096336452&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~D))+M[7]+1126891415&4294967295,L=I+(x<<10&4294967295|x>>>22),x=D+(I^(L|~C))+M[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~I))+M[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=I+(D^(C|~L))+M[12]+1700485571&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~D))+M[3]+2399980690&4294967295,L=I+(x<<10&4294967295|x>>>22),x=D+(I^(L|~C))+M[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~I))+M[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=I+(D^(C|~L))+M[8]+1873313359&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~D))+M[15]+4264355552&4294967295,L=I+(x<<10&4294967295|x>>>22),x=D+(I^(L|~C))+M[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~I))+M[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=I+(D^(C|~L))+M[4]+4149444226&4294967295,I=C+(x<<6&4294967295|x>>>26),x=L+(C^(I|~D))+M[11]+3174756917&4294967295,L=I+(x<<10&4294967295|x>>>22),x=D+(I^(L|~C))+M[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~I))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+L&4294967295}i.prototype.v=function(A,I){I===void 0&&(I=A.length);const C=I-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<I;){if(D==0)for(;L<=C;)s(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<I;)if(M[D++]=A.charCodeAt(L++),D==this.blockSize){s(this,M),D=0;break}}else for(;L<I;)if(M[D++]=A[L++],D==this.blockSize){s(this,M),D=0;break}}this.h=D,this.o+=I},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;I=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=I&255,I/=256;for(this.v(A),A=Array(16),I=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)A[I++]=this.g[C]>>>M&255;return A};function l(A,I){var C=f;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=I(A)}function c(A,I){this.h=I;const C=[];let M=!0;for(let D=A.length-1;D>=0;D--){const L=A[D]|0;M&&L==I||(C[D]=L,M=!1)}this.g=C}var f={};function m(A){return-128<=A&&A<128?l(A,function(I){return new c([I|0],I<0?-1:0)}):new c([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return v;if(A<0)return P(p(-A));const I=[];let C=1;for(let M=0;A>=C;M++)I[M]=A/C|0,C*=4294967296;return new c(I,0)}function y(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return P(y(A.substring(1),I));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(I,8));let M=v;for(let L=0;L<A.length;L+=8){var D=Math.min(8,A.length-L);const x=parseInt(A.substring(L,L+D),I);D<8?(D=p(Math.pow(I,D)),M=M.j(D).add(p(x))):(M=M.j(C),M=M.add(p(x)))}return M}var v=m(0),S=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(H(this))return-P(this).m();let A=0,I=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);A+=(M>=0?M:4294967296+M)*I,I*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(H(this))return"-"+P(this).toString(A);const I=p(Math.pow(A,6));var C=this;let M="";for(;;){const D=ee(C,I).g;C=F(C,D.j(I));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=D,O(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(let I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function H(A){return A.h==-1}n.l=function(A){return A=F(this,A),H(A)?-1:O(A)?0:1};function P(A){const I=A.g.length,C=[];for(let M=0;M<I;M++)C[M]=~A.g[M];return new c(C,~A.h).add(S)}n.abs=function(){return H(this)?P(this):this},n.add=function(A){const I=Math.max(this.g.length,A.g.length),C=[];let M=0;for(let D=0;D<=I;D++){let L=M+(this.i(D)&65535)+(A.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);M=x>>>16,L&=65535,x&=65535,C[D]=x<<16|L}return new c(C,C[C.length-1]&-2147483648?-1:0)};function F(A,I){return A.add(P(I))}n.j=function(A){if(O(this)||O(A))return v;if(H(this))return H(A)?P(this).j(P(A)):P(P(this).j(A));if(H(A))return P(this.j(P(A)));if(this.l(w)<0&&A.l(w)<0)return p(this.m()*A.m());const I=this.g.length+A.g.length,C=[];for(var M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<A.g.length;D++){const L=this.i(M)>>>16,x=this.i(M)&65535,ge=A.i(D)>>>16,Te=A.i(D)&65535;C[2*M+2*D]+=x*Te,B(C,2*M+2*D),C[2*M+2*D+1]+=L*Te,B(C,2*M+2*D+1),C[2*M+2*D+1]+=x*ge,B(C,2*M+2*D+1),C[2*M+2*D+2]+=L*ge,B(C,2*M+2*D+2)}for(A=0;A<I;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=I;A<2*I;A++)C[A]=0;return new c(C,0)};function B(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function G(A,I){this.g=A,this.h=I}function ee(A,I){if(O(I))throw Error("division by zero");if(O(A))return new G(v,v);if(H(A))return I=ee(P(A),I),new G(P(I.g),P(I.h));if(H(I))return I=ee(A,P(I)),new G(P(I.g),I.h);if(A.g.length>30){if(H(A)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=I;M.l(A)<=0;)C=ie(C),M=ie(M);var D=ne(C,1),L=ne(M,1);for(M=ne(M,2),C=ne(C,2);!O(M);){var x=L.add(M);x.l(A)<=0&&(D=D.add(C),L=x),M=ne(M,1),C=ne(C,1)}return I=F(A,D.j(I)),new G(D,I)}for(D=v;A.l(I)>=0;){for(C=Math.max(1,Math.floor(A.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=p(C),x=L.j(I);H(x)||x.l(A)>0;)C-=M,L=p(C),x=L.j(I);O(L)&&(L=S),D=D.add(L),A=F(A,x)}return new G(D,A)}n.B=function(A){return ee(this,A).h},n.and=function(A){const I=Math.max(this.g.length,A.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)&A.i(M);return new c(C,this.h&A.h)},n.or=function(A){const I=Math.max(this.g.length,A.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)|A.i(M);return new c(C,this.h|A.h)},n.xor=function(A){const I=Math.max(this.g.length,A.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)^A.i(M);return new c(C,this.h^A.h)};function ie(A){const I=A.g.length+1,C=[];for(let M=0;M<I;M++)C[M]=A.i(M)<<1|A.i(M-1)>>>31;return new c(C,A.h)}function ne(A,I){const C=I>>5;I%=32;const M=A.g.length-C,D=[];for(let L=0;L<M;L++)D[L]=I>0?A.i(L+C)>>>I|A.i(L+C+1)<<32-I:A.i(L+C);return new c(D,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,nw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Rs=c}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rw,uc,iw,qf,fy,aw,sw,ow;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function s(h,_){if(_)e:{var b=i;h=h.split(".");for(var N=0;N<h.length-1;N++){var Y=h[N];if(!(Y in b))break e;b=b[Y]}h=h[h.length-1],N=b[h],_=_(N),_!=N&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(_){var b=[],N;for(N in _)Object.prototype.hasOwnProperty.call(_,N)&&b.push([N,_[N]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,b){return h.call.apply(h.bind,arguments)}function p(h,_,b){return p=m,p.apply(null,arguments)}function y(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function v(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(N,Y,Z){for(var Re=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Re[Ze-2]=arguments[Ze];return _.prototype[Y].apply(N,Re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const b=Array(_);for(let N=0;N<_;N++)b[N]=h[N];return b}return[]}function O(h,_){for(let N=1;N<arguments.length;N++){const Y=arguments[N];var b=typeof Y;if(b=b!="object"?b:Y?Array.isArray(Y)?"array":b:"null",b=="array"||b=="object"&&typeof Y.length=="number"){b=h.length||0;const Z=Y.length||0;h.length=b+Z;for(let Re=0;Re<Z;Re++)h[b+Re]=Y[Re]}else h.push(Y)}}class H{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){c.setTimeout(()=>{throw h},0)}function F(){var h=A;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,b){const N=G.get();N.set(_,b),this.h?this.h.next=N:this.g=N,this.h=N}}var G=new H(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ne=!1,A=new B,I=()=>{const h=Promise.resolve(void 0);ie=()=>{h.then(C)}};function C(){for(var h;h=F();){try{h.h.call(h.g)}catch(b){P(b)}var _=G;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ne=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,_),c.removeEventListener("test",b,_)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function ge(h,_){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ge,D),ge.prototype.init=function(h,_){const b=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),z=0;function se(h,_,b,N,Y){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!N,this.ha=Y,this.key=++z,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pe(h,_,b){for(const N in h)_.call(b,h[N],N,h)}function Ee(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function j(h){const _={};for(const b in h)_[b]=h[b];return _}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(h,_){let b,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(b in N)h[b]=N[b];for(let Z=0;Z<re.length;Z++)b=re[Z],Object.prototype.hasOwnProperty.call(N,b)&&(h[b]=N[b])}}function we(h){this.src=h,this.g={},this.h=0}we.prototype.add=function(h,_,b,N,Y){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const Re=Se(h,_,N,Y);return Re>-1?(_=h[Re],b||(_.fa=!1)):(_=new se(_,this.src,Z,!!N,Y),_.fa=b,h.push(_)),_};function le(h,_){const b=_.type;if(b in h.g){var N=h.g[b],Y=Array.prototype.indexOf.call(N,_,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(N,Y,1),Z&&(ye(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Se(h,_,b,N){for(let Y=0;Y<h.length;++Y){const Z=h[Y];if(!Z.da&&Z.listener==_&&Z.capture==!!b&&Z.ha==N)return Y}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),ze={};function Be(h,_,b,N,Y){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)Be(h,_[Z],b,N,Y);return null}return b=Xn(b),h&&h[Te]?h.J(_,b,f(N)?!!N.capture:!1,Y):at(h,_,b,!1,N,Y)}function at(h,_,b,N,Y,Z){if(!_)throw Error("Invalid event type");const Re=f(Y)?!!Y.capture:!!Y;let Ze=dn(h);if(Ze||(h[xe]=Ze=new we(h)),b=Ze.add(_,b,N,Re,Z),b.proxy)return b;if(N=bt(),b.proxy=N,N.src=h,N.listener=b,h.addEventListener)L||(Y=Re),Y===void 0&&(Y=!1),h.addEventListener(_.toString(),N,Y);else if(h.attachEvent)h.attachEvent(Mt(_.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function bt(){function h(b){return _.call(h.src,h.listener,b)}const _=Qn;return h}function Ye(h,_,b,N,Y){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)Ye(h,_[Z],b,N,Y);else N=f(N)?!!N.capture:!!N,b=Xn(b),h&&h[Te]?(h=h.i,Z=String(_).toString(),Z in h.g&&(_=h.g[Z],b=Se(_,b,N,Y),b>-1&&(ye(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[Z],h.h--)))):h&&(h=dn(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Se(_,b,N,Y)),(b=h>-1?_[h]:null)&&vt(b))}function vt(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Te])le(_.i,h);else{var b=h.type,N=h.proxy;_.removeEventListener?_.removeEventListener(b,N,h.capture):_.detachEvent?_.detachEvent(Mt(b),N):_.addListener&&_.removeListener&&_.removeListener(N),(b=dn(_))?(le(b,h),b.h==0&&(b.src=null,_[xe]=null)):ye(h)}}}function Mt(h){return h in ze?ze[h]:ze[h]="on"+h}function Qn(h,_){if(h.da)h=!0;else{_=new ge(_,this);const b=h.listener,N=h.ha||h.src;h.fa&&vt(h),h=b.call(N,_)}return h}function dn(h){return h=h[xe],h instanceof we?h:null}var sr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xn(h){return typeof h=="function"?h:(h[sr]||(h[sr]=function(_){return h.handleEvent(_)}),h[sr])}function Pt(){M.call(this),this.i=new we(this),this.M=this,this.G=null}v(Pt,M),Pt.prototype[Te]=!0,Pt.prototype.removeEventListener=function(h,_,b,N){Ye(this,h,_,b,N)};function Wt(h,_){var b,N=h.G;if(N)for(b=[];N;N=N.G)b.push(N);if(h=h.M,N=_.type||_,typeof _=="string")_=new D(_,h);else if(_ instanceof D)_.target=_.target||h;else{var Y=_;_=new D(N,h),_e(_,Y)}Y=!0;let Z,Re;if(b)for(Re=b.length-1;Re>=0;Re--)Z=_.g=b[Re],Y=Vt(Z,N,!0,_)&&Y;if(Z=_.g=h,Y=Vt(Z,N,!0,_)&&Y,Y=Vt(Z,N,!1,_)&&Y,b)for(Re=0;Re<b.length;Re++)Z=_.g=b[Re],Y=Vt(Z,N,!1,_)&&Y}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let N=0;N<b.length;N++)ye(b[N]);delete h.g[_],h.h--}}this.G=null},Pt.prototype.J=function(h,_,b,N){return this.i.add(String(h),_,!1,b,N)},Pt.prototype.K=function(h,_,b,N){return this.i.add(String(h),_,!0,b,N)};function Vt(h,_,b,N){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let Z=0;Z<_.length;++Z){const Re=_[Z];if(Re&&!Re.da&&Re.capture==b){const Ze=Re.listener,_n=Re.ha||Re.src;Re.fa&&le(h.i,Re),Y=Ze.call(_n,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function or(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function di(h){h.g=or(()=>{h.g=null,h.i&&(h.i=!1,di(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class qt extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(h){M.call(this),this.h=h,this.g={}}v(lr,M);var Yr=[];function Wn(h){pe(h.g,function(_,b){this.g.hasOwnProperty(b)&&vt(_)},h),h.g={}}lr.prototype.N=function(){lr.Z.N.call(this),Wn(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=c.JSON.stringify,bn=c.JSON.parse,xi=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ue(){}function ve(){}var Ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){D.call(this,"d")}v(de,D);function De(){D.call(this,"c")}v(De,D);var je={},ln=null;function Et(){return ln=ln||new Pt}je.Ia="serverreachability";function St(h){D.call(this,je.Ia,h)}v(St,D);function xt(h){const _=Et();Wt(_,new St(_))}je.STAT_EVENT="statevent";function mn(h,_){D.call(this,je.STAT_EVENT,h),this.stat=_}v(mn,D);function rn(h){const _=Et();Wt(_,new mn(_,h))}je.Ja="timingevent";function Qr(h,_){D.call(this,je.Ja,h),this.size=_}v(Qr,D);function Nr(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Dr(){this.g=!0}Dr.prototype.ua=function(){this.g=!1};function Oo(h,_,b,N,Y,Z){h.info(function(){if(h.g)if(Z){var Re="",Ze=Z.split("&");for(let Rt=0;Rt<Ze.length;Rt++){var _n=Ze[Rt].split("=");if(_n.length>1){const an=_n[0];_n=_n[1];const Jr=an.split("_");Re=Jr.length>=2&&Jr[1]=="type"?Re+(an+"="+_n+"&"):Re+(an+"=redacted&")}}}else Re=null;else Re=Z;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+_+`
`+b+`
`+Re})}function Zi(h,_,b,N,Y,Z,Re){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+_+`
`+b+`
`+Z+" "+Re})}function ur(h,_,b,N){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+lu(h,b)+(N?" "+N:"")})}function Ni(h,_){h.info(function(){return"TIMEOUT: "+_})}Dr.prototype.info=function(){};function lu(h,_){if(!h.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var b=Z[h];if(!(b.length<2)){var N=b[1];if(Array.isArray(N)&&!(N.length<1)){var Y=N[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let Re=1;Re<N.length;Re++)N[Re]=""}}}}return Jt(Z)}catch{return _}}var ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},k={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$;function W(){}v(W,ue),W.prototype.g=function(){return new XMLHttpRequest},$=new W;function me(h){return encodeURIComponent(String(h))}function be(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function Oe(h,_,b,N){this.j=h,this.i=_,this.l=b,this.S=N||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var Ae={},Ie={};function Pe(h,_,b){h.M=1,h.A=zs(Ut(_)),h.u=b,h.R=!0,Ge(h,null)}function Ge(h,_){h.F=Date.now(),kt(h),h.B=Ut(h.A);var b=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Po(b.i,"t",N),h.C=0,b=h.j.L,h.h=new Ve,h.g=_h(h.j,b?_:null,!h.u),h.P>0&&(h.O=new qt(p(h.Y,h,h.g),h.P)),_=h.V,b=h.g,N=h.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Yr[0]=Y.toString()),Y=Yr);for(let Z=0;Z<Y.length;Z++){const Re=Be(b,Y[Z],N||_.handleEvent,!1,_.h||_);if(!Re)break;_.g[Re.key]=Re}_=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),xt(),Oo(h.i,h.v,h.B,h.l,h.S,h.u)}Oe.prototype.ba=function(h){h=h.target;const _=this.O;_&&gi(h)==3?_.j():this.Y(h)},Oe.prototype.Y=function(h){try{if(h==this.g)e:{const Ze=gi(this.g),_n=this.g.ya(),Rt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Un(this.g)))){this.K||Ze!=4||_n==7||(_n==8||Rt<=0?xt(3):xt(2)),$t(this);var _=this.g.ca();this.X=_;var b=Ue(this);if(this.o=_==200,Zi(this.i,this.v,this.B,this.l,this.S,Ze,_),this.o){if(this.U&&!this.L){t:{if(this.g){var N,Y=this.g;if((N=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(N)){var Z=N;break t}}Z=null}if(h=Z)ur(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ln(this,h);else{this.o=!1,this.m=3,rn(12),Kt(this),nt(this);break e}}if(this.R){h=!0;let an;for(;!this.K&&this.C<b.length;)if(an=st(this,b),an==Ie){Ze==4&&(this.m=4,rn(14),h=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Ae){this.m=4,rn(15),ur(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else ur(this.i,this.l,an,null),Ln(this,an);if(Qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||b.length!=0||this.h.h||(this.m=1,rn(16),h=!1),this.o=this.o&&h,!h)ur(this.i,this.l,b,"[Invalid Chunked Response]"),Kt(this),nt(this);else if(b.length>0&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.aa&&!Re.P&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),yu(Re),Re.P=!0,rn(11))}}else ur(this.i,this.l,b,null),Ln(this,b);Ze==4&&Kt(this),this.o&&!this.K&&(Ze==4?mh(this.j,this):(this.o=!1,kt(this)))}else na(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Kt(this),nt(this)}}}catch{}finally{}};function Ue(h){if(!Qe(h))return h.g.la();const _=Un(h.g);if(_==="")return"";let b="";const N=_.length,Y=gi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Kt(h),nt(h),"";h.h.i=new c.TextDecoder}for(let Z=0;Z<N;Z++)h.h.h=!0,b+=h.h.i.decode(_[Z],{stream:!(Y&&Z==N-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function Qe(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function st(h,_){var b=h.C,N=_.indexOf(`
`,b);return N==-1?Ie:(b=Number(_.substring(b,N)),isNaN(b)?Ae:(N+=1,N+b>_.length?Ie:(_=_.slice(N,N+b),h.C=N+b,_)))}Oe.prototype.cancel=function(){this.K=!0,Kt(this)};function kt(h){h.T=Date.now()+h.H,Zt(h,h.H)}function Zt(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Nr(p(h.aa,h),_)}function $t(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Oe.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ni(this.i,this.B),this.M!=2&&(xt(),rn(17)),Kt(this),this.m=2,nt(this)):Zt(this,this.T-h)};function nt(h){h.j.I==0||h.K||mh(h.j,h)}function Kt(h){$t(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Wn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ln(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Zn(b.h,h))){if(!h.L&&Zn(b.h,h)&&b.I==3){try{var N=b.Ba.g.parse(_)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Uo(b),qa(b);else break e;Ks(b),rn(18)}}else b.xa=Y[1],0<b.xa-b.K&&Y[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Nr(p(b.Va,b),6e3));_r(b.h)<=1&&b.ta&&(b.ta=void 0)}else ki(b,11)}else if((h.L||b.g==h)&&Uo(b),!x(_))for(Y=b.Ba.g.parse(_),_=0;_<Y.length;_++){let Rt=Y[_];const an=Rt[0];if(!(an<=b.K))if(b.K=an,Rt=Rt[1],b.I==2)if(Rt[0]=="c"){b.M=Rt[1],b.ba=Rt[2];const Jr=Rt[3];Jr!=null&&(b.ka=Jr,b.j.info("VER="+b.ka));const Ui=Rt[4];Ui!=null&&(b.za=Ui,b.j.info("SVER="+b.za));const yi=Rt[5];yi!=null&&typeof yi=="number"&&yi>0&&(N=1.5*yi,b.O=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const _i=h.g;if(_i){const Ys=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var Z=N.h;Z.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Or(Z,Z.h),Z.h=null))}if(N.G){const zo=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;zo&&(N.wa=zo,Ct(N.J,N.G,zo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),N=b;var Re=h;if(N.na=yh(N,N.L?N.ba:null,N.W),Re.L){Di(N.h,Re);var Ze=Re,_n=N.O;_n&&(Ze.H=_n),Ze.D&&($t(Ze),kt(Ze)),N.g=Re}else fh(N);b.i.length>0&&ji(b)}else Rt[0]!="stop"&&Rt[0]!="close"||ki(b,7);else b.I==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?ki(b,7):pu(b):Rt[0]!="noop"&&b.l&&b.l.qa(Rt),b.A=0)}}xt(4)}catch{}}var Yt=class{constructor(h,_){this.g=h,this.map=_}};function yr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _r(h){return h.h?1:h.g?h.g.size:0}function Zn(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function Or(h,_){h.g?h.g.add(_):h.h=_}function Di(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}yr.prototype.cancel=function(){if(this.i=Oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Oi(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return w(h.i)}var lt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function un(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const N=h[b].indexOf("=");let Y,Z=null;N>=0?(Y=h[b].substring(0,N),Z=h[b].substring(N+1)):Y=h[b],_(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Sn?(this.l=h.l,rt(this,h.j),this.o=h.o,this.g=h.g,Mr(this,h.u),this.h=h.h,ja(this,ch(h.i)),this.m=h.m):h&&(_=String(h).match(lt))?(this.l=!1,rt(this,_[1]||"",!0),this.o=Mi(_[2]||""),this.g=Mi(_[3]||"",!0),Mr(this,_[4]),this.h=Mi(_[5]||"",!0),ja(this,_[6]||"",!0),this.m=Mi(_[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}Sn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Bs(_,Mo,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Bs(_,Mo,!0),"@"),h.push(me(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Bs(b,b.charAt(0)=="/"?uu:oh,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Bs(b,lh)),h.join("")},Sn.prototype.resolve=function(h){const _=Ut(this);let b=!!h.j;b?rt(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var N=h.h;if(b)Mr(_,h.u);else if(b=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(N=_.h.slice(0,Y+1)+N)}if(Y=N,Y==".."||Y==".")N="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){N=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let Re=0;Re<Y.length;){const Ze=Y[Re++];Ze=="."?N&&Re==Y.length&&Z.push(""):Ze==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),N&&Re==Y.length&&Z.push("")):(Z.push(Ze),N=!0)}N=Z.join("/")}else N=Y}return b?_.h=N:b=h.i.toString()!=="",b?ja(_,ch(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Ut(h){return new Sn(h)}function rt(h,_,b){h.j=b?Mi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Mr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function ja(h,_,b){_ instanceof Ua?(h.i=_,Vo(h.i,h.l)):(b||(_=Bs(_,ka)),h.i=new Ua(_,h.l))}function Ct(h,_,b){h.i.set(_,b)}function zs(h){return Ct(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Mi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bs(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,vr),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vr(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Mo=/[#\/\?@]/g,oh=/[#\?:]/g,uu=/[#\?]/g,ka=/[#\?@]/g,lh=/#/g;function Ua(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Er(h){h.g||(h.g=new Map,h.h=0,h.i&&un(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Ua.prototype,n.add=function(h,_){Er(this),this.i=null,h=za(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function uh(h,_){Er(h),_=za(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function cu(h,_){return Er(h),_=za(h,_),h.g.has(_)}n.forEach=function(h,_){Er(this),this.g.forEach(function(b,N){b.forEach(function(Y){h.call(_,Y,N,this)},this)},this)};function hu(h,_){Er(h);let b=[];if(typeof _=="string")cu(h,_)&&(b=b.concat(h.g.get(za(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}n.set=function(h,_){return Er(this),this.i=null,h=za(this,h),cu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=hu(this,h),h.length>0?String(h[0]):_):_};function Po(h,_,b){uh(h,_),b.length>0&&(h.i=null,h.g.set(za(h,_),w(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let N=0;N<_.length;N++){var b=_[N];const Y=me(b);b=hu(this,b);for(let Z=0;Z<b.length;Z++){let Re=Y;b[Z]!==""&&(Re+="="+me(b[Z])),h.push(Re)}}return this.i=h.join("&")};function ch(h){const _=new Ua;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function za(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Vo(h,_){_&&!h.j&&(Er(h),h.i=null,h.g.forEach(function(b,N){const Y=N.toLowerCase();N!=Y&&(uh(this,N),Po(this,Y,b))},h)),h.j=_}function mi(h,_){const b=new Dr;if(c.Image){const N=new Image;N.onload=y(Xr,b,"TestLoadImage: loaded",!0,_,N),N.onerror=y(Xr,b,"TestLoadImage: error",!1,_,N),N.onabort=y(Xr,b,"TestLoadImage: abort",!1,_,N),N.ontimeout=y(Xr,b,"TestLoadImage: timeout",!1,_,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else _(!1)}function fu(h,_){const b=new Dr,N=new AbortController,Y=setTimeout(()=>{N.abort(),Xr(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:N.signal}).then(Z=>{clearTimeout(Y),Z.ok?Xr(b,"TestPingServer: ok",!0,_):Xr(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Xr(b,"TestPingServer: error",!1,_)})}function Xr(h,_,b,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(b)}catch{}}function Ba(){this.g=new xi}function Pi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Pi,ue),Pi.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(h,_){Pt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Hs,Pt),n=Hs.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,pi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Ha(this):pi(this),this.readyState==3&&Lo(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ha(this))},n.Na=function(h){this.g&&(this.response=h,Ha(this))},n.ga=function(){this.g&&Ha(this)};function Ha(h){h.readyState=4,h.l=null,h.j=null,h.B=null,pi(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function pi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wr(h){let _="";return pe(h,function(b,N){_+=N,_+=":",_+=b,_+=`\r
`}),_}function Fs(h,_,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=Wr(b),typeof h=="string"?b!=null&&me(b):Ct(h,_,b))}function zt(h){Pt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(zt,Pt);var Vi=/^https?$/i,du=["POST","PUT"];n=zt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Z){qs(this,Z);return}if(h=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)b.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Z of N.keys())b.set(Z,N.get(Z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(du,_,void 0)>=0)||N||Y||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,Re]of b)this.g.setRequestHeader(Z,Re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){qs(this,Z)}};function qs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,mu(h),ta(h)}function mu(h){h.A||(h.A=!0,Wt(h,"complete"),Wt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Wt(this,"complete"),Wt(this,"abort"),ta(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),zt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Gs(this):this.Xa())},n.Xa=function(){Gs(this)};function Gs(h){if(h.h&&typeof l<"u"){if(h.v&&gi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Wt(h,"readystatechange"),gi(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var N;if(N=Z===0){let Re=String(h.D).match(lt)[1]||null;!Re&&c.self&&c.self.location&&(Re=c.self.location.protocol.slice(0,-1)),N=!Vi.test(Re?Re.toLowerCase():"")}b=N}if(b)Wt(h,"complete"),Wt(h,"success");else{h.o=6;try{var Y=gi(h)>2?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.ca()+"]",mu(h)}}finally{ta(h)}}}}function ta(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||Wt(h,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gi(h){return h.g?h.g.readyState:0}n.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),bn(_)}};function Un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function na(h){const _={};h=(h.g&&gi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(x(h[N]))continue;var b=be(h[N]);const Y=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=_[Y]||[];_[Y]=Z,Z.push(b)}Ee(_,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function Fa(h){this.za=0,this.i=[],this.j=new Dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,h),this.Za=Li("retryDelaySeedMs",1e4,h),this.Ta=Li("forwardChannelMaxRetries",2,h),this.va=Li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new yr(h&&h.concurrentRequestLimit),this.Ba=new Ba,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Fa.prototype,n.ka=8,n.I=1,n.connect=function(h,_,b,N){rn(0),this.W=h,this.H=_||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.J=yh(this,null,this.W),ji(this)};function pu(h){if(jo(h),h.I==3){var _=h.V++,b=Ut(h.J);if(Ct(b,"SID",h.M),Ct(b,"RID",_),Ct(b,"TYPE","terminate"),$s(h,b),_=new Oe(h,h.j,_),_.M=2,_.A=zs(Ut(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=_.A,b=!0),b||(_.g=_h(_.j,null),_.g.ea(_.A)),_.F=Date.now(),kt(_)}gh(h)}function qa(h){h.g&&(yu(h),h.g.cancel(),h.g=null)}function jo(h){qa(h),h.v&&(c.clearTimeout(h.v),h.v=null),Uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ji(h){if(!Jn(h.h)&&!h.m){h.m=!0;var _=h.Ea;ie||I(),ne||(ie(),ne=!0),A.add(_,h),h.D=0}}function ko(h,_){return _r(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Nr(p(h.Ea,h,_),ph(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Y=new Oe(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=j(Z),_e(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(_+=N,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=hh(this,Y,_),b=Ut(this.J),Ct(b,"RID",h),Ct(b,"CVER",22),this.G&&Ct(b,"X-HTTP-Session-Id",this.G),$s(this,b),Z&&(this.R?_="headers="+me(Wr(Z))+"&"+_:this.u&&Fs(b,this.u,Z)),Or(this.h,Y),this.Ra&&Ct(b,"TYPE","init"),this.S?(Ct(b,"$req",_),Ct(b,"SID","null"),Y.U=!0,Pe(Y,b,null)):Pe(Y,b,_),this.I=2}}else this.I==3&&(h?gu(this,h):this.i.length==0||Jn(this.h)||gu(this))};function gu(h,_){var b;_?b=_.l:b=h.V++;const N=Ut(h.J);Ct(N,"SID",h.M),Ct(N,"RID",b),Ct(N,"AID",h.K),$s(h,N),h.u&&h.o&&Fs(N,h.u,h.o),b=new Oe(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=hh(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Or(h.h,b),Pe(b,N,_)}function $s(h,_){h.H&&pe(h.H,function(b,N){Ct(_,N,b)}),h.l&&pe({},function(b,N){Ct(_,N,b)})}function hh(h,_,b){b=Math.min(h.i.length,b);const N=h.l?p(h.l.Ka,h.l,h):null;e:{var Y=h.i;let Ze=-1;for(;;){const _n=["count="+b];Ze==-1?b>0?(Ze=Y[0].g,_n.push("ofs="+Ze)):Ze=0:_n.push("ofs="+Ze);let Rt=!0;for(let an=0;an<b;an++){var Z=Y[an].g;const Jr=Y[an].map;if(Z-=Ze,Z<0)Ze=Math.max(0,Y[an].g-100),Rt=!1;else try{Z="req"+Z+"_"||"";try{var Re=Jr instanceof Map?Jr:Object.entries(Jr);for(const[Ui,yi]of Re){let _i=yi;f(yi)&&(_i=Jt(yi)),_n.push(Z+Ui+"="+encodeURIComponent(_i))}}catch(Ui){throw _n.push(Z+"type="+encodeURIComponent("_badmap")),Ui}}catch{N&&N(Jr)}}if(Rt){Re=_n.join("&");break e}}Re=void 0}return h=h.i.splice(0,b),_.G=h,Re}function fh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;ie||I(),ne||(ie(),ne=!0),A.add(_,h),h.A=0}}function Ks(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Nr(p(h.Da,h),ph(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,dh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Nr(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),qa(this),dh(this))};function yu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function dh(h){h.g=new Oe(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ut(h.na);Ct(_,"RID","rpc"),Ct(_,"SID",h.M),Ct(_,"AID",h.K),Ct(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ct(_,"TO",h.ia),Ct(_,"TYPE","xmlhttp"),$s(h,_),h.u&&h.o&&Fs(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=zs(Ut(_)),b.u=null,b.R=!0,Ge(b,h)}n.Va=function(){this.C!=null&&(this.C=null,qa(this),Ks(this),rn(19))};function Uo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function mh(h,_){var b=null;if(h.g==_){Uo(h),yu(h),h.g=null;var N=2}else if(Zn(h.h,_))b=_.G,Di(h.h,_),N=1;else return;if(h.I!=0){if(_.o)if(N==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var Y=h.D;N=Et(),Wt(N,new Qr(N,b)),ji(h)}else fh(h);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(N==1&&ko(h,_)||N==2&&Ks(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),Y){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function ph(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function ki(h,_){if(h.j.info("Error code "+_),_==2){var b=p(h.bb,h),N=h.Ua;const Y=!N;N=new Sn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rt(N,"https"),zs(N),Y?mi(N.toString(),b):fu(N.toString(),b)}else rn(2);h.I=0,h.l&&h.l.pa(_),gh(h),jo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function gh(h){if(h.I=0,h.ja=[],h.l){const _=Oi(h.h);(_.length!=0||h.i.length!=0)&&(O(h.ja,_),O(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function yh(h,_,b){var N=b instanceof Sn?Ut(b):new Sn(b);if(N.g!="")_&&(N.g=_+"."+N.g),Mr(N,N.u);else{var Y=c.location;N=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Sn(null);N&&rt(Z,N),_&&(Z.g=_),Y&&Mr(Z,Y),b&&(Z.h=b),N=Z}return b=h.G,_=h.wa,b&&_&&Ct(N,b,_),Ct(N,"VER",h.ka),$s(h,N),N}function _h(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new zt(new Pi({ab:b})):new zt(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vh(){}n=vh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ga(){}Ga.prototype.g=function(h,_){return new cr(h,_)};function cr(h,_){Pt.call(this),this.g=new Fa(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!x(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ra(this)}v(cr,Pt),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){pu(this.g)},cr.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Jt(h),h=b);_.i.push(new Yt(_.Ya++,h)),_.I==3&&ji(_)},cr.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,cr.Z.N.call(this)};function Eh(h){de.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(Eh,de);function Th(){De.call(this),this.status=1}v(Th,De);function ra(h){this.g=h}v(ra,vh),ra.prototype.ra=function(){Wt(this.g,"a")},ra.prototype.qa=function(h){Wt(this.g,new Eh(h))},ra.prototype.pa=function(h){Wt(this.g,new Th)},ra.prototype.oa=function(){Wt(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,ow=function(){return new Ga},sw=function(){return Et()},aw=je,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,qf=ea,k.COMPLETE="complete",iw=k,ve.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,uc=ve,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,rw=zt}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="12.8.0";function vO(n){tu=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Wy("@firebase/firestore");function Tl(){return bo.logLevel}function Me(n,...e){if(bo.logLevel<=pt.DEBUG){const t=e.map(e_);bo.debug(`Firestore (${tu}): ${n}`,...t)}}function Na(n,...e){if(bo.logLevel<=pt.ERROR){const t=e.map(e_);bo.error(`Firestore (${tu}): ${n}`,...t)}}function Bl(n,...e){if(bo.logLevel<=pt.WARN){const t=e.map(e_);bo.warn(`Firestore (${tu}): ${n}`,...t)}}function e_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,lw(n,i,t)}function lw(n,e,t){let i=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Na(i),new Error(i)}function Ot(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||lw(e,s,i)}function Je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends La{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rr.UNAUTHENTICATED)))}shutdown(){}}class TO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bO{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ot(this.o===void 0,42304);let i=this.i;const s=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ra,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},f=m=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ra)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot(typeof i.accessToken=="string",31837,{l:i}),new uw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ot(e===null||typeof e=="string",2055,{h:e}),new rr(e)}}class SO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new SO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ot(this.o===void 0,3512);const i=l=>{l.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const s=l=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new T0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=CO(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function gt(n,e){return n<e?-1:n>e?1:0}function dy(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),l=e.charAt(i);if(s!==l)return jg(s)===jg(l)?gt(s,l):jg(s)?1:-1}return gt(n.length,e.length)}const RO=55296,IO=57343;function jg(n){const e=n.charCodeAt(0);return e>=RO&&e<=IO}function Hl(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__name__";class qi{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&$e(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=qi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return gt(e.length,t.length)}static compareSegments(e,t){const i=qi.isNumericId(e),s=qi.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?qi.extractNumericId(e).compare(qi.extractNumericId(t)):dy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class Qt extends qi{construct(e,t,i){return new Qt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new Qt(t)}static emptyPath(){return new Qt([])}}const xO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends qi{construct(e,t,i){return new Kn(e,t,i)}static isValidIdentifier(e){return xO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new Kn([b0])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Ne(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ne(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,s+=2}else f==="`"?(c=!c,s++):f!=="."||c?(i+=f,s++):(l(),s++)}if(l(),c)throw new Ne(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Qt.fromString(e))}static fromName(e){return new Fe(Qt.fromString(e).popFirst(5))}static empty(){return new Fe(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e,t){if(!t)throw new Ne(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NO(n,e,t,i){if(e===!0&&i===!0)throw new Ne(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function S0(n){if(!Fe.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function A0(n){if(Fe.isDocumentKey(n))throw new Ne(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function $d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e(12329,{type:typeof n})}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$d(n);throw new Ne(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,e){const t={typeString:n};return e&&(t.value=e),t}function $c(n,e){if(!hw(n))throw new Ne(ce.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new Ne(ce.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=-62135596800,C0=1e6;class nn{static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*C0);return new nn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<w0)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($c(e,nn._jsonSchema))return new nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nn._jsonSchemaVersion="firestore/timestamp/1.0",nn._jsonSchema={type:On("string",nn._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new nn(0,0))}static max(){return new Xe(new nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function DO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(i===1e9?new nn(t+1,0):new nn(t,i));return new Ns(s,Fe.empty(),e)}function OO(n){return new Ns(n.readTime,n.key,Ic)}class Ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ns(Xe.min(),Fe.empty(),Ic)}static max(){return new Ns(Xe.max(),Fe.empty(),Ic)}}function MO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:gt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==PO)throw n;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,i)=>{t(e)}))}static reject(e){return new fe(((t,i)=>{i(e)}))}static waitFor(e){return new fe(((t,i)=>{let s=0,l=0,c=!1;e.forEach((f=>{++s,f.next((()=>{++l,c&&l===s&&t()}),(m=>i(m)))})),c=!0,l===s&&t()}))}static or(e){let t=fe.resolve(!1);for(const i of e)t=t.next((s=>s?fe.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,l)=>{i.push(t.call(this,s,l))})),this.waitFor(i)}static mapArray(e,t){return new fe(((i,s)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next((y=>{c[p]=y,++f,f===l&&i(c)}),(y=>s(y)))}}))}static doWhile(e,t){return new fe(((i,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):i()};l()}))}}function LO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ru(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-1;function Yd(n){return n==null}function dd(n){return n===0&&1/n==-1/0}function jO(n){return typeof n=="number"&&Number.isInteger(n)&&!dd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="";function kO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R0(e)),e=UO(n.get(t),e);return R0(e)}function UO(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case fw:t+="";break;default:t+=l}}return t}function R0(n){return n+fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nf(this.root,e,this.comparator,!0)}}class Nf{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??$n.RED,this.left=s??$n.EMPTY,this.right=l??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new $n(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return $n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(e){return new x0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pn(this.comparator);return t.data=e,t}}class x0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Hr([])}unionWith(e){let t=new Pn(Kn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mw("Invalid base64 string: "+l):l}})(e);return new Yn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new Yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const zO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(Ot(!!n,39018),typeof n=="string"){let e=0;const t=zO.exec(n);if(Ot(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tn(n.seconds),nanos:Tn(n.nanos)}}function Tn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?Yn.fromBase64String(n):Yn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="server_timestamp",gw="__type__",yw="__previous_value__",_w="__local_write_time__";function r_(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[gw])==null?void 0:i.stringValue)===pw}function Qd(n){const e=n.mapValue.fields[yw];return r_(e)?Qd(e):e}function xc(n){const e=Ds(n.mapValue.fields[_w].timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,i,s,l,c,f,m,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const md="(default)";class Nc{constructor(e,t){this.projectId=e,this.database=t||md}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}function HO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ne(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__type__",FO="__max__",Df={mapValue:{}},Ew="__vector__",pd="value";function Ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?r_(n)?4:GO(n)?9007199254740991:qO(n)?10:11:$e(28295,{value:n})}function Wi(n,e){if(n===e)return!0;const t=Ms(n);if(t!==Ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xc(n).isEqual(xc(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=Ds(s.timestampValue),f=Ds(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return Os(s.bytesValue).isEqual(Os(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return Tn(s.geoPointValue.latitude)===Tn(l.geoPointValue.latitude)&&Tn(s.geoPointValue.longitude)===Tn(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Tn(s.integerValue)===Tn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Tn(s.doubleValue),f=Tn(l.doubleValue);return c===f?dd(c)===dd(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Hl(n.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},f=l.mapValue.fields||{};if(I0(c)!==I0(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Wi(c[m],f[m])))return!1;return!0})(n,e);default:return $e(52216,{left:n})}}function Dc(n,e){return(n.values||[]).find((t=>Wi(t,e)))!==void 0}function Fl(n,e){if(n===e)return 0;const t=Ms(n),i=Ms(e);if(t!==i)return gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return gt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Tn(l.integerValue||l.doubleValue),m=Tn(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return N0(n.timestampValue,e.timestampValue);case 4:return N0(xc(n),xc(e));case 5:return dy(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Os(l),m=Os(c);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=gt(f[p],m[p]);if(y!==0)return y}return gt(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=gt(Tn(l.latitude),Tn(c.latitude));return f!==0?f:gt(Tn(l.longitude),Tn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return D0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,w,O,H;const f=l.fields||{},m=c.fields||{},p=(S=f[pd])==null?void 0:S.arrayValue,y=(w=m[pd])==null?void 0:w.arrayValue,v=gt(((O=p==null?void 0:p.values)==null?void 0:O.length)||0,((H=y==null?void 0:y.values)==null?void 0:H.length)||0);return v!==0?v:D0(p,y)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Df.mapValue&&c===Df.mapValue)return 0;if(l===Df.mapValue)return 1;if(c===Df.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const S=dy(m[v],y[v]);if(S!==0)return S;const w=Fl(f[m[v]],p[y[v]]);if(w!==0)return w}return gt(m.length,y.length)})(n.mapValue,e.mapValue);default:throw $e(23264,{he:t})}}function N0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return gt(n,e);const t=Ds(n),i=Ds(e),s=gt(t.seconds,i.seconds);return s!==0?s:gt(t.nanos,i.nanos)}function D0(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=Fl(t[s],i[s]);if(l)return l}return gt(t.length,i.length)}function ql(n){return my(n)}function my(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Ds(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Os(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Fe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=my(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${my(t.fields[c])}`;return s+"}"})(n.mapValue):$e(61005,{value:n})}function Gf(n){switch(Ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(n);return e?16+Gf(e):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+Gf(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return ks(i.fields,((l,c)=>{s+=l.length+Gf(c)})),s})(n.mapValue);default:throw $e(13486,{value:n})}}function O0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function i_(n){return!!n&&"arrayValue"in n}function M0(n){return!!n&&"nullValue"in n}function P0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $f(n){return!!n&&"mapValue"in n}function qO(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[vw])==null?void 0:i.stringValue)===Ew}function gc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ks(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=gc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gc(n.arrayValue.values[t]);return e}return{...n}}function GO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(t)}setAll(e){let t=Kn.emptyPath(),i={},s=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,s),i={},s=[],t=f.popLast()}c?i[f.lastSegment()]=gc(c):s.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());$f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];$f(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){ks(t,((s,l)=>e[s]=l));for(const s of i)delete e[s]}clone(){return new Rr(gc(this.value))}}function Tw(n){const e=[];return ks(n.fields,((t,i)=>{const s=new Kn([t]);if($f(i)){const l=Tw(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t,i,s,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new ir(e,0,Xe.min(),Xe.min(),Xe.min(),Rr.empty(),0)}static newFoundDocument(e,t,i,s){return new ir(e,1,t,Xe.min(),i,s,0)}static newNoDocument(e,t){return new ir(e,2,t,Xe.min(),Xe.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new ir(e,3,t,Xe.min(),Xe.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.position=e,this.inclusive=t}}function V0(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=Fe.comparator(Fe.fromName(c.referenceValue),t.key):i=Fl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function L0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function $O(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{}class Dn extends bw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new YO(e,t,i):t==="array-contains"?new WO(e,i):t==="in"?new JO(e,i):t==="not-in"?new ZO(e,i):t==="array-contains-any"?new eM(e,i):new Dn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QO(e,i):new XO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fl(t,this.value)):t!==null&&Ms(this.value)===Ms(t)&&this.matchesComparison(Fl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends bw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ri(e,t)}matches(e){return Sw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sw(n){return n.op==="and"}function Aw(n){return KO(n)&&Sw(n)}function KO(n){for(const e of n.filters)if(e instanceof Ri)return!1;return!0}function gy(n){if(n instanceof Dn)return n.field.canonicalString()+n.op.toString()+ql(n.value);if(Aw(n))return n.filters.map((e=>gy(e))).join(",");{const e=n.filters.map((t=>gy(t))).join(",");return`${n.op}(${e})`}}function ww(n,e){return n instanceof Dn?(function(i,s){return s instanceof Dn&&i.op===s.op&&i.field.isEqual(s.field)&&Wi(i.value,s.value)})(n,e):n instanceof Ri?(function(i,s){return s instanceof Ri&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,f)=>l&&ww(c,s.filters[f])),!0):!1})(n,e):void $e(19439)}function Cw(n){return n instanceof Dn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ql(t.value)}`})(n):n instanceof Ri?(function(t){return t.op.toString()+" {"+t.getFilters().map(Cw).join(" ,")+"}"})(n):"Filter"}class YO extends Dn{constructor(e,t,i){super(e,t,i),this.key=Fe.fromName(i.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class QO extends Dn{constructor(e,t){super(e,"in",t),this.keys=Rw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class XO extends Dn{constructor(e,t){super(e,"not-in",t),this.keys=Rw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Rw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>Fe.fromName(i.referenceValue)))}class WO extends Dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return i_(t)&&Dc(t.arrayValue,this.value)}}class JO extends Dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dc(this.value.arrayValue,t)}}class ZO extends Dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dc(this.value.arrayValue,t)}}class eM extends Dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!i_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Dc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t=null,i=[],s=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function j0(n,e=null,t=[],i=[],s=null,l=null,c=null){return new tM(n,e,t,i,s,l,c)}function a_(n){const e=Je(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>gy(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ql(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ql(i))).join(",")),e.Te=t}return e.Te}function s_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$O(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ww(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L0(n.startAt,e.startAt)&&L0(n.endAt,e.endAt)}function yy(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t=null,i=[],s=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nM(n,e,t,i,s,l,c,f){return new Kc(n,e,t,i,s,l,c,f)}function Xd(n){return new Kc(n)}function k0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rM(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Iw(n){return n.collectionGroup!==null}function yc(n){const e=Je(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Pn(Kn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new yd(l,i))})),t.has(Kn.keyField().canonicalString())||e.Ie.push(new yd(Kn.keyField(),i))}return e.Ie}function $i(n){const e=Je(n);return e.Ee||(e.Ee=iM(e,yc(n))),e.Ee}function iM(n,e){if(n.limitType==="F")return j0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new yd(s.field,l)}));const t=n.endAt?new gd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gd(n.startAt.position,n.startAt.inclusive):null;return j0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function _y(n,e){const t=n.filters.concat([e]);return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,e,t){return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wd(n,e){return s_($i(n),$i(e))&&n.limitType===e.limitType}function xw(n){return`${a_($i(n))}|lt:${n.limitType}`}function bl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>Cw(s))).join(", ")}]`),Yd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ql(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ql(s))).join(",")),`Target(${i})`})($i(n))}; limitType=${n.limitType})`}function Jd(n,e){return e.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Fe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,s){for(const l of yc(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(c,f,m){const p=V0(c,f,m);return c.inclusive?p<=0:p<0})(i.startAt,yc(i),s)||i.endAt&&!(function(c,f,m){const p=V0(c,f,m);return c.inclusive?p>=0:p>0})(i.endAt,yc(i),s))})(n,e)}function aM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nw(n){return(e,t)=>{let i=!1;for(const s of yc(n)){const l=sM(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function sM(n,e,t){const i=n.field.isKeyField()?Fe.comparator(e.key,t.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Fl(m,p):$e(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,((t,i)=>{for(const[s,l]of i)e(s,l)}))}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new fn(Fe.comparator);function Da(){return oM}const Dw=new fn(Fe.comparator);function cc(...n){let e=Dw;for(const t of n)e=e.insert(t.key,t);return e}function Ow(n){let e=Dw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function po(){return _c()}function Mw(){return _c()}function _c(){return new Io((n=>n.toString()),((n,e)=>n.isEqual(e)))}const lM=new fn(Fe.comparator),uM=new Pn(Fe.comparator);function yt(...n){let e=uM;for(const t of n)e=e.add(t);return e}const cM=new Pn(gt);function hM(){return cM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function Pw(n){return{integerValue:""+n}}function fM(n,e){return jO(e)?Pw(e):o_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(){this._=void 0}}function dM(n,e,t){return n instanceof _d?(function(s,l){const c={fields:{[gw]:{stringValue:pw},[_w]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&r_(l)&&(l=Qd(l)),l&&(c.fields[yw]=l),{mapValue:c}})(t,e):n instanceof Oc?Lw(n,e):n instanceof Mc?jw(n,e):(function(s,l){const c=Vw(s,l),f=U0(c)+U0(s.Ae);return py(c)&&py(s.Ae)?Pw(f):o_(s.serializer,f)})(n,e)}function mM(n,e,t){return n instanceof Oc?Lw(n,e):n instanceof Mc?jw(n,e):t}function Vw(n,e){return n instanceof vd?(function(i){return py(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class _d extends Zd{}class Oc extends Zd{constructor(e){super(),this.elements=e}}function Lw(n,e){const t=kw(e);for(const i of n.elements)t.some((s=>Wi(s,i)))||t.push(i);return{arrayValue:{values:t}}}class Mc extends Zd{constructor(e){super(),this.elements=e}}function jw(n,e){let t=kw(e);for(const i of n.elements)t=t.filter((s=>!Wi(s,i)));return{arrayValue:{values:t}}}class vd extends Zd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function U0(n){return Tn(n.integerValue||n.doubleValue)}function kw(n){return i_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pM(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof Oc&&s instanceof Oc||i instanceof Mc&&s instanceof Mc?Hl(i.elements,s.elements,Wi):i instanceof vd&&s instanceof vd?Wi(i.Ae,s.Ae):i instanceof _d&&s instanceof _d})(n.transform,e.transform)}class gM{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class em{}function Uw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new l_(n.key,Gr.none()):new Yc(n.key,n.data,Gr.none());{const t=n.data,i=Rr.empty();let s=new Pn(Kn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Us(n.key,i,new Hr(s.toArray()),Gr.none())}}function yM(n,e,t){n instanceof Yc?(function(s,l,c){const f=s.value.clone(),m=B0(s.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Us?(function(s,l,c){if(!Kf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const f=B0(s.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(zw(s)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function vc(n,e,t,i){return n instanceof Yc?(function(l,c,f,m){if(!Kf(l.precondition,c))return f;const p=l.value.clone(),y=H0(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,i):n instanceof Us?(function(l,c,f,m){if(!Kf(l.precondition,c))return f;const p=H0(l.fieldTransforms,m,c),y=c.data;return y.setAll(zw(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,i):(function(l,c,f){return Kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function _M(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=Vw(i.transform,s||null);l!=null&&(t===null&&(t=Rr.empty()),t.set(i.field,l))}return t||null}function z0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Hl(i,s,((l,c)=>pM(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yc extends em{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Us extends em{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function B0(n,e,t){const i=new Map;Ot(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,f=e.data.field(l.field);i.set(l.field,mM(c,f,t[s]))}return i}function H0(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,dM(l,c,e))}return i}class l_ extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&yM(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=vc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=vc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mw();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(s.key)?null:f;const m=Uw(c,f);m!==null&&i.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Xe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yt())}isEqual(e){return this.batchId===e.batchId&&Hl(this.mutations,e.mutations,((t,i)=>z0(t,i)))&&Hl(this.baseMutations,e.baseMutations,((t,i)=>z0(t,i)))}}class u_{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ot(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return lM})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new u_(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn,Tt;function SM(n){switch(n){case ce.OK:return $e(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return $e(15467,{code:n})}}function Bw(n){if(n===void 0)return Na("GRPC error has no .code"),ce.UNKNOWN;switch(n){case xn.OK:return ce.OK;case xn.CANCELLED:return ce.CANCELLED;case xn.UNKNOWN:return ce.UNKNOWN;case xn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case xn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case xn.INTERNAL:return ce.INTERNAL;case xn.UNAVAILABLE:return ce.UNAVAILABLE;case xn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case xn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case xn.NOT_FOUND:return ce.NOT_FOUND;case xn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case xn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case xn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case xn.ABORTED:return ce.ABORTED;case xn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case xn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case xn.DATA_LOSS:return ce.DATA_LOSS;default:return $e(39323,{code:n})}}(Tt=xn||(xn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new Rs([4294967295,4294967295],0);function F0(n){const e=AM().encode(n),t=new nw;return t.update(e),new Uint8Array(t.digest())}function q0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([t,i],0),new Rs([s,l],0)]}class c_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hc(`Invalid padding: ${t}`);if(i<0)throw new hc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rs.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Rs.fromNumber(i)));return s.compare(wM)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=F0(e),[i,s]=q0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new c_(l,s,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=F0(e),[i,s]=q0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new tm(Xe.min(),s,new fn(gt),Da(),yt())}}class Qc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Qc(i,t,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=s}}class Hw{constructor(e,t){this.targetId=e,this.Ce=t}}class Fw{constructor(e,t,i=Yn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class G0{constructor(){this.ve=0,this.Fe=$0(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),t=yt(),i=yt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:$e(38017,{changeType:l})}})),new Qc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=$0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ot(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Da(),this.He=Of(),this.Je=Of(),this.Ze=new fn(gt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(yy(l))if(i===0){const c=new Fe(l.path);this.et(t,c,ir.newNoDocument(c,Xe.min()))}else Ot(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),m=f?this.ct(f,e,c):1;if(m!==0){this.it(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,f;try{c=Os(i).toUint8Array()}catch(m){if(m instanceof mw)return Bl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new c_(c,s,l)}catch(m){return Bl(m instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&yy(f.target)){const m=new Fe(f.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ir.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=yt();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new tm(e,t,this.Ze,this.je,i);return this.je=Da(),this.He=Of(),this.Je=Of(),this.Ze=new fn(gt),s}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new G0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Pn(gt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Pn(gt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Of(){return new fn(Fe.comparator)}function $0(){return new fn(Fe.comparator)}const RM={asc:"ASCENDING",desc:"DESCENDING"},IM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xM={and:"AND",or:"OR"};class NM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ey(n,e){return n.useProto3Json||Yd(e)?e:{value:e}}function Ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DM(n,e){return Ed(n,e.toTimestamp())}function Ki(n){return Ot(!!n,49232),Xe.fromTimestamp((function(t){const i=Ds(t);return new nn(i.seconds,i.nanos)})(n))}function h_(n,e){return Ty(n,e).canonicalString()}function Ty(n,e){const t=(function(s){return new Qt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Gw(n){const e=Qt.fromString(n);return Ot(Xw(e),10190,{key:e.toString()}),e}function by(n,e){return h_(n.databaseId,e.path)}function kg(n,e){const t=Gw(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(Kw(t))}function $w(n,e){return h_(n.databaseId,e)}function OM(n){const e=Gw(n);return e.length===4?Qt.emptyPath():Kw(e)}function Sy(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kw(n){return Ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function K0(n,e,t){return{name:by(n,e),fields:t.value.mapValue.fields}}function MM(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ot(y===void 0||typeof y=="string",58123),Yn.fromBase64String(y||"")):(Ot(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Yn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?ce.UNKNOWN:Bw(p.code);return new Ne(y,p.message||"")})(c);t=new Fw(i,s,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=kg(n,i.document.name),l=Ki(i.document.updateTime),c=i.document.createTime?Ki(i.document.createTime):Xe.min(),f=new Rr({mapValue:{fields:i.document.fields}}),m=ir.newFoundDocument(s,l,c,f),p=i.targetIds||[],y=i.removedTargetIds||[];t=new Yf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=kg(n,i.document),l=i.readTime?Ki(i.readTime):Xe.min(),c=ir.newNoDocument(s,l),f=i.removedTargetIds||[];t=new Yf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=kg(n,i.document),l=i.removedTargetIds||[];t=new Yf([],l,s,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new bM(s,l),f=i.targetId;t=new Hw(f,c)}}return t}function PM(n,e){let t;if(e instanceof Yc)t={update:K0(n,e.key,e.value)};else if(e instanceof l_)t={delete:by(n,e.key)};else if(e instanceof Us)t={update:K0(n,e.key,e.data),updateMask:FM(e.fieldMask)};else{if(!(e instanceof vM))return $e(16599,{dt:e.type});t={verify:by(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof _d)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Mc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw $e(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:DM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e(27497)})(n,e.precondition)),t}function VM(n,e){return n&&n.length>0?(Ot(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Ki(s.updateTime):Ki(l);return c.isEqual(Xe.min())&&(c=Ki(l)),new gM(c,s.transformResults||[])})(t,e)))):[]}function LM(n,e){return{documents:[$w(n,e.path)]}}function jM(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$w(n,s);const l=(function(p){if(p.length!==0)return Qw(Ri.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(S){return{field:Sl(S.field),direction:zM(S.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Ey(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function kM(n){let e=OM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ot(i===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const S=Yw(v);return S instanceof Ri&&Aw(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((S=>(function(O){return new yd(Al(O.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(v){let S;return S=typeof v=="object"?v.value:v,Yd(S)?null:S})(t.limit));let m=null;t.startAt&&(m=(function(v){const S=!!v.before,w=v.values||[];return new gd(w,S)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const S=!v.before,w=v.values||[];return new gd(w,S)})(t.endAt)),nM(e,s,c,l,f,"F",m,p)}function UM(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Yw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Al(t.unaryFilter.field);return Dn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Al(t.unaryFilter.field);return Dn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Al(t.unaryFilter.field);return Dn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Al(t.unaryFilter.field);return Dn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dn.create(Al(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ri.create(t.compositeFilter.filters.map((i=>Yw(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(t.compositeFilter.op))})(n):$e(30097,{filter:n})}function zM(n){return RM[n]}function BM(n){return IM[n]}function HM(n){return xM[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function Al(n){return Kn.fromServerFormat(n.fieldPath)}function Qw(n){return n instanceof Dn?(function(t){if(t.op==="=="){if(P0(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(M0(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(P0(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(M0(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:BM(t.op),value:t.value}}})(n):n instanceof Ri?(function(t){const i=t.getFilters().map((s=>Qw(s)));return i.length===1?i[0]:{compositeFilter:{op:HM(t.op),filters:i}}})(n):$e(54877,{filter:n})}function FM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Ww(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,i,s,l=Xe.min(),c=Xe.min(),f=Yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.yt=e}}function GM(n){const e=kM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Sn=new KM}addToCollectionParentIndex(e,t){return this.Sn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Ns.min())}updateCollectionGroup(e,t,i){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class KM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Pn(Qt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Pn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jw=41943040;class Cr{static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(Jw,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Gl(0)}static ar(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="LruGarbageCollector",YM=1048576;function X0([n,e],[t,i]){const s=gt(n,t);return s===0?gt(e,i):s}class QM{constructor(e){this.Pr=e,this.buffer=new Pn(X0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();X0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Me(Q0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ru(t)?Me(Q0,"Ignoring IndexedDB error during garbage collection: ",t):await nu(t)}await this.Ar(3e5)}))}}class WM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Kd.ce);const i=new QM(t);return this.Vr.forEachTarget(e,(s=>i.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>i.Er(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Y0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,s,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,c=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(i=v,f=Date.now(),this.removeTargets(e,i,t)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(p=Date.now(),Tl()<=pt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:v}))))}}function JM(n,e){return new WM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.changes=new Io((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&vc(i.mutation,s,Hr.empty(),nn.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,yt()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=yt()){const s=po();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((l=>{let c=cc();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=po();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,yt())))}populateOverlays(e,t,i){const s=[];return i.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,s){let l=Da();const c=_c(),f=(function(){return _c()})();return t.forEach(((m,p)=>{const y=i.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Us)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),vc(y.mutation,p,y.mutation.getFieldMask(),nn.now())):c.set(p.key,Hr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),t.forEach(((p,y)=>f.set(p,new eP(y,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=_c();let s=new fn(((c,f)=>c-f)),l=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=t.get(m);if(p===null)return;let y=i.get(m)||Hr.empty();y=f.applyToLocalView(p,y),i.set(m,y);const v=(s.get(f.batchId)||yt()).add(m);s=s.insert(f.batchId,v)}))})).next((()=>{const c=[],f=s.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=Mw();y.forEach((S=>{if(!l.has(S)){const w=Uw(t.get(S),i.get(S));w!==null&&v.set(S,w),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return fe.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return rM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):fe.resolve(po());let f=Ic,m=l;return c.next((p=>fe.forEach(p,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next((S=>{m=m.insert(y,S)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,yt()))).next((y=>({batchId:f,changes:Ow(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next((i=>{let s=cc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=cc();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(m=>{const p=(function(v,S){return new Kc(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next((y=>{y.forEach(((v,S)=>{c=c.insert(v,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,ir.newInvalidDocument(y)))}));let f=cc();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&vc(y.mutation,p,Hr.empty(),nn.now()),Jd(t,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return fe.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Ki(s.createTime)}})(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:GM(s.bundledQuery),readTime:Ki(s.readTime)}})(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.overlays=new fn(Fe.comparator),this.Lr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=po();return fe.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,l)=>{this.bt(e,t,l)})),fe.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),fe.resolve()}getOverlaysForCollection(e,t,i){const s=po(),l=t.length+1,c=new Fe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&s.set(m.getKey(),m)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new fn(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=po(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=po(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=s)););return fe.resolve(f)}bt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new TM(t,i));let l=this.Lr.get(t);l===void 0&&(l=yt(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.kr=new Pn(kn.Kr),this.qr=new Pn(kn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new kn(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new kn(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Fe(new Qt([])),i=new kn(t,e),s=new kn(t,e+1),l=[];return this.qr.forEachInRange([i,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Fe(new Qt([])),i=new kn(t,e),s=new kn(t,e+1);let l=yt();return this.qr.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new kn(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class kn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Fe.comparator(e.key,t.key)||gt(e.Hr,t.Hr)}static Ur(e,t){return gt(e.Hr,t.Hr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Pn(kn.Kr)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new EM(l,t,i,s);this.mutationQueue.push(c);for(const f of s)this.Jr=this.Jr.add(new kn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,t){return fe.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),l=s<0?0:s;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?n_:this.Yn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kn(t,0),s=new kn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,s],(c=>{const f=this.Zr(c.Hr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Pn(gt);return t.forEach((s=>{const l=new kn(s,0),c=new kn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(f=>{i=i.add(f.Hr)}))})),fe.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;Fe.isDocumentKey(l)||(l=l.child(""));const c=new kn(new Fe(l),0);let f=new Pn(gt);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(f=f.add(m.Hr)),!0)}),c),fe.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((i=>{const s=this.Zr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ot(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return fe.forEach(t.mutations,(s=>{const l=new kn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new kn(t,0),s=this.Jr.firstAfterOrEqual(i);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.ti=e,this.docs=(function(){return new fn(Fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return fe.resolve(i?i.document.mutableCopy():ir.newInvalidDocument(t))}getEntries(e,t){let i=Da();return t.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():ir.newInvalidDocument(s))})),fe.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Da();const c=t.path,f=new Fe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||MO(OO(y),i)<=0||(s.has(y.key)||Jd(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,i,s){$e(9500)}ni(e,t){return fe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new oP(this)}getSize(e){return fe.resolve(this.size)}}class oP extends ZM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)})),fe.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.persistence=e,this.ri=new Io((t=>a_(t)),s_),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ii=0,this.si=new f_,this.targetCount=0,this.oi=Gl._r()}forEachTarget(e,t){return this.ri.forEach(((i,s)=>t(s))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),fe.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Gl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.lr(t),fe.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.ri.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)})),fe.waitFor(l).next((()=>s))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return fe.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),fe.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return fe.resolve(i)}containsKey(e,t){return fe.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,t){this._i={},this.overlays={},this.ai=new Kd(0),this.ui=!1,this.ui=!0,this.ci=new iP,this.referenceDelegate=e(this),this.li=new lP(this),this.indexManager=new $M,this.remoteDocumentCache=(function(s){return new sP(s)})((i=>this.referenceDelegate.hi(i))),this.serializer=new qM(t),this.Pi=new nP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new aP(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){Me("MemoryPersistence","Starting transaction:",e);const s=new uP(this.ai.next());return this.referenceDelegate.Ti(),i(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(e,t){return fe.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class uP extends VO{constructor(e){super(),this.currentSequenceNumber=e}}class d_{constructor(e){this.persistence=e,this.Ri=new f_,this.Ai=null}static Vi(e){return new d_(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),fe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(i=>{const s=Fe.fromPath(i);return this.mi(e,s).next((l=>{l||t.removeEntry(s,Xe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return fe.or([()=>fe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Td{constructor(e,t){this.persistence=e,this.fi=new Io((i=>kO(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=JM(this,t)}static Vi(e,t){return new Td(e,t)}Ti(){}Ii(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return fe.forEach(this.fi,((i,s)=>this.wr(e,i,s).next((l=>l?fe.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Xe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),fe.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gf(e.data.value)),t}wr(e,t,i){return fe.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return fe.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=s}static Es(e,t){let i=yt(),s=yt();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new m_(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return t2()?8:LO(ar())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new cP;return this.ys(e,t,c).next((f=>{if(l.result=f,this.As)return this.ws(e,t,c,f.size)}))})).next((()=>l.result))}ws(e,t,i,s){return i.documentReadCount<this.Vs?(Tl()<=pt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",bl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),fe.resolve()):(Tl()<=pt.DEBUG&&Me("QueryEngine","Query:",bl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Tl()<=pt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",bl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):fe.resolve())}gs(e,t){if(k0(t))return fe.resolve(null);let i=$i(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=vy(t,null,"F"),i=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=yt(...l);return this.fs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const p=this.bs(t,f);return this.Ss(t,p,c,m.readTime)?this.gs(e,vy(t,null,"F")):this.Ds(e,p,t,m)}))))})))))}ps(e,t,i,s){return k0(t)||s.isEqual(Xe.min())?fe.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,s)?fe.resolve(null):(Tl()<=pt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bl(t)),this.Ds(e,c,t,DO(s,Ic)).next((f=>f)))}))}bs(e,t){let i=new Pn(Nw(e));return t.forEach(((s,l)=>{Jd(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(e,t,i){return Tl()<=pt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",bl(t)),this.fs.getDocumentsMatchingQuery(e,t,Ns.min(),i)}Ds(e,t,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LocalStore",fP=3e8;class dP{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new fn(gt),this.Fs=new Io((l=>a_(l)),s_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tP(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function mP(n,e,t,i){return new dP(n,e,t,i)}async function e1(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=yt();for(const p of s){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function pP(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const v=p.batch,S=v.keys();let w=fe.resolve();return S.forEach((O=>{w=w.next((()=>y.getEntry(m,O))).next((H=>{const P=p.docVersions.get(O);Ot(P!==null,48541),H.version.compareTo(P)<0&&(v.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),y.addEntry(H)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=yt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function t1(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function gP(n,e){const t=Je(n),i=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const f=[];e.targetChanges.forEach(((y,v)=>{const S=s.get(v);if(!S)return;f.push(t.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,v))));let w=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Yn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,i)),s=s.insert(v,w),(function(H,P,F){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=fP?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,w,y)&&f.push(t.li.updateTargetData(l,w))}));let m=Da(),p=yt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(yP(l,c,e.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!i.isEqual(Xe.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((v=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return fe.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(t.vs=s,l)))}function yP(n,e,t){let i=yt(),s=yt();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Da();return t.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(f)),m.isNoDocument()&&m.version.isEqual(Xe.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Me(p_,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:c,Ls:s}}))}function _P(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=n_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function vP(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.li.getTargetData(i,e).next((l=>l?(s=l,fe.resolve(s)):t.li.allocateTargetId(i).next((c=>(s=new bs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Ay(n,e,t){const i=Je(n),s=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!ru(c))throw c;Me(p_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function W0(n,e,t){const i=Je(n);let s=Xe.min(),l=yt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const v=Je(m),S=v.Fs.get(y);return S!==void 0?fe.resolve(v.vs.get(S)):v.li.getTargetData(p,y)})(i,c,$i(e)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?s:Xe.min(),t?l:yt()))).next((f=>(EP(i,aM(e),f),{documents:f,ks:l})))))}function EP(n,e,t){let i=n.Ms.get(e)||Xe.min();t.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(e,i)}class J0{constructor(){this.activeTargetIds=hM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TP{constructor(){this.vo=new J0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new J0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="ConnectivityMonitor";class eS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Me(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Me(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf=null;function wy(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="RestConnection",SP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===md?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,l){const c=wy(),f=this.Qo(e,t.toUriEncodedString());Me(Ug,`Sending RPC '${e}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,s,l);const{host:p}=new URL(f),y=Zl(p);return this.zo(e,f,m,i,y).then((v=>(Me(Ug,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Bl(Ug,`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(e,t,i,s,l,c){return this.Wo(e,t,i,s,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),i&&i.headers.forEach(((s,l)=>e[l]=s))}Qo(e,t){const i=SP[e];let s=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection",ac=(n,e,t)=>{n.listen(e,(i=>{try{t(i)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Dl extends AP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Dl.c_){const e=sw();ac(e,aw.STAT_EVENT,(t=>{t.stat===fy.PROXY?Me(tr,"STAT_EVENT: detected buffering proxy"):t.stat===fy.NOPROXY&&Me(tr,"STAT_EVENT: detected no buffering proxy")})),Dl.c_=!0}}zo(e,t,i,s,l){const c=wy();return new Promise(((f,m)=>{const p=new rw;p.setWithCredentials(!0),p.listenOnce(iw.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qf.NO_ERROR:const v=p.getResponseJson();Me(tr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),f(v);break;case qf.TIMEOUT:Me(tr,`RPC '${e}' ${c} timed out`),m(new Ne(ce.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const S=p.getStatus();if(Me(tr,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const H=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(B)>=0?B:ce.UNKNOWN})(O.status);m(new Ne(H,O.message))}else m(new Ne(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Ne(ce.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Me(tr,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(s);Me(tr,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",y,i,15)}))}T_(e,t,i){const s=wy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const p=l.join("");Me(tr,`Creating RPC '${e}' stream ${s}: ${p}`,f);const y=c.createWebChannel(p,f);this.I_(y);let v=!1,S=!1;const w=new wP({Ho:O=>{S?Me(tr,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(v||(Me(tr,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),Me(tr,`RPC '${e}' stream ${s} sending:`,O),y.send(O))},Jo:()=>y.close()});return ac(y,uc.EventType.OPEN,(()=>{S||(Me(tr,`RPC '${e}' stream ${s} transport opened.`),w.i_())})),ac(y,uc.EventType.CLOSE,(()=>{S||(S=!0,Me(tr,`RPC '${e}' stream ${s} transport closed`),w.o_(),this.E_(y))})),ac(y,uc.EventType.ERROR,(O=>{S||(S=!0,Bl(tr,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),w.o_(new Ne(ce.UNAVAILABLE,"The operation could not be completed")))})),ac(y,uc.EventType.MESSAGE,(O=>{var H;if(!S){const P=O.data[0];Ot(!!P,16349);const F=P,B=(F==null?void 0:F.error)||((H=F[0])==null?void 0:H.error);if(B){Me(tr,`RPC '${e}' stream ${s} received error:`,B);const G=B.status;let ee=(function(A){const I=xn[A];if(I!==void 0)return Bw(I)})(G),ie=B.message;ee===void 0&&(ee=ce.INTERNAL,ie="Unknown error status: "+G+" with message "+B.message),S=!0,w.o_(new Ne(ee,ie)),y.close()}else Me(tr,`RPC '${e}' stream ${s} received:`,P),w.__(P)}})),Dl.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ow()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(n){return new Dl(n)}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(n){return new NM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl.c_=!1;class n1{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&Me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="PersistentStream";class r1{constructor(e,t,i,s,l,c,f,m){this.Ci=e,this.b_=i,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Na(t.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new Ne(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Me(tS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Me(tS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RP extends r1{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=MM(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?Ki(c.readTime):Xe.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Sy(this.serializer),t.addTarget=(function(l,c){let f;const m=c.target;if(f=yy(m)?{documents:LM(l,m)}:{query:jM(l,m).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=qw(l,c.resumeToken);const p=Ey(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Xe.min())>0){f.readTime=Ed(l,c.snapshotVersion.toTimestamp());const p=Ey(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const i=UM(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Sy(this.serializer),t.removeTarget=e,this.K_(t)}}class IP extends r1{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=VM(e.writeResults,e.commitTime),i=Ki(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Sy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>PM(this.serializer,i)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{}class NP extends xP{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Ty(t,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(ce.UNKNOWN,l.toString())}))}jo(e,t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.jo(e,Ty(t,i),s,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ne(ce.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DP(n,e,t,i){return new NP(n,e,t,i)}class OP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Na(t),this.aa=!1):Me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class MP{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{xo(this)&&(Me(So,"Restarting streams for network reachability change."),await(async function(m){const p=Je(m);p.Ea.add(4),await Xc(p),p.Va.set("Unknown"),p.Ea.delete(4),await rm(p)})(this))}))})),this.Va=new OP(i,s)}}async function rm(n){if(xo(n))for(const e of n.Ra)await e(!0)}async function Xc(n){for(const e of n.Ra)await e(!1)}function i1(n,e){const t=Je(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),v_(t)?__(t):iu(t).O_()&&y_(t,e))}function g_(n,e){const t=Je(n),i=iu(t);t.Ia.delete(e),i.O_()&&a1(t,e),t.Ia.size===0&&(i.O_()?i.L_():xo(t)&&t.Va.set("Unknown"))}function y_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}iu(n).Z_(e)}function a1(n,e){n.da.$e(e),iu(n).X_(e)}function __(n){n.da=new CM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),iu(n).start(),n.Va.ua()}function v_(n){return xo(n)&&!iu(n).x_()&&n.Ia.size>0}function xo(n){return Je(n).Ea.size===0}function s1(n){n.da=void 0}async function PP(n){n.Va.set("Online")}async function VP(n){n.Ia.forEach(((e,t)=>{y_(n,e)}))}async function LP(n,e){s1(n),v_(n)?(n.Va.ha(e),__(n)):n.Va.set("Unknown")}async function jP(n,e,t){if(n.Va.set("Online"),e instanceof Fw&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const f of l.targetIds)s.Ia.has(f)&&(await s.remoteSyncer.rejectListen(f,c),s.Ia.delete(f),s.da.removeTarget(f))})(n,e)}catch(i){Me(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bd(n,i)}else if(e instanceof Yf?n.da.Xe(e):e instanceof Hw?n.da.st(e):n.da.tt(e),!t.isEqual(Xe.min()))try{const i=await t1(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.da.Tt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Yn.EMPTY_BYTE_STRING,y.snapshotVersion)),a1(l,m);const v=new bs(y.target,m,p,y.sequenceNumber);y_(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){Me(So,"Failed to raise snapshot:",i),await bd(n,i)}}async function bd(n,e,t){if(!ru(e))throw e;n.Ea.add(1),await Xc(n),n.Va.set("Offline"),t||(t=()=>t1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Me(So,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rm(n)}))}function o1(n,e){return e().catch((t=>bd(n,t,e)))}async function im(n){const e=Je(n),t=Ps(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:n_;for(;kP(e);)try{const s=await _P(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,UP(e,s)}catch(s){await bd(e,s)}l1(e)&&u1(e)}function kP(n){return xo(n)&&n.Ta.length<10}function UP(n,e){n.Ta.push(e);const t=Ps(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function l1(n){return xo(n)&&!Ps(n).x_()&&n.Ta.length>0}function u1(n){Ps(n).start()}async function zP(n){Ps(n).ra()}async function BP(n){const e=Ps(n);for(const t of n.Ta)e.ea(t.mutations)}async function HP(n,e,t){const i=n.Ta.shift(),s=u_.from(i,e,t);await o1(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await im(n)}async function FP(n,e){e&&Ps(n).Y_&&await(async function(i,s){if((function(c){return SM(c)&&c!==ce.ABORTED})(s.code)){const l=i.Ta.shift();Ps(i).B_(),await o1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await im(i)}})(n,e),l1(n)&&u1(n)}async function nS(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Me(So,"RemoteStore received new credentials");const i=xo(t);t.Ea.add(3),await Xc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rm(t)}async function qP(n,e){const t=Je(n);e?(t.Ea.delete(2),await rm(t)):e||(t.Ea.add(2),await Xc(t),t.Va.set("Unknown"))}function iu(n){return n.ma||(n.ma=(function(t,i,s){const l=Je(t);return l.sa(),new RP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:PP.bind(null,n),Yo:VP.bind(null,n),t_:LP.bind(null,n),J_:jP.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),v_(n)?__(n):n.Va.set("Unknown")):(await n.ma.stop(),s1(n))}))),n.ma}function Ps(n){return n.fa||(n.fa=(function(t,i,s){const l=Je(t);return l.sa(),new IP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zP.bind(null,n),t_:FP.bind(null,n),ta:BP.bind(null,n),na:HP.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await im(n)):(await n.fa.stop(),n.Ta.length>0&&(Me(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,f=new E_(e,t,c,s,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(n,e){if(Na("AsyncQueue",`${e}: ${n}`),ru(n))return new Ne(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Fe.comparator(t.key,i.key):(t,i)=>Fe.comparator(t.key,i.key),this.keyedMap=cc(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.ga=new fn(Fe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class $l{constructor(e,t,i,s,l,c,f,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new $l(e,t,Ol.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $P{constructor(){this.queries=iS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Je(t),l=s.queries;s.queries=iS(),l.forEach(((c,f)=>{for(const m of f.ba)m.onError(i)}))})(this,new Ne(ce.ABORTED,"Firestore shutting down"))}}function iS(){return new Io((n=>xw(n)),Wd)}async function b_(n,e){const t=Je(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.Da()&&(i=2):(l=new GP,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const f=T_(c,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&A_(t)}async function S_(n,e){const t=Je(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=e.Da()?0:1:!l.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function KP(n,e){const t=Je(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const f of c.ba)f.Fa(s)&&(i=!0);c.wa=s}}i&&A_(t)}function YP(n,e,t){const i=Je(n),s=i.queries.get(e);if(s)for(const l of s.ba)l.onError(t);i.queries.delete(e)}function A_(n){n.Ca.forEach((e=>{e.next()}))}var Cy,aS;(aS=Cy||(Cy={})).Ma="default",aS.Cache="cache";class w_{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new $l(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.key=e}}class h1{constructor(e){this.key=e}}class QP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=yt(),this.mutatedKeys=yt(),this.eu=Nw(e),this.tu=new Ol(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new rS,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,f=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,v)=>{const S=s.get(y),w=Jd(this.query,v)?v:null,O=!!S&&this.mutatedKeys.has(S.key),H=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let P=!1;S&&w?S.data.isEqual(w.data)?O!==H&&(i.track({type:3,doc:w}),P=!0):this.su(S,w)||(i.track({type:2,doc:w}),P=!0,(m&&this.eu(w,m)>0||p&&this.eu(w,p)<0)&&(f=!0)):!S&&w?(i.track({type:0,doc:w}),P=!0):S&&!w&&(i.track({type:1,doc:S}),P=!0,(m||p)&&(f=!0)),P&&(w?(c=c.add(w),l=H?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Ss:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,v)=>(function(w,O){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:P})}};return H(w)-H(O)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),s=s??!1;const f=t&&!s?this._u():[],m=this.Ya.size===0&&this.current&&!s?1:0,p=m!==this.Xa;return this.Xa=m,c.length!==0||p?{snapshot:new $l(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=yt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new h1(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new c1(i))})),t}cu(e){this.Za=e.ks,this.Ya=yt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return $l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const C_="SyncEngine";class XP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class WP{constructor(e){this.key=e,this.hu=!1}}class JP{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Io((f=>xw(f)),Wd),this.Iu=new Map,this.Eu=new Set,this.Ru=new fn(Fe.comparator),this.Au=new Map,this.Vu=new f_,this.du={},this.mu=new Map,this.fu=Gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZP(n,e,t=!0){const i=y1(n);let s;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await f1(i,e,t,!0),s}async function e4(n,e){const t=y1(n);await f1(t,e,!0,!1)}async function f1(n,e,t,i){const s=await vP(n.localStore,$i(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await t4(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&i1(n.remoteStore,s),f}async function t4(n,e,t,i,s){n.pu=(v,S,w)=>(async function(H,P,F,B){let G=P.view.ru(F);G.Ss&&(G=await W0(H.localStore,P.query,!1).then((({documents:A})=>P.view.ru(A,G))));const ee=B&&B.targetChanges.get(P.targetId),ie=B&&B.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(G,H.isPrimaryClient,ee,ie);return oS(H,P.targetId,ne.au),ne.snapshot})(n,v,S,w);const l=await W0(n.localStore,e,!0),c=new QP(e,l.ks),f=c.ru(l.documents),m=Qc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=c.applyChanges(f,n.isPrimaryClient,m);oS(n,t,p.au);const y=new XP(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function n4(n,e,t){const i=Je(n),s=i.Tu.get(e),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!Wd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ay(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&g_(i.remoteStore,s.targetId),Ry(i,s.targetId)})).catch(nu)):(Ry(i,s.targetId),await Ay(i.localStore,s.targetId,!0))}async function r4(n,e){const t=Je(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),g_(t.remoteStore,i.targetId))}async function i4(n,e,t){const i=h4(n);try{const s=await(function(c,f){const m=Je(c),p=nn.now(),y=f.reduce(((w,O)=>w.add(O.key)),yt());let v,S;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let O=Da(),H=yt();return m.xs.getEntries(w,y).next((P=>{O=P,O.forEach(((F,B)=>{B.isValidDocument()||(H=H.add(F))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,O))).next((P=>{v=P;const F=[];for(const B of f){const G=_M(B,v.get(B.key).overlayedDocument);G!=null&&F.push(new Us(B.key,G,Tw(G.value.mapValue),Gr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,p,F,f)})).next((P=>{S=P;const F=P.applyToLocalDocumentSet(v,H);return m.documentOverlayCache.saveOverlays(w,P.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:Ow(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,f,m){let p=c.du[c.currentUser.toKey()];p||(p=new fn(gt)),p=p.insert(f,m),c.du[c.currentUser.toKey()]=p})(i,s.batchId,t),await Wc(i,s.changes),await im(i.remoteStore)}catch(s){const l=T_(s,"Failed to persist write");t.reject(l)}}async function d1(n,e){const t=Je(n);try{const i=await gP(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Au.get(l);c&&(Ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Ot(c.hu,14607):s.removedDocuments.size>0&&(Ot(c.hu,42227),c.hu=!1))})),await Wc(t,i,e)}catch(i){await nu(i)}}function sS(n,e,t){const i=Je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&s.push(f.snapshot)})),(function(c,f){const m=Je(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,v)=>{for(const S of v.ba)S.va(f)&&(p=!0)})),p&&A_(m)})(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function a4(n,e,t){const i=Je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),l=s&&s.key;if(l){let c=new fn(Fe.comparator);c=c.insert(l,ir.newNoDocument(l,Xe.min()));const f=yt().add(l),m=new tm(Xe.min(),new Map,new fn(gt),c,f);await d1(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(e),R_(i)}else await Ay(i.localStore,e,!1).then((()=>Ry(i,e,t))).catch(nu)}async function s4(n,e){const t=Je(n),i=e.batch.batchId;try{const s=await pP(t.localStore,e);p1(t,i,null),m1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wc(t,s)}catch(s){await nu(s)}}async function o4(n,e,t){const i=Je(n);try{const s=await(function(c,f){const m=Je(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((v=>(Ot(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,e);p1(i,e,t),m1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wc(i,s)}catch(s){await nu(s)}}function m1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function p1(n,e,t){const i=Je(n);let s=i.du[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function Ry(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((i=>{n.Vu.containsKey(i)||g1(n,i)}))}function g1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(g_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),R_(n))}function oS(n,e,t){for(const i of t)i instanceof c1?(n.Vu.addReference(i.key,e),l4(n,i)):i instanceof h1?(Me(C_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||g1(n,i.key)):$e(19791,{wu:i})}function l4(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(Me(C_,"New document in limbo: "+t),n.Eu.add(i),R_(n))}function R_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Fe(Qt.fromString(e)),i=n.fu.next();n.Au.set(i,new WP(t)),n.Ru=n.Ru.insert(t,i),i1(n.remoteStore,new bs($i(Xd(t.path)),i,"TargetPurposeLimboResolution",Kd.ce))}}async function Wc(n,e,t){const i=Je(n),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{c.push(i.pu(m,e,t).then((p=>{var y;if((p||t)&&i.isPrimaryClient){const v=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){s.push(p);const v=m_.Es(m.targetId,p);l.push(v)}})))})),await Promise.all(c),i.Pu.J_(s),await(async function(m,p){const y=Je(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>fe.forEach(p,(S=>fe.forEach(S.Ts,(w=>y.persistence.referenceDelegate.addReference(v,S.targetId,w))).next((()=>fe.forEach(S.Is,(w=>y.persistence.referenceDelegate.removeReference(v,S.targetId,w)))))))))}catch(v){if(!ru(v))throw v;Me(p_,"Failed to update sequence numbers: "+v)}for(const v of p){const S=v.targetId;if(!v.fromCache){const w=y.vs.get(S),O=w.snapshotVersion,H=w.withLastLimboFreeSnapshotVersion(O);y.vs=y.vs.insert(S,H)}}})(i.localStore,l))}async function u4(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Me(C_,"User change. New user:",e.toKey());const i=await e1(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new Ne(ce.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wc(t,i.Ns)}}function c4(n,e){const t=Je(n),i=t.Au.get(e);if(i&&i.hu)return yt().add(i.key);{let s=yt();const l=t.Iu.get(e);if(!l)return s;for(const c of l){const f=t.Tu.get(c);s=s.unionWith(f.view.nu)}return s}}function y1(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a4.bind(null,e),e.Pu.J_=KP.bind(null,e.eventManager),e.Pu.yu=YP.bind(null,e.eventManager),e}function h4(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}class Sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return mP(this.persistence,new hP,e.initialUser,this.serializer)}Cu(e){return new Zw(d_.Vi,this.serializer)}Du(e){return new TP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sd.provider={build:()=>new Sd};class f4 extends Sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ot(this.persistence.referenceDelegate instanceof Td,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XM(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new Zw((i=>Td.Vi(i,t)),this.serializer)}}class Iy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u4.bind(null,this.syncEngine),await qP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $P})()}createDatastore(e){const t=nm(e.databaseInfo.databaseId),i=CP(e.databaseInfo);return DP(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,l,c,f){return new MP(i,s,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>sS(this.syncEngine,t,0)),(function(){return eS.v()?new eS:new bP})())}createSyncEngine(e,t){return(function(s,l,c,f,m,p,y){const v=new JP(s,l,c,f,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const l=Je(s);Me(So,"RemoteStore shutting down."),l.Ea.add(5),await Xc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Iy.provider={build:()=>new Iy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class d4{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=s,this.user=rr.UNAUTHENTICATED,this.clientId=t_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Me(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Me(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=T_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Bg(n,e){n.asyncQueue.verifyOperationInProgress(),Me(Vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await e1(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function lS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await m4(n);Me(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>nS(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>nS(e.remoteStore,s))),n._onlineComponents=e}async function m4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Me(Vs,"Using user provided OfflineComponentProvider");try{await Bg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ce.FAILED_PRECONDITION||s.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Bl("Error using user provided cache. Falling back to memory cache: "+t),await Bg(n,new Sd)}}else Me(Vs,"Using default OfflineComponentProvider"),await Bg(n,new f4(void 0));return n._offlineComponents}async function _1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Me(Vs,"Using user provided OnlineComponentProvider"),await lS(n,n._uninitializedComponentsProvider._online)):(Me(Vs,"Using default OnlineComponentProvider"),await lS(n,new Iy))),n._onlineComponents}function p4(n){return _1(n).then((e=>e.syncEngine))}async function Ad(n){const e=await _1(n),t=e.eventManager;return t.onListen=ZP.bind(null,e.syncEngine),t.onUnlisten=n4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=e4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=r4.bind(null,e.syncEngine),t}function g4(n,e,t,i){const s=new I_(i),l=new w_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>b_(await Ad(n),l))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>S_(await Ad(n),l)))}}function y4(n,e,t={}){const i=new Ra;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new I_({next:S=>{y.Nu(),c.enqueueAndForget((()=>S_(l,v)));const w=S.docs.has(f);!w&&S.fromCache?p.reject(new Ne(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&S.fromCache&&m&&m.source==="server"?p.reject(new Ne(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),v=new w_(Xd(f.path),y,{includeMetadataChanges:!0,Ka:!0});return b_(l,v)})(await Ad(n),n.asyncQueue,e,t,i))),i.promise}function _4(n,e,t={}){const i=new Ra;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new I_({next:S=>{y.Nu(),c.enqueueAndForget((()=>S_(l,v))),S.fromCache&&m.source==="server"?p.reject(new Ne(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),v=new w_(f,y,{includeMetadataChanges:!0,Ka:!0});return b_(l,v)})(await Ad(n),n.asyncQueue,e,t,i))),i.promise}function v4(n,e){const t=new Ra;return n.asyncQueue.enqueueAndForget((async()=>i4(await p4(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="ComponentProvider",uS=new Map;function T4(n,e,t,i,s){return new BO(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,v1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",cS=!0;class hS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=cS}else this.host=e.host,this.ssl=e.ssl??cS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YM)throw new Ne(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class am{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new EO;switch(i.type){case"firstParty":return new AO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ne(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=uS.get(t);i&&(Me(E4,"Removing Datastore"),uS.delete(t),i.terminate())})(this),Promise.resolve()}}function b4(n,e,t,i={}){var p;n=qr(n,am);const s=Zl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;s&&(YA(`https://${f}`),QA("Firestore",!0)),l.host!==E1&&l.host!==f&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:s,emulatorOptions:i};if(!Eo(m,c)&&(n._setSettings(m),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=rr.MOCK_USER;else{y=$D(i.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new Ne(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rr(S)}n._authCredentials=new TO(new uw(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if($c(t,yn._jsonSchema))return new yn(e,i||null,new Fe(Qt.fromString(t.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:On("string",yn._jsonSchemaVersion),referencePath:On("string")};class Is extends No{constructor(e,t,i){super(e,t,Xd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Fe(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function Oa(n,e,...t){if(n=Vn(n),cw("collection","path",e),n instanceof am){const i=Qt.fromString(e,...t);return A0(i),new Is(n,null,i)}{if(!(n instanceof yn||n instanceof Is))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return A0(i),new Is(n.firestore,null,i)}}function mr(n,e,...t){if(n=Vn(n),arguments.length===1&&(e=t_.newId()),cw("doc","path",e),n instanceof am){const i=Qt.fromString(e,...t);return S0(i),new yn(n,null,new Fe(i))}{if(!(n instanceof yn||n instanceof Is))throw new Ne(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return S0(i),new yn(n.firestore,n instanceof Is?n.converter:null,new Fe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="AsyncQueue";class dS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const i=zg();i&&Me(fS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=zg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ru(e))throw e;Me(fS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Na("INTERNAL UNHANDLED ERROR: ",mS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=E_.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&$e(47125,{Pc:mS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function mS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ls extends am{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new dS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dS(e),this._firestoreClient=void 0,await e}}}function S4(n,e){const t=typeof n=="object"?n:ZA(),i=typeof n=="string"?n:md,s=Zy(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=qD("firestore");l&&b4(s,...l)}return s}function Jc(n){if(n._terminated)throw new Ne(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||A4(n),n._firestoreClient}function A4(n){var i,s,l,c;const e=n._freezeSettings(),t=T4(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new d4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(Yn.fromBase64String(e))}catch(t){throw new Ne(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new li(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($c(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:On("string",li._jsonSchemaVersion),bytes:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(e){if($c(e,Yi._jsonSchema))return new Yi(e.latitude,e.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:On("string",Yi._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($c(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wi(e.vectorValues);throw new Ne(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:On("string",wi._jsonSchemaVersion),vectorValues:On("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=/^__.*__$/;class C4{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class T1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function b1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:n})}}class N_{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new N_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(b1(this.dataSource)&&w4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class R4{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||nm(e)}createContext(e,t,i,s=!1){return new N_({dataSource:e,methodName:t,targetDoc:i,path:Kn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(n){const e=n._freezeSettings(),t=nm(n._databaseId);return new R4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S1(n,e,t,i,s,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,s);D_("Data must be an object, but it was:",c,i);const f=C1(i,c);let m,p;if(l.merge)m=new Hr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const S=Kl(e,v,t);if(!c.contains(S))throw new Ne(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);x1(y,S)||y.push(S)}m=new Hr(y),p=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=c.fieldTransforms;return new C4(new Rr(f),m,p)}class lm extends x_{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}function A1(n,e,t,i){const s=n.createContext(1,e,t);D_("Data must be an object, but it was:",s,i);const l=[],c=Rr.empty();ks(i,((m,p)=>{const y=I1(e,m,t);p=Vn(p);const v=s.childContextForFieldPath(y);if(p instanceof lm)l.push(y);else{const S=Zc(p,v);S!=null&&(l.push(y),c.set(y,S))}}));const f=new Hr(l);return new T1(c,f,s.fieldTransforms)}function w1(n,e,t,i,s,l){const c=n.createContext(1,e,t),f=[Kl(e,i,t)],m=[s];if(l.length%2!=0)throw new Ne(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Kl(e,l[S])),m.push(l[S+1]);const p=[],y=Rr.empty();for(let S=f.length-1;S>=0;--S)if(!x1(p,f[S])){const w=f[S];let O=m[S];O=Vn(O);const H=c.childContextForFieldPath(w);if(O instanceof lm)p.push(w);else{const P=Zc(O,H);P!=null&&(p.push(w),y.set(w,P))}}const v=new Hr(p);return new T1(y,v,c.fieldTransforms)}function I4(n,e,t,i=!1){return Zc(t,n.createContext(i?4:3,e))}function Zc(n,e){if(R1(n=Vn(n)))return D_("Unsupported field value:",e,n),C1(n,e);if(n instanceof x_)return(function(i,s){if(!b1(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const f of i){let m=Zc(f,s.childContextForArray(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,s){if((i=Vn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return fM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=nn.fromDate(i);return{timestampValue:Ed(s.serializer,l)}}if(i instanceof nn){const l=new nn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ed(s.serializer,l)}}if(i instanceof Yi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof li)return{bytesValue:qw(s.serializer,i._byteString)};if(i instanceof yn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:h_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof wi)return(function(c,f){const m=c instanceof wi?c.toArray():c;return{mapValue:{fields:{[vw]:{stringValue:Ew},[pd]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return o_(f.serializer,y)}))}}}}}})(i,s);if(Ww(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${$d(i)}`)})(n,e)}function C1(n,e){const t={};return dw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(n,((i,s)=>{const l=Zc(s,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function R1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nn||n instanceof Yi||n instanceof li||n instanceof yn||n instanceof x_||n instanceof wi||Ww(n))}function D_(n,e,t){if(!R1(t)||!hw(t)){const i=$d(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Kl(n,e,t){if((e=Vn(e))instanceof sm)return e._internalPath;if(typeof e=="string")return I1(n,e);throw wd("Field path arguments must be of type string or ",n,!1,void 0,t)}const x4=new RegExp("[~\\*/\\[\\]]");function I1(n,e,t){if(e.search(x4)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sm(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wd(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${s}`),m+=")"),new Ne(ce.INVALID_ARGUMENT,f+n+m)}function x1(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{convertValue(e,t="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ks(e,((s,l)=>{i[s]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,s,l;const t=(l=(s=(i=e.fields)==null?void 0:i[pd].arrayValue)==null?void 0:s.values)==null?void 0:l.map((c=>Tn(c.doubleValue)));return new wi(t)}convertGeoPoint(e){return new Yi(Tn(e.latitude),Tn(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Qd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qt.fromString(e);Ot(Xw(i),9688,{name:e});const s=new Nc(i.get(1),i.get(3)),l=new Fe(i.popFirst(5));return s.isEqual(t)||Na(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_ extends N4{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}const pS="@firebase/firestore",gS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of i)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Kl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class D4 extends N1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M_{}class O4 extends M_{}function js(n,e,...t){let i=[];e instanceof M_&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof P_)).length,f=l.filter((m=>m instanceof um)).length;if(c>1||c>0&&f>0)throw new Ne(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class um extends O4{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new um(e,t,i)}_apply(e){const t=this._parse(e);return O1(e._query,t),new No(e.firestore,e.converter,_y(e._query,t))}_parse(e){const t=om(e.firestore);return(function(l,c,f,m,p,y,v){let S;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){vS(v,y);const O=[];for(const H of v)O.push(_S(m,l,H));S={arrayValue:{values:O}}}else S=_S(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||vS(v,y),S=I4(f,c,v,y==="in"||y==="not-in");return Dn.create(p,y,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cm(n,e,t){const i=e,s=Kl("where",n);return um._create(s,i,t)}class P_ extends M_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new P_(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const f=l.getFlattenedFilters();for(const m of f)O1(c,m),c=_y(c,m)})(e._query,t),new No(e.firestore,e.converter,_y(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _S(n,e,t){if(typeof(t=Vn(t))=="string"){if(t==="")throw new Ne(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&t.indexOf("/")!==-1)throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qt.fromString(t));if(!Fe.isDocumentKey(i))throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return O0(n,new Fe(i))}if(t instanceof yn)return O0(n,t._key);throw new Ne(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(t)}.`)}function vS(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O1(n,e){const t=(function(s,l){for(const c of s)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ne(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function M1(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yo extends N1{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=yo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:On("string",yo._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class Qf extends yo{data(e={}){return super.data(e)}}class _o{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Qf(this._firestore,this._userDataWriter,i.key,i,new fc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((f=>{const m=new Qf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new fc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Qf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new fc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:M4(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=t_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:On("string",_o._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=om(e)}set(e,t,i){this._verifyNotCommitted();const s=Hg(e,this._firestore),l=M1(s.converter,t,i),c=S1(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,i);return this._mutations.push(c.toMutation(s._key,Gr.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const l=Hg(e,this._firestore);let c;return c=typeof(t=Vn(t))=="string"||t instanceof sm?w1(this._dataReader,"WriteBatch.update",l._key,t,i,s):A1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hg(e,this._firestore);return this._mutations=this._mutations.concat(new l_(t._key,Gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hg(n,e){if((n=Vn(n)).firestore!==e)throw new Ne(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){n=qr(n,yn);const e=qr(n.firestore,Ls),t=Jc(e);return y4(t,n._key).then((i=>V1(e,n,i)))}function th(n){n=qr(n,No);const e=qr(n.firestore,Ls),t=Jc(e),i=new O_(e);return D1(n._query),_4(t,n._query).then((s=>new _o(e,i,n,s)))}function V_(n,e,t){n=qr(n,yn);const i=qr(n.firestore,Ls),s=M1(n.converter,e,t),l=om(i);return L_(i,[S1(l,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Gr.none())])}function P1(n,e,t,...i){n=qr(n,yn);const s=qr(n.firestore,Ls),l=om(s);let c;return c=typeof(e=Vn(e))=="string"||e instanceof sm?w1(l,"updateDoc",n._key,e,t,i):A1(l,"updateDoc",n._key,e),L_(s,[c.toMutation(n._key,Gr.exists(!0))])}function fo(n,...e){var p,y,v;n=Vn(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||yS(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(yS(e[i])){const S=e[i];e[i]=(p=S.next)==null?void 0:p.bind(S),e[i+1]=(y=S.error)==null?void 0:y.bind(S),e[i+2]=(v=S.complete)==null?void 0:v.bind(S)}let l,c,f;if(n instanceof yn)c=qr(n.firestore,Ls),f=Xd(n._key.path),l={next:S=>{e[i]&&e[i](V1(c,n,S))},error:e[i+1],complete:e[i+2]};else{const S=qr(n,No);c=qr(S.firestore,Ls),f=S._query;const w=new O_(c);l={next:O=>{e[i]&&e[i](new _o(c,w,S,O))},error:e[i+1],complete:e[i+2]},D1(n._query)}const m=Jc(c);return g4(m,f,s,l)}function L_(n,e){const t=Jc(n);return v4(t,e)}function V1(n,e,t){const i=t.docs.get(e._key),s=new O_(n);return new yo(n,s,e._key,i,new fc(t.hasPendingWrites,t.fromCache),e.converter)}function L1(n){return n=qr(n,Ls),Jc(n),new P4(n,(e=>L_(n,e)))}(function(e,t=!0){vO(eu),zl(new To("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Ls(new bO(i.getProvider("auth-internal")),new wO(c,i.getProvider("app-check-internal")),HO(c,s),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Cs(pS,gS,e),Cs(pS,gS,"esm2020")})();var V4="firebase",L4="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(V4,L4,"app");function j1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j4=j1,k1=new qc("auth","Firebase",j1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Wy("@firebase/auth");function k4(n,...e){Cd.logLevel<=pt.WARN&&Cd.warn(`Auth (${eu}): ${n}`,...e)}function Xf(n,...e){Cd.logLevel<=pt.ERROR&&Cd.error(`Auth (${eu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,...e){throw k_(n,...e)}function Ci(n,...e){return k_(n,...e)}function j_(n,e,t){const i={...j4(),[e]:t};return new qc("auth","Firebase",i).create(e,{appName:n.name})}function vo(n){return j_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U4(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Ji(n,"argument-error"),j_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function k_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return k1.create(n,...e)}function Ke(n,e,...t){if(!n)throw k_(e,...t)}function wa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xf(e),new Error(e)}function Ma(n,e){n||wa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function z4(){return ES()==="http:"||ES()==="https:"}function ES(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z4()||JD()||"connection"in navigator)?navigator.onLine:!0}function H4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ma(t>e,"Short delay should be less than long delay!"),this.isMobile=QD()||ZD()}get(){return B4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,e){Ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G4=new nh(3e4,6e4);function z_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function au(n,e,t,i,s={}){return z1(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=Gc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:m,...l};return WD()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Zl(n.emulatorConfig.host)&&(p.credentials="include"),U1.fetch()(await B1(n,n.config.apiHost,t,f),p)})}async function z1(n,e,t){n._canInitEmulator=!1;const i={...F4,...e};try{const s=new K4(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Pf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Pf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Pf(n,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw j_(n,y,p);Ji(n,y)}}catch(s){if(s instanceof La)throw s;Ji(n,"network-request-failed",{message:String(s)})}}async function $4(n,e,t,i,s={}){const l=await au(n,e,t,i,s);return"mfaPendingCredential"in l&&Ji(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function B1(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?U_(n.config,s):`${n.config.apiScheme}://${s}`;return q4.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class K4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ci(this.auth,"network-request-failed")),G4.get())})}}function Pf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ci(n,e,i);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(n,e){return au(n,"POST","/v1/accounts:delete",e)}async function Rd(n,e){return au(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q4(n,e=!1){const t=Vn(n),i=await t.getIdToken(e),s=B_(i);Ke(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Ec(Fg(s.auth_time)),issuedAtTime:Ec(Fg(s.iat)),expirationTime:Ec(Fg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fg(n){return Number(n)*1e3}function B_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const s=qA(t);return s?JSON.parse(s):(Xf("Failed to decode base64 JWT payload"),null)}catch(s){return Xf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function TS(n){const e=B_(n);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof La&&X4(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function X4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(n){var v;const e=n.auth,t=await n.getIdToken(),i=await Pc(n,Rd(e,{idToken:t}));Ke(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=(v=s.providerUserInfo)!=null&&v.length?H1(s.providerUserInfo):[],c=Z4(n.providerData,l),f=n.isAnonymous,m=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),p=f?m:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function J4(n){const e=Vn(n);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z4(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function H1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(n,e){const t=await z1(n,{},async()=>{const i=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await B1(n,s,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&Zl(n.emulatorConfig.host)&&(m.credentials="include"),U1.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tV(n,e){return au(n,"POST","/v2/accounts:revokeToken",z_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const t=TS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await eV(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Ml;return i&&(Ke(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ke(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return wa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){Ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new W4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Pc(this,this.stsTokenManager.getToken(this.auth,e));return Ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Q4(this,e)}reload(){return J4(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Id(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Pc(this,Y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:S,isAnonymous:w,providerData:O,stsTokenManager:H}=t;Ke(v&&H,e,"internal-error");const P=Ml.fromJSON(this.name,H);Ke(typeof v=="string",e,"internal-error"),ms(i,e.name),ms(s,e.name),Ke(typeof S=="boolean",e,"internal-error"),Ke(typeof w=="boolean",e,"internal-error"),ms(l,e.name),ms(c,e.name),ms(f,e.name),ms(m,e.name),ms(p,e.name),ms(y,e.name);const F=new Ai({uid:v,auth:e,email:s,emailVerified:S,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:p,lastLoginAt:y});return O&&Array.isArray(O)&&(F.providerData=O.map(B=>({...B}))),m&&(F._redirectEventId=m),F}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ml;s.updateFromServerResponse(t);const l=new Ai({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Id(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ke(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?H1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),f=new Ml;f.updateFromIdToken(i);const m=new Ai({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new Map;function Ca(n){Ma(n instanceof Function,"Expected a class definition");let e=bS.get(n);return e?(Ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}F1.type="NONE";const SS=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(n,e,t){return`firebase:${n}:${e}:${t}`}class Pl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Wf(this.userKey,s.apiKey,l),this.fullPersistenceKey=Wf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Rd(this.auth,{idToken:e}).catch(()=>{});return t?Ai._fromGetAccountInfoResponse(this.auth,t,e):null}return Ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Pl(Ca(SS),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Ca(SS);const c=Wf(i,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(c);if(y){let v;if(typeof y=="string"){const S=await Rd(e,{idToken:y}).catch(()=>{});if(!S)break;v=await Ai._fromGetAccountInfoResponse(e,S,y)}else v=Ai._fromJSON(e,y);p!==l&&(f=v),l=p;break}}catch{}const m=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Pl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Pl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q1(e))return"Blackberry";if(X1(e))return"Webos";if(G1(e))return"Safari";if((e.includes("chrome/")||$1(e))&&!e.includes("edge/"))return"Chrome";if(Y1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function q1(n=ar()){return/firefox\//i.test(n)}function G1(n=ar()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $1(n=ar()){return/crios\//i.test(n)}function K1(n=ar()){return/iemobile/i.test(n)}function Y1(n=ar()){return/android/i.test(n)}function Q1(n=ar()){return/blackberry/i.test(n)}function X1(n=ar()){return/webos/i.test(n)}function H_(n=ar()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nV(n=ar()){var e;return H_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function rV(){return e2()&&document.documentMode===10}function W1(n=ar()){return H_(n)||Y1(n)||X1(n)||Q1(n)||/windows phone/i.test(n)||K1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n,e=[]){let t;switch(n){case"Browser":t=AS(ar());break;case"Worker":t=`${AS(ar())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(n,e={}){return au(n,"GET","/v2/passwordPolicy",z_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=6;class oV{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wS(this),this.idTokenSubscription=new wS(this),this.beforeStateQueue=new iV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ca(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Rd(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(bi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(i=m.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(vo(this));const t=e?Vn(e):null;return t&&Ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aV(this),t=new oV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await tV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ca(e)||this._popupRedirectResolver;Ke(t,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Ca(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,s);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&k4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hm(n){return Vn(n)}class wS{constructor(e){this.auth=e,this.observer=null,this.addObserver=l2(t=>this.observer=t)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uV(n){F_=n}function cV(n){return F_.loadJS(n)}function hV(){return F_.gapiScript}function fV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(n,e){const t=Zy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Eo(l,e??{}))return s;Ji(s,"already-initialized")}return t.initialize({options:e})}function mV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Ca);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function pV(n,e,t){const i=hm(n);Ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Z1(e),{host:c,port:f}=gV(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ke(Eo(p,i.config.emulator)&&Eo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Zl(c)?(YA(`${l}//${c}${m}`),QA("Auth",!0)):yV()}function Z1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gV(n){const e=Z1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:CS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:CS(c)}}}function CS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,t){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(n,e){return $4(n,"POST","/v1/accounts:signInWithIdp",z_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="http://localhost";class Ao extends eC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...l}=t;if(!i||!s)return null;const c=new Ao(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Vl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vl(e,t)}buildRequest(){const e={requestUri:_V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends q_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends rh{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ao._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Sa.credential(t,i)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends rh{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends rh{constructor(){super("twitter.com")}static credential(e,t){return Ao._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Es.credential(t,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Ai._fromIdTokenResponse(e,i,s),c=RS(i);return new Yl({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=RS(i);return new Yl({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function RS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends La{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new xd(e,t,i,s)}}function tC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(n,l,e,i):l})}async function vV(n,e,t=!1){const i=await Pc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Yl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(n,e,t=!1){const{auth:i}=n;if(bi(i.app))return Promise.reject(vo(i));const s="reauthenticate";try{const l=await Pc(n,tC(i,s,e,n),t);Ke(l.idToken,i,"internal-error");const c=B_(l.idToken);Ke(c,i,"internal-error");const{sub:f}=c;return Ke(n.uid===f,i,"user-mismatch"),Yl._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ji(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(n,e,t=!1){if(bi(n.app))return Promise.reject(vo(n));const i="signIn",s=await tC(n,i,e),l=await Yl._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}function bV(n,e,t,i){return Vn(n).onIdTokenChanged(e,t,i)}function SV(n,e,t){return Vn(n).beforeAuthStateChanged(e,t)}function AV(n,e,t,i){return Vn(n).onAuthStateChanged(e,t,i)}const Nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nd,"1"),this.storage.removeItem(Nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=1e3,CV=10;class rC extends nC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);rV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}rC.type="LOCAL";const RV=rC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends nC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}iC.type="SESSION";const aC=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new fm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const f=Array.from(c).map(async p=>p(t.origin,l)),m=await IV(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=G_("",20);s.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(v){const S=v;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function NV(n){Qi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function DV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function MV(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",PV=1,Dd="firebaseLocalStorage",lC="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(n,e){return n.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function VV(){const n=indexedDB.deleteDatabase(oC);return new ih(n).toPromise()}function Dy(){const n=indexedDB.open(oC,PV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Dd,{keyPath:lC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Dd)?e(i):(i.close(),await VV(),e(await Dy()))})})}async function IS(n,e,t){const i=dm(n,!0).put({[lC]:e,value:t});return new ih(i).toPromise()}async function LV(n,e){const t=dm(n,!1).get(e),i=await new ih(t).toPromise();return i===void 0?null:i.value}function xS(n,e){const t=dm(n,!0).delete(e);return new ih(t).toPromise()}const jV=800,kV=3;class uC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(MV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await DV(),!this.activeServiceWorker)return;this.sender=new xV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dy();return await IS(e,Nd,"1"),await xS(e,Nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>IS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>LV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=dm(s,!1).getAll();return new ih(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uC.type="LOCAL";const UV=uC;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,e){return e?Ca(e):(Ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends eC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zV(n){return TV(n.auth,new $_(n),n.bypassAuthState)}function BV(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),EV(t,new $_(n),n.bypassAuthState)}async function HV(n){const{auth:e,user:t}=n;return Ke(t,e,"internal-error"),vV(t,new $_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zV;case"linkViaPopup":case"linkViaRedirect":return HV;case"reauthViaPopup":case"reauthViaRedirect":return BV;default:Ji(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new nh(2e3,1e4);async function qV(n,e,t){if(bi(n.app))return Promise.reject(Ci(n,"operation-not-supported-in-this-environment"));const i=hm(n);U4(n,e,q_);const s=cC(i,t);return new go(i,"signInViaPopup",e,s).executeNotNull()}class go extends hC{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Ma(this.filter.length===1,"Popup operations only handle one event");const e=G_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FV.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="pendingRedirect",Jf=new Map;class $V extends hC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const i=await KV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KV(n,e){const t=XV(e),i=QV(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function YV(n,e){Jf.set(n._key(),e)}function QV(n){return Ca(n._redirectPersistence)}function XV(n){return Wf(GV,n.config.apiKey,n.name)}async function WV(n,e,t=!1){if(bi(n.app))return Promise.reject(vo(n));const i=hm(n),s=cC(i,e),c=await new $V(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=600*1e3;class ZV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!fC(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ci(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JV&&this.cachedEventUids.clear(),this.cachedEventUids.has(NS(e))}saveEventToCache(e){this.cachedEventUids.add(NS(e)),this.lastProcessedEventTime=Date.now()}}function NS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(n,e={}){return au(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rL=/^https?/;async function iL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tL(n);for(const t of e)try{if(aL(t))return}catch{}Ji(n,"unauthorized-domain")}function aL(n){const e=xy(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!rL.test(t))return!1;if(nL.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new nh(3e4,6e4);function DS(){const n=Qi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function oL(n){return new Promise((e,t)=>{var s,l,c;function i(){DS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DS(),t(Ci(n,"network-request-failed"))},timeout:sL.get()})}if((l=(s=Qi().gapi)==null?void 0:s.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Qi().gapi)!=null&&c.load)i();else{const f=fV("iframefcb");return Qi()[f]=()=>{gapi.load?i():t(Ci(n,"network-request-failed"))},cV(`${hV()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Zf=null,e})}let Zf=null;function lL(n){return Zf=Zf||oL(n),Zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new nh(5e3,15e3),cL="__/auth/iframe",hL="emulator/auth/iframe",fL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mL(n){const e=n.config;Ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?U_(e,hL):`https://${n.config.authDomain}/${cL}`,i={apiKey:e.apiKey,appName:n.name,v:eu},s=dL.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Gc(i).slice(1)}`}async function pL(n){const e=await lL(n),t=Qi().gapi;return Ke(t,n,"internal-error"),e.open({where:document.body,url:mL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fL,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Ci(n,"network-request-failed"),f=Qi().setTimeout(()=>{l(c)},uL.get());function m(){Qi().clearTimeout(f),s(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yL=500,_L=600,vL="_blank",EL="http://localhost";class OS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TL(n,e,t,i=yL,s=_L){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...gL,width:i.toString(),height:s.toString(),top:l,left:c},p=ar().toLowerCase();t&&(f=$1(p)?vL:t),q1(p)&&(e=e||EL,m.scrollbars="yes");const y=Object.entries(m).reduce((S,[w,O])=>`${S}${w}=${O},`,"");if(nV(p)&&f!=="_self")return bL(e||"",f),new OS(null);const v=window.open(e||"",f,y);Ke(v,n,"popup-blocked");try{v.focus()}catch{}return new OS(v)}function bL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="__/auth/handler",AL="emulator/auth/handler",wL=encodeURIComponent("fac");async function MS(n,e,t,i,s,l){Ke(n.config.authDomain,n,"auth-domain-config-required"),Ke(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:eu,eventId:s};if(e instanceof q_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",o2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof rh){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${wL}=${encodeURIComponent(m)}`:"";return`${CL(n)}?${Gc(f).slice(1)}${p}`}function CL({config:n}){return n.emulator?U_(n,AL):`https://${n.authDomain}/${SL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="webStorageSupport";class RL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aC,this._completeRedirectFn=WV,this._overrideRedirectResult=YV}async _openPopup(e,t,i,s){var c;Ma((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await MS(e,t,i,xy(),s);return TL(e,l,G_())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await MS(e,t,i,xy(),s);return NV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ma(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await pL(e),i=new ZV(e);return t.register("authEvent",s=>(Ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qg,{type:qg},s=>{var c;const l=(c=s==null?void 0:s[0])==null?void 0:c[qg];l!==void 0&&t(!!l),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W1()||G1()||H_()}}const IL=RL;var PS="@firebase/auth",VS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DL(n){zl(new To("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ke(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J1(n)},p=new lV(i,s,l,m);return mV(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zl(new To("auth-internal",e=>{const t=hm(e.getProvider("auth").getImmediate());return(i=>new xL(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(PS,VS,NL(n)),Cs(PS,VS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=300,ML=KA("authIdTokenMaxAge")||OL;let LS=null;const PL=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ML)return;const s=t==null?void 0:t.token;LS!==s&&(LS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function VL(n=ZA()){const e=Zy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dV(n,{popupRedirectResolver:IL,persistence:[UV,RV,aC]}),i=KA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=PL(l.toString());SV(t,c,()=>c(t.currentUser)),bV(t,f=>c(f))}}const s=GA("auth");return s&&pV(t,`http://${s}`),t}function LL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}uV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Ci("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",LL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DL("Browser");const jL={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function gl(n){const e=jL[n];if(!e)throw new Error(`Missing environment variable: ${n}. Did you forget to create a .env.local?`);return e}const kL={apiKey:gl("VITE_FIREBASE_API_KEY"),authDomain:gl("VITE_FIREBASE_AUTH_DOMAIN"),projectId:gl("VITE_FIREBASE_PROJECT_ID"),storageBucket:gl("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:gl("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:gl("VITE_FIREBASE_APP_ID")},dC=JA(kL),Ql=VL(dC),UL=new Sa,Xt=S4(dC),mC=V.createContext(void 0),zL=({children:n})=>{const[e,t]=V.useState(()=>{const c=localStorage.getItem("app-theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),i=V.useCallback(c=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("app-theme",c)},[]);V.useEffect(()=>{i(e)},[e,i]);const s=V.useCallback(c=>{t(c),i(c);const f=Ql.currentUser;if(f){const m=mr(Xt,"users",f.uid);P1(m,{preferredTheme:c}).catch(p=>console.error("Error updating preferred theme in Firebase:",p))}},[i]),l=V.useCallback(()=>{t(c=>c==="light"?"dark":"light")},[t]);return V.useEffect(()=>Ql.onAuthStateChanged(async f=>{if(f){const m=mr(Xt,"users",f.uid),p=await eh(m);if(p.exists()&&p.data().preferredTheme){const y=p.data().preferredTheme;t(y),i(y)}}}),[i]),T.jsx(mC.Provider,{value:{theme:e,toggleTheme:l,setTheme:s},children:n})},BL="_spinner_5jyct_1",HL="_spinnerContainer_5jyct_19",jS={spinner:BL,spinnerContainer:HL},su=({container:n=!0})=>{const e=T.jsx("div",{className:jS.spinner});return n?T.jsx("div",{className:jS.spinnerContainer,children:e}):e},FL="_loadingContainer_1n1m5_1",qL={loadingContainer:FL},Xl=()=>T.jsx("div",{className:qL.loadingContainer,children:T.jsx(su,{container:!1})}),GL=()=>{const n=tt(i=>i.auth.firebaseUser),e=tt(i=>i.auth.userData);return tt(i=>i.auth.loading)?T.jsx(Xl,{}):n?e?e.isApproved?T.jsx(Ss,{to:"/app/dashboard",replace:!0}):T.jsx(Ss,{to:"/guest",replace:!0}):T.jsx(Xl,{}):T.jsx(Ss,{to:"/login",replace:!0})};function Gn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $L=typeof Symbol=="function"&&Symbol.observable||"@@observable",kS=$L,Gg=()=>Math.random().toString(36).substring(7).split("").join("."),KL={INIT:`@@redux/INIT${Gg()}`,REPLACE:`@@redux/REPLACE${Gg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gg()}`},Od=KL;function K_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function pC(n,e,t){if(typeof n!="function")throw new Error(Gn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Gn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Gn(1));return t(pC)(n,e)}let i=n,s=e,l=new Map,c=l,f=0,m=!1;function p(){c===l&&(c=new Map,l.forEach((P,F)=>{c.set(F,P)}))}function y(){if(m)throw new Error(Gn(3));return s}function v(P){if(typeof P!="function")throw new Error(Gn(4));if(m)throw new Error(Gn(5));let F=!0;p();const B=f++;return c.set(B,P),function(){if(F){if(m)throw new Error(Gn(6));F=!1,p(),c.delete(B),l=null}}}function S(P){if(!K_(P))throw new Error(Gn(7));if(typeof P.type>"u")throw new Error(Gn(8));if(typeof P.type!="string")throw new Error(Gn(17));if(m)throw new Error(Gn(9));try{m=!0,s=i(s,P)}finally{m=!1}return(l=c).forEach(B=>{B()}),P}function w(P){if(typeof P!="function")throw new Error(Gn(10));i=P,S({type:Od.REPLACE})}function O(){const P=v;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(Gn(11));function B(){const ee=F;ee.next&&ee.next(y())}return B(),{unsubscribe:P(B)}},[kS](){return this}}}return S({type:Od.INIT}),{dispatch:S,subscribe:v,getState:y,replaceReducer:w,[kS]:O}}function YL(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Od.INIT})>"u")throw new Error(Gn(12));if(typeof t(void 0,{type:Od.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gn(13))})}function QL(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let s;try{YL(t)}catch(l){s=l}return function(c={},f){if(s)throw s;let m=!1;const p={};for(let y=0;y<i.length;y++){const v=i[y],S=t[v],w=c[v],O=S(w,f);if(typeof O>"u")throw f&&f.type,new Error(Gn(14));p[v]=O,m=m||O!==w}return m=m||i.length!==Object.keys(c).length,m?p:c}}function Md(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function XL(...n){return e=>(t,i)=>{const s=e(t,i);let l=()=>{throw new Error(Gn(15))};const c={getState:s.getState,dispatch:(m,...p)=>l(m,...p)},f=n.map(m=>m(c));return l=Md(...f)(s.dispatch),{...s,dispatch:l}}}function WL(n){return K_(n)&&"type"in n&&typeof n.type=="string"}var gC=Symbol.for("immer-nothing"),US=Symbol.for("immer-draftable"),pr=Symbol.for("immer-state");function Si(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Fr=Object,Wl=Fr.getPrototypeOf,Pd="constructor",mm="prototype",Oy="configurable",Vd="enumerable",ed="writable",Vc="value",Pa=n=>!!n&&!!n[pr];function Ii(n){var e;return n?yC(n)||gm(n)||!!n[US]||!!((e=n[Pd])!=null&&e[US])||ym(n)||_m(n):!1}var JL=Fr[mm][Pd].toString(),zS=new WeakMap;function yC(n){if(!n||!Y_(n))return!1;const e=Wl(n);if(e===null||e===Fr[mm])return!0;const t=Fr.hasOwnProperty.call(e,Pd)&&e[Pd];if(t===Object)return!0;if(!wl(t))return!1;let i=zS.get(t);return i===void 0&&(i=Function.toString.call(t),zS.set(t,i)),i===JL}function pm(n,e,t=!0){ah(n)===0?(t?Reflect.ownKeys(n):Fr.keys(n)).forEach(s=>{e(s,n[s],n)}):n.forEach((i,s)=>e(s,i,n))}function ah(n){const e=n[pr];return e?e.type_:gm(n)?1:ym(n)?2:_m(n)?3:0}var BS=(n,e,t=ah(n))=>t===2?n.has(e):Fr[mm].hasOwnProperty.call(n,e),My=(n,e,t=ah(n))=>t===2?n.get(e):n[e],Ld=(n,e,t,i=ah(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function ZL(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var gm=Array.isArray,ym=n=>n instanceof Map,_m=n=>n instanceof Set,Y_=n=>typeof n=="object",wl=n=>typeof n=="function",$g=n=>typeof n=="boolean";function ej(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var ba=n=>n.copy_||n.base_,Q_=n=>n.modified_?n.copy_:n.base_;function Py(n,e){if(ym(n))return new Map(n);if(_m(n))return new Set(n);if(gm(n))return Array[mm].slice.call(n);const t=yC(n);if(e===!0||e==="class_only"&&!t){const i=Fr.getOwnPropertyDescriptors(n);delete i[pr];let s=Reflect.ownKeys(i);for(let l=0;l<s.length;l++){const c=s[l],f=i[c];f[ed]===!1&&(f[ed]=!0,f[Oy]=!0),(f.get||f.set)&&(i[c]={[Oy]:!0,[ed]:!0,[Vd]:f[Vd],[Vc]:n[c]})}return Fr.create(Wl(n),i)}else{const i=Wl(n);if(i!==null&&t)return{...n};const s=Fr.create(i);return Fr.assign(s,n)}}function X_(n,e=!1){return vm(n)||Pa(n)||!Ii(n)||(ah(n)>1&&Fr.defineProperties(n,{set:Vf,add:Vf,clear:Vf,delete:Vf}),Fr.freeze(n),e&&pm(n,(t,i)=>{X_(i,!0)},!1)),n}function tj(){Si(2)}var Vf={[Vc]:tj};function vm(n){return n===null||!Y_(n)?!0:Fr.isFrozen(n)}var jd="MapSet",Vy="Patches",HS="ArrayMethods",_C={};function wo(n){const e=_C[n];return e||Si(0,n),e}var FS=n=>!!_C[n],Lc,vC=()=>Lc,nj=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:FS(jd)?wo(jd):void 0,arrayMethodsPlugin_:FS(HS)?wo(HS):void 0});function qS(n,e){e&&(n.patchPlugin_=wo(Vy),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Ly(n){jy(n),n.drafts_.forEach(rj),n.drafts_=null}function jy(n){n===Lc&&(Lc=n.parent_)}var GS=n=>Lc=nj(Lc,n);function rj(n){const e=n[pr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $S(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[pr].modified_&&(Ly(e),Si(4)),Ii(n)&&(n=KS(e,n));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(t[pr].base_,n,e)}else n=KS(e,t);return ij(e,n,!0),Ly(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==gC?n:void 0}function KS(n,e){if(vm(e))return e;const t=e[pr];if(!t)return kd(e,n.handledSet_,n);if(!Em(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);bC(t,n)}return t.copy_}function ij(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&X_(e,t)}function EC(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Em=(n,e)=>n.scope_===e,aj=[];function TC(n,e,t,i){const s=ba(n),l=n.type_;if(i!==void 0&&My(s,i,l)===e){Ld(s,i,t,l);return}if(!n.draftLocations_){const f=n.draftLocations_=new Map;pm(s,(m,p)=>{if(Pa(p)){const y=f.get(p)||[];y.push(m),f.set(p,y)}})}const c=n.draftLocations_.get(e)??aj;for(const f of c)Ld(s,f,t,l)}function sj(n,e,t){n.callbacks_.push(function(s){var f;const l=e;if(!l||!Em(l,s))return;(f=s.mapSetPlugin_)==null||f.fixSetContents(l);const c=Q_(l);TC(n,l.draft_??l,c,t),bC(l,s)})}function bC(n,e){var i;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((i=n.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:s}=e;if(s){const l=s.getPath(n);l&&s.generatePatches_(n,l,e)}EC(n)}}function oj(n,e,t){const{scope_:i}=n;if(Pa(t)){const s=t[pr];Em(s,i)&&s.callbacks_.push(function(){td(n);const c=Q_(s);TC(n,t,c,e)})}else Ii(t)&&n.callbacks_.push(function(){const l=ba(n);n.type_===3?l.has(t)&&kd(t,i.handledSet_,i):My(l,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&kd(My(n.copy_,e,n.type_),i.handledSet_,i)})}function kd(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Pa(n)||e.has(n)||!Ii(n)||vm(n)||(e.add(n),pm(n,(i,s)=>{if(Pa(s)){const l=s[pr];if(Em(l,t)){const c=Q_(l);Ld(n,i,c,n.type_),EC(l)}}else Ii(s)&&kd(s,e,t)})),n}function lj(n,e){const t=gm(n),i={type_:t?1:0,scope_:e?e.scope_:vC(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=i,l=Ud;t&&(s=[i],l=jc);const{revoke:c,proxy:f}=Proxy.revocable(s,l);return i.draft_=f,i.revoke_=c,[f,i]}var Ud={get(n,e){if(e===pr)return n;let t=n.scope_.arrayMethodsPlugin_;const i=n.type_===1&&typeof e=="string";if(i&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const s=ba(n);if(!BS(s,e,n.type_))return uj(n,s,e);const l=s[e];if(n.finalized_||!Ii(l)||i&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&ej(e))return l;if(l===Kg(n.base_,e)){td(n);const c=n.type_===1?+e:e,f=Uy(n.scope_,l,n,c);return n.copy_[c]=f}return l},has(n,e){return e in ba(n)},ownKeys(n){return Reflect.ownKeys(ba(n))},set(n,e,t){const i=SC(ba(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const s=Kg(ba(n),e),l=s==null?void 0:s[pr];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(ZL(t,s)&&(t!==void 0||BS(n.base_,e,n.type_)))return!0;td(n),ky(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),oj(n,e,t)),!0},deleteProperty(n,e){return td(n),Kg(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),ky(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ba(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[ed]:!0,[Oy]:n.type_!==1||e!=="length",[Vd]:i[Vd],[Vc]:t[e]}},defineProperty(){Si(11)},getPrototypeOf(n){return Wl(n.base_)},setPrototypeOf(){Si(12)}},jc={};for(let n in Ud){let e=Ud[n];jc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}jc.deleteProperty=function(n,e){return jc.set.call(this,n,e,void 0)};jc.set=function(n,e,t){return Ud.set.call(this,n[0],e,t,n[0])};function Kg(n,e){const t=n[pr];return(t?ba(t):n)[e]}function uj(n,e,t){var s;const i=SC(e,t);return i?Vc in i?i[Vc]:(s=i.get)==null?void 0:s.call(n.draft_):void 0}function SC(n,e){if(!(e in n))return;let t=Wl(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Wl(t)}}function ky(n){n.modified_||(n.modified_=!0,n.parent_&&ky(n.parent_))}function td(n){n.copy_||(n.assigned_=new Map,n.copy_=Py(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var cj=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,i)=>{if(wl(e)&&!wl(t)){const l=t;t=e;const c=this;return function(m=l,...p){return c.produce(m,y=>t.call(this,y,...p))}}wl(t)||Si(6),i!==void 0&&!wl(i)&&Si(7);let s;if(Ii(e)){const l=GS(this),c=Uy(l,e,void 0);let f=!0;try{s=t(c),f=!1}finally{f?Ly(l):jy(l)}return qS(l,i),$S(s,l)}else if(!e||!Y_(e)){if(s=t(e),s===void 0&&(s=e),s===gC&&(s=void 0),this.autoFreeze_&&X_(s,!0),i){const l=[],c=[];wo(Vy).generateReplacementPatches_(e,s,{patches_:l,inversePatches_:c}),i(l,c)}return s}else Si(1,e)},this.produceWithPatches=(e,t)=>{if(wl(e))return(c,...f)=>this.produceWithPatches(c,m=>e(m,...f));let i,s;return[this.produce(e,t,(c,f)=>{i=c,s=f}),i,s]},$g(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),$g(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),$g(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Ii(n)||Si(8),Pa(n)&&(n=hj(n));const e=GS(this),t=Uy(e,n,void 0);return t[pr].isManual_=!0,jy(e),t}finishDraft(n,e){const t=n&&n[pr];(!t||!t.isManual_)&&Si(9);const{scope_:i}=t;return qS(i,e),$S(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const i=wo(Vy).applyPatches_;return Pa(n)?i(n,e):this.produce(n,s=>i(s,e))}};function Uy(n,e,t,i){const[s,l]=ym(e)?wo(jd).proxyMap_(e,t):_m(e)?wo(jd).proxySet_(e,t):lj(e,t);return((t==null?void 0:t.scope_)??vC()).drafts_.push(s),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=i,t&&i!==void 0?sj(t,l,i):l.callbacks_.push(function(m){var y;(y=m.mapSetPlugin_)==null||y.fixSetContents(l);const{patchPlugin_:p}=m;l.modified_&&p&&p.generatePatches_(l,[],m)}),s}function hj(n){return Pa(n)||Si(10,n),AC(n)}function AC(n){if(!Ii(n)||vm(n))return n;const e=n[pr];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Py(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=Py(n,!0);return pm(t,(s,l)=>{Ld(t,s,AC(l))},i),e&&(e.finalized_=!1),t}var fj=new cj,wC=fj.produce;function CC(n){return({dispatch:t,getState:i})=>s=>l=>typeof l=="function"?l(t,i,n):s(l)}var dj=CC(),mj=CC,pj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Md:Md.apply(null,arguments)},gj=n=>n&&typeof n.match=="function";function Tc(n,e){function t(...i){if(e){let s=e(...i);if(!s)throw new Error(Ia(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>WL(i)&&i.type===n,t}var RC=class dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dc(...e[0].concat(this)):new dc(...e.concat(this))}};function YS(n){return Ii(n)?wC(n,()=>{}):n}function Lf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function yj(n){return typeof n=="boolean"}var _j=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let c=new RC;return t&&(yj(t)?c.push(dj):c.push(mj(t.extraArgument))),c},vj="RTK_autoBatch",QS=n=>e=>{setTimeout(e,n)},Ej=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let s=!0,l=!1,c=!1;const f=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:QS(10):n.type==="callback"?n.queueNotification:QS(n.timeout),p=()=>{c=!1,l&&(l=!1,f.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const v=()=>s&&y(),S=i.subscribe(v);return f.add(y),()=>{S(),f.delete(y)}},dispatch(y){var v;try{return s=!((v=y==null?void 0:y.meta)!=null&&v[vj]),l=!s,l&&(c||(c=!0,m(p))),i.dispatch(y)}finally{s=!0}}})},Tj=n=>function(t){const{autoBatch:i=!0}=t??{};let s=new RC(n);return i&&s.push(Ej(typeof i=="object"?i:void 0)),s};function bj(n){const e=_j(),{reducer:t=void 0,middleware:i,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(K_(t))f=QL(t);else throw new Error(Ia(1));let m;typeof i=="function"?m=i(e):m=e();let p=Md;s&&(p=pj({trace:!1,...typeof s=="object"&&s}));const y=XL(...m),v=Tj(y);let S=typeof c=="function"?c(v):v();const w=p(...S);return pC(f,l,w)}function IC(n){const e={},t=[];let i;const s={addCase(l,c){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(Ia(28));if(f in e)throw new Error(Ia(29));return e[f]=c,s},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return t.push({matcher:l,reducer:c}),s},addDefaultCase(l){return i=l,s}};return n(s),[e,t,i]}function Sj(n){return typeof n=="function"}function Aj(n,e){let[t,i,s]=IC(e),l;if(Sj(n))l=()=>YS(n());else{const f=YS(n);l=()=>f}function c(f=l(),m){let p=[t[m.type],...i.filter(({matcher:y})=>y(m)).map(({reducer:y})=>y)];return p.filter(y=>!!y).length===0&&(p=[s]),p.reduce((y,v)=>{if(v)if(Pa(y)){const w=v(y,m);return w===void 0?y:w}else{if(Ii(y))return wC(y,S=>v(S,m));{const S=v(y,m);if(S===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return y},f)}return c.getInitialState=l,c}var wj=(n,e)=>gj(n)?n.match(e):n(e);function Cj(...n){return e=>n.some(t=>wj(t,e))}var Rj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ij=(n=21)=>{let e="",t=n;for(;t--;)e+=Rj[Math.random()*64|0];return e},xj=["name","message","stack","code"],Yg=class{constructor(n,e){pg(this,"_type");this.payload=n,this.meta=e}},XS=class{constructor(n,e){pg(this,"_type");this.payload=n,this.meta=e}},Nj=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of xj)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},WS="External signal was aborted",Kr=(()=>{function n(e,t,i){const s=Tc(e+"/fulfilled",(m,p,y,v)=>({payload:m,meta:{...v||{},arg:y,requestId:p,requestStatus:"fulfilled"}})),l=Tc(e+"/pending",(m,p,y)=>({payload:void 0,meta:{...y||{},arg:p,requestId:m,requestStatus:"pending"}})),c=Tc(e+"/rejected",(m,p,y,v,S)=>({payload:v,error:(i&&i.serializeError||Nj)(m||"Rejected"),meta:{...S||{},arg:y,requestId:p,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function f(m,{signal:p}={}){return(y,v,S)=>{const w=i!=null&&i.idGenerator?i.idGenerator(m):Ij(),O=new AbortController;let H,P;function F(G){P=G,O.abort()}p&&(p.aborted?F(WS):p.addEventListener("abort",()=>F(WS),{once:!0}));const B=(async function(){var ie,ne;let G;try{let A=(ie=i==null?void 0:i.condition)==null?void 0:ie.call(i,m,{getState:v,extra:S});if(Oj(A)&&(A=await A),A===!1||O.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((C,M)=>{H=()=>{M({name:"AbortError",message:P||"Aborted"})},O.signal.addEventListener("abort",H,{once:!0})});y(l(w,m,(ne=i==null?void 0:i.getPendingMeta)==null?void 0:ne.call(i,{requestId:w,arg:m},{getState:v,extra:S}))),G=await Promise.race([I,Promise.resolve(t(m,{dispatch:y,getState:v,extra:S,requestId:w,signal:O.signal,abort:F,rejectWithValue:(C,M)=>new Yg(C,M),fulfillWithValue:(C,M)=>new XS(C,M)})).then(C=>{if(C instanceof Yg)throw C;return C instanceof XS?s(C.payload,w,m,C.meta):s(C,w,m)})])}catch(A){G=A instanceof Yg?c(null,w,m,A.payload,A.meta):c(A,w,m)}finally{H&&O.signal.removeEventListener("abort",H)}return i&&!i.dispatchConditionRejection&&c.match(G)&&G.meta.condition||y(G),G})();return Object.assign(B,{abort:F,requestId:w,arg:m,unwrap(){return B.then(Dj)}})}}return Object.assign(f,{pending:l,rejected:c,fulfilled:s,settled:Cj(c,s),typePrefix:e})}return n.withTypes=()=>n,n})();function Dj(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function Oj(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var Mj=Symbol.for("rtk-slice-createasyncthunk");function Pj(n,e){return`${n}/${e}`}function Vj({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[Mj];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Ia(11));const f=(typeof s.reducers=="function"?s.reducers(jj()):s.reducers)||{},m=Object.keys(f),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(ee,ie){const ne=typeof ee=="string"?ee:ee.type;if(!ne)throw new Error(Ia(12));if(ne in p.sliceCaseReducersByType)throw new Error(Ia(13));return p.sliceCaseReducersByType[ne]=ie,y},addMatcher(ee,ie){return p.sliceMatchers.push({matcher:ee,reducer:ie}),y},exposeAction(ee,ie){return p.actionCreators[ee]=ie,y},exposeCaseReducer(ee,ie){return p.sliceCaseReducersByName[ee]=ie,y}};m.forEach(ee=>{const ie=f[ee],ne={reducerName:ee,type:Pj(l,ee),createNotation:typeof s.reducers=="function"};Uj(ie)?Bj(ne,ie,y,e):kj(ne,ie,y)});function v(){const[ee={},ie=[],ne=void 0]=typeof s.extraReducers=="function"?IC(s.extraReducers):[s.extraReducers],A={...ee,...p.sliceCaseReducersByType};return Aj(s.initialState,I=>{for(let C in A)I.addCase(C,A[C]);for(let C of p.sliceMatchers)I.addMatcher(C.matcher,C.reducer);for(let C of ie)I.addMatcher(C.matcher,C.reducer);ne&&I.addDefaultCase(ne)})}const S=ee=>ee,w=new Map,O=new WeakMap;let H;function P(ee,ie){return H||(H=v()),H(ee,ie)}function F(){return H||(H=v()),H.getInitialState()}function B(ee,ie=!1){function ne(I){let C=I[ee];return typeof C>"u"&&ie&&(C=Lf(O,ne,F)),C}function A(I=S){const C=Lf(w,ie,()=>new WeakMap);return Lf(C,I,()=>{const M={};for(const[D,L]of Object.entries(s.selectors??{}))M[D]=Lj(L,I,()=>Lf(O,I,F),ie);return M})}return{reducerPath:ee,getSelectors:A,get selectors(){return A(ne)},selectSlice:ne}}const G={name:l,reducer:P,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:F,...B(c),injectInto(ee,{reducerPath:ie,...ne}={}){const A=ie??c;return ee.inject({reducerPath:A,reducer:P},ne),{...G,...B(A,!0)}}};return G}}function Lj(n,e,t,i){function s(l,...c){let f=e(l);return typeof f>"u"&&i&&(f=t()),n(f,...c)}return s.unwrapped=n,s}var Do=Vj();function jj(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function kj({type:n,reducerName:e,createNotation:t},i,s){let l,c;if("reducer"in i){if(t&&!zj(i))throw new Error(Ia(17));l=i.reducer,c=i.prepare}else l=i;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?Tc(n,c):Tc(n))}function Uj(n){return n._reducerDefinitionType==="asyncThunk"}function zj(n){return n._reducerDefinitionType==="reducerWithPrepare"}function Bj({type:n,reducerName:e},t,i,s){if(!s)throw new Error(Ia(18));const{payloadCreator:l,fulfilled:c,pending:f,rejected:m,settled:p,options:y}=t,v=s(n,l,y);i.exposeAction(e,v),c&&i.addCase(v.fulfilled,c),f&&i.addCase(v.pending,f),m&&i.addCase(v.rejected,m),p&&i.addMatcher(v.settled,p),i.exposeCaseReducer(e,{fulfilled:c||jf,pending:f||jf,rejected:m||jf,settled:p||jf})}function jf(){}function Ia(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const Hj={positions:[],loading:!1,error:null,fetched:!1,isDirty:!1},Ll=Kr("positions/fetchPositions",async(n,{rejectWithValue:e})=>{try{const t=mr(Xt,"metadata","positions"),i=await eh(t);if(i.exists()){const s=i.data();return Array.isArray(s.list)?s.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch positions")}}),W_=Kr("positions/updatePositions",async(n,{rejectWithValue:e})=>{try{const t=mr(Xt,"metadata","positions");return await V_(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update positions")}}),xC=Do({name:"positions",initialState:Hj,reducers:{updatePositionCustomLabels:(n,e)=>{const{positionName:t,labels:i}=e.payload,s=n.positions.find(l=>l.name===t);s&&(s.customLabels=i,n.isDirty=!0)},resetPositionsDirty:n=>{n.isDirty=!1},setPositions:(n,e)=>{n.positions=e.payload,n.fetched=!0,n.loading=!1}},extraReducers:n=>{n.addCase(Ll.pending,e=>{e.loading=!0,e.error=null}).addCase(Ll.fulfilled,(e,t)=>{e.positions=t.payload,e.loading=!1,e.fetched=!0}).addCase(Ll.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(W_.fulfilled,(e,t)=>{e.positions=t.payload,e.isDirty=!1})}}),{updatePositionCustomLabels:kf,resetPositionsDirty:Fj,setPositions:qj}=xC.actions,Gj=xC.reducer,$j={teams:[],loading:!1,error:null,fetched:!1},bc=Kr("teams/fetchTeams",async(n,{rejectWithValue:e})=>{try{const t=mr(Xt,"metadata","teams"),i=await eh(t);if(i.exists()){const s=i.data();return Array.isArray(s.list)?s.list.map(c=>({...c,maxConflict:c.maxConflict||1})):[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch teams")}}),nd=Kr("teams/updateTeams",async(n,{rejectWithValue:e})=>{try{const t=mr(Xt,"metadata","teams");return await V_(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update teams")}}),NC=Do({name:"teams",initialState:$j,reducers:{clearError:n=>{n.error=null},setTeams:(n,e)=>{n.teams=e.payload,n.fetched=!0,n.loading=!1}},extraReducers:n=>{n.addCase(bc.pending,e=>{e.loading=!0,e.error=null}).addCase(bc.fulfilled,(e,t)=>{e.teams=t.payload,e.loading=!1,e.fetched=!0}).addCase(bc.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(nd.pending,e=>{e.error=null}).addCase(nd.fulfilled,(e,t)=>{e.teams=t.payload}).addCase(nd.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:C5,setTeams:Kj}=NC.actions,Yj=NC.reducer,Qj=()=>{const n=xr(),{firebaseUser:e,userData:t,loading:i}=tt(m=>m.auth),{fetched:s,loading:l}=tt(m=>m.teams),{fetched:c,loading:f}=tt(m=>m.positions);return V.useEffect(()=>{e&&(t!=null&&t.isApproved)&&(!s&&!l&&n(bc()),!c&&!f&&n(Ll()))},[n,e,t,s,l,c,f]),i||t!=null&&t.isApproved&&(!s||!c)?T.jsx(Xl,{}):e?t?t.isApproved?T.jsx(VA,{}):T.jsx(Ss,{to:"/guest",replace:!0}):T.jsx(Xl,{}):T.jsx(Ss,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=n=>{const e=Wj(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c,...f},m)=>V.createElement("svg",{ref:m,...Jj,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:DC("lucide",s),...!l&&!Zj(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=(n,e)=>{const t=V.forwardRef(({className:i,...s},l)=>V.createElement(ek,{ref:l,iconNode:e,className:DC(`lucide-${Xj(JS(n))}`,`lucide-${n}`,i),...s}));return t.displayName=JS(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nk=gr("arrow-left",tk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ik=gr("arrow-right",rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],OC=gr("chevron-up",ak);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ok=gr("circle-check",sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],uk=gr("copy",lk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],MC=gr("corner-down-right",ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],fk=gr("layout-grid",hk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mk=gr("moon",dk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],gk=gr("panel-left-close",pk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],_k=gr("panel-left-open",yk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sh=gr("plus",vk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Tk=gr("sun",Ek);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],PC=gr("trash-2",bk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ak=gr("users",Sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J_=gr("x",wk),Ck=()=>{try{const n=localStorage.getItem("hidden-users");return n?JSON.parse(n):{}}catch{return{}}},Rk={isMobileSidebarOpen:!1,isDesktopSidebarExpanded:!0,expandedTeams:[],hiddenUsers:Ck(),lastVisitedPaths:{},rosterAllViewMode:"user"},VC=Do({name:"ui",initialState:Rk,reducers:{setMobileSidebarOpen:(n,e)=>{n.isMobileSidebarOpen=e.payload},setDesktopSidebarExpanded:(n,e)=>{n.isDesktopSidebarExpanded=e.payload},setRosterAllViewMode:(n,e)=>{n.rosterAllViewMode=e.payload},setLastVisitedPath:(n,e)=>{const{tabId:t,path:i}=e.payload;n.lastVisitedPaths[t]=i},toggleTeamExpansion:(n,e)=>{const t=e.payload,i=n.expandedTeams.indexOf(t);i>=0?n.expandedTeams.splice(i,1):n.expandedTeams.push(t)},expandTeam:(n,e)=>{const t=e.payload;n.expandedTeams.includes(t)||n.expandedTeams.push(t)},toggleUserVisibility:(n,e)=>{const{teamName:t,positionName:i,userEmail:s}=e.payload;n.hiddenUsers[t]||(n.hiddenUsers[t]={}),n.hiddenUsers[t][i]||(n.hiddenUsers[t][i]=[]);const l=n.hiddenUsers[t][i],c=l.indexOf(s);c>=0?l.splice(c,1):l.push(s),localStorage.setItem("hidden-users",JSON.stringify(n.hiddenUsers))}}}),{setMobileSidebarOpen:Cl,setDesktopSidebarExpanded:Ik,setRosterAllViewMode:ZS,setLastVisitedPath:xk,toggleTeamExpansion:Nk,expandTeam:Dk,toggleUserVisibility:Ok}=VC.actions,Mk=VC.reducer,Pk=()=>{const n=V.useContext(mC);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},Vk="_themeToggleButton_15jyj_1",Lk={themeToggleButton:Vk},Tm=({showText:n,className:e,iconClassName:t})=>{const{theme:i,toggleTheme:s}=Pk();return T.jsxs("button",{className:`${Lk.themeToggleButton} ${e||""}`,onClick:s,"aria-label":"Toggle theme",children:[T.jsx("span",{className:t||"",children:i==="dark"?T.jsx(Tk,{size:20}):T.jsx(mk,{size:20})}),n&&T.jsx("span",{children:"Toggle theme"})]})},jk=(n,e)=>{const[t,i]=V.useState([]);return V.useEffect(()=>{const l=Date.now()-12e4,c=n?js(Oa(Xt,"presence"),cm("teams","array-contains",n)):js(Oa(Xt,"presence")),f=fo(c,m=>{const p=[];m.forEach(y=>{const v=y.data();let S;v.lastSeen?S=v.lastSeen.toDate():S=new Date,S.getTime()>l&&p.push({uid:v.uid,name:v.name,email:v.email,lastSeen:v.lastSeen})}),i(p.sort((y,v)=>y.email===e?-1:v.email===e?1:y.name.localeCompare(v.name)))});return()=>f()},[n,e]),t},kk="_onlineUsersContainer_et0ww_1",Uk="_sidebarVariant_et0ww_16",zk="_sidebarExpanded_et0ww_21",Bk="_onlineLabel_et0ww_25",Hk="_avatarStack_et0ww_37",Fk="_avatarCircle_et0ww_43",qk="_moreCircle_et0ww_65",Gk="_userDropdown_et0ww_71",$k="_dropdownDown_et0ww_82",Kk="_dropdownUp_et0ww_87",Yk="_dropdownTitle_et0ww_92",Qk="_userListScroll_et0ww_102",Xk="_userItem_et0ww_107",Wk="_userNameText_et0ww_121",Jk="_userAvatarSmall_et0ww_128",Zk="_pulse_et0ww_141",qn={onlineUsersContainer:kk,sidebarVariant:Uk,sidebarExpanded:zk,onlineLabel:Bk,avatarStack:Hk,avatarCircle:Fk,moreCircle:qk,userDropdown:Gk,dropdownDown:$k,dropdownUp:Kk,dropdownTitle:Yk,userListScroll:Qk,userItem:Xk,userNameText:Wk,userAvatarSmall:Jk,pulse:Zk},LC=({teamName:n,currentUser:e,variant:t="top-bar",showText:i=!1})=>{const s=jk(n,e==null?void 0:e.email),[l,c]=V.useState(!1),f=V.useRef(null);if(V.useEffect(()=>{const w=O=>{f.current&&!f.current.contains(O.target)&&c(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),s.length===0)return null;const m=s.slice(0,3),p=s.length-3,y=w=>w.split(" ").map(O=>O[0]).join("").substring(0,2),v=[qn.onlineUsersContainer,t==="sidebar"?qn.sidebarVariant:"",i?qn.sidebarExpanded:""].filter(Boolean).join(" "),S=[qn.userDropdown,t==="sidebar"?qn.dropdownUp:qn.dropdownDown].filter(Boolean).join(" ");return T.jsxs("div",{className:v,ref:f,onClick:()=>c(!l),children:[i&&T.jsx("span",{className:qn.onlineLabel,children:"Online"}),T.jsxs("div",{className:qn.avatarStack,children:[p>0&&T.jsxs("div",{className:`${qn.avatarCircle} ${qn.moreCircle}`,children:["+",p]}),[...m].reverse().map(w=>T.jsx("div",{className:qn.avatarCircle,title:w.name,children:y(w.name)},w.uid))]}),l&&T.jsxs("div",{className:S,children:[T.jsxs("div",{className:qn.dropdownTitle,children:["Online Now (",s.length,")"]}),T.jsx("div",{className:qn.userListScroll,children:s.map(w=>T.jsxs("div",{className:qn.userItem,children:[T.jsx("div",{className:qn.userAvatarSmall,children:y(w.name)}),T.jsxs("span",{className:qn.userNameText,children:[w.name," ",w.email===(e==null?void 0:e.email)&&"(You)"]}),T.jsx("div",{className:qn.pulse})]},w.uid))})]})]})},eU="_mobileHeader_lcvro_1",tU="_mobileHeaderPill_lcvro_18",nU="_mobileHeaderPillDisabled_lcvro_30",rU="_mobileHeaderPillActive_lcvro_34",iU="_mobileHeaderText_lcvro_45",aU="_mobileHeaderChevron_lcvro_53",sU="_rotate_lcvro_58",oU="_mobileHeaderActions_lcvro_62",lU="_mobileThemeToggle_lcvro_68",va={mobileHeader:eU,mobileHeaderPill:tU,mobileHeaderPillDisabled:nU,mobileHeaderPillActive:rU,mobileHeaderText:iU,mobileHeaderChevron:aU,rotate:sU,mobileHeaderActions:oU,mobileThemeToggle:lU},uU=({title:n,hasSideNav:e=!0})=>{const t=xr(),{teamName:i}=Hc(),{isMobileSidebarOpen:s}=tt(f=>f.ui),{userData:l}=tt(f=>f.auth),c=()=>{e&&t(Cl(!s))};return T.jsxs("header",{className:va.mobileHeader,children:[T.jsxs("div",{className:`${va.mobileHeaderPill} ${s?va.mobileHeaderPillActive:""} ${e?"":va.mobileHeaderPillDisabled}`,onClick:c,children:[T.jsx("span",{className:va.mobileHeaderText,children:n}),e&&T.jsx(OC,{className:`${va.mobileHeaderChevron} ${s?va.rotate:""}`})]}),T.jsxs("div",{className:va.mobileHeaderActions,children:[T.jsx(Tm,{className:va.mobileThemeToggle}),T.jsx(LC,{teamName:i,currentUser:l})]})]})};var on=(n=>(n.DASHBOARD="dashboard",n.ROSTER="roster",n.SETTINGS="settings",n))(on||{}),Il=(n=>(n.PROFILE="Profile",n.USER_MANAGEMENT="Users",n.POSITIONS="Positions",n.TEAMS="Teams",n))(Il||{});const Z_=[{id:"dashboard",label:"Dashboard",icon:""},{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],eA=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],jC=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i.forEach(s=>{e.push(`${t}|${s}`)})}),e},kC=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},jl=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Pacific/Auckland",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),cU={firebaseUser:null,userData:null,loading:!0,error:null},rd=Kr("auth/initializeUserData",async(n,{rejectWithValue:e})=>{try{const t=mr(Xt,"users",n),i=await eh(t);if(!i.exists()){const s="chris.sm.kang542@gmail.com",l=Ql.currentUser,c=(l==null?void 0:l.email)===s,f={name:(l==null?void 0:l.displayName)||null,email:(l==null?void 0:l.email)||null,isApproved:c,isAdmin:c,isActive:!0,teams:[],teamPositions:{},indexedAssignments:[],gender:""};return await V_(t,f),f}return i.data()}catch(t){return e(t instanceof Error?t.message:"Unknown error")}}),id=Kr("auth/updateUserProfile",async({uid:n,data:e},{rejectWithValue:t})=>{try{const i=mr(Xt,"users",n),s={...e};return s.teamPositions&&(s.indexedAssignments=jC(s.teamPositions)),await P1(i,s),s}catch(i){return t(i instanceof Error?i.message:"Failed to update profile")}}),UC=Do({name:"auth",initialState:cU,reducers:{setUser:(n,e)=>{n.firebaseUser=e.payload},setUserData:(n,e)=>{n.userData=e.payload},setLoading:(n,e)=>{n.loading=e.payload},logout:n=>{n.firebaseUser=null,n.userData=null,n.loading=!1}},extraReducers:n=>{n.addCase(rd.pending,e=>{e.loading=!0,e.error=null}).addCase(rd.fulfilled,(e,t)=>{e.userData=t.payload,e.loading=!1}).addCase(rd.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(id.pending,e=>{e.error=null}).addCase(id.fulfilled,(e,t)=>{e.userData&&(e.userData={...e.userData,...t.payload})}).addCase(id.rejected,(e,t)=>{e.error=t.payload})}}),{setUser:hU,setUserData:zC,setLoading:R5,logout:fU}=UC.actions,dU=UC.reducer,mU={entries:{},dirtyEntries:{},loading:!0,initialLoad:!1,saving:!1,error:null},Qg=Kr("roster/fetchEntries",async(n,{rejectWithValue:e})=>{try{const t=js(Oa(Xt,"roster")),i=await th(t),s={};return i.docs.forEach(l=>{const c=l.data(),f=c.updatedAt,m={...c,updatedAt:f&&typeof f=="object"&&"toMillis"in f?f.toMillis():f};s[l.id]={...m,id:l.id}}),s}catch(t){return e(t instanceof Error?t.message:"Failed to fetch roster entries")}}),Sc=Kr("roster/saveChanges",async(n,{rejectWithValue:e})=>{try{const t=L1(Xt),i=Date.now(),s={};return Object.values(n).forEach(l=>{const c=mr(Xt,"roster",l.id),f={...l,updatedAt:i};t.set(c,f),s[l.id]=f}),await t.commit(),s}catch(t){return e(t instanceof Error?t.message:"Failed to save roster changes")}}),BC=Do({name:"roster",initialState:mU,reducers:{clearError:n=>{n.error=null},updateLocalAssignment(n,e){const{date:t,teamName:i,userIdentifier:s,positionGroupNames:l,maxConflict:c}=e.payload,f=n.dirtyEntries[t]||n.entries[t];let m;f?m=JSON.parse(JSON.stringify(f)):m={id:t,date:t,teams:{},absence:{}},m.teams[i]||(m.teams[i]={});const p=m.teams[i][s]||[],y=l.findIndex(O=>p.includes(O)),v=y>=0?l[y]:null;let S=null;v===null?S=l[0]:y<l.length-1?S=l[y+1]:S=null;const w=p.filter(O=>!l.includes(O));if(S)if(w.length<c)w.push(S);else{n.error=`User already has ${c} assignment(s) in this team.`;return}w.length===0?delete m.teams[i][s]:m.teams[i][s]=w,n.dirtyEntries[t]=m},updateLocalEventName(n,e){const{date:t,eventName:i}=e.payload,s=n.dirtyEntries[t]||n.entries[t];let l;s?l=JSON.parse(JSON.stringify(s)):l={id:t,date:t,teams:{},absence:{}},l.eventName=i,n.dirtyEntries[t]=l},resetRosterEdits(n){n.dirtyEntries={},n.error=null},setRosterEntries(n,e){n.entries=e.payload,n.loading=!1,n.initialLoad=!0},setLoading(n,e){n.loading=e.payload},updateLocalAbsence(n,e){var m;const{date:t,userIdentifier:i,reason:s,isAbsent:l}=e.payload,c=n.dirtyEntries[t]||n.entries[t];let f;c?f=JSON.parse(JSON.stringify(c)):f={id:t,date:t,teams:{},absence:{}},l?f.absence[i]={reason:s??((m=f.absence[i])==null?void 0:m.reason)??""}:delete f.absence[i],n.dirtyEntries[t]=f}},extraReducers:n=>{n.addCase(Qg.pending,e=>{e.loading=!0,e.error=null}).addCase(Qg.fulfilled,(e,t)=>{e.entries=t.payload,e.loading=!1}).addCase(Qg.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Sc.pending,e=>{e.saving=!0,e.error=null}).addCase(Sc.fulfilled,(e,t)=>{e.entries={...e.entries,...t.payload},e.dirtyEntries={},e.saving=!1}).addCase(Sc.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{clearError:I5,updateLocalAssignment:pU,updateLocalEventName:gU,resetRosterEdits:HC,setRosterEntries:yU,setLoading:_U,updateLocalAbsence:tA}=BC.actions,vU=BC.reducer,EU={allUsers:[],originalUsers:[],loading:!1,saving:!1,error:null},Xg=Kr("userManagement/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=Oa(Xt,"users"),i=js(t),s=await th(i),l=[];return s.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,f)=>(c.name||"").localeCompare(f.name||""))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch all users")}}),ad=Kr("userManagement/saveAllChanges",async(n,{rejectWithValue:e})=>{try{const t=L1(Xt);n.forEach(i=>{const{id:s,...l}=i;l.teamPositions&&(l.indexedAssignments=jC(l.teamPositions)),t.update(mr(Xt,"users",s),l)}),await t.commit();return}catch(t){return e(t instanceof Error?t.message:"Failed to save changes")}}),FC=Do({name:"userManagement",initialState:EU,reducers:{updateUserField(n,e){const{id:t,field:i,value:s}=e.payload,l=n.allUsers.find(c=>c.id===t);l&&(l[i]=s)},toggleUserTeam(n,e){const{userId:t,teamName:i}=e.payload,s=n.allUsers.find(l=>l.id===t);if(s){const l=s.teams||[],c=l.includes(i)?l.filter(f=>f!==i):[...l,i];s.teams=c,s.teamPositions||(s.teamPositions={}),c.includes(i)?s.teamPositions[i]||(s.teamPositions[i]=[]):delete s.teamPositions[i]}},toggleUserTeamPosition(n,e){const{userId:t,teamName:i,posName:s}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l){l.teamPositions||(l.teamPositions={}),l.teamPositions[i]||(l.teamPositions[i]=[]);const c=l.teamPositions[i],f=c.includes(s)?c.filter(m=>m!==s):[...c,s];l.teamPositions[i]=f}},moveUserTeam(n,e){const{userId:t,teamName:i,direction:s}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l&&l.teams){const c=l.teams.indexOf(i);if(c===-1)return;const f=s==="up"?c-1:c+1;if(f<0||f>=l.teams.length)return;const m=[...l.teams];[m[c],m[f]]=[m[f],m[c]],l.teams=m}},resetUserChanges(n){n.allUsers=JSON.parse(JSON.stringify(n.originalUsers))},setAllUsers(n,e){n.allUsers=e.payload,n.originalUsers=JSON.parse(JSON.stringify(e.payload)),n.loading=!1}},extraReducers:n=>{n.addCase(Xg.pending,e=>{e.loading=!0,e.error=null}).addCase(Xg.fulfilled,(e,t)=>{e.allUsers=t.payload,e.originalUsers=JSON.parse(JSON.stringify(t.payload)),e.loading=!1}).addCase(Xg.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(ad.pending,e=>{e.saving=!0,e.error=null}).addCase(ad.fulfilled,e=>{e.saving=!1,e.originalUsers=JSON.parse(JSON.stringify(e.allUsers))}).addCase(ad.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{updateUserField:TU,toggleUserTeam:bU,toggleUserTeamPosition:SU,moveUserTeam:AU,resetUserChanges:wU,setAllUsers:CU}=FC.actions,RU=FC.reducer,IU=()=>{const n=xr(),{firebaseUser:e}=tt(t=>t.auth);V.useEffect(()=>{n(_U(!0));const t=js(Oa(Xt,"roster")),i=fo(t,f=>{const m={};f.docs.forEach(p=>{const y=p.data(),v=y.updatedAt,S={...y,updatedAt:v&&typeof v=="object"&&"toMillis"in v?v.toMillis():v};m[p.id]={...S,id:p.id}}),n(yU(m))},f=>console.error("Roster sync error:",f)),s=fo(mr(Xt,"metadata","teams"),f=>{if(f.exists()){const m=f.data(),p=Array.isArray(m.list)?m.list.map(y=>({...y,maxConflict:y.maxConflict||1})):[];n(Kj(p))}},f=>console.error("Teams sync error:",f)),l=fo(mr(Xt,"metadata","positions"),f=>{if(f.exists()){const m=f.data(),p=Array.isArray(m.list)?m.list:[];n(qj(p))}},f=>console.error("Positions sync error:",f)),c=fo(Oa(Xt,"users"),f=>{const m=[];f.forEach(y=>{m.push({...y.data(),id:y.id})});const p=m.sort((y,v)=>(y.name||"").localeCompare(v.name||""));n(CU(p))},f=>console.error("Users sync error:",f));return()=>{i(),s(),l(),c()}},[n]),V.useEffect(()=>{if(!(e!=null&&e.uid))return;const t=fo(mr(Xt,"users",e.uid),i=>{i.exists()&&n(zC(i.data()))},i=>console.error("Profile sync error:",i));return()=>t()},[n,e==null?void 0:e.uid])},xU="_bottomNavContainer_1c0tq_1",NU="_bottomNav_1c0tq_1",DU="_bottomNavBtn_1c0tq_18",OU="_bottomNavBtnActive_1c0tq_42",Uf={bottomNavContainer:xU,bottomNav:NU,bottomNavBtn:DU,bottomNavBtnActive:OU},MU=()=>{const n=Ro(),e=fi(),{lastVisitedPaths:t}=tt(l=>l.ui),i=e.pathname.includes("/settings")?on.SETTINGS:e.pathname.includes("/dashboard")?on.DASHBOARD:on.ROSTER,s=l=>{if(i===l){l===on.DASHBOARD&&n("/app/dashboard");return}const c=t[l];n(c||`/app/${l}`)};return T.jsx("nav",{className:Uf.bottomNavContainer,children:T.jsx("div",{className:Uf.bottomNav,children:Z_.map(l=>T.jsxs("button",{className:`${Uf.bottomNavBtn} ${i===l.id?Uf.bottomNavBtnActive:""}`,onClick:()=>s(l.id),children:[T.jsx("span",{children:l.icon}),T.jsx("span",{children:l.label})]},l.id))})})},PU="_sideNav_1youa_1",VU="_menuOpen_1youa_20",LU="_sidebarContent_1youa_26",jU="_tabletSidebarHeader_1youa_34",kU="_sideMenuList_1youa_38",UU="_sidenavMenuSubheading_1youa_43",zU="_sideNavItem_1youa_67",BU="_sideNavItemActive_1youa_95",HU="_sideEmoji_1youa_102",FU="_loading_1youa_109",qU="_sidebarToggleButton_1youa_116",GU="_sidebarFooter_1youa_117",$U="_sidebarCollapsed_1youa_173",KU="_adminOnlySectionWrapper_1youa_209",YU="_sidebarThemeToggle_1youa_239",QU="_sidebarThemeIcon_1youa_248",mt={sideNav:PU,menuOpen:VU,sidebarContent:LU,tabletSidebarHeader:jU,sideMenuList:kU,sidenavMenuSubheading:UU,sideNavItem:zU,sideNavItemActive:BU,sideEmoji:HU,loading:FU,sidebarToggleButton:qU,sidebarFooter:GU,sidebarCollapsed:$U,adminOnlySectionWrapper:KU,sidebarThemeToggle:YU,sidebarThemeIcon:QU},XU=()=>{var ie;const n=Ro(),e=fi(),{teamName:t,positionName:i,section:s}=Hc(),l=xr(),{userData:c}=tt(ne=>ne.auth),{isDesktopSidebarExpanded:f,isMobileSidebarOpen:m,expandedTeams:p}=tt(ne=>ne.ui),{teams:y,fetched:v,loading:S}=tt(ne=>ne.teams),{fetched:w}=tt(ne=>ne.positions),O=e.pathname.includes("/settings")?on.SETTINGS:e.pathname.includes("/dashboard")?on.DASHBOARD:on.ROSTER,H=i||s,P=V.useRef(void 0);V.useEffect(()=>{t&&O===on.ROSTER&&t!==P.current&&l(Dk(t)),P.current=t},[t,O,l]),V.useEffect(()=>{v||l(bc()),w||l(Ll())},[l,v,w]);const F=V.useCallback(ne=>{n(ne)},[n]),B=ne=>{l(Nk(ne))},G=()=>{const ne=Z_.find(I=>I.id===O),A=ne?ne.label:"GIG ROSTER";return t&&H?`${t}  ${H}`:t||(H?`${A}  ${H}`:A)},ee=[mt.sideNav,m?mt.menuOpen:"",f?"":mt.sidebarCollapsed].filter(Boolean).join(" ");return T.jsxs("aside",{className:ee,children:[T.jsxs("div",{className:mt.sidebarContent,children:[T.jsxs("div",{className:mt.tabletSidebarHeader,children:[f&&T.jsx("h3",{children:G()}),T.jsx("button",{className:mt.sidebarToggleButton,onClick:()=>l(Ik(!f)),"aria-label":f?"Collapse sidebar":"Expand sidebar",children:f?T.jsx(gk,{size:20}):T.jsx(_k,{size:20})})]}),T.jsxs("nav",{className:mt.sideMenuList,children:[O===on.ROSTER&&S&&T.jsx("div",{className:`${mt.sideNavItem} ${mt.loading}`,children:"Loading teams..."}),O===on.ROSTER?(ie=c==null?void 0:c.teams)==null?void 0:ie.map(ne=>{var M,D;const A=y.find(L=>L.name===ne);if(!A)return null;const I=c.teams.length===1,C=I||p.includes(A.name);return T.jsxs("div",{children:[!I&&T.jsxs("div",{className:`${mt.sidenavMenuSubheading} ${mt.sidenavMenuSubheadingClickable}`,style:{cursor:"pointer"},onClick:()=>{B(A.name),F(`/app/roster/${A.name}/All`)},children:[T.jsxs("div",{children:[A.emoji," ",f&&A.name]}),T.jsx("span",{className:mt.expandIcon,children:C?"":""})]}),C&&T.jsxs("div",{className:mt.sideNavSubItems,children:[T.jsxs("button",{className:`${mt.sideNavItem} ${mt.sideNavItemSub} ${H==="All"&&t===A.name?mt.sideNavItemActive:""}`,onClick:()=>{F(`/app/roster/${A.name}/All`),l(Cl(!1))},style:{borderLeft:H==="All"&&t===A.name?"4px solid var(--color-primary)":"4px solid transparent",backgroundColor:H==="All"&&t===A.name?"var(--background-toggle-on-transparent)":"transparent",color:H==="All"&&t===A.name?"var(--color-primary)":""},children:[T.jsx("span",{className:mt.sideEmoji,children:""})," ",f&&"All"]}),(D=(M=A.positions)==null?void 0:M.filter(L=>!L.parentId))==null?void 0:D.map(L=>{const x=H===L.name&&t===A.name;return T.jsxs("button",{className:`${mt.sideNavItem} ${mt.sideNavItemSub} ${x?mt.sideNavItemActive:""}`,onClick:()=>{F(`/app/roster/${A.name}/${L.name}`),l(Cl(!1))},style:{borderLeft:x?`4px solid ${L.colour}`:"4px solid transparent",backgroundColor:x?`${L.colour}15`:"transparent",color:x?L.colour:""},children:[T.jsx("span",{className:mt.sideEmoji,children:L.emoji})," ",f&&L.name]},L.name)}),A.allowAbsence!==!1&&T.jsxs("button",{className:`${mt.sideNavItem} ${mt.sideNavItemSub} ${H==="Absence"&&t===A.name?mt.sideNavItemActive:""}`,onClick:()=>{F(`/app/roster/${A.name}/Absence`),l(Cl(!1))},style:{borderLeft:H==="Absence"&&t===A.name?"4px solid var(--color-error)":"4px solid transparent",backgroundColor:H==="Absence"&&t===A.name?"var(--background-toggle-off-transparent)":"transparent"},children:[T.jsx("span",{className:mt.sideEmoji,children:""})," ",f&&"Absence"]})]})]},A.name)}):eA.filter(ne=>!ne.adminOnly).map(ne=>T.jsxs("button",{className:`${mt.sideNavItem} ${H===ne.id?mt.sideNavItemActive:""}`,onClick:()=>{F(`/app/settings/${ne.id}`),l(Cl(!1))},children:[T.jsx("span",{className:mt.sideEmoji,children:ne.icon})," ",f&&ne.label]},ne.id))]})]}),(c==null?void 0:c.isAdmin)&&O===on.SETTINGS&&T.jsxs("div",{className:mt.adminOnlySectionWrapper,children:[T.jsx("div",{className:mt.sidenavMenuSubheading,children:f&&T.jsx("h4",{children:"Admin Only"})}),eA.filter(ne=>ne.adminOnly).map(ne=>T.jsxs("button",{className:`${mt.sideNavItem} ${H===ne.id?mt.sideNavItemActive:""}`,onClick:()=>{F(`/app/settings/${ne.id}`),l(Cl(!1))},children:[T.jsx("span",{className:mt.sideEmoji,children:ne.icon})," ",f&&ne.label]},ne.id))]}),T.jsxs("div",{className:mt.sidebarFooter,children:[T.jsx(Tm,{className:mt.sidebarThemeToggle,iconClassName:mt.sidebarThemeIcon}),T.jsx(LC,{teamName:t,currentUser:c,variant:"sidebar",showText:f})]})]})},WU="_layoutWrapper_ysxiy_1",JU="_innerWrapper_ysxiy_13",ZU="_mainContent_ysxiy_21",yl={layoutWrapper:WU,innerWrapper:JU,mainContent:ZU},e3=()=>{const n=xr(),e=Ro(),t=fi(),i=Hc(),{userData:s}=tt(P=>P.auth);IU();const{teams:l}=tt(P=>P.teams),{isMobileSidebarOpen:c,isDesktopSidebarExpanded:f,lastVisitedPaths:m}=tt(P=>P.ui),p=t.pathname.includes("/settings")?on.SETTINGS:t.pathname.includes("/dashboard")?on.DASHBOARD:on.ROSTER,{teamName:y,positionName:v,section:S}=i,w=v||S||null,O=p!==on.DASHBOARD;V.useEffect(()=>{const P=p===on.ROSTER&&!y,F=p===on.SETTINGS&&!w;if(t.pathname.startsWith("/app/")&&!P&&!F&&p!==on.DASHBOARD){const B=t.pathname+t.search;n(xk({tabId:p,path:B}))}},[t.pathname,t.search,p,y,w,n]),V.useEffect(()=>{var G;const P=t.pathname==="/app"||t.pathname==="/app/",F=p===on.ROSTER&&!y,B=p===on.SETTINGS&&!w;if(P)e(m[on.DASHBOARD]||"/app/dashboard",{replace:!0});else if(F){const ee=m[on.ROSTER];if(ee)e(ee,{replace:!0});else if((G=s==null?void 0:s.teams)!=null&&G[0]&&l.length>0){const ie=l.find(ne=>ne.name===s.teams[0]);ie&&e(`/app/roster/${ie.name}/All`,{replace:!0})}}else if(B){const ee=m[on.SETTINGS];e(ee||`/app/settings/${Il.PROFILE}`,{replace:!0})}},[p,y,w,s,l,e,t.pathname,t.search,m]);const H=()=>{const P=Z_.find(B=>B.id===p),F=P?P.label:"GIG ROSTER";return y&&w?`${y}  ${w}`:y||(w?`${F}  ${w}`:F)};return T.jsxs("div",{className:`${yl.layoutWrapper} ${c?yl.menuOpen:""} ${f?yl.sidebarExpanded:yl.sidebarCollapsed}`,children:[O&&T.jsx(XU,{}),T.jsxs("div",{className:yl.innerWrapper,children:[T.jsx(uU,{title:H(),hasSideNav:O}),T.jsx("main",{className:yl.mainContent,children:T.jsx(VA,{})}),T.jsx(MU,{})]})]})},t3="_rosterSaveFooter_1ce1v_1",n3="_saveFooterContent_1ce1v_23",r3="_changesLabel_1ce1v_32",i3="_saveFooterActions_1ce1v_37",a3="_saveBtn_1ce1v_42",s3="_cancelBtn_1ce1v_57",o3="_sidebarCollapsed_1ce1v_77",l3="_noSidebar_1ce1v_81",ps={rosterSaveFooter:t3,saveFooterContent:n3,changesLabel:r3,saveFooterActions:i3,saveBtn:a3,cancelBtn:s3,sidebarCollapsed:o3,noSidebar:l3},ou=({label:n="You have unsaved changes",onSave:e,onCancel:t,isSaving:i,saveText:s="Save",discardText:l="Discard",hasSideNav:c=!0})=>{const{isDesktopSidebarExpanded:f}=tt(p=>p.ui),m=[ps.rosterSaveFooter,c?"":ps.noSidebar,!f&&c?ps.sidebarCollapsed:""].filter(Boolean).join(" ");return T.jsx("div",{className:m,children:T.jsxs("div",{className:ps.saveFooterContent,children:[T.jsx("span",{className:ps.changesLabel,children:n}),T.jsxs("div",{className:ps.saveFooterActions,children:[T.jsx("button",{className:ps.cancelBtn,onClick:t,disabled:i,children:l}),T.jsx("button",{className:ps.saveBtn,onClick:e,disabled:i,children:i?"Saving...":s})]})]})})},sd=(n,e,t)=>{const i=[],s=new Date;s.setHours(0,0,0,0);const l=s.getFullYear(),c=e||l,f=t||l,m={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},p=n.map(w=>m[w]);let y;c===l?y=new Date(s):y=new Date(c,0,1),y.setHours(0,0,0,0);const v=new Date(f,11,31);v.setHours(23,59,59,999);const S=new Date(y);for(;S.getTime()<=v.getTime();)p.includes(S.getDay())&&i.push(new Date(S)),S.setDate(S.getDate()+1);return i.sort((w,O)=>w.getTime()-O.getTime()),i.map(w=>kC(w))},u3=(n,e,t=5)=>{const i=[],s=new Date(e);s.setHours(0,0,0,0);const l={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c=n.map(m=>l[m]),f=new Date(s);for(;i.length<t;){f.setDate(f.getDate()-1),c.includes(f.getDay())&&i.push(new Date(f));const m=new Date(s);if(m.setFullYear(m.getFullYear()-1),f<m)break}return i.map(m=>kC(m)).sort()},c3={users:[],allTeamUsers:[],currentTeamData:null,rosterDates:[],loadingUsers:!1,loadingTeam:!1,loadingAllTeamUsers:!1,error:null},od=Kr("rosterView/fetchAllTeamUsers",async(n,{rejectWithValue:e})=>{if(!n)return[];try{const t=Oa(Xt,"users"),i=js(t,cm("teams","array-contains",n)),s=await th(i),l=[];return s.forEach(c=>{l.push(c.data())}),l.sort((c,f)=>(c.name||"").localeCompare(f.name||""))}catch(t){return console.error("Error fetching team users:",t),e("Failed to load team users.")}}),ld=Kr("rosterView/fetchUsers",async({teamName:n,positionName:e},{rejectWithValue:t,getState:i})=>{if(!n||!e)return[];try{const c=i().positions.positions.filter(w=>w.parentId===e),m=[e,...c.map(w=>w.name)].map(w=>`${n}|${w}`),p=Oa(Xt,"users"),y=js(p,cm("indexedAssignments","array-contains-any",m)),v=await th(y),S=[];return v.forEach(w=>{S.push(w.data())}),S.sort((w,O)=>(w.name||"").localeCompare(O.name||""))}catch(s){return console.error("Error fetching users:",s),t("Failed to load users.")}}),ud=Kr("rosterView/fetchTeamData",async(n,{rejectWithValue:e})=>{if(!n)return null;try{const t=mr(Xt,"metadata","teams"),i=await eh(t);if(i.exists()){const s=i.data();return(Array.isArray(s.list)?s.list.map(f=>({...f,preferredDays:f.preferredDays||[],positions:f.positions||[]})):[]).find(f=>f.name===n)||null}return null}catch(t){return console.error("Error fetching team data:",t),e("Failed to load team data.")}}),qC=Do({name:"rosterView",initialState:c3,reducers:{loadPreviousDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const e=u3(n.currentTeamData.preferredDays,n.rosterDates[0]);n.rosterDates=[...e,...n.rosterDates]}},resetToUpcomingDates(n){var e;(e=n.currentTeamData)!=null&&e.preferredDays&&(n.rosterDates=sd(n.currentTeamData.preferredDays))},loadNextYearDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const t=new Date(n.rosterDates[n.rosterDates.length-1]).getFullYear()+1,i=sd(n.currentTeamData.preferredDays,t,t);n.rosterDates=[...n.rosterDates,...i]}}},extraReducers:n=>{n.addCase(ld.pending,e=>{e.loadingUsers=!0,e.users=[],e.error=null}).addCase(ld.fulfilled,(e,t)=>{e.users=t.payload,e.loadingUsers=!1}).addCase(ld.rejected,(e,t)=>{e.error=t.payload,e.loadingUsers=!1}).addCase(od.pending,e=>{e.loadingAllTeamUsers=!0,e.allTeamUsers=[]}).addCase(od.fulfilled,(e,t)=>{e.allTeamUsers=t.payload,e.loadingAllTeamUsers=!1}).addCase(od.rejected,(e,t)=>{e.error=t.payload,e.loadingAllTeamUsers=!1}).addCase(ud.pending,e=>{e.loadingTeam=!0,e.currentTeamData=null,e.rosterDates=[],e.error=null}).addCase(ud.fulfilled,(e,t)=>{var i;e.currentTeamData=t.payload,(i=t.payload)!=null&&i.preferredDays&&(e.rosterDates=sd(t.payload.preferredDays)),e.loadingTeam=!1}).addCase(ud.rejected,(e,t)=>{e.error=t.payload,e.loadingTeam=!1})}}),{loadPreviousDates:h3,resetToUpcomingDates:f3,loadNextYearDates:d3}=qC.actions,m3=qC.reducer,p3="_dashboardContainer_y5fm3_1",g3="_dashboardHeader_y5fm3_10",y3="_dashboardHeaderActions_y5fm3_24",_3="_clearPastBtn_y5fm3_32",v3="_eventNameContainer_y5fm3_48",E3="_dashboardEventNameInput_y5fm3_55",T3="_dashboardEventNameInputHasEvent_y5fm3_79",b3="_carouselOuterWrapper_y5fm3_90",S3="_eventsCarouselTrack_y5fm3_98",A3="_eventCardWrapper_y5fm3_112",w3="_peek_y5fm3_123",C3="_active_y5fm3_129",R3="_eventCardDate_y5fm3_135",I3="_dashboardTodayBadge_y5fm3_147",x3="_teamCardsContainer_y5fm3_158",N3="_teamEventCard_y5fm3_166",D3="_dashboardThemeToggle_y5fm3_174",O3="_teamEventHeader_y5fm3_178",M3="_teamCardEmoji_y5fm3_197",P3="_teamCardName_y5fm3_201",V3="_copyRosterBtn_y5fm3_205",L3="_copyRosterBtnSuccess_y5fm3_226",j3="_teamEventDetails_y5fm3_232",k3="_posAssignmentRow_y5fm3_238",U3="_posEmojiLabel_y5fm3_244",z3="_assignedNames_y5fm3_250",B3="_unassigned_y5fm3_256",H3="_meTag_y5fm3_264",F3="_carouselPagination_y5fm3_286",q3="_dashboardEmpty_y5fm3_295",Nt={dashboardContainer:p3,dashboardHeader:g3,dashboardHeaderActions:y3,clearPastBtn:_3,eventNameContainer:v3,dashboardEventNameInput:E3,dashboardEventNameInputHasEvent:T3,carouselOuterWrapper:b3,eventsCarouselTrack:S3,eventCardWrapper:A3,peek:w3,active:C3,eventCardDate:R3,dashboardTodayBadge:I3,teamCardsContainer:x3,teamEventCard:N3,dashboardThemeToggle:D3,teamEventHeader:O3,teamCardEmoji:M3,teamCardName:P3,copyRosterBtn:V3,copyRosterBtnSuccess:L3,teamEventDetails:j3,posAssignmentRow:k3,posEmojiLabel:U3,assignedNames:z3,unassigned:B3,meTag:H3,carouselPagination:F3,dashboardEmpty:q3},G3=()=>{const n=xr(),[e,t]=RD(),i=e.get("date"),{userData:s}=tt(le=>le.auth),{teams:l}=tt(le=>le.teams),{entries:c,dirtyEntries:f,loading:m,initialLoad:p,saving:y}=tt(le=>le.roster),{positions:v}=tt(le=>le.positions),[S,w]=V.useState([]),[O,H]=V.useState(!1),[P,F]=V.useState(null),[B,G]=V.useState(0),[ee,ie]=V.useState(0),[ne,A]=V.useState(!1),I=V.useRef(null),C=V.useRef(!1),M=Object.keys(f).length>0;V.useEffect(()=>{const le=I.current;if(!le)return;const Se=new ResizeObserver(xe=>{for(const ze of xe){const Be=ze.contentRect.width;Be>0&&ie(Be)}});return Se.observe(le),()=>Se.disconnect()},[m,O,p]);const D=V.useMemo(()=>{const le=jl();if(!(s!=null&&s.teams)||l.length===0)return[];const Se=l.filter(Be=>s.teams.includes(Be.name)),xe=new Set;Se.forEach(Be=>{sd(Be.preferredDays).forEach(bt=>xe.add(bt))});const ze=Array.from(xe).sort();return i&&i<le?[i]:ze.filter(Be=>{const at=Be;if(i===at)return!0;const bt=c[at]||f[at];return bt?Se.some(Ye=>{var Mt;const vt=((Mt=bt.teams)==null?void 0:Mt[Ye.name])||{};return Object.values(vt).some(Qn=>Qn.length>0)}):!1})},[s,l,c,f,i]);V.useEffect(()=>{if(D.length===0||!I.current||m||ee===0)return;const le=I.current,Se=(xe,ze)=>{const Be=le.offsetWidth||ee;Be!==0&&(le.style.scrollSnapType="none",le.scrollTo({left:Be*xe,behavior:ze?"smooth":"auto"}),setTimeout(()=>{le&&(le.style.scrollSnapType="x mandatory"),A(!0)},50),G(xe),C.current=!0)};if(i){const xe=D.findIndex(ze=>ze===i);if(xe>=0){const ze=Math.round(le.scrollLeft/(le.offsetWidth||ee||1));!C.current||ze!==xe?requestAnimationFrame(()=>{Se(xe,C.current)}):A(!0)}else A(!0)}else le.scrollLeft!==0?Se(0,!0):A(!0),C.current=!0},[i,D,m,ee]);const L=()=>{t({},{replace:!0})};V.useEffect(()=>{(async()=>{if(!(!(s!=null&&s.teams)||s.teams.length===0)){H(!0);try{const Se=Oa(Xt,"users"),xe=js(Se,cm("teams","array-contains-any",s.teams)),ze=await th(xe),Be=[];ze.forEach(at=>Be.push(at.data())),w(Be)}catch(Se){console.error("Error fetching users for dashboard:",Se)}finally{H(!1)}}})()},[s==null?void 0:s.teams]);const x=V.useCallback(le=>{if(!le||!(s!=null&&s.teams)||l.length===0)return null;const Se=le,xe=f[Se]||c[Se],at=l.filter(bt=>s.teams.includes(bt.name)).sort((bt,Ye)=>{const vt=s.teams.indexOf(bt.name),Mt=s.teams.indexOf(Ye.name);return vt-Mt}).map(bt=>{var dn;const Ye=((dn=xe==null?void 0:xe.teams)==null?void 0:dn[bt.name])||{},vt=[],Mt=bt.positions.map(sr=>sr.name);let Qn=0;return Mt.forEach(sr=>{const Xn=v.find(Vt=>Vt.name===sr),Pt=[];Object.entries(Ye).forEach(([Vt,or])=>{if(or.includes(sr)){const di=S.find(qt=>qt.email===Vt);di?Pt.push(di):Pt.push({email:Vt,name:Vt}),Qn++}});const Wt=[...Pt].sort((Vt,or)=>Xn!=null&&Xn.sortByGender&&Vt.gender!==or.gender?Vt.gender==="Male"?-1:or.gender==="Male"?1:(Vt.gender||"").localeCompare(or.gender||""):(Vt.name||"").localeCompare(or.name||""));vt.push({posName:sr,emoji:(Xn==null?void 0:Xn.emoji)||"",assignedUsers:Wt.map(Vt=>({name:Vt.name||Vt.email||"Unknown",isMe:Vt.email===s.email}))})}),{teamName:bt.name,teamEmoji:bt.emoji,positions:vt,hasAssignments:Qn>0}}).filter(bt=>bt.hasAssignments);return at.length>0?at:null},[c,f,s,l,v,S]),ge=(le,Se,xe,ze,Be)=>{const bt=new Date(le).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",timeZone:"UTC"});let Ye="";Be&&(Ye+=` ${Be} 
`),Ye+=`${xe} ${Se}  ${bt}
`,ze.forEach(vt=>{const Mt=vt.assignedUsers.length>0?vt.assignedUsers.map(Qn=>Qn.name).join(", "):"-";Ye+=`${vt.emoji}: ${Mt}
`}),navigator.clipboard.writeText(Ye).then(()=>{const vt=`${le}-${Se}`;F(vt),setTimeout(()=>F(null),2e3)})},Te=()=>{if(!I.current)return;const le=I.current,Se=le.offsetWidth,xe=Math.round(le.scrollLeft/Se);if(xe!==B&&D[xe]){G(xe);const ze=D[xe];if(i!==ze){const Be=jl();xe===0&&Be===ze?t({},{replace:!0}):t({date:ze},{replace:!0})}}},z=(le,Se)=>{n(gU({date:le,eventName:Se}))},se=()=>{n(Sc(f))},ye=()=>{n(HC())};if(m&&!p||O)return T.jsx(su,{});if(D.length===0)return T.jsxs("div",{className:Nt.dashboardEmpty,children:[T.jsx("h2",{children:"No upcoming events found"}),T.jsx("p",{children:"You are not rostered for any upcoming team events."})]});const pe=D[B],Ee=jl(),j=pe&&pe<Ee,re=j?"Previous Event":"Upcoming Events",_e=le=>new Date(le).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric",timeZone:"UTC"}),we=(le,Se=!1)=>{const xe=x(le);if(!xe)return null;const ze=f[le]||c[le],Be=ze==null?void 0:ze.eventName;return T.jsx("div",{className:Nt.teamCardsContainer,children:xe.map(at=>{const bt=P===`${le}-${at.teamName}`;return T.jsxs("div",{className:Nt.teamEventCard,children:[T.jsxs("div",{className:Nt.teamEventHeader,children:[T.jsxs("h3",{children:[T.jsx("span",{className:Nt.teamCardEmoji,children:at.teamEmoji}),T.jsx("span",{className:Nt.teamCardName,children:at.teamName})]}),!Se&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx(Tm,{className:Nt.dashboardThemeToggle}),T.jsx("button",{className:`${Nt.copyRosterBtn} ${bt?Nt.copyRosterBtnSuccess:""}`,onClick:()=>ge(le,at.teamName,at.teamEmoji,at.positions,Be),title:"Copy to clipboard",children:bt?T.jsxs(T.Fragment,{children:[T.jsx(ok,{size:16})," Copied"]}):T.jsxs(T.Fragment,{children:[T.jsx(uk,{size:16})," Copy"]})})]})]}),T.jsx("div",{className:Nt.teamEventDetails,children:at.positions.map(Ye=>T.jsxs("div",{className:Nt.posAssignmentRow,children:[T.jsx("span",{className:Nt.posEmojiLabel,title:Ye.posName,children:Ye.emoji}),T.jsx("span",{className:`${Nt.assignedNames} ${Ye.assignedUsers.length===0?Nt.unassigned:""}`,children:Ye.assignedUsers.length>0?Ye.assignedUsers.map((vt,Mt)=>T.jsxs(V.Fragment,{children:[vt.name,vt.isMe&&T.jsx("span",{className:Nt.meTag,children:"Me"}),Mt<Ye.assignedUsers.length-1?", ":""]},`${vt.name}-${Mt}`)):"Unassigned"})]},Ye.posName))})]},at.teamName)})})};return T.jsxs("div",{className:Nt.dashboardContainer,children:[T.jsxs("div",{className:Nt.dashboardHeader,children:[T.jsx("h1",{children:re}),T.jsx("div",{className:Nt.dashboardHeaderActions,children:j&&T.jsx("button",{className:Nt.clearPastBtn,onClick:L,children:"Reset to upcoming"})})]}),T.jsx("div",{className:Nt.carouselOuterWrapper,style:{opacity:ne?1:0,transition:"opacity 0.3s ease-in-out"},children:T.jsx("div",{className:Nt.eventsCarouselTrack,ref:I,onScroll:Te,children:D.map((le,Se)=>{const xe=le,ze=f[xe]||c[xe],Be=(ze==null?void 0:ze.eventName)||"";return T.jsxs("div",{className:`${Nt.eventCardWrapper} ${Se===B?Nt.active:Nt.peek}`,children:[T.jsx("div",{className:Nt.eventNameContainer,children:T.jsx("input",{type:"text",className:`${Nt.dashboardEventNameInput} ${Be?Nt.dashboardEventNameInputHasEvent:""}`,placeholder:"Event name (e.g. Easter Sunday)",value:Be,onChange:at=>z(le,at.target.value),disabled:Se!==B})}),T.jsxs("div",{className:Nt.eventCardDate,children:[_e(le),le===Ee&&T.jsx("span",{className:Nt.dashboardTodayBadge,children:"TODAY"})]}),we(le,Se!==B)]},le)})})}),T.jsxs("div",{className:Nt.carouselPagination,children:[B+1," / ",D.length]}),M&&T.jsx(ou,{label:"Unsaved event labels",saveText:"Save Changes",onSave:se,onCancel:ye,isSaving:y,hasSideNav:!1})]})},$3="_button_4hh4s_1",K3="_primary_4hh4s_26",Y3="_secondary_4hh4s_31",Q3="_icon_4hh4s_42",X3="_small_4hh4s_48",zf={button:$3,primary:K3,secondary:Y3,delete:"_delete_4hh4s_36",icon:Q3,small:X3},dr=({variant:n="primary",size:e="medium",isIcon:t=!1,className:i="",children:s,...l})=>{const c=[zf.button,zf[n],e==="small"?zf.small:"",t?zf.icon:"",i].filter(Boolean).join(" ");return T.jsx("button",{className:c,...l,children:s})},W3="_pillGroup_ti99d_1",J3="_pillGroupNowrap_ti99d_9",Z3="_pill_ti99d_1",e6="_pillActive_ti99d_35",t6="_pillDisabled_ti99d_40",n6="_pillText_ti99d_61",xl={pillGroup:W3,pillGroupNowrap:J3,pill:Z3,pillActive:e6,pillDisabled:t6,pillText:n6},kl=({children:n,nowrap:e})=>T.jsx("div",{className:`${xl.pillGroup} ${e?xl.pillGroupNowrap:""}`,children:n}),Ir=({colour:n,isDropdown:e,isActive:t,isDisabled:i,minWidth:s,onClick:l,children:c})=>{const[f,m]=V.useState(!1);return n&&n.startsWith("var(--color-")&&(n=getComputedStyle(document.documentElement).getPropertyValue(n.slice(4,-1)).trim()),T.jsxs("div",{className:`${xl.pill} ${xl.pillText} ${t?xl.pillActive:""} ${i?xl.pillDisabled:""}`,style:{"--pill-colour":n||"var(--color-link)","--pill-subtle-hover-color":`${n}15`,minWidth:s?`${s}px`:"fit-content"},onClick:p=>{i||(m(y=>!y),l&&l(p))},children:[c,e&&T.jsx(OC,{style:{rotate:f?"90deg":"0"}})]})},r6="_settingsSection_5m9oe_1",i6="_sectionLabel_5m9oe_7",a6="_subSectionGroup_5m9oe_17",s6="_subSectionHeader_5m9oe_21",o6="_formGroup_5m9oe_31",l6="_summaryButton_5m9oe_35",u6="_summaryPrimary_5m9oe_57",c6="_summarySeparator_5m9oe_66",h6="_summarySecondary_5m9oe_73",f6="_summaryEmoji_5m9oe_78",d6="_remainingCount_5m9oe_82",Nn={settingsSection:r6,sectionLabel:i6,subSectionGroup:a6,subSectionHeader:s6,formGroup:o6,summaryButton:l6,summaryPrimary:u6,summarySeparator:c6,summarySecondary:h6,summaryEmoji:f6,remainingCount:d6},GC=({selectedTeams:n,teamPositions:e,onToggleTeam:t,onTogglePosition:i,onMoveTeam:s,availableTeams:l,globalPositions:c})=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Teams"}),T.jsx(kl,{children:l.map(f=>{const m=n.includes(f.name);return T.jsxs(Ir,{onClick:()=>t(f.name),isActive:m,children:[T.jsx("span",{children:f.emoji})," ",f.name]},f.name)})})]}),n.length>0&&T.jsxs("div",{className:Nn.settingsSection,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Positions per Team"}),n.map((f,m)=>{var v;const p=l.find(S=>S.name===f);if(!p)return null;const y=((v=p.positions)==null?void 0:v.filter(S=>!S.parentId))||[];return T.jsxs("div",{className:Nn.subSectionGroup,children:[T.jsxs("div",{className:Nn.subSectionHeader,style:{justifyContent:"space-between"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.emoji," ",p.name]}),s&&T.jsxs("div",{style:{display:"flex",gap:"4px"},children:[T.jsx(dr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(f,"up"),disabled:m===0,children:""}),T.jsx(dr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(f,"down"),disabled:m===n.length-1,children:""})]})]}),y.length>0?T.jsx(kl,{children:y.map(S=>{var P;const w=c.find(F=>F.name===S.name),O=!!(w!=null&&w.isCustom),H=(P=e[f])==null?void 0:P.includes(S.name);return T.jsxs(Ir,{onClick:()=>i(f,S.name),isActive:H,isDisabled:O,colour:S.colour,children:[T.jsx("span",{children:S.emoji})," ",S.name]},S.name)})}):T.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-text-dim)",margin:"8px 0"},children:"No assignable positions for this team."})]},f)})]})]}),m6="_formGroup_163vy_1",p6="_formInput_163vy_16",g6="_formSelect_163vy_52",y6="_colorInput_163vy_86",_6="_fieldHint_163vy_104",Aa={formGroup:m6,formInput:p6,formSelect:g6,colorInput:y6,fieldHint:_6},v6="_profileCard_1qei9_1",E6="_profileReadonly_1qei9_11",T6="_actionContainer_1qei9_59",Wg={profileCard:v6,profileReadonly:E6,actionContainer:T6},$C=({className:n})=>{const e=xr(),{userData:t,firebaseUser:i}=tt(P=>P.auth),{teams:s}=tt(P=>P.teams),{positions:l}=tt(P=>P.positions),[c,f]=V.useState({name:"",gender:"",isActive:!0,teams:[],teamPositions:{}}),[m,p]=V.useState("idle");V.useEffect(()=>{!t||m==="saving"||f(P=>!(P.name!==(t.name||"")||P.gender!==(t.gender||"")||P.isActive!==(t.isActive??!0)||JSON.stringify(P.teams)!==JSON.stringify(t.teams||[])||JSON.stringify(P.teamPositions)!==JSON.stringify(t.teamPositions||{}))||m==="idle"?{name:t.name||"",gender:t.gender||"",isActive:t.isActive??!0,teams:t.teams||[],teamPositions:t.teamPositions||{}}:P)},[t,m]);const y=V.useMemo(()=>{if(!t)return!1;const P={name:t.name||"",gender:t.gender||"",isActive:t.isActive??!0,teams:t.teams||[],teamPositions:t.teamPositions||{}};return JSON.stringify(c)!==JSON.stringify(P)},[c,t]),v=async()=>{if(i){p("saving");try{await e(id({uid:i.uid,data:c})).unwrap(),p("success"),setTimeout(()=>p("idle"),2e3)}catch(P){console.error(P),p("idle")}}},S=()=>{t&&f({name:t.name||"",gender:t.gender||"",isActive:t.isActive??!0,teams:t.teams||[],teamPositions:t.teamPositions||{}})},w=P=>{f(F=>{const B=F.teams.includes(P),G=B?F.teams.filter(ie=>ie!==P):[...F.teams,P],ee={...F.teamPositions};return B?delete ee[P]:ee[P]||(ee[P]=[]),{...F,teams:G,teamPositions:ee}})},O=(P,F)=>{f(B=>{const G=B.teamPositions[P]||[],ee=G.includes(F)?G.filter(ie=>ie!==F):[...G,F];return{...B,teamPositions:{...B.teamPositions,[P]:ee}}})},H=(P,F)=>{f(B=>{const G=B.teams.indexOf(P);if(G===-1)return B;const ee=F==="up"?G-1:G+1;if(ee<0||ee>=B.teams.length)return B;const ie=[...B.teams];return[ie[G],ie[ee]]=[ie[ee],ie[G]],{...B,teams:ie}})};return t?T.jsxs("section",{className:`${Wg.profileCard} ${n||""}`,children:[T.jsx("div",{className:Wg.profileReadonly,children:T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," ",t.email]})}),T.jsxs("div",{className:Aa.formGroup,children:[T.jsx("label",{children:"Name"}),T.jsx("input",{type:"text",value:c.name,onChange:P=>f(F=>({...F,name:P.target.value})),className:Aa.formInput})]}),T.jsxs("div",{className:Aa.formGroup,children:[T.jsx("label",{children:"Gender"}),T.jsx(kl,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(P=>T.jsx(Ir,{colour:P.colour,onClick:()=>f(F=>({...F,gender:P.value})),isActive:c.gender===P.value,children:P.value},P.value))})]}),T.jsx(GC,{selectedTeams:c.teams,teamPositions:c.teamPositions,onToggleTeam:w,onTogglePosition:O,onMoveTeam:H,availableTeams:s,globalPositions:l}),T.jsxs("div",{className:Aa.formGroup,children:[T.jsx("label",{children:"Availability Status"}),T.jsx(Ir,{colour:c.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>f(P=>({...P,isActive:!P.isActive})),isActive:!0,children:c.isActive?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),T.jsx("p",{className:Aa.fieldHint,children:"Turn off if you want to be hidden from the roster."})]}),T.jsx("div",{className:Wg.actionContainer,children:T.jsx(dr,{variant:"delete",onClick:()=>Ql.signOut(),children:"Logout"})}),y&&T.jsx(ou,{label:"Unsaved profile changes",saveText:"Update Profile",onSave:v,onCancel:S,isSaving:m==="saving"})]}):T.jsx("div",{children:"Loading profile..."})},b6="_guestContainer_1m4dd_1",S6="_profileCardOverride_1m4dd_14",A6="_guestHeader_1m4dd_21",w6="_brandTitle_1m4dd_28",C6="_guestThemeToggleContainer_1m4dd_32",R6="_pendingLabel_1m4dd_38",_l={guestContainer:b6,profileCardOverride:S6,guestHeader:A6,brandTitle:w6,guestThemeToggleContainer:C6,pendingLabel:R6},I6=()=>{const{userData:n,firebaseUser:e,loading:t}=tt(i=>i.auth);return t?T.jsx(Xl,{}):e?n?n.isApproved?T.jsx(Ss,{to:"/app",replace:!0}):T.jsxs("div",{className:_l.guestContainer,children:[T.jsxs("header",{className:_l.guestHeader,children:[T.jsx("h2",{className:_l.brandTitle,children:"God is Good"}),T.jsx("p",{className:_l.pendingLabel,children:"PENDING ADMIN APPROVAL"}),T.jsx("div",{className:_l.guestThemeToggleContainer,children:T.jsx(Tm,{})})]}),T.jsx($C,{className:_l.profileCardOverride})]}):T.jsx(Xl,{}):T.jsx(Ss,{to:"/login",replace:!0})},x6="_loginContainer_12x6v_1",N6="_loginHeader_12x6v_12",D6="_brandTitle_12x6v_16",O6="_brandSubtitle_12x6v_24",M6="_loginButtonContainer_12x6v_33",P6="_loginButton_12x6v_33",V6="_google_12x6v_57",co={loginContainer:x6,loginHeader:N6,brandTitle:D6,brandSubtitle:O6,loginButtonContainer:M6,loginButton:P6,google:V6},L6=()=>{const{firebaseUser:n,loading:e}=tt(i=>i.auth),t=()=>qV(Ql,UL);return e?null:n?T.jsx(Ss,{to:"/",replace:!0}):T.jsxs("div",{className:co.loginContainer,children:[T.jsxs("header",{className:co.loginHeader,children:[T.jsx("h1",{className:co.brandTitle,children:"God is Good"}),T.jsx("p",{className:co.brandSubtitle,children:"Worship Team Roster"})]}),T.jsx("div",{className:co.loginButtonContainer,children:T.jsxs("button",{onClick:t,className:`${co.loginButton} ${co.google}`,children:[T.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},j6="_rosterTableHeaderCell_2huqt_1",k6="_stickyCol_2huqt_10",U6="_dateHeaderContent_2huqt_26",z6="_dateHeaderActions_2huqt_33",B6="_loadPrevBtn_2huqt_38",H6="_resetDatesBtn_2huqt_60",F6="_peekHeader_2huqt_70",q6="_peekSelector_2huqt_78",G6="_stickyRight_2huqt_95",$6="_clickableHeader_2huqt_109",K6="_allViewPositionHeader_2huqt_119",Y6="_allViewPositionName_2huqt_126",Q6="_headerActions_2huqt_132",X6="_headerActionBtn_2huqt_139",W6="_removeHeaderBtn_2huqt_163",J6="_meTag_2huqt_168",Z6="_isMe_2huqt_190",e9="_headerInput_2huqt_199",t9="_addColumnBtn_2huqt_225",n9="_highlightedHeader_2huqt_246",r9="_genderDividerCell_2huqt_251",i9="_genderLabel_2huqt_268",ht={rosterTableHeaderCell:j6,stickyCol:k6,dateHeaderContent:U6,dateHeaderActions:z6,loadPrevBtn:B6,resetDatesBtn:H6,peekHeader:F6,peekSelector:q6,stickyRight:G6,clickableHeader:$6,allViewPositionHeader:K6,allViewPositionName:Y6,headerActions:Q6,headerActionBtn:X6,removeHeaderBtn:W6,meTag:J6,isMe:Z6,headerInput:e9,addColumnBtn:t9,highlightedHeader:n9,genderDividerCell:r9,genderLabel:i9},Jg=V.memo(({viewType:n,rosterAllViewMode:e,allViewColumns:t,userData:i,assignedOnClosestDate:s,currentTeamData:l,teamName:c,navigate:f,hasPastDates:m,onLoadPrevious:p,onResetDates:y,currentPosition:v,handleUpdateCustomLabel:S,handleMoveCustomLabel:w,handleRemoveCustomLabel:O,handleAddCustomLabel:H,sortedUsers:P,genderDividerIndex:F,onToggleVisibility:B,peekPositionName:G,setPeekPositionName:ee,peekOptions:ie,allTeamUsers:ne})=>{const A=()=>T.jsx("th",{className:`${ht.rosterTableHeaderCell} ${ht.stickyCol}`,children:T.jsxs("div",{className:ht.dateHeaderContent,children:["Date",T.jsxs("div",{className:ht.dateHeaderActions,children:[T.jsx("button",{className:ht.loadPrevBtn,onClick:p,title:"Load 5 previous dates",children:""}),m&&T.jsx("button",{className:`${ht.loadPrevBtn} ${ht.resetDatesBtn}`,onClick:y,title:"Hide previous dates",children:""})]})]})}),I=()=>T.jsx("th",{className:`${ht.rosterTableHeaderCell} ${ht.stickyRight} ${ht.peekHeader}`,children:T.jsxs("select",{className:ht.peekSelector,value:G||"",onChange:C=>ee(C.target.value||null),children:[T.jsx("option",{value:"",children:"Peek Position..."}),ie.map(C=>T.jsxs("option",{value:C.name,children:[C.emoji," ",C.name]},C.name))]})});return n==="all"?T.jsx("thead",{children:T.jsxs("tr",{children:[A(),e==="user"?t.map(C=>{const M=C.id===(i==null?void 0:i.email);return T.jsxs("th",{className:`${ht.rosterTableHeaderCell} ${C.id&&s.includes(C.id)?ht.highlightedHeader:""} ${M?ht.isMe:""}`,children:[C.name,M&&T.jsx("span",{className:ht.meTag,children:"Me"})]},C.id)}):((l==null?void 0:l.positions)||[]).map(C=>T.jsx("th",{className:`${ht.rosterTableHeaderCell} ${ht.clickableHeader}`,onClick:()=>f(`/app/roster/${c}/${C.name}`),children:T.jsxs("div",{className:ht.allViewPositionHeader,children:[T.jsx("span",{children:C.emoji}),T.jsx("span",{className:ht.allViewPositionName,children:C.name})]})},C.name))]})}):n==="absence"?T.jsx("thead",{children:T.jsxs("tr",{children:[A(),ne.map(C=>T.jsx("th",{className:`${ht.rosterTableHeaderCell} ${C.email&&s.includes(C.email)?ht.highlightedHeader:""}`,children:C.name},C.email)),T.jsx("th",{className:`${ht.genderDividerCell}`}),I()]})}):T.jsx("thead",{children:T.jsxs("tr",{children:[A(),v!=null&&v.isCustom?(v.customLabels||[]).map((C,M)=>{var D;return T.jsxs("th",{className:`${ht.rosterTableHeaderCell}`,children:[T.jsx("input",{type:"text",className:ht.headerInput,value:C,placeholder:"New Heading...",readOnly:!(i!=null&&i.isAdmin),onChange:L=>S(M,L.target.value)}),(i==null?void 0:i.isAdmin)&&T.jsxs("div",{className:ht.headerActions,children:[T.jsx("button",{className:ht.headerActionBtn,onClick:()=>w(M,"left"),disabled:M===0,title:"Move Left",children:T.jsx(nk,{size:12})}),T.jsx("button",{className:`${ht.headerActionBtn} ${ht.removeHeaderBtn}`,onClick:()=>O(M),title:"Remove Column",children:T.jsx(J_,{size:12})}),T.jsx("button",{className:ht.headerActionBtn,onClick:()=>w(M,"right"),disabled:M===(((D=v.customLabels)==null?void 0:D.length)||0)-1,title:"Move Right",children:T.jsx(ik,{size:12})})]})]},`custom-${M}`)}):P.map((C,M)=>T.jsxs(V.Fragment,{children:[F===M&&T.jsx("th",{className:`${ht.genderDividerCell}`}),T.jsxs("th",{className:`${ht.rosterTableHeaderCell} ${ht.clickableHeader} ${C.email&&s.includes(C.email)?ht.highlightedHeader:""}`,onClick:()=>C.email&&B(C.email),title:"Click to hide member",children:[C.name,(v==null?void 0:v.sortByGender)&&T.jsxs("span",{className:ht.genderLabel,children:["(",C.gender==="Male"?"M":C.gender==="Female"?"F":"?",")"]})]})]},C.email)),(v==null?void 0:v.isCustom)&&(i==null?void 0:i.isAdmin)&&T.jsx("th",{className:`${ht.rosterTableHeaderCell}`,children:T.jsx("button",{className:ht.addColumnBtn,onClick:H,title:"Add Column",children:T.jsx(sh,{size:16})})}),T.jsx("th",{className:`${ht.genderDividerCell}`}),I()]})})}),a9="_rosterCell_wdymz_1",s9="_clickable_wdymz_6",o9="_disabled_wdymz_15",l9="_focused_wdymz_21",u9="_highlightedCell_wdymz_27",c9="_absentStrike_wdymz_31",h9="_absentCell_wdymz_36",f9="_absenceInputContainer_wdymz_40",d9="_absenceReasonInput_wdymz_59",m9="_removeAbsenceBtn_wdymz_71",p9="_absenceRosterCell_wdymz_92",fr={rosterCell:a9,clickable:s9,disabled:o9,focused:l9,highlightedCell:u9,absentStrike:c9,absentCell:h9,absenceInputContainer:f9,absenceReasonInput:d9,removeAbsenceBtn:m9,absenceRosterCell:p9},sc=V.memo(({type:n,isFocused:e,onFocus:t,absent:i,absenceReason:s,isAssignedOnClosestDate:l,content:c,onClick:f,handleAbsenceReasonChange:m,disabled:p})=>{const y=[fr.rosterCell,e?fr.focused:"",l?fr.highlightedCell:""];return n==="all-user"?T.jsx("td",{className:[...y,fr.clickable,i?fr.absentStrike:""].filter(Boolean).join(" "),tabIndex:0,onClick:f,onFocus:t,children:i?T.jsx("span",{title:s,children:""}):c}):n==="all-position"?T.jsx("td",{className:y.filter(Boolean).join(" "),tabIndex:0,onFocus:t,children:c}):n==="roster-custom"?T.jsx("td",{className:[...y,fr.clickable].filter(Boolean).join(" "),onClick:f,tabIndex:0,onFocus:t,children:c}):n==="roster-user"?T.jsx("td",{className:[...y,p?fr.disabled:fr.clickable,i?fr.absentStrike:""].filter(Boolean).join(" "),onClick:f,tabIndex:0,onFocus:t,children:i?T.jsx("span",{title:s,children:""}):c}):n==="absence"?T.jsx("td",{className:[...y,fr.clickable,fr.absenceRosterCell,i?fr.absentCell:""].filter(Boolean).join(" "),onClick:f,tabIndex:0,onFocus:t,title:s,children:i?T.jsxs("div",{className:fr.absenceInputContainer,children:[T.jsx("input",{type:"text",className:fr.absenceReasonInput,value:s,placeholder:"Reason...",maxLength:20,autoFocus:e,onClick:v=>v.stopPropagation(),onChange:v=>m==null?void 0:m(v.target.value)}),T.jsx("button",{className:fr.removeAbsenceBtn,onClick:v=>{v.stopPropagation(),f==null||f()},title:"Mark as present",children:T.jsx(J_,{size:14})})]}):""}):null}),g9="_stickyCol_14jt9_1",y9="_dateCell_14jt9_11",_9="_clickable_14jt9_19",v9="_dateCellContent_14jt9_31",E9="_specialEventDot_14jt9_39",T9="_rosterTodayDot_14jt9_50",b9="_pastDate_14jt9_61",S9="_noData_14jt9_65",A9="_closestNextDateRow_14jt9_77",w9="_todayDate_14jt9_78",C9="_peekCell_14jt9_89",R9="_genderDividerCell_14jt9_102",I9="_rosterCell_14jt9_111",x9="_stickyRight_14jt9_126",In={stickyCol:g9,dateCell:y9,clickable:_9,dateCellContent:v9,specialEventDot:E9,rosterTodayDot:T9,pastDate:b9,noData:S9,closestNextDateRow:A9,todayDate:w9,peekCell:C9,genderDividerCell:R9,rosterCell:I9,stickyRight:x9},Zg=V.memo(({viewType:n,dateString:e,rowIndex:t,rowClass:i,isToday:s,hasData:l,eventName:c,closestNextDate:f,onDateClick:m,focusedCell:p,setFocusedCell:y,rosterAllViewMode:v,allViewColumns:S,assignedOnClosestDate:w,currentTeamData:O,getAllViewUserCellContent:H,getAllViewPositionCellContent:P,getAssignmentsForIdentifier:F,navigate:B,teamName:G,currentPosition:ee,handleCellClick:ie,getCellContent:ne,sortedUsers:A,genderDividerIndex:I,isCellDisabled:C,isUserAbsent:M,getAbsenceReason:D,getPeekAssignedUsers:L,allTeamUsers:x,handleAbsenceClick:ge,handleAbsenceReasonChange:Te})=>{const z=[i==="past-date"?In.pastDate:"",i==="today-date"?In.todayDate:"",i==="future-date"?In.futureDate:"",l?"":In.noData,c?In.specialEventRow:"",e===f?In.closestNextDateRow:""].filter(Boolean).join(" "),se=()=>T.jsx("td",{className:`${In.dateCell} ${In.stickyCol} ${l?In.clickable:""}`,onClick:()=>m(e),title:c,children:T.jsxs("div",{className:In.dateCellContent,children:[c&&T.jsx("span",{className:In.specialEventDot}),s&&T.jsx("span",{className:In.rosterTodayDot,title:"Today"}),new Date(e.replace(/-/g,"/")).toLocaleDateString()]})}),ye=()=>T.jsx("td",{className:`${In.rosterCell} ${In.peekCell} ${In.stickyRight}`,children:L(e).join(", ")||""});return n==="all"?T.jsxs("tr",{className:z,children:[se(),v==="user"?S.map((pe,Ee)=>T.jsx(sc,{type:"all-user",dateString:e,rowIndex:t,colIndex:Ee,isFocused:(p==null?void 0:p.row)===t&&(p==null?void 0:p.col)===Ee&&(p==null?void 0:p.table)==="all",onFocus:()=>y({row:t,col:Ee,table:"all"}),absent:pe.id?M(e,pe.id):!1,absenceReason:pe.id?D(e,pe.id):"",isAssignedOnClosestDate:e===f&&pe.id!==void 0&&w.includes(pe.id),content:pe.id?H(e,pe.id):null,onClick:()=>{const j=F(e,pe.id);j.length>0&&B(`/app/roster/${G}/${j[0]}`)}},pe.id)):((O==null?void 0:O.positions)||[]).map((pe,Ee)=>T.jsx(sc,{type:"all-position",dateString:e,rowIndex:t,colIndex:Ee,isFocused:(p==null?void 0:p.row)===t&&(p==null?void 0:p.col)===Ee&&(p==null?void 0:p.table)==="all",onFocus:()=>y({row:t,col:Ee,table:"all"}),content:P(e,pe.name)},pe.name))]}):n==="absence"?T.jsxs("tr",{className:z,children:[se(),x.map((pe,Ee)=>T.jsx(sc,{type:"absence",dateString:e,rowIndex:t,colIndex:Ee,isFocused:(p==null?void 0:p.row)===t&&(p==null?void 0:p.col)===Ee&&(p==null?void 0:p.table)==="absence",onFocus:()=>y({row:t,col:Ee,table:"absence"}),absent:pe.email?M(e,pe.email):!1,absenceReason:pe.email?D(e,pe.email):"",isAssignedOnClosestDate:!!(e===f&&pe.email&&w.includes(pe.email)),onClick:()=>{pe.email&&ge(e,pe.email,t,Ee)},handleAbsenceReasonChange:j=>{pe.email&&Te(e,pe.email,j)}},pe.email)),T.jsx("td",{className:In.genderDividerCell}),ye()]}):T.jsxs("tr",{className:z,children:[se(),ee!=null&&ee.isCustom?(ee.customLabels||[]).map((pe,Ee)=>T.jsx(sc,{type:"roster-custom",dateString:e,rowIndex:t,colIndex:Ee,isFocused:(p==null?void 0:p.row)===t&&(p==null?void 0:p.col)===Ee&&(p==null?void 0:p.table)==="roster",onFocus:()=>y({row:t,col:Ee,table:"roster"}),content:pe&&ne(e,pe),onClick:()=>{pe&&ie(e,pe,t,Ee)}},`custom-cell-${Ee}`)):A.map((pe,Ee)=>T.jsxs(V.Fragment,{children:[I===Ee&&T.jsx("td",{className:In.genderDividerCell}),T.jsx(sc,{type:"roster-user",dateString:e,rowIndex:t,colIndex:Ee,isFocused:(p==null?void 0:p.row)===t&&(p==null?void 0:p.col)===Ee&&(p==null?void 0:p.table)==="roster",onFocus:()=>y({row:t,col:Ee,table:"roster"}),disabled:pe.email?C(e,pe.email):!1,absent:pe.email?M(e,pe.email):!1,absenceReason:pe.email?D(e,pe.email):"",isAssignedOnClosestDate:!!(e===f&&pe.email&&w.includes(pe.email)),content:pe.email?ne(e,pe.email):null,onClick:()=>{pe.email&&!C(e,pe.email)&&ie(e,pe.email,t,Ee)}})]},pe.email)),(ee==null?void 0:ee.isCustom)&&T.jsx("td",{className:`${In.rosterCell} ${In.disabled}`}),T.jsx("td",{className:In.genderDividerCell}),ye()]})}),N9="_topControls_edhcc_1",D9="_topControlsLeft_edhcc_14",O9="_viewToggleBar_edhcc_27",M9="_hiddenMembersBar_edhcc_38",P9="_hiddenMembersLabel_edhcc_50",V9="_hiddenMembersList_edhcc_58",L9="_toggleButtonGap_edhcc_64",j9="_unhideButton_edhcc_68",Ea={topControls:N9,topControlsLeft:D9,viewToggleBar:O9,hiddenMembersBar:M9,hiddenMembersLabel:P9,hiddenMembersList:V9,toggleButtonGap:L9,unhideButton:j9},ey=({isAllView:n,isAbsenceView:e,rosterAllViewMode:t,hiddenUserList:i,allUsers:s,onToggleVisibility:l})=>{const c=xr(),f=!e&&i.length>0;return!f&&!n?null:T.jsx("div",{className:Ea.topControls,children:T.jsxs("div",{className:Ea.topControlsLeft,children:[n&&T.jsxs("div",{className:Ea.viewToggleBar,children:[T.jsxs(dr,{variant:t==="user"?"primary":"secondary",size:"small",onClick:()=>c(ZS("user")),className:Ea.toggleButtonGap,children:[T.jsx(Ak,{size:18})," ",T.jsx("span",{children:"User View"})]}),T.jsxs(dr,{variant:t==="position"?"primary":"secondary",size:"small",onClick:()=>c(ZS("position")),className:Ea.toggleButtonGap,children:[T.jsx(fk,{size:18})," ",T.jsx("span",{children:"Position View"})]})]}),f&&T.jsxs("div",{className:Ea.hiddenMembersBar,children:[T.jsx("span",{className:Ea.hiddenMembersLabel,children:"Hidden Members:"}),T.jsx("div",{className:Ea.hiddenMembersList,children:i.map(m=>{const p=s.find(y=>y.email===m);return T.jsxs(dr,{variant:"secondary",size:"small",onClick:()=>l(m),className:Ea.unhideButton,children:[(p==null?void 0:p.name)||m," ",T.jsx(sh,{size:14})]},m)})})]})]})})},k9="_rosterTableContainer_xj9jl_1",U9="_rosterTable_xj9jl_1",z9="_rosterTableLoading_xj9jl_44",B9="_rosterTableError_xj9jl_45",H9="_rosterTableWrapper_xj9jl_52",F9="_rosterSection_xj9jl_60",q9="_loadMoreFooter_xj9jl_64",G9="_loadNextYearBtn_xj9jl_70",$9="_assignedPositions_xj9jl_88",Dt={rosterTableContainer:k9,rosterTable:U9,rosterTableLoading:z9,rosterTableError:B9,rosterTableWrapper:H9,rosterSection:F9,loadMoreFooter:q9,loadNextYearBtn:G9,assignedPositions:$9},K9=()=>{const n=xr(),e=Ro(),{teamName:t,positionName:i}=Hc(),{userData:s}=tt(ue=>ue.auth),{users:l,allTeamUsers:c,rosterDates:f,currentTeamData:m,loadingUsers:p,loadingTeam:y,loadingAllTeamUsers:v,error:S}=tt(ue=>ue.rosterView),{entries:w,dirtyEntries:O,saving:H,loading:P,initialLoad:F,error:B}=tt(ue=>ue.roster),{positions:G,isDirty:ee}=tt(ue=>ue.positions),{teams:ie}=tt(ue=>ue.teams),{hiddenUsers:ne,rosterAllViewMode:A}=tt(ue=>ue.ui),[I,C]=V.useState(null),[M,D]=V.useState(null),L=Object.keys(O).length>0,x=L||ee,ge=i==="Absence",Te=i==="All",z=V.useMemo(()=>G.find(ue=>ue.name===i),[G,i]),se=V.useMemo(()=>m?m.positions.filter(ue=>ue.name!==i):[],[m,i]),ye=V.useMemo(()=>{var ue;return!t||!i?[]:((ue=ne[t])==null?void 0:ue[i])||[]},[ne,t,i]),pe=V.useMemo(()=>c.filter(ue=>{var Ce;return!ue.isActive||!t?!1:(((Ce=ue.teamPositions)==null?void 0:Ce[t])||[]).length>0}),[c,t]),Ee=V.useMemo(()=>{const ue=pe.map(de=>({id:de.email||"",name:de.name||"",isUser:!0,gender:de.gender}));if(!m)return ue;const ve=m.positions.map(de=>de.name),Ce=Array.from(new Set(G.filter(de=>ve.includes(de.name)&&de.isCustom).flatMap(de=>de.customLabels||[]).map(de=>de.trim()).filter(de=>de!==""))).map(de=>({id:de,name:de,isUser:!1}));return[...ue,...Ce]},[pe,m,G]),j=V.useMemo(()=>{const ue=l.filter(ve=>ve.email&&!ye.includes(ve.email)&&ve.isActive);return z!=null&&z.sortByGender?ue.sort((ve,Ce)=>ve.gender===Ce.gender?(ve.name||"").localeCompare(Ce.name||""):ve.gender==="Male"?-1:Ce.gender==="Male"?1:(ve.gender||"").localeCompare(Ce.gender||"")):ue},[l,z,ye]),re=V.useMemo(()=>{if(!(z!=null&&z.sortByGender)||j.length===0)return-1;const ue=j.findIndex(ve=>ve.gender==="Female");return ue>0&&ue<j.length?ue:-1},[z,j]),_e=ue=>{!t||!i||n(Ok({teamName:t,positionName:i,userEmail:ue}))},we=()=>{n(h3())},le=()=>{n(f3())},Se=()=>{n(d3())},xe=ue=>{ze(ue)&&e(`/app/dashboard?date=${ue}`)},ze=V.useCallback(ue=>{const ve=ue.split("T")[0],Ce=O[ve]||w[ve];return Ce?Object.values(Ce.teams).some(de=>Object.values(de).some(De=>De.length>0)):!1},[w,O]),Be=V.useCallback(ue=>{if(!M||!t)return[];const ve=ue.split("T")[0],Ce=O[ve]||w[ve];return!Ce||!Ce.teams[t]?[]:Object.entries(Ce.teams[t]).filter(([,de])=>de.includes(M)).map(([de])=>{const De=c.find(je=>je.email===de);return(De==null?void 0:De.name)||de})},[M,t,O,w,c]);V.useEffect(()=>{i&&t&&!["Absence","All"].includes(i)&&n(ld({teamName:t,positionName:i}))},[i,t,n]),V.useEffect(()=>{t&&(n(ud(t)),n(od(t)))},[t,n]);const at=V.useCallback((ue,ve)=>{const Ce=ue,de=O[Ce]||w[Ce];return!!(de&&de.absence&&de.absence[ve])},[O,w]),bt=V.useCallback((ue,ve)=>{var De,je;const Ce=ue,de=O[Ce]||w[Ce];return((je=(De=de==null?void 0:de.absence)==null?void 0:De[ve])==null?void 0:je.reason)||""},[O,w]),Ye=V.useCallback((ue,ve)=>{if(!t||!i||i==="Absence")return!1;if(at(ue,ve))return!0;const Ce=ue,de=O[Ce]||w[Ce],De=ie.find(mn=>mn.name===t),je=(De==null?void 0:De.maxConflict)||1;if(!de||!de.teams[t]||!de.teams[t][ve])return!1;const ln=de.teams[t][ve],Et=G.filter(mn=>mn.parentId===i),St=[i,...Et.map(mn=>mn.name)];return ln.some(mn=>St.includes(mn))?!1:ln.length>=je},[t,i,at,O,w,ie,G]),vt=V.useCallback((ue,ve,Ce,de)=>{if(!t||!i||i==="Absence"||Ye(ue,ve)){C({row:Ce,col:de,table:"roster"});return}C({row:Ce,col:de,table:"roster"});const De=ie.find(St=>St.name===t),je=(De==null?void 0:De.maxConflict)||1,ln=G.filter(St=>St.parentId===i),Et=[i,...ln.map(St=>St.name)];n(pU({date:ue,teamName:t,userIdentifier:ve,positionGroupNames:Et,maxConflict:je}))},[n,t,i,Ye,ie,G]),Mt=V.useCallback((ue,ve,Ce,de)=>{C({row:Ce,col:de,table:"absence"});const De=at(ue,ve);n(tA({date:ue,userIdentifier:ve,isAbsent:!De}))},[n,at]),Qn=V.useCallback((ue,ve,Ce)=>{n(tA({date:ue,userIdentifier:ve,reason:Ce,isAbsent:!0}))},[n]),dn=V.useCallback(()=>{L&&n(Sc(O)),ee&&n(W_(G))},[n,O,G,L,ee]),sr=()=>{if(!z||!i)return;const ue=z.customLabels||[];n(kf({positionName:i,labels:[...ue,""]}))},Xn=(ue,ve)=>{if(!z||!i)return;const Ce=[...z.customLabels||[]];Ce[ue]=ve,n(kf({positionName:i,labels:Ce}))},Pt=(ue,ve)=>{if(!z||!i)return;const Ce=[...z.customLabels||[]],de=ve==="left"?ue-1:ue+1;if(de<0||de>=Ce.length)return;const De=Ce[ue];Ce[ue]=Ce[de],Ce[de]=De,n(kf({positionName:i,labels:Ce}))},Wt=ue=>{if(!z||!i||!window.confirm("Remove this column?"))return;const ve=[...z.customLabels||[]];ve.splice(ue,1),n(kf({positionName:i,labels:ve}))},Vt=V.useCallback(()=>{L&&n(HC()),ee&&(n(Fj()),n(Ll())),C(null)},[n,L,ee]),or=(ue,ve)=>{const Ce=ue.split("T")[0],de=O[Ce]||w[Ce];if(!de||!t||!de.teams[t])return[];let De=de.teams[t][ve]||[];if(De.length===0){const je=ve.trim(),ln=Object.keys(de.teams[t]).find(Et=>Et.trim()===je);ln&&(De=de.teams[t][ln])}return De},di=(ue,ve)=>{const Ce=or(ue,ve);return Ce.length===0?"":T.jsx("div",{className:Dt.assignedPositions,children:Ce.map(de=>{const De=G.find(je=>je.name===de);return T.jsx("span",{className:Dt.posEmoji,onClick:je=>{je.stopPropagation(),e(`/app/roster/${t}/${de}`)},title:de,style:{cursor:"pointer"},children:(De==null?void 0:De.emoji)||""},de)})})},qt=(ue,ve)=>{const Ce=ue.split("T")[0],de=O[Ce]||w[Ce];if(!de||!t)return"";const De=Object.entries(de.teams[t]||{}).filter(([,je])=>je.includes(ve));return T.jsx("div",{className:Dt.assignedUsersText,children:De.map(([je],ln)=>{const Et=pe.find(mn=>mn.email===je),St=je===(s==null?void 0:s.email),xt=Et?Et.name:je;return T.jsxs(V.Fragment,{children:[T.jsx("span",{className:St?Dt.isMe:"",children:xt}),St&&T.jsx("span",{className:Dt.meTag,children:"Me"}),ln<De.length-1?", ":""]},je)})})},lr=(ue,ve)=>{var ln;const Ce=ue,de=O[Ce]||w[Ce];if(!de||!t)return"";const De=((ln=de.teams[t])==null?void 0:ln[ve])||[],je=[];return Object.entries(de.teams).forEach(([Et,St])=>{Et!==t&&St[ve]&&je.push({team:Et,positions:St[ve]})}),De.length===0&&je.length===0?"":T.jsxs("div",{className:Dt.assignedPositions,children:[De.map(Et=>{const St=G.find(xt=>xt.name===Et);return T.jsx("span",{title:`${t}: ${Et}`,className:Dt.posEmoji,children:(St==null?void 0:St.emoji)||""},Et)}),je.map(Et=>Et.positions.map(St=>{const xt=G.find(mn=>mn.name===St);return T.jsx("span",{title:`${Et.team}: ${St}`,className:`${Dt.posEmoji} ${Dt.otherTeamEmoji}`,children:(xt==null?void 0:xt.emoji)||""},`${Et.team}-${St}`)}))]})};V.useEffect(()=>{const ue=ve=>{const Ce=ve.target;if(Ce.tagName==="INPUT"||Ce.tagName==="TEXTAREA"||!I)return;const{row:de,col:De,table:je}=I,ln=f;let Et=[];switch(je==="roster"?Et=j:je==="absence"?Et=c:je==="all"&&(Et=A==="user"?Ee:(m==null?void 0:m.positions)||[]),ve.key){case"ArrowUp":ve.preventDefault(),de>0&&C({row:de-1,col:De,table:je});break;case"ArrowDown":ve.preventDefault(),de<ln.length-1&&C({row:de+1,col:De,table:je});break;case"ArrowLeft":ve.preventDefault(),De>0&&C({row:de,col:De-1,table:je});break;case"ArrowRight":ve.preventDefault(),De<Et.length-1&&C({row:de,col:De+1,table:je});break;case"Tab":ve.preventDefault(),ve.shiftKey?de>0&&C({row:de-1,col:De,table:je}):de<ln.length-1&&C({row:de+1,col:De,table:je});break;case" ":{if(ve.preventDefault(),je==="all")break;const St=f[de],xt=Et[De];xt!=null&&xt.email&&(je==="roster"?vt(St,xt.email,de,De):Mt(St,xt.email,de,De));break}case"Enter":x&&(ve.preventDefault(),dn());break;case"Escape":x&&(ve.preventDefault(),Vt());break}};return window.addEventListener("keydown",ue),()=>window.removeEventListener("keydown",ue)},[I,f,j,c,x,vt,Mt,dn,Vt,A,Ee,m==null?void 0:m.positions]);const Yr=V.useMemo(()=>{const ue=jl();return f.length===0?!1:f[0]<ue},[f]),Wn=V.useMemo(()=>{const ue=jl();return f.find(ve=>ve.split("T")[0]>=ue)},[f]),Jt=V.useMemo(()=>{if(!Wn||!t||!i)return[];const ue=Wn.split("T")[0],ve=O[ue]||w[ue];if(!ve||!ve.teams[t])return[];const Ce=G.filter(De=>De.parentId===i),de=[i,...Ce.map(De=>De.name)];return Object.entries(ve.teams[t]).filter(([,De])=>De.some(je=>de.includes(je))).map(([De])=>De)},[Wn,t,i,O,w,G]),bn=V.useCallback(ue=>{const ve=jl(),Ce=ue.split("T")[0];return Ce<ve?"past-date":Ce===ve?"today-date":"future-date"},[]);if(p||y||v||P&&!F)return T.jsx(su,{});const xi=S||B;return xi?T.jsxs("div",{className:Dt.rosterTableError,children:["Error: ",xi]}):Te?T.jsxs("div",{className:Dt.rosterTableWrapper,children:[T.jsx(ey,{isAllView:Te,isAbsenceView:ge,rosterAllViewMode:A,hiddenUserList:ye,allUsers:l,onToggleVisibility:_e}),T.jsxs("div",{className:Dt.rosterSection,children:[T.jsx("div",{className:Dt.rosterTableContainer,children:T.jsxs("table",{className:Dt.rosterTable,children:[T.jsx(Jg,{viewType:"all",rosterAllViewMode:A,allViewColumns:Ee,userData:s,assignedOnClosestDate:Jt,currentTeamData:m,teamName:t,navigate:e,hasPastDates:Yr,onLoadPrevious:we,onResetDates:le,peekPositionName:M,setPeekPositionName:D,peekOptions:se,sortedUsers:[],genderDividerIndex:-1,onToggleVisibility:()=>{},handleUpdateCustomLabel:()=>{},handleMoveCustomLabel:()=>{},handleRemoveCustomLabel:()=>{},handleAddCustomLabel:()=>{},allTeamUsers:[]}),T.jsx("tbody",{children:f.map((ue,ve)=>{var Ce;return T.jsx(Zg,{viewType:"all",dateString:ue,rowIndex:ve,rowClass:bn(ue),isToday:bn(ue)==="today-date",hasData:ze(ue),eventName:(Ce=O[ue.split("T")[0]]||w[ue.split("T")[0]])==null?void 0:Ce.eventName,closestNextDate:Wn,onDateClick:xe,focusedCell:I,setFocusedCell:C,rosterAllViewMode:A,allViewColumns:Ee,assignedOnClosestDate:Jt,currentTeamData:m,getAllViewUserCellContent:di,getAllViewPositionCellContent:qt,getAssignmentsForIdentifier:or,navigate:e,teamName:t,sortedUsers:[],genderDividerIndex:-1,isCellDisabled:()=>!1,isUserAbsent:at,getAbsenceReason:bt,getPeekAssignedUsers:()=>[],handleCellClick:()=>{},getCellContent:()=>null,allTeamUsers:[],handleAbsenceClick:()=>{},handleAbsenceReasonChange:()=>{}},ue)})})]})}),T.jsx("div",{className:Dt.loadMoreFooter,children:T.jsx("button",{className:Dt.loadNextYearBtn,onClick:Se,children:"Load Next Year "})})]})]}):!ge&&!(z!=null&&z.isCustom)&&j.length===0?T.jsxs("div",{className:Dt.rosterTableWrapper,children:[T.jsx(ey,{isAllView:Te,isAbsenceView:ge,rosterAllViewMode:A,hiddenUserList:ye,allUsers:l,onToggleVisibility:_e}),T.jsx("div",{className:Dt.rosterTableLoading,children:"No users found for this position."})]}):T.jsxs("div",{className:Dt.rosterTableWrapper,children:[T.jsx(ey,{isAllView:Te,isAbsenceView:ge,rosterAllViewMode:A,hiddenUserList:ye,allUsers:l,onToggleVisibility:_e}),ge?T.jsxs("div",{className:Dt.rosterSection,children:[T.jsx("div",{className:Dt.rosterTableContainer,children:T.jsxs("table",{className:`${Dt.rosterTable} ${Dt.absenceTable}`,children:[T.jsx(Jg,{viewType:"absence",allTeamUsers:c,userData:s,assignedOnClosestDate:Jt,currentTeamData:m,teamName:t,navigate:e,hasPastDates:Yr,onLoadPrevious:we,onResetDates:le,peekPositionName:M,setPeekPositionName:D,peekOptions:se,allViewColumns:[],sortedUsers:[],genderDividerIndex:-1,onToggleVisibility:()=>{},handleUpdateCustomLabel:()=>{},handleMoveCustomLabel:()=>{},handleRemoveCustomLabel:()=>{},handleAddCustomLabel:()=>{}}),T.jsx("tbody",{children:f.map((ue,ve)=>{var Ce;return T.jsx(Zg,{viewType:"absence",dateString:ue,rowIndex:ve,rowClass:bn(ue),isToday:bn(ue)==="today-date",hasData:ze(ue),eventName:(Ce=O[ue.split("T")[0]]||w[ue.split("T")[0]])==null?void 0:Ce.eventName,closestNextDate:Wn,onDateClick:xe,focusedCell:I,setFocusedCell:C,allTeamUsers:c,handleAbsenceClick:Mt,handleAbsenceReasonChange:Qn,isUserAbsent:at,getAbsenceReason:bt,getPeekAssignedUsers:Be,allViewColumns:[],assignedOnClosestDate:Jt,currentTeamData:m,getAllViewUserCellContent:()=>null,getAllViewPositionCellContent:()=>null,getAssignmentsForIdentifier:()=>[],navigate:e,teamName:t,sortedUsers:[],genderDividerIndex:-1,handleCellClick:()=>{},getCellContent:()=>null,isCellDisabled:()=>!1},ue)})})]})}),T.jsx("div",{className:Dt.loadMoreFooter,children:T.jsx("button",{className:Dt.loadNextYearBtn,onClick:Se,children:"Load Next Year "})})]}):T.jsxs("div",{className:Dt.rosterSection,children:[T.jsx("div",{className:Dt.rosterTableContainer,children:T.jsxs("table",{className:Dt.rosterTable,children:[T.jsx(Jg,{viewType:"roster",userData:s,assignedOnClosestDate:Jt,currentTeamData:m,teamName:t,navigate:e,hasPastDates:Yr,onLoadPrevious:we,onResetDates:le,currentPosition:z,handleUpdateCustomLabel:Xn,handleMoveCustomLabel:Pt,handleRemoveCustomLabel:Wt,handleAddCustomLabel:sr,sortedUsers:j,genderDividerIndex:re,onToggleVisibility:_e,peekPositionName:M,setPeekPositionName:D,peekOptions:se,allViewColumns:[],allTeamUsers:[]}),T.jsx("tbody",{children:f.map((ue,ve)=>{var Ce;return T.jsx(Zg,{viewType:"roster",dateString:ue,rowIndex:ve,rowClass:bn(ue),isToday:bn(ue)==="today-date",hasData:ze(ue),eventName:(Ce=O[ue.split("T")[0]]||w[ue.split("T")[0]])==null?void 0:Ce.eventName,closestNextDate:Wn,onDateClick:xe,focusedCell:I,setFocusedCell:C,currentPosition:z,handleCellClick:vt,getCellContent:lr,sortedUsers:j,genderDividerIndex:re,isCellDisabled:Ye,isUserAbsent:at,getAbsenceReason:bt,getPeekAssignedUsers:Be,allViewColumns:[],assignedOnClosestDate:Jt,currentTeamData:m,getAllViewUserCellContent:()=>null,getAllViewPositionCellContent:()=>null,getAssignmentsForIdentifier:()=>[],navigate:e,teamName:t,allTeamUsers:[],handleAbsenceClick:()=>{},handleAbsenceReasonChange:()=>{}},ue)})})]})}),T.jsx("div",{className:Dt.loadMoreFooter,children:T.jsx("button",{className:Dt.loadNextYearBtn,onClick:Se,children:"Load Next Year "})})]}),x&&T.jsx(ou,{onSave:dn,onCancel:Vt,isSaving:H,saveText:"Save Roster"})]})},Y9="_rosterPage_z6eme_1",Q9={rosterPage:Y9},X9=()=>T.jsx("div",{className:Q9.rosterPage,children:T.jsx(K9,{})}),W9="_appTableContainer_1bvz5_1",J9="_appTable_1bvz5_1",Z9="_colorPickerGroup_1bvz5_44",e5="_stickyCol_1bvz5_54",kc={appTableContainer:W9,appTable:J9,colorPickerGroup:Z9,stickyCol:e5},t5=({text:n,textAlign:e="left",width:t,minWidth:i,isSticky:s=!1})=>T.jsx("th",{className:s?kc.stickyCol:void 0,style:{textAlign:e,width:t?`${t}px`:"auto",minWidth:i?`${i}px`:"auto"},children:n}),cn=({isSticky:n=!1,textAlign:e="left",className:t,children:i})=>T.jsx("td",{style:{textAlign:e,display:e==="center"?"table-cell":void 0},className:`${t||""} ${n?kc.stickyCol:""}
`,children:T.jsx("div",{style:{display:"flex",justifyContent:e==="center"?"center":e==="right"?"flex-end":"flex-start",alignItems:"center",gap:"8px",height:"100%"},children:i})}),ui=({name:n,value:e,placeholder:t,type:i="text",isSticky:s,isReadOnly:l=!1,isChild:c=!1,onChange:f})=>T.jsxs(cn,{isSticky:s,children:[c&&T.jsx(MC,{}),T.jsx("input",{name:n,className:Aa.formInput,type:i,placeholder:t,value:e,onChange:f,readOnly:l})]}),KC=({name:n,value:e,placeholder:t,onChange:i})=>T.jsxs(cn,{className:kc.colorPickerGroup,children:[T.jsx("input",{name:n,type:"color",className:Aa.colorInput,value:e||"#FFFFFF",onChange:i}),T.jsx("input",{name:n,className:Aa.formInput,value:e,placeholder:t,onChange:i})]}),ev=({headers:n,children:e})=>T.jsx("div",{className:kc.appTableContainer,children:T.jsxs("table",{className:kc.appTable,children:[T.jsx("thead",{children:T.jsx("tr",{children:n.map((t,i)=>T.jsx(t5,{...t},i))})}),T.jsx("tbody",{children:e})]})}),n5=({position:n,index:e,onUpdate:t,onMove:i,onDelete:s,onAddChild:l,isFirst:c,isLast:f})=>T.jsxs("tr",{children:[T.jsx(ui,{name:`name-${e}`,value:n.name,onChange:m=>t(e,"name",m.target.value),isSticky:!0}),T.jsx(cn,{textAlign:"center",children:n.parentId?T.jsx(MC,{}):T.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[T.jsx(dr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>i(e,"up"),disabled:c,children:""}),T.jsx(dr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>i(e,"down"),disabled:f,children:""})]})}),T.jsx(ui,{name:`emoji-${e}`,value:n.emoji,onChange:m=>t(e,"emoji",m.target.value)}),T.jsx(KC,{name:`colour-${e}`,value:n.colour,onChange:m=>t(e,"colour",m.target.value)}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:n.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:n.sortByGender,onClick:()=>t(e,"sortByGender",!n.sortByGender),isDisabled:n.isCustom,children:n.sortByGender?"YES":"NO"})}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:n.isCustom?"var(--color-success-dark)":"var(--color-text-dim)",isActive:n.isCustom,onClick:()=>t(e,"isCustom",!n.isCustom),children:n.isCustom?"YES":"NO"})}),T.jsx(cn,{textAlign:"center",children:!n.parentId&&T.jsxs(dr,{variant:"secondary",size:"small",onClick:()=>l(n.name),title:"Add Child Position",children:[T.jsx(sh,{size:14,style:{marginRight:"4px"}}),"Add"]})}),T.jsx(cn,{textAlign:"center",children:T.jsxs(dr,{variant:"delete",size:"small",onClick:()=>s(e),children:[T.jsx(PC,{size:14,style:{marginRight:"4px"}}),"Delete"]})})]}),r5="_settingsContainer_gfw12_1",i5="_managementWrapper_gfw12_13",Ul={settingsContainer:r5,managementWrapper:i5},ty={name:"",emoji:"",colour:"",parentId:void 0,sortByGender:!1},a5=()=>{const n=xr(),{positions:e,loading:t}=tt(F=>F.positions),[i,s]=V.useState(e),[l,c]=V.useState(ty),[f,m]=V.useState("idle"),p=V.useMemo(()=>JSON.stringify((B=>B.map(G=>({name:G.name||"",emoji:G.emoji||"",colour:G.colour||"",parentId:G.parentId||void 0,sortByGender:!!G.sortByGender,isCustom:!!G.isCustom})))(e)),[e]);V.useEffect(()=>{s(e)},[e]);const y=(F,B,G)=>{const ee=[...i];ee[F]={...ee[F],[B]:G},s(ee)},v=(F,B)=>{const G=[...i],ee=G[F],ie=ee.parentId,ne=A=>{const I=G[A];if(!I)return{block:[],startIndex:-1,endIndex:-1};const C=[],M=[I],D=new Set;let L=A,x=A,ge=0;for(;ge<M.length;){const z=M[ge++];D.has(z.name)||(D.add(z.name),C.push(z),G.forEach((se,ye)=>{se.parentId===z.name&&!D.has(se.name)&&(M.push(se),L=Math.min(L,ye),x=Math.max(x,ye))}))}return{block:C,startIndex:L,endIndex:x}};if(ie){const A=G.filter(ge=>ge.parentId===ie),C=A.findIndex(ge=>ge.name===ee.name)+(B==="up"?-1:1);if(C<0||C>=A.length)return;const M=A[C],D=G.indexOf(ee),L=G.indexOf(M);if(D===-1||L===-1)return;const x=[...G];x[D]=M,x[L]=ee,s(x)}else{const A=ne(F),{block:I,startIndex:C,endIndex:M}=A;if(!I||I.length===0)return;if(B==="up"){if(C===0)return;let D=C-1;for(;D>=0&&G[D].parentId;)D--;if(D<0)return;const L=ne(D),{block:x,startIndex:ge}=L;if(!x||x.length===0)return;const Te=[...G.slice(0,ge),...I,...x,...G.slice(M+1)].filter(Boolean);s(Te)}else{if(M===G.length-1)return;let D=M+1;for(;D<G.length&&G[D].parentId;)D++;if(D>=G.length)return;const L=ne(D),{block:x,startIndex:ge}=L;if(!x||x.length===0)return;const Te=[...G.slice(0,C),...x,...I,...G.slice(ge+x.length)].filter(Boolean);s(Te)}}},S=()=>{if(!l.name.trim()||!l.emoji.trim())return alert("Please provide both an emoji and a name.");s([...i,l]),c(ty)},w=F=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const B=i[F];let G=i.filter((ee,ie)=>ie!==F);B.parentId||(G=G.filter(ee=>ee.parentId!==B.name)),s(G)}},O=async()=>{m("saving");try{const F=i.map(B=>{const G={name:B.name||"",emoji:B.emoji||"",colour:B.colour||"",sortByGender:!!B.sortByGender,isCustom:!!B.isCustom,customLabels:B.customLabels||[]};return B.parentId&&(G.parentId=B.parentId),G});await n(W_(F)).unwrap(),m("success"),setTimeout(()=>m("idle"),2e3)}catch(F){console.error("Save Error:",F),alert("Error saving: "+(F instanceof Error?F.message:"Unknown error")),m("idle")}},H=F=>{s(B=>{const G={...ty,parentId:F},ee=B.findIndex(A=>A.name===F);if(ee===-1)return[...B,G];let ie=ee;for(;ie+1<B.length&&B[ie+1].parentId===F;)ie++;return[...B.slice(0,ie+1),G,...B.slice(ie+1)]})},P=()=>{s(e)};return t?T.jsx(su,{}):T.jsxs("div",{className:Ul.managementWrapper,children:[T.jsxs(ev,{headers:[{text:"Name",minWidth:80,width:200,textAlign:"center",isSticky:!0},{text:"Order",width:30,textAlign:"center"},{text:"Emoji",width:30,textAlign:"center"},{text:"Colour",minWidth:100,textAlign:"center"},{text:"Sort by Gender",width:100,textAlign:"center"},{text:"Custom Headings",width:100,textAlign:"center"},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[i.map((F,B)=>T.jsx(n5,{position:F,index:B,onUpdate:y,onMove:v,onDelete:w,onAddChild:H,isFirst:B===0,isLast:B===i.length-1},`${F.emoji}-${B}`)),T.jsxs("tr",{className:"pos-row-new",children:[T.jsx(ui,{name:"new-name",value:l.name,placeholder:"Position Name",onChange:F=>c({...l,name:F.target.value}),isSticky:!0}),T.jsx(cn,{textAlign:"center",children:""}),T.jsx(ui,{name:"new-emoji",value:l.emoji,placeholder:"",onChange:F=>c({...l,emoji:F.target.value})}),T.jsx(KC,{name:"new-colour",value:l.colour,placeholder:"#FFFFFF",onChange:F=>c({...l,colour:F.target.value})}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:l.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:l.sortByGender,onClick:()=>c({...l,sortByGender:!l.sortByGender}),isDisabled:l.isCustom,children:l.sortByGender?"YES":"NO"})}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:l.isCustom?"var(--color-success-dark)":"var(--color-text-dim)",isActive:l.isCustom,onClick:()=>c({...l,isCustom:!l.isCustom}),children:l.isCustom?"YES":"NO"})}),T.jsx(cn,{textAlign:"center",children:T.jsxs(dr,{onClick:S,disabled:!l.name.trim()||!l.emoji.trim(),children:[T.jsx(sh,{size:16,style:{marginRight:"6px"}}),"Add"]})}),T.jsx(cn,{textAlign:"center",children:""})]})]}),p&&T.jsx(ou,{label:"Unsaved position changes",saveText:"Save Positions",onSave:O,onCancel:P,isSaving:f==="saving"})]})},s5="_modalOverlay_ah937_1",o5="_modalContent_ah937_16",l5="_modalHeader_ah937_34",u5="_closeButton_ah937_48",c5="_modalBody_ah937_64",h5="_modalFooter_ah937_70",vl={modalOverlay:s5,modalContent:o5,modalHeader:l5,closeButton:u5,modalBody:c5,modalFooter:h5},YC=({isOpen:n,onClose:e,title:t,children:i,footer:s})=>{if(V.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),!n)return null;const l=T.jsx("div",{className:vl.modalOverlay,onClick:e,children:T.jsxs("div",{className:vl.modalContent,onClick:c=>c.stopPropagation(),children:[T.jsxs("div",{className:vl.modalHeader,children:[T.jsx("h2",{children:t}),T.jsx("button",{className:vl.closeButton,onClick:e,"aria-label":"Close",children:T.jsx(J_,{size:24})})]}),T.jsx("div",{className:vl.modalBody,children:i}),s&&T.jsx("div",{className:vl.modalFooter,children:s})]})});return BA.createPortal(l,document.body)},f5=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],QC=({isOpen:n,onClose:e,team:t,availablePositions:i,onTogglePosition:s,onToggleDay:l,onToggleAllowAbsence:c})=>{var f;return T.jsxs(YC,{isOpen:n,onClose:e,title:`Edit Team: ${t.name}`,children:[T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Allowed Positions"}),T.jsx(kl,{children:(f=i==null?void 0:i.filter(m=>!m.parentId))==null?void 0:f.map(m=>{var y;const p=(y=t.positions)==null?void 0:y.some(v=>v.name===m.name);return T.jsxs(Ir,{colour:m.colour,isActive:p,onClick:()=>s(m),children:[m.emoji," ",m.name]},m.name)})})]}),T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Preferred Days"}),T.jsx(kl,{children:f5.map(m=>{var y;const p=(y=t.preferredDays)==null?void 0:y.includes(m);return T.jsx(Ir,{isActive:p,onClick:()=>l(m),children:m},m)})})]}),T.jsxs("div",{className:Nn.formGroup,children:[T.jsx("label",{className:Nn.sectionLabel,children:"Feature Settings"}),T.jsx(kl,{children:T.jsxs(Ir,{isActive:t.allowAbsence!==!1,onClick:()=>c(t.allowAbsence===!1),colour:t.allowAbsence!==!1?"var(--color-success-dark)":"var(--color-text-dim)",children:["Allow Absence: ",t.allowAbsence!==!1?"YES":"NO"]})})]})]})},tv=({primaryText:n,secondaryText:e,onClick:t})=>T.jsxs("button",{className:Nn.summaryButton,onClick:t,type:"button",children:[T.jsx("span",{className:Nn.summaryPrimary,children:n}),e&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:Nn.summarySeparator,children:""}),T.jsx("span",{className:Nn.summarySecondary,children:e})]})]}),d5=({team:n,teamIndex:e,availablePositions:t,onUpdate:i,onMove:s,onDelete:l,onTogglePosition:c,onToggleDay:f,onToggleAllowAbsence:m,isFirst:p,isLast:y})=>{var H;const[v,S]=V.useState(!1),w=()=>{if(!n.positions||n.positions.length===0)return"No positions";const P=n.positions.slice(0,3).map(B=>T.jsx("span",{className:Nn.summaryEmoji,children:B.emoji},B.name)),F=n.positions.length-3;return T.jsxs(T.Fragment,{children:[P,F>0&&T.jsxs("span",{className:Nn.remainingCount,children:["+",F]})]})},O=()=>!n.preferredDays||n.preferredDays.length===0?"No days":n.preferredDays.map(P=>P.substring(0,3)).join(", ");return T.jsxs(T.Fragment,{children:[T.jsxs("tr",{children:[T.jsx(ui,{name:`team-name-${e}`,value:n.name,onChange:P=>i(e,"name",P.target.value),isSticky:!0}),T.jsx(cn,{children:T.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[T.jsx(dr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(e,"up"),disabled:p,children:""}),T.jsx(dr,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(e,"down"),disabled:y,children:""})]})}),T.jsx(ui,{name:`team-emoji-${e}`,value:n.emoji,onChange:P=>i(e,"emoji",P.target.value)}),T.jsx(ui,{name:`team-maxConflict-${e}`,value:((H=n.maxConflict)==null?void 0:H.toString())||"1",type:"number",onChange:P=>i(e,"maxConflict",parseInt(P.target.value)||1)}),T.jsx(cn,{children:T.jsx(tv,{primaryText:w(),secondaryText:O(),onClick:()=>S(!0)})}),T.jsx(cn,{children:T.jsxs(dr,{variant:"delete",size:"small",onClick:()=>l(e),children:[T.jsx(PC,{size:14,style:{marginRight:"6px"}}),"Delete"]})})]}),T.jsx(QC,{isOpen:v,onClose:()=>S(!1),team:n,availablePositions:t,onTogglePosition:P=>c(e,P),onToggleDay:P=>f(e,P),onToggleAllowAbsence:P=>m(e,P)})]})},nA={name:"",emoji:"",positions:[],preferredDays:[],maxConflict:1,allowAbsence:!0},m5=()=>{var L;const n=xr(),{teams:e,loading:t}=tt(x=>x.teams),{positions:i,loading:s}=tt(x=>x.positions),[l,c]=V.useState(e),[f,m]=V.useState(nA),[p,y]=V.useState("idle"),[v,S]=V.useState(!1),w=V.useMemo(()=>{const x=ge=>ge.map(Te=>({name:Te.name||"",emoji:Te.emoji||"",positions:(Te.positions||[]).map(z=>z.name).sort(),preferredDays:[...Te.preferredDays||[]].sort(),maxConflict:Te.maxConflict||1,allowAbsence:Te.allowAbsence!==!1}));return JSON.stringify(x(l))!==JSON.stringify(x(e))},[l,e]);V.useEffect(()=>{c(e)},[e]);const O=(x,ge,Te)=>{const z=[...l];z[x]={...z[x],[ge]:Te},c(z)},H=(x,ge)=>{const Te=[...l],z=ge==="up"?x-1:x+1;if(z<0||z>=Te.length)return;const se=Te[x];Te[x]=Te[z],Te[z]=se,c(Te)},P=(x,ge)=>{const Te=l.map((z,se)=>{if(se!==x)return z;const ye=z.positions||[],pe=ye.find(Ee=>Ee.name===ge.name)?ye.filter(Ee=>Ee.name!==ge.name):[...ye,ge];return{...z,positions:pe}});c(Te)},F=(x,ge)=>{const Te=l.map((z,se)=>{if(se!==x)return z;const ye=z.preferredDays||[],pe=ye.includes(ge)?ye.filter(Ee=>Ee!==ge):[...ye,ge];return{...z,preferredDays:pe}});c(Te)},B=(x,ge)=>{const Te=l.map((z,se)=>se!==x?z:{...z,allowAbsence:ge});c(Te)},G=x=>{const ge=f.positions||[],Te=ge.some(z=>z.name===x.name)?ge.filter(z=>z.name!==x.name):[...ge,x];m({...f,positions:Te})},ee=x=>{const ge=f.preferredDays||[],Te=ge.includes(x)?ge.filter(z=>z!==x):[...ge,x];m({...f,preferredDays:Te})},ie=x=>{m({...f,allowAbsence:x})},ne=()=>{if(!f.name.trim()||!f.emoji.trim())return alert("Please provide both an emoji and a name for the team.");c([...l,f]),m(nA)},A=x=>{window.confirm("Are you sure you want to delete this team?")&&c(l.filter((ge,Te)=>Te!==x))},I=async()=>{y("saving");try{const x=l.map(ge=>({name:ge.name||"",emoji:ge.emoji||"",maxConflict:ge.maxConflict||1,allowAbsence:ge.allowAbsence!==!1,preferredDays:ge.preferredDays||[],positions:(ge.positions||[]).map(Te=>({name:Te.name||"",emoji:Te.emoji||"",colour:Te.colour||"",sortByGender:!!Te.sortByGender,isCustom:!!Te.isCustom,customLabels:Te.customLabels||[],...Te.parentId?{parentId:Te.parentId}:{}}))}));await n(nd(x)).unwrap(),y("success"),setTimeout(()=>y("idle"),2e3)}catch(x){console.error("Save Error:",x),alert("Error saving: "+(x instanceof Error?x.message:"Unknown error")),y("idle")}},C=()=>{c(e)};if(t||s)return T.jsx(su,{});const M=()=>{if(!f.positions||f.positions.length===0)return"No positions";const x=f.positions.slice(0,3).map(Te=>T.jsx("span",{className:Ul.summaryEmoji,children:Te.emoji},Te.name)),ge=f.positions.length-3;return T.jsxs(T.Fragment,{children:[x,ge>0&&T.jsxs("span",{className:Ul.remainingCount,children:["+",ge]})]})},D=()=>!f.preferredDays||f.preferredDays.length===0?"No days":f.preferredDays.map(x=>x.substring(0,3)).join(", ");return T.jsxs("div",{className:Ul.managementWrapper,children:[T.jsxs(ev,{headers:[{text:"Name",minWidth:100,width:120,textAlign:"center",isSticky:!0},{text:"Order",width:30,textAlign:"center"},{text:"Emoji",width:30,textAlign:"center"},{text:"Conflicts",width:60,textAlign:"center"},{text:"Config",minWidth:180,textAlign:"center"},{text:"",width:50}],children:[l.map((x,ge)=>T.jsx(d5,{team:x,teamIndex:ge,availablePositions:i,onUpdate:O,onMove:H,onDelete:A,onTogglePosition:P,onToggleDay:F,onToggleAllowAbsence:B,isFirst:ge===0,isLast:ge===l.length-1},`${x.emoji}-${ge}`)),T.jsxs("tr",{className:"team-row-new",children:[T.jsx(ui,{name:"new-team-name",value:f.name,placeholder:"Team Name",onChange:x=>m({...f,name:x.target.value}),isSticky:!0}),T.jsx(cn,{children:""}),T.jsx(ui,{name:"new-team-emoji",value:f.emoji,placeholder:"",onChange:x=>m({...f,emoji:x.target.value})}),T.jsx(ui,{name:"new-team-maxConflict",value:((L=f.maxConflict)==null?void 0:L.toString())||"1",type:"number",onChange:x=>m({...f,maxConflict:parseInt(x.target.value)||1})}),T.jsx(cn,{children:T.jsx(tv,{primaryText:M(),secondaryText:D(),onClick:()=>S(!0)})}),T.jsx(cn,{children:T.jsxs(dr,{onClick:ne,disabled:!f.name.trim()||!f.emoji.trim(),children:[T.jsx(sh,{size:16,style:{marginRight:"6px"}}),"Add"]})})]})]}),T.jsx(QC,{isOpen:v,onClose:()=>S(!1),team:f,availablePositions:i,onTogglePosition:G,onToggleDay:ee,onToggleAllowAbsence:ie}),w&&T.jsx(ou,{label:"Unsaved team changes",saveText:"Save All Team Changes",onSave:I,onCancel:C,isSaving:p==="saving"})]})},p5=({isOpen:n,onClose:e,user:t,availableTeams:i})=>{const s=xr(),{positions:l}=tt(p=>p.positions),c=p=>{s(bU({userId:t.id,teamName:p}))},f=(p,y)=>{s(SU({userId:t.id,teamName:p,posName:y}))},m=(p,y)=>{s(AU({userId:t.id,teamName:p,direction:y}))};return T.jsx(YC,{isOpen:n,onClose:e,title:`Edit Assignments: ${t.name}`,children:T.jsx(GC,{selectedTeams:t.teams||[],teamPositions:t.teamPositions||{},onToggleTeam:c,onTogglePosition:f,onMoveTeam:m,availableTeams:i,globalPositions:l})})},g5=({user:n,availableTeams:e,adminEmail:t})=>{const i=xr(),{positions:s}=tt(y=>y.positions),[l,c]=V.useState(!1),f=(y,v)=>{i(TU({id:n.id,field:y,value:v}))},m=()=>{if(!n.teams||n.teams.length===0)return"No teams";const y=n.teams.map(w=>{const O=e.find(H=>H.name===w);return(O==null?void 0:O.emoji)||""}).filter(Boolean),v=y.slice(0,3).map((w,O)=>T.jsx("span",{className:Nn.summaryEmoji,children:w},O)),S=y.length-3;return T.jsxs(T.Fragment,{children:[v,S>0&&T.jsxs("span",{className:Nn.remainingCount,children:["+",S]})]})},p=()=>n.teamPositions?Object.entries(n.teamPositions).reduce((y,[,v])=>{const S=v.filter(w=>{const O=s.find(H=>H.name===w);return!(O!=null&&O.isCustom)});return y+S.length},0):0;return T.jsxs(T.Fragment,{children:[T.jsxs("tr",{children:[T.jsx(ui,{name:`name-${n.id}`,value:n.name||"",onChange:y=>f("name",y.target.value),isSticky:!0}),T.jsx(ui,{name:`email-${n.id}`,value:n.email||"",isReadOnly:!0}),T.jsx(cn,{children:T.jsxs("select",{name:`gender-${n.id}`,className:Aa.formSelect,value:n.gender,onChange:y=>f("gender",y.target.value),children:[T.jsx("option",{value:"",children:"-"}),T.jsx("option",{value:"Male",children:"Male"}),T.jsx("option",{value:"Female",children:"Female"})]})}),T.jsx(cn,{children:T.jsx(tv,{primaryText:m(),secondaryText:`(${p()} pos)`,onClick:()=>c(!0)})}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:n.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>f("isActive",!n.isActive),isActive:!0,children:n.isActive?"YES":"NO"})}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:n.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>f("isApproved",!n.isApproved),isActive:!0,children:n.isApproved?"YES":"NO"})}),T.jsx(cn,{textAlign:"center",children:T.jsx(Ir,{colour:n.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>f("isAdmin",!n.isAdmin),isActive:!0,isDisabled:n.email===t,children:n.isAdmin?"YES":"NO"})})]},n.id),T.jsx(p5,{isOpen:l,onClose:()=>c(!1),user:n,availableTeams:e})]})},y5=()=>{const n=xr(),{allUsers:e,originalUsers:t,loading:i,saving:s,error:l}=tt(y=>y.userManagement),c=tt(y=>y.teams.teams),f=V.useMemo(()=>{const y=v=>v.map(S=>({name:S.name||"",gender:S.gender||"",teams:[...S.teams||[]].sort(),teamPositions:Object.keys(S.teamPositions||{}).sort().reduce((w,O)=>{var H;return w[O]=[...((H=S.teamPositions)==null?void 0:H[O])||[]].sort(),w},{}),isActive:!!S.isActive,isApproved:!!S.isApproved,isAdmin:!!S.isAdmin}));return JSON.stringify(y(e))!==JSON.stringify(y(t))},[e,t]),m=()=>{n(ad(e))},p=()=>{n(wU())};return i?T.jsx(su,{}):l?T.jsxs("div",{children:["Error: ",l]}):T.jsxs("div",{className:Ul.managementWrapper,children:[T.jsx(ev,{headers:[{text:"Name",minWidth:70,width:100,textAlign:"center",isSticky:!0},{text:"Email",minWidth:170,textAlign:"center"},{text:"Gender",minWidth:90,textAlign:"center"},{text:"Assignments",minWidth:150,textAlign:"center"},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:e.map(y=>T.jsx(g5,{user:y,availableTeams:c,adminEmail:"chris.sm.kang542@gmail.com"},y.id))}),f&&T.jsx(ou,{label:"Unsaved user changes",saveText:"Save All User Changes",onSave:m,onCancel:p,isSaving:s})]})},_5=()=>{const{userData:n}=tt(t=>t.auth),{section:e}=Hc();return n?T.jsxs("div",{className:Ul.settingsContainer,children:[e===Il.PROFILE&&T.jsx($C,{}),e===Il.USER_MANAGEMENT&&(n.isAdmin?T.jsx(y5,{}):T.jsx("p",{children:"Access Denied"})),e===Il.TEAMS&&(n.isAdmin?T.jsx(m5,{}):T.jsx("p",{children:"Access Denied"})),e===Il.POSITIONS&&(n.isAdmin?T.jsx(a5,{}):T.jsx("p",{children:"Access Denied"}))]}):null},v5=[{path:"/",element:T.jsx(GL,{})},{path:"/login",element:T.jsx(L6,{})},{path:"/guest",element:T.jsx(I6,{})},{path:"/app",element:T.jsx(Qj,{}),children:[{path:"",element:T.jsx(e3,{}),children:[{path:"dashboard",element:T.jsx(G3,{})},{path:"roster/:teamName?/:positionName?",element:T.jsx(X9,{})},{path:"settings/:section?",element:T.jsx(_5,{})}]}]}];let rA=!1;const E5=n=>{if(!rA){rA=!0;let e;AV(Ql,t=>{if(t){n.dispatch(hU(t)),n.dispatch(rd(t.uid));const i=mr(Xt,"users",t.uid);e=fo(i,s=>{if(s.exists()){const l=s.data();n.dispatch(zC(l))}})}else n.dispatch(fU()),e&&e()})}return e=>t=>e(t)},T5=bj({reducer:{auth:dU,positions:Gj,roster:vU,rosterView:m3,teams:Yj,ui:Mk,userManagement:RU},middleware:n=>n({serializableCheck:{ignoredActions:["auth/setUser","roster/fetchEntries/fulfilled","roster/saveChanges/fulfilled"],ignoredPaths:["auth.firebaseUser","roster.entries","roster.dirtyEntries","rosterView.users","rosterView.allTeamUsers"]}}).concat(E5)}),b5=ED(v5);UI.createRoot(document.getElementById("root")).render(T.jsx(aA.StrictMode,{children:T.jsx(ex,{store:T5,children:T.jsx(VD,{children:T.jsx(zL,{children:T.jsx(MD,{router:b5})})})})}));
