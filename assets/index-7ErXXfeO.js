var NC=Object.defineProperty;var OC=(n,e,t)=>e in n?NC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Up=(n,e,t)=>OC(n,typeof e!="symbol"?e+"":e,t);function xC(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function vb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jp={exports:{}},Iu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function MC(){if(kT)return Iu;kT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:a,key:c,ref:o!==void 0?o:null,props:l}}return Iu.Fragment=e,Iu.jsx=t,Iu.jsxs=t,Iu}var UT;function VC(){return UT||(UT=1,jp.exports=MC()),jp.exports}var N=VC(),zp={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function PC(){if(jT)return ze;jT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function G(U,ie,he){this.props=U,this.context=ie,this.refs=L,this.updater=he||P}G.prototype.isReactComponent={},G.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},G.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function q(){}q.prototype=G.prototype;function K(U,ie,he){this.props=U,this.context=ie,this.refs=L,this.updater=he||P}var ee=K.prototype=new q;ee.constructor=K,z(ee,G.prototype),ee.isPureReactComponent=!0;var $=Array.isArray;function re(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(U,ie,he){var _e=he.ref;return{$$typeof:n,type:U,key:ie,ref:_e!==void 0?_e:null,props:he}}function D(U,ie){return R(U.type,ie,U.props)}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function k(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(he){return ie[he]})}var x=/\/+/g;function xe(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?k(""+U.key):ie.toString(36)}function Xe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(re,re):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,ie,he,_e,Ae){var Ne=typeof U;(Ne==="undefined"||Ne==="boolean")&&(U=null);var $e=!1;if(U===null)$e=!0;else switch(Ne){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(U.$$typeof){case n:case e:$e=!0;break;case _:return $e=U._init,W($e(U._payload),ie,he,_e,Ae)}}if($e)return Ae=Ae(U),$e=_e===""?"."+xe(U,0):_e,$(Ae)?(he="",$e!=null&&(he=$e.replace(x,"$&/")+"/"),W(Ae,ie,he,"",function(Ii){return Ii})):Ae!=null&&(O(Ae)&&(Ae=D(Ae,he+(Ae.key==null||U&&U.key===Ae.key?"":(""+Ae.key).replace(x,"$&/")+"/")+$e)),ie.push(Ae)),1;$e=0;var Tt=_e===""?".":_e+":";if($(U))for(var wt=0;wt<U.length;wt++)_e=U[wt],Ne=Tt+xe(_e,wt),$e+=W(_e,ie,he,Ne,Ae);else if(wt=I(U),typeof wt=="function")for(U=wt.call(U),wt=0;!(_e=U.next()).done;)_e=_e.value,Ne=Tt+xe(_e,wt++),$e+=W(_e,ie,he,Ne,Ae);else if(Ne==="object"){if(typeof U.then=="function")return W(Xe(U),ie,he,_e,Ae);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return $e}function fe(U,ie,he){if(U==null)return U;var _e=[],Ae=0;return W(U,_e,"","",function(Ne){return ie.call(he,Ne,Ae++)}),_e}function ye(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(he){(U._status===0||U._status===-1)&&(U._status=1,U._result=he)},function(he){(U._status===0||U._status===-1)&&(U._status=2,U._result=he)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var Me=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:fe,forEach:function(U,ie,he){fe(U,function(){ie.apply(this,arguments)},he)},count:function(U){var ie=0;return fe(U,function(){ie++}),ie},toArray:function(U){return fe(U,function(ie){return ie})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ze.Activity=E,ze.Children=Ve,ze.Component=G,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=K,ze.StrictMode=a,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ze.__COMPILER_RUNTIME={__proto__:null,c:function(U){return S.H.useMemoCache(U)}},ze.cache=function(U){return function(){return U.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(U,ie,he){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var _e=z({},U.props),Ae=U.key;if(ie!=null)for(Ne in ie.key!==void 0&&(Ae=""+ie.key),ie)!w.call(ie,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ie.ref===void 0||(_e[Ne]=ie[Ne]);var Ne=arguments.length-2;if(Ne===1)_e.children=he;else if(1<Ne){for(var $e=Array(Ne),Tt=0;Tt<Ne;Tt++)$e[Tt]=arguments[Tt+2];_e.children=$e}return R(U.type,Ae,_e)},ze.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},ze.createElement=function(U,ie,he){var _e,Ae={},Ne=null;if(ie!=null)for(_e in ie.key!==void 0&&(Ne=""+ie.key),ie)w.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Ae[_e]=ie[_e]);var $e=arguments.length-2;if($e===1)Ae.children=he;else if(1<$e){for(var Tt=Array($e),wt=0;wt<$e;wt++)Tt[wt]=arguments[wt+2];Ae.children=Tt}if(U&&U.defaultProps)for(_e in $e=U.defaultProps,$e)Ae[_e]===void 0&&(Ae[_e]=$e[_e]);return R(U,Ne,Ae)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(U){return{$$typeof:d,render:U}},ze.isValidElement=O,ze.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:ye}},ze.memo=function(U,ie){return{$$typeof:g,type:U,compare:ie===void 0?null:ie}},ze.startTransition=function(U){var ie=S.T,he={};S.T=he;try{var _e=U(),Ae=S.S;Ae!==null&&Ae(he,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(re,Me)}catch(Ne){Me(Ne)}finally{ie!==null&&he.types!==null&&(ie.types=he.types),S.T=ie}},ze.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ze.use=function(U){return S.H.use(U)},ze.useActionState=function(U,ie,he){return S.H.useActionState(U,ie,he)},ze.useCallback=function(U,ie){return S.H.useCallback(U,ie)},ze.useContext=function(U){return S.H.useContext(U)},ze.useDebugValue=function(){},ze.useDeferredValue=function(U,ie){return S.H.useDeferredValue(U,ie)},ze.useEffect=function(U,ie){return S.H.useEffect(U,ie)},ze.useEffectEvent=function(U){return S.H.useEffectEvent(U)},ze.useId=function(){return S.H.useId()},ze.useImperativeHandle=function(U,ie,he){return S.H.useImperativeHandle(U,ie,he)},ze.useInsertionEffect=function(U,ie){return S.H.useInsertionEffect(U,ie)},ze.useLayoutEffect=function(U,ie){return S.H.useLayoutEffect(U,ie)},ze.useMemo=function(U,ie){return S.H.useMemo(U,ie)},ze.useOptimistic=function(U,ie){return S.H.useOptimistic(U,ie)},ze.useReducer=function(U,ie,he){return S.H.useReducer(U,ie,he)},ze.useRef=function(U){return S.H.useRef(U)},ze.useState=function(U){return S.H.useState(U)},ze.useSyncExternalStore=function(U,ie,he){return S.H.useSyncExternalStore(U,ie,he)},ze.useTransition=function(){return S.H.useTransition()},ze.version="19.2.4",ze}var zT;function od(){return zT||(zT=1,zp.exports=PC()),zp.exports}var B=od();const Eb=vb(B),LC=xC({__proto__:null,default:Eb},[B]);var Bp={exports:{}},Du={},Fp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BT;function kC(){return BT||(BT=1,(function(n){function e(W,fe){var ye=W.length;W.push(fe);e:for(;0<ye;){var Me=ye-1>>>1,Ve=W[Me];if(0<o(Ve,fe))W[Me]=fe,W[ye]=Ve,ye=Me;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var fe=W[0],ye=W.pop();if(ye!==fe){W[0]=ye;e:for(var Me=0,Ve=W.length,U=Ve>>>1;Me<U;){var ie=2*(Me+1)-1,he=W[ie],_e=ie+1,Ae=W[_e];if(0>o(he,ye))_e<Ve&&0>o(Ae,he)?(W[Me]=Ae,W[_e]=ye,Me=_e):(W[Me]=he,W[ie]=ye,Me=ie);else if(_e<Ve&&0>o(Ae,ye))W[Me]=Ae,W[_e]=ye,Me=_e;else break e}}return fe}function o(W,fe){var ye=W.sortIndex-fe.sortIndex;return ye!==0?ye:W.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,E=null,b=3,I=!1,P=!1,z=!1,L=!1,G=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ee(W){for(var fe=t(g);fe!==null;){if(fe.callback===null)a(g);else if(fe.startTime<=W)a(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function $(W){if(z=!1,ee(W),!P)if(t(p)!==null)P=!0,re||(re=!0,k());else{var fe=t(g);fe!==null&&Xe($,fe.startTime-W)}}var re=!1,S=-1,w=5,R=-1;function D(){return L?!0:!(n.unstable_now()-R<w)}function O(){if(L=!1,re){var W=n.unstable_now();R=W;var fe=!0;try{e:{P=!1,z&&(z=!1,q(S),S=-1),I=!0;var ye=b;try{t:{for(ee(W),E=t(p);E!==null&&!(E.expirationTime>W&&D());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,b=E.priorityLevel;var Ve=Me(E.expirationTime<=W);if(W=n.unstable_now(),typeof Ve=="function"){E.callback=Ve,ee(W),fe=!0;break t}E===t(p)&&a(p),ee(W)}else a(p);E=t(p)}if(E!==null)fe=!0;else{var U=t(g);U!==null&&Xe($,U.startTime-W),fe=!1}}break e}finally{E=null,b=ye,I=!1}fe=void 0}}finally{fe?k():re=!1}}}var k;if(typeof K=="function")k=function(){K(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,xe=x.port2;x.port1.onmessage=O,k=function(){xe.postMessage(null)}}else k=function(){G(O,0)};function Xe(W,fe){S=G(function(){W(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var ye=b;b=fe;try{return W()}finally{b=ye}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=b;b=W;try{return fe()}finally{b=ye}},n.unstable_scheduleCallback=function(W,fe,ye){var Me=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Me+ye:Me):ye=Me,W){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ye+Ve,W={id:_++,callback:fe,priorityLevel:W,startTime:ye,expirationTime:Ve,sortIndex:-1},ye>Me?(W.sortIndex=ye,e(g,W),t(p)===null&&W===t(g)&&(z?(q(S),S=-1):z=!0,Xe($,ye-Me))):(W.sortIndex=Ve,e(p,W),P||I||(P=!0,re||(re=!0,k()))),W},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(W){var fe=b;return function(){var ye=b;b=fe;try{return W.apply(this,arguments)}finally{b=ye}}}})(Hp)),Hp}var FT;function UC(){return FT||(FT=1,Fp.exports=kC()),Fp.exports}var qp={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function jC(){if(HT)return Cn;HT=1;var n=od();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Cn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Cn.flushSync=function(p){var g=c.T,_=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=_,a.d.f()}},Cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Cn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:I}):_==="script"&&a.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Cn.requestFormReset=function(p){a.d.r(p)},Cn.unstable_batchedUpdates=function(p,g){return p(g)},Cn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Cn.version="19.2.4",Cn}var qT;function Tb(){if(qT)return qp.exports;qT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qp.exports=jC(),qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function zC(){if(GT)return Du;GT=1;var n=UC(),e=od(),t=Tb();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(a(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,u=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return p(h),r;if(m===u)return p(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=m;else{for(var v=!1,A=h.child;A;){if(A===s){v=!0,s=h,u=m;break}if(A===u){v=!0,u=h,s=m;break}A=A.sibling}if(!v){for(A=m.child;A;){if(A===s){v=!0,s=m,u=h;break}if(A===u){v=!0,u=m,s=h;break}A=A.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function _(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=_(r),i!==null)return i;r=r.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case G:return"Profiler";case L:return"StrictMode";case $:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case P:return"Portal";case K:return r.displayName||"Context";case q:return(r._context.displayName||"Context")+".Consumer";case ee:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return i=r.displayName||null,i!==null?i:xe(r.type)||"Memo";case w:i=r._payload,r=r._init;try{return xe(r(i))}catch{}}return null}var Xe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Me=[],Ve=-1;function U(r){return{current:r}}function ie(r){0>Ve||(r.current=Me[Ve],Me[Ve]=null,Ve--)}function he(r,i){Ve++,Me[Ve]=r.current,r.current=i}var _e=U(null),Ae=U(null),Ne=U(null),$e=U(null);function Tt(r,i){switch(he(Ne,i),he(Ae,r),he(_e,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?sT(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=sT(i),r=oT(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(_e),he(_e,r)}function wt(){ie(_e),ie(Ae),ie(Ne)}function Ii(r){r.memoizedState!==null&&he($e,r);var i=_e.current,s=oT(i,r.type);i!==s&&(he(Ae,r),he(_e,s))}function fa(r){Ae.current===r&&(ie(_e),ie(Ae)),$e.current===r&&(ie($e),wu._currentValue=ye)}var Ut,tr;function nr(r){if(Ut===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ut=i&&i[1]||"",tr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+r+tr}var gs=!1;function Mn(r,i){if(!r||gs)return"";gs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ne){var Z=ne}Reflect.construct(r,[],le)}else{try{le.call()}catch(ne){Z=ne}r.call(le.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],A=m[1];if(v&&A){var V=v.split(`
`),X=A.split(`
`);for(h=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(u===V.length||h===X.length)for(u=V.length-1,h=X.length-1;1<=u&&0<=h&&V[u]!==X[h];)h--;for(;1<=u&&0<=h;u--,h--)if(V[u]!==X[h]){if(u!==1||h!==1)do if(u--,h--,0>h||V[u]!==X[h]){var ae=`
`+V[u].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=u&&0<=h);break}}}finally{gs=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?nr(s):""}function ys(r,i){switch(r.tag){case 26:case 27:case 5:return nr(r.type);case 16:return nr("Lazy");case 13:return r.child!==i&&i!==null?nr("Suspense Fallback"):nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return Mn(r.type,!1);case 11:return Mn(r.type.render,!1);case 1:return Mn(r.type,!0);case 31:return nr("Activity");default:return""}}function _s(r){try{var i="",s=null;do i+=ys(r,s),s=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var jt=Object.prototype.hasOwnProperty,Kt=n.unstable_scheduleCallback,ti=n.unstable_cancelCallback,Pl=n.unstable_shouldYield,fo=n.unstable_requestPaint,zt=n.unstable_now,rr=n.unstable_getCurrentPriorityLevel,ha=n.unstable_ImmediatePriority,Di=n.unstable_UserBlockingPriority,fn=n.unstable_NormalPriority,ir=n.unstable_LowPriority,vs=n.unstable_IdlePriority,ho=n.log,da=n.unstable_setDisableYieldValue,ar=null,St=null;function Vn(r){if(typeof ho=="function"&&da(r),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ar,r)}catch{}}var Vt=Math.clz32?Math.clz32:Ts,Es=Math.log,ma=Math.LN2;function Ts(r){return r>>>=0,r===0?32:31-(Es(r)/ma|0)|0}var Pn=256,ni=262144,Pt=4194304;function br(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function sr(r,i,s){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?h=br(u):(v&=A,v!==0?h=br(v):s||(s=A&~r,s!==0&&(h=br(s))))):(A=u&~m,A!==0?h=br(A):v!==0?h=br(v):s||(s=u&~r,s!==0&&(h=br(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function or(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function mo(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var r=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),r}function Ln(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function ri(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ll(r,i,s,u,h,m){var v=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,X=r.hiddenUpdates;for(s=v&~s;0<s;){var ae=31-Vt(s),le=1<<ae;A[ae]=0,V[ae]=-1;var Z=X[ae];if(Z!==null)for(X[ae]=null,ae=0;ae<Z.length;ae++){var ne=Z[ae];ne!==null&&(ne.lane&=-536870913)}s&=~le}u!==0&&Oi(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(v&~i))}function Oi(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Vt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|s&261930}function M(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var u=31-Vt(s),h=1<<u;h&i|r[u]&i&&(r[u]|=i),s&=~h}}function F(r,i){var s=i&-i;return s=(s&42)!==0?1:J(s),(s&(r.suspendedLanes|i))!==0?0:s}function J(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ce(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function de(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:NT(r.type))}function Ee(r,i){var s=fe.p;try{return fe.p=r,i()}finally{fe.p=s}}var be=Math.random().toString(36).slice(2),me="__reactFiber$"+be,ge="__reactProps$"+be,Se="__reactContainer$"+be,Pe="__reactEvents$"+be,Ce="__reactListeners$"+be,Ue="__reactHandles$"+be,Ye="__reactResources$"+be,pt="__reactMarker$"+be;function Nt(r){delete r[me],delete r[ge],delete r[Pe],delete r[Ce],delete r[Ue]}function At(r){var i=r[me];if(i)return i;for(var s=r.parentNode;s;){if(i=s[Se]||s[me]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=mT(r);r!==null;){if(s=r[me])return s;r=mT(r)}return i}r=s,s=r.parentNode}return null}function qe(r){if(r=r[me]||r[Se]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Rt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function hn(r){var i=r[Ye];return i||(i=r[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(r){r[pt]=!0}var zn=new Set,An={};function Bn(r,i){Rn(r,i),Rn(r+"Capture",i)}function Rn(r,i){for(An[r]=i,r=0;r<i.length;r++)zn.add(i[r])}var lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},ai={};function We(r){return jt.call(ai,r)?!0:jt.call(ii,r)?!1:lr.test(r)?ai[r]=!0:(ii[r]=!0,!1)}function Bt(r,i,s){if(We(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Jt(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function gt(r,i,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+u)}}function Ge(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ur(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pa(r,i,s){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,m.call(this,v)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ut(r){if(!r._valueTracker){var i=ur(r)?"checked":"value";r._valueTracker=pa(r,i,""+r[i])}}function Ss(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return r&&(u=ur(r)?r.checked?"true":"false":r.value),r=u,r!==s?(i.setValue(r),!0):!1}function si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var bs=/[\n"\\]/g;function Fn(r){return r.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function po(r,i,s,u,h,m,v,A){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),i!=null?v==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Ge(i)):r.value!==""+Ge(i)&&(r.value=""+Ge(i)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),i!=null?kl(r,v,Ge(i)):s!=null?kl(r,v,Ge(s)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Ge(A):r.removeAttribute("name")}function Oc(r,i,s,u,h,m,v,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ut(r);return}s=s!=null?""+Ge(s):"",i=i!=null?""+Ge(i):s,A||i===r.value||(r.value=i),r.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),ut(r)}function kl(r,i,s){i==="number"&&si(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function ga(r,i,s,u){if(r=r.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<r.length;s++)h=i.hasOwnProperty("$"+r[s].value),r[s].selected!==h&&(r[s].selected=h),h&&u&&(r[s].defaultSelected=!0)}else{for(s=""+Ge(s),i=null,h=0;h<r.length;h++){if(r[h].value===s){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function xc(r,i,s){if(i!=null&&(i=""+Ge(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+Ge(s):""}function ya(r,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(Xe(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Ge(i),r.defaultValue=s,u=r.textContent,u===s&&u!==""&&u!==null&&(r.value=u),ut(r)}function Hn(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var Mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(r,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,s):typeof s!="number"||s===0||Mc.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function jl(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&s[h]!==u&&Ul(r,h,u)}else for(var m in i)i.hasOwnProperty(m)&&Ul(r,m,i[m])}function go(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(r){return _a.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function jr(){}var zl=null;function wr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var va=null,oi=null;function ws(r){var i=qe(r);if(i&&(r=i.stateNode)){var s=r[ge]||null;e:switch(r=i.stateNode,i.type){case"input":if(po(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Fn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==r&&u.form===r.form){var h=u[ge]||null;if(!h)throw Error(a(90));po(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===r.form&&Ss(u)}break e;case"textarea":xc(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ga(r,!!s.multiple,i,!1)}}}var _o=!1;function Ea(r,i,s){if(_o)return r(i,s);_o=!0;try{var u=r(i);return u}finally{if(_o=!1,(va!==null||oi!==null)&&(If(),va&&(i=va,r=oi,oi=va=null,ws(i),r)))for(i=0;i<r.length;i++)ws(r[i])}}function zr(r,i){var s=r.stateNode;if(s===null)return null;var u=s[ge]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(Ar)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){As=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{As=!1}var li=null,Bl=null,Rs=null;function Fl(){if(Rs)return Rs;var r,i=Bl,s=i.length,u,h="value"in li?li.value:li.textContent,m=h.length;for(r=0;r<s&&i[r]===h[r];r++);var v=s-r;for(u=1;u<=v&&i[s-u]===h[m-u];u++);return Rs=h.slice(r,1<u?1-u:void 0)}function Cs(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function xi(){return!0}function Br(){return!1}function gn(r){function i(s,u,h,m,v){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(s=r[A],this[A]=s?s(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xi:Br,this.isPropagationStopped=Br,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=gn(Mi),Ta=E({},Mi,{view:0,detail:0}),Hl=gn(Ta),Sa,vo,ci,Eo=E({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(Sa=r.screenX-ci.screenX,vo=r.screenY-ci.screenY):vo=Sa=0,ci=r),Sa)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),ql=gn(Eo),Is=E({},Eo,{dataTransfer:0}),Pc=gn(Is),Lc=E({},Ta,{relatedTarget:0}),Ds=gn(Lc),Gl=E({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=gn(Gl),To=E({},Mi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Uc=gn(To),jc=E({},Mi,{data:0}),fi=gn(jc),zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Fc[r])?!!i[r]:!1}function ba(){return Hc}var kn=E({},Ta,{key:function(r){if(r.key){var i=zc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(r){return r.type==="keypress"?Cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qc=gn(kn),Gc=E({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=gn(Gc),f=E({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),y=gn(f),T=E({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=gn(T),Y=E({},Eo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=gn(Y),pe=E({},Mi,{newState:0,oldState:0}),Fe=gn(pe),$t=[9,13,27,32],ct=Ar&&"CompositionEvent"in window,Lt=null;Ar&&"documentMode"in document&&(Lt=document.documentMode);var Rr=Ar&&"TextEvent"in window&&!Lt,hi=Ar&&(!ct||Lt&&8<Lt&&11>=Lt),Fr=" ",Hr=!1;function Ns(r,i){switch(r){case"keyup":return $t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function So(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bo=!1;function e1(r,i){switch(r){case"compositionend":return So(i);case"keypress":return i.which!==32?null:(Hr=!0,Fr);case"textInput":return r=i.data,r===Fr&&Hr?null:r;default:return null}}function t1(r,i){if(bo)return r==="compositionend"||!ct&&Ns(r,i)?(r=Fl(),Rs=Bl=li=null,bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hi&&i.locale!=="ko"?null:i.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!n1[r.type]:i==="textarea"}function __(r,i,s,u){va?oi?oi.push(u):oi=[u]:va=u,i=Pf(i,"onChange"),0<i.length&&(s=new ui("onChange","change",null,s,u),r.push({event:s,listeners:i}))}var Kl=null,$l=null;function r1(r){eT(r,0)}function Kc(r){var i=Rt(r);if(Ss(i))return r}function v_(r,i){if(r==="change")return i}var E_=!1;if(Ar){var Gd;if(Ar){var Kd="oninput"in document;if(!Kd){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Kd=typeof T_.oninput=="function"}Gd=Kd}else Gd=!1;E_=Gd&&(!document.documentMode||9<document.documentMode)}function S_(){Kl&&(Kl.detachEvent("onpropertychange",b_),$l=Kl=null)}function b_(r){if(r.propertyName==="value"&&Kc($l)){var i=[];__(i,$l,r,wr(r)),Ea(r1,i)}}function i1(r,i,s){r==="focusin"?(S_(),Kl=i,$l=s,Kl.attachEvent("onpropertychange",b_)):r==="focusout"&&S_()}function a1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Kc($l)}function s1(r,i){if(r==="click")return Kc(i)}function o1(r,i){if(r==="input"||r==="change")return Kc(i)}function l1(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var cr=typeof Object.is=="function"?Object.is:l1;function Yl(r,i){if(cr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!jt.call(i,h)||!cr(r[h],i[h]))return!1}return!0}function w_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function A_(r,i){var s=w_(r);r=0;for(var u;s;){if(s.nodeType===3){if(u=r+s.textContent.length,r<=i&&u>=i)return{node:s,offset:i-r};r=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=w_(s)}}function R_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?R_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function C_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=si(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=si(r.document)}return i}function $d(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var u1=Ar&&"documentMode"in document&&11>=document.documentMode,wo=null,Yd=null,Ql=null,Qd=!1;function I_(r,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qd||wo==null||wo!==si(u)||(u=wo,"selectionStart"in u&&$d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Yl(Ql,u)||(Ql=u,u=Pf(Yd,"onSelect"),0<u.length&&(i=new ui("onSelect","select",null,i,s),r.push({event:i,listeners:u}),i.target=wo)))}function Os(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var Ao={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},Xd={},D_={};Ar&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function xs(r){if(Xd[r])return Xd[r];if(!Ao[r])return r;var i=Ao[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in D_)return Xd[r]=i[s];return r}var N_=xs("animationend"),O_=xs("animationiteration"),x_=xs("animationstart"),c1=xs("transitionrun"),f1=xs("transitionstart"),h1=xs("transitioncancel"),M_=xs("transitionend"),V_=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function qr(r,i){V_.set(r,i),Bn(i,[r])}var $c=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Cr=[],Ro=0,Jd=0;function Yc(){for(var r=Ro,i=Jd=Ro=0;i<r;){var s=Cr[i];Cr[i++]=null;var u=Cr[i];Cr[i++]=null;var h=Cr[i];Cr[i++]=null;var m=Cr[i];if(Cr[i++]=null,u!==null&&h!==null){var v=u.pending;v===null?h.next=h:(h.next=v.next,v.next=h),u.pending=h}m!==0&&P_(s,h,m)}}function Qc(r,i,s,u){Cr[Ro++]=r,Cr[Ro++]=i,Cr[Ro++]=s,Cr[Ro++]=u,Jd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Zd(r,i,s,u){return Qc(r,i,s,u),Xc(r)}function Ms(r,i){return Qc(r,null,null,i),Xc(r)}function P_(r,i,s){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s);for(var h=!1,m=r.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-Vt(s),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[i]:u.push(i),i.lane=s|536870912),m):null}function Xc(r){if(50<yu)throw yu=0,lp=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Co={};function d1(r,i,s,u){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(r,i,s,u){return new d1(r,i,s,u)}function em(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pi(r,i){var s=r.alternate;return s===null?(s=fr(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function L_(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Wc(r,i,s,u,h,m){var v=0;if(u=r,typeof r=="function")em(r)&&(v=1);else if(typeof r=="string")v=_C(r,s,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=fr(31,s,i,h),r.elementType=R,r.lanes=m,r;case z:return Vs(s.children,h,m,i);case L:v=8,h|=24;break;case G:return r=fr(12,s,i,h|2),r.elementType=G,r.lanes=m,r;case $:return r=fr(13,s,i,h),r.elementType=$,r.lanes=m,r;case re:return r=fr(19,s,i,h),r.elementType=re,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:v=10;break e;case q:v=9;break e;case ee:v=11;break e;case S:v=14;break e;case w:v=16,u=null;break e}v=29,s=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=fr(v,s,i,h),i.elementType=r,i.type=u,i.lanes=m,i}function Vs(r,i,s,u){return r=fr(7,r,u,i),r.lanes=s,r}function tm(r,i,s){return r=fr(6,r,null,i),r.lanes=s,r}function k_(r){var i=fr(18,null,null,0);return i.stateNode=r,i}function nm(r,i,s){return i=fr(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var U_=new WeakMap;function Ir(r,i){if(typeof r=="object"&&r!==null){var s=U_.get(r);return s!==void 0?s:(i={value:r,source:i,stack:_s(i)},U_.set(r,i),i)}return{value:r,source:i,stack:_s(i)}}var Io=[],Do=0,Jc=null,Xl=0,Dr=[],Nr=0,wa=null,di=1,mi="";function Li(r,i){Io[Do++]=Xl,Io[Do++]=Jc,Jc=r,Xl=i}function j_(r,i,s){Dr[Nr++]=di,Dr[Nr++]=mi,Dr[Nr++]=wa,wa=r;var u=di;r=mi;var h=32-Vt(u)-1;u&=~(1<<h),s+=1;var m=32-Vt(i)+h;if(30<m){var v=h-h%5;m=(u&(1<<v)-1).toString(32),u>>=v,h-=v,di=1<<32-Vt(i)+h|s<<h|u,mi=m+r}else di=1<<m|s<<h|u,mi=r}function rm(r){r.return!==null&&(Li(r,1),j_(r,1,0))}function im(r){for(;r===Jc;)Jc=Io[--Do],Io[Do]=null,Xl=Io[--Do],Io[Do]=null;for(;r===wa;)wa=Dr[--Nr],Dr[Nr]=null,mi=Dr[--Nr],Dr[Nr]=null,di=Dr[--Nr],Dr[Nr]=null}function z_(r,i){Dr[Nr++]=di,Dr[Nr++]=mi,Dr[Nr++]=wa,di=i.id,mi=i.overflow,wa=r}var yn=null,Ot=null,at=!1,Aa=null,Or=!1,am=Error(a(519));function Ra(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Ir(i,r)),am}function B_(r){var i=r.stateNode,s=r.type,u=r.memoizedProps;switch(i[me]=r,i[ge]=u,s){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(s=0;s<vu.length;s++)Ze(vu[s],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),Oc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),ya(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||iT(i.textContent,s)?(u.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),u.onScroll!=null&&Ze("scroll",i),u.onScrollEnd!=null&&Ze("scrollend",i),u.onClick!=null&&(i.onclick=jr),i=!0):i=!1,i||Ra(r,!0)}function F_(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:yn=yn.return}}function No(r){if(r!==yn)return!1;if(!at)return F_(r),at=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||bp(r.type,r.memoizedProps)),s=!s),s&&Ot&&Ra(r),F_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Ot=dT(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Ot=dT(r)}else i===27?(i=Ot,za(r.type)?(r=Ip,Ip=null,Ot=r):Ot=i):Ot=yn?Mr(r.stateNode.nextSibling):null;return!0}function Ps(){Ot=yn=null,at=!1}function sm(){var r=Aa;return r!==null&&($n===null?$n=r:$n.push.apply($n,r),Aa=null),r}function Wl(r){Aa===null?Aa=[r]:Aa.push(r)}var om=U(null),Ls=null,ki=null;function Ca(r,i,s){he(om,i._currentValue),i._currentValue=s}function Ui(r){r._currentValue=om.current,ie(om)}function lm(r,i,s){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===s)break;r=r.return}}function um(r,i,s,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=h;for(var V=0;V<i.length;V++)if(A.context===i[V]){m.lanes|=s,A=m.alternate,A!==null&&(A.lanes|=s),lm(m.return,s,r),u||(v=null);break e}m=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,m=v.alternate,m!==null&&(m.lanes|=s),lm(v,s,r),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===r){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Oo(r,i,s,u){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var A=h.type;cr(h.pendingProps.value,v.value)||(r!==null?r.push(A):r=[A])}}else if(h===$e.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(wu):r=[wu])}h=h.return}r!==null&&um(i,r,s,u),i.flags|=262144}function Zc(r){for(r=r.firstContext;r!==null;){if(!cr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ks(r){Ls=r,ki=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return H_(Ls,r)}function ef(r,i){return Ls===null&&ks(r),H_(r,i)}function H_(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ki===null){if(r===null)throw Error(a(308));ki=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ki=ki.next=i;return s}var m1=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},p1=n.unstable_scheduleCallback,g1=n.unstable_NormalPriority,Zt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cm(){return{controller:new m1,data:new Map,refCount:0}}function Jl(r){r.refCount--,r.refCount===0&&p1(g1,function(){r.controller.abort()})}var Zl=null,fm=0,xo=0,Mo=null;function y1(r,i){if(Zl===null){var s=Zl=[];fm=0,xo=mp(),Mo={status:"pending",value:void 0,then:function(u){s.push(u)}}}return fm++,i.then(q_,q_),i}function q_(){if(--fm===0&&Zl!==null){Mo!==null&&(Mo.status="fulfilled");var r=Zl;Zl=null,xo=0,Mo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function _1(r,i){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var G_=W.S;W.S=function(r,i){IE=zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&y1(r,i),G_!==null&&G_(r,i)};var Us=U(null);function hm(){var r=Us.current;return r!==null?r:bt.pooledCache}function tf(r,i){i===null?he(Us,Us.current):he(Us,i.pool)}function K_(){var r=hm();return r===null?null:{parent:Zt._currentValue,pool:r}}var Vo=Error(a(460)),dm=Error(a(474)),nf=Error(a(542)),rf={then:function(){}};function $_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Y_(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(jr,jr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,X_(r),r;default:if(typeof i.status=="string")i.then(jr,jr);else{if(r=bt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,X_(r),r}throw zs=i,Vo}}function js(r){try{var i=r._init;return i(r._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zs=s,Vo):s}}var zs=null;function Q_(){if(zs===null)throw Error(a(459));var r=zs;return zs=null,r}function X_(r){if(r===Vo||r===nf)throw Error(a(483))}var Po=null,eu=0;function af(r){var i=eu;return eu+=1,Po===null&&(Po=[]),Y_(Po,r,i)}function tu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function sf(r,i){throw i.$$typeof===b?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function W_(r){function i(H,j){if(r){var Q=H.deletions;Q===null?(H.deletions=[j],H.flags|=16):Q.push(j)}}function s(H,j){if(!r)return null;for(;j!==null;)i(H,j),j=j.sibling;return null}function u(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function h(H,j){return H=Pi(H,j),H.index=0,H.sibling=null,H}function m(H,j,Q){return H.index=Q,r?(Q=H.alternate,Q!==null?(Q=Q.index,Q<j?(H.flags|=67108866,j):Q):(H.flags|=67108866,j)):(H.flags|=1048576,j)}function v(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,j,Q,se){return j===null||j.tag!==6?(j=tm(Q,H.mode,se),j.return=H,j):(j=h(j,Q),j.return=H,j)}function V(H,j,Q,se){var Ie=Q.type;return Ie===z?ae(H,j,Q.props.children,se,Q.key):j!==null&&(j.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===w&&js(Ie)===j.type)?(j=h(j,Q.props),tu(j,Q),j.return=H,j):(j=Wc(Q.type,Q.key,Q.props,null,H.mode,se),tu(j,Q),j.return=H,j)}function X(H,j,Q,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=nm(Q,H.mode,se),j.return=H,j):(j=h(j,Q.children||[]),j.return=H,j)}function ae(H,j,Q,se,Ie){return j===null||j.tag!==7?(j=Vs(Q,H.mode,se,Ie),j.return=H,j):(j=h(j,Q),j.return=H,j)}function le(H,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=tm(""+j,H.mode,Q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return Q=Wc(j.type,j.key,j.props,null,H.mode,Q),tu(Q,j),Q.return=H,Q;case P:return j=nm(j,H.mode,Q),j.return=H,j;case w:return j=js(j),le(H,j,Q)}if(Xe(j)||k(j))return j=Vs(j,H.mode,Q,null),j.return=H,j;if(typeof j.then=="function")return le(H,af(j),Q);if(j.$$typeof===K)return le(H,ef(H,j),Q);sf(H,j)}return null}function Z(H,j,Q,se){var Ie=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:A(H,j,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return Q.key===Ie?V(H,j,Q,se):null;case P:return Q.key===Ie?X(H,j,Q,se):null;case w:return Q=js(Q),Z(H,j,Q,se)}if(Xe(Q)||k(Q))return Ie!==null?null:ae(H,j,Q,se,null);if(typeof Q.then=="function")return Z(H,j,af(Q),se);if(Q.$$typeof===K)return Z(H,j,ef(H,Q),se);sf(H,Q)}return null}function ne(H,j,Q,se,Ie){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(Q)||null,A(j,H,""+se,Ie);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return H=H.get(se.key===null?Q:se.key)||null,V(j,H,se,Ie);case P:return H=H.get(se.key===null?Q:se.key)||null,X(j,H,se,Ie);case w:return se=js(se),ne(H,j,Q,se,Ie)}if(Xe(se)||k(se))return H=H.get(Q)||null,ae(j,H,se,Ie,null);if(typeof se.then=="function")return ne(H,j,Q,af(se),Ie);if(se.$$typeof===K)return ne(H,j,Q,ef(j,se),Ie);sf(j,se)}return null}function we(H,j,Q,se){for(var Ie=null,ot=null,Re=j,Ke=j=0,tt=null;Re!==null&&Ke<Q.length;Ke++){Re.index>Ke?(tt=Re,Re=null):tt=Re.sibling;var lt=Z(H,Re,Q[Ke],se);if(lt===null){Re===null&&(Re=tt);break}r&&Re&&lt.alternate===null&&i(H,Re),j=m(lt,j,Ke),ot===null?Ie=lt:ot.sibling=lt,ot=lt,Re=tt}if(Ke===Q.length)return s(H,Re),at&&Li(H,Ke),Ie;if(Re===null){for(;Ke<Q.length;Ke++)Re=le(H,Q[Ke],se),Re!==null&&(j=m(Re,j,Ke),ot===null?Ie=Re:ot.sibling=Re,ot=Re);return at&&Li(H,Ke),Ie}for(Re=u(Re);Ke<Q.length;Ke++)tt=ne(Re,H,Ke,Q[Ke],se),tt!==null&&(r&&tt.alternate!==null&&Re.delete(tt.key===null?Ke:tt.key),j=m(tt,j,Ke),ot===null?Ie=tt:ot.sibling=tt,ot=tt);return r&&Re.forEach(function(Ga){return i(H,Ga)}),at&&Li(H,Ke),Ie}function Oe(H,j,Q,se){if(Q==null)throw Error(a(151));for(var Ie=null,ot=null,Re=j,Ke=j=0,tt=null,lt=Q.next();Re!==null&&!lt.done;Ke++,lt=Q.next()){Re.index>Ke?(tt=Re,Re=null):tt=Re.sibling;var Ga=Z(H,Re,lt.value,se);if(Ga===null){Re===null&&(Re=tt);break}r&&Re&&Ga.alternate===null&&i(H,Re),j=m(Ga,j,Ke),ot===null?Ie=Ga:ot.sibling=Ga,ot=Ga,Re=tt}if(lt.done)return s(H,Re),at&&Li(H,Ke),Ie;if(Re===null){for(;!lt.done;Ke++,lt=Q.next())lt=le(H,lt.value,se),lt!==null&&(j=m(lt,j,Ke),ot===null?Ie=lt:ot.sibling=lt,ot=lt);return at&&Li(H,Ke),Ie}for(Re=u(Re);!lt.done;Ke++,lt=Q.next())lt=ne(Re,H,Ke,lt.value,se),lt!==null&&(r&&lt.alternate!==null&&Re.delete(lt.key===null?Ke:lt.key),j=m(lt,j,Ke),ot===null?Ie=lt:ot.sibling=lt,ot=lt);return r&&Re.forEach(function(DC){return i(H,DC)}),at&&Li(H,Ke),Ie}function Et(H,j,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===z&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:e:{for(var Ie=Q.key;j!==null;){if(j.key===Ie){if(Ie=Q.type,Ie===z){if(j.tag===7){s(H,j.sibling),se=h(j,Q.props.children),se.return=H,H=se;break e}}else if(j.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===w&&js(Ie)===j.type){s(H,j.sibling),se=h(j,Q.props),tu(se,Q),se.return=H,H=se;break e}s(H,j);break}else i(H,j);j=j.sibling}Q.type===z?(se=Vs(Q.props.children,H.mode,se,Q.key),se.return=H,H=se):(se=Wc(Q.type,Q.key,Q.props,null,H.mode,se),tu(se,Q),se.return=H,H=se)}return v(H);case P:e:{for(Ie=Q.key;j!==null;){if(j.key===Ie)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){s(H,j.sibling),se=h(j,Q.children||[]),se.return=H,H=se;break e}else{s(H,j);break}else i(H,j);j=j.sibling}se=nm(Q,H.mode,se),se.return=H,H=se}return v(H);case w:return Q=js(Q),Et(H,j,Q,se)}if(Xe(Q))return we(H,j,Q,se);if(k(Q)){if(Ie=k(Q),typeof Ie!="function")throw Error(a(150));return Q=Ie.call(Q),Oe(H,j,Q,se)}if(typeof Q.then=="function")return Et(H,j,af(Q),se);if(Q.$$typeof===K)return Et(H,j,ef(H,Q),se);sf(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(s(H,j.sibling),se=h(j,Q),se.return=H,H=se):(s(H,j),se=tm(Q,H.mode,se),se.return=H,H=se),v(H)):s(H,j)}return function(H,j,Q,se){try{eu=0;var Ie=Et(H,j,Q,se);return Po=null,Ie}catch(Re){if(Re===Vo||Re===nf)throw Re;var ot=fr(29,Re,null,H.mode);return ot.lanes=se,ot.return=H,ot}finally{}}}var Bs=W_(!0),J_=W_(!1),Ia=!1;function mm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Da(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Na(r,i,s){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Xc(r),P_(r,null,s),i}return Qc(r,u,i,s),Xc(r)}function nu(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,s|=u,i.lanes=s,M(r,s)}}function gm(r,i){var s=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var ym=!1;function ru(){if(ym){var r=Mo;if(r!==null)throw r}}function iu(r,i,s,u){ym=!1;var h=r.updateQueue;Ia=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var V=A,X=V.next;V.next=null,v===null?m=X:v.next=X,v=V;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==v&&(A===null?ae.firstBaseUpdate=X:A.next=X,ae.lastBaseUpdate=V))}if(m!==null){var le=h.baseState;v=0,ae=X=V=null,A=m;do{var Z=A.lane&-536870913,ne=Z!==A.lane;if(ne?(et&Z)===Z:(u&Z)===Z){Z!==0&&Z===xo&&(ym=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var we=r,Oe=A;Z=i;var Et=s;switch(Oe.tag){case 1:if(we=Oe.payload,typeof we=="function"){le=we.call(Et,le,Z);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Oe.payload,Z=typeof we=="function"?we.call(Et,le,Z):we,Z==null)break e;le=E({},le,Z);break e;case 2:Ia=!0}}Z=A.callback,Z!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=h.callbacks,ne===null?h.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(X=ae=ne,V=le):ae=ae.next=ne,v|=Z;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);ae===null&&(V=le),h.baseState=V,h.firstBaseUpdate=X,h.lastBaseUpdate=ae,m===null&&(h.shared.lanes=0),Pa|=v,r.lanes=v,r.memoizedState=le}}function Z_(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function ev(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Z_(s[r],i)}var Lo=U(null),of=U(0);function tv(r,i){r=$i,he(of,r),he(Lo,i),$i=r|i.baseLanes}function _m(){he(of,$i),he(Lo,Lo.current)}function vm(){$i=of.current,ie(Lo),ie(of)}var hr=U(null),xr=null;function Oa(r){var i=r.alternate;he(Yt,Yt.current&1),he(hr,r),xr===null&&(i===null||Lo.current!==null||i.memoizedState!==null)&&(xr=r)}function Em(r){he(Yt,Yt.current),he(hr,r),xr===null&&(xr=r)}function nv(r){r.tag===22?(he(Yt,Yt.current),he(hr,r),xr===null&&(xr=r)):xa()}function xa(){he(Yt,Yt.current),he(hr,hr.current)}function dr(r){ie(hr),xr===r&&(xr=null),ie(Yt)}var Yt=U(0);function lf(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rp(s)||Cp(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,He=null,_t=null,en=null,uf=!1,ko=!1,Fs=!1,cf=0,au=0,Uo=null,v1=0;function Ht(){throw Error(a(321))}function Tm(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!cr(r[s],i[s]))return!1;return!0}function Sm(r,i,s,u,h,m){return ji=m,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?jv:km,Fs=!1,m=s(u,h),Fs=!1,ko&&(m=iv(i,s,u,h)),rv(r),m}function rv(r){W.H=lu;var i=_t!==null&&_t.next!==null;if(ji=0,en=_t=He=null,uf=!1,au=0,Uo=null,i)throw Error(a(300));r===null||tn||(r=r.dependencies,r!==null&&Zc(r)&&(tn=!0))}function iv(r,i,s,u){He=r;var h=0;do{if(ko&&(Uo=null),au=0,ko=!1,25<=h)throw Error(a(301));if(h+=1,en=_t=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=zv,m=i(s,u)}while(ko);return m}function E1(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?su(i):i,r=r.useState()[0],(_t!==null?_t.memoizedState:null)!==r&&(He.flags|=1024),i}function bm(){var r=cf!==0;return cf=0,r}function wm(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function Am(r){if(uf){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}uf=!1}ji=0,en=_t=He=null,ko=!1,au=cf=0,Uo=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?He.memoizedState=en=r:en=en.next=r,en}function Qt(){if(_t===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var i=en===null?He.memoizedState:en.next;if(i!==null)en=i,_t=r;else{if(r===null)throw He.alternate===null?Error(a(467)):Error(a(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},en===null?He.memoizedState=en=r:en=en.next=r}return en}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(r){var i=au;return au+=1,Uo===null&&(Uo=[]),r=Y_(Uo,r,i),i=He,(en===null?i.memoizedState:en.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?jv:km),r}function hf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return su(r);if(r.$$typeof===K)return _n(r)}throw Error(a(438,String(r)))}function Rm(r){var i=null,s=He.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=ff(),He.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),u=0;u<r;u++)s[u]=D;return i.index++,s}function zi(r,i){return typeof i=="function"?i(r):i}function df(r){var i=Qt();return Cm(i,_t,r)}function Cm(r,i,s){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}i.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var A=v=null,V=null,X=i,ae=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(et&le)===le:(ji&le)===le){var Z=X.revertLane;if(Z===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===xo&&(ae=!0);else if((ji&Z)===Z){X=X.next,Z===xo&&(ae=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(A=V=le,v=m):V=V.next=le,He.lanes|=Z,Pa|=Z;le=X.action,Fs&&s(m,le),m=X.hasEagerState?X.eagerState:s(m,le)}else Z={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(A=V=Z,v=m):V=V.next=Z,He.lanes|=le,Pa|=le;X=X.next}while(X!==null&&X!==i);if(V===null?v=m:V.next=A,!cr(m,r.memoizedState)&&(tn=!0,ae&&(s=Mo,s!==null)))throw s;r.memoizedState=m,r.baseState=v,r.baseQueue=V,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Im(r){var i=Qt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var u=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do m=r(m,v.action),v=v.next;while(v!==h);cr(m,i.memoizedState)||(tn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,u]}function av(r,i,s){var u=He,h=Qt(),m=at;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!cr((_t||h).memoizedState,s);if(v&&(h.memoizedState=s,tn=!0),h=h.queue,Om(lv.bind(null,u,h,r),[r]),h.getSnapshot!==i||v||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,jo(9,{destroy:void 0},ov.bind(null,u,h,s,i),null),bt===null)throw Error(a(349));m||(ji&127)!==0||sv(u,i,s)}return s}function sv(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=He.updateQueue,i===null?(i=ff(),He.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function ov(r,i,s,u){i.value=s,i.getSnapshot=u,uv(i)&&cv(r)}function lv(r,i,s){return s(function(){uv(i)&&cv(r)})}function uv(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!cr(r,s)}catch{return!0}}function cv(r){var i=Ms(r,2);i!==null&&Yn(i,r,2)}function Dm(r){var i=Un();if(typeof r=="function"){var s=r;if(r=s(),Fs){Vn(!0);try{s()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},i}function fv(r,i,s,u){return r.baseState=s,Cm(r,_t,typeof u=="function"?u:zi)}function T1(r,i,s,u,h){if(gf(r))throw Error(a(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};W.T!==null?s(!0):m.isTransition=!1,u(m),s=i.pending,s===null?(m.next=i.pending=m,hv(i,m)):(m.next=s.next,i.pending=s.next=m)}}function hv(r,i){var s=i.action,u=i.payload,h=r.state;if(i.isTransition){var m=W.T,v={};W.T=v;try{var A=s(h,u),V=W.S;V!==null&&V(v,A),dv(r,i,A)}catch(X){Nm(r,i,X)}finally{m!==null&&v.types!==null&&(m.types=v.types),W.T=m}}else try{m=s(h,u),dv(r,i,m)}catch(X){Nm(r,i,X)}}function dv(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){mv(r,i,u)},function(u){return Nm(r,i,u)}):mv(r,i,s)}function mv(r,i,s){i.status="fulfilled",i.value=s,pv(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,hv(r,s)))}function Nm(r,i,s){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,pv(i),i=i.next;while(i!==u)}r.action=null}function pv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function gv(r,i){return i}function yv(r,i){if(at){var s=bt.formState;if(s!==null){e:{var u=He;if(at){if(Ot){t:{for(var h=Ot,m=Or;h.nodeType!==8;){if(!m){h=null;break t}if(h=Mr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ot=Mr(h.nextSibling),u=h.data==="F!";break e}}Ra(u)}u=!1}u&&(i=s[0])}}return s=Un(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:i},s.queue=u,s=Lv.bind(null,He,u),u.dispatch=s,u=Dm(!1),m=Lm.bind(null,He,!1,u.queue),u=Un(),h={state:i,dispatch:null,action:r,pending:null},u.queue=h,s=T1.bind(null,He,h,m,s),h.dispatch=s,u.memoizedState=r,[i,s,!1]}function _v(r){var i=Qt();return vv(i,_t,r)}function vv(r,i,s){if(i=Cm(r,i,gv)[0],r=df(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=su(i)}catch(v){throw v===Vo?nf:v}else u=i;i=Qt();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(He.flags|=2048,jo(9,{destroy:void 0},S1.bind(null,h,s),null)),[u,m,r]}function S1(r,i){r.action=i}function Ev(r){var i=Qt(),s=_t;if(s!==null)return vv(i,s,r);Qt(),i=i.memoizedState,s=Qt();var u=s.queue.dispatch;return s.memoizedState=r,[i,u,!1]}function jo(r,i,s,u){return r={tag:r,create:s,deps:u,inst:i,next:null},i=He.updateQueue,i===null&&(i=ff(),He.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(u=s.next,s.next=r,r.next=u,i.lastEffect=r),r}function Tv(){return Qt().memoizedState}function mf(r,i,s,u){var h=Un();He.flags|=r,h.memoizedState=jo(1|i,{destroy:void 0},s,u===void 0?null:u)}function pf(r,i,s,u){var h=Qt();u=u===void 0?null:u;var m=h.memoizedState.inst;_t!==null&&u!==null&&Tm(u,_t.memoizedState.deps)?h.memoizedState=jo(i,m,s,u):(He.flags|=r,h.memoizedState=jo(1|i,m,s,u))}function Sv(r,i){mf(8390656,8,r,i)}function Om(r,i){pf(2048,8,r,i)}function b1(r){He.flags|=4;var i=He.updateQueue;if(i===null)i=ff(),He.updateQueue=i,i.events=[r];else{var s=i.events;s===null?i.events=[r]:s.push(r)}}function bv(r){var i=Qt().memoizedState;return b1({ref:i,nextImpl:r}),function(){if((ft&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function wv(r,i){return pf(4,2,r,i)}function Av(r,i){return pf(4,4,r,i)}function Rv(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Cv(r,i,s){s=s!=null?s.concat([r]):null,pf(4,4,Rv.bind(null,i,r),s)}function xm(){}function Iv(r,i){var s=Qt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Tm(i,u[1])?u[0]:(s.memoizedState=[r,i],r)}function Dv(r,i){var s=Qt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Tm(i,u[1]))return u[0];if(u=r(),Fs){Vn(!0);try{r()}finally{Vn(!1)}}return s.memoizedState=[u,i],u}function Mm(r,i,s){return s===void 0||(ji&1073741824)!==0&&(et&261930)===0?r.memoizedState=i:(r.memoizedState=s,r=NE(),He.lanes|=r,Pa|=r,s)}function Nv(r,i,s,u){return cr(s,i)?s:Lo.current!==null?(r=Mm(r,s,u),cr(r,i)||(tn=!0),r):(ji&42)===0||(ji&1073741824)!==0&&(et&261930)===0?(tn=!0,r.memoizedState=s):(r=NE(),He.lanes|=r,Pa|=r,i)}function Ov(r,i,s,u,h){var m=fe.p;fe.p=m!==0&&8>m?m:8;var v=W.T,A={};W.T=A,Lm(r,!1,i,s);try{var V=h(),X=W.S;if(X!==null&&X(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ae=_1(V,u);ou(r,i,ae,gr(r))}else ou(r,i,u,gr(r))}catch(le){ou(r,i,{then:function(){},status:"rejected",reason:le},gr())}finally{fe.p=m,v!==null&&A.types!==null&&(v.types=A.types),W.T=v}}function w1(){}function Vm(r,i,s,u){if(r.tag!==5)throw Error(a(476));var h=xv(r).queue;Ov(r,h,i,ye,s===null?w1:function(){return Mv(r),s(u)})}function xv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ye},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Mv(r){var i=xv(r);i.next===null&&(i=r.alternate.memoizedState),ou(r,i.next.queue,{},gr())}function Pm(){return _n(wu)}function Vv(){return Qt().memoizedState}function Pv(){return Qt().memoizedState}function A1(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=gr();r=Da(s);var u=Na(i,r,s);u!==null&&(Yn(u,i,s),nu(u,i,s)),i={cache:cm()},r.payload=i;return}i=i.return}}function R1(r,i,s){var u=gr();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},gf(r)?kv(i,s):(s=Zd(r,i,s,u),s!==null&&(Yn(s,r,u),Uv(s,i,u)))}function Lv(r,i,s){var u=gr();ou(r,i,s,u)}function ou(r,i,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(gf(r))kv(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,A=m(v,s);if(h.hasEagerState=!0,h.eagerState=A,cr(A,v))return Qc(r,i,h,0),bt===null&&Yc(),!1}catch{}finally{}if(s=Zd(r,i,h,u),s!==null)return Yn(s,r,u),Uv(s,i,u),!0}return!1}function Lm(r,i,s,u){if(u={lane:2,revertLane:mp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},gf(r)){if(i)throw Error(a(479))}else i=Zd(r,s,u,2),i!==null&&Yn(i,r,2)}function gf(r){var i=r.alternate;return r===He||i!==null&&i===He}function kv(r,i){ko=uf=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function Uv(r,i,s){if((s&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,s|=u,i.lanes=s,M(r,s)}}var lu={readContext:_n,use:hf,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht};lu.useEffectEvent=Ht;var jv={readContext:_n,use:hf,useCallback:function(r,i){return Un().memoizedState=[r,i===void 0?null:i],r},useContext:_n,useEffect:Sv,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,mf(4194308,4,Rv.bind(null,i,r),s)},useLayoutEffect:function(r,i){return mf(4194308,4,r,i)},useInsertionEffect:function(r,i){mf(4,2,r,i)},useMemo:function(r,i){var s=Un();i=i===void 0?null:i;var u=r();if(Fs){Vn(!0);try{r()}finally{Vn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(r,i,s){var u=Un();if(s!==void 0){var h=s(i);if(Fs){Vn(!0);try{s(i)}finally{Vn(!1)}}}else h=i;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=R1.bind(null,He,r),[u.memoizedState,r]},useRef:function(r){var i=Un();return r={current:r},i.memoizedState=r},useState:function(r){r=Dm(r);var i=r.queue,s=Lv.bind(null,He,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:xm,useDeferredValue:function(r,i){var s=Un();return Mm(s,r,i)},useTransition:function(){var r=Dm(!1);return r=Ov.bind(null,He,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var u=He,h=Un();if(at){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),bt===null)throw Error(a(349));(et&127)!==0||sv(u,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,Sv(lv.bind(null,u,m,r),[r]),u.flags|=2048,jo(9,{destroy:void 0},ov.bind(null,u,m,s,i),null),s},useId:function(){var r=Un(),i=bt.identifierPrefix;if(at){var s=mi,u=di;s=(u&~(1<<32-Vt(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=cf++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=v1++,i="_"+i+"r_"+s.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Pm,useFormState:yv,useActionState:yv,useOptimistic:function(r){var i=Un();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Lm.bind(null,He,!0,s),s.dispatch=i,[r,i]},useMemoCache:Rm,useCacheRefresh:function(){return Un().memoizedState=A1.bind(null,He)},useEffectEvent:function(r){var i=Un(),s={impl:r};return i.memoizedState=s,function(){if((ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},km={readContext:_n,use:hf,useCallback:Iv,useContext:_n,useEffect:Om,useImperativeHandle:Cv,useInsertionEffect:wv,useLayoutEffect:Av,useMemo:Dv,useReducer:df,useRef:Tv,useState:function(){return df(zi)},useDebugValue:xm,useDeferredValue:function(r,i){var s=Qt();return Nv(s,_t.memoizedState,r,i)},useTransition:function(){var r=df(zi)[0],i=Qt().memoizedState;return[typeof r=="boolean"?r:su(r),i]},useSyncExternalStore:av,useId:Vv,useHostTransitionStatus:Pm,useFormState:_v,useActionState:_v,useOptimistic:function(r,i){var s=Qt();return fv(s,_t,r,i)},useMemoCache:Rm,useCacheRefresh:Pv};km.useEffectEvent=bv;var zv={readContext:_n,use:hf,useCallback:Iv,useContext:_n,useEffect:Om,useImperativeHandle:Cv,useInsertionEffect:wv,useLayoutEffect:Av,useMemo:Dv,useReducer:Im,useRef:Tv,useState:function(){return Im(zi)},useDebugValue:xm,useDeferredValue:function(r,i){var s=Qt();return _t===null?Mm(s,r,i):Nv(s,_t.memoizedState,r,i)},useTransition:function(){var r=Im(zi)[0],i=Qt().memoizedState;return[typeof r=="boolean"?r:su(r),i]},useSyncExternalStore:av,useId:Vv,useHostTransitionStatus:Pm,useFormState:Ev,useActionState:Ev,useOptimistic:function(r,i){var s=Qt();return _t!==null?fv(s,_t,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:Rm,useCacheRefresh:Pv};zv.useEffectEvent=bv;function Um(r,i,s,u){i=r.memoizedState,s=s(u,i),s=s==null?i:E({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var jm={enqueueSetState:function(r,i,s){r=r._reactInternals;var u=gr(),h=Da(u);h.payload=i,s!=null&&(h.callback=s),i=Na(r,h,u),i!==null&&(Yn(i,r,u),nu(i,r,u))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var u=gr(),h=Da(u);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Na(r,h,u),i!==null&&(Yn(i,r,u),nu(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=gr(),u=Da(s);u.tag=2,i!=null&&(u.callback=i),i=Na(r,u,s),i!==null&&(Yn(i,r,s),nu(i,r,s))}};function Bv(r,i,s,u,h,m,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,v):i.prototype&&i.prototype.isPureReactComponent?!Yl(s,u)||!Yl(h,m):!0}function Fv(r,i,s,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==r&&jm.enqueueReplaceState(i,i.state,null)}function Hs(r,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(r=r.defaultProps){s===i&&(s=E({},s));for(var h in r)s[h]===void 0&&(s[h]=r[h])}return s}function Hv(r){$c(r)}function qv(r){console.error(r)}function Gv(r){$c(r)}function yf(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Kv(r,i,s){try{var u=r.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zm(r,i,s){return s=Da(s),s.tag=3,s.payload={element:null},s.callback=function(){yf(r,i)},s}function $v(r){return r=Da(r),r.tag=3,r}function Yv(r,i,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){Kv(i,s,u)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){Kv(i,s,u),typeof h!="function"&&(La===null?La=new Set([this]):La.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function C1(r,i,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Oo(i,s,h,!0),s=hr.current,s!==null){switch(s.tag){case 31:case 13:return xr===null?Df():s.alternate===null&&qt===0&&(qt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===rf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),fp(r,u,h)),!1;case 22:return s.flags|=65536,u===rf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),fp(r,u,h)),!1}throw Error(a(435,s.tag))}return fp(r,u,h),Df(),!1}if(at)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==am&&(r=Error(a(422),{cause:u}),Wl(Ir(r,s)))):(u!==am&&(i=Error(a(423),{cause:u}),Wl(Ir(i,s))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=Ir(u,s),h=zm(r.stateNode,u,h),gm(r,h),qt!==4&&(qt=2)),!1;var m=Error(a(520),{cause:u});if(m=Ir(m,s),gu===null?gu=[m]:gu.push(m),qt!==4&&(qt=2),i===null)return!0;u=Ir(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=h&-h,s.lanes|=r,r=zm(s.stateNode,u,r),gm(s,r),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(La===null||!La.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=$v(h),Yv(h,r,s,u),gm(s,h),!1}s=s.return}while(s!==null);return!1}var Bm=Error(a(461)),tn=!1;function vn(r,i,s,u){i.child=r===null?J_(i,null,s,u):Bs(i,r.child,s,u)}function Qv(r,i,s,u,h){s=s.render;var m=i.ref;if("ref"in u){var v={};for(var A in u)A!=="ref"&&(v[A]=u[A])}else v=u;return ks(i),u=Sm(r,i,s,v,m,h),A=bm(),r!==null&&!tn?(wm(r,i,h),Bi(r,i,h)):(at&&A&&rm(i),i.flags|=1,vn(r,i,u,h),i.child)}function Xv(r,i,s,u,h){if(r===null){var m=s.type;return typeof m=="function"&&!em(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,Wv(r,i,m,u,h)):(r=Wc(s.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!Qm(r,h)){var v=m.memoizedProps;if(s=s.compare,s=s!==null?s:Yl,s(v,u)&&r.ref===i.ref)return Bi(r,i,h)}return i.flags|=1,r=Pi(m,u),r.ref=i.ref,r.return=i,i.child=r}function Wv(r,i,s,u,h){if(r!==null){var m=r.memoizedProps;if(Yl(m,u)&&r.ref===i.ref)if(tn=!1,i.pendingProps=u=m,Qm(r,h))(r.flags&131072)!==0&&(tn=!0);else return i.lanes=r.lanes,Bi(r,i,h)}return Fm(r,i,s,u,h)}function Jv(r,i,s,u){var h=u.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,r!==null){for(u=i.child=r.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,i.child=null;return Zv(r,i,m,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&tf(i,m!==null?m.cachePool:null),m!==null?tv(i,m):_m(),nv(i);else return u=i.lanes=536870912,Zv(r,i,m!==null?m.baseLanes|s:s,s,u)}else m!==null?(tf(i,m.cachePool),tv(i,m),xa(),i.memoizedState=null):(r!==null&&tf(i,null),_m(),xa());return vn(r,i,h,s),i.child}function uu(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zv(r,i,s,u,h){var m=hm();return m=m===null?null:{parent:Zt._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},r!==null&&tf(i,null),_m(),nv(i),r!==null&&Oo(r,i,u,!0),i.childLanes=h,null}function _f(r,i){return i=Ef({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function eE(r,i,s){return Bs(i,r.child,null,s),r=_f(i,i.pendingProps),r.flags|=2,dr(i),i.memoizedState=null,r}function I1(r,i,s){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(at){if(u.mode==="hidden")return r=_f(i,u),i.lanes=536870912,uu(null,r);if(Em(i),(r=Ot)?(r=hT(r,Or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:wa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},s=k_(r),s.return=i,i.child=s,yn=i,Ot=null)):r=null,r===null)throw Ra(i);return i.lanes=536870912,null}return _f(i,u)}var m=r.memoizedState;if(m!==null){var v=m.dehydrated;if(Em(i),h)if(i.flags&256)i.flags&=-257,i=eE(r,i,s);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(tn||Oo(r,i,s,!1),h=(s&r.childLanes)!==0,tn||h){if(u=bt,u!==null&&(v=F(u,s),v!==0&&v!==m.retryLane))throw m.retryLane=v,Ms(r,v),Yn(u,r,v),Bm;Df(),i=eE(r,i,s)}else r=m.treeContext,Ot=Mr(v.nextSibling),yn=i,at=!0,Aa=null,Or=!1,r!==null&&z_(i,r),i=_f(i,u),i.flags|=4096;return i}return r=Pi(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function vf(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function Fm(r,i,s,u,h){return ks(i),s=Sm(r,i,s,u,void 0,h),u=bm(),r!==null&&!tn?(wm(r,i,h),Bi(r,i,h)):(at&&u&&rm(i),i.flags|=1,vn(r,i,s,h),i.child)}function tE(r,i,s,u,h,m){return ks(i),i.updateQueue=null,s=iv(i,u,s,h),rv(r),u=bm(),r!==null&&!tn?(wm(r,i,m),Bi(r,i,m)):(at&&u&&rm(i),i.flags|=1,vn(r,i,s,m),i.child)}function nE(r,i,s,u,h){if(ks(i),i.stateNode===null){var m=Co,v=s.contextType;typeof v=="object"&&v!==null&&(m=_n(v)),m=new s(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},mm(i),v=s.contextType,m.context=typeof v=="object"&&v!==null?_n(v):Co,m.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Um(i,s,v,u),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&jm.enqueueReplaceState(m,m.state,null),iu(i,u,m,h),ru(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var A=i.memoizedProps,V=Hs(s,A);m.props=V;var X=m.context,ae=s.contextType;v=Co,typeof ae=="object"&&ae!==null&&(v=_n(ae));var le=s.getDerivedStateFromProps;ae=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||X!==v)&&Fv(i,m,u,v),Ia=!1;var Z=i.memoizedState;m.state=Z,iu(i,u,m,h),ru(),X=i.memoizedState,A||Z!==X||Ia?(typeof le=="function"&&(Um(i,s,le,u),X=i.memoizedState),(V=Ia||Bv(i,s,V,u,Z,X,v))?(ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=X),m.props=u,m.state=X,m.context=v,u=V):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,pm(r,i),v=i.memoizedProps,ae=Hs(s,v),m.props=ae,le=i.pendingProps,Z=m.context,X=s.contextType,V=Co,typeof X=="object"&&X!==null&&(V=_n(X)),A=s.getDerivedStateFromProps,(X=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==le||Z!==V)&&Fv(i,m,u,V),Ia=!1,Z=i.memoizedState,m.state=Z,iu(i,u,m,h),ru();var ne=i.memoizedState;v!==le||Z!==ne||Ia||r!==null&&r.dependencies!==null&&Zc(r.dependencies)?(typeof A=="function"&&(Um(i,s,A,u),ne=i.memoizedState),(ae=Ia||Bv(i,s,ae,u,Z,ne,V)||r!==null&&r.dependencies!==null&&Zc(r.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ne,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ne,V)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ne),m.props=u,m.state=ne,m.context=V,u=ae):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,vf(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=Bs(i,r.child,null,h),i.child=Bs(i,null,s,h)):vn(r,i,s,h),i.memoizedState=m.state,r=i.child):r=Bi(r,i,h),r}function rE(r,i,s,u){return Ps(),i.flags|=256,vn(r,i,s,u),i.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qm(r){return{baseLanes:r,cachePool:K_()}}function Gm(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=pr),r}function iE(r,i,s){var u=i.pendingProps,h=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,r===null){if(at){if(h?Oa(i):xa(),(r=Ot)?(r=hT(r,Or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:wa!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},s=k_(r),s.return=i,i.child=s,yn=i,Ot=null)):r=null,r===null)throw Ra(i);return Cp(r)?i.lanes=32:i.lanes=536870912,null}var A=u.children;return u=u.fallback,h?(xa(),h=i.mode,A=Ef({mode:"hidden",children:A},h),u=Vs(u,h,s,null),A.return=i,u.return=i,A.sibling=u,i.child=A,u=i.child,u.memoizedState=qm(s),u.childLanes=Gm(r,v,s),i.memoizedState=Hm,uu(null,u)):(Oa(i),Km(i,A))}var V=r.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(m)i.flags&256?(Oa(i),i.flags&=-257,i=$m(r,i,s)):i.memoizedState!==null?(xa(),i.child=r.child,i.flags|=128,i=null):(xa(),A=u.fallback,h=i.mode,u=Ef({mode:"visible",children:u.children},h),A=Vs(A,h,s,null),A.flags|=2,u.return=i,A.return=i,u.sibling=A,i.child=u,Bs(i,r.child,null,s),u=i.child,u.memoizedState=qm(s),u.childLanes=Gm(r,v,s),i.memoizedState=Hm,i=uu(null,u));else if(Oa(i),Cp(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var X=v.dgst;v=X,u=Error(a(419)),u.stack="",u.digest=v,Wl({value:u,source:null,stack:null}),i=$m(r,i,s)}else if(tn||Oo(r,i,s,!1),v=(s&r.childLanes)!==0,tn||v){if(v=bt,v!==null&&(u=F(v,s),u!==0&&u!==V.retryLane))throw V.retryLane=u,Ms(r,u),Yn(v,r,u),Bm;Rp(A)||Df(),i=$m(r,i,s)}else Rp(A)?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,Ot=Mr(A.nextSibling),yn=i,at=!0,Aa=null,Or=!1,r!==null&&z_(i,r),i=Km(i,u.children),i.flags|=4096);return i}return h?(xa(),A=u.fallback,h=i.mode,V=r.child,X=V.sibling,u=Pi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,X!==null?A=Pi(X,A):(A=Vs(A,h,s,null),A.flags|=2),A.return=i,u.return=i,u.sibling=A,i.child=u,uu(null,u),u=i.child,A=r.child.memoizedState,A===null?A=qm(s):(h=A.cachePool,h!==null?(V=Zt._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=K_(),A={baseLanes:A.baseLanes|s,cachePool:h}),u.memoizedState=A,u.childLanes=Gm(r,v,s),i.memoizedState=Hm,uu(r.child,u)):(Oa(i),s=r.child,r=s.sibling,s=Pi(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=s,i.memoizedState=null,s)}function Km(r,i){return i=Ef({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ef(r,i){return r=fr(22,r,null,i),r.lanes=0,r}function $m(r,i,s){return Bs(i,r.child,null,s),r=Km(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function aE(r,i,s){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),lm(r.return,i,s)}function Ym(r,i,s,u,h,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=s,v.tailMode=h,v.treeForkCount=m)}function sE(r,i,s){var u=i.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var v=Yt.current,A=(v&2)!==0;if(A?(v=v&1|2,i.flags|=128):v&=1,he(Yt,v),vn(r,i,u,s),u=at?Xl:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&aE(r,s,i);else if(r.tag===19)aE(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)r=s.alternate,r!==null&&lf(r)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Ym(i,!1,h,s,m,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&lf(r)===null){i.child=h;break}r=h.sibling,h.sibling=s,s=h,h=r}Ym(i,!0,s,null,m,u);break;case"together":Ym(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Bi(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),Pa|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(Oo(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=Pi(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=Pi(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function Qm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Zc(r)))}function D1(r,i,s){switch(i.tag){case 3:Tt(i,i.stateNode.containerInfo),Ca(i,Zt,r.memoizedState.cache),Ps();break;case 27:case 5:Ii(i);break;case 4:Tt(i,i.stateNode.containerInfo);break;case 10:Ca(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Em(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Oa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?iE(r,i,s):(Oa(i),r=Bi(r,i,s),r!==null?r.sibling:null);Oa(i);break;case 19:var h=(r.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Oo(r,i,s,!1),u=(s&i.childLanes)!==0),h){if(u)return sE(r,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(Yt,Yt.current),u)break;return null;case 22:return i.lanes=0,Jv(r,i,s,i.pendingProps);case 24:Ca(i,Zt,r.memoizedState.cache)}return Bi(r,i,s)}function oE(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)tn=!0;else{if(!Qm(r,s)&&(i.flags&128)===0)return tn=!1,D1(r,i,s);tn=(r.flags&131072)!==0}else tn=!1,at&&(i.flags&1048576)!==0&&j_(i,Xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=js(i.elementType),i.type=r,typeof r=="function")em(r)?(u=Hs(r,u),i.tag=1,i=nE(null,i,r,u,s)):(i.tag=0,i=Fm(null,i,r,u,s));else{if(r!=null){var h=r.$$typeof;if(h===ee){i.tag=11,i=Qv(null,i,r,u,s);break e}else if(h===S){i.tag=14,i=Xv(null,i,r,u,s);break e}}throw i=xe(r)||r,Error(a(306,i,""))}}return i;case 0:return Fm(r,i,i.type,i.pendingProps,s);case 1:return u=i.type,h=Hs(u,i.pendingProps),nE(r,i,u,h,s);case 3:e:{if(Tt(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;h=m.element,pm(r,i),iu(i,u,null,s);var v=i.memoizedState;if(u=v.cache,Ca(i,Zt,u),u!==m.cache&&um(i,[Zt],s,!0),ru(),u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=rE(r,i,u,s);break e}else if(u!==h){h=Ir(Error(a(424)),i),Wl(h),i=rE(r,i,u,s);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Ot=Mr(r.firstChild),yn=i,at=!0,Aa=null,Or=!0,s=J_(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ps(),u===h){i=Bi(r,i,s);break e}vn(r,i,u,s)}i=i.child}return i;case 26:return vf(r,i),r===null?(s=_T(i.type,null,i.pendingProps,null))?i.memoizedState=s:at||(s=i.type,r=i.pendingProps,u=Lf(Ne.current).createElement(s),u[me]=i,u[ge]=r,En(u,s,r),Ct(u),i.stateNode=u):i.memoizedState=_T(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ii(i),r===null&&at&&(u=i.stateNode=pT(i.type,i.pendingProps,Ne.current),yn=i,Or=!0,h=Ot,za(i.type)?(Ip=h,Ot=Mr(u.firstChild)):Ot=h),vn(r,i,i.pendingProps.children,s),vf(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&at&&((h=u=Ot)&&(u=aC(u,i.type,i.pendingProps,Or),u!==null?(i.stateNode=u,yn=i,Ot=Mr(u.firstChild),Or=!1,h=!0):h=!1),h||Ra(i)),Ii(i),h=i.type,m=i.pendingProps,v=r!==null?r.memoizedProps:null,u=m.children,bp(h,m)?u=null:v!==null&&bp(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Sm(r,i,E1,null,null,s),wu._currentValue=h),vf(r,i),vn(r,i,u,s),i.child;case 6:return r===null&&at&&((r=s=Ot)&&(s=sC(s,i.pendingProps,Or),s!==null?(i.stateNode=s,yn=i,Ot=null,r=!0):r=!1),r||Ra(i)),null;case 13:return iE(r,i,s);case 4:return Tt(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Bs(i,null,u,s):vn(r,i,u,s),i.child;case 11:return Qv(r,i,i.type,i.pendingProps,s);case 7:return vn(r,i,i.pendingProps,s),i.child;case 8:return vn(r,i,i.pendingProps.children,s),i.child;case 12:return vn(r,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,Ca(i,i.type,u.value),vn(r,i,u.children,s),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,ks(i),h=_n(h),u=u(h),i.flags|=1,vn(r,i,u,s),i.child;case 14:return Xv(r,i,i.type,i.pendingProps,s);case 15:return Wv(r,i,i.type,i.pendingProps,s);case 19:return sE(r,i,s);case 31:return I1(r,i,s);case 22:return Jv(r,i,s,i.pendingProps);case 24:return ks(i),u=_n(Zt),r===null?(h=hm(),h===null&&(h=bt,m=cm(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:u,cache:h},mm(i),Ca(i,Zt,h)):((r.lanes&s)!==0&&(pm(r,i),iu(i,null,null,s),ru()),h=r.memoizedState,m=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ca(i,Zt,u)):(u=m.cache,Ca(i,Zt,u),u!==h.cache&&um(i,[Zt],s,!0))),vn(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Fi(r){r.flags|=4}function Xm(r,i,s,u,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(VE())r.flags|=8192;else throw zs=rf,dm}else r.flags&=-16777217}function lE(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!bT(i))if(VE())r.flags|=8192;else throw zs=rf,dm}function Tf(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ni():536870912,r.lanes|=i,Ho|=i)}function cu(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,u=0;if(i)for(var h=r.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=s,i}function N1(r,i,s){var u=i.pendingProps;switch(im(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return s=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ui(Zt),wt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(No(i)?Fi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sm())),xt(i),null;case 26:var h=i.type,m=i.memoizedState;return r===null?(Fi(i),m!==null?(xt(i),lE(i,m)):(xt(i),Xm(i,h,null,u,s))):m?m!==r.memoizedState?(Fi(i),xt(i),lE(i,m)):(xt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Fi(i),xt(i),Xm(i,h,r,u,s)),null;case 27:if(fa(i),s=Ne.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Fi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return xt(i),null}r=_e.current,No(i)?B_(i):(r=pT(h,u,s),i.stateNode=r,Fi(i))}return xt(i),null;case 5:if(fa(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Fi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return xt(i),null}if(m=_e.current,No(i))B_(i);else{var v=Lf(Ne.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?v.createElement(h,{is:u.is}):v.createElement(h)}}m[me]=i,m[ge]=u;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=m;e:switch(En(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fi(i)}}return xt(i),Xm(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,s),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Fi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=Ne.current,No(i)){if(r=i.stateNode,s=i.memoizedProps,u=null,h=yn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[me]=i,r=!!(r.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||iT(r.nodeValue,s)),r||Ra(i,!0)}else r=Lf(r).createTextNode(u),r[me]=i,i.stateNode=r}return xt(i),null;case 31:if(s=i.memoizedState,r===null||r.memoizedState!==null){if(u=No(i),s!==null){if(r===null){if(!u)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[me]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),r=!1}else s=sm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=s),r=!0;if(!r)return i.flags&256?(dr(i),i):(dr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return xt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=No(i),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=i}else Ps(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),h=!1}else h=sm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(dr(i),i):(dr(i),null)}return dr(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,r=r!==null&&r.memoizedState!==null,s&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),s!==r&&s&&(i.child.flags|=8192),Tf(i,i.updateQueue),xt(i),null);case 4:return wt(),r===null&&_p(i.stateNode.containerInfo),xt(i),null;case 10:return Ui(i.type),xt(i),null;case 19:if(ie(Yt),u=i.memoizedState,u===null)return xt(i),null;if(h=(i.flags&128)!==0,m=u.rendering,m===null)if(h)cu(u,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=lf(r),m!==null){for(i.flags|=128,cu(u,!1),r=m.updateQueue,i.updateQueue=r,Tf(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)L_(s,r),s=s.sibling;return he(Yt,Yt.current&1|2),at&&Li(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&zt()>Rf&&(i.flags|=128,h=!0,cu(u,!1),i.lanes=4194304)}else{if(!h)if(r=lf(m),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Tf(i,r),cu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!at)return xt(i),null}else 2*zt()-u.renderingStartTime>Rf&&s!==536870912&&(i.flags|=128,h=!0,cu(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(r=u.last,r!==null?r.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=zt(),r.sibling=null,s=Yt.current,he(Yt,h?s&1|2:s&1),at&&Li(i,u.treeForkCount),r):(xt(i),null);case 22:case 23:return dr(i),vm(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),s=i.updateQueue,s!==null&&Tf(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),r!==null&&ie(Us),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ui(Zt),xt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function O1(r,i){switch(im(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ui(Zt),wt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 31:if(i.memoizedState!==null){if(dr(i),i.alternate===null)throw Error(a(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(dr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ps()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ie(Yt),null;case 4:return wt(),null;case 10:return Ui(i.type),null;case 22:case 23:return dr(i),vm(),r!==null&&ie(Us),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ui(Zt),null;case 25:return null;default:return null}}function uE(r,i){switch(im(i),i.tag){case 3:Ui(Zt),wt();break;case 26:case 27:case 5:fa(i);break;case 4:wt();break;case 31:i.memoizedState!==null&&dr(i);break;case 13:dr(i);break;case 19:ie(Yt);break;case 10:Ui(i.type);break;case 22:case 23:dr(i),vm(),r!==null&&ie(Us);break;case 24:Ui(Zt)}}function fu(r,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&r)===r){u=void 0;var m=s.create,v=s.inst;u=m(),v.destroy=u}s=s.next}while(s!==h)}}catch(A){mt(i,i.return,A)}}function Ma(r,i,s){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var v=u.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var V=s,X=A;try{X()}catch(ae){mt(h,V,ae)}}}u=u.next}while(u!==m)}}catch(ae){mt(i,i.return,ae)}}function cE(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{ev(i,s)}catch(u){mt(r,r.return,u)}}}function fE(r,i,s){s.props=Hs(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(u){mt(r,i,u)}}function hu(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof s=="function"?r.refCleanup=s(u):s.current=u}}catch(h){mt(r,i,h)}}function pi(r,i){var s=r.ref,u=r.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){mt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){mt(r,i,h)}else s.current=null}function hE(r){var i=r.type,s=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){mt(r,r.return,h)}}function Wm(r,i,s){try{var u=r.stateNode;Z1(u,r.type,s,i),u[ge]=i}catch(h){mt(r,r.return,h)}}function dE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&za(r.type)||r.tag===4}function Jm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&za(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zm(r,i,s){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=jr));else if(u!==4&&(u===27&&za(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(Zm(r,i,s),r=r.sibling;r!==null;)Zm(r,i,s),r=r.sibling}function Sf(r,i,s){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(u!==4&&(u===27&&za(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(Sf(r,i,s),r=r.sibling;r!==null;)Sf(r,i,s),r=r.sibling}function mE(r){var i=r.stateNode,s=r.memoizedProps;try{for(var u=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);En(i,u,s),i[me]=r,i[ge]=s}catch(m){mt(r,r.return,m)}}var Hi=!1,nn=!1,ep=!1,pE=typeof WeakSet=="function"?WeakSet:Set,dn=null;function x1(r,i){if(r=r.containerInfo,Tp=Hf,r=C_(r),$d(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var v=0,A=-1,V=-1,X=0,ae=0,le=r,Z=null;t:for(;;){for(var ne;le!==s||h!==0&&le.nodeType!==3||(A=v+h),le!==m||u!==0&&le.nodeType!==3||(V=v+u),le.nodeType===3&&(v+=le.nodeValue.length),(ne=le.firstChild)!==null;)Z=le,le=ne;for(;;){if(le===r)break t;if(Z===s&&++X===h&&(A=v),Z===m&&++ae===u&&(V=v),(ne=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=ne}s=A===-1||V===-1?null:{start:A,end:V}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sp={focusedElem:r,selectionRange:s},Hf=!1,dn=i;dn!==null;)if(i=dn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,dn=r;else for(;dn!==null;){switch(i=dn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(s=0;s<r.length;s++)h=r[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var we=Hs(s.type,h);r=u.getSnapshotBeforeUpdate(we,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){mt(s,s.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)Ap(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ap(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,dn=r;break}dn=i.return}}function gE(r,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(r,s),u&4&&fu(5,s);break;case 1:if(Gi(r,s),u&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(v){mt(s,s.return,v)}else{var h=Hs(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(v){mt(s,s.return,v)}}u&64&&cE(s),u&512&&hu(s,s.return);break;case 3:if(Gi(r,s),u&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{ev(r,i)}catch(v){mt(s,s.return,v)}}break;case 27:i===null&&u&4&&mE(s);case 26:case 5:Gi(r,s),i===null&&u&4&&hE(s),u&512&&hu(s,s.return);break;case 12:Gi(r,s);break;case 31:Gi(r,s),u&4&&vE(r,s);break;case 13:Gi(r,s),u&4&&EE(r,s),u&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=B1.bind(null,s),oC(r,s))));break;case 22:if(u=s.memoizedState!==null||Hi,!u){i=i!==null&&i.memoizedState!==null||nn,h=Hi;var m=nn;Hi=u,(nn=i)&&!m?Ki(r,s,(s.subtreeFlags&8772)!==0):Gi(r,s),Hi=h,nn=m}break;case 30:break;default:Gi(r,s)}}function yE(r){var i=r.alternate;i!==null&&(r.alternate=null,yE(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Nt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,qn=!1;function qi(r,i,s){for(s=s.child;s!==null;)_E(r,i,s),s=s.sibling}function _E(r,i,s){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ar,s)}catch{}switch(s.tag){case 26:nn||pi(s,i),qi(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:nn||pi(s,i);var u=kt,h=qn;za(s.type)&&(kt=s.stateNode,qn=!1),qi(r,i,s),Tu(s.stateNode),kt=u,qn=h;break;case 5:nn||pi(s,i);case 6:if(u=kt,h=qn,kt=null,qi(r,i,s),kt=u,qn=h,kt!==null)if(qn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(s.stateNode)}catch(m){mt(s,i,m)}else try{kt.removeChild(s.stateNode)}catch(m){mt(s,i,m)}break;case 18:kt!==null&&(qn?(r=kt,cT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),Wo(r)):cT(kt,s.stateNode));break;case 4:u=kt,h=qn,kt=s.stateNode.containerInfo,qn=!0,qi(r,i,s),kt=u,qn=h;break;case 0:case 11:case 14:case 15:Ma(2,s,i),nn||Ma(4,s,i),qi(r,i,s);break;case 1:nn||(pi(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&fE(s,i,u)),qi(r,i,s);break;case 21:qi(r,i,s);break;case 22:nn=(u=nn)||s.memoizedState!==null,qi(r,i,s),nn=u;break;default:qi(r,i,s)}}function vE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Wo(r)}catch(s){mt(i,i.return,s)}}}function EE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wo(r)}catch(s){mt(i,i.return,s)}}function M1(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new pE),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new pE),i;default:throw Error(a(435,r.tag))}}function bf(r,i){var s=M1(r);i.forEach(function(u){if(!s.has(u)){s.add(u);var h=F1.bind(null,r,u);u.then(h,h)}})}function Gn(r,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],m=r,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(za(A.type)){kt=A.stateNode,qn=!1;break e}break;case 5:kt=A.stateNode,qn=!1;break e;case 3:case 4:kt=A.stateNode.containerInfo,qn=!0;break e}A=A.return}if(kt===null)throw Error(a(160));_E(m,v,h),kt=null,qn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)TE(i,r),i=i.sibling}var Gr=null;function TE(r,i){var s=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(i,r),Kn(r),u&4&&(Ma(3,r,r.return),fu(3,r),Ma(5,r,r.return));break;case 1:Gn(i,r),Kn(r),u&512&&(nn||s===null||pi(s,s.return)),u&64&&Hi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=Gr;if(Gn(i,r),Kn(r),u&512&&(nn||s===null||pi(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=r.memoizedState,s===null)if(u===null)if(r.stateNode===null){e:{u=r.type,s=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[pt]||m[me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),En(m,u,s),m[me]=r,Ct(m),u=m;break e;case"link":var v=TT("link","href",h).get(u+(s.href||""));if(v){for(var A=0;A<v.length;A++)if(m=v[A],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(A,1);break t}}m=h.createElement(u),En(m,u,s),h.head.appendChild(m);break;case"meta":if(v=TT("meta","content",h).get(u+(s.content||""))){for(A=0;A<v.length;A++)if(m=v[A],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(A,1);break t}}m=h.createElement(u),En(m,u,s),h.head.appendChild(m);break;default:throw Error(a(468,u))}m[me]=r,Ct(m),u=m}r.stateNode=u}else ST(h,r.type,r.stateNode);else r.stateNode=ET(h,u,r.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?ST(h,r.type,r.stateNode):ET(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Wm(r,r.memoizedProps,s.memoizedProps)}break;case 27:Gn(i,r),Kn(r),u&512&&(nn||s===null||pi(s,s.return)),s!==null&&u&4&&Wm(r,r.memoizedProps,s.memoizedProps);break;case 5:if(Gn(i,r),Kn(r),u&512&&(nn||s===null||pi(s,s.return)),r.flags&32){h=r.stateNode;try{Hn(h,"")}catch(we){mt(r,r.return,we)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Wm(r,h,s!==null?s.memoizedProps:h)),u&1024&&(ep=!0);break;case 6:if(Gn(i,r),Kn(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,s=r.stateNode;try{s.nodeValue=u}catch(we){mt(r,r.return,we)}}break;case 3:if(jf=null,h=Gr,Gr=kf(i.containerInfo),Gn(i,r),Gr=h,Kn(r),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Wo(i.containerInfo)}catch(we){mt(r,r.return,we)}ep&&(ep=!1,SE(r));break;case 4:u=Gr,Gr=kf(r.stateNode.containerInfo),Gn(i,r),Kn(r),Gr=u;break;case 12:Gn(i,r),Kn(r);break;case 31:Gn(i,r),Kn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 13:Gn(i,r),Kn(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Af=zt()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 22:h=r.memoizedState!==null;var V=s!==null&&s.memoizedState!==null,X=Hi,ae=nn;if(Hi=X||h,nn=ae||V,Gn(i,r),nn=ae,Hi=X,Kn(r),u&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||V||Hi||nn||qs(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){V=s=i;try{if(m=V.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=V.stateNode;var le=V.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(we){mt(V,V.return,we)}}}else if(i.tag===6){if(s===null){V=i;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(we){mt(V,V.return,we)}}}else if(i.tag===18){if(s===null){V=i;try{var ne=V.stateNode;h?fT(ne,!0):fT(V.stateNode,!1)}catch(we){mt(V,V.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,bf(r,s))));break;case 19:Gn(i,r),Kn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,bf(r,u)));break;case 30:break;case 21:break;default:Gn(i,r),Kn(r)}}function Kn(r){var i=r.flags;if(i&2){try{for(var s,u=r.return;u!==null;){if(dE(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=Jm(r);Sf(r,m,h);break;case 5:var v=s.stateNode;s.flags&32&&(Hn(v,""),s.flags&=-33);var A=Jm(r);Sf(r,A,v);break;case 3:case 4:var V=s.stateNode.containerInfo,X=Jm(r);Zm(r,X,V);break;default:throw Error(a(161))}}catch(ae){mt(r,r.return,ae)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function SE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;SE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Gi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gE(r,i.alternate,i),i=i.sibling}function qs(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ma(4,i,i.return),qs(i);break;case 1:pi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&fE(i,i.return,s),qs(i);break;case 27:Tu(i.stateNode);case 26:case 5:pi(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}r=r.sibling}}function Ki(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=r,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:Ki(h,m,s),fu(4,m);break;case 1:if(Ki(h,m,s),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){mt(u,u.return,X)}if(u=m,h=u.updateQueue,h!==null){var A=u.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)Z_(V[h],A)}catch(X){mt(u,u.return,X)}}s&&v&64&&cE(m),hu(m,m.return);break;case 27:mE(m);case 26:case 5:Ki(h,m,s),s&&u===null&&v&4&&hE(m),hu(m,m.return);break;case 12:Ki(h,m,s);break;case 31:Ki(h,m,s),s&&v&4&&vE(h,m);break;case 13:Ki(h,m,s),s&&v&4&&EE(h,m);break;case 22:m.memoizedState===null&&Ki(h,m,s),hu(m,m.return);break;case 30:break;default:Ki(h,m,s)}i=i.sibling}}function tp(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&Jl(s))}function np(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Jl(r))}function Kr(r,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bE(r,i,s,u),i=i.sibling}function bE(r,i,s,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kr(r,i,s,u),h&2048&&fu(9,i);break;case 1:Kr(r,i,s,u);break;case 3:Kr(r,i,s,u),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Jl(r)));break;case 12:if(h&2048){Kr(r,i,s,u),r=i.stateNode;try{var m=i.memoizedProps,v=m.id,A=m.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){mt(i,i.return,V)}}else Kr(r,i,s,u);break;case 31:Kr(r,i,s,u);break;case 13:Kr(r,i,s,u);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?Kr(r,i,s,u):du(r,i):m._visibility&2?Kr(r,i,s,u):(m._visibility|=2,zo(r,i,s,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&tp(v,i);break;case 24:Kr(r,i,s,u),h&2048&&np(i.alternate,i);break;default:Kr(r,i,s,u)}}function zo(r,i,s,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,v=i,A=s,V=u,X=v.flags;switch(v.tag){case 0:case 11:case 15:zo(m,v,A,V,h),fu(8,v);break;case 23:break;case 22:var ae=v.stateNode;v.memoizedState!==null?ae._visibility&2?zo(m,v,A,V,h):du(m,v):(ae._visibility|=2,zo(m,v,A,V,h)),h&&X&2048&&tp(v.alternate,v);break;case 24:zo(m,v,A,V,h),h&&X&2048&&np(v.alternate,v);break;default:zo(m,v,A,V,h)}i=i.sibling}}function du(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,u=i,h=u.flags;switch(u.tag){case 22:du(s,u),h&2048&&tp(u.alternate,u);break;case 24:du(s,u),h&2048&&np(u.alternate,u);break;default:du(s,u)}i=i.sibling}}var mu=8192;function Bo(r,i,s){if(r.subtreeFlags&mu)for(r=r.child;r!==null;)wE(r,i,s),r=r.sibling}function wE(r,i,s){switch(r.tag){case 26:Bo(r,i,s),r.flags&mu&&r.memoizedState!==null&&vC(s,Gr,r.memoizedState,r.memoizedProps);break;case 5:Bo(r,i,s);break;case 3:case 4:var u=Gr;Gr=kf(r.stateNode.containerInfo),Bo(r,i,s),Gr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=mu,mu=16777216,Bo(r,i,s),mu=u):Bo(r,i,s));break;default:Bo(r,i,s)}}function AE(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function pu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];dn=u,CE(u,r)}AE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)RE(r),r=r.sibling}function RE(r){switch(r.tag){case 0:case 11:case 15:pu(r),r.flags&2048&&Ma(9,r,r.return);break;case 3:pu(r);break;case 12:pu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,wf(r)):pu(r);break;default:pu(r)}}function wf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];dn=u,CE(u,r)}AE(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ma(8,i,i.return),wf(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,wf(i));break;default:wf(i)}r=r.sibling}}function CE(r,i){for(;dn!==null;){var s=dn;switch(s.tag){case 0:case 11:case 15:Ma(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Jl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,dn=u;else e:for(s=r;dn!==null;){u=dn;var h=u.sibling,m=u.return;if(yE(u),u===s){dn=null;break e}if(h!==null){h.return=m,dn=h;break e}dn=m}}}var V1={getCacheForType:function(r){var i=_n(Zt),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s},cacheSignal:function(){return _n(Zt).controller.signal}},P1=typeof WeakMap=="function"?WeakMap:Map,ft=0,bt=null,Je=null,et=0,dt=0,mr=null,Va=!1,Fo=!1,rp=!1,$i=0,qt=0,Pa=0,Gs=0,ip=0,pr=0,Ho=0,gu=null,$n=null,ap=!1,Af=0,IE=0,Rf=1/0,Cf=null,La=null,on=0,ka=null,qo=null,Yi=0,sp=0,op=null,DE=null,yu=0,lp=null;function gr(){return(ft&2)!==0&&et!==0?et&-et:W.T!==null?mp():de()}function NE(){if(pr===0)if((et&536870912)===0||at){var r=ni;ni<<=1,(ni&3932160)===0&&(ni=262144),pr=r}else pr=536870912;return r=hr.current,r!==null&&(r.flags|=32),pr}function Yn(r,i,s){(r===bt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(Go(r,0),Ua(r,et,pr,!1)),ri(r,s),((ft&2)===0||r!==bt)&&(r===bt&&((ft&2)===0&&(Gs|=s),qt===4&&Ua(r,et,pr,!1)),gi(r))}function OE(r,i,s){if((ft&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&r.expiredLanes)===0||or(r,i),h=u?U1(r,i):cp(r,i,!0),m=u;do{if(h===0){Fo&&!u&&Ua(r,i,0,!1);break}else{if(s=r.current.alternate,m&&!L1(s)){h=cp(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=r;h=gu;var V=A.current.memoizedState.isDehydrated;if(V&&(Go(A,v).flags|=256),v=cp(A,v,!1),v!==2){if(rp&&!V){A.errorRecoveryDisabledLanes|=m,Gs|=m,h=4;break e}m=$n,$n=h,m!==null&&($n===null?$n=m:$n.push.apply($n,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){Go(r,0),Ua(r,i,0,!0);break}e:{switch(u=r,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ua(u,i,pr,!Va);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Af+300-zt(),10<h)){if(Ua(u,i,pr,!Va),sr(u,0,!0)!==0)break e;Yi=i,u.timeoutHandle=lT(xE.bind(null,u,s,$n,Cf,ap,i,pr,Gs,Ho,Va,m,"Throttled",-0,0),h);break e}xE(u,s,$n,Cf,ap,i,pr,Gs,Ho,Va,m,null,-0,0)}}break}while(!0);gi(r)}function xE(r,i,s,u,h,m,v,A,V,X,ae,le,Z,ne){if(r.timeoutHandle=-1,le=i.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jr},wE(i,m,le);var we=(m&62914560)===m?Af-zt():(m&4194048)===m?IE-zt():0;if(we=EC(le,we),we!==null){Yi=m,r.cancelPendingCommit=we(zE.bind(null,r,i,m,s,u,h,v,A,V,ae,le,null,Z,ne)),Ua(r,m,v,!X);return}}zE(r,i,m,s,u,h,v,A,V)}function L1(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],m=h.getSnapshot;h=h.value;try{if(!cr(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ua(r,i,s,u){i&=~ip,i&=~Gs,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var h=i;0<h;){var m=31-Vt(h),v=1<<m;u[m]=-1,h&=~v}s!==0&&Oi(r,s,i)}function If(){return(ft&6)===0?(_u(0),!1):!0}function up(){if(Je!==null){if(dt===0)var r=Je.return;else r=Je,ki=Ls=null,Am(r),Po=null,eu=0,r=Je;for(;r!==null;)uE(r.alternate,r),r=r.return;Je=null}}function Go(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,nC(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Yi=0,up(),bt=r,Je=s=Pi(r.current,null),et=i,dt=0,mr=null,Va=!1,Fo=or(r,i),rp=!1,Ho=pr=ip=Gs=Pa=qt=0,$n=gu=null,ap=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var h=31-Vt(u),m=1<<h;i|=r[h],u&=~m}return $i=i,Yc(),s}function ME(r,i){He=null,W.H=lu,i===Vo||i===nf?(i=Q_(),dt=3):i===dm?(i=Q_(),dt=4):dt=i===Bm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mr=i,Je===null&&(qt=1,yf(r,Ir(i,r.current)))}function VE(){var r=hr.current;return r===null?!0:(et&4194048)===et?xr===null:(et&62914560)===et||(et&536870912)!==0?r===xr:!1}function PE(){var r=W.H;return W.H=lu,r===null?lu:r}function LE(){var r=W.A;return W.A=V1,r}function Df(){qt=4,Va||(et&4194048)!==et&&hr.current!==null||(Fo=!0),(Pa&134217727)===0&&(Gs&134217727)===0||bt===null||Ua(bt,et,pr,!1)}function cp(r,i,s){var u=ft;ft|=2;var h=PE(),m=LE();(bt!==r||et!==i)&&(Cf=null,Go(r,i)),i=!1;var v=qt;e:do try{if(dt!==0&&Je!==null){var A=Je,V=mr;switch(dt){case 8:up(),v=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var X=dt;if(dt=0,mr=null,Ko(r,A,V,X),s&&Fo){v=0;break e}break;default:X=dt,dt=0,mr=null,Ko(r,A,V,X)}}k1(),v=qt;break}catch(ae){ME(r,ae)}while(!0);return i&&r.shellSuspendCounter++,ki=Ls=null,ft=u,W.H=h,W.A=m,Je===null&&(bt=null,et=0,Yc()),v}function k1(){for(;Je!==null;)kE(Je)}function U1(r,i){var s=ft;ft|=2;var u=PE(),h=LE();bt!==r||et!==i?(Cf=null,Rf=zt()+500,Go(r,i)):Fo=or(r,i);e:do try{if(dt!==0&&Je!==null){i=Je;var m=mr;t:switch(dt){case 1:dt=0,mr=null,Ko(r,i,m,1);break;case 2:case 9:if($_(m)){dt=0,mr=null,UE(i);break}i=function(){dt!==2&&dt!==9||bt!==r||(dt=7),gi(r)},m.then(i,i);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:$_(m)?(dt=0,mr=null,UE(i)):(dt=0,mr=null,Ko(r,i,m,7));break;case 5:var v=null;switch(Je.tag){case 26:v=Je.memoizedState;case 5:case 27:var A=Je;if(v?bT(v):A.stateNode.complete){dt=0,mr=null;var V=A.sibling;if(V!==null)Je=V;else{var X=A.return;X!==null?(Je=X,Nf(X)):Je=null}break t}}dt=0,mr=null,Ko(r,i,m,5);break;case 6:dt=0,mr=null,Ko(r,i,m,6);break;case 8:up(),qt=6;break e;default:throw Error(a(462))}}j1();break}catch(ae){ME(r,ae)}while(!0);return ki=Ls=null,W.H=u,W.A=h,ft=s,Je!==null?0:(bt=null,et=0,Yc(),qt)}function j1(){for(;Je!==null&&!Pl();)kE(Je)}function kE(r){var i=oE(r.alternate,r,$i);r.memoizedProps=r.pendingProps,i===null?Nf(r):Je=i}function UE(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=tE(s,i,i.pendingProps,i.type,void 0,et);break;case 11:i=tE(s,i,i.pendingProps,i.type.render,i.ref,et);break;case 5:Am(i);default:uE(s,i),i=Je=L_(i,$i),i=oE(s,i,$i)}r.memoizedProps=r.pendingProps,i===null?Nf(r):Je=i}function Ko(r,i,s,u){ki=Ls=null,Am(i),Po=null,eu=0;var h=i.return;try{if(C1(r,h,i,s,et)){qt=1,yf(r,Ir(s,r.current)),Je=null;return}}catch(m){if(h!==null)throw Je=h,m;qt=1,yf(r,Ir(s,r.current)),Je=null;return}i.flags&32768?(at||u===1?r=!0:Fo||(et&536870912)!==0?r=!1:(Va=r=!0,(u===2||u===9||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),jE(i,r)):Nf(i)}function Nf(r){var i=r;do{if((i.flags&32768)!==0){jE(i,Va);return}r=i.return;var s=N1(i.alternate,i,$i);if(s!==null){Je=s;return}if(i=i.sibling,i!==null){Je=i;return}Je=i=r}while(i!==null);qt===0&&(qt=5)}function jE(r,i){do{var s=O1(r.alternate,r);if(s!==null){s.flags&=32767,Je=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){Je=r;return}Je=r=s}while(r!==null);qt=6,Je=null}function zE(r,i,s,u,h,m,v,A,V){r.cancelPendingCommit=null;do Of();while(on!==0);if((ft&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Jd,Ll(r,s,m,v,A,V),r===bt&&(Je=bt=null,et=0),qo=i,ka=r,Yi=s,sp=m,op=h,DE=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,H1(fn,function(){return GE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=fe.p,fe.p=2,v=ft,ft|=4;try{x1(r,i,s)}finally{ft=v,fe.p=h,W.T=u}}on=1,BE(),FE(),HE()}}function BE(){if(on===1){on=0;var r=ka,i=qo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var u=fe.p;fe.p=2;var h=ft;ft|=4;try{TE(i,r);var m=Sp,v=C_(r.containerInfo),A=m.focusedElem,V=m.selectionRange;if(v!==A&&A&&A.ownerDocument&&R_(A.ownerDocument.documentElement,A)){if(V!==null&&$d(A)){var X=V.start,ae=V.end;if(ae===void 0&&(ae=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ae,A.value.length);else{var le=A.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),we=A.textContent.length,Oe=Math.min(V.start,we),Et=V.end===void 0?Oe:Math.min(V.end,we);!ne.extend&&Oe>Et&&(v=Et,Et=Oe,Oe=v);var H=A_(A,Oe),j=A_(A,Et);if(H&&j&&(ne.rangeCount!==1||ne.anchorNode!==H.node||ne.anchorOffset!==H.offset||ne.focusNode!==j.node||ne.focusOffset!==j.offset)){var Q=le.createRange();Q.setStart(H.node,H.offset),ne.removeAllRanges(),Oe>Et?(ne.addRange(Q),ne.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),ne.addRange(Q))}}}}for(le=[],ne=A;ne=ne.parentNode;)ne.nodeType===1&&le.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var se=le[A];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Hf=!!Tp,Sp=Tp=null}finally{ft=h,fe.p=u,W.T=s}}r.current=i,on=2}}function FE(){if(on===2){on=0;var r=ka,i=qo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var u=fe.p;fe.p=2;var h=ft;ft|=4;try{gE(r,i.alternate,i)}finally{ft=h,fe.p=u,W.T=s}}on=3}}function HE(){if(on===4||on===3){on=0,fo();var r=ka,i=qo,s=Yi,u=DE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,qo=ka=null,qE(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(La=null),ce(s),i=i.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ar,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,h=fe.p,fe.p=2,W.T=null;try{for(var m=r.onRecoverableError,v=0;v<u.length;v++){var A=u[v];m(A.value,{componentStack:A.stack})}}finally{W.T=i,fe.p=h}}(Yi&3)!==0&&Of(),gi(r),h=r.pendingLanes,(s&261930)!==0&&(h&42)!==0?r===lp?yu++:(yu=0,lp=r):yu=0,_u(0)}}function qE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Jl(i)))}function Of(){return BE(),FE(),HE(),GE()}function GE(){if(on!==5)return!1;var r=ka,i=sp;sp=0;var s=ce(Yi),u=W.T,h=fe.p;try{fe.p=32>s?32:s,W.T=null,s=op,op=null;var m=ka,v=Yi;if(on=0,qo=ka=null,Yi=0,(ft&6)!==0)throw Error(a(331));var A=ft;if(ft|=4,RE(m.current),bE(m,m.current,v,s),ft=A,_u(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ar,m)}catch{}return!0}finally{fe.p=h,W.T=u,qE(r,i)}}function KE(r,i,s){i=Ir(s,i),i=zm(r.stateNode,i,2),r=Na(r,i,2),r!==null&&(ri(r,2),gi(r))}function mt(r,i,s){if(r.tag===3)KE(r,r,s);else for(;i!==null;){if(i.tag===3){KE(i,r,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(La===null||!La.has(u))){r=Ir(s,r),s=$v(2),u=Na(i,s,2),u!==null&&(Yv(s,u,i,r),ri(u,2),gi(u));break}}i=i.return}}function fp(r,i,s){var u=r.pingCache;if(u===null){u=r.pingCache=new P1;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(s)||(rp=!0,h.add(s),r=z1.bind(null,r,i,s),i.then(r,r))}function z1(r,i,s){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,bt===r&&(et&s)===s&&(qt===4||qt===3&&(et&62914560)===et&&300>zt()-Af?(ft&2)===0&&Go(r,0):ip|=s,Ho===et&&(Ho=0)),gi(r)}function $E(r,i){i===0&&(i=Ni()),r=Ms(r,i),r!==null&&(ri(r,i),gi(r))}function B1(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),$E(r,s)}function F1(r,i){var s=0;switch(r.tag){case 31:case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),$E(r,s)}function H1(r,i){return Kt(r,i)}var xf=null,$o=null,hp=!1,Mf=!1,dp=!1,ja=0;function gi(r){r!==$o&&r.next===null&&($o===null?xf=$o=r:$o=$o.next=r),Mf=!0,hp||(hp=!0,G1())}function _u(r,i){if(!dp&&Mf){dp=!0;do for(var s=!1,u=xf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var v=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-Vt(42|r)+1)-1,m&=h&~(v&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,WE(u,m))}else m=et,m=sr(u,u===bt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||or(u,m)||(s=!0,WE(u,m));u=u.next}while(s);dp=!1}}function q1(){YE()}function YE(){Mf=hp=!1;var r=0;ja!==0&&tC()&&(r=ja);for(var i=zt(),s=null,u=xf;u!==null;){var h=u.next,m=QE(u,i);m===0?(u.next=null,s===null?xf=h:s.next=h,h===null&&($o=s)):(s=u,(r!==0||(m&3)!==0)&&(Mf=!0)),u=h}on!==0&&on!==5||_u(r),ja!==0&&(ja=0)}function QE(r,i){for(var s=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var v=31-Vt(m),A=1<<v,V=h[v];V===-1?((A&s)===0||(A&u)!==0)&&(h[v]=mo(A,i)):V<=i&&(r.expiredLanes|=A),m&=~A}if(i=bt,s=et,s=sr(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,s===0||r===i&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ti(u),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||or(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(u!==null&&ti(u),ce(s)){case 2:case 8:s=Di;break;case 32:s=fn;break;case 268435456:s=vs;break;default:s=fn}return u=XE.bind(null,r),s=Kt(s,u),r.callbackPriority=i,r.callbackNode=s,i}return u!==null&&u!==null&&ti(u),r.callbackPriority=2,r.callbackNode=null,2}function XE(r,i){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(Of()&&r.callbackNode!==s)return null;var u=et;return u=sr(r,r===bt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(OE(r,u,i),QE(r,zt()),r.callbackNode!=null&&r.callbackNode===s?XE.bind(null,r):null)}function WE(r,i){if(Of())return null;OE(r,i,!0)}function G1(){rC(function(){(ft&6)!==0?Kt(ha,q1):YE()})}function mp(){if(ja===0){var r=xo;r===0&&(r=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),ja=r}return ja}function JE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yo(""+r)}function ZE(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function K1(r,i,s,u,h){if(i==="submit"&&s&&s.stateNode===h){var m=JE((h[ge]||null).action),v=u.submitter;v&&(i=(i=v[ge]||null)?JE(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var A=new ui("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ja!==0){var V=v?ZE(h,v):new FormData(h);Vm(s,{pending:!0,data:V,method:h.method,action:m},null,V)}}else typeof m=="function"&&(A.preventDefault(),V=v?ZE(h,v):new FormData(h),Vm(s,{pending:!0,data:V,method:h.method,action:m},m,V))},currentTarget:h}]})}}for(var pp=0;pp<Wd.length;pp++){var gp=Wd[pp],$1=gp.toLowerCase(),Y1=gp[0].toUpperCase()+gp.slice(1);qr($1,"on"+Y1)}qr(N_,"onAnimationEnd"),qr(O_,"onAnimationIteration"),qr(x_,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(c1,"onTransitionRun"),qr(f1,"onTransitionStart"),qr(h1,"onTransitionCancel"),qr(M_,"onTransitionEnd"),Rn("onMouseEnter",["mouseout","mouseover"]),Rn("onMouseLeave",["mouseout","mouseover"]),Rn("onPointerEnter",["pointerout","pointerover"]),Rn("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function eT(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var u=r[s],h=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var v=u.length-1;0<=v;v--){var A=u[v],V=A.instance,X=A.currentTarget;if(A=A.listener,V!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=X;try{m(h)}catch(ae){$c(ae)}h.currentTarget=null,m=V}else for(v=0;v<u.length;v++){if(A=u[v],V=A.instance,X=A.currentTarget,A=A.listener,V!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=X;try{m(h)}catch(ae){$c(ae)}h.currentTarget=null,m=V}}}}function Ze(r,i){var s=i[Pe];s===void 0&&(s=i[Pe]=new Set);var u=r+"__bubble";s.has(u)||(tT(i,r,2,!1),s.add(u))}function yp(r,i,s){var u=0;i&&(u|=4),tT(s,r,u,i)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function _p(r){if(!r[Vf]){r[Vf]=!0,zn.forEach(function(s){s!=="selectionchange"&&(Q1.has(s)||yp(s,!1,r),yp(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Vf]||(i[Vf]=!0,yp("selectionchange",!1,i))}}function tT(r,i,s,u){switch(NT(i)){case 2:var h=bC;break;case 8:h=wC;break;default:h=Mp}s=h.bind(null,i,s,r),h=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,s,{capture:!0,passive:h}):r.addEventListener(i,s,!0):h!==void 0?r.addEventListener(i,s,{passive:h}):r.addEventListener(i,s,!1)}function vp(r,i,s,u,h){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var A=u.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=u.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=At(A),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){u=m=v;continue e}A=A.parentNode}}u=u.return}Ea(function(){var X=m,ae=wr(s),le=[];e:{var Z=V_.get(r);if(Z!==void 0){var ne=ui,we=r;switch(r){case"keypress":if(Cs(s)===0)break e;case"keydown":case"keyup":ne=qc;break;case"focusin":we="focus",ne=Ds;break;case"focusout":we="blur",ne=Ds;break;case"beforeblur":case"afterblur":ne=Ds;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=y;break;case N_:case O_:case x_:ne=kc;break;case M_:ne=C;break;case"scroll":case"scrollend":ne=Hl;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Vi;break;case"toggle":case"beforetoggle":ne=Fe}var Oe=(i&4)!==0,Et=!Oe&&(r==="scroll"||r==="scrollend"),H=Oe?Z!==null?Z+"Capture":null:Z;Oe=[];for(var j=X,Q;j!==null;){var se=j;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||H===null||(se=zr(j,H),se!=null&&Oe.push(Eu(j,se,Q))),Et)break;j=j.return}0<Oe.length&&(Z=new ne(Z,we,null,s,ae),le.push({event:Z,listeners:Oe}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",Z&&s!==zl&&(we=s.relatedTarget||s.fromElement)&&(At(we)||we[Se]))break e;if((ne||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(we=s.relatedTarget||s.toElement,ne=X,we=we?At(we):null,we!==null&&(Et=l(we),Oe=we.tag,we!==Et||Oe!==5&&Oe!==27&&Oe!==6)&&(we=null)):(ne=null,we=X),ne!==we)){if(Oe=ql,se="onMouseLeave",H="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Vi,se="onPointerLeave",H="onPointerEnter",j="pointer"),Et=ne==null?Z:Rt(ne),Q=we==null?Z:Rt(we),Z=new Oe(se,j+"leave",ne,s,ae),Z.target=Et,Z.relatedTarget=Q,se=null,At(ae)===X&&(Oe=new Oe(H,j+"enter",we,s,ae),Oe.target=Q,Oe.relatedTarget=Et,se=Oe),Et=se,ne&&we)t:{for(Oe=X1,H=ne,j=we,Q=0,se=H;se;se=Oe(se))Q++;se=0;for(var Ie=j;Ie;Ie=Oe(Ie))se++;for(;0<Q-se;)H=Oe(H),Q--;for(;0<se-Q;)j=Oe(j),se--;for(;Q--;){if(H===j||j!==null&&H===j.alternate){Oe=H;break t}H=Oe(H),j=Oe(j)}Oe=null}else Oe=null;ne!==null&&nT(le,Z,ne,Oe,!1),we!==null&&Et!==null&&nT(le,Et,we,Oe,!0)}}e:{if(Z=X?Rt(X):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var ot=v_;else if(y_(Z))if(E_)ot=o1;else{ot=a1;var Re=i1}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&go(X.elementType)&&(ot=v_):ot=s1;if(ot&&(ot=ot(r,X))){__(le,ot,s,ae);break e}Re&&Re(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&kl(Z,"number",Z.value)}switch(Re=X?Rt(X):window,r){case"focusin":(y_(Re)||Re.contentEditable==="true")&&(wo=Re,Yd=X,Ql=null);break;case"focusout":Ql=Yd=wo=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,I_(le,s,ae);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":I_(le,s,ae)}var Ke;if(ct)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else bo?Ns(r,s)&&(tt="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(tt="onCompositionStart");tt&&(hi&&s.locale!=="ko"&&(bo||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&bo&&(Ke=Fl()):(li=ae,Bl="value"in li?li.value:li.textContent,bo=!0)),Re=Pf(X,tt),0<Re.length&&(tt=new fi(tt,r,null,s,ae),le.push({event:tt,listeners:Re}),Ke?tt.data=Ke:(Ke=So(s),Ke!==null&&(tt.data=Ke)))),(Ke=Rr?e1(r,s):t1(r,s))&&(tt=Pf(X,"onBeforeInput"),0<tt.length&&(Re=new fi("onBeforeInput","beforeinput",null,s,ae),le.push({event:Re,listeners:tt}),Re.data=Ke)),K1(le,r,X,s,ae)}eT(le,i)})}function Eu(r,i,s){return{instance:r,listener:i,currentTarget:s}}function Pf(r,i){for(var s=i+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=zr(r,s),h!=null&&u.unshift(Eu(r,h,m)),h=zr(r,i),h!=null&&u.push(Eu(r,h,m))),r.tag===3)return u;r=r.return}return[]}function X1(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function nT(r,i,s,u,h){for(var m=i._reactName,v=[];s!==null&&s!==u;){var A=s,V=A.alternate,X=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||X===null||(V=X,h?(X=zr(s,m),X!=null&&v.unshift(Eu(s,X,V))):h||(X=zr(s,m),X!=null&&v.push(Eu(s,X,V)))),s=s.return}v.length!==0&&r.push({event:i,listeners:v})}var W1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function rT(r){return(typeof r=="string"?r:""+r).replace(W1,`
`).replace(J1,"")}function iT(r,i){return i=rT(i),rT(r)===i}function vt(r,i,s,u,h,m){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Hn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Hn(r,""+u);break;case"className":Jt(r,"class",u);break;case"tabIndex":Jt(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jt(r,s,u);break;case"style":jl(r,u,m);break;case"data":if(i!=="object"){Jt(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(s);break}u=yo(""+u),r.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&vt(r,i,"name",h.name,h,null),vt(r,i,"formEncType",h.formEncType,h,null),vt(r,i,"formMethod",h.formMethod,h,null),vt(r,i,"formTarget",h.formTarget,h,null)):(vt(r,i,"encType",h.encType,h,null),vt(r,i,"method",h.method,h,null),vt(r,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(s);break}u=yo(""+u),r.setAttribute(s,u);break;case"onClick":u!=null&&(r.onclick=jr);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}s=yo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,""+u):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":u===!0?r.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(s,u):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(s,u):r.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(s):r.setAttribute(s,u);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),Bt(r,"popover",u);break;case"xlinkActuate":gt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":gt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":gt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":gt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":gt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":gt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":gt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":gt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":gt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bt(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vc.get(s)||s,Bt(r,s,u))}}function Ep(r,i,s,u,h,m){switch(s){case"style":jl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof u=="string"?Hn(r,u):(typeof u=="number"||typeof u=="bigint")&&Hn(r,""+u);break;case"onScroll":u!=null&&Ze("scroll",r);break;case"onScrollEnd":u!=null&&Ze("scrollend",r);break;case"onClick":u!=null&&(r.onclick=jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!An.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=r[ge]||null,m=m!=null?m[s]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,u,h);break e}s in r?r[s]=u:u===!0?r.setAttribute(s,""):Bt(r,s,u)}}}function En(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var u=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var v=s[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(r,i,m,v,s,null)}}h&&vt(r,i,"srcSet",s.srcSet,s,null),u&&vt(r,i,"src",s.src,s,null);return;case"input":Ze("invalid",r);var A=m=v=h=null,V=null,X=null;for(u in s)if(s.hasOwnProperty(u)){var ae=s[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":v=ae;break;case"checked":V=ae;break;case"defaultChecked":X=ae;break;case"value":m=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:vt(r,i,u,ae,s,null)}}Oc(r,m,A,V,X,v,h,!1);return;case"select":Ze("invalid",r),u=v=m=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":v=A;break;case"multiple":u=A;default:vt(r,i,h,A,s,null)}i=m,s=v,r.multiple=!!u,i!=null?ga(r,!!u,i,!1):s!=null&&ga(r,!!u,s,!0);return;case"textarea":Ze("invalid",r),m=h=u=null;for(v in s)if(s.hasOwnProperty(v)&&(A=s[v],A!=null))switch(v){case"value":u=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:vt(r,i,v,A,s,null)}ya(r,u,h,m);return;case"option":for(V in s)if(s.hasOwnProperty(V)&&(u=s[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:vt(r,i,V,u,s,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(u=0;u<vu.length;u++)Ze(vu[u],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in s)if(s.hasOwnProperty(X)&&(u=s[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:vt(r,i,X,u,s,null)}return;default:if(go(i)){for(ae in s)s.hasOwnProperty(ae)&&(u=s[ae],u!==void 0&&Ep(r,i,ae,u,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(u=s[A],u!=null&&vt(r,i,A,u,s,null))}function Z1(r,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,A=null,V=null,X=null,ae=null;for(ne in s){var le=s[ne];if(s.hasOwnProperty(ne)&&le!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":V=le;default:u.hasOwnProperty(ne)||vt(r,i,ne,null,u,le)}}for(var Z in u){var ne=u[Z];if(le=s[Z],u.hasOwnProperty(Z)&&(ne!=null||le!=null))switch(Z){case"type":m=ne;break;case"name":h=ne;break;case"checked":X=ne;break;case"defaultChecked":ae=ne;break;case"value":v=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:ne!==le&&vt(r,i,Z,ne,u,le)}}po(r,v,A,V,X,ae,m,h);return;case"select":ne=v=A=Z=null;for(m in s)if(V=s[m],s.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":ne=V;default:u.hasOwnProperty(m)||vt(r,i,m,null,u,V)}for(h in u)if(m=u[h],V=s[h],u.hasOwnProperty(h)&&(m!=null||V!=null))switch(h){case"value":Z=m;break;case"defaultValue":A=m;break;case"multiple":v=m;default:m!==V&&vt(r,i,h,m,u,V)}i=A,s=v,u=ne,Z!=null?ga(r,!!s,Z,!1):!!u!=!!s&&(i!=null?ga(r,!!s,i,!0):ga(r,!!s,s?[]:"",!1));return;case"textarea":ne=Z=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:vt(r,i,A,null,u,h)}for(v in u)if(h=u[v],m=s[v],u.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":Z=h;break;case"defaultValue":ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&vt(r,i,v,h,u,m)}xc(r,Z,ne);return;case"option":for(var we in s)if(Z=s[we],s.hasOwnProperty(we)&&Z!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:vt(r,i,we,null,u,Z)}for(V in u)if(Z=u[V],ne=s[V],u.hasOwnProperty(V)&&Z!==ne&&(Z!=null||ne!=null))switch(V){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:vt(r,i,V,Z,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in s)Z=s[Oe],s.hasOwnProperty(Oe)&&Z!=null&&!u.hasOwnProperty(Oe)&&vt(r,i,Oe,null,u,Z);for(X in u)if(Z=u[X],ne=s[X],u.hasOwnProperty(X)&&Z!==ne&&(Z!=null||ne!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:vt(r,i,X,Z,u,ne)}return;default:if(go(i)){for(var Et in s)Z=s[Et],s.hasOwnProperty(Et)&&Z!==void 0&&!u.hasOwnProperty(Et)&&Ep(r,i,Et,void 0,u,Z);for(ae in u)Z=u[ae],ne=s[ae],!u.hasOwnProperty(ae)||Z===ne||Z===void 0&&ne===void 0||Ep(r,i,ae,Z,u,ne);return}}for(var H in s)Z=s[H],s.hasOwnProperty(H)&&Z!=null&&!u.hasOwnProperty(H)&&vt(r,i,H,null,u,Z);for(le in u)Z=u[le],ne=s[le],!u.hasOwnProperty(le)||Z===ne||Z==null&&ne==null||vt(r,i,le,Z,u,ne)}function aT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],m=h.transferSize,v=h.initiatorType,A=h.duration;if(m&&A&&aT(v)){for(v=0,A=h.responseEnd,u+=1;u<s.length;u++){var V=s[u],X=V.startTime;if(X>A)break;var ae=V.transferSize,le=V.initiatorType;ae&&aT(le)&&(V=V.responseEnd,v+=ae*(V<A?1:(A-X)/(V-X)))}if(--u,i+=8*(m+v)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Tp=null,Sp=null;function Lf(r){return r.nodeType===9?r:r.ownerDocument}function sT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oT(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function bp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wp=null;function tC(){var r=window.event;return r&&r.type==="popstate"?r===wp?!1:(wp=r,!0):(wp=null,!1)}var lT=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,rC=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(r){return uT.resolve(null).then(r).catch(iC)}:lT;function iC(r){setTimeout(function(){throw r})}function za(r){return r==="head"}function cT(r,i){var s=i,u=0;do{var h=s.nextSibling;if(r.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){r.removeChild(h),Wo(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Tu(r.ownerDocument.documentElement);else if(s==="head"){s=r.ownerDocument.head,Tu(s);for(var m=s.firstChild;m;){var v=m.nextSibling,A=m.nodeName;m[pt]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=v}}else s==="body"&&Tu(r.ownerDocument.body);s=h}while(s);Wo(i)}function fT(r,i){var s=r;r=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(r===0)break;r--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||r++;s=u}while(s)}function Ap(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ap(s),Nt(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function aC(r,i,s,u){for(;r.nodeType===1;){var h=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[pt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Mr(r.nextSibling),r===null)break}return null}function sC(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Mr(r.nextSibling),r===null))return null;return r}function hT(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Mr(r.nextSibling),r===null))return null;return r}function Rp(r){return r.data==="$?"||r.data==="$~"}function Cp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function oC(r,i){var s=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Mr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Ip=null;function dT(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"||s==="/&"){if(i===0)return Mr(r.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}r=r.nextSibling}return null}function mT(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return r;i--}else s!=="/$"&&s!=="/&"||i++}r=r.previousSibling}return null}function pT(r,i,s){switch(i=Lf(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Tu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Nt(r)}var Vr=new Map,gT=new Set;function kf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Qi=fe.d;fe.d={f:lC,r:uC,D:cC,C:fC,L:hC,m:dC,X:pC,S:mC,M:gC};function lC(){var r=Qi.f(),i=If();return r||i}function uC(r){var i=qe(r);i!==null&&i.tag===5&&i.type==="form"?Mv(i):Qi.r(r)}var Yo=typeof document>"u"?null:document;function yT(r,i,s){var u=Yo;if(u&&typeof i=="string"&&i){var h=Fn(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),gT.has(h)||(gT.add(h),r={rel:r,crossOrigin:s,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),En(i,"link",r),Ct(i),u.head.appendChild(i)))}}function cC(r){Qi.D(r),yT("dns-prefetch",r,null)}function fC(r,i){Qi.C(r,i),yT("preconnect",r,i)}function hC(r,i,s){Qi.L(r,i,s);var u=Yo;if(u&&r&&i){var h='link[rel="preload"][as="'+Fn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Fn(s.imageSizes)+'"]')):h+='[href="'+Fn(r)+'"]';var m=h;switch(i){case"style":m=Qo(r);break;case"script":m=Xo(r)}Vr.has(m)||(r=E({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),Vr.set(m,r),u.querySelector(h)!==null||i==="style"&&u.querySelector(Su(m))||i==="script"&&u.querySelector(bu(m))||(i=u.createElement("link"),En(i,"link",r),Ct(i),u.head.appendChild(i)))}}function dC(r,i){Qi.m(r,i);var s=Yo;if(s&&r){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Fn(u)+'"][href="'+Fn(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Xo(r)}if(!Vr.has(m)&&(r=E({rel:"modulepreload",href:r},i),Vr.set(m,r),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(bu(m)))return}u=s.createElement("link"),En(u,"link",r),Ct(u),s.head.appendChild(u)}}}function mC(r,i,s){Qi.S(r,i,s);var u=Yo;if(u&&r){var h=hn(u).hoistableStyles,m=Qo(r);i=i||"default";var v=h.get(m);if(!v){var A={loading:0,preload:null};if(v=u.querySelector(Su(m)))A.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":i},s),(s=Vr.get(m))&&Dp(r,s);var V=v=u.createElement("link");Ct(V),En(V,"link",r),V._p=new Promise(function(X,ae){V.onload=X,V.onerror=ae}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Uf(v,i,u)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(m,v)}}}function pC(r,i){Qi.X(r,i);var s=Yo;if(s&&r){var u=hn(s).hoistableScripts,h=Xo(r),m=u.get(h);m||(m=s.querySelector(bu(h)),m||(r=E({src:r,async:!0},i),(i=Vr.get(h))&&Np(r,i),m=s.createElement("script"),Ct(m),En(m,"link",r),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function gC(r,i){Qi.M(r,i);var s=Yo;if(s&&r){var u=hn(s).hoistableScripts,h=Xo(r),m=u.get(h);m||(m=s.querySelector(bu(h)),m||(r=E({src:r,async:!0,type:"module"},i),(i=Vr.get(h))&&Np(r,i),m=s.createElement("script"),Ct(m),En(m,"link",r),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function _T(r,i,s,u){var h=(h=Ne.current)?kf(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Qo(s.href),s=hn(h).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=Qo(s.href);var m=hn(h).hoistableStyles,v=m.get(r);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,v),(m=h.querySelector(Su(r)))&&!m._p&&(v.instance=m,v.state.loading=5),Vr.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vr.set(r,s),m||yC(h,r,s,v.state))),i&&u===null)throw Error(a(528,""));return v}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xo(s),s=hn(h).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function Qo(r){return'href="'+Fn(r)+'"'}function Su(r){return'link[rel="stylesheet"]['+r+"]"}function vT(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function yC(r,i,s,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),En(i,"link",s),Ct(i),r.head.appendChild(i))}function Xo(r){return'[src="'+Fn(r)+'"]'}function bu(r){return"script[async]"+r}function ET(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Fn(s.href)+'"]');if(u)return i.instance=u,Ct(u),u;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ct(u),En(u,"style",h),Uf(u,s.precedence,r),i.instance=u;case"stylesheet":h=Qo(s.href);var m=r.querySelector(Su(h));if(m)return i.state.loading|=4,i.instance=m,Ct(m),m;u=vT(s),(h=Vr.get(h))&&Dp(u,h),m=(r.ownerDocument||r).createElement("link"),Ct(m);var v=m;return v._p=new Promise(function(A,V){v.onload=A,v.onerror=V}),En(m,"link",u),i.state.loading|=4,Uf(m,s.precedence,r),i.instance=m;case"script":return m=Xo(s.src),(h=r.querySelector(bu(m)))?(i.instance=h,Ct(h),h):(u=s,(h=Vr.get(m))&&(u=E({},s),Np(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Ct(h),En(h,"link",u),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Uf(u,s.precedence,r));return i.instance}function Uf(r,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,v=0;v<u.length;v++){var A=u[v];if(A.dataset.precedence===i)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function Dp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Np(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var jf=null;function TT(r,i,s){if(jf===null){var u=new Map,h=jf=new Map;h.set(s,u)}else h=jf,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(r))return u;for(u.set(r,null),s=s.getElementsByTagName(r),h=0;h<s.length;h++){var m=s[h];if(!(m[pt]||m[me]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=r+v;var A=u.get(v);A?A.push(m):u.set(v,[m])}}return u}function ST(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function _C(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function vC(r,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Qo(u.href),m=i.querySelector(Su(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=zf.bind(r),i.then(r,r)),s.state.loading|=4,s.instance=m,Ct(m);return}m=i.ownerDocument||i,u=vT(u),(h=Vr.get(h))&&Dp(u,h),m=m.createElement("link"),Ct(m);var v=m;v._p=new Promise(function(A,V){v.onload=A,v.onerror=V}),En(m,"link",u),s.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(r.count++,s=zf.bind(r),i.addEventListener("load",s),i.addEventListener("error",s))}}var Op=0;function EC(r,i){return r.stylesheets&&r.count===0&&Ff(r,r.stylesheets),0<r.count||0<r.imgCount?function(s){var u=setTimeout(function(){if(r.stylesheets&&Ff(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Op===0&&(Op=62500*eC());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ff(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Op?50:800)+i);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bf=null;function Ff(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bf=new Map,i.forEach(TC,r),Bf=null,zf.call(r))}function TC(r,i){if(!(i.state.loading&4)){var s=Bf.get(r);if(s)var u=s.get(null);else{s=new Map,Bf.set(r,s);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),u=v)}u&&s.set(null,u)}h=i.instance,v=h.getAttribute("data-precedence"),m=s.get(v)||u,m===u&&s.set(null,h),s.set(v,h),this.count++,u=zf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var wu={$$typeof:K,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function SC(r,i,s,u,h,m,v,A,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ln(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ln(0),this.hiddenUpdates=Ln(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function wT(r,i,s,u,h,m,v,A,V,X,ae,le){return r=new SC(r,i,s,v,V,X,ae,le,A),i=1,m===!0&&(i|=24),m=fr(3,null,null,i),r.current=m,m.stateNode=r,i=cm(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:i},mm(m),r}function AT(r){return r?(r=Co,r):Co}function RT(r,i,s,u,h,m){h=AT(h),u.context===null?u.context=h:u.pendingContext=h,u=Da(i),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=Na(r,u,i),s!==null&&(Yn(s,r,i),nu(s,r,i))}function CT(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function xp(r,i){CT(r,i),(r=r.alternate)&&CT(r,i)}function IT(r){if(r.tag===13||r.tag===31){var i=Ms(r,67108864);i!==null&&Yn(i,r,67108864),xp(r,67108864)}}function DT(r){if(r.tag===13||r.tag===31){var i=gr();i=J(i);var s=Ms(r,i);s!==null&&Yn(s,r,i),xp(r,i)}}var Hf=!0;function bC(r,i,s,u){var h=W.T;W.T=null;var m=fe.p;try{fe.p=2,Mp(r,i,s,u)}finally{fe.p=m,W.T=h}}function wC(r,i,s,u){var h=W.T;W.T=null;var m=fe.p;try{fe.p=8,Mp(r,i,s,u)}finally{fe.p=m,W.T=h}}function Mp(r,i,s,u){if(Hf){var h=Vp(u);if(h===null)vp(r,i,u,qf,s),OT(r,u);else if(RC(h,r,i,s,u))u.stopPropagation();else if(OT(r,u),i&4&&-1<AC.indexOf(r)){for(;h!==null;){var m=qe(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=br(m.pendingLanes);if(v!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var V=1<<31-Vt(v);A.entanglements[1]|=V,v&=~V}gi(m),(ft&6)===0&&(Rf=zt()+500,_u(0))}}break;case 31:case 13:A=Ms(m,2),A!==null&&Yn(A,m,2),If(),xp(m,2)}if(m=Vp(u),m===null&&vp(r,i,u,qf,s),m===h)break;h=m}h!==null&&u.stopPropagation()}else vp(r,i,u,null,s)}}function Vp(r){return r=wr(r),Pp(r)}var qf=null;function Pp(r){if(qf=null,r=At(r),r!==null){var i=l(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=c(i),r!==null)return r;r=null}else if(s===31){if(r=d(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return qf=r,null}function NT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case ha:return 2;case Di:return 8;case fn:case ir:return 32;case vs:return 268435456;default:return 32}default:return 32}}var Lp=!1,Ba=null,Fa=null,Ha=null,Au=new Map,Ru=new Map,qa=[],AC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OT(r,i){switch(r){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(i.pointerId)}}function Cu(r,i,s,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},i!==null&&(i=qe(i),i!==null&&IT(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function RC(r,i,s,u,h){switch(i){case"focusin":return Ba=Cu(Ba,r,i,s,u,h),!0;case"dragenter":return Fa=Cu(Fa,r,i,s,u,h),!0;case"mouseover":return Ha=Cu(Ha,r,i,s,u,h),!0;case"pointerover":var m=h.pointerId;return Au.set(m,Cu(Au.get(m)||null,r,i,s,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Ru.set(m,Cu(Ru.get(m)||null,r,i,s,u,h)),!0}return!1}function xT(r){var i=At(r.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){r.blockedOn=i,Ee(r.priority,function(){DT(s)});return}}else if(i===31){if(i=d(s),i!==null){r.blockedOn=i,Ee(r.priority,function(){DT(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=Vp(r.nativeEvent);if(s===null){s=r.nativeEvent;var u=new s.constructor(s.type,s);zl=u,s.target.dispatchEvent(u),zl=null}else return i=qe(s),i!==null&&IT(i),r.blockedOn=s,!1;i.shift()}return!0}function MT(r,i,s){Gf(r)&&s.delete(i)}function CC(){Lp=!1,Ba!==null&&Gf(Ba)&&(Ba=null),Fa!==null&&Gf(Fa)&&(Fa=null),Ha!==null&&Gf(Ha)&&(Ha=null),Au.forEach(MT),Ru.forEach(MT)}function Kf(r,i){r.blockedOn===i&&(r.blockedOn=null,Lp||(Lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CC)))}var $f=null;function VT(r){$f!==r&&($f=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$f===r&&($f=null);for(var i=0;i<r.length;i+=3){var s=r[i],u=r[i+1],h=r[i+2];if(typeof u!="function"){if(Pp(u||s)===null)continue;break}var m=qe(s);m!==null&&(r.splice(i,3),i-=3,Vm(m,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Wo(r){function i(V){return Kf(V,r)}Ba!==null&&Kf(Ba,r),Fa!==null&&Kf(Fa,r),Ha!==null&&Kf(Ha,r),Au.forEach(i),Ru.forEach(i);for(var s=0;s<qa.length;s++){var u=qa[s];u.blockedOn===r&&(u.blockedOn=null)}for(;0<qa.length&&(s=qa[0],s.blockedOn===null);)xT(s),s.blockedOn===null&&qa.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],m=s[u+1],v=h[ge]||null;if(typeof m=="function")v||VT(s);else if(v){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[ge]||null)A=v.formAction;else if(Pp(h)!==null)continue}else A=v.action;typeof A=="function"?s[u+1]=A:(s.splice(u,3),u-=3),VT(s)}}}function PT(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function kp(r){this._internalRoot=r}Yf.prototype.render=kp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=gr();RT(s,u,r,i,null,null)},Yf.prototype.unmount=kp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;RT(r.current,2,null,r,null,null),If(),i[Se]=null}};function Yf(r){this._internalRoot=r}Yf.prototype.unstable_scheduleHydration=function(r){if(r){var i=de();r={blockedOn:null,target:r,priority:i};for(var s=0;s<qa.length&&i!==0&&i<qa[s].priority;s++);qa.splice(s,0,r),s===0&&xT(r)}};var LT=e.version;if(LT!=="19.2.4")throw Error(a(527,LT,"19.2.4"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(i),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var IC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{ar=Qf.inject(IC),St=Qf}catch{}}return Du.createRoot=function(r,i){if(!o(r))throw Error(a(299));var s=!1,u="",h=Hv,m=qv,v=Gv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=wT(r,1,!1,null,null,s,u,null,h,m,v,PT),r[Se]=i.current,_p(r),new kp(i)},Du.hydrateRoot=function(r,i,s){if(!o(r))throw Error(a(299));var u=!1,h="",m=Hv,v=qv,A=Gv,V=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(V=s.formState)),i=wT(r,1,!0,i,s??null,u,h,V,m,v,A,PT),i.context=AT(null),s=i.current,u=gr(),u=J(u),h=Da(u),h.callback=null,Na(s,h,u),s=u,i.current.lanes=s,ri(i,s),gi(i),r[Se]=i.current,_p(r),new Yf(i)},Du.version="19.2.4",Du}var KT;function BC(){if(KT)return Bp.exports;KT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bp.exports=zC(),Bp.exports}var FC=BC();const HC=vb(FC);var Gp={exports:{}},Kp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function qC(){if($T)return Kp;$T=1;var n=od();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,a=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Kp.useSyncExternalStoreWithSelector=function(p,g,_,E,b){var I=o(null);if(I.current===null){var P={hasValue:!1,value:null};I.current=P}else P=I.current;I=c(function(){function L($){if(!G){if(G=!0,q=$,$=E($),b!==void 0&&P.hasValue){var re=P.value;if(b(re,$))return K=re}return K=$}if(re=K,t(q,$))return re;var S=E($);return b!==void 0&&b(re,S)?(q=$,re):(q=$,K=S)}var G=!1,q,K,ee=_===void 0?null:_;return[function(){return L(g())},ee===null?void 0:function(){return L(ee())}]},[g,_,E,b]);var z=a(p,I[0],I[1]);return l(function(){P.hasValue=!0,P.value=z},[z]),d(z),z},Kp}var YT;function GC(){return YT||(YT=1,Gp.exports=qC()),Gp.exports}var KC=GC();function $C(n){n()}function YC(){let n=null,e=null;return{clear(){n=null,e=null},notify(){$C(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=n;for(;a;)t.push(a),a=a.next;return t},subscribe(t){let a=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!a||n===null||(a=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var QT={notify(){},get:()=>[]};function QC(n,e){let t,a=QT,o=0,l=!1;function c(z){_();const L=a.subscribe(z);let G=!1;return()=>{G||(G=!0,L(),E())}}function d(){a.notify()}function p(){P.onStateChange&&P.onStateChange()}function g(){return l}function _(){o++,t||(t=n.subscribe(p),a=YC())}function E(){o--,t&&o===0&&(t(),t=void 0,a.clear(),a=QT)}function b(){l||(l=!0,_())}function I(){l&&(l=!1,E())}const P={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:I,getListeners:()=>a};return P}var XC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WC=XC(),JC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZC=JC(),eI=()=>WC||ZC?B.useLayoutEffect:B.useEffect,tI=eI(),$p=Symbol.for("react-redux-context"),Yp=typeof globalThis<"u"?globalThis:{};function nI(){if(!B.createContext)return{};const n=Yp[$p]??(Yp[$p]=new Map);let e=n.get(B.createContext);return e||(e=B.createContext(null),n.set(B.createContext,e)),e}var ss=nI();function rI(n){const{children:e,context:t,serverState:a,store:o}=n,l=B.useMemo(()=>{const p=QC(o);return{store:o,subscription:p,getServerState:a?()=>a:void 0}},[o,a]),c=B.useMemo(()=>o.getState(),[o]);tI(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||ss;return B.createElement(d.Provider,{value:l},e)}var iI=rI;function ay(n=ss){return function(){return B.useContext(n)}}var Sb=ay();function bb(n=ss){const e=n===ss?Sb:ay(n),t=()=>{const{store:a}=e();return a};return Object.assign(t,{withTypes:()=>t}),t}var aI=bb();function sI(n=ss){const e=n===ss?aI:bb(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var oI=sI(),lI=(n,e)=>n===e;function uI(n=ss){const e=n===ss?Sb:ay(n),t=(a,o={})=>{const{equalityFn:l=lI}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:p,getServerState:g}=c;B.useRef(!0);const _=B.useCallback({[a.name](b){return a(b)}}[a.name],[a]),E=KC.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,_,l);return B.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var cI=uI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wb=n=>{throw TypeError(n)},fI=(n,e,t)=>e.has(n)||wb("Cannot "+t),Qp=(n,e,t)=>(fI(n,e,"read from private field"),t?t.call(n):e.get(n)),hI=(n,e,t)=>e.has(n)?wb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),XT="popstate";function dI(n={}){function e(a,o){let{pathname:l,search:c,hash:d}=a.location;return Qu("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:Ai(o)}return pI(e,t,null,n)}function Qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mI(){return Math.random().toString(36).substring(2,10)}function WT(n,e){return{usr:n.state,key:n.key,idx:e}}function Qu(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ds(e):e,state:t,key:e&&e.key||a||mI()}}function Ai({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ds(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function pI(n,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let L=_(),G=L==null?null:L-g;g=L,p&&p({action:d,location:z.location,delta:G})}function b(L,G){d="PUSH";let q=Qu(z.location,L,G);g=_()+1;let K=WT(q,g),ee=z.createHref(q);try{c.pushState(K,"",ee)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(ee)}l&&p&&p({action:d,location:z.location,delta:1})}function I(L,G){d="REPLACE";let q=Qu(z.location,L,G);g=_();let K=WT(q,g),ee=z.createHref(q);c.replaceState(K,"",ee),l&&p&&p({action:d,location:z.location,delta:0})}function P(L){return Ab(L)}let z={get action(){return d},get location(){return n(o,c)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(XT,E),p=L,()=>{o.removeEventListener(XT,E),p=null}},createHref(L){return e(o,L)},createURL:P,encodeLocation(L){let G=P(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:b,replace:I,go(L){return c.go(L)}};return z}function Ab(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ai(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Vu,JT=class{constructor(n){if(hI(this,Vu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(Qp(this,Vu).has(n))return Qp(this,Vu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){Qp(this,Vu).set(n,e)}};Vu=new WeakMap;var gI=new Set(["lazy","caseSensitive","path","id","index","children"]);function yI(n){return gI.has(n)}var _I=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function vI(n){return _I.has(n)}function EI(n){return n.index===!0}function Xu(n,e,t=[],a={},o=!1){return n.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(Qe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Qe(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),EI(l)){let g={...l,id:p};return a[p]=ZT(g,e(g)),g}else{let g={...l,id:p,children:void 0};return a[p]=ZT(g,e(g)),l.children&&(g.children=Xu(l.children,e,d,a,o)),g}})}function ZT(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function $a(n,e,t="/"){return Pu(n,e,t,!1)}function Pu(n,e,t,a){let o=typeof e=="string"?ds(e):e,l=kr(o.pathname||"/",t);if(l==null)return null;let c=Rb(n);SI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=MI(l);d=OI(c[p],g,a)}return d}function TI(n,e){let{route:t,pathname:a,params:o}=n;return{id:t.id,pathname:a,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function Rb(n,e=[],t=[],a="",o=!1){let l=(c,d,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&p)return;Qe(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let E=Ei([a,_.relativePath]),b=t.concat(_);c.children&&c.children.length>0&&(Qe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Rb(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:DI(E,c.index),routesMeta:b})};return n.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of Cb(c.path))l(c,d,!0,g)}),e}function Cb(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=Cb(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function SI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NI(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var bI=/^:[\w-]+$/,wI=3,AI=2,RI=1,CI=10,II=-2,e0=n=>n==="*";function DI(n,e){let t=n.split("/"),a=t.length;return t.some(e0)&&(a+=II),e&&(a+=AI),t.filter(o=>!e0(o)).reduce((o,l)=>o+(bI.test(l)?wI:l===""?RI:CI),a)}function NI(n,e){return n.length===e.length&&n.slice(0,-1).every((a,o)=>a===e[o])?n[n.length-1]-e[e.length-1]:0}function OI(n,e,t=!1){let{routesMeta:a}=n,o={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!E&&g&&t&&!a[a.length-1].route.index&&(E=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ei([l,E.pathname]),pathnameBase:LI(Ei([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Ei([l,E.pathnameBase]))}return c}function Oh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=xI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:E},b)=>{if(_==="*"){let P=d[b]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const I=d[b];return E&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function xI(n,e=!1,t=!0){Wt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function MI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function kr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function VI({basename:n,pathname:e}){return e==="/"?n:Ei([n,e])}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sy=n=>Ib.test(n);function PI(n,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof n=="string"?ds(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=t0(t.substring(1),"/"):l=t0(t,e)):l=e,{pathname:l,search:kI(a),hash:UI(o)}}function t0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Xp(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Db(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ld(n){let e=Db(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function ud(n,e,t,a=!1){let o;typeof n=="string"?o=ds(n):(o={...n},Qe(!o.pathname||!o.pathname.includes("?"),Xp("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Xp("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Xp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}d=E>=0?e[E]:"/"}let p=PI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ei=n=>n.join("/").replace(/\/\/+/g,"/"),LI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,uc=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Wu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function cc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ob(n,e){let t=n;if(typeof t!="string"||!Ib.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,o=!1;if(Nb)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=kr(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:o=!0}catch{Wt(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:t}}var Ja=Symbol("Uninstrumented");function jI(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let d of c)l[d]&&t[d].push(l[d])}}));let a={};if(typeof e.lazy=="function"&&t.lazy.length>0){let o=al(t.lazy,e.lazy,()=>{});o&&(a.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(l=>{let c=o[l],d=t[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let p=al(d,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[l]:p}))}})}return["loader","action"].forEach(o=>{let l=e[o];if(typeof l=="function"&&t[o].length>0){let c=l[Ja]??l,d=al(t[o],c,(...p)=>n0(p[0]));d&&(o==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[Ja]=c,a[o]=d)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(a.middleware=e.middleware.map(o=>{let l=o[Ja]??o,c=al(t.middleware,l,(...d)=>n0(d[0]));return c?(c[Ja]=l,c):o})),a}function zI(n,e){let t={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(o){let l=Object.keys(o);for(let c of l)o[c]&&t[c].push(o[c])}})),t.navigate.length>0){let a=n.navigate[Ja]??n.navigate,o=al(t.navigate,a,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?Ai(c):".",...r0(n,d??{})}});o&&(o[Ja]=a,n.navigate=o)}if(t.fetch.length>0){let a=n.fetch[Ja]??n.fetch,o=al(t.fetch,a,(...l)=>{let[c,,d,p]=l;return{href:d??".",fetcherKey:c,...r0(n,p??{})}});o&&(o[Ja]=a,n.fetch=o)}return n}function al(n,e,t){return n.length===0?null:async(...a)=>{let o=await xb(n,t(...a),()=>e(...a),n.length-1);if(o.type==="error")throw o.value;return o.value}}async function xb(n,e,t,a){let o=n[a],l;if(o){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=xb(n,e,t,a-1),l=await c,Qe(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await o(d,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await d(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function n0(n){let{request:e,context:t,params:a,unstable_pattern:o}=n;return{request:BI(e),params:{...a},unstable_pattern:o,context:FI(t)}}function r0(n,e){return{currentUrl:Ai(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function BI(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function FI(n){if(qI(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var HI=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qI(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===HI}var Mb=["POST","PUT","PATCH","DELETE"],GI=new Set(Mb),KI=["GET",...Mb],$I=new Set(KI),Vb=new Set([301,302,303,307,308]),YI=new Set([307,308]),Wp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},QI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},XI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Pb="remix-router-transitions",Lb=Symbol("ResetLoaderData");function WI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],o=n.mapRouteProperties||XI,l=o;if(n.unstable_instrumentations){let M=n.unstable_instrumentations;l=F=>({...o(F),...jI(M.map(J=>J.route).filter(Boolean),F)})}let c={},d=Xu(n.routes,l,void 0,c),p,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let _=n.dataStrategy||nD,E={...n.future},b=null,I=new Set,P=null,z=null,L=null,G=n.hydrationData!=null,q=$a(d,n.history.location,g),K=!1,ee=null,$;if(q==null&&!n.patchRoutesOnNavigation){let M=Pr(404,{pathname:n.history.location.pathname}),{matches:F,route:J}=Xf(d);$=!0,q=F,ee={[J.id]:M}}else if(q&&!n.hydrationData&&Ni(q,d,n.history.location.pathname).active&&(q=null),q)if(q.some(M=>M.route.lazy))$=!1;else if(!q.some(M=>oy(M.route)))$=!0;else{let M=n.hydrationData?n.hydrationData.loaderData:null,F=n.hydrationData?n.hydrationData.errors:null;if(F){let J=q.findIndex(ce=>F[ce.route.id]!==void 0);$=q.slice(0,J+1).every(ce=>!bg(ce.route,M,F))}else $=q.every(J=>!bg(J.route,M,F))}else{$=!1,q=[];let M=Ni(null,d,n.history.location.pathname);M.active&&M.matches&&(K=!0,q=M.matches)}let re,S={historyAction:n.history.action,location:n.history.location,matches:q,initialized:$,navigation:Wp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},w="POP",R=null,D=!1,O,k=!1,x=new Map,xe=null,Xe=!1,W=!1,fe=new Set,ye=new Map,Me=0,Ve=-1,U=new Map,ie=new Set,he=new Map,_e=new Map,Ae=new Set,Ne=new Map,$e,Tt=null;function wt(){if(b=n.history.listen(({action:M,location:F,delta:J})=>{if($e){$e(),$e=void 0;return}Wt(Ne.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=ni({currentLocation:S.location,nextLocation:F,historyAction:M});if(ce&&J!=null){let de=new Promise(Ee=>{$e=Ee});n.history.go(J*-1),Pn(ce,{state:"blocked",location:F,proceed(){Pn(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),de.then(()=>n.history.go(J))},reset(){let Ee=new Map(S.blockers);Ee.set(ce,Nu),Ut({blockers:Ee})}}),R==null||R.resolve(),R=null;return}return Mn(M,F)}),t){ED(e,x);let M=()=>TD(e,x);e.addEventListener("pagehide",M),xe=()=>e.removeEventListener("pagehide",M)}return S.initialized||Mn("POP",S.location,{initialHydration:!0}),re}function Ii(){b&&b(),xe&&xe(),I.clear(),O&&O.abort(),S.fetchers.forEach((M,F)=>da(F)),S.blockers.forEach((M,F)=>Ts(F))}function fa(M){return I.add(M),()=>I.delete(M)}function Ut(M,F={}){M.matches&&(M.matches=M.matches.map(de=>{let Ee=c[de.route.id],be=de.route;return be.element!==Ee.element||be.errorElement!==Ee.errorElement||be.hydrateFallbackElement!==Ee.hydrateFallbackElement?{...de,route:Ee}:de})),S={...S,...M};let J=[],ce=[];S.fetchers.forEach((de,Ee)=>{de.state==="idle"&&(Ae.has(Ee)?J.push(Ee):ce.push(Ee))}),Ae.forEach(de=>{!S.fetchers.has(de)&&!ye.has(de)&&J.push(de)}),[...I].forEach(de=>de(S,{deletedFetchers:J,newErrors:M.errors??null,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),J.forEach(de=>da(de)),ce.forEach(de=>S.fetchers.delete(de))}function tr(M,F,{flushSync:J}={}){var Pe,Ce;let ce=S.actionData!=null&&S.navigation.formMethod!=null&&Dn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Pe=M.state)==null?void 0:Pe._isRedirect)!==!0,de;F.actionData?Object.keys(F.actionData).length>0?de=F.actionData:de=null:ce?de=S.actionData:de=null;let Ee=F.loaderData?d0(S.loaderData,F.loaderData,F.matches||[],F.errors):S.loaderData,be=S.blockers;be.size>0&&(be=new Map(be),be.forEach((Ue,Ye)=>be.set(Ye,Nu)));let me=Xe?!1:mo(M,F.matches||S.matches),ge=D===!0||S.navigation.formMethod!=null&&Dn(S.navigation.formMethod)&&((Ce=M.state)==null?void 0:Ce._isRedirect)!==!0;p&&(d=p,p=void 0),Xe||w==="POP"||(w==="PUSH"?n.history.push(M,M.state):w==="REPLACE"&&n.history.replace(M,M.state));let Se;if(w==="POP"){let Ue=x.get(S.location.pathname);Ue&&Ue.has(M.pathname)?Se={currentLocation:S.location,nextLocation:M}:x.has(M.pathname)&&(Se={currentLocation:M,nextLocation:S.location})}else if(k){let Ue=x.get(S.location.pathname);Ue?Ue.add(M.pathname):(Ue=new Set([M.pathname]),x.set(S.location.pathname,Ue)),Se={currentLocation:S.location,nextLocation:M}}Ut({...F,actionData:de,loaderData:Ee,historyAction:w,location:M,initialized:!0,navigation:Wp,revalidation:"idle",restoreScrollPosition:me,preventScrollReset:ge,blockers:be},{viewTransitionOpts:Se,flushSync:J===!0}),w="POP",D=!1,k=!1,Xe=!1,W=!1,R==null||R.resolve(),R=null,Tt==null||Tt.resolve(),Tt=null}async function nr(M,F){if(R==null||R.resolve(),R=null,typeof M=="number"){R||(R=y0());let Ye=R.promise;return n.history.go(M),Ye}let J=Sg(S.location,S.matches,g,M,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:ce,submission:de,error:Ee}=i0(!1,J,F),be=S.location,me=Qu(S.location,ce,F&&F.state);me={...me,...n.history.encodeLocation(me)};let ge=F&&F.replace!=null?F.replace:void 0,Se="PUSH";ge===!0?Se="REPLACE":ge===!1||de!=null&&Dn(de.formMethod)&&de.formAction===S.location.pathname+S.location.search&&(Se="REPLACE");let Pe=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ce=(F&&F.flushSync)===!0,Ue=ni({currentLocation:be,nextLocation:me,historyAction:Se});if(Ue){Pn(Ue,{state:"blocked",location:me,proceed(){Pn(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),nr(M,F)},reset(){let Ye=new Map(S.blockers);Ye.set(Ue,Nu),Ut({blockers:Ye})}});return}await Mn(Se,me,{submission:de,pendingError:Ee,preventScrollReset:Pe,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Ce,callSiteDefaultShouldRevalidate:F&&F.unstable_defaultShouldRevalidate})}function gs(){Tt||(Tt=y0()),Di(),Ut({revalidation:"loading"});let M=Tt.promise;return S.navigation.state==="submitting"?M:S.navigation.state==="idle"?(Mn(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),M):(Mn(w||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:k===!0}),M)}async function Mn(M,F,J){O&&O.abort(),O=null,w=M,Xe=(J&&J.startUninterruptedRevalidation)===!0,or(S.location,S.matches),D=(J&&J.preventScrollReset)===!0,k=(J&&J.enableViewTransition)===!0;let ce=p||d,de=J&&J.overrideNavigation,Ee=J!=null&&J.initialHydration&&S.matches&&S.matches.length>0&&!K?S.matches:$a(ce,F,g),be=(J&&J.flushSync)===!0;if(Ee&&S.initialized&&!W&&cD(S.location,F)&&!(J&&J.submission&&Dn(J.submission.formMethod))){tr(F,{matches:Ee},{flushSync:be});return}let me=Ni(Ee,ce,F.pathname);if(me.active&&me.matches&&(Ee=me.matches),!Ee){let{error:Nt,notFoundMatches:At,route:qe}=Pt(F.pathname);tr(F,{matches:At,loaderData:{},errors:{[qe.id]:Nt}},{flushSync:be});return}O=new AbortController;let ge=Zo(n.history,F,O.signal,J&&J.submission),Se=n.getContext?await n.getContext():new JT,Pe;if(J&&J.pendingError)Pe=[Ya(Ee).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Dn(J.submission.formMethod)){let Nt=await ys(ge,F,J.submission,Ee,Se,me.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:be});if(Nt.shortCircuited)return;if(Nt.pendingActionResult){let[At,qe]=Nt.pendingActionResult;if(yr(qe)&&Wu(qe.error)&&qe.error.status===404){O=null,tr(F,{matches:Nt.matches,loaderData:{},errors:{[At]:qe.error}});return}}Ee=Nt.matches||Ee,Pe=Nt.pendingActionResult,de=Jp(F,J.submission),be=!1,me.active=!1,ge=Zo(n.history,ge.url,ge.signal)}let{shortCircuited:Ce,matches:Ue,loaderData:Ye,errors:pt}=await _s(ge,F,Ee,Se,me.active,de,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,Pe,J&&J.callSiteDefaultShouldRevalidate);Ce||(O=null,tr(F,{matches:Ue||Ee,...m0(Pe),loaderData:Ye,errors:pt}))}async function ys(M,F,J,ce,de,Ee,be,me={}){Di();let ge=_D(F,J);if(Ut({navigation:ge},{flushSync:me.flushSync===!0}),Ee){let Ce=await Ln(ce,F.pathname,M.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){if(Ce.partialMatches.length===0){let{matches:Ye,route:pt}=Xf(d);return{matches:Ye,pendingActionResult:[pt.id,{type:"error",error:Ce.error}]}}let Ue=Ya(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Ue,{type:"error",error:Ce.error}]}}else if(Ce.matches)ce=Ce.matches;else{let{notFoundMatches:Ue,error:Ye,route:pt}=Pt(F.pathname);return{matches:Ue,pendingActionResult:[pt.id,{type:"error",error:Ye}]}}}let Se,Pe=lh(ce,F);if(!Pe.route.action&&!Pe.route.lazy)Se={type:"error",error:Pr(405,{method:M.method,pathname:F.pathname,routeId:Pe.route.id})};else{let Ce=ol(l,c,M,ce,Pe,be?[]:a,de),Ue=await rr(M,Ce,de,null);if(Se=Ue[Pe.route.id],!Se){for(let Ye of ce)if(Ue[Ye.route.id]){Se=Ue[Ye.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if($s(Se)){let Ce;return me&&me.replace!=null?Ce=me.replace:Ce=c0(Se.response.headers.get("Location"),new URL(M.url),g,n.history)===S.location.pathname+S.location.search,await zt(M,Se,!0,{submission:J,replace:Ce}),{shortCircuited:!0}}if(yr(Se)){let Ce=Ya(ce,Pe.route.id);return(me&&me.replace)!==!0&&(w="PUSH"),{matches:ce,pendingActionResult:[Ce.route.id,Se,Pe.route.id]}}return{matches:ce,pendingActionResult:[Pe.route.id,Se]}}async function _s(M,F,J,ce,de,Ee,be,me,ge,Se,Pe,Ce,Ue){let Ye=Ee||Jp(F,be),pt=be||me||g0(Ye),Nt=!Xe&&!Se;if(de){if(Nt){let Bt=jt(Ce);Ut({navigation:Ye,...Bt!==void 0?{actionData:Bt}:{}},{flushSync:Pe})}let We=await Ln(J,F.pathname,M.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){if(We.partialMatches.length===0){let{matches:Jt,route:gt}=Xf(d);return{matches:Jt,loaderData:{},errors:{[gt.id]:We.error}}}let Bt=Ya(We.partialMatches).route.id;return{matches:We.partialMatches,loaderData:{},errors:{[Bt]:We.error}}}else if(We.matches)J=We.matches;else{let{error:Bt,notFoundMatches:Jt,route:gt}=Pt(F.pathname);return{matches:Jt,loaderData:{},errors:{[gt.id]:Bt}}}}let At=p||d,{dsMatches:qe,revalidatingFetchers:Rt}=a0(M,ce,l,c,n.history,S,J,pt,F,Se?[]:a,Se===!0,W,fe,Ae,he,ie,At,g,n.patchRoutesOnNavigation!=null,Ce,Ue);if(Ve=++Me,!n.dataStrategy&&!qe.some(We=>We.shouldLoad)&&!qe.some(We=>We.route.middleware&&We.route.middleware.length>0)&&Rt.length===0){let We=Vt();return tr(F,{matches:J,loaderData:{},errors:Ce&&yr(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...m0(Ce),...We?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Pe}),{shortCircuited:!0}}if(Nt){let We={};if(!de){We.navigation=Ye;let Bt=jt(Ce);Bt!==void 0&&(We.actionData=Bt)}Rt.length>0&&(We.fetchers=Kt(Rt)),Ut(We,{flushSync:Pe})}Rt.forEach(We=>{St(We.key),We.controller&&ye.set(We.key,We.controller)});let hn=()=>Rt.forEach(We=>St(We.key));O&&O.signal.addEventListener("abort",hn);let{loaderResults:Ct,fetcherResults:zn}=await ha(qe,Rt,M,ce);if(M.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",hn),Rt.forEach(We=>ye.delete(We.key));let An=Wf(Ct);if(An)return await zt(M,An.result,!0,{replace:ge}),{shortCircuited:!0};if(An=Wf(zn),An)return ie.add(An.key),await zt(M,An.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Bn,errors:Rn}=h0(S,J,Ct,Ce,Rt,zn);Se&&S.errors&&(Rn={...S.errors,...Rn});let lr=Vt(),ii=Es(Ve),ai=lr||ii||Rt.length>0;return{matches:J,loaderData:Bn,errors:Rn,...ai?{fetchers:new Map(S.fetchers)}:{}}}function jt(M){if(M&&!yr(M[1]))return{[M[0]]:M[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Kt(M){return M.forEach(F=>{let J=S.fetchers.get(F.key),ce=Ou(void 0,J?J.data:void 0);S.fetchers.set(F.key,ce)}),new Map(S.fetchers)}async function ti(M,F,J,ce){St(M);let de=(ce&&ce.flushSync)===!0,Ee=p||d,be=Sg(S.location,S.matches,g,J,F,ce==null?void 0:ce.relative),me=$a(Ee,be,g),ge=Ni(me,Ee,be);if(ge.active&&ge.matches&&(me=ge.matches),!me){ir(M,F,Pr(404,{pathname:be}),{flushSync:de});return}let{path:Se,submission:Pe,error:Ce}=i0(!0,be,ce);if(Ce){ir(M,F,Ce,{flushSync:de});return}let Ue=n.getContext?await n.getContext():new JT,Ye=(ce&&ce.preventScrollReset)===!0;if(Pe&&Dn(Pe.formMethod)){await Pl(M,F,Se,me,Ue,ge.active,de,Ye,Pe,ce&&ce.unstable_defaultShouldRevalidate);return}he.set(M,{routeId:F,path:Se}),await fo(M,F,Se,me,Ue,ge.active,de,Ye,Pe)}async function Pl(M,F,J,ce,de,Ee,be,me,ge,Se){Di(),he.delete(M);let Pe=S.fetchers.get(M);fn(M,vD(ge,Pe),{flushSync:be});let Ce=new AbortController,Ue=Zo(n.history,J,Ce.signal,ge);if(Ee){let Ge=await Ln(ce,new URL(Ue.url).pathname,Ue.signal,M);if(Ge.type==="aborted")return;if(Ge.type==="error"){ir(M,F,Ge.error,{flushSync:be});return}else if(Ge.matches)ce=Ge.matches;else{ir(M,F,Pr(404,{pathname:J}),{flushSync:be});return}}let Ye=lh(ce,J);if(!Ye.route.action&&!Ye.route.lazy){let Ge=Pr(405,{method:ge.formMethod,pathname:J,routeId:F});ir(M,F,Ge,{flushSync:be});return}ye.set(M,Ce);let pt=Me,Nt=ol(l,c,Ue,ce,Ye,a,de),At=await rr(Ue,Nt,de,M),qe=At[Ye.route.id];if(!qe){for(let Ge of Nt)if(At[Ge.route.id]){qe=At[Ge.route.id];break}}if(Ue.signal.aborted){ye.get(M)===Ce&&ye.delete(M);return}if(Ae.has(M)){if($s(qe)||yr(qe)){fn(M,Xi(void 0));return}}else{if($s(qe))if(ye.delete(M),Ve>pt){fn(M,Xi(void 0));return}else return ie.add(M),fn(M,Ou(ge)),zt(Ue,qe,!1,{fetcherSubmission:ge,preventScrollReset:me});if(yr(qe)){ir(M,F,qe.error);return}}let Rt=S.navigation.location||S.location,hn=Zo(n.history,Rt,Ce.signal),Ct=p||d,zn=S.navigation.state!=="idle"?$a(Ct,S.navigation.location,g):S.matches;Qe(zn,"Didn't find any matches after fetcher action");let An=++Me;U.set(M,An);let Bn=Ou(ge,qe.data);S.fetchers.set(M,Bn);let{dsMatches:Rn,revalidatingFetchers:lr}=a0(hn,de,l,c,n.history,S,zn,ge,Rt,a,!1,W,fe,Ae,he,ie,Ct,g,n.patchRoutesOnNavigation!=null,[Ye.route.id,qe],Se);lr.filter(Ge=>Ge.key!==M).forEach(Ge=>{let ur=Ge.key,pa=S.fetchers.get(ur),ut=Ou(void 0,pa?pa.data:void 0);S.fetchers.set(ur,ut),St(ur),Ge.controller&&ye.set(ur,Ge.controller)}),Ut({fetchers:new Map(S.fetchers)});let ii=()=>lr.forEach(Ge=>St(Ge.key));Ce.signal.addEventListener("abort",ii);let{loaderResults:ai,fetcherResults:We}=await ha(Rn,lr,hn,de);if(Ce.signal.aborted)return;if(Ce.signal.removeEventListener("abort",ii),U.delete(M),ye.delete(M),lr.forEach(Ge=>ye.delete(Ge.key)),S.fetchers.has(M)){let Ge=Xi(qe.data);S.fetchers.set(M,Ge)}let Bt=Wf(ai);if(Bt)return zt(hn,Bt.result,!1,{preventScrollReset:me});if(Bt=Wf(We),Bt)return ie.add(Bt.key),zt(hn,Bt.result,!1,{preventScrollReset:me});let{loaderData:Jt,errors:gt}=h0(S,zn,ai,void 0,lr,We);Es(An),S.navigation.state==="loading"&&An>Ve?(Qe(w,"Expected pending action"),O&&O.abort(),tr(S.navigation.location,{matches:zn,loaderData:Jt,errors:gt,fetchers:new Map(S.fetchers)})):(Ut({errors:gt,loaderData:d0(S.loaderData,Jt,zn,gt),fetchers:new Map(S.fetchers)}),W=!1)}async function fo(M,F,J,ce,de,Ee,be,me,ge){let Se=S.fetchers.get(M);fn(M,Ou(ge,Se?Se.data:void 0),{flushSync:be});let Pe=new AbortController,Ce=Zo(n.history,J,Pe.signal);if(Ee){let qe=await Ln(ce,new URL(Ce.url).pathname,Ce.signal,M);if(qe.type==="aborted")return;if(qe.type==="error"){ir(M,F,qe.error,{flushSync:be});return}else if(qe.matches)ce=qe.matches;else{ir(M,F,Pr(404,{pathname:J}),{flushSync:be});return}}let Ue=lh(ce,J);ye.set(M,Pe);let Ye=Me,pt=ol(l,c,Ce,ce,Ue,a,de),At=(await rr(Ce,pt,de,M))[Ue.route.id];if(ye.get(M)===Pe&&ye.delete(M),!Ce.signal.aborted){if(Ae.has(M)){fn(M,Xi(void 0));return}if($s(At))if(Ve>Ye){fn(M,Xi(void 0));return}else{ie.add(M),await zt(Ce,At,!1,{preventScrollReset:me});return}if(yr(At)){ir(M,F,At.error);return}fn(M,Xi(At.data))}}async function zt(M,F,J,{submission:ce,fetcherSubmission:de,preventScrollReset:Ee,replace:be}={}){J||(R==null||R.resolve(),R=null),F.response.headers.has("X-Remix-Revalidate")&&(W=!0);let me=F.response.headers.get("Location");Qe(me,"Expected a Location header on the redirect Response"),me=c0(me,new URL(M.url),g,n.history);let ge=Qu(S.location,me,{_isRedirect:!0});if(t){let pt=!1;if(F.response.headers.has("X-Remix-Reload-Document"))pt=!0;else if(sy(me)){const Nt=Ab(me,!0);pt=Nt.origin!==e.location.origin||kr(Nt.pathname,g)==null}if(pt){be?e.location.replace(me):e.location.assign(me);return}}O=null;let Se=be===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pe,formAction:Ce,formEncType:Ue}=S.navigation;!ce&&!de&&Pe&&Ce&&Ue&&(ce=g0(S.navigation));let Ye=ce||de;if(YI.has(F.response.status)&&Ye&&Dn(Ye.formMethod))await Mn(Se,ge,{submission:{...Ye,formAction:me},preventScrollReset:Ee||D,enableViewTransition:J?k:void 0});else{let pt=Jp(ge,ce);await Mn(Se,ge,{overrideNavigation:pt,fetcherSubmission:de,preventScrollReset:Ee||D,enableViewTransition:J?k:void 0})}}async function rr(M,F,J,ce){var be;let de,Ee={};try{de=await iD(_,M,F,ce,J,!1)}catch(me){return F.filter(ge=>ge.shouldLoad).forEach(ge=>{Ee[ge.route.id]={type:"error",error:me}}),Ee}if(M.signal.aborted)return Ee;if(!Dn(M.method))for(let me of F){if(((be=de[me.route.id])==null?void 0:be.type)==="error")break;!de.hasOwnProperty(me.route.id)&&!S.loaderData.hasOwnProperty(me.route.id)&&(!S.errors||!S.errors.hasOwnProperty(me.route.id))&&me.shouldCallHandler()&&(de[me.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${me.route.id}`)})}for(let[me,ge]of Object.entries(de))if(mD(ge)){let Se=ge.result;Ee[me]={type:"redirect",response:lD(Se,M,me,F,g)}}else Ee[me]=await oD(ge);return Ee}async function ha(M,F,J,ce){let de=rr(J,M,ce,null),Ee=Promise.all(F.map(async ge=>{if(ge.matches&&ge.match&&ge.request&&ge.controller){let Pe=(await rr(ge.request,ge.matches,ce,ge.key))[ge.match.route.id];return{[ge.key]:Pe}}else return Promise.resolve({[ge.key]:{type:"error",error:Pr(404,{pathname:ge.path})}})})),be=await de,me=(await Ee).reduce((ge,Se)=>Object.assign(ge,Se),{});return{loaderResults:be,fetcherResults:me}}function Di(){W=!0,he.forEach((M,F)=>{ye.has(F)&&fe.add(F),St(F)})}function fn(M,F,J={}){S.fetchers.set(M,F),Ut({fetchers:new Map(S.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function ir(M,F,J,ce={}){let de=Ya(S.matches,F);da(M),Ut({errors:{[de.route.id]:J},fetchers:new Map(S.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function vs(M){return _e.set(M,(_e.get(M)||0)+1),Ae.has(M)&&Ae.delete(M),S.fetchers.get(M)||QI}function ho(M,F){St(M,F==null?void 0:F.reason),fn(M,Xi(null))}function da(M){let F=S.fetchers.get(M);ye.has(M)&&!(F&&F.state==="loading"&&U.has(M))&&St(M),he.delete(M),U.delete(M),ie.delete(M),Ae.delete(M),fe.delete(M),S.fetchers.delete(M)}function ar(M){let F=(_e.get(M)||0)-1;F<=0?(_e.delete(M),Ae.add(M)):_e.set(M,F),Ut({fetchers:new Map(S.fetchers)})}function St(M,F){let J=ye.get(M);J&&(J.abort(F),ye.delete(M))}function Vn(M){for(let F of M){let J=vs(F),ce=Xi(J.data);S.fetchers.set(F,ce)}}function Vt(){let M=[],F=!1;for(let J of ie){let ce=S.fetchers.get(J);Qe(ce,`Expected fetcher: ${J}`),ce.state==="loading"&&(ie.delete(J),M.push(J),F=!0)}return Vn(M),F}function Es(M){let F=[];for(let[J,ce]of U)if(ce<M){let de=S.fetchers.get(J);Qe(de,`Expected fetcher: ${J}`),de.state==="loading"&&(St(J),U.delete(J),F.push(J))}return Vn(F),F.length>0}function ma(M,F){let J=S.blockers.get(M)||Nu;return Ne.get(M)!==F&&Ne.set(M,F),J}function Ts(M){S.blockers.delete(M),Ne.delete(M)}function Pn(M,F){let J=S.blockers.get(M)||Nu;Qe(J.state==="unblocked"&&F.state==="blocked"||J.state==="blocked"&&F.state==="blocked"||J.state==="blocked"&&F.state==="proceeding"||J.state==="blocked"&&F.state==="unblocked"||J.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${F.state}`);let ce=new Map(S.blockers);ce.set(M,F),Ut({blockers:ce})}function ni({currentLocation:M,nextLocation:F,historyAction:J}){if(Ne.size===0)return;Ne.size>1&&Wt(!1,"A router only supports one blocker at a time");let ce=Array.from(Ne.entries()),[de,Ee]=ce[ce.length-1],be=S.blockers.get(de);if(!(be&&be.state==="proceeding")&&Ee({currentLocation:M,nextLocation:F,historyAction:J}))return de}function Pt(M){let F=Pr(404,{pathname:M}),J=p||d,{matches:ce,route:de}=Xf(J);return{notFoundMatches:ce,route:de,error:F}}function br(M,F,J){if(P=M,L=F,z=J||null,!G&&S.navigation===Wp){G=!0;let ce=mo(S.location,S.matches);ce!=null&&Ut({restoreScrollPosition:ce})}return()=>{P=null,L=null,z=null}}function sr(M,F){return z&&z(M,F.map(ce=>TI(ce,S.loaderData)))||M.key}function or(M,F){if(P&&L){let J=sr(M,F);P[J]=L()}}function mo(M,F){if(P){let J=sr(M,F),ce=P[J];if(typeof ce=="number")return ce}return null}function Ni(M,F,J){if(n.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Pu(F,J,g,!0)}}else return{active:!0,matches:Pu(F,J,g,!0)||[]};return{active:!1,matches:null}}async function Ln(M,F,J,ce){if(!n.patchRoutesOnNavigation)return{type:"success",matches:M};let de=M;for(;;){let Ee=p==null,be=p||d,me=c;try{await n.patchRoutesOnNavigation({signal:J,path:F,matches:de,fetcherKey:ce,patch:(Pe,Ce)=>{J.aborted||s0(Pe,Ce,be,me,l,!1)}})}catch(Pe){return{type:"error",error:Pe,partialMatches:de}}finally{Ee&&!J.aborted&&(d=[...d])}if(J.aborted)return{type:"aborted"};let ge=$a(be,F,g),Se=null;if(ge){if(Object.keys(ge[0].params).length===0)return{type:"success",matches:ge};if(Se=Pu(be,F,g,!0),!(Se&&de.length<Se.length&&ri(de,Se.slice(0,de.length))))return{type:"success",matches:ge}}if(Se||(Se=Pu(be,F,g,!0)),!Se||ri(de,Se))return{type:"success",matches:null};de=Se}}function ri(M,F){return M.length===F.length&&M.every((J,ce)=>J.route.id===F[ce].route.id)}function Ll(M){c={},p=Xu(M,l,void 0,c)}function Oi(M,F,J=!1){let ce=p==null;s0(M,F,p||d,c,l,J),ce&&(d=[...d],Ut({}))}return re={get basename(){return g},get future(){return E},get state(){return S},get routes(){return d},get window(){return e},initialize:wt,subscribe:fa,enableScrollRestoration:br,navigate:nr,fetch:ti,revalidate:gs,createHref:M=>n.history.createHref(M),encodeLocation:M=>n.history.encodeLocation(M),getFetcher:vs,resetFetcher:ho,deleteFetcher:ar,dispose:Ii,getBlocker:ma,deleteBlocker:Ts,patchRoutes:Oi,_internalFetchControllers:ye,_internalSetRoutes:Ll,_internalSetStateDoNotUseOrYouWillBreakYourApp(M){Ut(M)}},n.unstable_instrumentations&&(re=zI(re,n.unstable_instrumentations.map(M=>M.router).filter(Boolean))),re}function JI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Sg(n,e,t,a,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let p=ud(a||".",ld(c),kr(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&d){let g=uy(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(p.search),E=_.getAll("index");_.delete("index"),E.filter(I=>I).forEach(I=>_.append("index",I));let b=_.toString();p.search=b?`?${b}`:""}}return t!=="/"&&(p.pathname=VI({basename:t,pathname:p.pathname})),Ai(p)}function i0(n,e,t){if(!t||!JI(t))return{path:e};if(t.formMethod&&!yD(t.formMethod))return{path:e,error:Pr(405,{method:t.formMethod})};let a=()=>({path:e,error:Pr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=Fb(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dn(l))return a();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[I,P])=>`${b}${I}=${P}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Dn(l))return a();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return a()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=Ag(t.formData),p=t.formData;else if(t.body instanceof FormData)d=Ag(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=f0(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=f0(d)}catch{return a()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Dn(g.formMethod))return{path:e,submission:g};let _=ds(e);return n&&_.search&&uy(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Ai(_),submission:g}}function a0(n,e,t,a,o,l,c,d,p,g,_,E,b,I,P,z,L,G,q,K,ee){var Xe;let $=K?yr(K[1])?K[1].error:K[1].data:void 0,re=o.createURL(l.location),S=o.createURL(p),w;if(_&&l.errors){let W=Object.keys(l.errors)[0];w=c.findIndex(fe=>fe.route.id===W)}else if(K&&yr(K[1])){let W=K[0];w=c.findIndex(fe=>fe.route.id===W)-1}let R=K?K[1].statusCode:void 0,D=R&&R>=400,O={currentUrl:re,currentParams:((Xe=l.matches[0])==null?void 0:Xe.params)||{},nextUrl:S,nextParams:c[0].params,...d,actionResult:$,actionStatus:R},k=cc(c),x=c.map((W,fe)=>{let{route:ye}=W,Me=null;if(w!=null&&fe>w?Me=!1:ye.lazy?Me=!0:oy(ye)?_?Me=bg(ye,l.loaderData,l.errors):ZI(l.loaderData,l.matches[fe],W)&&(Me=!0):Me=!1,Me!==null)return wg(t,a,n,k,W,g,e,Me);let Ve=!1;typeof ee=="boolean"?Ve=ee:D?Ve=!1:(E||re.pathname+re.search===S.pathname+S.search||re.search!==S.search||eD(l.matches[fe],W))&&(Ve=!0);let U={...O,defaultShouldRevalidate:Ve},ie=Bu(W,U);return wg(t,a,n,k,W,g,e,ie,U,ee)}),xe=[];return P.forEach((W,fe)=>{if(_||!c.some(Ae=>Ae.route.id===W.routeId)||I.has(fe))return;let ye=l.fetchers.get(fe),Me=ye&&ye.state!=="idle"&&ye.data===void 0,Ve=$a(L,W.path,G);if(!Ve){if(q&&Me)return;xe.push({key:fe,routeId:W.routeId,path:W.path,matches:null,match:null,request:null,controller:null});return}if(z.has(fe))return;let U=lh(Ve,W.path),ie=new AbortController,he=Zo(o,W.path,ie.signal),_e=null;if(b.has(fe))b.delete(fe),_e=ol(t,a,he,Ve,U,g,e);else if(Me)E&&(_e=ol(t,a,he,Ve,U,g,e));else{let Ae;typeof ee=="boolean"?Ae=ee:D?Ae=!1:Ae=E;let Ne={...O,defaultShouldRevalidate:Ae};Bu(U,Ne)&&(_e=ol(t,a,he,Ve,U,g,e,Ne))}_e&&xe.push({key:fe,routeId:W.routeId,path:W.path,matches:_e,match:U,request:he,controller:ie})}),{dsMatches:x,revalidatingFetchers:xe}}function oy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function bg(n,e,t){if(n.lazy)return!0;if(!oy(n))return!1;let a=e!=null&&n.id in e,o=t!=null&&t[n.id]!==void 0;return!a&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!o}function ZI(n,e,t){let a=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return a||o}function eD(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function Bu(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function s0(n,e,t,a,o,l){let c;if(n){let g=a[n];Qe(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],p=[];if(e.forEach(g=>{let _=c.find(E=>kb(g,E));_?p.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=Xu(d,o,[n||"_","patch",String((c==null?void 0:c.length)||"0")],a);c.push(...g)}if(l&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:_,newRoute:E}=p[g],b=_,[I]=Xu([E],o,[],{},!0);Object.assign(b,{element:I.element?I.element:b.element,errorElement:I.errorElement?I.errorElement:b.errorElement,hydrateFallbackElement:I.hydrateFallbackElement?I.hydrateFallbackElement:b.hydrateFallbackElement})}}function kb(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>{var o;return(o=e.children)==null?void 0:o.some(l=>kb(t,l))}):!1}var o0=new WeakMap,Ub=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let o=t[e.id];if(Qe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[n];if(!l)return;let c=o0.get(o);c||(c={},o0.set(o,c));let d=c[n];if(d)return d;let p=(async()=>{let g=yI(n),E=o[n]!==void 0&&n!=="hasErrorBoundary";if(g)Wt(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)Wt(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(o,{[n]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return c[n]=p,p},l0=new WeakMap;function tD(n,e,t,a,o){let l=t[n.id];if(Qe(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=l0.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let E=(async()=>{Qe(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),I={};for(let P in b){let z=b[P];if(z===void 0)continue;let L=vI(P),q=l[P]!==void 0&&P!=="hasErrorBoundary";L?Wt(!L,"Route property "+P+" is not a supported property to be returned from a lazy route function. This property will be ignored."):q?Wt(!q,`Route "${l.id}" has a static property "${P}" defined but its lazy function is also returning a value for this property. The lazy route property "${P}" will be ignored.`):I[P]=z}Object.assign(l,I),Object.assign(l,{...a(l),lazy:void 0})})();return l0.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),d=[],p;for(let _ of c){if(o&&o.includes(_))continue;let E=Ub({key:_,route:n,manifest:t,mapRouteProperties:a});E&&(d.push(E),_===e&&(p=E))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function u0(n){let e=n.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{t[e[l].route.id]=o}),t}async function nD(n){return n.matches.some(e=>e.route.middleware)?jb(n,()=>u0(n)):u0(n)}function jb(n,e){return rD(n,e,a=>{if(gD(a))throw a;return a},hD,t);function t(a,o,l){if(l)return Promise.resolve(Object.assign(l.value,{[o]:{type:"error",result:a}}));{let{matches:c}=n,d=Math.min(Math.max(c.findIndex(g=>g.route.id===o),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),p=Ya(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function rD(n,e,t,a,o){let{matches:l,request:c,params:d,context:p,unstable_pattern:g}=n,_=l.flatMap(b=>b.route.middleware?b.route.middleware.map(I=>[b.route.id,I]):[]);return await zb({request:c,params:d,context:p,unstable_pattern:g},_,e,t,a,o)}async function zb(n,e,t,a,o,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[g,_]=p,E,b=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await zb(n,e,t,a,o,l,c+1)},E.value}catch(I){return E={value:await l(I,g,E)},E.value}};try{let I=await _(n,b),P=I!=null?a(I):void 0;return o(P)?P:E?P??E.value:(E={value:await b()},E.value)}catch(I){return await l(I,g,E)}}function Bb(n,e,t,a,o){let l=Ub({key:"middleware",route:a.route,manifest:e,mapRouteProperties:n}),c=tD(a.route,Dn(t.method)?"action":"loader",e,n,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function wg(n,e,t,a,o,l,c,d,p=null,g){let _=!1,E=Bb(n,e,t,o,l);return{...o,_lazyPromises:E,shouldLoad:d,shouldRevalidateArgs:p,shouldCallHandler(b){return _=!0,p?typeof g=="boolean"?Bu(o,{...p,defaultShouldRevalidate:g}):typeof b=="boolean"?Bu(o,{...p,defaultShouldRevalidate:b}):Bu(o,p):d},resolve(b){let{lazy:I,loader:P,middleware:z}=o.route,L=_||d||b&&!Dn(t.method)&&(I||P),G=z&&z.length>0&&!P&&!I;return L&&(Dn(t.method)||!G)?aD({request:t,unstable_pattern:a,match:o,lazyHandlerPromise:E==null?void 0:E.handler,lazyRoutePromise:E==null?void 0:E.route,handlerOverride:b,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function ol(n,e,t,a,o,l,c,d=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:Bb(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:wg(n,e,t,cc(a),p,l,c,!0,d))}async function iD(n,e,t,a,o,l){t.some(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(t.map(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware}));let c={request:e,unstable_pattern:cc(t),params:t[0].params,context:o,matches:t},p=await n({...c,fetcherKey:a,runClientMiddleware:g=>{let _=c;return jb(_,()=>g({..._,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var _,E;return[(_=g._lazyPromises)==null?void 0:_.handler,(E=g._lazyPromises)==null?void 0:E.route]}))}catch{}return p}async function aD({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:l,scopedContext:c}){let d,p,g=Dn(n.method),_=g?"action":"loader",E=b=>{let I,P=new Promise((G,q)=>I=q);p=()=>I(),n.signal.addEventListener("abort",p);let z=G=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${t.route.id}]`)):b({request:n,unstable_pattern:e,params:t.params,context:c},...G!==void 0?[G]:[]),L=(async()=>{try{return{type:"data",result:await(l?l(q=>z(q)):z())}}catch(G){return{type:"error",result:G}}})();return Promise.race([L,P])};try{let b=g?t.route.action:t.route.loader;if(a||o)if(b){let I,[P]=await Promise.all([E(b).catch(z=>{I=z}),a,o]);if(I!==void 0)throw I;d=P}else{await a;let I=g?t.route.action:t.route.loader;if(I)[d]=await Promise.all([E(I),o]);else if(_==="action"){let P=new URL(n.url),z=P.pathname+P.search;throw Pr(405,{method:n.method,pathname:z,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=await E(b);else{let I=new URL(n.url),P=I.pathname+I.search;throw Pr(404,{pathname:P})}}catch(b){return{type:"error",result:b}}finally{p&&n.signal.removeEventListener("abort",p)}return d}async function sD(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function oD(n){var a,o,l,c,d;let{result:e,type:t}=n;if(ly(e)){let p;try{p=await sD(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new uc(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?p0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:fD(e),statusCode:Wu(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Wu(e)?e.status:void 0}:p0(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function lD(n,e,t,a,o){let l=n.headers.get("Location");if(Qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!sy(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=Sg(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function c0(n,e,t,a){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(sy(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(o.includes(c.protocol))throw new Error("Invalid redirect location");let d=kr(c.pathname,t)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=a.createURL(n);if(o.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function Zo(n,e,t,a){let o=n.createURL(Fb(e)).toString(),l={signal:t};if(a&&Dn(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=Ag(a.formData):l.body=a.formData}return new Request(o,l)}function Ag(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function f0(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function uD(n,e,t,a=!1,o=!1){let l={},c=null,d,p=!1,g={},_=t&&yr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let b=E.route.id,I=e[b];if(Qe(!$s(I),"Cannot handle redirect results in processLoaderData"),yr(I)){let P=I.error;if(_!==void 0&&(P=_,_=void 0),c=c||{},o)c[b]=P;else{let z=Ya(n,b);c[z.route.id]==null&&(c[z.route.id]=P)}a||(l[b]=Lb),p||(p=!0,d=Wu(I.error)?I.error.status:500),I.headers&&(g[b]=I.headers)}else l[b]=I.data,I.statusCode&&I.statusCode!==200&&!p&&(d=I.statusCode),I.headers&&(g[b]=I.headers)}),_!==void 0&&t&&(c={[t[0]]:_},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function h0(n,e,t,a,o,l){let{loaderData:c,errors:d}=uD(e,t,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:_,controller:E}=p;if(E&&E.signal.aborted)return;let b=l[g];if(Qe(b,"Did not find corresponding fetcher result"),yr(b)){let I=Ya(n.matches,_==null?void 0:_.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:b.error}),n.fetchers.delete(g)}else if($s(b))Qe(!1,"Unhandled fetcher revalidation redirect");else{let I=Xi(b.data);n.fetchers.set(g,I)}}),{loaderData:c,errors:d}}function d0(n,e,t,a){let o=Object.entries(e).filter(([,l])=>l!==Lb).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),a&&a.hasOwnProperty(c))break}return o}function m0(n){return n?yr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ya(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function Xf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pr(n,{pathname:e,routeId:t,method:a,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new uc(n||500,c,new Error(d),!0)}function Wf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if($s(o))return{key:a,result:o}}}function Fb(n){let e=typeof n=="string"?ds(n):n;return Ai({...e,hash:""})}function cD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function fD(n){var e,t;return new uc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function hD(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&dD(t))}function dD(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function mD(n){return ly(n.result)&&Vb.has(n.result.status)}function yr(n){return n.type==="error"}function $s(n){return(n&&n.type)==="redirect"}function p0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function ly(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function pD(n){return Vb.has(n)}function gD(n){return ly(n)&&pD(n.status)&&n.headers.has("Location")}function yD(n){return $I.has(n.toUpperCase())}function Dn(n){return GI.has(n.toUpperCase())}function uy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function lh(n,e){let t=typeof e=="string"?ds(e).search:e.search;if(n[n.length-1].route.index&&uy(t||""))return n[n.length-1];let a=Db(n);return a[a.length-1]}function g0(n){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:l,json:c}=n;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function Jp(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _D(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ou(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Xi(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function ED(n,e){try{let t=n.sessionStorage.getItem(Pb);if(t){let a=JSON.parse(t);for(let[o,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function TD(n,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{n.sessionStorage.setItem(Pb,JSON.stringify(t))}catch(a){Wt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function y0(){let n,e,t=new Promise((a,o)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var so=B.createContext(null);so.displayName="DataRouter";var fc=B.createContext(null);fc.displayName="DataRouterState";var Hb=B.createContext(!1);function SD(){return B.useContext(Hb)}var cy=B.createContext({isTransitioning:!1});cy.displayName="ViewTransition";var qb=B.createContext(new Map);qb.displayName="Fetchers";var bD=B.createContext(null);bD.displayName="Await";var Sr=B.createContext(null);Sr.displayName="Navigation";var cd=B.createContext(null);cd.displayName="Location";var Ur=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var fy=B.createContext(null);fy.displayName="RouteError";var Gb="REACT_ROUTER_ERROR",wD="REDIRECT",AD="ROUTE_ERROR_RESPONSE";function RD(n){if(n.startsWith(`${Gb}:${wD}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function CD(n){if(n.startsWith(`${Gb}:${AD}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uc(e.status,e.statusText,e.data)}catch{}}function ID(n,{relative:e}={}){Qe(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=B.useContext(Sr),{hash:o,pathname:l,search:c}=dc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ei([t,l])),a.createHref({pathname:d,search:c,hash:o})}function Rl(){return B.useContext(cd)!=null}function ei(){return Qe(Rl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(cd).location}var Kb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $b(n){B.useContext(Sr).static||B.useLayoutEffect(n)}function hc(){let{isDataRoute:n}=B.useContext(Ur);return n?HD():DD()}function DD(){Qe(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(so),{basename:e,navigator:t}=B.useContext(Sr),{matches:a}=B.useContext(Ur),{pathname:o}=ei(),l=JSON.stringify(ld(a)),c=B.useRef(!1);return $b(()=>{c.current=!0}),B.useCallback((p,g={})=>{if(Wt(c.current,Kb),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=ud(p,JSON.parse(l),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ei([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,n])}var ND=B.createContext(null);function OD(n){let e=B.useContext(Ur).outlet;return B.useMemo(()=>e&&B.createElement(ND.Provider,{value:n},e),[e,n])}function fd(){let{matches:n}=B.useContext(Ur),e=n[n.length-1];return e?e.params:{}}function dc(n,{relative:e}={}){let{matches:t}=B.useContext(Ur),{pathname:a}=ei(),o=JSON.stringify(ld(t));return B.useMemo(()=>ud(n,JSON.parse(o),a,e==="path"),[n,o,a,e])}function xD(n,e,t,a,o){Qe(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=B.useContext(Sr),{matches:c}=B.useContext(Ur),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let q=E&&E.path||"";Qb(g,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let b=ei(),I;I=b;let P=I.pathname||"/",z=P;if(_!=="/"){let q=_.replace(/^\//,"").split("/");z="/"+P.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=$a(n,{pathname:z});return Wt(E||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Wt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kD(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Ei([_,l.encodeLocation?l.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:Ei([_,l.encodeLocation?l.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,t,a,o)}function MD(){let n=FD(),e=Wu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,c)}var VD=B.createElement(MD,null),Yb=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=CD(n.digest);t&&(n=t)}let e=n!==void 0?B.createElement(Ur.Provider,{value:this.props.routeContext},B.createElement(fy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(PD,{error:n},e):e}};Yb.contextType=Hb;var Zp=new WeakMap;function PD({children:n,error:e}){let{basename:t}=B.useContext(Sr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=RD(e.digest);if(a){let o=Zp.get(e);if(o)throw o;let l=Ob(a.location,t);if(Nb&&!Zp.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw Zp.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function LD({routeContext:n,match:e,children:t}){let a=B.useContext(so);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ur.Provider,{value:n},t)}function kD(n,e=[],t=null,a=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&(c==null?void 0:c[E.route.id])!==void 0);Qe(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=_),E.route.id){let{loaderData:b,errors:I}=t,P=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||P){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&a?(_,E)=>{var b,I;a(_,{location:t.location,params:((I=(b=t.matches)==null?void 0:b[0])==null?void 0:I.params)??{},unstable_pattern:cc(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,b)=>{let I,P=!1,z=null,L=null;t&&(I=c&&E.route.id?c[E.route.id]:void 0,z=E.route.errorElement||VD,d&&(p<0&&b===0?(Qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,L=null):p===b&&(P=!0,L=E.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,b+1)),q=()=>{let K;return I?K=z:P?K=L:E.route.Component?K=B.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=_,B.createElement(LD,{match:E,routeContext:{outlet:_,matches:G,isDataRoute:t!=null},children:K})};return t&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?B.createElement(Yb,{location:t.location,revalidation:t.revalidation,component:z,error:I,children:q(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:g}):q()},null)}function hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UD(n){let e=B.useContext(so);return Qe(e,hy(n)),e}function jD(n){let e=B.useContext(fc);return Qe(e,hy(n)),e}function zD(n){let e=B.useContext(Ur);return Qe(e,hy(n)),e}function dy(n){let e=zD(n),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BD(){return dy("useRouteId")}function FD(){var a;let n=B.useContext(fy),e=jD("useRouteError"),t=dy("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[t]}function HD(){let{router:n}=UD("useNavigate"),e=dy("useNavigate"),t=B.useRef(!1);return $b(()=>{t.current=!0}),B.useCallback(async(o,l={})=>{Wt(t.current,Kb),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var _0={};function Qb(n,e,t){!e&&!_0[n]&&(_0[n]=!0,Wt(!1,t))}var v0={};function E0(n,e){!n&&!v0[e]&&(v0[e]=!0,console.warn(e))}var qD="useOptimistic",T0=LC[qD],GD=()=>{};function KD(n){return T0?T0(n):[n,GD]}function $D(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Wt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Wt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Wt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var YD=["HydrateFallback","hydrateFallbackElement"],QD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function XD({router:n,flushSync:e,onError:t,unstable_useTransitions:a}){a=SD()||a;let[l,c]=B.useState(n.state),[d,p]=KD(l),[g,_]=B.useState(),[E,b]=B.useState({isTransitioning:!1}),[I,P]=B.useState(),[z,L]=B.useState(),[G,q]=B.useState(),K=B.useRef(new Map),ee=B.useCallback((w,{deletedFetchers:R,newErrors:D,flushSync:O,viewTransitionOpts:k})=>{D&&t&&Object.values(D).forEach(xe=>{var Xe;return t(xe,{location:w.location,params:((Xe=w.matches[0])==null?void 0:Xe.params)??{},unstable_pattern:cc(w.matches)})}),w.fetchers.forEach((xe,Xe)=>{xe.data!==void 0&&K.current.set(Xe,xe.data)}),R.forEach(xe=>K.current.delete(xe)),E0(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let x=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(E0(k==null||x,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!x){e&&O?e(()=>c(w)):a===!1?c(w):B.startTransition(()=>{a===!0&&p(xe=>S0(xe,w)),c(w)});return}if(e&&O){e(()=>{z&&(I==null||I.resolve(),z.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let xe=n.window.document.startViewTransition(()=>{e(()=>c(w))});xe.finished.finally(()=>{e(()=>{P(void 0),L(void 0),_(void 0),b({isTransitioning:!1})})}),e(()=>L(xe));return}z?(I==null||I.resolve(),z.skipTransition(),q({state:w,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(_(w),b({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[n.window,e,z,I,a,p,t]);B.useLayoutEffect(()=>n.subscribe(ee),[n,ee]),B.useEffect(()=>{E.isTransitioning&&!E.flushSync&&P(new QD)},[E]),B.useEffect(()=>{if(I&&g&&n.window){let w=g,R=I.promise,D=n.window.document.startViewTransition(async()=>{a===!1?c(w):B.startTransition(()=>{a===!0&&p(O=>S0(O,w)),c(w)}),await R});D.finished.finally(()=>{P(void 0),L(void 0),_(void 0),b({isTransitioning:!1})}),L(D)}},[g,I,n.window,a,p]),B.useEffect(()=>{I&&g&&d.location.key===g.location.key&&I.resolve()},[I,z,d.location,g]),B.useEffect(()=>{!E.isTransitioning&&G&&(_(G.state),b({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}),q(void 0))},[E.isTransitioning,G]);let $=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,R,D)=>n.navigate(w,{state:R,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(w,R,D)=>n.navigate(w,{replace:!0,state:R,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),re=n.basename||"/",S=B.useMemo(()=>({router:n,navigator:$,static:!1,basename:re,onError:t}),[n,$,re,t]);return B.createElement(B.Fragment,null,B.createElement(so.Provider,{value:S},B.createElement(fc.Provider,{value:d},B.createElement(qb.Provider,{value:K.current},B.createElement(cy.Provider,{value:E},B.createElement(ZD,{basename:re,location:d.location,navigationType:d.historyAction,navigator:$,unstable_useTransitions:a},B.createElement(WD,{routes:n.routes,future:n.future,state:d,onError:t})))))),null)}function S0(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var WD=B.memo(JD);function JD({routes:n,future:e,state:t,onError:a}){return xD(n,void 0,t,a,e)}function es({to:n,replace:e,state:t,relative:a}){Qe(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Sr);Wt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=B.useContext(Ur),{pathname:c}=ei(),d=hc(),p=ud(n,ld(l),c,a==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function Xb(n){return OD(n.context)}function ZD({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Qe(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof t=="string"&&(t=ds(t));let{pathname:g="/",search:_="",hash:E="",state:b=null,key:I="default"}=t,P=B.useMemo(()=>{let z=kr(g,d);return z==null?null:{location:{pathname:z,search:_,hash:E,state:b,key:I},navigationType:a}},[d,g,_,E,b,I,a]);return Wt(P!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(Sr.Provider,{value:p},B.createElement(cd.Provider,{children:e,value:P}))}var uh="get",ch="application/x-www-form-urlencoded";function hd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function e2(n){return hd(n)&&n.tagName.toLowerCase()==="button"}function t2(n){return hd(n)&&n.tagName.toLowerCase()==="form"}function n2(n){return hd(n)&&n.tagName.toLowerCase()==="input"}function r2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function i2(n,e){return n.button===0&&(!e||e==="_self")&&!r2(n)}var Jf=null;function a2(){if(Jf===null)try{new FormData(document.createElement("form"),0),Jf=!1}catch{Jf=!0}return Jf}var s2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function eg(n){return n!=null&&!s2.has(n)?(Wt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):n}function o2(n,e){let t,a,o,l,c;if(t2(n)){let d=n.getAttribute("action");a=d?kr(d,e):null,t=n.getAttribute("method")||uh,o=eg(n.getAttribute("enctype"))||ch,l=new FormData(n)}else if(e2(n)||n2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(a=p?kr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||uh,o=eg(n.getAttribute("formenctype"))||eg(d.getAttribute("enctype"))||ch,l=new FormData(d,n),!a2()){let{name:g,type:_,value:E}=n;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,E)}}else{if(hd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uh,a=null,o=ch,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function my(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function l2(n,e,t,a){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&kr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function u2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function f2(n,e,t){let a=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await u2(l,t);return c.links?c.links():[]}return[]}));return p2(a.flat(1).filter(c2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function b0(n,e,t,a,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function h2(n,e,{includeHydrateFallback:t}={}){return d2(n.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function d2(n){return[...new Set(n)]}function m2(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function p2(n,e){let t=new Set;return new Set(e),n.reduce((a,o)=>{let l=JSON.stringify(m2(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}function Wb(){let n=B.useContext(so);return my(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function g2(){let n=B.useContext(fc);return my(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var py=B.createContext(void 0);py.displayName="FrameworkContext";function Jb(){let n=B.useContext(py);return my(n,"You must render this element inside a <HydratedRouter> element"),n}function y2(n,e){let t=B.useContext(py),[a,o]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,b=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=G=>{G.forEach(q=>{c(q.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return b.current&&L.observe(b.current),()=>{L.disconnect()}}},[n]),B.useEffect(()=>{if(a){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[a]);let I=()=>{o(!0)},P=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:xu(d,I),onBlur:xu(p,P),onMouseEnter:xu(g,I),onMouseLeave:xu(_,P),onTouchStart:xu(E,I)}]:[!1,b,{}]}function xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _2({page:n,...e}){let{router:t}=Wb(),a=B.useMemo(()=>$a(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?B.createElement(E2,{page:n,matches:a,...e}):null}function v2(n){let{manifest:e,routeModules:t}=Jb(),[a,o]=B.useState([]);return B.useEffect(()=>{let l=!1;return f2(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),a}function E2({page:n,matches:e,...t}){let a=ei(),{future:o,manifest:l,routeModules:c}=Jb(),{basename:d}=Wb(),{loaderData:p,matches:g}=g2(),_=B.useMemo(()=>b0(n,e,g,l,a,"data"),[n,e,g,l,a]),E=B.useMemo(()=>b0(n,e,g,l,a,"assets"),[n,e,g,l,a]),b=B.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let z=new Set,L=!1;if(e.forEach(q=>{var ee;let K=l.routes[q.route.id];!K||!K.hasLoader||(!_.some($=>$.route.id===q.route.id)&&q.route.id in p&&((ee=c[q.route.id])!=null&&ee.shouldRevalidate)||K.hasClientLoader?L=!0:z.add(q.route.id))}),z.size===0)return[];let G=l2(n,d,o.unstable_trailingSlashAwareDataRequests,"data");return L&&z.size>0&&G.searchParams.set("_routes",e.filter(q=>z.has(q.route.id)).map(q=>q.route.id).join(",")),[G.pathname+G.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,a,l,_,e,n,c]),I=B.useMemo(()=>h2(E,l),[E,l]),P=v2(E);return B.createElement(B.Fragment,null,b.map(z=>B.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),I.map(z=>B.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),P.map(({key:z,link:L})=>B.createElement("link",{key:z,nonce:t.nonce,...L,crossOrigin:L.crossOrigin??t.crossOrigin})))}function T2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var S2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S2&&(window.__reactRouterVersion="7.13.0")}catch{}function b2(n,e){return WI({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:dI({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||w2(),routes:n,mapRouteProperties:$D,hydrationRouteProperties:YD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function w2(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:A2(n.errors)}),n}function A2(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new uc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let l=new Error(o.message);l.stack="",t[a]=l}}else t[a]=o;return t}var Zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ew=B.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...I},P){let{basename:z,unstable_useTransitions:L}=B.useContext(Sr),G=typeof g=="string"&&Zb.test(g),q=Ob(g,z);g=q.to;let K=ID(g,{relative:o}),[ee,$,re]=y2(a,I),S=D2(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:L});function w(D){e&&e(D),D.defaultPrevented||S(D)}let R=B.createElement("a",{...I,...re,href:q.absoluteURL||K,onClick:q.isExternal||l?e:w,ref:T2(P,$),target:p,"data-discover":!G&&t==="render"?"true":void 0});return ee&&!G?B.createElement(B.Fragment,null,R,B.createElement(_2,{page:K})):R});ew.displayName="Link";var R2=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let E=dc(c,{relative:g.relative}),b=ei(),I=B.useContext(fc),{navigator:P,basename:z}=B.useContext(Sr),L=I!=null&&V2(E)&&d===!0,G=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,q=b.pathname,K=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(q=q.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&z&&(K=kr(K,z)||K);const ee=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let $=q===G||!o&&q.startsWith(G)&&q.charAt(ee)==="/",re=K!=null&&(K===G||!o&&K.startsWith(G)&&K.charAt(G.length)==="/"),S={isActive:$,isPending:re,isTransitioning:L},w=$?e:void 0,R;typeof a=="function"?R=a(S):R=[a,$?"active":null,re?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(S):l;return B.createElement(ew,{...g,"aria-current":w,className:R,ref:_,style:D,to:c,viewTransition:d},typeof p=="function"?p(S):p)});R2.displayName="NavLink";var C2=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:c=uh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...I},P)=>{let{unstable_useTransitions:z}=B.useContext(Sr),L=x2(),G=M2(d,{relative:g}),q=c.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&Zb.test(d),ee=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let re=$.nativeEvent.submitter,S=(re==null?void 0:re.getAttribute("formmethod"))||c,w=()=>L(re||$.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b});z&&t!==!1?B.startTransition(()=>w()):w()};return B.createElement("form",{ref:P,method:q,action:G,onSubmit:a?p:ee,...I,"data-discover":!K&&n==="render"?"true":void 0})});C2.displayName="Form";function I2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(n){let e=B.useContext(so);return Qe(e,I2(n)),e}function D2(n,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=hc(),_=ei(),E=dc(n,{relative:l});return B.useCallback(b=>{if(i2(b,e)){b.preventDefault();let I=t!==void 0?t:Ai(_)===Ai(E),P=()=>g(n,{replace:I,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?B.startTransition(()=>P()):P()}},[_,g,E,t,a,e,n,o,l,c,d,p])}var N2=0,O2=()=>`__${String(++N2)}__`;function x2(){let{router:n}=tw("useSubmit"),{basename:e}=B.useContext(Sr),t=BD(),a=n.fetch,o=n.navigate;return B.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:_,body:E}=o2(l,e);if(c.navigate===!1){let b=c.fetcherKey||O2();await a(b,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,t])}function M2(n,{relative:e}={}){let{basename:t}=B.useContext(Sr),a=B.useContext(Ur);Qe(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...dc(n||".",{relative:e})},c=ei();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ei([t,l.pathname])),Ai(l)}function V2(n,{relative:e}={}){let t=B.useContext(cy);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=tw("useViewTransitionState"),o=dc(n,{relative:e});if(!t.isTransitioning)return!1;let l=kr(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=kr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Oh(o.pathname,c)!=null||Oh(o.pathname,l)!=null}var P2=Tb();function L2(n){return B.createElement(XD,{flushSync:P2.flushSync,...n})}const k2=B.createContext(void 0),ua=()=>oI(),Dt=cI.withTypes(),U2=({children:n})=>{const e=Dt(t=>t.auth.loading);return N.jsx(k2.Provider,{value:{isLoading:e},children:n})},j2=()=>{};var w0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},z2=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const o=n[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,g=p?n[o+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(b=64)),a.push(t[_],t[E],t[b],t[I])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):z2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||E==null)throw new B2;const b=l<<2|d>>4;if(a.push(b),g!==64){const I=d<<4&240|g>>2;if(a.push(I),E!==64){const P=g<<6&192|E;a.push(P)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F2=function(n){const e=nw(n);return rw.encodeByteArray(e,!0)},xh=function(n){return F2(n).replace(/\./g,"")},iw=function(n){try{return rw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=()=>H2().__FIREBASE_DEFAULTS__,G2=()=>{if(typeof process>"u"||typeof w0>"u")return;const n=w0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},K2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&iw(n[1]);return e&&JSON.parse(e)},dd=()=>{try{return j2()||q2()||G2()||K2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aw=n=>{var e,t;return(t=(e=dd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},$2=n=>{const e=aw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},sw=()=>{var n;return(n=dd())==null?void 0:n.config},ow=n=>{var e;return(e=dd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xh(JSON.stringify(t)),xh(JSON.stringify(c)),""].join(".")}const Fu={};function X2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Fu))Fu[e]?n.emulator.push(e):n.prod.push(e);return n}function W2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let A0=!1;function uw(n,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||Fu[n]===e||Fu[n]||A0)return;Fu[n]=e;function t(b){return`__firebase__banner__${b}`}const a="__firebase__banner",l=X2().prod.length>0;function c(){const b=document.getElementById(a);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{A0=!0,c()},b}function _(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=W2(a),I=t("text"),P=document.getElementById(I)||document.createElement("span"),z=t("learnmore"),L=document.getElementById(z)||document.createElement("a"),G=t("preprendIcon"),q=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;d(K),_(L,z);const ee=g();p(q,G),K.append(q,P,L,ee),document.body.appendChild(K)}l?(P.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function Z2(){var e;const n=(e=dd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const n=xn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iN(){return!Z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="FirebaseError";class ca extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=oN,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?lN(l,a):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ca(o,d,a)}}function lN(n,e){return n.replace(uN,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const uN=/\{\$([^}]+)}/g;function cN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function eo(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=n[o],c=e[o];if(R0(l)&&R0(c)){if(!eo(l,c))return!1}else if(l!==c)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function R0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function fN(n,e){const t=new hN(n,e);return t.subscribe.bind(t)}class hN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");dN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=tg),o.error===void 0&&(o.error=tg),o.complete===void 0&&(o.complete=tg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new Y2;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gN(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const l=this.instances.get(a);return l&&e(l,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pN(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pN(n){return n===Ks?void 0:n}function gN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const _N={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},vN=nt.INFO,EN={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},TN=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),o=EN[e];if(o)console[o](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gy{constructor(e){this.name=e,this._logLevel=vN,this._logHandler=TN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const SN=(n,e)=>e.some(t=>n instanceof t);let C0,I0;function bN(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wN(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cw=new WeakMap,Rg=new WeakMap,fw=new WeakMap,ng=new WeakMap,yy=new WeakMap;function AN(n){const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ts(n.result)),o()},c=()=>{a(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&cw.set(t,n)}).catch(()=>{}),yy.set(e,n),e}function RN(n){if(Rg.has(n))return;const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Rg.set(n,e)}let Cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CN(n){Cg=n(Cg)}function IN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(rg(this),e,...t);return fw.set(a,e.sort?e.sort():[e]),ts(a)}:wN().includes(n)?function(...e){return n.apply(rg(this),e),ts(cw.get(this))}:function(...e){return ts(n.apply(rg(this),e))}}function DN(n){return typeof n=="function"?IN(n):(n instanceof IDBTransaction&&RN(n),SN(n,bN())?new Proxy(n,Cg):n)}function ts(n){if(n instanceof IDBRequest)return AN(n);if(ng.has(n))return ng.get(n);const e=DN(n);return e!==n&&(ng.set(n,e),yy.set(e,n)),e}const rg=n=>yy.get(n);function NN(n,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=ts(c);return a&&c.addEventListener("upgradeneeded",p=>{a(ts(c.result),p.oldVersion,p.newVersion,ts(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const ON=["get","getKey","getAll","getAllKeys","count"],xN=["put","add","delete","clear"],ig=new Map;function D0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=xN.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ON.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return ig.set(e,l),l}CN(n=>({...n,get:(e,t,a)=>D0(e,t)||n.get(e,t,a),has:(e,t)=>!!D0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VN(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function VN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",N0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new gy("@firebase/app"),PN="@firebase/app-compat",LN="@firebase/analytics-compat",kN="@firebase/analytics",UN="@firebase/app-check-compat",jN="@firebase/app-check",zN="@firebase/auth",BN="@firebase/auth-compat",FN="@firebase/database",HN="@firebase/data-connect",qN="@firebase/database-compat",GN="@firebase/functions",KN="@firebase/functions-compat",$N="@firebase/installations",YN="@firebase/installations-compat",QN="@firebase/messaging",XN="@firebase/messaging-compat",WN="@firebase/performance",JN="@firebase/performance-compat",ZN="@firebase/remote-config",eO="@firebase/remote-config-compat",tO="@firebase/storage",nO="@firebase/storage-compat",rO="@firebase/firestore",iO="@firebase/ai",aO="@firebase/firestore-compat",sO="firebase",oO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="[DEFAULT]",lO={[Ig]:"fire-core",[PN]:"fire-core-compat",[kN]:"fire-analytics",[LN]:"fire-analytics-compat",[jN]:"fire-app-check",[UN]:"fire-app-check-compat",[zN]:"fire-auth",[BN]:"fire-auth-compat",[FN]:"fire-rtdb",[HN]:"fire-data-connect",[qN]:"fire-rtdb-compat",[GN]:"fire-fn",[KN]:"fire-fn-compat",[$N]:"fire-iid",[YN]:"fire-iid-compat",[QN]:"fire-fcm",[XN]:"fire-fcm-compat",[WN]:"fire-perf",[JN]:"fire-perf-compat",[ZN]:"fire-rc",[eO]:"fire-rc-compat",[tO]:"fire-gcs",[nO]:"fire-gcs-compat",[rO]:"fire-fst",[aO]:"fire-fst-compat",[iO]:"fire-vertex","fire-js":"fire-js",[sO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,uO=new Map,Ng=new Map;function O0(n,e){try{n.container.addComponent(e)}catch(t){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ml(n){const e=n.name;if(Ng.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Ng.set(e,n);for(const t of Mh.values())O0(t,n);for(const t of uO.values())O0(t,n);return!0}function _y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $r(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new mc("app","Firebase",cO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=oO;function hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a={name:Dg,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=sw()),!t)throw ns.create("no-options");const l=Mh.get(o);if(l){if(eo(t,l.options)&&eo(a,l.config))return l;throw ns.create("duplicate-app",{appName:o})}const c=new yN(o);for(const p of Ng.values())c.addComponent(p);const d=new fO(t,a,c);return Mh.set(o,d),d}function dw(n=Dg){const e=Mh.get(n);if(!e&&n===Dg&&sw())return hw();if(!e)throw ns.create("no-app",{appName:n});return e}function rs(n,e,t){let a=lO[n]??n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(c.join(" "));return}ml(new to(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="firebase-heartbeat-database",dO=1,Ju="firebase-heartbeat-store";let ag=null;function mw(){return ag||(ag=NN(hO,dO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw ns.create("idb-open",{originalErrorMessage:n.message})})),ag}async function mO(n){try{const t=(await mw()).transaction(Ju),a=await t.objectStore(Ju).get(pw(n));return await t.done,a}catch(e){if(e instanceof ca)ra.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(t.message)}}}async function x0(n,e){try{const a=(await mw()).transaction(Ju,"readwrite");await a.objectStore(Ju).put(e,pw(n)),await a.done}catch(t){if(t instanceof ca)ra.warn(t.message);else{const a=ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ra.warn(a.message)}}}function pw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=1024,gO=30;class yO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vO(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=M0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>gO){const c=EO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ra.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M0(),{heartbeatsToSend:a,unsentEntries:o}=_O(this._heartbeatsCache.heartbeats),l=xh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ra.warn(t),""}}}function M0(){return new Date().toISOString().substring(0,10)}function _O(n,e=pO){const t=[];let a=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),V0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),V0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class vO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?sN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function V0(n){return xh(JSON.stringify({version:2,heartbeats:n})).length}function EO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n){ml(new to("platform-logger",e=>new MN(e),"PRIVATE")),ml(new to("heartbeat",e=>new yO(e),"PRIVATE")),rs(Ig,N0,n),rs(Ig,N0,"esm2020"),rs("fire-js","")}TO("");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,gw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function R(){}R.prototype=w.prototype,S.F=w.prototype,S.prototype=new R,S.prototype.constructor=S,S.D=function(D,O,k){for(var x=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)x[xe-2]=arguments[xe];return w.prototype[O].apply(D,x)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,w,R){R||(R=0);const D=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)D[O]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(O=0;O<16;++O)D[O]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=S.g[0],R=S.g[1],O=S.g[2];let k=S.g[3],x;x=w+(k^R&(O^k))+D[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(O^w&(R^O))+D[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=O+(R^k&(w^R))+D[2]+606105819&4294967295,O=k+(x<<17&4294967295|x>>>15),x=R+(w^O&(k^w))+D[3]+3250441966&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(k^R&(O^k))+D[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(O^w&(R^O))+D[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=O+(R^k&(w^R))+D[6]+2821735955&4294967295,O=k+(x<<17&4294967295|x>>>15),x=R+(w^O&(k^w))+D[7]+4249261313&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(k^R&(O^k))+D[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(O^w&(R^O))+D[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=O+(R^k&(w^R))+D[10]+4294925233&4294967295,O=k+(x<<17&4294967295|x>>>15),x=R+(w^O&(k^w))+D[11]+2304563134&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(k^R&(O^k))+D[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(O^w&(R^O))+D[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=O+(R^k&(w^R))+D[14]+2792965006&4294967295,O=k+(x<<17&4294967295|x>>>15),x=R+(w^O&(k^w))+D[15]+1236535329&4294967295,R=O+(x<<22&4294967295|x>>>10),x=w+(O^k&(R^O))+D[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^O&(w^R))+D[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(k^w))+D[11]+643717713&4294967295,O=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(O^k))+D[0]+3921069994&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^k&(R^O))+D[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^O&(w^R))+D[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(k^w))+D[15]+3634488961&4294967295,O=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(O^k))+D[4]+3889429448&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^k&(R^O))+D[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^O&(w^R))+D[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(k^w))+D[3]+4107603335&4294967295,O=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(O^k))+D[8]+1163531501&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(O^k&(R^O))+D[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^O&(w^R))+D[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=O+(w^R&(k^w))+D[7]+1735328473&4294967295,O=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(O^k))+D[12]+2368359562&4294967295,R=O+(x<<20&4294967295|x>>>12),x=w+(R^O^k)+D[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^O)+D[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=O+(k^w^R)+D[11]+1839030562&4294967295,O=k+(x<<16&4294967295|x>>>16),x=R+(O^k^w)+D[14]+4259657740&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^k)+D[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^O)+D[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=O+(k^w^R)+D[7]+4139469664&4294967295,O=k+(x<<16&4294967295|x>>>16),x=R+(O^k^w)+D[10]+3200236656&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^k)+D[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^O)+D[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=O+(k^w^R)+D[3]+3572445317&4294967295,O=k+(x<<16&4294967295|x>>>16),x=R+(O^k^w)+D[6]+76029189&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(R^O^k)+D[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^O)+D[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=O+(k^w^R)+D[15]+530742520&4294967295,O=k+(x<<16&4294967295|x>>>16),x=R+(O^k^w)+D[2]+3299628645&4294967295,R=O+(x<<23&4294967295|x>>>9),x=w+(O^(R|~k))+D[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~O))+D[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=O+(w^(k|~R))+D[14]+2878612391&4294967295,O=k+(x<<15&4294967295|x>>>17),x=R+(k^(O|~w))+D[5]+4237533241&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~k))+D[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~O))+D[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=O+(w^(k|~R))+D[10]+4293915773&4294967295,O=k+(x<<15&4294967295|x>>>17),x=R+(k^(O|~w))+D[1]+2240044497&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~k))+D[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~O))+D[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=O+(w^(k|~R))+D[6]+2734768916&4294967295,O=k+(x<<15&4294967295|x>>>17),x=R+(k^(O|~w))+D[13]+1309151649&4294967295,R=O+(x<<21&4294967295|x>>>11),x=w+(O^(R|~k))+D[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~O))+D[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=O+(w^(k|~R))+D[2]+718787259&4294967295,O=k+(x<<15&4294967295|x>>>17),x=R+(k^(O|~w))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+k&4294967295}a.prototype.v=function(S,w){w===void 0&&(w=S.length);const R=w-this.blockSize,D=this.C;let O=this.h,k=0;for(;k<w;){if(O==0)for(;k<=R;)o(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<w;)if(D[O++]=S.charCodeAt(k++),O==this.blockSize){o(this,D),O=0;break}}else for(;k<w;)if(D[O++]=S[k++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=w},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var R=S.length-8;R<S.length;++R)S[R]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)S[w++]=this.g[R]>>>D&255;return S};function l(S,w){var R=d;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=w(S)}function c(S,w){this.h=w;const R=[];let D=!0;for(let O=S.length-1;O>=0;O--){const k=S[O]|0;D&&k==w||(R[O]=k,D=!1)}this.g=R}var d={};function p(S){return-128<=S&&S<128?l(S,function(w){return new c([w|0],w<0?-1:0)}):new c([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return L(g(-S));const w=[];let R=1;for(let D=0;S>=R;D++)w[D]=S/R|0,R*=4294967296;return new c(w,0)}function _(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return L(_(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let D=E;for(let k=0;k<S.length;k+=8){var O=Math.min(8,S.length-k);const x=parseInt(S.substring(k,k+O),w);O<8?(O=g(Math.pow(w,O)),D=D.j(O).add(g(x))):(D=D.j(R),D=D.add(g(x)))}return D}var E=p(0),b=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-L(this).m();let S=0,w=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);S+=(D>=0?D:4294967296+D)*w,w*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(P(this))return"0";if(z(this))return"-"+L(this).toString(S);const w=g(Math.pow(S,6));var R=this;let D="";for(;;){const O=ee(R,w).g;R=G(R,O.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(S);if(R=O,P(R))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function P(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function z(S){return S.h==-1}n.l=function(S){return S=G(this,S),z(S)?-1:P(S)?0:1};function L(S){const w=S.g.length,R=[];for(let D=0;D<w;D++)R[D]=~S.g[D];return new c(R,~S.h).add(b)}n.abs=function(){return z(this)?L(this):this},n.add=function(S){const w=Math.max(this.g.length,S.g.length),R=[];let D=0;for(let O=0;O<=w;O++){let k=D+(this.i(O)&65535)+(S.i(O)&65535),x=(k>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);D=x>>>16,k&=65535,x&=65535,R[O]=x<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function G(S,w){return S.add(L(w))}n.j=function(S){if(P(this)||P(S))return E;if(z(this))return z(S)?L(this).j(L(S)):L(L(this).j(S));if(z(S))return L(this.j(L(S)));if(this.l(I)<0&&S.l(I)<0)return g(this.m()*S.m());const w=this.g.length+S.g.length,R=[];for(var D=0;D<2*w;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let O=0;O<S.g.length;O++){const k=this.i(D)>>>16,x=this.i(D)&65535,xe=S.i(O)>>>16,Xe=S.i(O)&65535;R[2*D+2*O]+=x*Xe,q(R,2*D+2*O),R[2*D+2*O+1]+=k*Xe,q(R,2*D+2*O+1),R[2*D+2*O+1]+=x*xe,q(R,2*D+2*O+1),R[2*D+2*O+2]+=k*xe,q(R,2*D+2*O+2)}for(S=0;S<w;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=w;S<2*w;S++)R[S]=0;return new c(R,0)};function q(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function K(S,w){this.g=S,this.h=w}function ee(S,w){if(P(w))throw Error("division by zero");if(P(S))return new K(E,E);if(z(S))return w=ee(L(S),w),new K(L(w.g),L(w.h));if(z(w))return w=ee(S,L(w)),new K(L(w.g),w.h);if(S.g.length>30){if(z(S)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,D=w;D.l(S)<=0;)R=$(R),D=$(D);var O=re(R,1),k=re(D,1);for(D=re(D,2),R=re(R,2);!P(D);){var x=k.add(D);x.l(S)<=0&&(O=O.add(R),k=x),D=re(D,1),R=re(R,1)}return w=G(S,O.j(w)),new K(O,w)}for(O=E;S.l(w)>=0;){for(R=Math.max(1,Math.floor(S.m()/w.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=g(R),x=k.j(w);z(x)||x.l(S)>0;)R-=D,k=g(R),x=k.j(w);P(k)&&(k=b),O=O.add(k),S=G(S,x)}return new K(O,S)}n.B=function(S){return ee(this,S).h},n.and=function(S){const w=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<w;D++)R[D]=this.i(D)&S.i(D);return new c(R,this.h&S.h)},n.or=function(S){const w=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<w;D++)R[D]=this.i(D)|S.i(D);return new c(R,this.h|S.h)},n.xor=function(S){const w=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<w;D++)R[D]=this.i(D)^S.i(D);return new c(R,this.h^S.h)};function $(S){const w=S.g.length+1,R=[];for(let D=0;D<w;D++)R[D]=S.i(D)<<1|S.i(D-1)>>>31;return new c(R,S.h)}function re(S,w){const R=w>>5;w%=32;const D=S.g.length-R,O=[];for(let k=0;k<D;k++)O[k]=w>0?S.i(k+R)>>>w|S.i(k+R+1)<<32-w:S.i(k+R);return new c(O,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,gw=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,is=c}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yw,Lu,_w,fh,Og,vw,Ew,Tw;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zf=="object"&&Zf];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=t(this);function o(f,y){if(y)e:{var T=a;f=f.split(".");for(var C=0;C<f.length-1;C++){var Y=f[C];if(!(Y in T))break e;T=T[Y]}f=f[f.length-1],C=T[f],y=y(C),y!=C&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(y){var T=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&T.push([C,y[C]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,T){return f.call.apply(f.bind,arguments)}function g(f,y,T){return g=p,g.apply(null,arguments)}function _(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function E(f,y){function T(){}T.prototype=y.prototype,f.Z=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(C,Y,te){for(var pe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)pe[Fe-2]=arguments[Fe];return y.prototype[Y].apply(C,pe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const y=f.length;if(y>0){const T=Array(y);for(let C=0;C<y;C++)T[C]=f[C];return T}return[]}function P(f,y){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=f.length||0;const te=Y.length||0;f.length=T+te;for(let pe=0;pe<te;pe++)f[T+pe]=Y[pe]}else f.push(Y)}}class z{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(f){c.setTimeout(()=>{throw f},0)}function G(){var f=S;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class q{constructor(){this.h=this.g=null}add(y,T){const C=K.get();C.set(y,T),this.h?this.h.next=C:this.g=C,this.h=C}}var K=new z(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,re=!1,S=new q,w=()=>{const f=Promise.resolve(void 0);$=()=>{f.then(R)}};function R(){for(var f;f=G();){try{f.h.call(f.g)}catch(T){L(T)}var y=K;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}re=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return f})();function x(f){return/^[\s\xa0]*$/.test(f)}function xe(f,y){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}E(xe,O),xe.prototype.init=function(f,y){const T=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),W=0;function fe(f,y,T,C,Y){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!C,this.ha=Y,this.key=++W,this.da=this.fa=!1}function ye(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Me(f,y,T){for(const C in f)y.call(T,f[C],C,f)}function Ve(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function U(f){const y={};for(const T in f)y[T]=f[T];return y}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(f,y){let T,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(T in C)f[T]=C[T];for(let te=0;te<ie.length;te++)T=ie[te],Object.prototype.hasOwnProperty.call(C,T)&&(f[T]=C[T])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,y,T,C,Y){const te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);const pe=Ne(f,y,C,Y);return pe>-1?(y=f[pe],T||(y.fa=!1)):(y=new fe(y,this.src,te,!!C,Y),y.fa=T,f.push(y)),y};function Ae(f,y){const T=y.type;if(T in f.g){var C=f.g[T],Y=Array.prototype.indexOf.call(C,y,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(C,Y,1),te&&(ye(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Ne(f,y,T,C){for(let Y=0;Y<f.length;++Y){const te=f[Y];if(!te.da&&te.listener==y&&te.capture==!!T&&te.ha==C)return Y}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),Tt={};function wt(f,y,T,C,Y){if(Array.isArray(y)){for(let te=0;te<y.length;te++)wt(f,y[te],T,C,Y);return null}return T=_s(T),f&&f[Xe]?f.J(y,T,d(C)?!!C.capture:!1,Y):Ii(f,y,T,!1,C,Y)}function Ii(f,y,T,C,Y,te){if(!y)throw Error("Invalid event type");const pe=d(Y)?!!Y.capture:!!Y;let Fe=Mn(f);if(Fe||(f[$e]=Fe=new _e(f)),T=Fe.add(y,T,C,pe,te),T.proxy)return T;if(C=fa(),T.proxy=C,C.src=f,C.listener=T,f.addEventListener)k||(Y=pe),Y===void 0&&(Y=!1),f.addEventListener(y.toString(),C,Y);else if(f.attachEvent)f.attachEvent(nr(y.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function fa(){function f(T){return y.call(f.src,f.listener,T)}const y=gs;return f}function Ut(f,y,T,C,Y){if(Array.isArray(y))for(var te=0;te<y.length;te++)Ut(f,y[te],T,C,Y);else C=d(C)?!!C.capture:!!C,T=_s(T),f&&f[Xe]?(f=f.i,te=String(y).toString(),te in f.g&&(y=f.g[te],T=Ne(y,T,C,Y),T>-1&&(ye(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete f.g[te],f.h--)))):f&&(f=Mn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Ne(y,T,C,Y)),(T=f>-1?y[f]:null)&&tr(T))}function tr(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[Xe])Ae(y.i,f);else{var T=f.type,C=f.proxy;y.removeEventListener?y.removeEventListener(T,C,f.capture):y.detachEvent?y.detachEvent(nr(T),C):y.addListener&&y.removeListener&&y.removeListener(C),(T=Mn(y))?(Ae(T,f),T.h==0&&(T.src=null,y[$e]=null)):ye(f)}}}function nr(f){return f in Tt?Tt[f]:Tt[f]="on"+f}function gs(f,y){if(f.da)f=!0;else{y=new xe(y,this);const T=f.listener,C=f.ha||f.src;f.fa&&tr(f),f=T.call(C,y)}return f}function Mn(f){return f=f[$e],f instanceof _e?f:null}var ys="__closure_events_fn_"+(Math.random()*1e9>>>0);function _s(f){return typeof f=="function"?f:(f[ys]||(f[ys]=function(y){return f.handleEvent(y)}),f[ys])}function jt(){D.call(this),this.i=new _e(this),this.M=this,this.G=null}E(jt,D),jt.prototype[Xe]=!0,jt.prototype.removeEventListener=function(f,y,T,C){Ut(this,f,y,T,C)};function Kt(f,y){var T,C=f.G;if(C)for(T=[];C;C=C.G)T.push(C);if(f=f.M,C=y.type||y,typeof y=="string")y=new O(y,f);else if(y instanceof O)y.target=y.target||f;else{var Y=y;y=new O(C,f),he(y,Y)}Y=!0;let te,pe;if(T)for(pe=T.length-1;pe>=0;pe--)te=y.g=T[pe],Y=ti(te,C,!0,y)&&Y;if(te=y.g=f,Y=ti(te,C,!0,y)&&Y,Y=ti(te,C,!1,y)&&Y,T)for(pe=0;pe<T.length;pe++)te=y.g=T[pe],Y=ti(te,C,!1,y)&&Y}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const T=f.g[y];for(let C=0;C<T.length;C++)ye(T[C]);delete f.g[y],f.h--}}this.G=null},jt.prototype.J=function(f,y,T,C){return this.i.add(String(f),y,!1,T,C)},jt.prototype.K=function(f,y,T,C){return this.i.add(String(f),y,!0,T,C)};function ti(f,y,T,C){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let Y=!0;for(let te=0;te<y.length;++te){const pe=y[te];if(pe&&!pe.da&&pe.capture==T){const Fe=pe.listener,$t=pe.ha||pe.src;pe.fa&&Ae(f.i,pe),Y=Fe.call($t,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function Pl(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function fo(f){f.g=Pl(()=>{f.g=null,f.i&&(f.i=!1,fo(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class zt extends D{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(f){D.call(this),this.h=f,this.g={}}E(rr,D);var ha=[];function Di(f){Me(f.g,function(y,T){this.g.hasOwnProperty(T)&&tr(y)},f),f.g={}}rr.prototype.N=function(){rr.Z.N.call(this),Di(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=c.JSON.stringify,ir=c.JSON.parse,vs=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ho(){}function da(){}var ar={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){O.call(this,"d")}E(St,O);function Vn(){O.call(this,"c")}E(Vn,O);var Vt={},Es=null;function ma(){return Es=Es||new jt}Vt.Ia="serverreachability";function Ts(f){O.call(this,Vt.Ia,f)}E(Ts,O);function Pn(f){const y=ma();Kt(y,new Ts(y))}Vt.STAT_EVENT="statevent";function ni(f,y){O.call(this,Vt.STAT_EVENT,f),this.stat=y}E(ni,O);function Pt(f){const y=ma();Kt(y,new ni(y,f))}Vt.Ja="timingevent";function br(f,y){O.call(this,Vt.Ja,f),this.size=y}E(br,O);function sr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function mo(f,y,T,C,Y,te){f.info(function(){if(f.g)if(te){var pe="",Fe=te.split("&");for(let ct=0;ct<Fe.length;ct++){var $t=Fe[ct].split("=");if($t.length>1){const Lt=$t[0];$t=$t[1];const Rr=Lt.split("_");pe=Rr.length>=2&&Rr[1]=="type"?pe+(Lt+"="+$t+"&"):pe+(Lt+"=redacted&")}}}else pe=null;else pe=te;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+y+`
`+T+`
`+pe})}function Ni(f,y,T,C,Y,te,pe){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+y+`
`+T+`
`+te+" "+pe})}function Ln(f,y,T,C){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ll(f,T)+(C?" "+C:"")})}function ri(f,y){f.info(function(){return"TIMEOUT: "+y})}or.prototype.info=function(){};function Ll(f,y){if(!f.g)return y;if(!y)return null;try{const te=JSON.parse(y);if(te){for(f=0;f<te.length;f++)if(Array.isArray(te[f])){var T=te[f];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let pe=1;pe<C.length;pe++)C[pe]=""}}}}return fn(te)}catch{return y}}var Oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},M={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},F;function J(){}E(J,ho),J.prototype.g=function(){return new XMLHttpRequest},F=new J;function ce(f){return encodeURIComponent(String(f))}function de(f){var y=1;f=f.split(":");const T=[];for(;y>0&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function Ee(f,y,T,C){this.j=f,this.i=y,this.l=T,this.S=C||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var me={},ge={};function Se(f,y,T){f.M=1,f.A=Ss(gt(y)),f.u=T,f.R=!0,Pe(f,null)}function Pe(f,y){f.F=Date.now(),pt(f),f.B=gt(f.A);var T=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),go(T.i,"t",C),f.C=0,T=f.j.L,f.h=new be,f.g=Fc(f.j,T?y:null,!f.u),f.P>0&&(f.O=new zt(g(f.Y,f,f.g),f.P)),y=f.V,T=f.g,C=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ha[0]=Y.toString()),Y=ha);for(let te=0;te<Y.length;te++){const pe=wt(T,Y[te],C||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Pn(),mo(f.i,f.v,f.B,f.l,f.S,f.u)}Ee.prototype.ba=function(f){f=f.target;const y=this.O;y&&Br(f)==3?y.j():this.Y(f)},Ee.prototype.Y=function(f){try{if(f==this.g)e:{const Fe=Br(this.g),$t=this.g.ya(),ct=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Fe!=4||$t==7||($t==8||ct<=0?Pn(3):Pn(2)),At(this);var y=this.g.ca();this.X=y;var T=Ce(this);if(this.o=y==200,Ni(this.i,this.v,this.B,this.l,this.S,Fe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(C)){var te=C;break t}}te=null}if(f=te)Ln(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hn(this,f);else{this.o=!1,this.m=3,Pt(12),Rt(this),qe(this);break e}}if(this.R){f=!0;let Lt;for(;!this.K&&this.C<T.length;)if(Lt=Ye(this,T),Lt==ge){Fe==4&&(this.m=4,Pt(14),f=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==me){this.m=4,Pt(15),Ln(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Ln(this.i,this.l,Lt,null),hn(this,Lt);if(Ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||T.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)Ln(this.i,this.l,T,"[Invalid Chunked Response]"),Rt(this),qe(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Gl(pe),pe.P=!0,Pt(11))}}else Ln(this.i,this.l,T,null),hn(this,T);Fe==4&&Rt(this),this.o&&!this.K&&(Fe==4?Uc(this.j,this):(this.o=!1,pt(this)))}else Mi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Rt(this),qe(this)}}}catch{}finally{}};function Ce(f){if(!Ue(f))return f.g.la();const y=gn(f.g);if(y==="")return"";let T="";const C=y.length,Y=Br(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Rt(f),qe(f),"";f.h.i=new c.TextDecoder}for(let te=0;te<C;te++)f.h.h=!0,T+=f.h.i.decode(y[te],{stream:!(Y&&te==C-1)});return y.length=0,f.h.g+=T,f.C=0,f.h.g}function Ue(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ye(f,y){var T=f.C,C=y.indexOf(`
`,T);return C==-1?ge:(T=Number(y.substring(T,C)),isNaN(T)?me:(C+=1,C+T>y.length?ge:(y=y.slice(C,C+T),f.C=C+T,y)))}Ee.prototype.cancel=function(){this.K=!0,Rt(this)};function pt(f){f.T=Date.now()+f.H,Nt(f,f.H)}function Nt(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=sr(g(f.aa,f),y)}function At(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ee.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ri(this.i,this.B),this.M!=2&&(Pn(),Pt(17)),Rt(this),this.m=2,qe(this)):Nt(this,this.T-f)};function qe(f){f.j.I==0||f.K||Uc(f.j,f)}function Rt(f){At(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Di(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function hn(f,y){try{var T=f.j;if(T.I!=0&&(T.g==f||Rn(T.h,f))){if(!f.L&&Rn(T.h,f)&&T.I==3){try{var C=T.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)To(T),Sa(T);else break e;Ds(T),Pt(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=sr(g(T.Va,T),6e3));Bn(T.h)<=1&&T.ta&&(T.ta=void 0)}else fi(T,11)}else if((f.L||T.g==f)&&To(T),!x(y))for(Y=T.Ba.g.parse(y),y=0;y<Y.length;y++){let ct=Y[y];const Lt=ct[0];if(!(Lt<=T.K))if(T.K=Lt,ct=ct[1],T.I==2)if(ct[0]=="c"){T.M=ct[1],T.ba=ct[2];const Rr=ct[3];Rr!=null&&(T.ka=Rr,T.j.info("VER="+T.ka));const hi=ct[4];hi!=null&&(T.za=hi,T.j.info("SVER="+T.za));const Fr=ct[5];Fr!=null&&typeof Fr=="number"&&Fr>0&&(C=1.5*Fr,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const Hr=f.g;if(Hr){const Ns=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var te=C.h;te.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(lr(te,te.h),te.h=null))}if(C.G){const So=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(C.wa=So,ut(C.J,C.G,So))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var pe=f;if(C.na=Bc(C,C.L?C.ba:null,C.W),pe.L){ii(C.h,pe);var Fe=pe,$t=C.O;$t&&(Fe.H=$t),Fe.D&&(At(Fe),pt(Fe)),C.g=pe}else Lc(C);T.i.length>0&&ci(T)}else ct[0]!="stop"&&ct[0]!="close"||fi(T,7);else T.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?fi(T,7):Hl(T):ct[0]!="noop"&&T.l&&T.l.qa(ct),T.A=0)}}Pn(4)}catch{}}var Ct=class{constructor(f,y){this.g=f,this.map=y}};function zn(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function An(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Bn(f){return f.h?1:f.g?f.g.size:0}function Rn(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function lr(f,y){f.g?f.g.add(y):f.h=y}function ii(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}zn.prototype.cancel=function(){if(this.i=ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ai(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.G);return y}return I(f.i)}var We=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bt(f,y){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const C=f[T].indexOf("=");let Y,te=null;C>=0?(Y=f[T].substring(0,C),te=f[T].substring(C+1)):Y=f[T],y(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Jt(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof Jt?(this.l=f.l,Ge(this,f.j),this.o=f.o,this.g=f.g,ur(this,f.u),this.h=f.h,pa(this,Vc(f.i)),this.m=f.m):f&&(y=String(f).match(We))?(this.l=!1,Ge(this,y[1]||"",!0),this.o=si(y[2]||""),this.g=si(y[3]||"",!0),ur(this,y[4]),this.h=si(y[5]||"",!0),pa(this,y[6]||"",!0),this.m=si(y[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}Jt.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(bs(y,po,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(bs(y,po,!0),"@"),f.push(ce(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(bs(T,T.charAt(0)=="/"?kl:Oc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",bs(T,xc)),f.join("")},Jt.prototype.resolve=function(f){const y=gt(this);let T=!!f.j;T?Ge(y,f.j):T=!!f.o,T?y.o=f.o:T=!!f.g,T?y.g=f.g:T=f.u!=null;var C=f.h;if(T)ur(y,f.u);else if(T=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=y.h.lastIndexOf("/");Y!=-1&&(C=y.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let pe=0;pe<Y.length;){const Fe=Y[pe++];Fe=="."?C&&pe==Y.length&&te.push(""):Fe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),C&&pe==Y.length&&te.push("")):(te.push(Fe),C=!0)}C=te.join("/")}else C=Y}return T?y.h=C:T=f.i.toString()!=="",T?pa(y,Vc(f.i)):T=!!f.m,T&&(y.m=f.m),y};function gt(f){return new Jt(f)}function Ge(f,y,T){f.j=T?si(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function ur(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function pa(f,y,T){y instanceof ya?(f.i=y,yo(f.i,f.l)):(T||(y=bs(y,ga)),f.i=new ya(y,f.l))}function ut(f,y,T){f.i.set(y,T)}function Ss(f){return ut(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function si(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function bs(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,Fn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var po=/[#\/\?@]/g,Oc=/[#\?:]/g,kl=/[#\?]/g,ga=/[#\?@]/g,xc=/#/g;function ya(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Hn(f){f.g||(f.g=new Map,f.h=0,f.i&&Bt(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=ya.prototype,n.add=function(f,y){Hn(this),this.i=null,f=_a(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function Mc(f,y){Hn(f),y=_a(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Ul(f,y){return Hn(f),y=_a(f,y),f.g.has(y)}n.forEach=function(f,y){Hn(this),this.g.forEach(function(T,C){T.forEach(function(Y){f.call(y,Y,C,this)},this)},this)};function jl(f,y){Hn(f);let T=[];if(typeof y=="string")Ul(f,y)&&(T=T.concat(f.g.get(_a(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)T=T.concat(f[y]);return T}n.set=function(f,y){return Hn(this),this.i=null,f=_a(this,f),Ul(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=jl(this,f),f.length>0?String(f[0]):y):y};function go(f,y,T){Mc(f,y),T.length>0&&(f.i=null,f.g.set(_a(f,y),I(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var T=y[C];const Y=ce(T);T=jl(this,T);for(let te=0;te<T.length;te++){let pe=Y;T[te]!==""&&(pe+="="+ce(T[te])),f.push(pe)}}return this.i=f.join("&")};function Vc(f){const y=new ya;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function _a(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function yo(f,y){y&&!f.j&&(Hn(f),f.i=null,f.g.forEach(function(T,C){const Y=C.toLowerCase();C!=Y&&(Mc(this,C),go(this,Y,T))},f)),f.j=y}function jr(f,y){const T=new or;if(c.Image){const C=new Image;C.onload=_(wr,T,"TestLoadImage: loaded",!0,y,C),C.onerror=_(wr,T,"TestLoadImage: error",!1,y,C),C.onabort=_(wr,T,"TestLoadImage: abort",!1,y,C),C.ontimeout=_(wr,T,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else y(!1)}function zl(f,y){const T=new or,C=new AbortController,Y=setTimeout(()=>{C.abort(),wr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:C.signal}).then(te=>{clearTimeout(Y),te.ok?wr(T,"TestPingServer: ok",!0,y):wr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Y),wr(T,"TestPingServer: error",!1,y)})}function wr(f,y,T,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(T)}catch{}}function va(){this.g=new vs}function oi(f){this.i=f.Sb||null,this.h=f.ab||!1}E(oi,ho),oi.prototype.g=function(){return new ws(this.i,this.h)};function ws(f,y){jt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ws,jt),n=ws.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,zr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Ea(this):zr(this),this.readyState==3&&_o(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ea(this))},n.Na=function(f){this.g&&(this.response=f,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(f){f.readyState=4,f.l=null,f.j=null,f.B=null,zr(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function zr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ar(f){let y="";return Me(f,function(T,C){y+=C,y+=":",y+=T,y+=`\r
`}),y}function As(f,y,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Ar(T),typeof f=="string"?T!=null&&ce(T):ut(f,y,T))}function yt(f){jt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(yt,jt);var li=/^https?$/i,Bl=["POST","PUT"];n=yt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():F.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(te){Rs(this,te);return}if(f=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)T.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const te of C.keys())T.set(te,C.get(te));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),Y=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Bl,y,void 0)>=0)||C||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of T)this.g.setRequestHeader(te,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(te){Rs(this,te)}};function Rs(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Fl(f),xi(f)}function Fl(f){f.A||(f.A=!0,Kt(f,"complete"),Kt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Kt(this,"complete"),Kt(this,"abort"),xi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),yt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},n.Xa=function(){Cs(this)};function Cs(f){if(f.h&&typeof l<"u"){if(f.v&&Br(f)==4)setTimeout(f.Ca.bind(f),0);else if(Kt(f,"readystatechange"),Br(f)==4){f.h=!1;try{const te=f.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var C;if(C=te===0){let pe=String(f.D).match(We)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),C=!li.test(pe?pe.toLowerCase():"")}T=C}if(T)Kt(f,"complete"),Kt(f,"success");else{f.o=6;try{var Y=Br(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",Fl(f)}}finally{xi(f)}}}}function xi(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,y||Kt(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Br(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Br(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),ir(y)}};function gn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(f){const y={};f=(f.g&&Br(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(x(f[C]))continue;var T=de(f[C]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=y[Y]||[];y[Y]=te,te.push(T)}Ve(y,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function Ta(f){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,f),this.Za=ui("retryDelaySeedMs",1e4,f),this.Ta=ui("forwardChannelMaxRetries",2,f),this.va=ui("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new zn(f&&f.concurrentRequestLimit),this.Ba=new va,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ta.prototype,n.ka=8,n.I=1,n.connect=function(f,y,T,C){Pt(0),this.W=f,this.H=y||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=Bc(this,null,this.W),ci(this)};function Hl(f){if(vo(f),f.I==3){var y=f.V++,T=gt(f.J);if(ut(T,"SID",f.M),ut(T,"RID",y),ut(T,"TYPE","terminate"),Is(f,T),y=new Ee(f,f.j,y),y.M=2,y.A=Ss(gt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pt(y)}zc(f)}function Sa(f){f.g&&(Gl(f),f.g.cancel(),f.g=null)}function vo(f){Sa(f),f.v&&(c.clearTimeout(f.v),f.v=null),To(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ci(f){if(!An(f.h)&&!f.m){f.m=!0;var y=f.Ea;$||w(),re||($(),re=!0),S.add(y,f),f.D=0}}function Eo(f,y){return Bn(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=sr(g(f.Ea,f,y),jc(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ee(this,this.j,f);let te=this.o;if(this.U&&(te?(te=U(te),he(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Pc(this,Y,y),T=gt(this.J),ut(T,"RID",f),ut(T,"CVER",22),this.G&&ut(T,"X-HTTP-Session-Id",this.G),Is(this,T),te&&(this.R?y="headers="+ce(Ar(te))+"&"+y:this.u&&As(T,this.u,te)),lr(this.h,Y),this.Ra&&ut(T,"TYPE","init"),this.S?(ut(T,"$req",y),ut(T,"SID","null"),Y.U=!0,Se(Y,T,null)):Se(Y,T,y),this.I=2}}else this.I==3&&(f?ql(this,f):this.i.length==0||An(this.h)||ql(this))};function ql(f,y){var T;y?T=y.l:T=f.V++;const C=gt(f.J);ut(C,"SID",f.M),ut(C,"RID",T),ut(C,"AID",f.K),Is(f,C),f.u&&f.o&&As(C,f.u,f.o),T=new Ee(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),y&&(f.i=y.G.concat(f.i)),y=Pc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),lr(f.h,T),Se(T,C,y)}function Is(f,y){f.H&&Me(f.H,function(T,C){ut(y,C,T)}),f.l&&Me({},function(T,C){ut(y,C,T)})}function Pc(f,y,T){T=Math.min(f.i.length,T);const C=f.l?g(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Fe=-1;for(;;){const $t=["count="+T];Fe==-1?T>0?(Fe=Y[0].g,$t.push("ofs="+Fe)):Fe=0:$t.push("ofs="+Fe);let ct=!0;for(let Lt=0;Lt<T;Lt++){var te=Y[Lt].g;const Rr=Y[Lt].map;if(te-=Fe,te<0)Fe=Math.max(0,Y[Lt].g-100),ct=!1;else try{te="req"+te+"_"||"";try{var pe=Rr instanceof Map?Rr:Object.entries(Rr);for(const[hi,Fr]of pe){let Hr=Fr;d(Fr)&&(Hr=fn(Fr)),$t.push(te+hi+"="+encodeURIComponent(Hr))}}catch(hi){throw $t.push(te+"type="+encodeURIComponent("_badmap")),hi}}catch{C&&C(Rr)}}if(ct){pe=$t.join("&");break e}}pe=void 0}return f=f.i.splice(0,T),y.G=f,pe}function Lc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;$||w(),re||($(),re=!0),S.add(y,f),f.A=0}}function Ds(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=sr(g(f.Da,f),jc(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=sr(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Sa(this),kc(this))};function Gl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function kc(f){f.g=new Ee(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=gt(f.na);ut(y,"RID","rpc"),ut(y,"SID",f.M),ut(y,"AID",f.K),ut(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&ut(y,"TO",f.ia),ut(y,"TYPE","xmlhttp"),Is(f,y),f.u&&f.o&&As(y,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=Ss(gt(y)),T.u=null,T.R=!0,Pe(T,f)}n.Va=function(){this.C!=null&&(this.C=null,Sa(this),Ds(this),Pt(19))};function To(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Uc(f,y){var T=null;if(f.g==y){To(f),Gl(f),f.g=null;var C=2}else if(Rn(f.h,y))T=y.G,ii(f.h,y),C=1;else return;if(f.I!=0){if(y.o)if(C==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var Y=f.D;C=ma(),Kt(C,new br(C,T)),ci(f)}else Lc(f);else if(Y=y.m,Y==3||Y==0&&y.X>0||!(C==1&&Eo(f,y)||C==2&&Ds(f)))switch(T&&T.length>0&&(y=f.h,y.i=y.i.concat(T)),Y){case 1:fi(f,5);break;case 4:fi(f,10);break;case 3:fi(f,6);break;default:fi(f,2)}}}function jc(f,y){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*y}function fi(f,y){if(f.j.info("Error code "+y),y==2){var T=g(f.bb,f),C=f.Ua;const Y=!C;C=new Jt(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ge(C,"https"),Ss(C),Y?jr(C.toString(),T):zl(C.toString(),T)}else Pt(2);f.I=0,f.l&&f.l.pa(y),zc(f),vo(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function zc(f){if(f.I=0,f.ja=[],f.l){const y=ai(f.h);(y.length!=0||f.i.length!=0)&&(P(f.ja,y),P(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function Bc(f,y,T){var C=T instanceof Jt?gt(T):new Jt(T);if(C.g!="")y&&(C.g=y+"."+C.g),ur(C,C.u);else{var Y=c.location;C=Y.protocol,y=y?y+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new Jt(null);C&&Ge(te,C),y&&(te.g=y),Y&&ur(te,Y),T&&(te.h=T),C=te}return T=f.G,y=f.wa,T&&y&&ut(C,T,y),ut(C,"VER",f.ka),Is(f,C),C}function Fc(f,y,T){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new yt(new oi({ab:T})):new yt(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hc(){}n=Hc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ba(){}ba.prototype.g=function(f,y){return new kn(f,y)};function kn(f,y){jt.call(this),this.g=new Ta(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!x(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new Vi(this)}E(kn,jt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Hl(this.g)},kn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=fn(f),f=T);y.i.push(new Ct(y.Ya++,f)),y.I==3&&ci(y)},kn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,kn.Z.N.call(this)};function qc(f){St.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}E(qc,St);function Gc(){Vn.call(this),this.status=1}E(Gc,Vn);function Vi(f){this.g=f}E(Vi,Hc),Vi.prototype.ra=function(){Kt(this.g,"a")},Vi.prototype.qa=function(f){Kt(this.g,new qc(f))},Vi.prototype.pa=function(f){Kt(this.g,new Gc)},Vi.prototype.oa=function(){Kt(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,Tw=function(){return new ba},Ew=function(){return ma()},vw=Vt,Og={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,fh=Oi,M.COMPLETE="complete",_w=M,da.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",jt.prototype.listen=jt.prototype.J,Lu=da,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,yw=yt}).apply(typeof Zf<"u"?Zf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.8.0";function SO(n){Dl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new gy("@firebase/firestore");function el(){return no.logLevel}function Te(n,...e){if(no.logLevel<=nt.DEBUG){const t=e.map(vy);no.debug(`Firestore (${Dl}): ${n}`,...t)}}function ia(n,...e){if(no.logLevel<=nt.ERROR){const t=e.map(vy);no.error(`Firestore (${Dl}): ${n}`,...t)}}function pl(n,...e){if(no.logLevel<=nt.WARN){const t=e.map(vy);no.warn(`Firestore (${Dl}): ${n}`,...t)}}function vy(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Sw(n,a,t)}function Sw(n,e,t){let a=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ia(a),new Error(a)}function ht(n,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,n||Sw(e,o,a)}function Be(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ca{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Nn.UNAUTHENTICATED)))}shutdown(){}}class wO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AO{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ta)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ht(typeof a.accessToken=="string",31837,{l:a}),new bw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class RO{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class CO{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new RO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class L0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ht(this.o===void 0,3512);const a=l=>{l.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const o=l=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new L0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ht(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new L0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=DO(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function rt(n,e){return n<e?-1:n>e?1:0}function xg(n,e){const t=Math.min(n.length,e.length);for(let a=0;a<t;a++){const o=n.charAt(a),l=e.charAt(a);if(o!==l)return sg(o)===sg(l)?rt(o,l):sg(o)?1:-1}return rt(n.length,e.length)}const NO=55296,OO=57343;function sg(n){const e=n.charCodeAt(0);return e>=NO&&e<=OO}function gl(n,e,t){return n.length===e.length&&n.every(((a,o)=>t(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="__name__";class yi{constructor(e,t,a){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Le(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=yi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return rt(e.length,t.length)}static compareSegments(e,t){const a=yi.isNumericId(e),o=yi.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?yi.extractNumericId(e).compare(yi.extractNumericId(t)):xg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class It extends yi{construct(e,t,a){return new It(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((o=>o.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const xO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends yi{construct(e,t,a){return new bn(e,t,a)}static isValidIdentifier(e){return xO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k0}static keyField(){return new bn([k0])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(a+=d,o++):(l(),o++)}if(l(),c)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(It.fromString(e))}static fromName(e){return new De(It.fromString(e).popFirst(5))}static empty(){return new De(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new It(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n,e,t){if(!t)throw new ve(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MO(n,e,t,a){if(e===!0&&a===!0)throw new ve(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U0(n){if(!De.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function j0(n){if(De.isDocumentKey(n))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Aw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function md(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Le(12329,{type:typeof n})}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=md(n);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n,e){const t={typeString:n};return e&&(t.value=e),t}function gc(n,e){if(!Aw(n))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const c=n[a];if(o&&typeof c!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new ve(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,B0=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*B0);return new Mt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(e){return this.seconds===e.seconds?rt(this.nanoseconds,e.nanoseconds):rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gc(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:sn("string",Mt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Mt(0,0))}static max(){return new je(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=-1;function VO(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(a===1e9?new Mt(t+1,0):new Mt(t,a));return new os(o,De.empty(),e)}function PO(n){return new os(n.readTime,n.key,Zu)}class os{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new os(je.min(),De.empty(),Zu)}static max(){return new os(je.max(),De.empty(),Zu)}}function LO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:rt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==kO)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,a)=>{t(e)}))}static reject(e){return new ue(((t,a)=>{a(e)}))}static waitFor(e){return new ue(((t,a)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>a(p)))})),c=!0,l===o&&t()}))}static or(e){let t=ue.resolve(!1);for(const a of e)t=t.next((o=>o?ue.resolve(o):a()));return t}static forEach(e,t){const a=[];return e.forEach(((o,l)=>{a.push(t.call(this,o,l))})),this.waitFor(a)}static mapArray(e,t){return new ue(((a,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&a(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ue(((a,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):a()};l()}))}}function jO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ol(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-1;function gd(n){return n==null}function Vh(n){return n===0&&1/n==-1/0}function zO(n){return typeof n=="number"&&Number.isInteger(n)&&!Vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="";function BO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=F0(e)),e=FO(n.get(t),e);return F0(e)}function FO(n,e){let t=e;const a=n.length;for(let o=0;o<a;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Rw:t+="";break;default:t+=l}}return t}function F0(n){return n+Rw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Cw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??Sn.RED,this.left=o??Sn.EMPTY,this.right=l??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new Sn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new q0(this.data.getIterator())}getIteratorFrom(e){return new q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Er([])}unionWith(e){let t=new un(bn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Iw("Invalid base64 string: "+l):l}})(e);return new wn(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const HO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(n){if(ht(!!n,39018),typeof n=="string"){let e=0;const t=HO.exec(n);if(ht(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Xt(n.seconds),nanos:Xt(n.nanos)}}function Xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function us(n){return typeof n=="string"?wn.fromBase64String(n):wn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="server_timestamp",Nw="__type__",Ow="__previous_value__",xw="__local_write_time__";function Sy(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Nw])==null?void 0:a.stringValue)===Dw}function yd(n){const e=n.mapValue.fields[Ow];return Sy(e)?yd(e):e}function ec(n){const e=ls(n.mapValue.fields[xw].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,a,o,l,c,d,p,g,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=E}}const Ph="(default)";class tc{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}function GO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",KO="__max__",th={mapValue:{}},Vw="__vector__",Lh="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sy(n)?4:YO(n)?9007199254740991:$O(n)?10:11:Le(28295,{value:n})}function Ri(n,e){if(n===e)return!0;const t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ec(n).isEqual(ec(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ls(o.timestampValue),d=ls(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return us(o.bytesValue).isEqual(us(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return Xt(o.geoPointValue.latitude)===Xt(l.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Xt(o.integerValue)===Xt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Xt(o.doubleValue),d=Xt(l.doubleValue);return c===d?Vh(c)===Vh(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(H0(c)!==H0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ri(c[p],d[p])))return!1;return!0})(n,e);default:return Le(52216,{left:n})}}function nc(n,e){return(n.values||[]).find((t=>Ri(t,e)))!==void 0}function yl(n,e){if(n===e)return 0;const t=cs(n),a=cs(e);if(t!==a)return rt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return rt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Xt(l.integerValue||l.doubleValue),p=Xt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return G0(n.timestampValue,e.timestampValue);case 4:return G0(ec(n),ec(e));case 5:return xg(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=us(l),p=us(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=rt(d[g],p[g]);if(_!==0)return _}return rt(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=rt(Xt(l.latitude),Xt(c.latitude));return d!==0?d:rt(Xt(l.longitude),Xt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return K0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var b,I,P,z;const d=l.fields||{},p=c.fields||{},g=(b=d[Lh])==null?void 0:b.arrayValue,_=(I=p[Lh])==null?void 0:I.arrayValue,E=rt(((P=g==null?void 0:g.values)==null?void 0:P.length)||0,((z=_==null?void 0:_.values)==null?void 0:z.length)||0);return E!==0?E:K0(g,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===th.mapValue&&c===th.mapValue)return 0;if(l===th.mapValue)return 1;if(c===th.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const b=xg(p[E],_[E]);if(b!==0)return b;const I=yl(d[p[E]],g[_[E]]);if(I!==0)return I}return rt(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Le(23264,{he:t})}}function G0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return rt(n,e);const t=ls(n),a=ls(e),o=rt(t.seconds,a.seconds);return o!==0?o:rt(t.nanos,a.nanos)}function K0(n,e){const t=n.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=yl(t[o],a[o]);if(l)return l}return rt(t.length,a.length)}function _l(n){return Mg(n)}function Mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const a=ls(t);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return us(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return De.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=Mg(l);return a+"]"})(n.arrayValue):"mapValue"in n?(function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of a)l?l=!1:o+=",",o+=`${c}:${Mg(t.fields[c])}`;return o+"}"})(n.mapValue):Le(61005,{value:n})}function hh(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(n);return e?16+hh(e):16;case 5:return 2*n.stringValue.length;case 6:return us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,l)=>o+hh(l)),0)})(n.arrayValue);case 10:case 11:return(function(a){let o=0;return ms(a.fields,((l,c)=>{o+=l.length+hh(c)})),o})(n.mapValue);default:throw Le(13486,{value:n})}}function $0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vg(n){return!!n&&"integerValue"in n}function by(n){return!!n&&"arrayValue"in n}function Y0(n){return!!n&&"nullValue"in n}function Q0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function $O(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Mw])==null?void 0:a.stringValue)===Vw}function Hu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ms(n.mapValue.fields,((t,a)=>e.mapValue.fields[t]=Hu(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hu(n.arrayValue.values[t]);return e}return{...n}}function YO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(t)}setAll(e){let t=bn.emptyPath(),a={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=d.popLast()}c?a[d.lastSegment()]=Hu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){ms(t,((o,l)=>e[o]=l));for(const o of a)delete e[o]}clone(){return new Xn(Hu(this.value))}}function Pw(n){const e=[];return ms(n.fields,((t,a)=>{const o=new bn([t]);if(dh(a)){const l=Pw(a.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t,a,o,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new On(e,0,je.min(),je.min(),je.min(),Xn.empty(),0)}static newFoundDocument(e,t,a,o){return new On(e,1,t,je.min(),a,o,0)}static newNoDocument(e,t){return new On(e,2,t,je.min(),je.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new On(e,3,t,je.min(),je.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function X0(n,e,t){let a=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?a=De.comparator(De.fromName(c.referenceValue),t.key):a=yl(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function W0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function QO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{}class an extends Lw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new WO(e,t,a):t==="array-contains"?new ex(e,a):t==="in"?new tx(e,a):t==="not-in"?new nx(e,a):t==="array-contains-any"?new rx(e,a):new an(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new JO(e,a):new ZO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends Lw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Jr(e,t)}matches(e){return kw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kw(n){return n.op==="and"}function Uw(n){return XO(n)&&kw(n)}function XO(n){for(const e of n.filters)if(e instanceof Jr)return!1;return!0}function Pg(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+_l(n.value);if(Uw(n))return n.filters.map((e=>Pg(e))).join(",");{const e=n.filters.map((t=>Pg(t))).join(",");return`${n.op}(${e})`}}function jw(n,e){return n instanceof an?(function(a,o){return o instanceof an&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(n,e):n instanceof Jr?(function(a,o){return o instanceof Jr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((l,c,d)=>l&&jw(c,o.filters[d])),!0):!1})(n,e):void Le(19439)}function zw(n){return n instanceof an?(function(t){return`${t.field.canonicalString()} ${t.op} ${_l(t.value)}`})(n):n instanceof Jr?(function(t){return t.op.toString()+" {"+t.getFilters().map(zw).join(" ,")+"}"})(n):"Filter"}class WO extends an{constructor(e,t,a){super(e,t,a),this.key=De.fromName(a.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class JO extends an{constructor(e,t){super(e,"in",t),this.keys=Bw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ZO extends an{constructor(e,t){super(e,"not-in",t),this.keys=Bw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Bw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((a=>De.fromName(a.referenceValue)))}class ex extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return by(t)&&nc(t.arrayValue,this.value)}}class tx extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nc(this.value.arrayValue,t)}}class nx extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nc(this.value.arrayValue,t)}}class rx extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!by(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>nc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t=null,a=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function J0(n,e=null,t=[],a=[],o=null,l=null,c=null){return new ix(n,e,t,a,o,l,c)}function wy(n){const e=Be(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>Pg(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=t}return e.Te}function Ay(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!W0(n.startAt,e.startAt)&&W0(n.endAt,e.endAt)}function Lg(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t=null,a=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ax(n,e,t,a,o,l,c,d){return new yc(n,e,t,a,o,l,c,d)}function _d(n){return new yc(n)}function Z0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sx(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Fw(n){return n.collectionGroup!==null}function qu(n){const e=Be(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new un(bn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Uh(l,a))})),t.has(bn.keyField().canonicalString())||e.Ie.push(new Uh(bn.keyField(),a))}return e.Ie}function Ti(n){const e=Be(n);return e.Ee||(e.Ee=ox(e,qu(n))),e.Ee}function ox(n,e){if(n.limitType==="F")return J0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Uh(o.field,l)}));const t=n.endAt?new kh(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new kh(n.startAt.position,n.startAt.inclusive):null;return J0(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function kg(n,e){const t=n.filters.concat([e]);return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ug(n,e,t){return new yc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vd(n,e){return Ay(Ti(n),Ti(e))&&n.limitType===e.limitType}function Hw(n){return`${wy(Ti(n))}|lt:${n.limitType}`}function tl(n){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((o=>zw(o))).join(", ")}]`),gd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((o=>_l(o))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Ti(n))}; limitType=${n.limitType})`}function Ed(n,e){return e.isFoundDocument()&&(function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):De.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(n,e)&&(function(a,o){for(const l of qu(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(a,o){return!(a.startAt&&!(function(c,d,p){const g=X0(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,qu(a),o)||a.endAt&&!(function(c,d,p){const g=X0(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,qu(a),o))})(n,e)}function lx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qw(n){return(e,t)=>{let a=!1;for(const o of qu(n)){const l=ux(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function ux(n,e,t){const a=n.field.isKeyField()?De.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?yl(p,g):Le(42886)})(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Le(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,((t,a)=>{for(const[o,l]of a)e(o,l)}))}isEmpty(){return Cw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Ft(De.comparator);function aa(){return cx}const Gw=new Ft(De.comparator);function ku(...n){let e=Gw;for(const t of n)e=e.insert(t.key,t);return e}function Kw(n){let e=Gw;return n.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function Ys(){return Gu()}function $w(){return Gu()}function Gu(){return new oo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const fx=new Ft(De.comparator),hx=new un(De.comparator);function it(...n){let e=hx;for(const t of n)e=e.add(t);return e}const dx=new un(rt);function mx(){return dx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Yw(n){return{integerValue:""+n}}function px(n,e){return zO(e)?Yw(e):Ry(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function gx(n,e,t){return n instanceof jh?(function(o,l){const c={fields:{[Nw]:{stringValue:Dw},[xw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sy(l)&&(l=yd(l)),l&&(c.fields[Ow]=l),{mapValue:c}})(t,e):n instanceof rc?Xw(n,e):n instanceof ic?Ww(n,e):(function(o,l){const c=Qw(o,l),d=eS(c)+eS(o.Ae);return Vg(c)&&Vg(o.Ae)?Yw(d):Ry(o.serializer,d)})(n,e)}function yx(n,e,t){return n instanceof rc?Xw(n,e):n instanceof ic?Ww(n,e):t}function Qw(n,e){return n instanceof zh?(function(a){return Vg(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class jh extends Td{}class rc extends Td{constructor(e){super(),this.elements=e}}function Xw(n,e){const t=Jw(e);for(const a of n.elements)t.some((o=>Ri(o,a)))||t.push(a);return{arrayValue:{values:t}}}class ic extends Td{constructor(e){super(),this.elements=e}}function Ww(n,e){let t=Jw(e);for(const a of n.elements)t=t.filter((o=>!Ri(o,a)));return{arrayValue:{values:t}}}class zh extends Td{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eS(n){return Xt(n.integerValue||n.doubleValue)}function Jw(n){return by(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _x(n,e){return n.field.isEqual(e.field)&&(function(a,o){return a instanceof rc&&o instanceof rc||a instanceof ic&&o instanceof ic?gl(a.elements,o.elements,Ri):a instanceof zh&&o instanceof zh?Ri(a.Ae,o.Ae):a instanceof jh&&o instanceof jh})(n.transform,e.transform)}class vx{constructor(e,t){this.version=e,this.transformResults=t}}class Jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sd{}function Zw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bd(n.key,Jn.none()):new _c(n.key,n.data,Jn.none());{const t=n.data,a=Xn.empty();let o=new un(bn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),o=o.add(l)}return new ps(n.key,a,new Er(o.toArray()),Jn.none())}}function Ex(n,e,t){n instanceof _c?(function(o,l,c){const d=o.value.clone(),p=nS(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ps?(function(o,l,c){if(!mh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=nS(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(eA(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ku(n,e,t,a){return n instanceof _c?(function(l,c,d,p){if(!mh(l.precondition,c))return d;const g=l.value.clone(),_=rS(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,a):n instanceof ps?(function(l,c,d,p){if(!mh(l.precondition,c))return d;const g=rS(l.fieldTransforms,p,c),_=c.data;return _.setAll(eA(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,a):(function(l,c,d){return mh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function Tx(n,e){let t=null;for(const a of n.fieldTransforms){const o=e.data.field(a.field),l=Qw(a.transform,o||null);l!=null&&(t===null&&(t=Xn.empty()),t.set(a.field,l))}return t||null}function tS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&gl(a,o,((l,c)=>_x(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _c extends Sd{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Sd{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}})),e}function nS(n,e,t){const a=new Map;ht(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);a.set(l.field,yx(c,d,t[o]))}return a}function rS(n,e,t){const a=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);a.set(o.field,gx(l,c,e))}return a}class bd extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx extends Sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Ex(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Ku(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Ku(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=$w();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Zw(c,d);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(je.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),it())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((t,a)=>tS(t,a)))&&gl(this.baseMutations,e.baseMutations,((t,a)=>tS(t,a)))}}class Cy{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){ht(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return fx})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,a[c].version);return new Cy(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,st;function Rx(n){switch(n){case oe.OK:return Le(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Le(15467,{code:n})}}function tA(n){if(n===void 0)return ia("GRPC error has no .code"),oe.UNKNOWN;switch(n){case rn.OK:return oe.OK;case rn.CANCELLED:return oe.CANCELLED;case rn.UNKNOWN:return oe.UNKNOWN;case rn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case rn.INTERNAL:return oe.INTERNAL;case rn.UNAVAILABLE:return oe.UNAVAILABLE;case rn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case rn.NOT_FOUND:return oe.NOT_FOUND;case rn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case rn.ABORTED:return oe.ABORTED;case rn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case rn.DATA_LOSS:return oe.DATA_LOSS;default:return Le(39323,{code:n})}}(st=rn||(rn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new is([4294967295,4294967295],0);function iS(n){const e=Cx().encode(n),t=new gw;return t.update(e),new Uint8Array(t.digest())}function aS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new is([t,a],0),new is([o,l],0)]}class Iy{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(a<0)throw new Uu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=is.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(is.fromNumber(a)));return o.compare(Ix)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=iS(e),[a,o]=aS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,o,l);if(!this.we(c))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Iy(l,o,t);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=iS(e),[a,o]=aS(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,o,l);this.be(c)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new wd(je.min(),o,new Ft(rt),aa(),it())}}class vc{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new vc(a,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,a,o){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=o}}class nA{constructor(e,t){this.targetId=e,this.Ce=t}}class rA{constructor(e,t,a=wn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class sS{constructor(){this.ve=0,this.Fe=oS(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),t=it(),a=it();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Le(38017,{changeType:l})}})),new vc(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=oS()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=aa(),this.He=nh(),this.Je=nh(),this.Ze=new Ft(rt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Lg(l))if(a===0){const c=new De(l.path);this.et(t,c,On.newNoDocument(c,je.min()))}else ht(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=us(a).toUint8Array()}catch(p){if(p instanceof Iw)return pl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Iy(c,o,l)}catch(p){return pl(p instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Lg(d.target)){const p=new De(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,On.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let a=it();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new wd(e,t,this.Ze,this.je,a);return this.je=aa(),this.He=nh(),this.Je=nh(),this.Ze=new Ft(rt),o}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new sS,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new un(rt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new un(rt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sS),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nh(){return new Ft(De.comparator)}function oS(){return new Ft(De.comparator)}const Nx={asc:"ASCENDING",desc:"DESCENDING"},Ox={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xx={and:"AND",or:"OR"};class Mx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(n,e){return n.useProto3Json||gd(e)?e:{value:e}}function Bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Vx(n,e){return Bh(n,e.toTimestamp())}function Si(n){return ht(!!n,49232),je.fromTimestamp((function(t){const a=ls(t);return new Mt(a.seconds,a.nanos)})(n))}function Dy(n,e){return zg(n,e).canonicalString()}function zg(n,e){const t=(function(o){return new It(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function aA(n){const e=It.fromString(n);return ht(cA(e),10190,{key:e.toString()}),e}function Bg(n,e){return Dy(n.databaseId,e.path)}function og(n,e){const t=aA(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(oA(t))}function sA(n,e){return Dy(n.databaseId,e)}function Px(n){const e=aA(n);return e.length===4?It.emptyPath():oA(e)}function Fg(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oA(n){return ht(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lS(n,e,t){return{name:Bg(n,e),fields:t.value.mapValue.fields}}function Lx(n,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Le(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(ht(_===void 0||typeof _=="string",58123),wn.fromBase64String(_||"")):(ht(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),wn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?oe.UNKNOWN:tA(g.code);return new ve(_,g.message||"")})(c);t=new rA(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=og(n,a.document.name),l=Si(a.document.updateTime),c=a.document.createTime?Si(a.document.createTime):je.min(),d=new Xn({mapValue:{fields:a.document.fields}}),p=On.newFoundDocument(o,l,c,d),g=a.targetIds||[],_=a.removedTargetIds||[];t=new ph(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=og(n,a.document),l=a.readTime?Si(a.readTime):je.min(),c=On.newNoDocument(o,l),d=a.removedTargetIds||[];t=new ph([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=og(n,a.document),l=a.removedTargetIds||[];t=new ph([],l,o,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,c=new Ax(o,l),d=a.targetId;t=new nA(d,c)}}return t}function kx(n,e){let t;if(e instanceof _c)t={update:lS(n,e.key,e.value)};else if(e instanceof bd)t={delete:Bg(n,e.key)};else if(e instanceof ps)t={update:lS(n,e.key,e.data),updateMask:Kx(e.fieldMask)};else{if(!(e instanceof Sx))return Le(16599,{dt:e.type});t={verify:Bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof rc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ic)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Le(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:Vx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le(27497)})(n,e.precondition)),t}function Ux(n,e){return n&&n.length>0?(ht(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?Si(o.updateTime):Si(l);return c.isEqual(je.min())&&(c=Si(l)),new vx(c,o.transformResults||[])})(t,e)))):[]}function jx(n,e){return{documents:[sA(n,e.path)]}}function zx(n,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=sA(n,o);const l=(function(g){if(g.length!==0)return uA(Jr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(b){return{field:nl(b.field),direction:Hx(b.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=jg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function Bx(n){let e=Px(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){ht(a===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const b=lA(E);return b instanceof Jr&&Uw(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((b=>(function(P){return new Uh(rl(P.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(b)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,gd(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(E){const b=!!E.before,I=E.values||[];return new kh(I,b)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const b=!E.before,I=E.values||[];return new kh(I,b)})(t.endAt)),ax(e,o,c,l,d,"F",p,g)}function Fx(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=rl(t.unaryFilter.field);return an.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(t.unaryFilter.field);return an.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(t.unaryFilter.field);return an.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rl(t.unaryFilter.field);return an.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(n):n.fieldFilter!==void 0?(function(t){return an.create(rl(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Jr.create(t.compositeFilter.filters.map((a=>lA(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(t.compositeFilter.op))})(n):Le(30097,{filter:n})}function Hx(n){return Nx[n]}function qx(n){return Ox[n]}function Gx(n){return xx[n]}function nl(n){return{fieldPath:n.canonicalString()}}function rl(n){return bn.fromServerFormat(n.fieldPath)}function uA(n){return n instanceof an?(function(t){if(t.op==="=="){if(Q0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(Y0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(Y0(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:qx(t.op),value:t.value}}})(n):n instanceof Jr?(function(t){const a=t.getFilters().map((o=>uA(o)));return a.length===1?a[0]:{compositeFilter:{op:Gx(t.op),filters:a}}})(n):Le(54877,{filter:n})}function Kx(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function cA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function fA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,a,o,l=je.min(),c=je.min(),d=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.yt=e}}function Yx(n){const e=Bx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.Sn=new Xx}addToCollectionParentIndex(e,t){return this.Sn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(os.min())}updateCollectionGroup(e,t,a){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Xx{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new un(It.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new un(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(hA,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="LruGarbageCollector",Wx=1048576;function fS([n,e],[t,a]){const o=rt(n,t);return o===0?rt(e,a):o}class Jx{constructor(e){this.Pr=e,this.buffer=new un(fS),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();fS(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zx{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(cS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ol(t)?Te(cS,"Ignoring IndexedDB error during garbage collection: ",t):await Nl(t)}await this.Ar(3e5)}))}}class eM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(pd.ce);const a=new Jx(t);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(uS)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uS):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,o,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(a=E,d=Date.now(),this.removeTargets(e,a,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),el()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function tM(n,e){return new eM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ue.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(a!==null&&Ku(a.mutation,o,Er.empty(),Mt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,it()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=it()){const o=Ys();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,a).next((l=>{let c=ku();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=Ys();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,it())))}populateOverlays(e,t,a){const o=[];return a.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,a,o){let l=aa();const c=Gu(),d=(function(){return Gu()})();return t.forEach(((p,g)=>{const _=a.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ps)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Ku(_.mutation,g,_.mutation.getFieldMask(),Mt.now())):c.set(g.key,Er.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new rM(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const a=Gu();let o=new Ft(((c,d)=>c-d)),l=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=a.get(p)||Er.empty();_=d.applyToLocalView(g,_),a.set(p,_);const E=(o.get(d.batchId)||it()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=$w();_.forEach((b=>{if(!l.has(b)){const I=Zw(t.get(b),a.get(b));I!==null&&E.set(b,I),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return ue.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,o){return sx(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):ue.resolve(Ys());let d=Zu,p=l;return c.next((g=>ue.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?ue.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{p=p.insert(_,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,it()))).next((_=>({batchId:d,changes:Kw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next((a=>{let o=ku();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,l).next((d=>ue.forEach(d,(p=>{const g=(function(E,b){return new yc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((_=>{_.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,On.newInvalidDocument(_)))}));let d=ku();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&Ku(_.mutation,g,Er.empty(),Mt.now()),Ed(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ue.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:Yx(o.bundledQuery),readTime:Si(o.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.overlays=new Ft(De.comparator),this.Lr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ys();return ue.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&a.set(o,l)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((o,l)=>{this.bt(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(a)),ue.resolve()}getOverlaysForCollection(e,t,a){const o=Ys(),l=t.length+1,c=new De(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new Ft(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let _=l.get(g.largestBatchId);_===null&&(_=Ys(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ys(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return ue.resolve(d)}bt(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new wx(t,a));let l=this.Lr.get(t);l===void 0&&(l=it(),this.Lr.set(t,l)),this.Lr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this.kr=new un(mn.Kr),this.qr=new un(mn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new mn(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new mn(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new De(new It([])),a=new mn(t,e),o=new mn(t,e+1),l=[];return this.qr.forEachInRange([a,o],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new De(new It([])),a=new mn(t,e),o=new mn(t,e+1);let l=it();return this.qr.forEachInRange([a,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new mn(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class mn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return De.comparator(e.key,t.key)||rt(e.Hr,t.Hr)}static Ur(e,t){return rt(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new un(mn.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bx(l,t,a,o);this.mutationQueue.push(c);for(const d of o)this.Jr=this.Jr.add(new mn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Xr(a),l=o<0?0:o;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Ty:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new mn(t,0),o=new mn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([a,o],(c=>{const d=this.Zr(c.Hr);l.push(d)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new un(rt);return t.forEach((o=>{const l=new mn(o,0),c=new mn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{a=a.add(d.Hr)}))})),ue.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;De.isDocumentKey(l)||(l=l.child(""));const c=new mn(new De(l),0);let d=new un(rt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),c),ue.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ht(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ue.forEach(t.mutations,(o=>{const l=new mn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new mn(t,0),o=this.Jr.firstAfterOrEqual(a);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.ti=e,this.docs=(function(){return new Ft(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ue.resolve(a?a.document.mutableCopy():On.newInvalidDocument(t))}getEntries(e,t){let a=aa();return t.forEach((o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():On.newInvalidDocument(o))})),ue.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=aa();const c=t.path,d=new De(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||LO(PO(_),a)<=0||(o.has(_.key)||Ed(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Le(9500)}ni(e,t){return ue.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new cM(this)}getSize(e){return ue.resolve(this.size)}}class cM extends nM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ue.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.persistence=e,this.ri=new oo((t=>wy(t)),Ay),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ii=0,this.si=new Ny,this.targetCount=0,this.oi=vl._r()}forEachTarget(e,t){return this.ri.forEach(((a,o)=>t(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),ue.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new vl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.lr(t),ue.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),ue.waitFor(l).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return ue.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),ue.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return ue.resolve(a)}containsKey(e,t){return ue.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t){this._i={},this.overlays={},this.ai=new pd(0),this.ui=!1,this.ui=!0,this.ci=new oM,this.referenceDelegate=e(this),this.li=new fM(this),this.indexManager=new Qx,this.remoteDocumentCache=(function(o){return new uM(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new $x(t),this.Pi=new aM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new lM(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){Te("MemoryPersistence","Starting transaction:",e);const o=new hM(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((l=>this.referenceDelegate.Ii(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return ue.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class hM extends UO{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Ri=new Ny,this.Ai=null}static Vi(e){return new Oy(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),ue.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.di.add(l.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(a=>{const o=De.fromPath(a);return this.mi(e,o).next((l=>{l||t.removeEntry(o,je.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Fh{constructor(e,t){this.persistence=e,this.fi=new oo((a=>BO(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=tM(this,t)}static Vi(e,t){return new Fh(e,t)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((o=>a+o))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return ue.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((l=>l?ue.resolve():t(o)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(a++,l.removeEntry(c,je.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ue.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}wr(e,t,a){return ue.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ue.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=o}static Es(e,t){let a=it(),o=it();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xy(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iN()?8:jO(xn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,o,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dM;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,a,o){return a.documentReadCount<this.Vs?(el()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(el()<=nt.DEBUG&&Te("QueryEngine","Query:",tl(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(el()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):ue.resolve())}gs(e,t){if(Z0(t))return ue.resolve(null);let a=Ti(t);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ug(t,null,"F"),a=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=it(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,Ug(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,a,o){return Z0(t)||o.isEqual(je.min())?ue.resolve(null):this.fs.getDocuments(e,a).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,a,o)?ue.resolve(null):(el()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tl(t)),this.Ds(e,c,t,VO(o,Zu)).next((d=>d)))}))}bs(e,t){let a=new un(qw(e));return t.forEach(((o,l)=>{Ed(e,l)&&(a=a.add(l))})),a}Ss(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ys(e,t,a){return el()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",tl(t)),this.fs.getDocumentsMatchingQuery(e,t,os.min(),a)}Ds(e,t,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="LocalStore",pM=3e8;class gM{constructor(e,t,a,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new Ft(rt),this.Fs=new oo((l=>wy(l)),Ay),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function yM(n,e,t,a){return new gM(n,e,t,a)}async function mA(n,e){const t=Be(n);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next((l=>(o=l,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=it();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(a,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function _M(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const E=g.batch,b=E.keys();let I=ue.resolve();return b.forEach((P=>{I=I.next((()=>_.getEntry(p,P))).next((z=>{const L=g.docVersions.get(P);ht(L!==null,48541),z.version.compareTo(L)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,a,e,l).next((()=>l.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=it();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,o)))}))}function pA(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function vM(n,e){const t=Be(n),a=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const d=[];e.targetChanges.forEach(((_,E)=>{const b=o.get(E);if(!b)return;d.push(t.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,E))));let I=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(wn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,a)),o=o.insert(E,I),(function(z,L,G){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=pM?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(b,I,_)&&d.push(t.li.updateTargetData(l,I))}));let p=aa(),g=it();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(EM(l,c,e.documentUpdates).next((_=>{p=_.Bs,g=_.Ls}))),!a.isEqual(je.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(_)}return ue.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=o,l)))}function EM(n,e,t){let a=it(),o=it();return t.forEach((l=>a=a.add(l))),e.getEntries(n,a).next((l=>{let c=aa();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(je.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):Te(My,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function TM(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ty),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function SM(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return t.li.getTargetData(a,e).next((l=>l?(o=l,ue.resolve(o)):t.li.allocateTargetId(a).next((c=>(o=new Za(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=t.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function Hg(n,e,t){const a=Be(n),o=a.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ol(c))throw c;Te(My,`Failed to update sequence numbers for target ${e}: ${c}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function hS(n,e,t){const a=Be(n);let o=je.min(),l=it();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=Be(p),b=E.Fs.get(_);return b!==void 0?ue.resolve(E.vs.get(b)):E.li.getTargetData(g,_)})(a,c,Ti(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(c,e,t?o:je.min(),t?l:it()))).next((d=>(bM(a,lx(e),d),{documents:d,ks:l})))))}function bM(n,e,t){let a=n.Ms.get(e)||je.min();t.forEach(((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),n.Ms.set(e,a)}class dS{constructor(){this.activeTargetIds=mx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wM{constructor(){this.vo=new dS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dS,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="ConnectivityMonitor";class pS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(mS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(mS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function qg(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",RM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class CM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Ph?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,t,a,o,l){const c=qg(),d=this.Qo(e,t.toUriEncodedString());Te(lg,`Sending RPC '${e}' ${c}:`,d,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,l);const{host:g}=new URL(d),_=Cl(g);return this.zo(e,d,p,a,_).then((E=>(Te(lg,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw pl(lg,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",a),E}))}jo(e,t,a,o,l,c){return this.Wo(e,t,a,o,l)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),a&&a.headers.forEach(((o,l)=>e[l]=o))}Qo(e,t){const a=RM[e];let o=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection",Mu=(n,e,t)=>{n.listen(e,(a=>{try{t(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ll extends CM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ll.c_){const e=Ew();Mu(e,vw.STAT_EVENT,(t=>{t.stat===Og.PROXY?Te(In,"STAT_EVENT: detected buffering proxy"):t.stat===Og.NOPROXY&&Te(In,"STAT_EVENT: detected no buffering proxy")})),ll.c_=!0}}zo(e,t,a,o,l){const c=qg();return new Promise(((d,p)=>{const g=new yw;g.setWithCredentials(!0),g.listenOnce(_w.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const E=g.getResponseJson();Te(In,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case fh.TIMEOUT:Te(In,`RPC '${e}' ${c} timed out`),p(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const b=g.getStatus();if(Te(In,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I==null?void 0:I.error;if(P&&P.status&&P.message){const z=(function(G){const q=G.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(q)>=0?q:oe.UNKNOWN})(P.status);p(new ve(z,P.message))}else p(new ve(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Te(In,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);Te(In,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,a,15)}))}T_(e,t,a){const o=qg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,a),d.encodeInitMessageHeaders=!0;const g=l.join("");Te(In,`Creating RPC '${e}' stream ${o}: ${g}`,d);const _=c.createWebChannel(g,d);this.I_(_);let E=!1,b=!1;const I=new IM({Ho:P=>{b?Te(In,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(E||(Te(In,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),Te(In,`RPC '${e}' stream ${o} sending:`,P),_.send(P))},Jo:()=>_.close()});return Mu(_,Lu.EventType.OPEN,(()=>{b||(Te(In,`RPC '${e}' stream ${o} transport opened.`),I.i_())})),Mu(_,Lu.EventType.CLOSE,(()=>{b||(b=!0,Te(In,`RPC '${e}' stream ${o} transport closed`),I.o_(),this.E_(_))})),Mu(_,Lu.EventType.ERROR,(P=>{b||(b=!0,pl(In,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),I.o_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),Mu(_,Lu.EventType.MESSAGE,(P=>{var z;if(!b){const L=P.data[0];ht(!!L,16349);const G=L,q=(G==null?void 0:G.error)||((z=G[0])==null?void 0:z.error);if(q){Te(In,`RPC '${e}' stream ${o} received error:`,q);const K=q.status;let ee=(function(S){const w=rn[S];if(w!==void 0)return tA(w)})(K),$=q.message;ee===void 0&&(ee=oe.INTERNAL,$="Unknown error status: "+K+" with message "+q.message),b=!0,I.o_(new ve(ee,$)),_.close()}else Te(In,`RPC '${e}' stream ${o} received:`,L),I.__(L)}})),ll.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Tw()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n){return new ll(n)}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n){return new Mx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ll.c_=!1;class gA{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=o,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="PersistentStream";class yA{constructor(e,t,a,o,l,c,d,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ia(t.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===t&&this.G_(a,o)}),(a=>{e((()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(gS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Te(gS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NM extends yA{constructor(e,t,a,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Lx(this.serializer,e),a=(function(l){if(!("targetChange"in l))return je.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?je.min():c.readTime?Si(c.readTime):je.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=Fg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Lg(p)?{documents:jx(l,p)}:{query:zx(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iA(l,c.resumeToken);const g=jg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(je.min())>0){d.readTime=Bh(l,c.snapshotVersion.toTimestamp());const g=jg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=Fx(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=Fg(this.serializer),t.removeTarget=e,this.K_(t)}}class OM extends yA{constructor(e,t,a,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ux(e.writeResults,e.commitTime),a=Si(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Fg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>kx(this.serializer,a)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{}class MM extends xM{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,zg(t,a),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(oe.UNKNOWN,l.toString())}))}jo(e,t,a,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,zg(t,a),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VM(n,e,t,a){return new MM(n,e,t,a)}class PM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ia(t),this.aa=!1):Te("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class LM{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{a.enqueueAndForget((async()=>{lo(this)&&(Te(ro,"Restarting streams for network reachability change."),await(async function(p){const g=Be(p);g.Ea.add(4),await Ec(g),g.Va.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Va=new PM(a,o)}}async function Rd(n){if(lo(n))for(const e of n.Ra)await e(!0)}async function Ec(n){for(const e of n.Ra)await e(!1)}function _A(n,e){const t=Be(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ky(t)?Ly(t):xl(t).O_()&&Py(t,e))}function Vy(n,e){const t=Be(n),a=xl(t);t.Ia.delete(e),a.O_()&&vA(t,e),t.Ia.size===0&&(a.O_()?a.L_():lo(t)&&t.Va.set("Unknown"))}function Py(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xl(n).Z_(e)}function vA(n,e){n.da.$e(e),xl(n).X_(e)}function Ly(n){n.da=new Dx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),xl(n).start(),n.Va.ua()}function ky(n){return lo(n)&&!xl(n).x_()&&n.Ia.size>0}function lo(n){return Be(n).Ea.size===0}function EA(n){n.da=void 0}async function kM(n){n.Va.set("Online")}async function UM(n){n.Ia.forEach(((e,t)=>{Py(n,e)}))}async function jM(n,e){EA(n),ky(n)?(n.Va.ha(e),Ly(n)):n.Va.set("Unknown")}async function zM(n,e,t){if(n.Va.set("Online"),e instanceof rA&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.da.removeTarget(d))})(n,e)}catch(a){Te(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Hh(n,a)}else if(e instanceof ph?n.da.Xe(e):e instanceof nA?n.da.st(e):n.da.tt(e),!t.isEqual(je.min()))try{const a=await pA(n.localStore);t.compareTo(a)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(wn.EMPTY_BYTE_STRING,_.snapshotVersion)),vA(l,p);const E=new Za(_.target,p,g,_.sequenceNumber);Py(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(a){Te(ro,"Failed to raise snapshot:",a),await Hh(n,a)}}async function Hh(n,e,t){if(!Ol(e))throw e;n.Ea.add(1),await Ec(n),n.Va.set("Offline"),t||(t=()=>pA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Te(ro,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Rd(n)}))}function TA(n,e){return e().catch((t=>Hh(n,t,e)))}async function Cd(n){const e=Be(n),t=fs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ty;for(;BM(e);)try{const o=await TM(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,FM(e,o)}catch(o){await Hh(e,o)}SA(e)&&bA(e)}function BM(n){return lo(n)&&n.Ta.length<10}function FM(n,e){n.Ta.push(e);const t=fs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function SA(n){return lo(n)&&!fs(n).x_()&&n.Ta.length>0}function bA(n){fs(n).start()}async function HM(n){fs(n).ra()}async function qM(n){const e=fs(n);for(const t of n.Ta)e.ea(t.mutations)}async function GM(n,e,t){const a=n.Ta.shift(),o=Cy.from(a,e,t);await TA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Cd(n)}async function KM(n,e){e&&fs(n).Y_&&await(async function(a,o){if((function(c){return Rx(c)&&c!==oe.ABORTED})(o.code)){const l=a.Ta.shift();fs(a).B_(),await TA(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Cd(a)}})(n,e),SA(n)&&bA(n)}async function yS(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),Te(ro,"RemoteStore received new credentials");const a=lo(t);t.Ea.add(3),await Ec(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Rd(t)}async function $M(n,e){const t=Be(n);e?(t.Ea.delete(2),await Rd(t)):e||(t.Ea.add(2),await Ec(t),t.Va.set("Unknown"))}function xl(n){return n.ma||(n.ma=(function(t,a,o){const l=Be(t);return l.sa(),new NM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:kM.bind(null,n),Yo:UM.bind(null,n),t_:jM.bind(null,n),J_:zM.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),ky(n)?Ly(n):n.Va.set("Unknown")):(await n.ma.stop(),EA(n))}))),n.ma}function fs(n){return n.fa||(n.fa=(function(t,a,o){const l=Be(t);return l.sa(),new OM(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:HM.bind(null,n),t_:KM.bind(null,n),ta:qM.bind(null,n),na:GM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Cd(n)):(await n.fa.stop(),n.Ta.length>0&&(Te(ro,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const c=Date.now()+a,d=new Uy(e,t,c,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jy(n,e){if(ia("AsyncQueue",`${e}: ${n}`),Ol(n))return new ve(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||De.comparator(t.key,a.key):(t,a)=>De.comparator(t.key,a.key),this.keyedMap=ku(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new ul;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ga=new Ft(De.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class El{constructor(e,t,a,o,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new El(e,t,ul.emptySet(t),c,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class QM{constructor(){this.queries=vS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Be(t),l=o.queries;o.queries=vS(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(a)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function vS(){return new oo((n=>Hw(n)),vd)}async function zy(n,e){const t=Be(n);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.Da()&&(a=2):(l=new YM,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=jy(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Fy(t)}async function By(n,e){const t=Be(n),a=e.query;let o=3;const l=t.queries.get(a);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?o=e.Da()?0:1:!l.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function XM(n,e){const t=Be(n);let a=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(o)&&(a=!0);c.wa=o}}a&&Fy(t)}function WM(n,e,t){const a=Be(n),o=a.queries.get(e);if(o)for(const l of o.ba)l.onError(t);a.queries.delete(e)}function Fy(n){n.Ca.forEach((e=>{e.next()}))}var Gg,ES;(ES=Gg||(Gg={})).Ma="default",ES.Cache="cache";class Hy{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new El(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.key=e}}class AA{constructor(e){this.key=e}}class JM{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=qw(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new _S,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const b=o.get(_),I=Ed(this.query,E)?E:null,P=!!b&&this.mutatedKeys.has(b.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;b&&I?b.data.isEqual(I.data)?P!==z&&(a.track({type:3,doc:I}),L=!0):this.su(b,I)||(a.track({type:2,doc:I}),L=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!b&&I?(a.track({type:0,doc:I}),L=!0):b&&!I&&(a.track({type:1,doc:b}),L=!0,(p||g)&&(d=!0)),L&&(I?(c=c.add(I),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),a.track({type:1,doc:_})}return{tu:c,iu:a,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(I,P){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:L})}};return z(I)-z(P)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(a),o=o??!1;const d=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new El(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _S,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=it(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new AA(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new wA(a))})),t}cu(e){this.Za=e.ks,this.Ya=it();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qy="SyncEngine";class ZM{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class eV{constructor(e){this.key=e,this.hu=!1}}class tV{constructor(e,t,a,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((d=>Hw(d)),vd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ft(De.comparator),this.Au=new Map,this.Vu=new Ny,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nV(n,e,t=!0){const a=OA(n);let o;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await RA(a,e,t,!0),o}async function rV(n,e){const t=OA(n);await RA(t,e,!0,!1)}async function RA(n,e,t,a){const o=await SM(n.localStore,Ti(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await iV(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&_A(n.remoteStore,o),d}async function iV(n,e,t,a,o){n.pu=(E,b,I)=>(async function(z,L,G,q){let K=L.view.ru(G);K.Ss&&(K=await hS(z.localStore,L.query,!1).then((({documents:S})=>L.view.ru(S,K))));const ee=q&&q.targetChanges.get(L.targetId),$=q&&q.targetMismatches.get(L.targetId)!=null,re=L.view.applyChanges(K,z.isPrimaryClient,ee,$);return SS(z,L.targetId,re.au),re.snapshot})(n,E,b,I);const l=await hS(n.localStore,e,!0),c=new JM(e,l.ks),d=c.ru(l.documents),p=vc.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,p);SS(n,t,g.au);const _=new ZM(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function aV(n,e,t){const a=Be(n),o=a.Tu.get(e),l=a.Iu.get(o.targetId);if(l.length>1)return a.Iu.set(o.targetId,l.filter((c=>!vd(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Hg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Vy(a.remoteStore,o.targetId),Kg(a,o.targetId)})).catch(Nl)):(Kg(a,o.targetId),await Hg(a.localStore,o.targetId,!0))}async function sV(n,e){const t=Be(n),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Vy(t.remoteStore,a.targetId))}async function oV(n,e,t){const a=mV(n);try{const o=await(function(c,d){const p=Be(c),g=Mt.now(),_=d.reduce(((I,P)=>I.add(P.key)),it());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let P=aa(),z=it();return p.xs.getEntries(I,_).next((L=>{P=L,P.forEach(((G,q)=>{q.isValidDocument()||(z=z.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,P))).next((L=>{E=L;const G=[];for(const q of d){const K=Tx(q,E.get(q.key).overlayedDocument);K!=null&&G.push(new ps(q.key,K,Pw(K.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,G,d)})).next((L=>{b=L;const G=L.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(I,L.batchId,G)}))})).then((()=>({batchId:b.batchId,changes:Kw(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new Ft(rt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(a,o.batchId,t),await Tc(a,o.changes),await Cd(a.remoteStore)}catch(o){const l=jy(o,"Failed to persist write");t.reject(l)}}async function CA(n,e){const t=Be(n);try{const a=await vM(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ht(c.hu,14607):o.removedDocuments.size>0&&(ht(c.hu,42227),c.hu=!1))})),await Tc(t,a,e)}catch(a){await Nl(a)}}function TS(n,e,t){const a=Be(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Be(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,E)=>{for(const b of E.ba)b.va(d)&&(g=!0)})),g&&Fy(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function lV(n,e,t){const a=Be(n);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),l=o&&o.key;if(l){let c=new Ft(De.comparator);c=c.insert(l,On.newNoDocument(l,je.min()));const d=it().add(l),p=new wd(je.min(),new Map,new Ft(rt),c,d);await CA(a,p),a.Ru=a.Ru.remove(l),a.Au.delete(e),Gy(a)}else await Hg(a.localStore,e,!1).then((()=>Kg(a,e,t))).catch(Nl)}async function uV(n,e){const t=Be(n),a=e.batch.batchId;try{const o=await _M(t.localStore,e);DA(t,a,null),IA(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Tc(t,o)}catch(o){await Nl(o)}}async function cV(n,e,t){const a=Be(n);try{const o=await(function(c,d){const p=Be(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(ht(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);DA(a,e,t),IA(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Tc(a,o)}catch(o){await Nl(o)}}function IA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function DA(n,e,t){const a=Be(n);let o=a.du[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Kg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Iu.get(e))n.Tu.delete(a),t&&n.Pu.yu(a,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((a=>{n.Vu.containsKey(a)||NA(n,a)}))}function NA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Vy(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Gy(n))}function SS(n,e,t){for(const a of t)a instanceof wA?(n.Vu.addReference(a.key,e),fV(n,a)):a instanceof AA?(Te(qy,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,e),n.Vu.containsKey(a.key)||NA(n,a.key)):Le(19791,{wu:a})}function fV(n,e){const t=e.key,a=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(a)||(Te(qy,"New document in limbo: "+t),n.Eu.add(a),Gy(n))}function Gy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new De(It.fromString(e)),a=n.fu.next();n.Au.set(a,new eV(t)),n.Ru=n.Ru.insert(t,a),_A(n.remoteStore,new Za(Ti(_d(t.path)),a,"TargetPurposeLimboResolution",pd.ce))}}async function Tc(n,e,t){const a=Be(n),o=[],l=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,p)=>{c.push(a.pu(p,e,t).then((g=>{var _;if((g||t)&&a.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=xy.Es(p.targetId,g);l.push(E)}})))})),await Promise.all(c),a.Pu.J_(o),await(async function(p,g){const _=Be(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ue.forEach(g,(b=>ue.forEach(b.Ts,(I=>_.persistence.referenceDelegate.addReference(E,b.targetId,I))).next((()=>ue.forEach(b.Is,(I=>_.persistence.referenceDelegate.removeReference(E,b.targetId,I)))))))))}catch(E){if(!Ol(E))throw E;Te(My,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const I=_.vs.get(b),P=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(P);_.vs=_.vs.insert(b,z)}}})(a.localStore,l))}async function hV(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){Te(qy,"User change. New user:",e.toKey());const a=await mA(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ve(oe.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tc(t,a.Ns)}}function dV(n,e){const t=Be(n),a=t.Au.get(e);if(a&&a.hu)return it().add(a.key);{let o=it();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function OA(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lV.bind(null,e),e.Pu.J_=XM.bind(null,e.eventManager),e.Pu.yu=WM.bind(null,e.eventManager),e}function mV(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cV.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yM(this.persistence,new mM,e.initialUser,this.serializer)}Cu(e){return new dA(Oy.Vi,this.serializer)}Du(e){return new wM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class pV extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ht(this.persistence.referenceDelegate instanceof Fh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Zx(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new dA((a=>Fh.Vi(a,t)),this.serializer)}}class $g{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>TS(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hV.bind(null,this.syncEngine),await $M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QM})()}createDatastore(e){const t=Ad(e.databaseInfo.databaseId),a=DM(e.databaseInfo);return VM(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,o,l,c,d){return new LM(a,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>TS(this.syncEngine,t,0)),(function(){return pS.v()?new pS:new AM})())}createSyncEngine(e,t){return(function(o,l,c,d,p,g,_){const E=new tV(o,l,c,d,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Be(o);Te(ro,"RemoteStore shutting down."),l.Ea.add(5),await Ec(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}$g.provider={build:()=>new $g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class gV{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=o,this.user=Nn.UNAUTHENTICATED,this.clientId=Ey.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{Te(hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Te(hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=jy(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function cg(n,e){n.asyncQueue.verifyOperationInProgress(),Te(hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener((async o=>{a.isEqual(o)||(await mA(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yV(n);Te(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((a=>yS(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,o)=>yS(e.remoteStore,o))),n._onlineComponents=e}async function yV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(hs,"Using user provided OfflineComponentProvider");try{await cg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await cg(n,new qh)}}else Te(hs,"Using default OfflineComponentProvider"),await cg(n,new pV(void 0));return n._offlineComponents}async function xA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(hs,"Using user provided OnlineComponentProvider"),await bS(n,n._uninitializedComponentsProvider._online)):(Te(hs,"Using default OnlineComponentProvider"),await bS(n,new $g))),n._onlineComponents}function _V(n){return xA(n).then((e=>e.syncEngine))}async function Gh(n){const e=await xA(n),t=e.eventManager;return t.onListen=nV.bind(null,e.syncEngine),t.onUnlisten=aV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sV.bind(null,e.syncEngine),t}function vV(n,e,t,a){const o=new Ky(a),l=new Hy(e,o,t);return n.asyncQueue.enqueueAndForget((async()=>zy(await Gh(n),l))),()=>{o.Nu(),n.asyncQueue.enqueueAndForget((async()=>By(await Gh(n),l)))}}function EV(n,e,t={}){const a=new ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new Ky({next:b=>{_.Nu(),c.enqueueAndForget((()=>By(l,E)));const I=b.docs.has(d);!I&&b.fromCache?g.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&p&&p.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new Hy(_d(d.path),_,{includeMetadataChanges:!0,Ka:!0});return zy(l,E)})(await Gh(n),n.asyncQueue,e,t,a))),a.promise}function TV(n,e,t={}){const a=new ta;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new Ky({next:b=>{_.Nu(),c.enqueueAndForget((()=>By(l,E))),b.fromCache&&p.source==="server"?g.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new Hy(d,_,{includeMetadataChanges:!0,Ka:!0});return zy(l,E)})(await Gh(n),n.asyncQueue,e,t,a))),a.promise}function SV(n,e){const t=new ta;return n.asyncQueue.enqueueAndForget((async()=>oV(await _V(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="ComponentProvider",wS=new Map;function wV(n,e,t,a,o){return new qO(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,MA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firestore.googleapis.com",AS=!0;class RS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VA,this.ssl=AS}else this.host=e.host,this.ssl=e.ssl??AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wx)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MA(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new bO;switch(a.type){case"firstParty":return new CO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=wS.get(t);a&&(Te(bV,"Removing Datastore"),wS.delete(t),a.terminate())})(this),Promise.resolve()}}function AV(n,e,t,a={}){var g;n=Wn(n,Id);const o=Cl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(lw(`https://${d}`),uw("Firestore",!0)),l.host!==VA&&l.host!==d&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:o,emulatorOptions:a};if(!eo(p,c)&&(n._setSettings(p),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=Nn.MOCK_USER;else{_=Q2(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Nn(b)}n._authCredentials=new wO(new bw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Gt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(gc(t,Gt._jsonSchema))return new Gt(e,a||null,new De(It.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:sn("string",Gt._jsonSchemaVersion),referencePath:sn("string")};class as extends uo{constructor(e,t,a){super(e,t,_d(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new De(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function Dd(n,e,...t){if(n=cn(n),ww("collection","path",e),n instanceof Id){const a=It.fromString(e,...t);return j0(a),new as(n,null,a)}{if(!(n instanceof Gt||n instanceof as))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(It.fromString(e,...t));return j0(a),new as(n.firestore,null,a)}}function Zn(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Ey.newId()),ww("doc","path",e),n instanceof Id){const a=It.fromString(e,...t);return U0(a),new Gt(n,null,new De(a))}{if(!(n instanceof Gt||n instanceof as))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(It.fromString(e,...t));return U0(a),new Gt(n.firestore,n instanceof as?n.converter:null,new De(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="AsyncQueue";class IS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gA(this,"async_queue_retry"),this._c=()=>{const a=ug();a&&Te(CS,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=ug();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ug();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ol(e))throw e;Te(CS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ia("INTERNAL UNHANDLED ERROR: ",DS(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Uy.createAndSchedule(this,e,t,a,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Le(47125,{Pc:DS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sa extends Id{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new IS,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IS(e),this._firestoreClient=void 0,await e}}}function RV(n,e){const t=typeof n=="object"?n:dw(),a=typeof n=="string"?n:Ph,o=_y(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=$2("firestore");l&&AV(o,...l)}return o}function Sc(n){if(n._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CV(n),n._firestoreClient}function CV(n){var a,o,l,c;const e=n._freezeSettings(),t=wV(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,(o=n._app)==null?void 0:o.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new gV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lr(wn.fromBase64String(e))}catch(t){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gc(e,Lr._jsonSchema))return Lr.fromBase64String(e.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:sn("string",Lr._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rt(this._lat,e._lat)||rt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(gc(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:sn("string",bi._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gc(e,Xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Xr(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xr._jsonSchemaVersion="firestore/vectorValue/1.0",Xr._jsonSchema={type:sn("string",Xr._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=/^__.*__$/;class DV{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new _c(e,this.data,t,this.fieldTransforms)}}class PA{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:n})}}class Yy{constructor(e,t,a,o,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const t=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var o;const t=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(LA(this.dataSource)&&IV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class NV{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Ad(e)}createContext(e,t,a,o=!1){return new Yy({dataSource:e,methodName:t,targetDoc:a,path:bn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=Ad(n._databaseId);return new NV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kA(n,e,t,a,o,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,o);Qy("Data must be an object, but it was:",c,a);const d=zA(a,c);let p,g;if(l.merge)p=new Er(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const b=Tl(e,E,t);if(!c.contains(b))throw new ve(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);HA(_,b)||_.push(b)}p=new Er(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new DV(new Xn(d),p,g)}class xd extends $y{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xd}}function UA(n,e,t,a){const o=n.createContext(1,e,t);Qy("Data must be an object, but it was:",o,a);const l=[],c=Xn.empty();ms(a,((p,g)=>{const _=FA(e,p,t);g=cn(g);const E=o.childContextForFieldPath(_);if(g instanceof xd)l.push(_);else{const b=bc(g,E);b!=null&&(l.push(_),c.set(_,b))}}));const d=new Er(l);return new PA(c,d,o.fieldTransforms)}function jA(n,e,t,a,o,l){const c=n.createContext(1,e,t),d=[Tl(e,a,t)],p=[o];if(l.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Tl(e,l[b])),p.push(l[b+1]);const g=[],_=Xn.empty();for(let b=d.length-1;b>=0;--b)if(!HA(g,d[b])){const I=d[b];let P=p[b];P=cn(P);const z=c.childContextForFieldPath(I);if(P instanceof xd)g.push(I);else{const L=bc(P,z);L!=null&&(g.push(I),_.set(I,L))}}const E=new Er(g);return new PA(_,E,c.fieldTransforms)}function OV(n,e,t,a=!1){return bc(t,n.createContext(a?4:3,e))}function bc(n,e){if(BA(n=cn(n)))return Qy("Unsupported field value:",e,n),zA(n,e);if(n instanceof $y)return(function(a,o){if(!LA(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const l=[];let c=0;for(const d of a){let p=bc(d,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return px(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Mt.fromDate(a);return{timestampValue:Bh(o.serializer,l)}}if(a instanceof Mt){const l=new Mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,l)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Lr)return{bytesValue:iA(o.serializer,a._byteString)};if(a instanceof Gt){const l=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Dy(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Xr)return(function(c,d){const p=c instanceof Xr?c.toArray():c;return{mapValue:{fields:{[Mw]:{stringValue:Vw},[Lh]:{arrayValue:{values:p.map((_=>{if(typeof _!="number")throw d.createError("VectorValues must only contain numeric values.");return Ry(d.serializer,_)}))}}}}}})(a,o);if(fA(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${md(a)}`)})(n,e)}function zA(n,e){const t={};return Cw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(n,((a,o)=>{const l=bc(o,e.childContextForField(a));l!=null&&(t[a]=l)})),{mapValue:{fields:t}}}function BA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof bi||n instanceof Lr||n instanceof Gt||n instanceof $y||n instanceof Xr||fA(n))}function Qy(n,e,t){if(!BA(t)||!Aw(t)){const a=md(t);throw a==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+a)}}function Tl(n,e,t){if((e=cn(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return FA(n,e);throw Kh("Field path arguments must be of type string or ",n,!1,void 0,t)}const xV=new RegExp("[~\\*/\\[\\]]");function FA(n,e,t){if(e.search(xV)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nd(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kh(n,e,t,a,o){const l=a&&!a.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new ve(oe.INVALID_ARGUMENT,d+n+p)}function HA(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return ms(e,((o,l)=>{a[o]=this.convertValue(l,t)})),a}convertVectorValue(e){var a,o,l;const t=(l=(o=(a=e.fields)==null?void 0:a[Lh].arrayValue)==null?void 0:o.values)==null?void 0:l.map((c=>Xt(c.doubleValue)));return new Xr(t)}convertGeoPoint(e){return new bi(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=yd(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const t=ls(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=It.fromString(e);ht(cA(a),9688,{name:e});const o=new tc(a.get(1),a.get(3)),l=new De(a.popFirst(5));return o.isEqual(t)||ia(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends MV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}const NS="@firebase/firestore",OS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){return(function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Tl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VV extends qA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class PV extends Wy{}function Jy(n,e,...t){let a=[];e instanceof Wy&&a.push(e),a=a.concat(t),(function(l){const c=l.filter((p=>p instanceof Zy)).length,d=l.filter((p=>p instanceof Md)).length;if(c>1||c>0&&d>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)n=o._apply(n);return n}class Md extends PV{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Md(e,t,a)}_apply(e){const t=this._parse(e);return KA(e._query,t),new uo(e.firestore,e.converter,kg(e._query,t))}_parse(e){const t=Od(e.firestore);return(function(l,c,d,p,g,_,E){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){VS(E,_);const P=[];for(const z of E)P.push(MS(p,l,z));b={arrayValue:{values:P}}}else b=MS(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||VS(E,_),b=OV(d,c,E,_==="in"||_==="not-in");return an.create(g,_,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function LV(n,e,t){const a=e,o=Tl("where",n);return Md._create(o,a,t)}class Zy extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zy(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:Jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)KA(c,p),c=kg(c,p)})(e._query,t),new uo(e.firestore,e.converter,kg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MS(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(e)&&t.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(It.fromString(t));if(!De.isDocumentKey(a))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $0(n,new De(a))}if(t instanceof Gt)return $0(n,t._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(t)}.`)}function VS(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KA(n,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function $A(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends qA{constructor(e,t,a,o,l,c){super(e,t,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Tl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Xs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:sn("string",Xs._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};class gh extends Xs{data(e={}){return super.data(e)}}class Ws{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ju(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new gh(this._firestore,this._userDataWriter,a.key,a,new ju(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ju(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new gh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ju(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:kV(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ey.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:sn("string",Ws._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Od(e)}set(e,t,a){this._verifyNotCommitted();const o=fg(e,this._firestore),l=$A(o.converter,t,a),c=kA(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,a);return this._mutations.push(c.toMutation(o._key,Jn.none())),this}update(e,t,a,...o){this._verifyNotCommitted();const l=fg(e,this._firestore);let c;return c=typeof(t=cn(t))=="string"||t instanceof Nd?jA(this._dataReader,"WriteBatch.update",l._key,t,a,o):UA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=fg(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,Jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fg(n,e){if((n=cn(n)).firestore!==e)throw new ve(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(n){n=Wn(n,Gt);const e=Wn(n.firestore,sa),t=Sc(e);return EV(t,n._key).then((a=>QA(e,n,a)))}function e_(n){n=Wn(n,uo);const e=Wn(n.firestore,sa),t=Sc(e),a=new Xy(e);return GA(n._query),TV(t,n._query).then((o=>new Ws(e,a,n,o)))}function YA(n,e,t){n=Wn(n,Gt);const a=Wn(n.firestore,sa),o=$A(n.converter,e,t),l=Od(a);return Vd(a,[kA(l,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Jn.none())])}function Ac(n,e,t,...a){n=Wn(n,Gt);const o=Wn(n.firestore,sa),l=Od(o);let c;return c=typeof(e=cn(e))=="string"||e instanceof Nd?jA(l,"updateDoc",n._key,e,t,a):UA(l,"updateDoc",n._key,e),Vd(o,[c.toMutation(n._key,Jn.exists(!0))])}function jV(n){return Vd(Wn(n.firestore,sa),[new bd(n._key,Jn.none())])}function zV(n,...e){var g,_,E;n=cn(n);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||xS(e[a])||(t=e[a++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xS(e[a])){const b=e[a];e[a]=(g=b.next)==null?void 0:g.bind(b),e[a+1]=(_=b.error)==null?void 0:_.bind(b),e[a+2]=(E=b.complete)==null?void 0:E.bind(b)}let l,c,d;if(n instanceof Gt)c=Wn(n.firestore,sa),d=_d(n._key.path),l={next:b=>{e[a]&&e[a](QA(c,n,b))},error:e[a+1],complete:e[a+2]};else{const b=Wn(n,uo);c=Wn(b.firestore,sa),d=b._query;const I=new Xy(c);l={next:P=>{e[a]&&e[a](new Ws(c,I,b,P))},error:e[a+1],complete:e[a+2]},GA(n._query)}const p=Sc(c);return vV(p,d,o,l)}function Vd(n,e){const t=Sc(n);return SV(t,e)}function QA(n,e,t){const a=t.docs.get(e._key),o=new Xy(n);return new Xs(n,o,e._key,a,new ju(t.hasPendingWrites,t.fromCache),e.converter)}function BV(n){return n=Wn(n,sa),Sc(n),new UV(n,(e=>Vd(n,e)))}(function(e,t=!0){SO(Il),ml(new to("firestore",((a,{instanceIdentifier:o,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new sa(new AO(a.getProvider("auth-internal")),new IO(c,a.getProvider("app-check-internal")),GO(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),rs(NS,OS,e),rs(NS,OS,"esm2020")})();var FV="firebase",HV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(FV,HV,"app");function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qV=XA,WA=new mc("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new gy("@firebase/auth");function GV(n,...e){$h.logLevel<=nt.WARN&&$h.warn(`Auth (${Il}): ${n}`,...e)}function yh(n,...e){$h.logLevel<=nt.ERROR&&$h.error(`Auth (${Il}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,...e){throw n_(n,...e)}function Wr(n,...e){return n_(n,...e)}function t_(n,e,t){const a={...qV(),[e]:t};return new mc("auth","Firebase",a).create(e,{appName:n.name})}function Js(n){return t_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KV(n,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ci(n,"argument-error"),t_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function n_(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return WA.create(n,...e)}function ke(n,e,...t){if(!n)throw n_(e,...t)}function Zi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yh(e),new Error(e)}function oa(n,e){n||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function $V(){return PS()==="http:"||PS()==="https:"}function PS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($V()||tN()||"connection"in navigator)?navigator.onLine:!0}function QV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,oa(t>e,"Short delay should be less than long delay!"),this.isMobile=J2()||nN()}get(){return YV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(n,e){oa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JV=new Rc(3e4,6e4);function i_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ml(n,e,t,a,o={}){return ZA(n,o,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=pc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return eN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(g.credentials="include"),JA.fetch()(await eR(n,n.config.apiHost,t,d),g)})}async function ZA(n,e,t){n._canInitEmulator=!1;const a={...XV,...e};try{const o=new e4(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ih(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ih(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ih(n,"user-disabled",c);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw t_(n,_,g);Ci(n,_)}}catch(o){if(o instanceof ca)throw o;Ci(n,"network-request-failed",{message:String(o)})}}async function ZV(n,e,t,a,o={}){const l=await Ml(n,e,t,a,o);return"mfaPendingCredential"in l&&Ci(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function eR(n,e,t,a){const o=`${e}${t}?${a}`,l=n,c=l.config.emulator?r_(n.config,o):`${n.config.apiScheme}://${o}`;return WV.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class e4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Wr(this.auth,"network-request-failed")),JV.get())})}}function ih(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Wr(n,e,a);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e){return Ml(n,"POST","/v1/accounts:delete",e)}async function Yh(n,e){return Ml(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n4(n,e=!1){const t=cn(n),a=await t.getIdToken(e),o=a_(a);ke(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:$u(hg(o.auth_time)),issuedAtTime:$u(hg(o.iat)),expirationTime:$u(hg(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function hg(n){return Number(n)*1e3}function a_(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iw(t);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function LS(n){const e=a_(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof ca&&r4(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function r4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(n){var E;const e=n.auth,t=await n.getIdToken(),a=await ac(n,Yh(e,{idToken:t}));ke(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const l=(E=o.providerUserInfo)!=null&&E.length?tR(o.providerUserInfo):[],c=s4(n.providerData,l),d=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function a4(n){const e=cn(n);await Qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s4(n,e){return[...n.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function tR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,e){const t=await ZA(n,{},async()=>{const a=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await eR(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return n.emulatorConfig&&Cl(n.emulatorConfig.host)&&(p.credentials="include"),JA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function l4(n,e){return Ml(n,"POST","/v2/accounts:revokeToken",i_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=LS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await o4(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,c=new cl;return a&&(ke(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(ke(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(ke(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new i4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ac(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return n4(this,e)}reload(){return a4(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Qh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await ac(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:I,providerData:P,stsTokenManager:z}=t;ke(E&&z,e,"internal-error");const L=cl.fromJSON(this.name,z);ke(typeof E=="string",e,"internal-error"),Ka(a,e.name),Ka(o,e.name),ke(typeof b=="boolean",e,"internal-error"),ke(typeof I=="boolean",e,"internal-error"),Ka(l,e.name),Ka(c,e.name),Ka(d,e.name),Ka(p,e.name),Ka(g,e.name),Ka(_,e.name);const G=new Qr({uid:E,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:L,createdAt:g,lastLoginAt:_});return P&&Array.isArray(P)&&(G.providerData=P.map(q=>({...q}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,t,a=!1){const o=new cl;o.updateFromServerResponse(t);const l=new Qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Qh(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];ke(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?tR(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new cl;d.updateFromIdToken(a);const p=new Qr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Qg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function ea(n){oa(n instanceof Function,"Expected a class definition");let e=kS.get(n);return e?(oa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nR.type="NONE";const US=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(n,e,t){return`firebase:${n}:${e}:${t}`}class fl{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,l),this.fullPersistenceKey=_h("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Yh(this.auth,{idToken:e}).catch(()=>{});return t?Qr._fromGetAccountInfoResponse(this.auth,t,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new fl(ea(US),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||ea(US);const c=_h(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const b=await Yh(e,{idToken:_}).catch(()=>{});if(!b)break;E=await Qr._fromGetAccountInfoResponse(e,b,_)}else E=Qr._fromJSON(e,_);g!==l&&(d=E),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new fl(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new fl(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lR(e))return"Blackberry";if(uR(e))return"Webos";if(iR(e))return"Safari";if((e.includes("chrome/")||aR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function rR(n=xn()){return/firefox\//i.test(n)}function iR(n=xn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aR(n=xn()){return/crios\//i.test(n)}function sR(n=xn()){return/iemobile/i.test(n)}function oR(n=xn()){return/android/i.test(n)}function lR(n=xn()){return/blackberry/i.test(n)}function uR(n=xn()){return/webos/i.test(n)}function s_(n=xn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u4(n=xn()){var e;return s_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function c4(){return rN()&&document.documentMode===10}function cR(n=xn()){return s_(n)||oR(n)||uR(n)||lR(n)||/windows phone/i.test(n)||sR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e=[]){let t;switch(n){case"Browser":t=jS(xn());break;case"Worker":t=`${jS(xn())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Il}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e={}){return Ml(n,"GET","/v2/passwordPolicy",i_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=6;class m4{constructor(e){var a;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??d4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zS(this),this.idTokenSubscription=new zS(this),this.beforeStateQueue=new f4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ea(t)),this._initializationPromise=this.queue(async()=>{var a,o,l;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Yh(this,{idToken:e}),a=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if($r(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Js(this));const t=e?cn(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h4(this),t=new m4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await l4(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ea(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[ea(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&GV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pd(n){return cn(n)}class zS{constructor(e){this.auth=e,this.observer=null,this.addObserver=fN(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g4(n){o_=n}function y4(n){return o_.loadJS(n)}function _4(){return o_.gapiScript}function v4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(n,e){const t=_y(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(eo(l,e??{}))return o;Ci(o,"already-initialized")}return t.initialize({options:e})}function T4(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(ea);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function S4(n,e,t){const a=Pd(n);ke(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=hR(e),{host:c,port:d}=b4(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ke(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ke(eo(g,a.config.emulator)&&eo(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Cl(c)?(lw(`${l}//${c}${p}`),uw("Auth",!0)):w4()}function hR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function b4(n){const e=hR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:BS(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:BS(c)}}}function BS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function w4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,t){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n,e){return ZV(n,"POST","/v1/accounts:signInWithIdp",i_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="http://localhost";class io extends dR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...l}=t;if(!a||!o)return null;const c=new io(a,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return hl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,hl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,hl(e,t)}buildRequest(){const e={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends l_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Cc{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Ji.credential(t,a)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Cc{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Cc{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Wa.credential(t,a)}catch{return null}}}Wa.TWITTER_SIGN_IN_METHOD="twitter.com";Wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Qr._fromIdTokenResponse(e,a,o),c=FS(a);return new Sl({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=FS(a);return new Sl({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function FS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends ca{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Xh(e,t,a,o)}}function mR(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(n,l,e,a):l})}async function R4(n,e,t=!1){const a=await ac(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Sl._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e,t=!1){const{auth:a}=n;if($r(a.app))return Promise.reject(Js(a));const o="reauthenticate";try{const l=await ac(n,mR(a,o,e,n),t);ke(l.idToken,a,"internal-error");const c=a_(l.idToken);ke(c,a,"internal-error");const{sub:d}=c;return ke(n.uid===d,a,"user-mismatch"),Sl._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ci(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(n,e,t=!1){if($r(n.app))return Promise.reject(Js(n));const a="signIn",o=await mR(n,a,e),l=await Sl._fromIdTokenResponse(n,a,o);return t||await n._updateCurrentUser(l.user),l}function D4(n,e,t,a){return cn(n).onIdTokenChanged(e,t,a)}function N4(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function O4(n,e,t,a){return cn(n).onAuthStateChanged(e,t,a)}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=1e3,M4=10;class gR extends pR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);c4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,M4):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gR.type="LOCAL";const V4=gR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR extends pR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yR.type="SESSION";const _R=yR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Ld(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await P4(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=u_("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function k4(n){wi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function U4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function z4(){return vR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebaseLocalStorageDb",B4=1,Jh="firebaseLocalStorage",TR="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kd(n,e){return n.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function F4(){const n=indexedDB.deleteDatabase(ER);return new Ic(n).toPromise()}function Xg(){const n=indexedDB.open(ER,B4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Jh,{keyPath:TR})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Jh)?e(a):(a.close(),await F4(),e(await Xg()))})})}async function HS(n,e,t){const a=kd(n,!0).put({[TR]:e,value:t});return new Ic(a).toPromise()}async function H4(n,e){const t=kd(n,!1).get(e),a=await new Ic(t).toPromise();return a===void 0?null:a.value}function qS(n,e){const t=kd(n,!0).delete(e);return new Ic(t).toPromise()}const q4=800,G4=3;class SR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>G4)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ld._getInstance(z4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,a;if(this.activeServiceWorker=await U4(),!this.activeServiceWorker)return;this.sender=new L4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xg();return await HS(e,Wh,"1"),await qS(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>HS(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>H4(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=kd(o,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SR.type="LOCAL";const K4=SR;new Rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n,e){return e?ea(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends dR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $4(n){return I4(n.auth,new c_(n),n.bypassAuthState)}function Y4(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),C4(t,new c_(n),n.bypassAuthState)}async function Q4(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),R4(t,new c_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $4;case"linkViaPopup":case"linkViaRedirect":return Q4;case"reauthViaPopup":case"reauthViaRedirect":return Y4;default:Ci(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Rc(2e3,1e4);async function W4(n,e,t){if($r(n.app))return Promise.reject(Wr(n,"operation-not-supported-in-this-environment"));const a=Pd(n);KV(n,e,l_);const o=bR(a,t);return new Qs(a,"signInViaPopup",e,o).executeNotNull()}class Qs extends wR{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const e=u_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if((a=(t=this.authWindow)==null?void 0:t.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X4.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="pendingRedirect",vh=new Map;class Z4 extends wR{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const a=await eP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eP(n,e){const t=rP(e),a=nP(n);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function tP(n,e){vh.set(n._key(),e)}function nP(n){return ea(n._redirectPersistence)}function rP(n){return _h(J4,n.config.apiKey,n.name)}async function iP(n,e,t=!1){if($r(n.app))return Promise.reject(Js(n));const a=Pd(n),o=bR(a,e),c=await new Z4(a,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=600*1e3;class sP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!AR(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";t.onError(Wr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aP&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}saveEventToCache(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}}function GS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,e={}){return Ml(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function fP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lP(n);for(const t of e)try{if(hP(t))return}catch{}Ci(n,"unauthorized-domain")}function hP(n){const e=Yg(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!cP.test(t))return!1;if(uP.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Rc(3e4,6e4);function KS(){const n=wi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mP(n){return new Promise((e,t)=>{var o,l,c;function a(){KS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KS(),t(Wr(n,"network-request-failed"))},timeout:dP.get()})}if((l=(o=wi().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=wi().gapi)!=null&&c.load)a();else{const d=v4("iframefcb");return wi()[d]=()=>{gapi.load?a():t(Wr(n,"network-request-failed"))},y4(`${_4()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function pP(n){return Eh=Eh||mP(n),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Rc(5e3,15e3),yP="__/auth/iframe",_P="emulator/auth/iframe",vP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?r_(e,_P):`https://${n.config.authDomain}/${yP}`,a={apiKey:e.apiKey,appName:n.name,v:Il},o=EP.get(n.config.apiHost);o&&(a.eid=o);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${pc(a).slice(1)}`}async function SP(n){const e=await pP(n),t=wi().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:TP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vP,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const c=Wr(n,"network-request-failed"),d=wi().setTimeout(()=>{l(c)},gP.get());function p(){wi().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wP=500,AP=600,RP="_blank",CP="http://localhost";class $S{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IP(n,e,t,a=wP,o=AP){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...bP,width:a.toString(),height:o.toString(),top:l,left:c},g=xn().toLowerCase();t&&(d=aR(g)?RP:t),rR(g)&&(e=e||CP,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[I,P])=>`${b}${I}=${P},`,"");if(u4(g)&&d!=="_self")return DP(e||"",d),new $S(null);const E=window.open(e||"",d,_);ke(E,n,"popup-blocked");try{E.focus()}catch{}return new $S(E)}function DP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="__/auth/handler",OP="emulator/auth/handler",xP=encodeURIComponent("fac");async function YS(n,e,t,a,o,l){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Il,eventId:o};if(e instanceof l_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",cN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Cc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${xP}=${encodeURIComponent(p)}`:"";return`${MP(n)}?${pc(d).slice(1)}${g}`}function MP({config:n}){return n.emulator?r_(n,OP):`https://${n.authDomain}/${NP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="webStorageSupport";class VP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_R,this._completeRedirectFn=iP,this._overrideRedirectResult=tP}async _openPopup(e,t,a,o){var c;oa((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await YS(e,t,a,Yg(),o);return IP(e,l,u_())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await YS(e,t,a,Yg(),o);return k4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(oa(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await SP(e),a=new sP(e);return t.register("authEvent",o=>(ke(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dg,{type:dg},o=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c[dg];l!==void 0&&t(!!l),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cR()||iR()||s_()}}const PP=VP;var QS="@firebase/auth",XS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UP(n){ml(new to("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;ke(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fR(n)},g=new p4(a,o,l,p);return T4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),ml(new to("auth-internal",e=>{const t=Pd(e.getProvider("auth").getImmediate());return(a=>new LP(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(QS,XS,kP(n)),rs(QS,XS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=300,zP=ow("authIdTokenMaxAge")||jP;let WS=null;const BP=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>zP)return;const o=t==null?void 0:t.token;WS!==o&&(WS=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FP(n=dw()){const e=_y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=E4(n,{popupRedirectResolver:PP,persistence:[K4,V4,_R]}),a=ow("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=BP(l.toString());N4(t,c,()=>c(t.currentUser)),D4(t,d=>c(d))}}const o=aw("auth");return o&&S4(t,`http://${o}`),t}function HP(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}g4({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=o=>{const l=Wr("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",HP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UP("Browser");const qP={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function Jo(n){const e=qP[n];if(!e)throw new Error(`Missing environment variable: ${n}. Did you forget to create a .env.local?`);return e}const GP={apiKey:Jo("VITE_FIREBASE_API_KEY"),authDomain:Jo("VITE_FIREBASE_AUTH_DOMAIN"),projectId:Jo("VITE_FIREBASE_PROJECT_ID"),storageBucket:Jo("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:Jo("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:Jo("VITE_FIREBASE_APP_ID")},RR=hw(GP),bl=FP(RR),KP=new Ji,pn=RV(RR),CR=B.createContext(void 0),$P=({children:n})=>{const[e,t]=B.useState(()=>{const c=localStorage.getItem("app-theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),a=B.useCallback(c=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("app-theme",c)},[]);B.useEffect(()=>{a(e)},[e,a]);const o=B.useCallback(c=>{t(c),a(c);const d=bl.currentUser;if(d){const p=Zn(pn,"users",d.uid);Ac(p,{preferredTheme:c}).catch(g=>console.error("Error updating preferred theme in Firebase:",g))}},[a]),l=B.useCallback(()=>{t(c=>c==="light"?"dark":"light")},[t]);return B.useEffect(()=>bl.onAuthStateChanged(async d=>{if(d){const p=Zn(pn,"users",d.uid),g=await wc(p);if(g.exists()&&g.data().preferredTheme){const _=g.data().preferredTheme;t(_),a(_)}}}),[a]),N.jsx(CR.Provider,{value:{theme:e,toggleTheme:l,setTheme:o},children:n})},Dc=({container:n=!0})=>{const e=N.jsx("div",{className:"spinner"});return n?N.jsx("div",{className:"spinner-container",children:e}):e},wl=()=>N.jsx("div",{className:"loading-container",children:N.jsx(Dc,{container:!1})}),YP=()=>{const n=Dt(a=>a.auth.firebaseUser),e=Dt(a=>a.auth.userData);return Dt(a=>a.auth.loading)?N.jsx(wl,{}):n?e?e.isApproved?N.jsx(es,{to:"/app/roster",replace:!0}):N.jsx(es,{to:"/guest",replace:!0}):N.jsx(wl,{}):N.jsx(es,{to:"/login",replace:!0})};function Tn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var QP=typeof Symbol=="function"&&Symbol.observable||"@@observable",JS=QP,mg=()=>Math.random().toString(36).substring(7).split("").join("."),XP={INIT:`@@redux/INIT${mg()}`,REPLACE:`@@redux/REPLACE${mg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mg()}`},Zh=XP;function f_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function IR(n,e,t){if(typeof n!="function")throw new Error(Tn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Tn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Tn(1));return t(IR)(n,e)}let a=n,o=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((L,G)=>{c.set(G,L)}))}function _(){if(p)throw new Error(Tn(3));return o}function E(L){if(typeof L!="function")throw new Error(Tn(4));if(p)throw new Error(Tn(5));let G=!0;g();const q=d++;return c.set(q,L),function(){if(G){if(p)throw new Error(Tn(6));G=!1,g(),c.delete(q),l=null}}}function b(L){if(!f_(L))throw new Error(Tn(7));if(typeof L.type>"u")throw new Error(Tn(8));if(typeof L.type!="string")throw new Error(Tn(17));if(p)throw new Error(Tn(9));try{p=!0,o=a(o,L)}finally{p=!1}return(l=c).forEach(q=>{q()}),L}function I(L){if(typeof L!="function")throw new Error(Tn(10));a=L,b({type:Zh.REPLACE})}function P(){const L=E;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(Tn(11));function q(){const ee=G;ee.next&&ee.next(_())}return q(),{unsubscribe:L(q)}},[JS](){return this}}}return b({type:Zh.INIT}),{dispatch:b,subscribe:E,getState:_,replaceReducer:I,[JS]:P}}function WP(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Zh.INIT})>"u")throw new Error(Tn(12));if(typeof t(void 0,{type:Zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tn(13))})}function JP(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const a=Object.keys(t);let o;try{WP(t)}catch(l){o=l}return function(c={},d){if(o)throw o;let p=!1;const g={};for(let _=0;_<a.length;_++){const E=a[_],b=t[E],I=c[E],P=b(I,d);if(typeof P>"u")throw d&&d.type,new Error(Tn(14));g[E]=P,p=p||P!==I}return p=p||a.length!==Object.keys(c).length,p?g:c}}function ed(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...a)=>e(t(...a)))}function ZP(...n){return e=>(t,a)=>{const o=e(t,a);let l=()=>{throw new Error(Tn(15))};const c={getState:o.getState,dispatch:(p,...g)=>l(p,...g)},d=n.map(p=>p(c));return l=ed(...d)(o.dispatch),{...o,dispatch:l}}}function eL(n){return f_(n)&&"type"in n&&typeof n.type=="string"}var DR=Symbol.for("immer-nothing"),ZS=Symbol.for("immer-draftable"),jn=Symbol.for("immer-state");function Yr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Tr=Object,Al=Tr.getPrototypeOf,td="constructor",Ud="prototype",Wg="configurable",nd="enumerable",Th="writable",sc="value",la=n=>!!n&&!!n[jn];function Zr(n){var e;return n?NR(n)||zd(n)||!!n[ZS]||!!((e=n[td])!=null&&e[ZS])||Bd(n)||Fd(n):!1}var tL=Tr[Ud][td].toString(),eb=new WeakMap;function NR(n){if(!n||!h_(n))return!1;const e=Al(n);if(e===null||e===Tr[Ud])return!0;const t=Tr.hasOwnProperty.call(e,td)&&e[td];if(t===Object)return!0;if(!il(t))return!1;let a=eb.get(t);return a===void 0&&(a=Function.toString.call(t),eb.set(t,a)),a===tL}function jd(n,e,t=!0){Nc(n)===0?(t?Reflect.ownKeys(n):Tr.keys(n)).forEach(o=>{e(o,n[o],n)}):n.forEach((a,o)=>e(o,a,n))}function Nc(n){const e=n[jn];return e?e.type_:zd(n)?1:Bd(n)?2:Fd(n)?3:0}var tb=(n,e,t=Nc(n))=>t===2?n.has(e):Tr[Ud].hasOwnProperty.call(n,e),Jg=(n,e,t=Nc(n))=>t===2?n.get(e):n[e],rd=(n,e,t,a=Nc(n))=>{a===2?n.set(e,t):a===3?n.add(t):n[e]=t};function nL(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var zd=Array.isArray,Bd=n=>n instanceof Map,Fd=n=>n instanceof Set,h_=n=>typeof n=="object",il=n=>typeof n=="function",pg=n=>typeof n=="boolean";function rL(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var Wi=n=>n.copy_||n.base_,d_=n=>n.modified_?n.copy_:n.base_;function Zg(n,e){if(Bd(n))return new Map(n);if(Fd(n))return new Set(n);if(zd(n))return Array[Ud].slice.call(n);const t=NR(n);if(e===!0||e==="class_only"&&!t){const a=Tr.getOwnPropertyDescriptors(n);delete a[jn];let o=Reflect.ownKeys(a);for(let l=0;l<o.length;l++){const c=o[l],d=a[c];d[Th]===!1&&(d[Th]=!0,d[Wg]=!0),(d.get||d.set)&&(a[c]={[Wg]:!0,[Th]:!0,[nd]:d[nd],[sc]:n[c]})}return Tr.create(Al(n),a)}else{const a=Al(n);if(a!==null&&t)return{...n};const o=Tr.create(a);return Tr.assign(o,n)}}function m_(n,e=!1){return Hd(n)||la(n)||!Zr(n)||(Nc(n)>1&&Tr.defineProperties(n,{set:ah,add:ah,clear:ah,delete:ah}),Tr.freeze(n),e&&jd(n,(t,a)=>{m_(a,!0)},!1)),n}function iL(){Yr(2)}var ah={[sc]:iL};function Hd(n){return n===null||!h_(n)?!0:Tr.isFrozen(n)}var id="MapSet",ey="Patches",nb="ArrayMethods",OR={};function ao(n){const e=OR[n];return e||Yr(0,n),e}var rb=n=>!!OR[n],oc,xR=()=>oc,aL=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rb(id)?ao(id):void 0,arrayMethodsPlugin_:rb(nb)?ao(nb):void 0});function ib(n,e){e&&(n.patchPlugin_=ao(ey),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function ty(n){ny(n),n.drafts_.forEach(sL),n.drafts_=null}function ny(n){n===oc&&(oc=n.parent_)}var ab=n=>oc=aL(oc,n);function sL(n){const e=n[jn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sb(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[jn].modified_&&(ty(e),Yr(4)),Zr(n)&&(n=ob(e,n));const{patchPlugin_:o}=e;o&&o.generateReplacementPatches_(t[jn].base_,n,e)}else n=ob(e,t);return oL(e,n,!0),ty(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==DR?n:void 0}function ob(n,e){if(Hd(e))return e;const t=e[jn];if(!t)return ad(e,n.handledSet_,n);if(!qd(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:a}=t;if(a)for(;a.length>0;)a.pop()(n);PR(t,n)}return t.copy_}function oL(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&m_(e,t)}function MR(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var qd=(n,e)=>n.scope_===e,lL=[];function VR(n,e,t,a){const o=Wi(n),l=n.type_;if(a!==void 0&&Jg(o,a,l)===e){rd(o,a,t,l);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;jd(o,(p,g)=>{if(la(g)){const _=d.get(g)||[];_.push(p),d.set(g,_)}})}const c=n.draftLocations_.get(e)??lL;for(const d of c)rd(o,d,t,l)}function uL(n,e,t){n.callbacks_.push(function(o){var d;const l=e;if(!l||!qd(l,o))return;(d=o.mapSetPlugin_)==null||d.fixSetContents(l);const c=d_(l);VR(n,l.draft_??l,c,t),PR(l,o)})}function PR(n,e){var a;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((a=n.assigned_)==null?void 0:a.size)??0)>0)){const{patchPlugin_:o}=e;if(o){const l=o.getPath(n);l&&o.generatePatches_(n,l,e)}MR(n)}}function cL(n,e,t){const{scope_:a}=n;if(la(t)){const o=t[jn];qd(o,a)&&o.callbacks_.push(function(){Sh(n);const c=d_(o);VR(n,t,c,e)})}else Zr(t)&&n.callbacks_.push(function(){const l=Wi(n);n.type_===3?l.has(t)&&ad(t,a.handledSet_,a):Jg(l,e,n.type_)===t&&a.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&ad(Jg(n.copy_,e,n.type_),a.handledSet_,a)})}function ad(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||la(n)||e.has(n)||!Zr(n)||Hd(n)||(e.add(n),jd(n,(a,o)=>{if(la(o)){const l=o[jn];if(qd(l,t)){const c=d_(l);rd(n,a,c,n.type_),MR(l)}}else Zr(o)&&ad(o,e,t)})),n}function fL(n,e){const t=zd(n),a={type_:t?1:0,scope_:e?e.scope_:xR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=a,l=sd;t&&(o=[a],l=lc);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return a.draft_=d,a.revoke_=c,[d,a]}var sd={get(n,e){if(e===jn)return n;let t=n.scope_.arrayMethodsPlugin_;const a=n.type_===1&&typeof e=="string";if(a&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const o=Wi(n);if(!tb(o,e,n.type_))return hL(n,o,e);const l=o[e];if(n.finalized_||!Zr(l)||a&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&rL(e))return l;if(l===gg(n.base_,e)){Sh(n);const c=n.type_===1?+e:e,d=iy(n.scope_,l,n,c);return n.copy_[c]=d}return l},has(n,e){return e in Wi(n)},ownKeys(n){return Reflect.ownKeys(Wi(n))},set(n,e,t){const a=LR(Wi(n),e);if(a!=null&&a.set)return a.set.call(n.draft_,t),!0;if(!n.modified_){const o=gg(Wi(n),e),l=o==null?void 0:o[jn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(nL(t,o)&&(t!==void 0||tb(n.base_,e,n.type_)))return!0;Sh(n),ry(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),cL(n,e,t)),!0},deleteProperty(n,e){return Sh(n),gg(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),ry(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Wi(n),a=Reflect.getOwnPropertyDescriptor(t,e);return a&&{[Th]:!0,[Wg]:n.type_!==1||e!=="length",[nd]:a[nd],[sc]:t[e]}},defineProperty(){Yr(11)},getPrototypeOf(n){return Al(n.base_)},setPrototypeOf(){Yr(12)}},lc={};for(let n in sd){let e=sd[n];lc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}lc.deleteProperty=function(n,e){return lc.set.call(this,n,e,void 0)};lc.set=function(n,e,t){return sd.set.call(this,n[0],e,t,n[0])};function gg(n,e){const t=n[jn];return(t?Wi(t):n)[e]}function hL(n,e,t){var o;const a=LR(e,t);return a?sc in a?a[sc]:(o=a.get)==null?void 0:o.call(n.draft_):void 0}function LR(n,e){if(!(e in n))return;let t=Al(n);for(;t;){const a=Object.getOwnPropertyDescriptor(t,e);if(a)return a;t=Al(t)}}function ry(n){n.modified_||(n.modified_=!0,n.parent_&&ry(n.parent_))}function Sh(n){n.copy_||(n.assigned_=new Map,n.copy_=Zg(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var dL=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,a)=>{if(il(e)&&!il(t)){const l=t;t=e;const c=this;return function(p=l,...g){return c.produce(p,_=>t.call(this,_,...g))}}il(t)||Yr(6),a!==void 0&&!il(a)&&Yr(7);let o;if(Zr(e)){const l=ab(this),c=iy(l,e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?ty(l):ny(l)}return ib(l,a),sb(o,l)}else if(!e||!h_(e)){if(o=t(e),o===void 0&&(o=e),o===DR&&(o=void 0),this.autoFreeze_&&m_(o,!0),a){const l=[],c=[];ao(ey).generateReplacementPatches_(e,o,{patches_:l,inversePatches_:c}),a(l,c)}return o}else Yr(1,e)},this.produceWithPatches=(e,t)=>{if(il(e))return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let a,o;return[this.produce(e,t,(c,d)=>{a=c,o=d}),a,o]},pg(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),pg(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),pg(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Zr(n)||Yr(8),la(n)&&(n=mL(n));const e=ab(this),t=iy(e,n,void 0);return t[jn].isManual_=!0,ny(e),t}finishDraft(n,e){const t=n&&n[jn];(!t||!t.isManual_)&&Yr(9);const{scope_:a}=t;return ib(a,e),sb(void 0,a)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const a=ao(ey).applyPatches_;return la(n)?a(n,e):this.produce(n,o=>a(o,e))}};function iy(n,e,t,a){const[o,l]=Bd(e)?ao(id).proxyMap_(e,t):Fd(e)?ao(id).proxySet_(e,t):fL(e,t);return((t==null?void 0:t.scope_)??xR()).drafts_.push(o),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=a,t&&a!==void 0?uL(t,l,a):l.callbacks_.push(function(p){var _;(_=p.mapSetPlugin_)==null||_.fixSetContents(l);const{patchPlugin_:g}=p;l.modified_&&g&&g.generatePatches_(l,[],p)}),o}function mL(n){return la(n)||Yr(10,n),kR(n)}function kR(n){if(!Zr(n)||Hd(n))return n;const e=n[jn];let t,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Zg(n,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else t=Zg(n,!0);return jd(t,(o,l)=>{rd(t,o,kR(l))},a),e&&(e.finalized_=!1),t}var pL=new dL,UR=pL.produce;function jR(n){return({dispatch:t,getState:a})=>o=>l=>typeof l=="function"?l(t,a,n):o(l)}var gL=jR(),yL=jR,_L=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ed:ed.apply(null,arguments)},vL=n=>n&&typeof n.match=="function";function Yu(n,e){function t(...a){if(e){let o=e(...a);if(!o)throw new Error(na(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:a[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=a=>eL(a)&&a.type===n,t}var zR=class zu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zu.prototype)}static get[Symbol.species](){return zu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zu(...e[0].concat(this)):new zu(...e.concat(this))}};function lb(n){return Zr(n)?UR(n,()=>{}):n}function sh(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function EL(n){return typeof n=="boolean"}var TL=()=>function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new zR;return t&&(EL(t)?c.push(gL):c.push(yL(t.extraArgument))),c},SL="RTK_autoBatch",ub=n=>e=>{setTimeout(e,n)},bL=(n={type:"raf"})=>e=>(...t)=>{const a=e(...t);let o=!0,l=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ub(10):n.type==="callback"?n.queueNotification:ub(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},a,{subscribe(_){const E=()=>o&&_(),b=a.subscribe(E);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){var E;try{return o=!((E=_==null?void 0:_.meta)!=null&&E[SL]),l=!o,l&&(c||(c=!0,p(g))),a.dispatch(_)}finally{o=!0}}})},wL=n=>function(t){const{autoBatch:a=!0}=t??{};let o=new zR(n);return a&&o.push(bL(typeof a=="object"?a:void 0)),o};function AL(n){const e=TL(),{reducer:t=void 0,middleware:a,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(f_(t))d=JP(t);else throw new Error(na(1));let p;typeof a=="function"?p=a(e):p=e();let g=ed;o&&(g=_L({trace:!1,...typeof o=="object"&&o}));const _=ZP(...p),E=wL(_);let b=typeof c=="function"?c(E):E();const I=g(...b);return IR(d,l,I)}function BR(n){const e={},t=[];let a;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(na(28));if(d in e)throw new Error(na(29));return e[d]=c,o},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),o},addMatcher(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase(l){return a=l,o}};return n(o),[e,t,a]}function RL(n){return typeof n=="function"}function CL(n,e){let[t,a,o]=BR(e),l;if(RL(n))l=()=>lb(n());else{const d=lb(n);l=()=>d}function c(d=l(),p){let g=[t[p.type],...a.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,E)=>{if(E)if(la(_)){const I=E(_,p);return I===void 0?_:I}else{if(Zr(_))return UR(_,b=>E(b,p));{const b=E(_,p);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return c.getInitialState=l,c}var IL=(n,e)=>vL(n)?n.match(e):n(e);function DL(...n){return e=>n.some(t=>IL(t,e))}var NL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OL=(n=21)=>{let e="",t=n;for(;t--;)e+=NL[Math.random()*64|0];return e},xL=["name","message","stack","code"],yg=class{constructor(n,e){Up(this,"_type");this.payload=n,this.meta=e}},cb=class{constructor(n,e){Up(this,"_type");this.payload=n,this.meta=e}},ML=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of xL)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},fb="External signal was aborted",er=(()=>{function n(e,t,a){const o=Yu(e+"/fulfilled",(p,g,_,E)=>({payload:p,meta:{...E||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=Yu(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),c=Yu(e+"/rejected",(p,g,_,E,b)=>({payload:E,error:(a&&a.serializeError||ML)(p||"Rejected"),meta:{...b||{},arg:_,requestId:g,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p,{signal:g}={}){return(_,E,b)=>{const I=a!=null&&a.idGenerator?a.idGenerator(p):OL(),P=new AbortController;let z,L;function G(K){L=K,P.abort()}g&&(g.aborted?G(fb):g.addEventListener("abort",()=>G(fb),{once:!0}));const q=(async function(){var $,re;let K;try{let S=($=a==null?void 0:a.condition)==null?void 0:$.call(a,p,{getState:E,extra:b});if(PL(S)&&(S=await S),S===!1||P.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const w=new Promise((R,D)=>{z=()=>{D({name:"AbortError",message:L||"Aborted"})},P.signal.addEventListener("abort",z,{once:!0})});_(l(I,p,(re=a==null?void 0:a.getPendingMeta)==null?void 0:re.call(a,{requestId:I,arg:p},{getState:E,extra:b}))),K=await Promise.race([w,Promise.resolve(t(p,{dispatch:_,getState:E,extra:b,requestId:I,signal:P.signal,abort:G,rejectWithValue:(R,D)=>new yg(R,D),fulfillWithValue:(R,D)=>new cb(R,D)})).then(R=>{if(R instanceof yg)throw R;return R instanceof cb?o(R.payload,I,p,R.meta):o(R,I,p)})])}catch(S){K=S instanceof yg?c(null,I,p,S.payload,S.meta):c(S,I,p)}finally{z&&P.signal.removeEventListener("abort",z)}return a&&!a.dispatchConditionRejection&&c.match(K)&&K.meta.condition||_(K),K})();return Object.assign(q,{abort:G,requestId:I,arg:p,unwrap(){return q.then(VL)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:o,settled:DL(c,o),typePrefix:e})}return n.withTypes=()=>n,n})();function VL(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function PL(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var LL=Symbol.for("rtk-slice-createasyncthunk");function kL(n,e){return`${n}/${e}`}function UL({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[LL];return function(o){const{name:l,reducerPath:c=l}=o;if(!l)throw new Error(na(11));const d=(typeof o.reducers=="function"?o.reducers(zL()):o.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(ee,$){const re=typeof ee=="string"?ee:ee.type;if(!re)throw new Error(na(12));if(re in g.sliceCaseReducersByType)throw new Error(na(13));return g.sliceCaseReducersByType[re]=$,_},addMatcher(ee,$){return g.sliceMatchers.push({matcher:ee,reducer:$}),_},exposeAction(ee,$){return g.actionCreators[ee]=$,_},exposeCaseReducer(ee,$){return g.sliceCaseReducersByName[ee]=$,_}};p.forEach(ee=>{const $=d[ee],re={reducerName:ee,type:kL(l,ee),createNotation:typeof o.reducers=="function"};FL($)?qL(re,$,_,e):BL(re,$,_)});function E(){const[ee={},$=[],re=void 0]=typeof o.extraReducers=="function"?BR(o.extraReducers):[o.extraReducers],S={...ee,...g.sliceCaseReducersByType};return CL(o.initialState,w=>{for(let R in S)w.addCase(R,S[R]);for(let R of g.sliceMatchers)w.addMatcher(R.matcher,R.reducer);for(let R of $)w.addMatcher(R.matcher,R.reducer);re&&w.addDefaultCase(re)})}const b=ee=>ee,I=new Map,P=new WeakMap;let z;function L(ee,$){return z||(z=E()),z(ee,$)}function G(){return z||(z=E()),z.getInitialState()}function q(ee,$=!1){function re(w){let R=w[ee];return typeof R>"u"&&$&&(R=sh(P,re,G)),R}function S(w=b){const R=sh(I,$,()=>new WeakMap);return sh(R,w,()=>{const D={};for(const[O,k]of Object.entries(o.selectors??{}))D[O]=jL(k,w,()=>sh(P,w,G),$);return D})}return{reducerPath:ee,getSelectors:S,get selectors(){return S(re)},selectSlice:re}}const K={name:l,reducer:L,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:G,...q(c),injectInto(ee,{reducerPath:$,...re}={}){const S=$??c;return ee.inject({reducerPath:S,reducer:L},re),{...K,...q(S,!0)}}};return K}}function jL(n,e,t,a){function o(l,...c){let d=e(l);return typeof d>"u"&&a&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var co=UL();function zL(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function BL({type:n,reducerName:e,createNotation:t},a,o){let l,c;if("reducer"in a){if(t&&!HL(a))throw new Error(na(17));l=a.reducer,c=a.prepare}else l=a;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?Yu(n,c):Yu(n))}function FL(n){return n._reducerDefinitionType==="asyncThunk"}function HL(n){return n._reducerDefinitionType==="reducerWithPrepare"}function qL({type:n,reducerName:e},t,a,o){if(!o)throw new Error(na(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:g,options:_}=t,E=o(n,l,_);a.exposeAction(e,E),c&&a.addCase(E.fulfilled,c),d&&a.addCase(E.pending,d),p&&a.addCase(E.rejected,p),g&&a.addMatcher(E.settled,g),a.exposeCaseReducer(e,{fulfilled:c||oh,pending:d||oh,rejected:p||oh,settled:g||oh})}function oh(){}function na(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const GL={positions:[],loading:!1,error:null,fetched:!1},Zs=er("positions/fetchPositions",async(n,{rejectWithValue:e})=>{try{const t=Zn(pn,"metadata","positions"),a=await wc(t);if(a.exists()){const o=a.data();return Array.isArray(o.list)?o.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch positions")}}),FR=er("positions/updatePositions",async(n,{rejectWithValue:e})=>{try{const t=Zn(pn,"metadata","positions");return await Ac(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update positions")}}),KL=co({name:"positions",initialState:GL,reducers:{},extraReducers:n=>{n.addCase(Zs.pending,e=>{e.loading=!0,e.error=null}).addCase(Zs.fulfilled,(e,t)=>{e.positions=t.payload,e.loading=!1,e.fetched=!0}).addCase(Zs.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(FR.fulfilled,(e,t)=>{e.positions=t.payload})}}),$L=KL.reducer,YL={teams:[],loading:!1,error:null,fetched:!1},dl=er("teams/fetchTeams",async(n,{rejectWithValue:e})=>{try{const t=Zn(pn,"metadata","teams"),a=await wc(t);if(a.exists()){const o=a.data();return Array.isArray(o.list)?o.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch teams")}}),bh=er("teams/updateTeams",async(n,{rejectWithValue:e})=>{try{const t=Zn(pn,"metadata","teams");return await Ac(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update teams")}}),HR=co({name:"teams",initialState:YL,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(dl.pending,e=>{e.loading=!0,e.error=null}).addCase(dl.fulfilled,(e,t)=>{e.teams=t.payload,e.loading=!1,e.fetched=!0}).addCase(dl.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(bh.pending,e=>{e.error=null}).addCase(bh.fulfilled,(e,t)=>{e.teams=t.payload}).addCase(bh.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:eU}=HR.actions,QL=HR.reducer,XL=()=>{const n=ua(),{firebaseUser:e,userData:t,loading:a}=Dt(c=>c.auth),{fetched:o}=Dt(c=>c.teams),{fetched:l}=Dt(c=>c.positions);return B.useEffect(()=>{e&&(o||n(dl()),l||n(Zs()))},[n,e,o,l]),a?N.jsx(wl,{}):e?t?t.isApproved?N.jsx(Xb,{}):N.jsx(es,{to:"/guest",replace:!0}):N.jsx(wl,{}):N.jsx(es,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=(...n)=>n.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=n=>{const e=JL(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=B.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d},p)=>B.createElement("svg",{ref:p,...ZL,width:e,height:e,stroke:n,strokeWidth:a?Number(t)*24/Number(e):t,className:qR("lucide",o),...!l&&!ek(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>B.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=(n,e)=>{const t=B.forwardRef(({className:a,...o},l)=>B.createElement(tk,{ref:l,iconNode:e,className:qR(`lucide-${WL(hb(n))}`,`lucide-${n}`,a),...o}));return t.displayName=hb(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GR=Vl("chevron-up",nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],KR=Vl("corner-down-right",rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ak=Vl("moon",ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],ok=Vl("panel-left-close",sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],uk=Vl("panel-left-open",lk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fk=Vl("sun",ck),hk={isMobileSidebarOpen:!1,isDesktopSidebarExpanded:!0,expandedTeams:[]},$R=co({name:"ui",initialState:hk,reducers:{setMobileSidebarOpen:(n,e)=>{n.isMobileSidebarOpen=e.payload},setDesktopSidebarExpanded:(n,e)=>{n.isDesktopSidebarExpanded=e.payload},toggleTeamExpansion:(n,e)=>{const t=e.payload,a=n.expandedTeams.indexOf(t);a>=0?n.expandedTeams.splice(a,1):n.expandedTeams.push(t)}}}),{setMobileSidebarOpen:wh,setDesktopSidebarExpanded:dk,toggleTeamExpansion:mk}=$R.actions,pk=$R.reducer,gk=()=>{const n=B.useContext(CR);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},p_=({showText:n})=>{const{theme:e,toggleTheme:t}=gk();return N.jsxs("button",{className:"theme-toggle-button",onClick:t,"aria-label":"Toggle theme",children:[e==="dark"?N.jsx(fk,{size:20}):N.jsx(ak,{size:20}),n&&N.jsx("span",{children:"Toggle theme"})]})},yk=({title:n})=>{const e=ua(),{isMobileSidebarOpen:t}=Dt(a=>a.ui);return N.jsxs("header",{className:"mobile-header",children:[N.jsxs("div",{className:`mobile-header-pill ${t?"mobile-header-pill-active":""}`,onClick:()=>e(wh(!t)),children:[N.jsx("span",{className:"mobile-header-text",children:n}),N.jsx(GR,{className:`mobile-header-chevron ${t?"rotate":""}`})]}),N.jsx(p_,{})]})};var _r=(n=>(n.ROSTER="roster",n.SETTINGS="settings",n))(_r||{}),sl=(n=>(n.PROFILE="Profile",n.USER_MANAGEMENT="Users",n.POSITIONS="Positions",n.TEAMS="Teams",n))(sl||{});const YR=[{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],_g=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],_k=()=>{const n=hc(),t=ei().pathname.includes("/settings")?_r.SETTINGS:_r.ROSTER,a=o=>{n(`/app/${o}`)};return N.jsx("nav",{className:"bottom-nav-container",children:N.jsx("div",{className:"bottom-nav",children:YR.map(o=>N.jsxs("button",{className:`bottom-nav-btn ${t===o.id?"bottom-nav-btn-active":""}`,onClick:()=>a(o.id),children:[N.jsx("span",{children:o.icon}),N.jsx("span",{children:o.label})]},o.id))})})},vk=()=>{var K;const n=hc(),e=ei(),t=fd(),a=ua(),{userData:o}=Dt(ee=>ee.auth),{isDesktopSidebarExpanded:l,expandedTeams:c}=Dt(ee=>ee.ui),{teams:d,fetched:p,loading:g}=Dt(ee=>ee.teams),{fetched:_}=Dt(ee=>ee.positions),E=e.pathname.includes("/settings")?_r.SETTINGS:_r.ROSTER,{teamName:b,positionName:I,section:P}=t,z=I||P;B.useEffect(()=>{p||a(dl()),_||a(Zs())},[a,p,_]);const L=B.useCallback(ee=>{n(ee)},[n]),G=ee=>{a(mk(ee))},q=()=>{const ee=E===_r.ROSTER?{label:"Roster"}:_g.find(re=>re.id===z)||{label:"Settings"},$=ee?ee.label:"GIG ROSTER";return b&&z?`${b}  ${z}`:b||(z?`${$}  ${z}`:$)};return N.jsxs("aside",{className:"side-nav",children:[N.jsxs("div",{className:"sidebar-content",children:[N.jsxs("div",{className:"tablet-sidebar-header",children:[l&&N.jsx("h3",{children:q()}),N.jsx("button",{className:"sidebar-toggle-button",onClick:()=>a(dk(!l)),"aria-label":l?"Collapse sidebar":"Expand sidebar",children:l?N.jsx(ok,{size:20}):N.jsx(uk,{size:20})})]}),N.jsxs("nav",{className:"side-menu-list",children:[E===_r.ROSTER&&g&&N.jsx("div",{className:"side-nav-item loading",children:"Loading teams..."}),E===_r.ROSTER?(K=o==null?void 0:o.teams)==null?void 0:K.map(ee=>{var w,R;const $=d.find(D=>D.name===ee);if(!$)return null;const re=o.teams.length===1,S=re||c.includes($.name);return N.jsxs("div",{children:[!re&&N.jsxs("div",{className:"sidenav-menu-subheading sidenav-menu-subheading-clickable",style:{cursor:"pointer"},onClick:()=>G($.name),children:[N.jsxs("div",{children:[$.emoji," ",l&&$.name]}),N.jsx("span",{className:"expand-icon",children:S?"":""})]}),S&&((R=(w=$.positions)==null?void 0:w.filter(D=>!D.parentId))==null?void 0:R.map(D=>{const O=z===D.name&&b===$.name;return N.jsxs("button",{className:`side-nav-item side-nav-item-sub ${O?"side-nav-item-active":""}`,onClick:()=>{L(`/app/roster/${$.name}/${D.name}`),a(wh(!1))},style:{borderLeft:O?`4px solid ${D.colour}`:"4px solid transparent",backgroundColor:O?`${D.colour}15`:"transparent",color:O?D.colour:""},children:[N.jsx("span",{className:"side-emoji",children:D.emoji})," ",l&&D.name]},D.name)}))]},$.name)}):_g.filter(ee=>!ee.adminOnly).map(ee=>N.jsxs("button",{className:`side-nav-item ${z===ee.id?"side-nav-item-active":""}`,onClick:()=>{L(`/app/settings/${ee.id}`),a(wh(!1))},children:[N.jsx("span",{className:"side-emoji",children:ee.icon})," ",l&&ee.label]},ee.id))]})]}),(o==null?void 0:o.isAdmin)&&E===_r.SETTINGS&&N.jsxs("div",{className:"admin-only-section-wrapper",children:[N.jsx("div",{className:"sidenav-menu-subheading",children:l&&N.jsx("h4",{children:"Admin Only"})}),_g.filter(ee=>ee.adminOnly).map(ee=>N.jsxs("button",{className:`side-nav-item ${z===ee.id?"side-nav-item-active":""}`,onClick:()=>{L(`/app/settings/${ee.id}`),a(wh(!1))},children:[N.jsx("span",{className:"side-emoji",children:ee.icon})," ",l&&ee.label]},ee.id))]}),N.jsx("div",{className:"sidebar-footer",children:N.jsx(p_,{showText:l})})]})},Ek=()=>{const n=hc(),e=ei(),t=fd(),{userData:a}=Dt(P=>P.auth),{teams:o}=Dt(P=>P.teams),{isMobileSidebarOpen:l,isDesktopSidebarExpanded:c}=Dt(P=>P.ui),d=e.pathname.includes("/settings")?_r.SETTINGS:_r.ROSTER,{teamName:p,positionName:g,section:_}=t,E=g||_||null;B.useEffect(()=>{if(d===_r.ROSTER&&!p&&!E){if(a!=null&&a.teams&&a.teams.length>0&&o.length>0){const P=a.teams[0],z=o.find(L=>L.name===P);z&&z.positions&&z.positions.length>0&&n(`/app/roster/${z.name}/${z.positions[0].name}`,{replace:!0})}}else d===_r.SETTINGS&&!E&&n(`/app/settings/${sl.PROFILE}`,{replace:!0})},[d,p,E,a,o,n]);const b=()=>{const P=YR.find(L=>L.id===d),z=P?P.label:"GIG ROSTER";return p&&E?`${p}  ${E}`:p||(E?`${z}  ${E}`:z)},I=["app-shell",l?"menu-open":"",c?"sidebar-expanded":"sidebar-collapsed"].filter(Boolean).join(" ");return N.jsxs(N.Fragment,{children:[N.jsx(yk,{title:b()}),N.jsxs("div",{className:I,children:[N.jsx(vk,{}),N.jsx("main",{className:"main-content",children:N.jsx("div",{className:"content-container",children:N.jsx(Xb,{})})}),N.jsx(_k,{})]})]})},_i=({children:n,nowrap:e})=>N.jsx("div",{className:`pill-group ${e?"pill-group-nowrap":""}`,children:n}),vr=({colour:n,isDropdown:e,isActive:t,isDisabled:a,minWidth:o,onClick:l,children:c})=>{const[d,p]=B.useState(!1);return n&&n.startsWith("var(--color-")&&(n=getComputedStyle(document.documentElement).getPropertyValue(n.slice(4,-1)).trim()),N.jsxs("div",{className:`pill pill--text ${t?"pill-active":""} ${a?"pill-disabled":""}`,style:{"--pill-colour":n||"var(--color-link)","--pill-subtle-hover-color":`${n}15`,minWidth:o?`${o}px`:"fit-content"},onClick:g=>{a||(p(_=>!_),l&&l(g))},children:[c,e&&N.jsx(GR,{style:{rotate:d?"90deg":"0"}})]})},QR=n=>{const e=[];return Object.entries(n).forEach(([t,a])=>{a.forEach(o=>{e.push(`${t}|${o}`)})}),e},Tk={firebaseUser:null,userData:null,loading:!0,error:null},Ah=er("auth/initializeUserData",async(n,{rejectWithValue:e})=>{try{const t=Zn(pn,"users",n),a=await wc(t);if(!a.exists()){const o="chris.sm.kang542@gmail.com",l=bl.currentUser,c=(l==null?void 0:l.email)===o,d={name:(l==null?void 0:l.displayName)||null,email:(l==null?void 0:l.email)||null,isApproved:c,isAdmin:c,isActive:!0,teams:[],teamPositions:{},indexedAssignments:[],gender:""};return await YA(t,d),d}return a.data()}catch(t){return e(t instanceof Error?t.message:"Unknown error")}}),Rh=er("auth/updateUserProfile",async({uid:n,data:e},{rejectWithValue:t})=>{try{const a=Zn(pn,"users",n),o={...e};return o.teamPositions&&(o.indexedAssignments=QR(o.teamPositions)),await Ac(a,o),o}catch(a){return t(a instanceof Error?a.message:"Failed to update profile")}}),XR=co({name:"auth",initialState:Tk,reducers:{setUser:(n,e)=>{n.firebaseUser=e.payload},setUserData:(n,e)=>{n.userData=e.payload},setLoading:(n,e)=>{n.loading=e.payload},logout:n=>{n.firebaseUser=null,n.userData=null,n.loading=!1}},extraReducers:n=>{n.addCase(Ah.pending,e=>{e.loading=!0,e.error=null}).addCase(Ah.fulfilled,(e,t)=>{e.userData=t.payload,e.loading=!1}).addCase(Ah.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Rh.pending,e=>{e.error=null}).addCase(Rh.fulfilled,(e,t)=>{e.userData&&(e.userData={...e.userData,...t.payload})}).addCase(Rh.rejected,(e,t)=>{e.error=t.payload})}}),{setUser:Sk,setUserData:bk,setLoading:tU,logout:wk}=XR.actions,Ak=XR.reducer,WR=()=>{const n=ua(),{userData:e,firebaseUser:t}=Dt(K=>K.auth),a=Dt(K=>K.teams.teams),[o,l]=B.useState((e==null?void 0:e.name)||""),[c,d]=B.useState((e==null?void 0:e.gender)||""),[p,g]=B.useState((e==null?void 0:e.isActive)??!0),[_,E]=B.useState((e==null?void 0:e.teams)||[]),[b,I]=B.useState((e==null?void 0:e.teamPositions)||{}),[P,z]=B.useState("idle"),L=async()=>{if(t){z("saving");try{const K={name:o,gender:c,isActive:p,teams:_,teamPositions:b};await n(Rh({uid:t.uid,data:K})).unwrap(),z("success"),setTimeout(()=>z("idle"),2e3)}catch(K){console.error(K),z("idle")}}},G=K=>{E(ee=>{const $=ee.includes(K),re=$?ee.filter(S=>S!==K):[...ee,K];return I(S=>{const w={...S};return $?delete w[K]:w[K]||(w[K]=[]),w}),re})},q=(K,ee)=>{I($=>{const re=$[K]||[],S=re.includes(ee)?re.filter(w=>w!==ee):[...re,ee];return{...$,[K]:S}})};return e?N.jsxs("section",{className:"profile-card",children:[N.jsx("div",{className:"profile-readonly",children:N.jsxs("p",{children:[N.jsx("strong",{children:"Email:"})," ",e.email]})}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Name"}),N.jsx(_i,{children:N.jsx("input",{type:"text",value:o,onChange:K=>l(K.target.value),className:"form-input form-input-width-auto"})})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Gender"}),N.jsx(_i,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(K=>N.jsx(vr,{colour:K.colour,onClick:()=>d(K.value),isActive:c===K.value,children:K.value},K.value))})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"My Teams"}),N.jsx(_i,{children:a.map(K=>{const ee=_.includes(K.name);return N.jsxs(vr,{onClick:()=>G(K.name),isActive:ee,children:[N.jsx("span",{children:K.emoji})," ",K.name]},K.name)})})]}),_.length>0&&N.jsxs("div",{className:"team-positions-section",children:[N.jsx("label",{className:"section-label",children:"Positions per Team"}),_.map(K=>{var $,re;const ee=a.find(S=>S.name===K);return ee?N.jsxs("div",{className:"team-position-group",children:[N.jsxs("div",{className:"team-position-header",children:[ee.emoji," ",ee.name]}),N.jsx(_i,{children:(re=($=ee.positions)==null?void 0:$.filter(S=>!S.parentId))==null?void 0:re.map(S=>{var R;const w=(R=b[K])==null?void 0:R.includes(S.name);return N.jsxs(vr,{onClick:()=>q(K,S.name),isActive:w,colour:S.colour,children:[N.jsx("span",{children:S.emoji})," ",S.name]},S.name)})})]},K):null})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"Availability Status"}),N.jsx(vr,{colour:p?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>g(!p),isActive:!0,children:p?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),N.jsx("p",{className:"form-field-hint",children:"Turn off if you want to be hidden from the roster."})]}),N.jsxs("div",{className:"action-container",children:[N.jsx("button",{onClick:L,disabled:P!=="idle",className:`save-button ${P}`,children:P==="saving"?"Saving...":P==="success"?"Done ":"Update Profile"}),N.jsx("button",{onClick:()=>bl.signOut(),className:"logout-btn",children:"Logout"})]})]}):N.jsx("div",{children:"Loading profile..."})},Rk=()=>{const{userData:n,firebaseUser:e,loading:t}=Dt(a=>a.auth);return t?N.jsx(wl,{}):e?n?n.isApproved?N.jsx(es,{to:"/app",replace:!0}):N.jsxs("div",{className:"guest-container",children:[N.jsxs("header",{className:"guest-header",children:[N.jsx("h2",{className:"brand-title",children:"God is Good"}),N.jsx("p",{className:"pending-label",children:"PENDING ADMIN APPROVAL"}),N.jsx("div",{className:"guest-theme-toggle-container",children:N.jsx(p_,{})})]}),N.jsx(WR,{})]}):N.jsx(wl,{}):N.jsx(es,{to:"/login",replace:!0})},Ck=()=>{const{firebaseUser:n,loading:e}=Dt(a=>a.auth),t=()=>W4(bl,KP);return e?null:n?N.jsx(es,{to:"/",replace:!0}):N.jsxs("div",{className:"login-container",children:[N.jsxs("header",{className:"login-header",children:[N.jsx("h1",{className:"brand-title",children:"God is Good"}),N.jsx("p",{className:"brand-subtitle",children:"Worship Team Roster"})]}),N.jsx("div",{className:"login-button-container",children:N.jsxs("button",{onClick:t,className:"login-button google",children:[N.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},Ik=n=>{const e=[],t=new Date;t.setHours(0,0,0,0);const a=t.getFullYear(),o=new Date(a,11,31);o.setHours(0,0,0,0);const l={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c=n.map(_=>l[_]),d=new Date(t);let p=!1;for(;!p;)if(c.includes(d.getDay()))p=!0;else if(d.setDate(d.getDate()+1),d.getFullYear()>a)return[];const g=new Date(d);for(;g.getTime()<=o.getTime();)c.includes(g.getDay())&&e.push(new Date(g)),g.setDate(g.getDate()+1);return e.sort((_,E)=>_.getTime()-E.getTime()),e.map(_=>_.toISOString())},Dk={users:[],currentTeamData:null,rosterDates:[],loadingUsers:!1,loadingTeam:!1,error:null},Ch=er("rosterView/fetchUsers",async({teamName:n,positionName:e},{rejectWithValue:t,getState:a})=>{if(!n||!e)return[];try{const c=a().positions.positions.filter(I=>I.parentId===e),p=[e,...c.map(I=>I.name)].map(I=>`${n}|${I}`),g=Dd(pn,"users"),_=Jy(g,LV("indexedAssignments","array-contains-any",p)),E=await e_(_),b=[];return E.forEach(I=>{b.push(I.data())}),b.sort((I,P)=>(I.name||"").localeCompare(P.name||""))}catch(o){return console.error("Error fetching users:",o),t("Failed to load users.")}}),Ih=er("rosterView/fetchTeamData",async(n,{rejectWithValue:e})=>{if(!n)return null;try{const t=Zn(pn,"metadata","teams"),a=await wc(t);if(a.exists()){const o=a.data();return(Array.isArray(o.list)?o.list.map(d=>({...d,preferredDays:d.preferredDays||[],positions:d.positions||[]})):[]).find(d=>d.name===n)||null}return null}catch(t){return console.error("Error fetching team data:",t),e("Failed to load team data.")}}),Nk=co({name:"rosterView",initialState:Dk,reducers:{},extraReducers:n=>{n.addCase(Ch.pending,e=>{e.loadingUsers=!0,e.users=[],e.error=null}).addCase(Ch.fulfilled,(e,t)=>{e.users=t.payload,e.loadingUsers=!1}).addCase(Ch.rejected,(e,t)=>{e.error=t.payload,e.loadingUsers=!1}).addCase(Ih.pending,e=>{e.loadingTeam=!0,e.currentTeamData=null,e.rosterDates=[],e.error=null}).addCase(Ih.fulfilled,(e,t)=>{var a;e.currentTeamData=t.payload,(a=t.payload)!=null&&a.preferredDays&&(e.rosterDates=Ik(t.payload.preferredDays)),e.loadingTeam=!1}).addCase(Ih.rejected,(e,t)=>{e.error=t.payload,e.loadingTeam=!1})}}),Ok=Nk.reducer,xk=()=>{const n=ua(),{teamName:e,positionName:t}=fd(),{users:a,rosterDates:o,loadingUsers:l,loadingTeam:c,error:d}=Dt(p=>p.rosterView);return B.useEffect(()=>{t&&e&&n(Ch({teamName:e,positionName:t}))},[t,e,n]),B.useEffect(()=>{e&&n(Ih(e))},[e,n]),l||c?N.jsx(Dc,{}):d?N.jsxs("div",{className:"roster-table-error",children:["Error: ",d]}):a.length===0?N.jsx("div",{className:"roster-table-loading",children:"No users found for this position."}):N.jsx("div",{className:"roster-table-container",children:N.jsxs("table",{className:"roster-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{className:"roster-table-header-cell",children:"Date"}),a.map(p=>N.jsx("th",{className:"roster-table-header-cell",children:p.name},p.email))]})}),N.jsx("tbody",{children:o.map(p=>N.jsxs("tr",{children:[N.jsx("td",{children:new Date(p).toLocaleDateString()}),a.map(g=>N.jsx("td",{children:"-"},g.email))]},p))})]})})},Mk=()=>N.jsx("div",{className:"roster-page",style:{height:"100%"},children:N.jsx(xk,{})}),Vk=({text:n,textAlign:e="left",width:t,minWidth:a,isSticky:o=!1})=>N.jsx("th",{className:o?"sticky-col":void 0,style:{textAlign:e,width:t?`${t}px`:"auto",minWidth:a?`${a}px`:"auto"},children:n}),ln=({isSticky:n=!1,textAlign:e="left",className:t,children:a})=>N.jsx("td",{style:{textAlign:e},className:`${t||""} ${n?"sticky-col":""}
`,children:a}),vi=({name:n,value:e,placeholder:t,type:a="text",isSticky:o,isReadOnly:l=!1,isChild:c=!1,onChange:d})=>N.jsxs(ln,{isSticky:o,children:[c&&N.jsx(KR,{}),N.jsx("input",{name:n,className:"form-input",type:a,placeholder:t,value:e,onChange:d,readOnly:l})]}),db=({name:n,value:e,placeholder:t,onChange:a})=>N.jsxs(ln,{className:"color-picker-group",children:[N.jsx("input",{name:n,type:"color",value:e||"#FFFFFF",onChange:a}),N.jsx("input",{name:n,className:"form-input",value:e,placeholder:t,onChange:a})]}),g_=({headers:n,children:e})=>N.jsx("div",{className:"app-table-container",children:N.jsxs("table",{className:"app-table",children:[N.jsx("thead",{children:N.jsx("tr",{children:n.map((t,a)=>N.jsx(Vk,{...t},a))})}),N.jsx("tbody",{children:e})]})}),vg={name:"",emoji:"",colour:"",parentId:void 0},Pk=()=>{const n=ua(),{positions:e,fetched:t,loading:a}=Dt(L=>L.positions),[o,l]=B.useState(e),[c,d]=B.useState(vg),[p,g]=B.useState("idle");B.useEffect(()=>{t||n(Zs())},[n,t]),B.useEffect(()=>{l(e)},[e]);const _=(L,G,q)=>{const K=[...o];K[L]={...K[L],[G]:q},l(K)},E=(L,G)=>{const q=[...o],K=q[L],ee=K.parentId,$=re=>{const S=q[re];if(!S)return{block:[],startIndex:-1,endIndex:-1};const w=[],R=[S],D=new Set;let O=re,k=re,x=0;for(;x<R.length;){const Xe=R[x++];D.has(Xe.name)||(D.add(Xe.name),w.push(Xe),q.forEach((W,fe)=>{W.parentId===Xe.name&&!D.has(W.name)&&(R.push(W),O=Math.min(O,fe),k=Math.max(k,fe))}))}return{block:w,startIndex:O,endIndex:k}};if(ee){const re=q.filter(x=>x.parentId===ee),w=re.findIndex(x=>x.name===K.name)+(G==="up"?-1:1);if(w<0||w>=re.length)return;const R=re[w],D=q.indexOf(K),O=q.indexOf(R);if(D===-1||O===-1)return;const k=[...q];k[D]=R,k[O]=K,l(k)}else{const re=$(L),{block:S,startIndex:w,endIndex:R}=re;if(!S||S.length===0)return;if(G==="up"){if(w===0)return;let D=w-1;for(;D>=0&&q[D].parentId;)D--;if(D<0)return;const O=$(D),{block:k,startIndex:x}=O;if(!k||k.length===0)return;const xe=[...q.slice(0,x),...S,...k,...q.slice(R+1)].filter(Boolean);l(xe)}else{if(R===q.length-1)return;let D=R+1;for(;D<q.length&&q[D].parentId;)D++;if(D>=q.length)return;const O=$(D),{block:k,startIndex:x}=O;if(!k||k.length===0)return;const xe=[...q.slice(0,w),...k,...S,...q.slice(x+k.length)].filter(Boolean);l(xe)}}},b=()=>{if(!c.name.trim()||!c.emoji.trim())return alert("Please provide both an emoji and a name.");l([...o,c]),d(vg)},I=L=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const G=o[L];let q=o.filter((K,ee)=>ee!==L);G.parentId||(q=q.filter(K=>K.parentId!==G.name)),l(q)}},P=async()=>{g("saving");try{const L=o.map(G=>({...G,parentId:G.parentId===void 0?void 0:G.parentId}));await n(FR(L)).unwrap(),g("success"),setTimeout(()=>g("idle"),2e3)}catch(L){console.error("Save Error:",L),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),g("idle")}},z=L=>{l(G=>{const q={...vg,parentId:L},K=G.findIndex(re=>re.name===L);if(K===-1)return[...G,q];let ee=K;for(;ee+1<G.length&&G[ee+1].parentId===L;)ee++;return[...G.slice(0,ee+1),q,...G.slice(ee+1)]})};return a?N.jsx(Dc,{}):N.jsxs(N.Fragment,{children:[N.jsxs(g_,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:80},{text:"Colour",minWidth:100},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[o.map((L,G)=>N.jsxs("tr",{children:[N.jsx(ln,{textAlign:"center",children:L.parentId?N.jsx(KR,{}):N.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>E(G,"up"),disabled:G===0,children:""}),N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>E(G,"down"),disabled:G===o.length-1,children:""})]})}),N.jsx(vi,{name:`emoji-${G}`,value:L.emoji,onChange:q=>_(G,"emoji",q.target.value)}),N.jsx(vi,{name:`name-${G}`,value:L.name,onChange:q=>_(G,"name",q.target.value)}),N.jsx(db,{name:`colour-${G}`,value:L.colour,onChange:q=>_(G,"colour",q.target.value)}),N.jsx(ln,{textAlign:"center",children:!L.parentId&&N.jsx("button",{className:"icon-button icon-button--add-child",onClick:()=>z(L.name),title:"Add Child Position",children:"+"})}),N.jsx(ln,{textAlign:"center",children:N.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>I(G),children:""})})]},`${L.emoji}-${G}`)),N.jsxs("tr",{className:"pos-row-new",children:[N.jsx("td",{className:"",children:""}),N.jsx(vi,{name:"new-emoji",value:c.emoji,placeholder:"",onChange:L=>d({...c,emoji:L.target.value})}),N.jsx(vi,{name:"new-name",value:c.name,placeholder:"Position Name",onChange:L=>d({...c,name:L.target.value})}),N.jsx(db,{name:"new-colour",value:c.colour,placeholder:"#FFFFFF",onChange:L=>d({...c,colour:L.target.value})}),N.jsx("td",{className:""}),N.jsx(ln,{textAlign:"center",children:N.jsx("button",{onClick:b,className:"icon-button icon-button--add",disabled:!c.name.trim()||!c.emoji.trim(),children:"Add"})})]})]}),N.jsx("div",{className:"settings-footer",children:N.jsx("button",{className:`save-button ${p}`,onClick:P,disabled:p!=="idle",children:p==="saving"?"Saving...":p==="success"?"Done ":"Save"})})]})},mb={name:"",emoji:"",positions:[],preferredDays:[]},pb=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Lk=()=>{var ee;const n=ua(),{teams:e,fetched:t,loading:a}=Dt($=>$.teams),{positions:o,fetched:l,loading:c}=Dt($=>$.positions),[d,p]=B.useState(e),[g,_]=B.useState(mb),[E,b]=B.useState("idle");B.useEffect(()=>{t||n(dl()),l||n(Zs())},[n,t,l]),B.useEffect(()=>{p(e)},[e]);const I=($,re,S)=>{const w=[...d];w[$]={...w[$],[re]:S},p(w)},P=($,re)=>{const S=[...d],w=re==="up"?$-1:$+1;if(w<0||w>=S.length)return;const R=S[$];S[$]=S[w],S[w]=R,p(S)},z=($,re)=>{const S=d.map((w,R)=>{if(R!==$)return w;const D=w.positions||[],O=D.find(k=>k.name===re.name)?D.filter(k=>k.name!==re.name):[...D,re];return{...w,positions:O}});p(S)},L=($,re)=>{const S=d.map((w,R)=>{if(R!==$)return w;const D=w.preferredDays||[],O=D.includes(re)?D.filter(k=>k!==re):[...D,re];return{...w,preferredDays:O}});p(S)},G=()=>{if(!g.name.trim()||!g.emoji.trim())return alert("Please provide both an emoji and a name for the team.");p([...d,g]),_(mb)},q=$=>{window.confirm("Are you sure you want to delete this team?")&&p(d.filter((re,S)=>S!==$))},K=async()=>{b("saving");try{await n(bh(d)).unwrap(),b("success"),setTimeout(()=>b("idle"),2e3)}catch($){console.error("Save Error:",$),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),b("idle")}};return a||c?N.jsx(Dc,{}):N.jsxs(N.Fragment,{children:[N.jsxs(g_,{headers:[{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Name",minWidth:100},{text:"Allowed Positions",minWidth:200},{text:"Preferred Days",minWidth:250},{text:"",width:50}],children:[d.map(($,re)=>{var S;return N.jsxs("tr",{children:[N.jsxs(ln,{children:[" ",N.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>P(re,"up"),disabled:re===0,children:""}),N.jsx("button",{className:"icon-button icon-button--small icon-button--secondary",onClick:()=>P(re,"down"),disabled:re===d.length-1,children:""})]})]}),N.jsx(vi,{name:`team-emoji-${re}`,value:$.emoji,onChange:w=>I(re,"emoji",w.target.value)}),N.jsx(vi,{name:`team-name-${re}`,value:$.name,onChange:w=>I(re,"name",w.target.value)}),N.jsx(ln,{children:N.jsx(_i,{nowrap:!0,children:(S=o==null?void 0:o.filter(w=>!w.parentId))==null?void 0:S.map(w=>{var D;const R=(D=$.positions)==null?void 0:D.some(O=>O.name===w.name);return N.jsx(vr,{colour:w.colour,isActive:R,onClick:()=>z(re,w),children:w.emoji},w.name)})})}),N.jsx(ln,{children:N.jsx(_i,{nowrap:!0,children:pb.map(w=>{var D;const R=(D=$.preferredDays)==null?void 0:D.includes(w);return N.jsx(vr,{isActive:R,onClick:()=>L(re,w),children:w.substring(0,3)},w)})})}),N.jsx(ln,{children:N.jsx("button",{className:"icon-button icon-button--delete",onClick:()=>q(re),children:""})})]},`${$.emoji}-${re}`)}),N.jsxs("tr",{className:"team-row-new",children:[N.jsx("td",{className:"",children:""}),N.jsx(vi,{name:"new-team-emoji",value:g.emoji,placeholder:"",onChange:$=>_({...g,emoji:$.target.value})}),N.jsx(vi,{name:"new-team-name",value:g.name,placeholder:"Team Name",onChange:$=>_({...g,name:$.target.value})}),N.jsx(ln,{children:N.jsx(_i,{nowrap:!0,children:(ee=o==null?void 0:o.filter($=>!$.parentId))==null?void 0:ee.map($=>{var S;const re=(S=g.positions)==null?void 0:S.some(w=>w.name===$.name);return N.jsx(vr,{colour:$.colour,isActive:re,onClick:()=>_(w=>{const R=w.positions||[],D=R.some(O=>O.name===$.name)?R.filter(O=>O.name!==$.name):[...R,$];return{...w,positions:D}}),children:$.emoji},`new-${$.name}`)})})}),N.jsx(ln,{children:N.jsx(_i,{nowrap:!0,children:pb.map($=>{var S;const re=(S=g.preferredDays)==null?void 0:S.includes($);return N.jsx(vr,{isActive:re,onClick:()=>_(w=>{const R=w.preferredDays||[],D=R.includes($)?R.filter(O=>O!==$):[...R,$];return{...w,preferredDays:D}}),children:$.substring(0,3)},`new-team-${$}`)})})}),N.jsx(ln,{children:N.jsx("button",{onClick:G,className:"icon-button icon-button--add",disabled:!g.name.trim()||!g.emoji.trim(),children:"+"})})]})]}),N.jsx("div",{className:"settings-footer",children:N.jsx("button",{className:`save-button ${E}`,onClick:K,disabled:E!=="idle",children:E==="saving"?"Saving...":E==="success"?"Done ":"Save All Team Changes"})})]})},kk={allUsers:[],loading:!1,saving:!1,error:null},Dh=er("userManagement/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=Dd(pn,"users"),a=Jy(t),o=await e_(a),l=[];return o.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch all users")}}),Nh=er("userManagement/saveAllChanges",async(n,{rejectWithValue:e})=>{try{const t=BV(pn);n.forEach(a=>{const{id:o,...l}=a;l.teamPositions&&(l.indexedAssignments=QR(l.teamPositions)),t.update(Zn(pn,"users",o),l)}),await t.commit();return}catch(t){return e(t instanceof Error?t.message:"Failed to save changes")}}),JR=co({name:"userManagement",initialState:kk,reducers:{updateUserField(n,e){const{id:t,field:a,value:o}=e.payload,l=n.allUsers.find(c=>c.id===t);l&&(l[a]=o)},toggleUserTeam(n,e){const{userId:t,teamName:a}=e.payload,o=n.allUsers.find(l=>l.id===t);if(o){const l=o.teams||[],c=l.includes(a)?l.filter(d=>d!==a):[...l,a];o.teams=c,o.teamPositions||(o.teamPositions={}),c.includes(a)?o.teamPositions[a]||(o.teamPositions[a]=[]):delete o.teamPositions[a]}},toggleUserTeamPosition(n,e){const{userId:t,teamName:a,posName:o}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l){l.teamPositions||(l.teamPositions={}),l.teamPositions[a]||(l.teamPositions[a]=[]);const c=l.teamPositions[a],d=c.includes(o)?c.filter(p=>p!==o):[...c,o];l.teamPositions[a]=d}}},extraReducers:n=>{n.addCase(Dh.pending,e=>{e.loading=!0,e.error=null}).addCase(Dh.fulfilled,(e,t)=>{e.allUsers=t.payload,e.loading=!1}).addCase(Dh.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Nh.pending,e=>{e.saving=!0,e.error=null}).addCase(Nh.fulfilled,e=>{e.saving=!1}).addCase(Nh.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{updateUserField:Uk,toggleUserTeam:jk,toggleUserTeamPosition:zk}=JR.actions,Bk=JR.reducer,Fk=({user:n,availableTeams:e,adminEmail:t})=>{var d;const a=ua(),o=(p,g)=>{a(Uk({id:n.id,field:p,value:g}))},l=p=>{a(jk({userId:n.id,teamName:p}))},c=(p,g)=>{a(zk({userId:n.id,teamName:p,posName:g}))};return N.jsxs("tr",{children:[N.jsx(vi,{name:`name-${n.id}`,value:n.name||"",onChange:p=>o("name",p.target.value),isSticky:!0}),N.jsx(vi,{name:`email-${n.id}`,value:n.email||"",isReadOnly:!0}),N.jsx(ln,{children:N.jsxs("select",{name:`gender-${n.id}`,className:"form-select",value:n.gender,onChange:p=>o("gender",p.target.value),children:[N.jsx("option",{value:"",children:"-"}),N.jsx("option",{value:"Male",children:"Male"}),N.jsx("option",{value:"Female",children:"Female"})]})}),N.jsx(ln,{children:N.jsx(_i,{children:e.map(p=>{var _;const g=(_=n.teams)==null?void 0:_.includes(p.name);return N.jsxs(vr,{onClick:()=>l(p.name),isActive:g,children:[N.jsx("span",{children:p.emoji})," ",p.name]},p.name)})})}),N.jsx(ln,{children:(d=n.teams)==null?void 0:d.map(p=>{var _,E;const g=e.find(b=>b.name===p);return g?N.jsxs("div",{style:{marginBottom:"12px"},children:[N.jsxs("div",{style:{fontSize:"0.65rem",fontWeight:"bold",marginBottom:"4px",color:"var(--color-text-dim)",textTransform:"uppercase"},children:[g.emoji," ",g.name]}),N.jsx(_i,{children:(E=(_=g.positions)==null?void 0:_.filter(b=>!b.parentId))==null?void 0:E.map(b=>{var P,z;const I=(z=(P=n.teamPositions)==null?void 0:P[p])==null?void 0:z.includes(b.name);return N.jsx(vr,{colour:b.colour,isActive:I,onClick:()=>c(p,b.name),children:b.emoji},b.name)})})]},p):null})}),N.jsx(ln,{children:N.jsx(vr,{colour:n.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>o("isActive",!n.isActive),isActive:!0,children:n.isActive?"YES":"NO"})}),N.jsx(ln,{children:N.jsx(vr,{colour:n.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>o("isApproved",!n.isApproved),isActive:!0,children:n.isApproved?"YES":"NO"})}),N.jsx(ln,{children:N.jsx(vr,{colour:n.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>o("isAdmin",!n.isAdmin),isActive:!0,isDisabled:n.email===t,children:n.isAdmin?"YES":"NO"})})]},n.id)},Hk=()=>{const n=ua(),{allUsers:e,loading:t,saving:a,error:o}=Dt(d=>d.userManagement),l=Dt(d=>d.teams.teams);B.useEffect(()=>{n(Dh())},[n]);const c=()=>{n(Nh(e))};return t?N.jsx(Dc,{}):o?N.jsxs("div",{children:["Error: ",o]}):N.jsxs(N.Fragment,{children:[N.jsx(g_,{headers:[{text:"Name",minWidth:70,isSticky:!0},{text:"Email",minWidth:170},{text:"Gender",minWidth:90},{text:"Teams",minWidth:200},{text:"Positions",minWidth:200},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:e.map(d=>N.jsx(Fk,{user:d,availableTeams:l,adminEmail:"chris.sm.kang542@gmail.com"},d.id))}),N.jsx("div",{className:"settings-footer",children:N.jsx("button",{className:`save-button ${a?"saving":""}`,onClick:c,disabled:a,children:a?"Saving Changes...":"Save All User Changes"})})]})},qk=()=>{const{userData:n}=Dt(t=>t.auth),{section:e}=fd();return n?N.jsxs("div",{className:"settings-container",children:[e===sl.PROFILE&&N.jsx(WR,{}),e===sl.USER_MANAGEMENT&&(n.isAdmin?N.jsx(Hk,{}):N.jsx("p",{children:"Access Denied"})),e===sl.TEAMS&&(n.isAdmin?N.jsx(Lk,{}):N.jsx("p",{children:"Access Denied"})),e===sl.POSITIONS&&(n.isAdmin?N.jsx(Pk,{}):N.jsx("p",{children:"Access Denied"}))]}):null},Gk=[{path:"/",element:N.jsx(YP,{})},{path:"/login",element:N.jsx(Ck,{})},{path:"/guest",element:N.jsx(Rk,{})},{path:"/app",element:N.jsx(XL,{}),children:[{path:"",element:N.jsx(Ek,{}),children:[{path:"roster/:teamName?/:positionName?",element:N.jsx(Mk,{})},{path:"settings/:section?",element:N.jsx(qk,{})}]}]}];let gb=!1;const Kk=n=>{if(!gb){gb=!0;let e;O4(bl,t=>{if(t){n.dispatch(Sk(t)),n.dispatch(Ah(t.uid));const a=Zn(pn,"users",t.uid);e=zV(a,o=>{if(o.exists()){const l=o.data();n.dispatch(bk(l))}})}else n.dispatch(wk()),e&&e()})}return e=>t=>e(t)},$k={entries:[],loading:!1,error:null},Eg=er("roster/fetchEntries",async(n,{rejectWithValue:e})=>{try{const t=Jy(Dd(pn,"roster"));return(await e_(t)).docs.map(o=>({...o.data(),id:o.id}))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch roster entries")}}),Tg=er("roster/createEntry",async(n,{rejectWithValue:e})=>{try{const t=Zn(Dd(pn,"roster"));return await YA(t,n),{...n,id:t.id}}catch(t){return e(t instanceof Error?t.message:"Failed to create roster entry")}}),yb=er("roster/updateEntry",async({id:n,data:e},{rejectWithValue:t})=>{try{const a=Zn(pn,"roster",n);return await Ac(a,e),{id:n,...e}}catch(a){return t(a instanceof Error?a.message:"Failed to update roster entry")}}),_b=er("roster/deleteEntry",async(n,{rejectWithValue:e})=>{try{return await jV(Zn(pn,"roster",n)),n}catch(t){return e(t instanceof Error?t.message:"Failed to delete roster entry")}}),ZR=co({name:"roster",initialState:$k,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(Eg.pending,e=>{e.loading=!0,e.error=null}).addCase(Eg.fulfilled,(e,t)=>{e.entries=t.payload,e.loading=!1}).addCase(Eg.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Tg.pending,e=>{e.error=null}).addCase(Tg.fulfilled,(e,t)=>{e.entries.push(t.payload)}).addCase(Tg.rejected,(e,t)=>{e.error=t.payload}).addCase(yb.fulfilled,(e,t)=>{const a=e.entries.findIndex(o=>o.id===t.payload.id);a!==-1&&(e.entries[a]={...e.entries[a],...t.payload})}).addCase(yb.rejected,(e,t)=>{e.error=t.payload}).addCase(_b.fulfilled,(e,t)=>{e.entries=e.entries.filter(a=>a.id!==t.payload)}).addCase(_b.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:nU}=ZR.actions,Yk=ZR.reducer,Qk=AL({reducer:{auth:Ak,positions:$L,roster:Yk,rosterView:Ok,teams:QL,ui:pk,userManagement:Bk},middleware:n=>n({serializableCheck:{ignoredActions:["auth/setUser"],ignoredPaths:["auth.firebaseUser"]}}).concat(Kk)}),Xk=b2(Gk,{basename:"/GIG_Roster/"});HC.createRoot(document.getElementById("root")).render(N.jsx(Eb.StrictMode,{children:N.jsx(iI,{store:Qk,children:N.jsx(U2,{children:N.jsx($P,{children:N.jsx(L2,{router:Xk})})})})}));
