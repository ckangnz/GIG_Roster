var iI=Object.defineProperty;var aI=(n,e,t)=>e in n?iI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var lg=(n,e,t)=>aI(n,typeof e!="symbol"?e+"":e,t);function sI(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function HS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ug={exports:{}},qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function oI(){if(ob)return qu;ob=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:a,key:c,ref:s!==void 0?s:null,props:l}}return qu.Fragment=e,qu.jsx=t,qu.jsxs=t,qu}var lb;function lI(){return lb||(lb=1,ug.exports=oI()),ug.exports}var A=lI(),cg={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function uI(){if(ub)return We;ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function Y(U,G,oe){this.props=U,this.context=G,this.refs=j,this.updater=oe||L}Y.prototype.isReactComponent={},Y.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},Y.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=Y.prototype;function K(U,G,oe){this.props=U,this.context=G,this.refs=j,this.updater=oe||L}var ee=K.prototype=new F;ee.constructor=K,z(ee,Y.prototype),ee.isPureReactComponent=!0;var ae=Array.isArray;function te(){}var S={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(U,G,oe){var ce=oe.ref;return{$$typeof:n,type:U,key:G,ref:ce!==void 0?ce:null,props:oe}}function O(U,G){return I(U.type,G,U.props)}function x(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(oe){return G[oe]})}var D=/\/+/g;function _e(U,G){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):G.toString(36)}function Ce(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(te,te):(U.status="pending",U.then(function(G){U.status==="pending"&&(U.status="fulfilled",U.value=G)},function(G){U.status==="pending"&&(U.status="rejected",U.reason=G)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function H(U,G,oe,ce,ge){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var Ue=!1;if(U===null)Ue=!0;else switch(Te){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(U.$$typeof){case n:case e:Ue=!0;break;case _:return Ue=U._init,H(Ue(U._payload),G,oe,ce,ge)}}if(Ue)return ge=ge(U),Ue=ce===""?"."+_e(U,0):ce,ae(ge)?(oe="",Ue!=null&&(oe=Ue.replace(D,"$&/")+"/"),H(ge,G,oe,"",function(Yt){return Yt})):ge!=null&&(x(ge)&&(ge=O(ge,oe+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+Ue)),G.push(ge)),1;Ue=0;var Ke=ce===""?".":ce+":";if(ae(U))for(var ot=0;ot<U.length;ot++)ce=U[ot],Te=Ke+_e(ce,ot),Ue+=H(ce,G,oe,Te,ge);else if(ot=R(U),typeof ot=="function")for(U=ot.call(U),ot=0;!(ce=U.next()).done;)ce=ce.value,Te=Ke+_e(ce,ot++),Ue+=H(ce,G,oe,Te,ge);else if(Te==="object"){if(typeof U.then=="function")return H(Ce(U),G,oe,ce,ge);throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function fe(U,G,oe){if(U==null)return U;var ce=[],ge=0;return H(U,ce,"","",function(Te){return G.call(oe,Te,ge++)}),ce}function pe(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(oe){(U._status===0||U._status===-1)&&(U._status=1,U._result=oe)},function(oe){(U._status===0||U._status===-1)&&(U._status=2,U._result=oe)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var Pe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Me={map:fe,forEach:function(U,G,oe){fe(U,function(){G.apply(this,arguments)},oe)},count:function(U){var G=0;return fe(U,function(){G++}),G},toArray:function(U){return fe(U,function(G){return G})||[]},only:function(U){if(!x(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return We.Activity=E,We.Children=Me,We.Component=Y,We.Fragment=t,We.Profiler=s,We.PureComponent=K,We.StrictMode=a,We.Suspense=p,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,We.__COMPILER_RUNTIME={__proto__:null,c:function(U){return S.H.useMemoCache(U)}},We.cache=function(U){return function(){return U.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(U,G,oe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=z({},U.props),ge=U.key;if(G!=null)for(Te in G.key!==void 0&&(ge=""+G.key),G)!w.call(G,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&G.ref===void 0||(ce[Te]=G[Te]);var Te=arguments.length-2;if(Te===1)ce.children=oe;else if(1<Te){for(var Ue=Array(Te),Ke=0;Ke<Te;Ke++)Ue[Ke]=arguments[Ke+2];ce.children=Ue}return I(U.type,ge,ce)},We.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},We.createElement=function(U,G,oe){var ce,ge={},Te=null;if(G!=null)for(ce in G.key!==void 0&&(Te=""+G.key),G)w.call(G,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=G[ce]);var Ue=arguments.length-2;if(Ue===1)ge.children=oe;else if(1<Ue){for(var Ke=Array(Ue),ot=0;ot<Ue;ot++)Ke[ot]=arguments[ot+2];ge.children=Ke}if(U&&U.defaultProps)for(ce in Ue=U.defaultProps,Ue)ge[ce]===void 0&&(ge[ce]=Ue[ce]);return I(U,Te,ge)},We.createRef=function(){return{current:null}},We.forwardRef=function(U){return{$$typeof:d,render:U}},We.isValidElement=x,We.lazy=function(U){return{$$typeof:_,_payload:{_status:-1,_result:U},_init:pe}},We.memo=function(U,G){return{$$typeof:g,type:U,compare:G===void 0?null:G}},We.startTransition=function(U){var G=S.T,oe={};S.T=oe;try{var ce=U(),ge=S.S;ge!==null&&ge(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(te,Pe)}catch(Te){Pe(Te)}finally{G!==null&&oe.types!==null&&(G.types=oe.types),S.T=G}},We.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},We.use=function(U){return S.H.use(U)},We.useActionState=function(U,G,oe){return S.H.useActionState(U,G,oe)},We.useCallback=function(U,G){return S.H.useCallback(U,G)},We.useContext=function(U){return S.H.useContext(U)},We.useDebugValue=function(){},We.useDeferredValue=function(U,G){return S.H.useDeferredValue(U,G)},We.useEffect=function(U,G){return S.H.useEffect(U,G)},We.useEffectEvent=function(U){return S.H.useEffectEvent(U)},We.useId=function(){return S.H.useId()},We.useImperativeHandle=function(U,G,oe){return S.H.useImperativeHandle(U,G,oe)},We.useInsertionEffect=function(U,G){return S.H.useInsertionEffect(U,G)},We.useLayoutEffect=function(U,G){return S.H.useLayoutEffect(U,G)},We.useMemo=function(U,G){return S.H.useMemo(U,G)},We.useOptimistic=function(U,G){return S.H.useOptimistic(U,G)},We.useReducer=function(U,G,oe){return S.H.useReducer(U,G,oe)},We.useRef=function(U){return S.H.useRef(U)},We.useState=function(U){return S.H.useState(U)},We.useSyncExternalStore=function(U,G,oe){return S.H.useSyncExternalStore(U,G,oe)},We.useTransition=function(){return S.H.useTransition()},We.version="19.2.4",We}var cb;function xd(){return cb||(cb=1,cg.exports=uI()),cg.exports}var P=xd();const qS=HS(P),cI=sI({__proto__:null,default:qS},[P]);var hg={exports:{}},Gu={},fg={exports:{}},dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function hI(){return hb||(hb=1,(function(n){function e(H,fe){var pe=H.length;H.push(fe);e:for(;0<pe;){var Pe=pe-1>>>1,Me=H[Pe];if(0<s(Me,fe))H[Pe]=fe,H[pe]=Me,pe=Pe;else break e}}function t(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var fe=H[0],pe=H.pop();if(pe!==fe){H[0]=pe;e:for(var Pe=0,Me=H.length,U=Me>>>1;Pe<U;){var G=2*(Pe+1)-1,oe=H[G],ce=G+1,ge=H[ce];if(0>s(oe,pe))ce<Me&&0>s(ge,oe)?(H[Pe]=ge,H[ce]=pe,Pe=ce):(H[Pe]=oe,H[G]=pe,Pe=G);else if(ce<Me&&0>s(ge,pe))H[Pe]=ge,H[ce]=pe,Pe=ce;else break e}}return fe}function s(H,fe){var pe=H.sortIndex-fe.sortIndex;return pe!==0?pe:H.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,E=null,b=3,R=!1,L=!1,z=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ee(H){for(var fe=t(g);fe!==null;){if(fe.callback===null)a(g);else if(fe.startTime<=H)a(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function ae(H){if(z=!1,ee(H),!L)if(t(p)!==null)L=!0,te||(te=!0,M());else{var fe=t(g);fe!==null&&Ce(ae,fe.startTime-H)}}var te=!1,S=-1,w=5,I=-1;function O(){return j?!0:!(n.unstable_now()-I<w)}function x(){if(j=!1,te){var H=n.unstable_now();I=H;var fe=!0;try{e:{L=!1,z&&(z=!1,F(S),S=-1),R=!0;var pe=b;try{t:{for(ee(H),E=t(p);E!==null&&!(E.expirationTime>H&&O());){var Pe=E.callback;if(typeof Pe=="function"){E.callback=null,b=E.priorityLevel;var Me=Pe(E.expirationTime<=H);if(H=n.unstable_now(),typeof Me=="function"){E.callback=Me,ee(H),fe=!0;break t}E===t(p)&&a(p),ee(H)}else a(p);E=t(p)}if(E!==null)fe=!0;else{var U=t(g);U!==null&&Ce(ae,U.startTime-H),fe=!1}}break e}finally{E=null,b=pe,R=!1}fe=void 0}}finally{fe?M():te=!1}}}var M;if(typeof K=="function")M=function(){K(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,_e=D.port2;D.port1.onmessage=x,M=function(){_e.postMessage(null)}}else M=function(){Y(x,0)};function Ce(H,fe){S=Y(function(){H(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(H){switch(b){case 1:case 2:case 3:var fe=3;break;default:fe=b}var pe=b;b=fe;try{return H()}finally{b=pe}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(H,fe){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pe=b;b=H;try{return fe()}finally{b=pe}},n.unstable_scheduleCallback=function(H,fe,pe){var Pe=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,H){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=pe+Me,H={id:_++,callback:fe,priorityLevel:H,startTime:pe,expirationTime:Me,sortIndex:-1},pe>Pe?(H.sortIndex=pe,e(g,H),t(p)===null&&H===t(g)&&(z?(F(S),S=-1):z=!0,Ce(ae,pe-Pe))):(H.sortIndex=Me,e(p,H),L||R||(L=!0,te||(te=!0,M()))),H},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(H){var fe=b;return function(){var pe=b;b=fe;try{return H.apply(this,arguments)}finally{b=pe}}}})(dg)),dg}var fb;function fI(){return fb||(fb=1,fg.exports=hI()),fg.exports}var mg={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function dI(){if(db)return Hn;db=1;var n=xd();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Hn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},Hn.flushSync=function(p){var g=c.T,_=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=_,a.d.f()}},Hn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Hn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Hn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:R}):_==="script"&&a.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Hn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Hn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);a.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Hn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Hn.requestFormReset=function(p){a.d.r(p)},Hn.unstable_batchedUpdates=function(p,g){return p(g)},Hn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Hn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Hn.version="19.2.4",Hn}var mb;function GS(){if(mb)return mg.exports;mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mg.exports=dI(),mg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function mI(){if(pb)return Gu;pb=1;var n=fI(),e=xd(),t=GS();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(a(188))}function g(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var o=r,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),r;if(m===u)return p(f),i;m=m.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=m;else{for(var v=!1,C=f.child;C;){if(C===o){v=!0,o=f,u=m;break}if(C===u){v=!0,u=f,o=m;break}C=C.sibling}if(!v){for(C=m.child;C;){if(C===o){v=!0,o=m,u=f;break}if(C===u){v=!0,u=m,o=f;break}C=C.sibling}if(!v)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?r:i}function _(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=_(r),i!==null)return i;r=r.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(r){return r===null||typeof r!="object"?null:(r=x&&r[x]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case Y:return"Profiler";case j:return"StrictMode";case ae:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case L:return"Portal";case K:return r.displayName||"Context";case F:return(r._context.displayName||"Context")+".Consumer";case ee:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case S:return i=r.displayName||null,i!==null?i:_e(r.type)||"Memo";case w:i=r._payload,r=r._init;try{return _e(r(i))}catch{}}return null}var Ce=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Pe=[],Me=-1;function U(r){return{current:r}}function G(r){0>Me||(r.current=Pe[Me],Pe[Me]=null,Me--)}function oe(r,i){Me++,Pe[Me]=r.current,r.current=i}var ce=U(null),ge=U(null),Te=U(null),Ue=U(null);function Ke(r,i){switch(oe(Te,i),oe(ge,r),oe(ce,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?NT(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=NT(i),r=xT(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}G(ce),oe(ce,r)}function ot(){G(ce),G(ge),G(Te)}function Yt(r){r.memoizedState!==null&&oe(Ue,r);var i=ce.current,o=xT(i,r.type);i!==o&&(oe(ge,r),oe(ce,o))}function In(r){ge.current===r&&(G(ce),G(ge)),Ue.current===r&&(G(Ue),zu._currentValue=pe)}var Et,Tn;function Qt(r){if(Et===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Et=i&&i[1]||"",Tn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+r+Tn}var ne=!1;function ye(r,i){if(!r||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var Z=ie}Reflect.construct(r,[],he)}else{try{he.call()}catch(ie){Z=ie}r.call(he.prototype)}}else{try{throw Error()}catch(ie){Z=ie}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&Z&&typeof ie.stack=="string")return[ie.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],C=m[1];if(v&&C){var k=v.split(`
`),W=C.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===W.length)for(u=k.length-1,f=W.length-1;1<=u&&0<=f&&k[u]!==W[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==W[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==W[f]){var se=`
`+k[u].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=u&&0<=f);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Qt(o):""}function Le(r,i){switch(r.tag){case 26:case 27:case 5:return Qt(r.type);case 16:return Qt("Lazy");case 13:return r.child!==i&&i!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return ye(r.type,!1);case 11:return ye(r.type.render,!1);case 1:return ye(r.type,!0);case 31:return Qt("Activity");default:return""}}function we(r){try{var i="",o=null;do i+=Le(r,o),o=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,Fe=n.unstable_scheduleCallback,Lt=n.unstable_cancelCallback,Rt=n.unstable_shouldYield,je=n.unstable_requestPaint,Ye=n.unstable_now,Dt=n.unstable_getCurrentPriorityLevel,nr=n.unstable_ImmediatePriority,Qn=n.unstable_UserBlockingPriority,an=n.unstable_NormalPriority,bn=n.unstable_LowPriority,Is=n.unstable_IdlePriority,wo=n.log,Ta=n.unstable_setDisableYieldValue,mr=null,Ut=null;function Xn(r){if(typeof wo=="function"&&Ta(r),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(mr,r)}catch{}}var Xt=Math.clz32?Math.clz32:Ns,Ds=Math.log,ba=Math.LN2;function Ns(r){return r>>>=0,r===0?32:31-(Ds(r)/ba|0)|0}var Wn=256,gi=262144,Wt=4194304;function Vr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function pr(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var C=u&134217727;return C!==0?(u=C&~m,u!==0?f=Vr(u):(v&=C,v!==0?f=Vr(v):o||(o=C&~r,o!==0&&(f=Vr(o))))):(C=u&~m,C!==0?f=Vr(C):v!==0?f=Vr(v):o||(o=u&~r,o!==0&&(f=Vr(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function gr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ro(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(){var r=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),r}function Jn(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function yi(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Jl(r,i,o,u,f,m){var v=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,k=r.expirationTimes,W=r.hiddenUpdates;for(o=v&~o;0<o;){var se=31-Xt(o),he=1<<se;C[se]=0,k[se]=-1;var Z=W[se];if(Z!==null)for(W[se]=null,se=0;se<Z.length;se++){var ie=Z[se];ie!==null&&(ie.lane&=-536870913)}o&=~he}u!==0&&Fi(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(v&~i))}function Fi(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Xt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function V(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-Xt(o),f=1<<u;f&i|r[u]&i&&(r[u]|=i),o&=~f}}function q(r,i){var o=i&-i;return o=(o&42)!==0?1:J(o),(o&(r.suspendedLanes|i))!==0?0:o}function J(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function me(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ve(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:eb(r.type))}function Ie(r,i){var o=fe.p;try{return fe.p=r,i()}finally{fe.p=o}}var xe=Math.random().toString(36).slice(2),Ee="__reactFiber$"+xe,Se="__reactProps$"+xe,Ne="__reactContainer$"+xe,qe="__reactEvents$"+xe,ke="__reactListeners$"+xe,Qe="__reactHandles$"+xe,it="__reactResources$"+xe,Nt="__reactMarker$"+xe;function qt(r){delete r[Ee],delete r[Se],delete r[qe],delete r[ke],delete r[Qe]}function zt(r){var i=r[Ee];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Ne]||o[Ee]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=UT(r);r!==null;){if(o=r[Ee])return o;r=UT(r)}return i}r=o,o=r.parentNode}return null}function tt(r){if(r=r[Ee]||r[Ne]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Bt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Dn(r){var i=r[it];return i||(i=r[it]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ft(r){r[Nt]=!0}var rr=new Set,Bn={};function ir(r,i){Fn(r,i),Fn(r+"Capture",i)}function Fn(r,i){for(Bn[r]=i,r=0;r<i.length;r++)rr.add(i[r])}var yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_i={},vi={};function st(r){return Ae.call(vi,r)?!0:Ae.call(_i,r)?!1:yr.test(r)?vi[r]=!0:(_i[r]=!0,!1)}function en(r,i,o){if(st(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function dn(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function xt(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function nt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _r(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Sa(r,i,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){o=""+v,m.call(this,v)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Tt(r){if(!r._valueTracker){var i=_r(r)?"checked":"value";r._valueTracker=Sa(r,i,""+r[i])}}function xs(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=_r(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function Ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Os=/[\n"\\]/g;function ar(r){return r.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Co(r,i,o,u,f,m,v,C){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),i!=null?v==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+nt(i)):r.value!==""+nt(i)&&(r.value=""+nt(i)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),i!=null?Zl(r,v,nt(i)):o!=null?Zl(r,v,nt(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+nt(C):r.removeAttribute("name")}function Wc(r,i,o,u,f,m,v,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Tt(r);return}o=o!=null?""+nt(o):"",i=i!=null?""+nt(i):o,C||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=C?r.checked:!!u,r.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v),Tt(r)}function Zl(r,i,o){i==="number"&&Ei(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Aa(r,i,o,u){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+nt(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Jc(r,i,o){if(i!=null&&(i=""+nt(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+nt(o):""}function wa(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(Ce(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=nt(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Tt(r)}function sr(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||Zc.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function tu(r,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&eu(r,f,u)}else for(var m in i)i.hasOwnProperty(m)&&eu(r,m,i[m])}function Io(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(r){return Ra.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ti(){}var nu=null;function kr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ca=null,Ti=null;function Ms(r){var i=tt(r);if(i&&(r=i.stateNode)){var o=r[Se]||null;e:switch(r=i.stateNode,i.type){case"input":if(Co(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ar(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var f=u[Se]||null;if(!f)throw Error(a(90));Co(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&xs(u)}break e;case"textarea":Jc(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Aa(r,!!o.multiple,i,!1)}}}var No=!1;function Ia(r,i,o){if(No)return r(i,o);No=!0;try{var u=r(i);return u}finally{if(No=!1,(Ca!==null||Ti!==null)&&(Kh(),Ca&&(i=Ca,r=Ti,Ti=Ca=null,Ms(i),r)))for(i=0;i<r.length;i++)Ms(r[i])}}function ni(r,i){var o=r.stateNode;if(o===null)return null;var u=o[Se]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Lr)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Ps=!1}var bi=null,ru=null,Vs=null;function iu(){if(Vs)return Vs;var r,i=ru,o=i.length,u,f="value"in bi?bi.value:bi.textContent,m=f.length;for(r=0;r<o&&i[r]===f[r];r++);var v=o-r;for(u=1;u<=v&&i[o-u]===f[m-u];u++);return Vs=f.slice(r,1<u?1-u:void 0)}function ks(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Hi(){return!0}function ri(){return!1}function On(r){function i(o,u,f,m,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hi:ri,this.isPropagationStopped=ri,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=On(qi),Da=E({},qi,{view:0,detail:0}),au=On(Da),Na,xo,Ai,Oo=E({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ai&&(Ai&&r.type==="mousemove"?(Na=r.screenX-Ai.screenX,xo=r.screenY-Ai.screenY):xo=Na=0,Ai=r),Na)},movementY:function(r){return"movementY"in r?r.movementY:xo}}),su=On(Oo),Ls=E({},Oo,{dataTransfer:0}),th=On(Ls),nh=E({},Da,{relatedTarget:0}),Us=On(nh),ou=E({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=On(ou),Mo=E({},qi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ih=On(Mo),ah=E({},qi,{data:0}),wi=On(ah),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lh[r])?!!i[r]:!1}function xa(){return uh}var Zn=E({},Da,{key:function(r){if(r.key){var i=sh[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ks(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?oh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(r){return r.type==="keypress"?ks(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ks(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ch=On(Zn),hh=E({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=On(hh),h=E({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),y=On(h),T=E({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=On(T),Q=E({},Oo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),re=On(Q),be=E({},qi,{newState:0,oldState:0}),Ze=On(be),un=[9,13,27,32],bt=Lr&&"CompositionEvent"in window,Jt=null;Lr&&"documentMode"in document&&(Jt=document.documentMode);var Ur=Lr&&"TextEvent"in window&&!Jt,Ri=Lr&&(!bt||Jt&&8<Jt&&11>=Jt),ii=" ",ai=!1;function js(r,i){switch(r){case"keyup":return un.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vo=!1;function IR(r,i){switch(r){case"compositionend":return Po(i);case"keypress":return i.which!==32?null:(ai=!0,ii);case"textInput":return r=i.data,r===ii&&ai?null:r;default:return null}}function DR(r,i){if(Vo)return r==="compositionend"||!bt&&js(r,i)?(r=iu(),Vs=ru=bi=null,Vo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B_(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!NR[r.type]:i==="textarea"}function F_(r,i,o,u){Ca?Ti?Ti.push(u):Ti=[u]:Ca=u,i=ef(i,"onChange"),0<i.length&&(o=new Si("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var lu=null,uu=null;function xR(r){AT(r,0)}function fh(r){var i=Bt(r);if(xs(i))return r}function H_(r,i){if(r==="change")return i}var q_=!1;if(Lr){var pm;if(Lr){var gm="oninput"in document;if(!gm){var G_=document.createElement("div");G_.setAttribute("oninput","return;"),gm=typeof G_.oninput=="function"}pm=gm}else pm=!1;q_=pm&&(!document.documentMode||9<document.documentMode)}function $_(){lu&&(lu.detachEvent("onpropertychange",K_),uu=lu=null)}function K_(r){if(r.propertyName==="value"&&fh(uu)){var i=[];F_(i,uu,r,kr(r)),Ia(xR,i)}}function OR(r,i,o){r==="focusin"?($_(),lu=i,uu=o,lu.attachEvent("onpropertychange",K_)):r==="focusout"&&$_()}function MR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return fh(uu)}function PR(r,i){if(r==="click")return fh(i)}function VR(r,i){if(r==="input"||r==="change")return fh(i)}function kR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var vr=typeof Object.is=="function"?Object.is:kR;function cu(r,i){if(vr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ae.call(i,f)||!vr(r[f],i[f]))return!1}return!0}function Y_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Q_(r,i){var o=Y_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Y_(o)}}function X_(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?X_(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function W_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ei(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Ei(r.document)}return i}function ym(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var LR=Lr&&"documentMode"in document&&11>=document.documentMode,ko=null,_m=null,hu=null,vm=!1;function J_(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vm||ko==null||ko!==Ei(u)||(u=ko,"selectionStart"in u&&ym(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hu&&cu(hu,u)||(hu=u,u=ef(_m,"onSelect"),0<u.length&&(i=new Si("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=ko)))}function zs(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Lo={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Em={},Z_={};Lr&&(Z_=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Bs(r){if(Em[r])return Em[r];if(!Lo[r])return r;var i=Lo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Z_)return Em[r]=i[o];return r}var ev=Bs("animationend"),tv=Bs("animationiteration"),nv=Bs("animationstart"),UR=Bs("transitionrun"),jR=Bs("transitionstart"),zR=Bs("transitioncancel"),rv=Bs("transitionend"),iv=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function si(r,i){iv.set(r,i),ir(i,[r])}var dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},jr=[],Uo=0,bm=0;function mh(){for(var r=Uo,i=bm=Uo=0;i<r;){var o=jr[i];jr[i++]=null;var u=jr[i];jr[i++]=null;var f=jr[i];jr[i++]=null;var m=jr[i];if(jr[i++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}m!==0&&av(o,f,m)}}function ph(r,i,o,u){jr[Uo++]=r,jr[Uo++]=i,jr[Uo++]=o,jr[Uo++]=u,bm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Sm(r,i,o,u){return ph(r,i,o,u),gh(r)}function Fs(r,i){return ph(r,null,null,i),gh(r)}function av(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&i!==null&&(f=31-Xt(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function gh(r){if(50<Mu)throw Mu=0,Op=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var jo={};function BR(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(r,i,o,u){return new BR(r,i,o,u)}function Am(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $i(r,i){var o=r.alternate;return o===null?(o=Er(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function sv(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function yh(r,i,o,u,f,m){var v=0;if(u=r,typeof r=="function")Am(r)&&(v=1);else if(typeof r=="string")v=$C(r,o,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Er(31,o,i,f),r.elementType=I,r.lanes=m,r;case z:return Hs(o.children,f,m,i);case j:v=8,f|=24;break;case Y:return r=Er(12,o,i,f|2),r.elementType=Y,r.lanes=m,r;case ae:return r=Er(13,o,i,f),r.elementType=ae,r.lanes=m,r;case te:return r=Er(19,o,i,f),r.elementType=te,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:v=10;break e;case F:v=9;break e;case ee:v=11;break e;case S:v=14;break e;case w:v=16,u=null;break e}v=29,o=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=Er(v,o,i,f),i.elementType=r,i.type=u,i.lanes=m,i}function Hs(r,i,o,u){return r=Er(7,r,u,i),r.lanes=o,r}function wm(r,i,o){return r=Er(6,r,null,i),r.lanes=o,r}function ov(r){var i=Er(18,null,null,0);return i.stateNode=r,i}function Rm(r,i,o){return i=Er(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var lv=new WeakMap;function zr(r,i){if(typeof r=="object"&&r!==null){var o=lv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:we(i)},lv.set(r,i),i)}return{value:r,source:i,stack:we(i)}}var zo=[],Bo=0,_h=null,fu=0,Br=[],Fr=0,Oa=null,Ci=1,Ii="";function Ki(r,i){zo[Bo++]=fu,zo[Bo++]=_h,_h=r,fu=i}function uv(r,i,o){Br[Fr++]=Ci,Br[Fr++]=Ii,Br[Fr++]=Oa,Oa=r;var u=Ci;r=Ii;var f=32-Xt(u)-1;u&=~(1<<f),o+=1;var m=32-Xt(i)+f;if(30<m){var v=f-f%5;m=(u&(1<<v)-1).toString(32),u>>=v,f-=v,Ci=1<<32-Xt(i)+f|o<<f|u,Ii=m+r}else Ci=1<<m|o<<f|u,Ii=r}function Cm(r){r.return!==null&&(Ki(r,1),uv(r,1,0))}function Im(r){for(;r===_h;)_h=zo[--Bo],zo[Bo]=null,fu=zo[--Bo],zo[Bo]=null;for(;r===Oa;)Oa=Br[--Fr],Br[Fr]=null,Ii=Br[--Fr],Br[Fr]=null,Ci=Br[--Fr],Br[Fr]=null}function cv(r,i){Br[Fr++]=Ci,Br[Fr++]=Ii,Br[Fr++]=Oa,Ci=i.id,Ii=i.overflow,Oa=r}var Mn=null,Gt=null,gt=!1,Ma=null,Hr=!1,Dm=Error(a(519));function Pa(r){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw du(zr(i,r)),Dm}function hv(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[Ee]=r,i[Se]=u,o){case"dialog":ut("cancel",i),ut("close",i);break;case"iframe":case"object":case"embed":ut("load",i);break;case"video":case"audio":for(o=0;o<Vu.length;o++)ut(Vu[o],i);break;case"source":ut("error",i);break;case"img":case"image":case"link":ut("error",i),ut("load",i);break;case"details":ut("toggle",i);break;case"input":ut("invalid",i),Wc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ut("invalid",i);break;case"textarea":ut("invalid",i),wa(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||IT(i.textContent,o)?(u.popover!=null&&(ut("beforetoggle",i),ut("toggle",i)),u.onScroll!=null&&ut("scroll",i),u.onScrollEnd!=null&&ut("scrollend",i),u.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Pa(r,!0)}function fv(r){for(Mn=r.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:Mn=Mn.return}}function Fo(r){if(r!==Mn)return!1;if(!gt)return fv(r),gt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Kp(r.type,r.memoizedProps)),o=!o),o&&Gt&&Pa(r),fv(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Gt=LT(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));Gt=LT(r)}else i===27?(i=Gt,Ya(r.type)?(r=Jp,Jp=null,Gt=r):Gt=i):Gt=Mn?Gr(r.stateNode.nextSibling):null;return!0}function qs(){Gt=Mn=null,gt=!1}function Nm(){var r=Ma;return r!==null&&(cr===null?cr=r:cr.push.apply(cr,r),Ma=null),r}function du(r){Ma===null?Ma=[r]:Ma.push(r)}var xm=U(null),Gs=null,Yi=null;function Va(r,i,o){oe(xm,i._currentValue),i._currentValue=o}function Qi(r){r._currentValue=xm.current,G(xm)}function Om(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function Mm(r,i,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=f;for(var k=0;k<i.length;k++)if(C.context===i[k]){m.lanes|=o,C=m.alternate,C!==null&&(C.lanes|=o),Om(m.return,o,r),u||(v=null);break e}m=C.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=o,m=v.alternate,m!==null&&(m.lanes|=o),Om(v,o,r),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===r){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Ho(r,i,o,u){r=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var C=f.type;vr(f.pendingProps.value,v.value)||(r!==null?r.push(C):r=[C])}}else if(f===Ue.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(zu):r=[zu])}f=f.return}r!==null&&Mm(i,r,o,u),i.flags|=262144}function vh(r){for(r=r.firstContext;r!==null;){if(!vr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function $s(r){Gs=r,Yi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Pn(r){return dv(Gs,r)}function Eh(r,i){return Gs===null&&$s(r),dv(r,i)}function dv(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Yi===null){if(r===null)throw Error(a(308));Yi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Yi=Yi.next=i;return o}var FR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},HR=n.unstable_scheduleCallback,qR=n.unstable_NormalPriority,mn={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new FR,data:new Map,refCount:0}}function mu(r){r.refCount--,r.refCount===0&&HR(qR,function(){r.controller.abort()})}var pu=null,Vm=0,qo=0,Go=null;function GR(r,i){if(pu===null){var o=pu=[];Vm=0,qo=Up(),Go={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Vm++,i.then(mv,mv),i}function mv(){if(--Vm===0&&pu!==null){Go!==null&&(Go.status="fulfilled");var r=pu;pu=null,qo=0,Go=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function $R(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var pv=H.S;H.S=function(r,i){JE=Ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&GR(r,i),pv!==null&&pv(r,i)};var Ks=U(null);function km(){var r=Ks.current;return r!==null?r:jt.pooledCache}function Th(r,i){i===null?oe(Ks,Ks.current):oe(Ks,i.pool)}function gv(){var r=km();return r===null?null:{parent:mn._currentValue,pool:r}}var $o=Error(a(460)),Lm=Error(a(474)),bh=Error(a(542)),Sh={then:function(){}};function yv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function _v(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(ti,ti),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ev(r),r;default:if(typeof i.status=="string")i.then(ti,ti);else{if(r=jt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ev(r),r}throw Qs=i,$o}}function Ys(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Qs=o,$o):o}}var Qs=null;function vv(){if(Qs===null)throw Error(a(459));var r=Qs;return Qs=null,r}function Ev(r){if(r===$o||r===bh)throw Error(a(483))}var Ko=null,gu=0;function Ah(r){var i=gu;return gu+=1,Ko===null&&(Ko=[]),_v(Ko,r,i)}function yu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function wh(r,i){throw i.$$typeof===b?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Tv(r){function i($,B){if(r){var X=$.deletions;X===null?($.deletions=[B],$.flags|=16):X.push(B)}}function o($,B){if(!r)return null;for(;B!==null;)i($,B),B=B.sibling;return null}function u($){for(var B=new Map;$!==null;)$.key!==null?B.set($.key,$):B.set($.index,$),$=$.sibling;return B}function f($,B){return $=$i($,B),$.index=0,$.sibling=null,$}function m($,B,X){return $.index=X,r?(X=$.alternate,X!==null?(X=X.index,X<B?($.flags|=67108866,B):X):($.flags|=67108866,B)):($.flags|=1048576,B)}function v($){return r&&$.alternate===null&&($.flags|=67108866),$}function C($,B,X,le){return B===null||B.tag!==6?(B=wm(X,$.mode,le),B.return=$,B):(B=f(B,X),B.return=$,B)}function k($,B,X,le){var ze=X.type;return ze===z?se($,B,X.props.children,le,X.key):B!==null&&(B.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===w&&Ys(ze)===B.type)?(B=f(B,X.props),yu(B,X),B.return=$,B):(B=yh(X.type,X.key,X.props,null,$.mode,le),yu(B,X),B.return=$,B)}function W($,B,X,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=Rm(X,$.mode,le),B.return=$,B):(B=f(B,X.children||[]),B.return=$,B)}function se($,B,X,le,ze){return B===null||B.tag!==7?(B=Hs(X,$.mode,le,ze),B.return=$,B):(B=f(B,X),B.return=$,B)}function he($,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=wm(""+B,$.mode,X),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return X=yh(B.type,B.key,B.props,null,$.mode,X),yu(X,B),X.return=$,X;case L:return B=Rm(B,$.mode,X),B.return=$,B;case w:return B=Ys(B),he($,B,X)}if(Ce(B)||M(B))return B=Hs(B,$.mode,X,null),B.return=$,B;if(typeof B.then=="function")return he($,Ah(B),X);if(B.$$typeof===K)return he($,Eh($,B),X);wh($,B)}return null}function Z($,B,X,le){var ze=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return ze!==null?null:C($,B,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return X.key===ze?k($,B,X,le):null;case L:return X.key===ze?W($,B,X,le):null;case w:return X=Ys(X),Z($,B,X,le)}if(Ce(X)||M(X))return ze!==null?null:se($,B,X,le,null);if(typeof X.then=="function")return Z($,B,Ah(X),le);if(X.$$typeof===K)return Z($,B,Eh($,X),le);wh($,X)}return null}function ie($,B,X,le,ze){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(X)||null,C(B,$,""+le,ze);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case R:return $=$.get(le.key===null?X:le.key)||null,k(B,$,le,ze);case L:return $=$.get(le.key===null?X:le.key)||null,W(B,$,le,ze);case w:return le=Ys(le),ie($,B,X,le,ze)}if(Ce(le)||M(le))return $=$.get(X)||null,se(B,$,le,ze,null);if(typeof le.then=="function")return ie($,B,X,Ah(le),ze);if(le.$$typeof===K)return ie($,B,X,Eh(B,le),ze);wh(B,le)}return null}function Oe($,B,X,le){for(var ze=null,_t=null,Ve=B,rt=B=0,ft=null;Ve!==null&&rt<X.length;rt++){Ve.index>rt?(ft=Ve,Ve=null):ft=Ve.sibling;var vt=Z($,Ve,X[rt],le);if(vt===null){Ve===null&&(Ve=ft);break}r&&Ve&&vt.alternate===null&&i($,Ve),B=m(vt,B,rt),_t===null?ze=vt:_t.sibling=vt,_t=vt,Ve=ft}if(rt===X.length)return o($,Ve),gt&&Ki($,rt),ze;if(Ve===null){for(;rt<X.length;rt++)Ve=he($,X[rt],le),Ve!==null&&(B=m(Ve,B,rt),_t===null?ze=Ve:_t.sibling=Ve,_t=Ve);return gt&&Ki($,rt),ze}for(Ve=u(Ve);rt<X.length;rt++)ft=ie(Ve,$,rt,X[rt],le),ft!==null&&(r&&ft.alternate!==null&&Ve.delete(ft.key===null?rt:ft.key),B=m(ft,B,rt),_t===null?ze=ft:_t.sibling=ft,_t=ft);return r&&Ve.forEach(function(Za){return i($,Za)}),gt&&Ki($,rt),ze}function He($,B,X,le){if(X==null)throw Error(a(151));for(var ze=null,_t=null,Ve=B,rt=B=0,ft=null,vt=X.next();Ve!==null&&!vt.done;rt++,vt=X.next()){Ve.index>rt?(ft=Ve,Ve=null):ft=Ve.sibling;var Za=Z($,Ve,vt.value,le);if(Za===null){Ve===null&&(Ve=ft);break}r&&Ve&&Za.alternate===null&&i($,Ve),B=m(Za,B,rt),_t===null?ze=Za:_t.sibling=Za,_t=Za,Ve=ft}if(vt.done)return o($,Ve),gt&&Ki($,rt),ze;if(Ve===null){for(;!vt.done;rt++,vt=X.next())vt=he($,vt.value,le),vt!==null&&(B=m(vt,B,rt),_t===null?ze=vt:_t.sibling=vt,_t=vt);return gt&&Ki($,rt),ze}for(Ve=u(Ve);!vt.done;rt++,vt=X.next())vt=ie(Ve,$,rt,vt.value,le),vt!==null&&(r&&vt.alternate!==null&&Ve.delete(vt.key===null?rt:vt.key),B=m(vt,B,rt),_t===null?ze=vt:_t.sibling=vt,_t=vt);return r&&Ve.forEach(function(rI){return i($,rI)}),gt&&Ki($,rt),ze}function Vt($,B,X,le){if(typeof X=="object"&&X!==null&&X.type===z&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case R:e:{for(var ze=X.key;B!==null;){if(B.key===ze){if(ze=X.type,ze===z){if(B.tag===7){o($,B.sibling),le=f(B,X.props.children),le.return=$,$=le;break e}}else if(B.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===w&&Ys(ze)===B.type){o($,B.sibling),le=f(B,X.props),yu(le,X),le.return=$,$=le;break e}o($,B);break}else i($,B);B=B.sibling}X.type===z?(le=Hs(X.props.children,$.mode,le,X.key),le.return=$,$=le):(le=yh(X.type,X.key,X.props,null,$.mode,le),yu(le,X),le.return=$,$=le)}return v($);case L:e:{for(ze=X.key;B!==null;){if(B.key===ze)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o($,B.sibling),le=f(B,X.children||[]),le.return=$,$=le;break e}else{o($,B);break}else i($,B);B=B.sibling}le=Rm(X,$.mode,le),le.return=$,$=le}return v($);case w:return X=Ys(X),Vt($,B,X,le)}if(Ce(X))return Oe($,B,X,le);if(M(X)){if(ze=M(X),typeof ze!="function")throw Error(a(150));return X=ze.call(X),He($,B,X,le)}if(typeof X.then=="function")return Vt($,B,Ah(X),le);if(X.$$typeof===K)return Vt($,B,Eh($,X),le);wh($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o($,B.sibling),le=f(B,X),le.return=$,$=le):(o($,B),le=wm(X,$.mode,le),le.return=$,$=le),v($)):o($,B)}return function($,B,X,le){try{gu=0;var ze=Vt($,B,X,le);return Ko=null,ze}catch(Ve){if(Ve===$o||Ve===bh)throw Ve;var _t=Er(29,Ve,null,$.mode);return _t.lanes=le,_t.return=$,_t}finally{}}}var Xs=Tv(!0),bv=Tv(!1),ka=!1;function Um(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function La(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ua(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(St&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=gh(r),av(r,null,o),i}return ph(r,u,i,o),gh(r)}function _u(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,V(r,o)}}function zm(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Bm=!1;function vu(){if(Bm){var r=Go;if(r!==null)throw r}}function Eu(r,i,o,u){Bm=!1;var f=r.updateQueue;ka=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var k=C,W=k.next;k.next=null,v===null?m=W:v.next=W,v=k;var se=r.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==v&&(C===null?se.firstBaseUpdate=W:C.next=W,se.lastBaseUpdate=k))}if(m!==null){var he=f.baseState;v=0,se=W=k=null,C=m;do{var Z=C.lane&-536870913,ie=Z!==C.lane;if(ie?(ht&Z)===Z:(u&Z)===Z){Z!==0&&Z===qo&&(Bm=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Oe=r,He=C;Z=i;var Vt=o;switch(He.tag){case 1:if(Oe=He.payload,typeof Oe=="function"){he=Oe.call(Vt,he,Z);break e}he=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=He.payload,Z=typeof Oe=="function"?Oe.call(Vt,he,Z):Oe,Z==null)break e;he=E({},he,Z);break e;case 2:ka=!0}}Z=C.callback,Z!==null&&(r.flags|=64,ie&&(r.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[Z]:ie.push(Z))}else ie={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(W=se=ie,k=he):se=se.next=ie,v|=Z;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);se===null&&(k=he),f.baseState=k,f.firstBaseUpdate=W,f.lastBaseUpdate=se,m===null&&(f.shared.lanes=0),Ha|=v,r.lanes=v,r.memoizedState=he}}function Sv(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function Av(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Sv(o[r],i)}var Yo=U(null),Rh=U(0);function wv(r,i){r=ia,oe(Rh,r),oe(Yo,i),ia=r|i.baseLanes}function Fm(){oe(Rh,ia),oe(Yo,Yo.current)}function Hm(){ia=Rh.current,G(Yo),G(Rh)}var Tr=U(null),qr=null;function ja(r){var i=r.alternate;oe(cn,cn.current&1),oe(Tr,r),qr===null&&(i===null||Yo.current!==null||i.memoizedState!==null)&&(qr=r)}function qm(r){oe(cn,cn.current),oe(Tr,r),qr===null&&(qr=r)}function Rv(r){r.tag===22?(oe(cn,cn.current),oe(Tr,r),qr===null&&(qr=r)):za()}function za(){oe(cn,cn.current),oe(Tr,Tr.current)}function br(r){G(Tr),qr===r&&(qr=null),G(cn)}var cn=U(0);function Ch(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Xp(o)||Wp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,et=null,Mt=null,pn=null,Ih=!1,Qo=!1,Ws=!1,Dh=0,Tu=0,Xo=null,KR=0;function sn(){throw Error(a(321))}function Gm(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!vr(r[o],i[o]))return!1;return!0}function $m(r,i,o,u,f,m){return Xi=m,et=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=r===null||r.memoizedState===null?uE:op,Ws=!1,m=o(u,f),Ws=!1,Qo&&(m=Iv(i,o,u,f)),Cv(r),m}function Cv(r){H.H=Au;var i=Mt!==null&&Mt.next!==null;if(Xi=0,pn=Mt=et=null,Ih=!1,Tu=0,Xo=null,i)throw Error(a(300));r===null||gn||(r=r.dependencies,r!==null&&vh(r)&&(gn=!0))}function Iv(r,i,o,u){et=r;var f=0;do{if(Qo&&(Xo=null),Tu=0,Qo=!1,25<=f)throw Error(a(301));if(f+=1,pn=Mt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=cE,m=i(o,u)}while(Qo);return m}function YR(){var r=H.H,i=r.useState()[0];return i=typeof i.then=="function"?bu(i):i,r=r.useState()[0],(Mt!==null?Mt.memoizedState:null)!==r&&(et.flags|=1024),i}function Km(){var r=Dh!==0;return Dh=0,r}function Ym(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Qm(r){if(Ih){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ih=!1}Xi=0,pn=Mt=et=null,Qo=!1,Tu=Dh=0,Xo=null}function er(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?et.memoizedState=pn=r:pn=pn.next=r,pn}function hn(){if(Mt===null){var r=et.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var i=pn===null?et.memoizedState:pn.next;if(i!==null)pn=i,Mt=r;else{if(r===null)throw et.alternate===null?Error(a(467)):Error(a(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},pn===null?et.memoizedState=pn=r:pn=pn.next=r}return pn}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(r){var i=Tu;return Tu+=1,Xo===null&&(Xo=[]),r=_v(Xo,r,i),i=et,(pn===null?i.memoizedState:pn.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?uE:op),r}function xh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return bu(r);if(r.$$typeof===K)return Pn(r)}throw Error(a(438,String(r)))}function Xm(r){var i=null,o=et.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=et.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Nh(),et.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=O;return i.index++,o}function Wi(r,i){return typeof i=="function"?i(r):i}function Oh(r){var i=hn();return Wm(i,Mt,r)}function Wm(r,i,o){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}i.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{i=f.next;var C=v=null,k=null,W=i,se=!1;do{var he=W.lane&-536870913;if(he!==W.lane?(ht&he)===he:(Xi&he)===he){var Z=W.revertLane;if(Z===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),he===qo&&(se=!0);else if((Xi&Z)===Z){W=W.next,Z===qo&&(se=!0);continue}else he={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},k===null?(C=k=he,v=m):k=k.next=he,et.lanes|=Z,Ha|=Z;he=W.action,Ws&&o(m,he),m=W.hasEagerState?W.eagerState:o(m,he)}else Z={lane:he,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},k===null?(C=k=Z,v=m):k=k.next=Z,et.lanes|=he,Ha|=he;W=W.next}while(W!==null&&W!==i);if(k===null?v=m:k.next=C,!vr(m,r.memoizedState)&&(gn=!0,se&&(o=Go,o!==null)))throw o;r.memoizedState=m,r.baseState=v,r.baseQueue=k,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Jm(r){var i=hn(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do m=r(m,v.action),v=v.next;while(v!==f);vr(m,i.memoizedState)||(gn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function Dv(r,i,o){var u=et,f=hn(),m=gt;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=i();var v=!vr((Mt||f).memoizedState,o);if(v&&(f.memoizedState=o,gn=!0),f=f.queue,tp(Ov.bind(null,u,f,r),[r]),f.getSnapshot!==i||v||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,Wo(9,{destroy:void 0},xv.bind(null,u,f,o,i),null),jt===null)throw Error(a(349));m||(Xi&127)!==0||Nv(u,i,o)}return o}function Nv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=et.updateQueue,i===null?(i=Nh(),et.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function xv(r,i,o,u){i.value=o,i.getSnapshot=u,Mv(i)&&Pv(r)}function Ov(r,i,o){return o(function(){Mv(i)&&Pv(r)})}function Mv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!vr(r,o)}catch{return!0}}function Pv(r){var i=Fs(r,2);i!==null&&hr(i,r,2)}function Zm(r){var i=er();if(typeof r=="function"){var o=r;if(r=o(),Ws){Xn(!0);try{o()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},i}function Vv(r,i,o,u){return r.baseState=o,Wm(r,Mt,typeof u=="function"?u:Wi)}function QR(r,i,o,u,f){if(Vh(r))throw Error(a(485));if(r=i.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};H.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,kv(i,m)):(m.next=o.next,i.pending=o.next=m)}}function kv(r,i){var o=i.action,u=i.payload,f=r.state;if(i.isTransition){var m=H.T,v={};H.T=v;try{var C=o(f,u),k=H.S;k!==null&&k(v,C),Lv(r,i,C)}catch(W){ep(r,i,W)}finally{m!==null&&v.types!==null&&(m.types=v.types),H.T=m}}else try{m=o(f,u),Lv(r,i,m)}catch(W){ep(r,i,W)}}function Lv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Uv(r,i,u)},function(u){return ep(r,i,u)}):Uv(r,i,o)}function Uv(r,i,o){i.status="fulfilled",i.value=o,jv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,kv(r,o)))}function ep(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,jv(i),i=i.next;while(i!==u)}r.action=null}function jv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function zv(r,i){return i}function Bv(r,i){if(gt){var o=jt.formState;if(o!==null){e:{var u=et;if(gt){if(Gt){t:{for(var f=Gt,m=Hr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Gr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gt=Gr(f.nextSibling),u=f.data==="F!";break e}}Pa(u)}u=!1}u&&(i=o[0])}}return o=er(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zv,lastRenderedState:i},o.queue=u,o=sE.bind(null,et,u),u.dispatch=o,u=Zm(!1),m=sp.bind(null,et,!1,u.queue),u=er(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,o=QR.bind(null,et,f,m,o),f.dispatch=o,u.memoizedState=r,[i,o,!1]}function Fv(r){var i=hn();return Hv(i,Mt,r)}function Hv(r,i,o){if(i=Wm(r,i,zv)[0],r=Oh(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=bu(i)}catch(v){throw v===$o?bh:v}else u=i;i=hn();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(et.flags|=2048,Wo(9,{destroy:void 0},XR.bind(null,f,o),null)),[u,m,r]}function XR(r,i){r.action=i}function qv(r){var i=hn(),o=Mt;if(o!==null)return Hv(i,o,r);hn(),i=i.memoizedState,o=hn();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function Wo(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=et.updateQueue,i===null&&(i=Nh(),et.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function Gv(){return hn().memoizedState}function Mh(r,i,o,u){var f=er();et.flags|=r,f.memoizedState=Wo(1|i,{destroy:void 0},o,u===void 0?null:u)}function Ph(r,i,o,u){var f=hn();u=u===void 0?null:u;var m=f.memoizedState.inst;Mt!==null&&u!==null&&Gm(u,Mt.memoizedState.deps)?f.memoizedState=Wo(i,m,o,u):(et.flags|=r,f.memoizedState=Wo(1|i,m,o,u))}function $v(r,i){Mh(8390656,8,r,i)}function tp(r,i){Ph(2048,8,r,i)}function WR(r){et.flags|=4;var i=et.updateQueue;if(i===null)i=Nh(),et.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function Kv(r){var i=hn().memoizedState;return WR({ref:i,nextImpl:r}),function(){if((St&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Yv(r,i){return Ph(4,2,r,i)}function Qv(r,i){return Ph(4,4,r,i)}function Xv(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Wv(r,i,o){o=o!=null?o.concat([r]):null,Ph(4,4,Xv.bind(null,i,r),o)}function np(){}function Jv(r,i){var o=hn();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Gm(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function Zv(r,i){var o=hn();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Gm(i,u[1]))return u[0];if(u=r(),Ws){Xn(!0);try{r()}finally{Xn(!1)}}return o.memoizedState=[u,i],u}function rp(r,i,o){return o===void 0||(Xi&1073741824)!==0&&(ht&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=eT(),et.lanes|=r,Ha|=r,o)}function eE(r,i,o,u){return vr(o,i)?o:Yo.current!==null?(r=rp(r,o,u),vr(r,i)||(gn=!0),r):(Xi&42)===0||(Xi&1073741824)!==0&&(ht&261930)===0?(gn=!0,r.memoizedState=o):(r=eT(),et.lanes|=r,Ha|=r,i)}function tE(r,i,o,u,f){var m=fe.p;fe.p=m!==0&&8>m?m:8;var v=H.T,C={};H.T=C,sp(r,!1,i,o);try{var k=f(),W=H.S;if(W!==null&&W(C,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var se=$R(k,u);Su(r,i,se,wr(r))}else Su(r,i,u,wr(r))}catch(he){Su(r,i,{then:function(){},status:"rejected",reason:he},wr())}finally{fe.p=m,v!==null&&C.types!==null&&(v.types=C.types),H.T=v}}function JR(){}function ip(r,i,o,u){if(r.tag!==5)throw Error(a(476));var f=nE(r).queue;tE(r,f,i,pe,o===null?JR:function(){return rE(r),o(u)})}function nE(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:pe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function rE(r){var i=nE(r);i.next===null&&(i=r.alternate.memoizedState),Su(r,i.next.queue,{},wr())}function ap(){return Pn(zu)}function iE(){return hn().memoizedState}function aE(){return hn().memoizedState}function ZR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=wr();r=La(o);var u=Ua(i,r,o);u!==null&&(hr(u,i,o),_u(u,i,o)),i={cache:Pm()},r.payload=i;return}i=i.return}}function eC(r,i,o){var u=wr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Vh(r)?oE(i,o):(o=Sm(r,i,o,u),o!==null&&(hr(o,r,u),lE(o,i,u)))}function sE(r,i,o){var u=wr();Su(r,i,o,u)}function Su(r,i,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vh(r))oE(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,C=m(v,o);if(f.hasEagerState=!0,f.eagerState=C,vr(C,v))return ph(r,i,f,0),jt===null&&mh(),!1}catch{}finally{}if(o=Sm(r,i,f,u),o!==null)return hr(o,r,u),lE(o,i,u),!0}return!1}function sp(r,i,o,u){if(u={lane:2,revertLane:Up(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vh(r)){if(i)throw Error(a(479))}else i=Sm(r,o,u,2),i!==null&&hr(i,r,2)}function Vh(r){var i=r.alternate;return r===et||i!==null&&i===et}function oE(r,i){Qo=Ih=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function lE(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,V(r,o)}}var Au={readContext:Pn,use:xh,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Au.useEffectEvent=sn;var uE={readContext:Pn,use:xh,useCallback:function(r,i){return er().memoizedState=[r,i===void 0?null:i],r},useContext:Pn,useEffect:$v,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Mh(4194308,4,Xv.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Mh(4194308,4,r,i)},useInsertionEffect:function(r,i){Mh(4,2,r,i)},useMemo:function(r,i){var o=er();i=i===void 0?null:i;var u=r();if(Ws){Xn(!0);try{r()}finally{Xn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=er();if(o!==void 0){var f=o(i);if(Ws){Xn(!0);try{o(i)}finally{Xn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=eC.bind(null,et,r),[u.memoizedState,r]},useRef:function(r){var i=er();return r={current:r},i.memoizedState=r},useState:function(r){r=Zm(r);var i=r.queue,o=sE.bind(null,et,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:np,useDeferredValue:function(r,i){var o=er();return rp(o,r,i)},useTransition:function(){var r=Zm(!1);return r=tE.bind(null,et,r.queue,!0,!1),er().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=et,f=er();if(gt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),jt===null)throw Error(a(349));(ht&127)!==0||Nv(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,$v(Ov.bind(null,u,m,r),[r]),u.flags|=2048,Wo(9,{destroy:void 0},xv.bind(null,u,m,o,i),null),o},useId:function(){var r=er(),i=jt.identifierPrefix;if(gt){var o=Ii,u=Ci;o=(u&~(1<<32-Xt(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Dh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=KR++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:ap,useFormState:Bv,useActionState:Bv,useOptimistic:function(r){var i=er();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=sp.bind(null,et,!0,o),o.dispatch=i,[r,i]},useMemoCache:Xm,useCacheRefresh:function(){return er().memoizedState=ZR.bind(null,et)},useEffectEvent:function(r){var i=er(),o={impl:r};return i.memoizedState=o,function(){if((St&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},op={readContext:Pn,use:xh,useCallback:Jv,useContext:Pn,useEffect:tp,useImperativeHandle:Wv,useInsertionEffect:Yv,useLayoutEffect:Qv,useMemo:Zv,useReducer:Oh,useRef:Gv,useState:function(){return Oh(Wi)},useDebugValue:np,useDeferredValue:function(r,i){var o=hn();return eE(o,Mt.memoizedState,r,i)},useTransition:function(){var r=Oh(Wi)[0],i=hn().memoizedState;return[typeof r=="boolean"?r:bu(r),i]},useSyncExternalStore:Dv,useId:iE,useHostTransitionStatus:ap,useFormState:Fv,useActionState:Fv,useOptimistic:function(r,i){var o=hn();return Vv(o,Mt,r,i)},useMemoCache:Xm,useCacheRefresh:aE};op.useEffectEvent=Kv;var cE={readContext:Pn,use:xh,useCallback:Jv,useContext:Pn,useEffect:tp,useImperativeHandle:Wv,useInsertionEffect:Yv,useLayoutEffect:Qv,useMemo:Zv,useReducer:Jm,useRef:Gv,useState:function(){return Jm(Wi)},useDebugValue:np,useDeferredValue:function(r,i){var o=hn();return Mt===null?rp(o,r,i):eE(o,Mt.memoizedState,r,i)},useTransition:function(){var r=Jm(Wi)[0],i=hn().memoizedState;return[typeof r=="boolean"?r:bu(r),i]},useSyncExternalStore:Dv,useId:iE,useHostTransitionStatus:ap,useFormState:qv,useActionState:qv,useOptimistic:function(r,i){var o=hn();return Mt!==null?Vv(o,Mt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Xm,useCacheRefresh:aE};cE.useEffectEvent=Kv;function lp(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:E({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var up={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=wr(),f=La(u);f.payload=i,o!=null&&(f.callback=o),i=Ua(r,f,u),i!==null&&(hr(i,r,u),_u(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=wr(),f=La(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Ua(r,f,u),i!==null&&(hr(i,r,u),_u(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=wr(),u=La(o);u.tag=2,i!=null&&(u.callback=i),i=Ua(r,u,o),i!==null&&(hr(i,r,o),_u(i,r,o))}};function hE(r,i,o,u,f,m,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,v):i.prototype&&i.prototype.isPureReactComponent?!cu(o,u)||!cu(f,m):!0}function fE(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&up.enqueueReplaceState(i,i.state,null)}function Js(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=E({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}function dE(r){dh(r)}function mE(r){console.error(r)}function pE(r){dh(r)}function kh(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function gE(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cp(r,i,o){return o=La(o),o.tag=3,o.payload={element:null},o.callback=function(){kh(r,i)},o}function yE(r){return r=La(r),r.tag=3,r}function _E(r,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){gE(i,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){gE(i,o,u),typeof f!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function tC(r,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ho(i,o,f,!0),o=Tr.current,o!==null){switch(o.tag){case 31:case 13:return qr===null?Yh():o.alternate===null&&on===0&&(on=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Sh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Vp(r,u,f)),!1;case 22:return o.flags|=65536,u===Sh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Vp(r,u,f)),!1}throw Error(a(435,o.tag))}return Vp(r,u,f),Yh(),!1}if(gt)return i=Tr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Dm&&(r=Error(a(422),{cause:u}),du(zr(r,o)))):(u!==Dm&&(i=Error(a(423),{cause:u}),du(zr(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=zr(u,o),f=cp(r.stateNode,u,f),zm(r,f),on!==4&&(on=2)),!1;var m=Error(a(520),{cause:u});if(m=zr(m,o),Ou===null?Ou=[m]:Ou.push(m),on!==4&&(on=2),i===null)return!0;u=zr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=cp(o.stateNode,u,r),zm(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(qa===null||!qa.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=yE(f),_E(f,r,o,u),zm(o,f),!1}o=o.return}while(o!==null);return!1}var hp=Error(a(461)),gn=!1;function Vn(r,i,o,u){i.child=r===null?bv(i,null,o,u):Xs(i,r.child,o,u)}function vE(r,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var v={};for(var C in u)C!=="ref"&&(v[C]=u[C])}else v=u;return $s(i),u=$m(r,i,o,v,m,f),C=Km(),r!==null&&!gn?(Ym(r,i,f),Ji(r,i,f)):(gt&&C&&Cm(i),i.flags|=1,Vn(r,i,u,f),i.child)}function EE(r,i,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!Am(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,TE(r,i,m,u,f)):(r=yh(o.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!vp(r,f)){var v=m.memoizedProps;if(o=o.compare,o=o!==null?o:cu,o(v,u)&&r.ref===i.ref)return Ji(r,i,f)}return i.flags|=1,r=$i(m,u),r.ref=i.ref,r.return=i,i.child=r}function TE(r,i,o,u,f){if(r!==null){var m=r.memoizedProps;if(cu(m,u)&&r.ref===i.ref)if(gn=!1,i.pendingProps=u=m,vp(r,f))(r.flags&131072)!==0&&(gn=!0);else return i.lanes=r.lanes,Ji(r,i,f)}return fp(r,i,o,u,f)}function bE(r,i,o,u){var f=u.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,i.child=null;return SE(r,i,m,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Th(i,m!==null?m.cachePool:null),m!==null?wv(i,m):Fm(),Rv(i);else return u=i.lanes=536870912,SE(r,i,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Th(i,m.cachePool),wv(i,m),za(),i.memoizedState=null):(r!==null&&Th(i,null),Fm(),za());return Vn(r,i,f,o),i.child}function wu(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function SE(r,i,o,u,f){var m=km();return m=m===null?null:{parent:mn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&Th(i,null),Fm(),Rv(i),r!==null&&Ho(r,i,u,!0),i.childLanes=f,null}function Lh(r,i){return i=jh({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function AE(r,i,o){return Xs(i,r.child,null,o),r=Lh(i,i.pendingProps),r.flags|=2,br(i),i.memoizedState=null,r}function nC(r,i,o){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(gt){if(u.mode==="hidden")return r=Lh(i,u),i.lanes=536870912,wu(null,r);if(qm(i),(r=Gt)?(r=kT(r,Hr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Oa!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},o=ov(r),o.return=i,i.child=o,Mn=i,Gt=null)):r=null,r===null)throw Pa(i);return i.lanes=536870912,null}return Lh(i,u)}var m=r.memoizedState;if(m!==null){var v=m.dehydrated;if(qm(i),f)if(i.flags&256)i.flags&=-257,i=AE(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(a(558));else if(gn||Ho(r,i,o,!1),f=(o&r.childLanes)!==0,gn||f){if(u=jt,u!==null&&(v=q(u,o),v!==0&&v!==m.retryLane))throw m.retryLane=v,Fs(r,v),hr(u,r,v),hp;Yh(),i=AE(r,i,o)}else r=m.treeContext,Gt=Gr(v.nextSibling),Mn=i,gt=!0,Ma=null,Hr=!1,r!==null&&cv(i,r),i=Lh(i,u),i.flags|=4096;return i}return r=$i(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Uh(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function fp(r,i,o,u,f){return $s(i),o=$m(r,i,o,u,void 0,f),u=Km(),r!==null&&!gn?(Ym(r,i,f),Ji(r,i,f)):(gt&&u&&Cm(i),i.flags|=1,Vn(r,i,o,f),i.child)}function wE(r,i,o,u,f,m){return $s(i),i.updateQueue=null,o=Iv(i,u,o,f),Cv(r),u=Km(),r!==null&&!gn?(Ym(r,i,m),Ji(r,i,m)):(gt&&u&&Cm(i),i.flags|=1,Vn(r,i,o,m),i.child)}function RE(r,i,o,u,f){if($s(i),i.stateNode===null){var m=jo,v=o.contextType;typeof v=="object"&&v!==null&&(m=Pn(v)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=up,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Um(i),v=o.contextType,m.context=typeof v=="object"&&v!==null?Pn(v):jo,m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(lp(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&up.enqueueReplaceState(m,m.state,null),Eu(i,u,m,f),vu(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var C=i.memoizedProps,k=Js(o,C);m.props=k;var W=m.context,se=o.contextType;v=jo,typeof se=="object"&&se!==null&&(v=Pn(se));var he=o.getDerivedStateFromProps;se=typeof he=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||W!==v)&&fE(i,m,u,v),ka=!1;var Z=i.memoizedState;m.state=Z,Eu(i,u,m,f),vu(),W=i.memoizedState,C||Z!==W||ka?(typeof he=="function"&&(lp(i,o,he,u),W=i.memoizedState),(k=ka||hE(i,o,k,u,Z,W,v))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=W),m.props=u,m.state=W,m.context=v,u=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,jm(r,i),v=i.memoizedProps,se=Js(o,v),m.props=se,he=i.pendingProps,Z=m.context,W=o.contextType,k=jo,typeof W=="object"&&W!==null&&(k=Pn(W)),C=o.getDerivedStateFromProps,(W=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==he||Z!==k)&&fE(i,m,u,k),ka=!1,Z=i.memoizedState,m.state=Z,Eu(i,u,m,f),vu();var ie=i.memoizedState;v!==he||Z!==ie||ka||r!==null&&r.dependencies!==null&&vh(r.dependencies)?(typeof C=="function"&&(lp(i,o,C,u),ie=i.memoizedState),(se=ka||hE(i,o,se,u,Z,ie,k)||r!==null&&r.dependencies!==null&&vh(r.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ie,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ie,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=ie),m.props=u,m.state=ie,m.context=k,u=se):(typeof m.componentDidUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,Uh(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=Xs(i,r.child,null,f),i.child=Xs(i,null,o,f)):Vn(r,i,o,f),i.memoizedState=m.state,r=i.child):r=Ji(r,i,f),r}function CE(r,i,o,u){return qs(),i.flags|=256,Vn(r,i,o,u),i.child}var dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(r){return{baseLanes:r,cachePool:gv()}}function pp(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Ar),r}function IE(r,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=r!==null&&r.memoizedState===null?!1:(cn.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,r===null){if(gt){if(f?ja(i):za(),(r=Gt)?(r=kT(r,Hr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Oa!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},o=ov(r),o.return=i,i.child=o,Mn=i,Gt=null)):r=null,r===null)throw Pa(i);return Wp(r)?i.lanes=32:i.lanes=536870912,null}var C=u.children;return u=u.fallback,f?(za(),f=i.mode,C=jh({mode:"hidden",children:C},f),u=Hs(u,f,o,null),C.return=i,u.return=i,C.sibling=u,i.child=C,u=i.child,u.memoizedState=mp(o),u.childLanes=pp(r,v,o),i.memoizedState=dp,wu(null,u)):(ja(i),gp(i,C))}var k=r.memoizedState;if(k!==null&&(C=k.dehydrated,C!==null)){if(m)i.flags&256?(ja(i),i.flags&=-257,i=yp(r,i,o)):i.memoizedState!==null?(za(),i.child=r.child,i.flags|=128,i=null):(za(),C=u.fallback,f=i.mode,u=jh({mode:"visible",children:u.children},f),C=Hs(C,f,o,null),C.flags|=2,u.return=i,C.return=i,u.sibling=C,i.child=u,Xs(i,r.child,null,o),u=i.child,u.memoizedState=mp(o),u.childLanes=pp(r,v,o),i.memoizedState=dp,i=wu(null,u));else if(ja(i),Wp(C)){if(v=C.nextSibling&&C.nextSibling.dataset,v)var W=v.dgst;v=W,u=Error(a(419)),u.stack="",u.digest=v,du({value:u,source:null,stack:null}),i=yp(r,i,o)}else if(gn||Ho(r,i,o,!1),v=(o&r.childLanes)!==0,gn||v){if(v=jt,v!==null&&(u=q(v,o),u!==0&&u!==k.retryLane))throw k.retryLane=u,Fs(r,u),hr(v,r,u),hp;Xp(C)||Yh(),i=yp(r,i,o)}else Xp(C)?(i.flags|=192,i.child=r.child,i=null):(r=k.treeContext,Gt=Gr(C.nextSibling),Mn=i,gt=!0,Ma=null,Hr=!1,r!==null&&cv(i,r),i=gp(i,u.children),i.flags|=4096);return i}return f?(za(),C=u.fallback,f=i.mode,k=r.child,W=k.sibling,u=$i(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,W!==null?C=$i(W,C):(C=Hs(C,f,o,null),C.flags|=2),C.return=i,u.return=i,u.sibling=C,i.child=u,wu(null,u),u=i.child,C=r.child.memoizedState,C===null?C=mp(o):(f=C.cachePool,f!==null?(k=mn._currentValue,f=f.parent!==k?{parent:k,pool:k}:f):f=gv(),C={baseLanes:C.baseLanes|o,cachePool:f}),u.memoizedState=C,u.childLanes=pp(r,v,o),i.memoizedState=dp,wu(r.child,u)):(ja(i),o=r.child,r=o.sibling,o=$i(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=o,i.memoizedState=null,o)}function gp(r,i){return i=jh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function jh(r,i){return r=Er(22,r,null,i),r.lanes=0,r}function yp(r,i,o){return Xs(i,r.child,null,o),r=gp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function DE(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Om(r.return,i,o)}function _p(r,i,o,u,f,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=f,v.treeForkCount=m)}function NE(r,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var v=cn.current,C=(v&2)!==0;if(C?(v=v&1|2,i.flags|=128):v&=1,oe(cn,v),Vn(r,i,u,o),u=gt?fu:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&DE(r,o,i);else if(r.tag===19)DE(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&Ch(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),_p(i,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Ch(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}_p(i,!0,o,null,m,u);break;case"together":_p(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Ji(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Ha|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ho(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,o=$i(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=$i(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function vp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&vh(r)))}function rC(r,i,o){switch(i.tag){case 3:Ke(i,i.stateNode.containerInfo),Va(i,mn,r.memoizedState.cache),qs();break;case 27:case 5:Yt(i);break;case 4:Ke(i,i.stateNode.containerInfo);break;case 10:Va(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qm(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ja(i),i.flags|=128,null):(o&i.child.childLanes)!==0?IE(r,i,o):(ja(i),r=Ji(r,i,o),r!==null?r.sibling:null);ja(i);break;case 19:var f=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ho(r,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return NE(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(cn,cn.current),u)break;return null;case 22:return i.lanes=0,bE(r,i,o,i.pendingProps);case 24:Va(i,mn,r.memoizedState.cache)}return Ji(r,i,o)}function xE(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)gn=!0;else{if(!vp(r,o)&&(i.flags&128)===0)return gn=!1,rC(r,i,o);gn=(r.flags&131072)!==0}else gn=!1,gt&&(i.flags&1048576)!==0&&uv(i,fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=Ys(i.elementType),i.type=r,typeof r=="function")Am(r)?(u=Js(r,u),i.tag=1,i=RE(null,i,r,u,o)):(i.tag=0,i=fp(null,i,r,u,o));else{if(r!=null){var f=r.$$typeof;if(f===ee){i.tag=11,i=vE(null,i,r,u,o);break e}else if(f===S){i.tag=14,i=EE(null,i,r,u,o);break e}}throw i=_e(r)||r,Error(a(306,i,""))}}return i;case 0:return fp(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Js(u,i.pendingProps),RE(r,i,u,f,o);case 3:e:{if(Ke(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,jm(r,i),Eu(i,u,null,o);var v=i.memoizedState;if(u=v.cache,Va(i,mn,u),u!==m.cache&&Mm(i,[mn],o,!0),vu(),u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=CE(r,i,u,o);break e}else if(u!==f){f=zr(Error(a(424)),i),du(f),i=CE(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Gt=Gr(r.firstChild),Mn=i,gt=!0,Ma=null,Hr=!0,o=bv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(qs(),u===f){i=Ji(r,i,o);break e}Vn(r,i,u,o)}i=i.child}return i;case 26:return Uh(r,i),r===null?(o=FT(i.type,null,i.pendingProps,null))?i.memoizedState=o:gt||(o=i.type,r=i.pendingProps,u=tf(Te.current).createElement(o),u[Ee]=i,u[Se]=r,kn(u,o,r),Ft(u),i.stateNode=u):i.memoizedState=FT(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Yt(i),r===null&&gt&&(u=i.stateNode=jT(i.type,i.pendingProps,Te.current),Mn=i,Hr=!0,f=Gt,Ya(i.type)?(Jp=f,Gt=Gr(u.firstChild)):Gt=f),Vn(r,i,i.pendingProps.children,o),Uh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&gt&&((f=u=Gt)&&(u=MC(u,i.type,i.pendingProps,Hr),u!==null?(i.stateNode=u,Mn=i,Gt=Gr(u.firstChild),Hr=!1,f=!0):f=!1),f||Pa(i)),Yt(i),f=i.type,m=i.pendingProps,v=r!==null?r.memoizedProps:null,u=m.children,Kp(f,m)?u=null:v!==null&&Kp(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=$m(r,i,YR,null,null,o),zu._currentValue=f),Uh(r,i),Vn(r,i,u,o),i.child;case 6:return r===null&&gt&&((r=o=Gt)&&(o=PC(o,i.pendingProps,Hr),o!==null?(i.stateNode=o,Mn=i,Gt=null,r=!0):r=!1),r||Pa(i)),null;case 13:return IE(r,i,o);case 4:return Ke(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Xs(i,null,u,o):Vn(r,i,u,o),i.child;case 11:return vE(r,i,i.type,i.pendingProps,o);case 7:return Vn(r,i,i.pendingProps,o),i.child;case 8:return Vn(r,i,i.pendingProps.children,o),i.child;case 12:return Vn(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Va(i,i.type,u.value),Vn(r,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,$s(i),f=Pn(f),u=u(f),i.flags|=1,Vn(r,i,u,o),i.child;case 14:return EE(r,i,i.type,i.pendingProps,o);case 15:return TE(r,i,i.type,i.pendingProps,o);case 19:return NE(r,i,o);case 31:return nC(r,i,o);case 22:return bE(r,i,o,i.pendingProps);case 24:return $s(i),u=Pn(mn),r===null?(f=km(),f===null&&(f=jt,m=Pm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},Um(i),Va(i,mn,f)):((r.lanes&o)!==0&&(jm(r,i),Eu(i,null,null,o),vu()),f=r.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Va(i,mn,u)):(u=m.cache,Va(i,mn,u),u!==f.cache&&Mm(i,[mn],o,!0))),Vn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Zi(r){r.flags|=4}function Ep(r,i,o,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(iT())r.flags|=8192;else throw Qs=Sh,Lm}else r.flags&=-16777217}function OE(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!KT(i))if(iT())r.flags|=8192;else throw Qs=Sh,Lm}function zh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Bi():536870912,r.lanes|=i,tl|=i)}function Ru(r,i){if(!gt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function $t(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function iC(r,i,o){var u=i.pendingProps;switch(Im(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(i),null;case 1:return $t(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Qi(mn),ot(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Fo(i)?Zi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nm())),$t(i),null;case 26:var f=i.type,m=i.memoizedState;return r===null?(Zi(i),m!==null?($t(i),OE(i,m)):($t(i),Ep(i,f,null,u,o))):m?m!==r.memoizedState?(Zi(i),$t(i),OE(i,m)):($t(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&Zi(i),$t(i),Ep(i,f,r,u,o)),null;case 27:if(In(i),o=Te.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Zi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return $t(i),null}r=ce.current,Fo(i)?hv(i):(r=jT(f,u,o),i.stateNode=r,Zi(i))}return $t(i),null;case 5:if(In(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Zi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return $t(i),null}if(m=ce.current,Fo(i))hv(i);else{var v=tf(Te.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?v.createElement(f,{is:u.is}):v.createElement(f)}}m[Ee]=i,m[Se]=u;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=m;e:switch(kn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Zi(i)}}return $t(i),Ep(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Zi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=Te.current,Fo(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,f=Mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Ee]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||IT(r.nodeValue,o)),r||Pa(i,!0)}else r=tf(r).createTextNode(u),r[Ee]=i,i.stateNode=r}return $t(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(u=Fo(i),o!==null){if(r===null){if(!u)throw Error(a(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(557));r[Ee]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),r=!1}else o=Nm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(br(i),i):(br(i),null);if((i.flags&128)!==0)throw Error(a(558))}return $t(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Fo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ee]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),f=!1}else f=Nm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(br(i),i):(br(i),null)}return br(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),zh(i,i.updateQueue),$t(i),null);case 4:return ot(),r===null&&Fp(i.stateNode.containerInfo),$t(i),null;case 10:return Qi(i.type),$t(i),null;case 19:if(G(cn),u=i.memoizedState,u===null)return $t(i),null;if(f=(i.flags&128)!==0,m=u.rendering,m===null)if(f)Ru(u,!1);else{if(on!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=Ch(r),m!==null){for(i.flags|=128,Ru(u,!1),r=m.updateQueue,i.updateQueue=r,zh(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)sv(o,r),o=o.sibling;return oe(cn,cn.current&1|2),gt&&Ki(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&Ye()>Gh&&(i.flags|=128,f=!0,Ru(u,!1),i.lanes=4194304)}else{if(!f)if(r=Ch(m),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,zh(i,r),Ru(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!gt)return $t(i),null}else 2*Ye()-u.renderingStartTime>Gh&&o!==536870912&&(i.flags|=128,f=!0,Ru(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(r=u.last,r!==null?r.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=Ye(),r.sibling=null,o=cn.current,oe(cn,f?o&1|2:o&1),gt&&Ki(i,u.treeForkCount),r):($t(i),null);case 22:case 23:return br(i),Hm(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&($t(i),i.subtreeFlags&6&&(i.flags|=8192)):$t(i),o=i.updateQueue,o!==null&&zh(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&G(Ks),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qi(mn),$t(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function aC(r,i){switch(Im(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Qi(mn),ot(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return In(i),null;case 31:if(i.memoizedState!==null){if(br(i),i.alternate===null)throw Error(a(340));qs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(br(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));qs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return G(cn),null;case 4:return ot(),null;case 10:return Qi(i.type),null;case 22:case 23:return br(i),Hm(),r!==null&&G(Ks),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Qi(mn),null;case 25:return null;default:return null}}function ME(r,i){switch(Im(i),i.tag){case 3:Qi(mn),ot();break;case 26:case 27:case 5:In(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&br(i);break;case 13:br(i);break;case 19:G(cn);break;case 10:Qi(i.type);break;case 22:case 23:br(i),Hm(),r!==null&&G(Ks);break;case 24:Qi(mn)}}function Cu(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,v=o.inst;u=m(),v.destroy=u}o=o.next}while(o!==f)}}catch(C){It(i,i.return,C)}}function Ba(r,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var v=u.inst,C=v.destroy;if(C!==void 0){v.destroy=void 0,f=i;var k=o,W=C;try{W()}catch(se){It(f,k,se)}}}u=u.next}while(u!==m)}}catch(se){It(i,i.return,se)}}function PE(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Av(i,o)}catch(u){It(r,r.return,u)}}}function VE(r,i,o){o.props=Js(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){It(r,i,u)}}function Iu(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){It(r,i,f)}}function Di(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){It(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){It(r,i,f)}else o.current=null}function kE(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){It(r,r.return,f)}}function Tp(r,i,o){try{var u=r.stateNode;CC(u,r.type,o,i),u[Se]=i}catch(f){It(r,r.return,f)}}function LE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ya(r.type)||r.tag===4}function bp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||LE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ya(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sp(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ti));else if(u!==4&&(u===27&&Ya(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Sp(r,i,o),r=r.sibling;r!==null;)Sp(r,i,o),r=r.sibling}function Bh(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&Ya(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Bh(r,i,o),r=r.sibling;r!==null;)Bh(r,i,o),r=r.sibling}function UE(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);kn(i,u,o),i[Ee]=r,i[Se]=o}catch(m){It(r,r.return,m)}}var ea=!1,yn=!1,Ap=!1,jE=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function sC(r,i){if(r=r.containerInfo,Gp=uf,r=W_(r),ym(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var v=0,C=-1,k=-1,W=0,se=0,he=r,Z=null;t:for(;;){for(var ie;he!==o||f!==0&&he.nodeType!==3||(C=v+f),he!==m||u!==0&&he.nodeType!==3||(k=v+u),he.nodeType===3&&(v+=he.nodeValue.length),(ie=he.firstChild)!==null;)Z=he,he=ie;for(;;){if(he===r)break t;if(Z===o&&++W===f&&(C=v),Z===m&&++se===u&&(k=v),(ie=he.nextSibling)!==null)break;he=Z,Z=he.parentNode}he=ie}o=C===-1||k===-1?null:{start:C,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for($p={focusedElem:r,selectionRange:o},uf=!1,Nn=i;Nn!==null;)if(i=Nn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Nn=r;else for(;Nn!==null;){switch(i=Nn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)f=r[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Oe=Js(o.type,f);r=u.getSnapshotBeforeUpdate(Oe,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(He){It(o,o.return,He)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Qp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Qp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,Nn=r;break}Nn=i.return}}function zE(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:na(r,o),u&4&&Cu(5,o);break;case 1:if(na(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(v){It(o,o.return,v)}else{var f=Js(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(v){It(o,o.return,v)}}u&64&&PE(o),u&512&&Iu(o,o.return);break;case 3:if(na(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Av(r,i)}catch(v){It(o,o.return,v)}}break;case 27:i===null&&u&4&&UE(o);case 26:case 5:na(r,o),i===null&&u&4&&kE(o),u&512&&Iu(o,o.return);break;case 12:na(r,o);break;case 31:na(r,o),u&4&&HE(r,o);break;case 13:na(r,o),u&4&&qE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=pC.bind(null,o),VC(r,o))));break;case 22:if(u=o.memoizedState!==null||ea,!u){i=i!==null&&i.memoizedState!==null||yn,f=ea;var m=yn;ea=u,(yn=i)&&!m?ra(r,o,(o.subtreeFlags&8772)!==0):na(r,o),ea=f,yn=m}break;case 30:break;default:na(r,o)}}function BE(r){var i=r.alternate;i!==null&&(r.alternate=null,BE(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&qt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Zt=null,or=!1;function ta(r,i,o){for(o=o.child;o!==null;)FE(r,i,o),o=o.sibling}function FE(r,i,o){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(mr,o)}catch{}switch(o.tag){case 26:yn||Di(o,i),ta(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:yn||Di(o,i);var u=Zt,f=or;Ya(o.type)&&(Zt=o.stateNode,or=!1),ta(r,i,o),Lu(o.stateNode),Zt=u,or=f;break;case 5:yn||Di(o,i);case 6:if(u=Zt,f=or,Zt=null,ta(r,i,o),Zt=u,or=f,Zt!==null)if(or)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(o.stateNode)}catch(m){It(o,i,m)}else try{Zt.removeChild(o.stateNode)}catch(m){It(o,i,m)}break;case 18:Zt!==null&&(or?(r=Zt,PT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ul(r)):PT(Zt,o.stateNode));break;case 4:u=Zt,f=or,Zt=o.stateNode.containerInfo,or=!0,ta(r,i,o),Zt=u,or=f;break;case 0:case 11:case 14:case 15:Ba(2,o,i),yn||Ba(4,o,i),ta(r,i,o);break;case 1:yn||(Di(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&VE(o,i,u)),ta(r,i,o);break;case 21:ta(r,i,o);break;case 22:yn=(u=yn)||o.memoizedState!==null,ta(r,i,o),yn=u;break;default:ta(r,i,o)}}function HE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ul(r)}catch(o){It(i,i.return,o)}}}function qE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ul(r)}catch(o){It(i,i.return,o)}}function oC(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new jE),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new jE),i;default:throw Error(a(435,r.tag))}}function Fh(r,i){var o=oC(r);i.forEach(function(u){if(!o.has(u)){o.add(u);var f=gC.bind(null,r,u);u.then(f,f)}})}function lr(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,v=i,C=v;e:for(;C!==null;){switch(C.tag){case 27:if(Ya(C.type)){Zt=C.stateNode,or=!1;break e}break;case 5:Zt=C.stateNode,or=!1;break e;case 3:case 4:Zt=C.stateNode.containerInfo,or=!0;break e}C=C.return}if(Zt===null)throw Error(a(160));FE(m,v,f),Zt=null,or=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)GE(i,r),i=i.sibling}var oi=null;function GE(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:lr(i,r),ur(r),u&4&&(Ba(3,r,r.return),Cu(3,r),Ba(5,r,r.return));break;case 1:lr(i,r),ur(r),u&512&&(yn||o===null||Di(o,o.return)),u&64&&ea&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=oi;if(lr(i,r),ur(r),u&512&&(yn||o===null||Di(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Nt]||m[Ee]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),kn(m,u,o),m[Ee]=r,Ft(m),u=m;break e;case"link":var v=GT("link","href",f).get(u+(o.href||""));if(v){for(var C=0;C<v.length;C++)if(m=v[C],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(C,1);break t}}m=f.createElement(u),kn(m,u,o),f.head.appendChild(m);break;case"meta":if(v=GT("meta","content",f).get(u+(o.content||""))){for(C=0;C<v.length;C++)if(m=v[C],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(C,1);break t}}m=f.createElement(u),kn(m,u,o),f.head.appendChild(m);break;default:throw Error(a(468,u))}m[Ee]=r,Ft(m),u=m}r.stateNode=u}else $T(f,r.type,r.stateNode);else r.stateNode=qT(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?$T(f,r.type,r.stateNode):qT(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Tp(r,r.memoizedProps,o.memoizedProps)}break;case 27:lr(i,r),ur(r),u&512&&(yn||o===null||Di(o,o.return)),o!==null&&u&4&&Tp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(lr(i,r),ur(r),u&512&&(yn||o===null||Di(o,o.return)),r.flags&32){f=r.stateNode;try{sr(f,"")}catch(Oe){It(r,r.return,Oe)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Tp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Ap=!0);break;case 6:if(lr(i,r),ur(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Oe){It(r,r.return,Oe)}}break;case 3:if(af=null,f=oi,oi=nf(i.containerInfo),lr(i,r),oi=f,ur(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(Oe){It(r,r.return,Oe)}Ap&&(Ap=!1,$E(r));break;case 4:u=oi,oi=nf(r.stateNode.containerInfo),lr(i,r),ur(r),oi=u;break;case 12:lr(i,r),ur(r);break;case 31:lr(i,r),ur(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fh(r,u)));break;case 13:lr(i,r),ur(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qh=Ye()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fh(r,u)));break;case 22:f=r.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,W=ea,se=yn;if(ea=W||f,yn=se||k,lr(i,r),yn=se,ea=W,ur(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||k||ea||yn||Zs(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(m=k.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{C=k.stateNode;var he=k.memoizedProps.style,Z=he!=null&&he.hasOwnProperty("display")?he.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Oe){It(k,k.return,Oe)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Oe){It(k,k.return,Oe)}}}else if(i.tag===18){if(o===null){k=i;try{var ie=k.stateNode;f?VT(ie,!0):VT(k.stateNode,!1)}catch(Oe){It(k,k.return,Oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fh(r,o))));break;case 19:lr(i,r),ur(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Fh(r,u)));break;case 30:break;case 21:break;default:lr(i,r),ur(r)}}function ur(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(LE(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,m=bp(r);Bh(r,m,f);break;case 5:var v=o.stateNode;o.flags&32&&(sr(v,""),o.flags&=-33);var C=bp(r);Bh(r,C,v);break;case 3:case 4:var k=o.stateNode.containerInfo,W=bp(r);Sp(r,W,k);break;default:throw Error(a(161))}}catch(se){It(r,r.return,se)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function $E(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;$E(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function na(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)zE(r,i.alternate,i),i=i.sibling}function Zs(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ba(4,i,i.return),Zs(i);break;case 1:Di(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&VE(i,i.return,o),Zs(i);break;case 27:Lu(i.stateNode);case 26:case 5:Di(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}r=r.sibling}}function ra(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:ra(f,m,o),Cu(4,m);break;case 1:if(ra(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){It(u,u.return,W)}if(u=m,f=u.updateQueue,f!==null){var C=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Sv(k[f],C)}catch(W){It(u,u.return,W)}}o&&v&64&&PE(m),Iu(m,m.return);break;case 27:UE(m);case 26:case 5:ra(f,m,o),o&&u===null&&v&4&&kE(m),Iu(m,m.return);break;case 12:ra(f,m,o);break;case 31:ra(f,m,o),o&&v&4&&HE(f,m);break;case 13:ra(f,m,o),o&&v&4&&qE(f,m);break;case 22:m.memoizedState===null&&ra(f,m,o),Iu(m,m.return);break;case 30:break;default:ra(f,m,o)}i=i.sibling}}function wp(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&mu(o))}function Rp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&mu(r))}function li(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)KE(r,i,o,u),i=i.sibling}function KE(r,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:li(r,i,o,u),f&2048&&Cu(9,i);break;case 1:li(r,i,o,u);break;case 3:li(r,i,o,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&mu(r)));break;case 12:if(f&2048){li(r,i,o,u),r=i.stateNode;try{var m=i.memoizedProps,v=m.id,C=m.onPostCommit;typeof C=="function"&&C(v,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){It(i,i.return,k)}}else li(r,i,o,u);break;case 31:li(r,i,o,u);break;case 13:li(r,i,o,u);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?li(r,i,o,u):Du(r,i):m._visibility&2?li(r,i,o,u):(m._visibility|=2,Jo(r,i,o,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&wp(v,i);break;case 24:li(r,i,o,u),f&2048&&Rp(i.alternate,i);break;default:li(r,i,o,u)}}function Jo(r,i,o,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,v=i,C=o,k=u,W=v.flags;switch(v.tag){case 0:case 11:case 15:Jo(m,v,C,k,f),Cu(8,v);break;case 23:break;case 22:var se=v.stateNode;v.memoizedState!==null?se._visibility&2?Jo(m,v,C,k,f):Du(m,v):(se._visibility|=2,Jo(m,v,C,k,f)),f&&W&2048&&wp(v.alternate,v);break;case 24:Jo(m,v,C,k,f),f&&W&2048&&Rp(v.alternate,v);break;default:Jo(m,v,C,k,f)}i=i.sibling}}function Du(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,f=u.flags;switch(u.tag){case 22:Du(o,u),f&2048&&wp(u.alternate,u);break;case 24:Du(o,u),f&2048&&Rp(u.alternate,u);break;default:Du(o,u)}i=i.sibling}}var Nu=8192;function Zo(r,i,o){if(r.subtreeFlags&Nu)for(r=r.child;r!==null;)YE(r,i,o),r=r.sibling}function YE(r,i,o){switch(r.tag){case 26:Zo(r,i,o),r.flags&Nu&&r.memoizedState!==null&&KC(o,oi,r.memoizedState,r.memoizedProps);break;case 5:Zo(r,i,o);break;case 3:case 4:var u=oi;oi=nf(r.stateNode.containerInfo),Zo(r,i,o),oi=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=Nu,Nu=16777216,Zo(r,i,o),Nu=u):Zo(r,i,o));break;default:Zo(r,i,o)}}function QE(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function xu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Nn=u,WE(u,r)}QE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)XE(r),r=r.sibling}function XE(r){switch(r.tag){case 0:case 11:case 15:xu(r),r.flags&2048&&Ba(9,r,r.return);break;case 3:xu(r);break;case 12:xu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Hh(r)):xu(r);break;default:xu(r)}}function Hh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Nn=u,WE(u,r)}QE(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ba(8,i,i.return),Hh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(i));break;default:Hh(i)}r=r.sibling}}function WE(r,i){for(;Nn!==null;){var o=Nn;switch(o.tag){case 0:case 11:case 15:Ba(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Nn=u;else e:for(o=r;Nn!==null;){u=Nn;var f=u.sibling,m=u.return;if(BE(u),u===o){Nn=null;break e}if(f!==null){f.return=m,Nn=f;break e}Nn=m}}}var lC={getCacheForType:function(r){var i=Pn(mn),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Pn(mn).controller.signal}},uC=typeof WeakMap=="function"?WeakMap:Map,St=0,jt=null,lt=null,ht=0,Ct=0,Sr=null,Fa=!1,el=!1,Cp=!1,ia=0,on=0,Ha=0,eo=0,Ip=0,Ar=0,tl=0,Ou=null,cr=null,Dp=!1,qh=0,JE=0,Gh=1/0,$h=null,qa=null,Sn=0,Ga=null,nl=null,aa=0,Np=0,xp=null,ZE=null,Mu=0,Op=null;function wr(){return(St&2)!==0&&ht!==0?ht&-ht:H.T!==null?Up():ve()}function eT(){if(Ar===0)if((ht&536870912)===0||gt){var r=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),Ar=r}else Ar=536870912;return r=Tr.current,r!==null&&(r.flags|=32),Ar}function hr(r,i,o){(r===jt&&(Ct===2||Ct===9)||r.cancelPendingCommit!==null)&&(rl(r,0),$a(r,ht,Ar,!1)),yi(r,o),((St&2)===0||r!==jt)&&(r===jt&&((St&2)===0&&(eo|=o),on===4&&$a(r,ht,Ar,!1)),Ni(r))}function tT(r,i,o){if((St&6)!==0)throw Error(a(327));var u=!o&&(i&127)===0&&(i&r.expiredLanes)===0||gr(r,i),f=u?fC(r,i):Pp(r,i,!0),m=u;do{if(f===0){el&&!u&&$a(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!cC(o)){f=Pp(r,i,!1),m=!1;continue}if(f===2){if(m=i,r.errorRecoveryDisabledLanes&m)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var C=r;f=Ou;var k=C.current.memoizedState.isDehydrated;if(k&&(rl(C,v).flags|=256),v=Pp(C,v,!1),v!==2){if(Cp&&!k){C.errorRecoveryDisabledLanes|=m,eo|=m,f=4;break e}m=cr,cr=f,m!==null&&(cr===null?cr=m:cr.push.apply(cr,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){rl(r,0),$a(r,i,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:$a(u,i,Ar,!Fa);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=qh+300-Ye(),10<f)){if($a(u,i,Ar,!Fa),pr(u,0,!0)!==0)break e;aa=i,u.timeoutHandle=OT(nT.bind(null,u,o,cr,$h,Dp,i,Ar,eo,tl,Fa,m,"Throttled",-0,0),f);break e}nT(u,o,cr,$h,Dp,i,Ar,eo,tl,Fa,m,null,-0,0)}}break}while(!0);Ni(r)}function nT(r,i,o,u,f,m,v,C,k,W,se,he,Z,ie){if(r.timeoutHandle=-1,he=i.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},YE(i,m,he);var Oe=(m&62914560)===m?qh-Ye():(m&4194048)===m?JE-Ye():0;if(Oe=YC(he,Oe),Oe!==null){aa=m,r.cancelPendingCommit=Oe(cT.bind(null,r,i,m,o,u,f,v,C,k,se,he,null,Z,ie)),$a(r,m,v,!W);return}}cT(r,i,m,o,u,f,v,C,k)}function cC(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!vr(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $a(r,i,o,u){i&=~Ip,i&=~eo,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var m=31-Xt(f),v=1<<m;u[m]=-1,f&=~v}o!==0&&Fi(r,o,i)}function Kh(){return(St&6)===0?(Pu(0),!1):!0}function Mp(){if(lt!==null){if(Ct===0)var r=lt.return;else r=lt,Yi=Gs=null,Qm(r),Ko=null,gu=0,r=lt;for(;r!==null;)ME(r.alternate,r),r=r.return;lt=null}}function rl(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,NC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),aa=0,Mp(),jt=r,lt=o=$i(r.current,null),ht=i,Ct=0,Sr=null,Fa=!1,el=gr(r,i),Cp=!1,tl=Ar=Ip=eo=Ha=on=0,cr=Ou=null,Dp=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-Xt(u),m=1<<f;i|=r[f],u&=~m}return ia=i,mh(),o}function rT(r,i){et=null,H.H=Au,i===$o||i===bh?(i=vv(),Ct=3):i===Lm?(i=vv(),Ct=4):Ct=i===hp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sr=i,lt===null&&(on=1,kh(r,zr(i,r.current)))}function iT(){var r=Tr.current;return r===null?!0:(ht&4194048)===ht?qr===null:(ht&62914560)===ht||(ht&536870912)!==0?r===qr:!1}function aT(){var r=H.H;return H.H=Au,r===null?Au:r}function sT(){var r=H.A;return H.A=lC,r}function Yh(){on=4,Fa||(ht&4194048)!==ht&&Tr.current!==null||(el=!0),(Ha&134217727)===0&&(eo&134217727)===0||jt===null||$a(jt,ht,Ar,!1)}function Pp(r,i,o){var u=St;St|=2;var f=aT(),m=sT();(jt!==r||ht!==i)&&($h=null,rl(r,i)),i=!1;var v=on;e:do try{if(Ct!==0&&lt!==null){var C=lt,k=Sr;switch(Ct){case 8:Mp(),v=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(i=!0);var W=Ct;if(Ct=0,Sr=null,il(r,C,k,W),o&&el){v=0;break e}break;default:W=Ct,Ct=0,Sr=null,il(r,C,k,W)}}hC(),v=on;break}catch(se){rT(r,se)}while(!0);return i&&r.shellSuspendCounter++,Yi=Gs=null,St=u,H.H=f,H.A=m,lt===null&&(jt=null,ht=0,mh()),v}function hC(){for(;lt!==null;)oT(lt)}function fC(r,i){var o=St;St|=2;var u=aT(),f=sT();jt!==r||ht!==i?($h=null,Gh=Ye()+500,rl(r,i)):el=gr(r,i);e:do try{if(Ct!==0&&lt!==null){i=lt;var m=Sr;t:switch(Ct){case 1:Ct=0,Sr=null,il(r,i,m,1);break;case 2:case 9:if(yv(m)){Ct=0,Sr=null,lT(i);break}i=function(){Ct!==2&&Ct!==9||jt!==r||(Ct=7),Ni(r)},m.then(i,i);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:yv(m)?(Ct=0,Sr=null,lT(i)):(Ct=0,Sr=null,il(r,i,m,7));break;case 5:var v=null;switch(lt.tag){case 26:v=lt.memoizedState;case 5:case 27:var C=lt;if(v?KT(v):C.stateNode.complete){Ct=0,Sr=null;var k=C.sibling;if(k!==null)lt=k;else{var W=C.return;W!==null?(lt=W,Qh(W)):lt=null}break t}}Ct=0,Sr=null,il(r,i,m,5);break;case 6:Ct=0,Sr=null,il(r,i,m,6);break;case 8:Mp(),on=6;break e;default:throw Error(a(462))}}dC();break}catch(se){rT(r,se)}while(!0);return Yi=Gs=null,H.H=u,H.A=f,St=o,lt!==null?0:(jt=null,ht=0,mh(),on)}function dC(){for(;lt!==null&&!Rt();)oT(lt)}function oT(r){var i=xE(r.alternate,r,ia);r.memoizedProps=r.pendingProps,i===null?Qh(r):lt=i}function lT(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=wE(o,i,i.pendingProps,i.type,void 0,ht);break;case 11:i=wE(o,i,i.pendingProps,i.type.render,i.ref,ht);break;case 5:Qm(i);default:ME(o,i),i=lt=sv(i,ia),i=xE(o,i,ia)}r.memoizedProps=r.pendingProps,i===null?Qh(r):lt=i}function il(r,i,o,u){Yi=Gs=null,Qm(i),Ko=null,gu=0;var f=i.return;try{if(tC(r,f,i,o,ht)){on=1,kh(r,zr(o,r.current)),lt=null;return}}catch(m){if(f!==null)throw lt=f,m;on=1,kh(r,zr(o,r.current)),lt=null;return}i.flags&32768?(gt||u===1?r=!0:el||(ht&536870912)!==0?r=!1:(Fa=r=!0,(u===2||u===9||u===3||u===6)&&(u=Tr.current,u!==null&&u.tag===13&&(u.flags|=16384))),uT(i,r)):Qh(i)}function Qh(r){var i=r;do{if((i.flags&32768)!==0){uT(i,Fa);return}r=i.return;var o=iC(i.alternate,i,ia);if(o!==null){lt=o;return}if(i=i.sibling,i!==null){lt=i;return}lt=i=r}while(i!==null);on===0&&(on=5)}function uT(r,i){do{var o=aC(r.alternate,r);if(o!==null){o.flags&=32767,lt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){lt=r;return}lt=r=o}while(r!==null);on=6,lt=null}function cT(r,i,o,u,f,m,v,C,k){r.cancelPendingCommit=null;do Xh();while(Sn!==0);if((St&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=bm,Jl(r,o,m,v,C,k),r===jt&&(lt=jt=null,ht=0),nl=i,Ga=r,aa=o,Np=m,xp=f,ZE=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,yC(an,function(){return pT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,f=fe.p,fe.p=2,v=St,St|=4;try{sC(r,i,o)}finally{St=v,fe.p=f,H.T=u}}Sn=1,hT(),fT(),dT()}}function hT(){if(Sn===1){Sn=0;var r=Ga,i=nl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=fe.p;fe.p=2;var f=St;St|=4;try{GE(i,r);var m=$p,v=W_(r.containerInfo),C=m.focusedElem,k=m.selectionRange;if(v!==C&&C&&C.ownerDocument&&X_(C.ownerDocument.documentElement,C)){if(k!==null&&ym(C)){var W=k.start,se=k.end;if(se===void 0&&(se=W),"selectionStart"in C)C.selectionStart=W,C.selectionEnd=Math.min(se,C.value.length);else{var he=C.ownerDocument||document,Z=he&&he.defaultView||window;if(Z.getSelection){var ie=Z.getSelection(),Oe=C.textContent.length,He=Math.min(k.start,Oe),Vt=k.end===void 0?He:Math.min(k.end,Oe);!ie.extend&&He>Vt&&(v=Vt,Vt=He,He=v);var $=Q_(C,He),B=Q_(C,Vt);if($&&B&&(ie.rangeCount!==1||ie.anchorNode!==$.node||ie.anchorOffset!==$.offset||ie.focusNode!==B.node||ie.focusOffset!==B.offset)){var X=he.createRange();X.setStart($.node,$.offset),ie.removeAllRanges(),He>Vt?(ie.addRange(X),ie.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),ie.addRange(X))}}}}for(he=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<he.length;C++){var le=he[C];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}uf=!!Gp,$p=Gp=null}finally{St=f,fe.p=u,H.T=o}}r.current=i,Sn=2}}function fT(){if(Sn===2){Sn=0;var r=Ga,i=nl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=fe.p;fe.p=2;var f=St;St|=4;try{zE(r,i.alternate,i)}finally{St=f,fe.p=u,H.T=o}}Sn=3}}function dT(){if(Sn===4||Sn===3){Sn=0,je();var r=Ga,i=nl,o=aa,u=ZE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Sn=5:(Sn=0,nl=Ga=null,mT(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(qa=null),me(o),i=i.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(mr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=H.T,f=fe.p,fe.p=2,H.T=null;try{for(var m=r.onRecoverableError,v=0;v<u.length;v++){var C=u[v];m(C.value,{componentStack:C.stack})}}finally{H.T=i,fe.p=f}}(aa&3)!==0&&Xh(),Ni(r),f=r.pendingLanes,(o&261930)!==0&&(f&42)!==0?r===Op?Mu++:(Mu=0,Op=r):Mu=0,Pu(0)}}function mT(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,mu(i)))}function Xh(){return hT(),fT(),dT(),pT()}function pT(){if(Sn!==5)return!1;var r=Ga,i=Np;Np=0;var o=me(aa),u=H.T,f=fe.p;try{fe.p=32>o?32:o,H.T=null,o=xp,xp=null;var m=Ga,v=aa;if(Sn=0,nl=Ga=null,aa=0,(St&6)!==0)throw Error(a(331));var C=St;if(St|=4,XE(m.current),KE(m,m.current,v,o),St=C,Pu(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(mr,m)}catch{}return!0}finally{fe.p=f,H.T=u,mT(r,i)}}function gT(r,i,o){i=zr(o,i),i=cp(r.stateNode,i,2),r=Ua(r,i,2),r!==null&&(yi(r,2),Ni(r))}function It(r,i,o){if(r.tag===3)gT(r,r,o);else for(;i!==null;){if(i.tag===3){gT(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qa===null||!qa.has(u))){r=zr(o,r),o=yE(2),u=Ua(i,o,2),u!==null&&(_E(o,u,i,r),yi(u,2),Ni(u));break}}i=i.return}}function Vp(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new uC;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Cp=!0,f.add(o),r=mC.bind(null,r,i,o),i.then(r,r))}function mC(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,jt===r&&(ht&o)===o&&(on===4||on===3&&(ht&62914560)===ht&&300>Ye()-qh?(St&2)===0&&rl(r,0):Ip|=o,tl===ht&&(tl=0)),Ni(r)}function yT(r,i){i===0&&(i=Bi()),r=Fs(r,i),r!==null&&(yi(r,i),Ni(r))}function pC(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),yT(r,o)}function gC(r,i){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),yT(r,o)}function yC(r,i){return Fe(r,i)}var Wh=null,al=null,kp=!1,Jh=!1,Lp=!1,Ka=0;function Ni(r){r!==al&&r.next===null&&(al===null?Wh=al=r:al=al.next=r),Jh=!0,kp||(kp=!0,vC())}function Pu(r,i){if(!Lp&&Jh){Lp=!0;do for(var o=!1,u=Wh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var v=u.suspendedLanes,C=u.pingedLanes;m=(1<<31-Xt(42|r)+1)-1,m&=f&~(v&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,TT(u,m))}else m=ht,m=pr(u,u===jt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||gr(u,m)||(o=!0,TT(u,m));u=u.next}while(o);Lp=!1}}function _C(){_T()}function _T(){Jh=kp=!1;var r=0;Ka!==0&&DC()&&(r=Ka);for(var i=Ye(),o=null,u=Wh;u!==null;){var f=u.next,m=vT(u,i);m===0?(u.next=null,o===null?Wh=f:o.next=f,f===null&&(al=o)):(o=u,(r!==0||(m&3)!==0)&&(Jh=!0)),u=f}Sn!==0&&Sn!==5||Pu(r),Ka!==0&&(Ka=0)}function vT(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var v=31-Xt(m),C=1<<v,k=f[v];k===-1?((C&o)===0||(C&u)!==0)&&(f[v]=Ro(C,i)):k<=i&&(r.expiredLanes|=C),m&=~C}if(i=jt,o=ht,o=pr(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(Ct===2||Ct===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Lt(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||gr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&Lt(u),me(o)){case 2:case 8:o=Qn;break;case 32:o=an;break;case 268435456:o=Is;break;default:o=an}return u=ET.bind(null,r),o=Fe(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&Lt(u),r.callbackPriority=2,r.callbackNode=null,2}function ET(r,i){if(Sn!==0&&Sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Xh()&&r.callbackNode!==o)return null;var u=ht;return u=pr(r,r===jt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(tT(r,u,i),vT(r,Ye()),r.callbackNode!=null&&r.callbackNode===o?ET.bind(null,r):null)}function TT(r,i){if(Xh())return null;tT(r,i,!0)}function vC(){xC(function(){(St&6)!==0?Fe(nr,_C):_T()})}function Up(){if(Ka===0){var r=qo;r===0&&(r=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ka=r}return Ka}function bT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Do(""+r)}function ST(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function EC(r,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=bT((f[Se]||null).action),v=u.submitter;v&&(i=(i=v[Se]||null)?bT(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var C=new Si("action","action",null,u,f);r.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ka!==0){var k=v?ST(f,v):new FormData(f);ip(o,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(C.preventDefault(),k=v?ST(f,v):new FormData(f),ip(o,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var jp=0;jp<Tm.length;jp++){var zp=Tm[jp],TC=zp.toLowerCase(),bC=zp[0].toUpperCase()+zp.slice(1);si(TC,"on"+bC)}si(ev,"onAnimationEnd"),si(tv,"onAnimationIteration"),si(nv,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(UR,"onTransitionRun"),si(jR,"onTransitionStart"),si(zR,"onTransitionCancel"),si(rv,"onTransitionEnd"),Fn("onMouseEnter",["mouseout","mouseover"]),Fn("onMouseLeave",["mouseout","mouseover"]),Fn("onPointerEnter",["pointerout","pointerover"]),Fn("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function AT(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var v=u.length-1;0<=v;v--){var C=u[v],k=C.instance,W=C.currentTarget;if(C=C.listener,k!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=W;try{m(f)}catch(se){dh(se)}f.currentTarget=null,m=k}else for(v=0;v<u.length;v++){if(C=u[v],k=C.instance,W=C.currentTarget,C=C.listener,k!==m&&f.isPropagationStopped())break e;m=C,f.currentTarget=W;try{m(f)}catch(se){dh(se)}f.currentTarget=null,m=k}}}}function ut(r,i){var o=i[qe];o===void 0&&(o=i[qe]=new Set);var u=r+"__bubble";o.has(u)||(wT(i,r,2,!1),o.add(u))}function Bp(r,i,o){var u=0;i&&(u|=4),wT(o,r,u,i)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Fp(r){if(!r[Zh]){r[Zh]=!0,rr.forEach(function(o){o!=="selectionchange"&&(SC.has(o)||Bp(o,!1,r),Bp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Zh]||(i[Zh]=!0,Bp("selectionchange",!1,i))}}function wT(r,i,o,u){switch(eb(i)){case 2:var f=WC;break;case 8:f=JC;break;default:f=rg}o=f.bind(null,i,o,r),f=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Hp(r,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var C=u.stateNode.containerInfo;if(C===f)break;if(v===4)for(v=u.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;C!==null;){if(v=zt(C),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){u=m=v;continue e}C=C.parentNode}}u=u.return}Ia(function(){var W=m,se=kr(o),he=[];e:{var Z=iv.get(r);if(Z!==void 0){var ie=Si,Oe=r;switch(r){case"keypress":if(ks(o)===0)break e;case"keydown":case"keyup":ie=ch;break;case"focusin":Oe="focus",ie=Us;break;case"focusout":Oe="blur",ie=Us;break;case"beforeblur":case"afterblur":ie=Us;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=y;break;case ev:case tv:case nv:ie=rh;break;case rv:ie=N;break;case"scroll":case"scrollend":ie=au;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Gi;break;case"toggle":case"beforetoggle":ie=Ze}var He=(i&4)!==0,Vt=!He&&(r==="scroll"||r==="scrollend"),$=He?Z!==null?Z+"Capture":null:Z;He=[];for(var B=W,X;B!==null;){var le=B;if(X=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||X===null||$===null||(le=ni(B,$),le!=null&&He.push(ku(B,le,X))),Vt)break;B=B.return}0<He.length&&(Z=new ie(Z,Oe,null,o,se),he.push({event:Z,listeners:He}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ie=r==="mouseout"||r==="pointerout",Z&&o!==nu&&(Oe=o.relatedTarget||o.fromElement)&&(zt(Oe)||Oe[Ne]))break e;if((ie||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(Oe=o.relatedTarget||o.toElement,ie=W,Oe=Oe?zt(Oe):null,Oe!==null&&(Vt=l(Oe),He=Oe.tag,Oe!==Vt||He!==5&&He!==27&&He!==6)&&(Oe=null)):(ie=null,Oe=W),ie!==Oe)){if(He=su,le="onMouseLeave",$="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(He=Gi,le="onPointerLeave",$="onPointerEnter",B="pointer"),Vt=ie==null?Z:Bt(ie),X=Oe==null?Z:Bt(Oe),Z=new He(le,B+"leave",ie,o,se),Z.target=Vt,Z.relatedTarget=X,le=null,zt(se)===W&&(He=new He($,B+"enter",Oe,o,se),He.target=X,He.relatedTarget=Vt,le=He),Vt=le,ie&&Oe)t:{for(He=AC,$=ie,B=Oe,X=0,le=$;le;le=He(le))X++;le=0;for(var ze=B;ze;ze=He(ze))le++;for(;0<X-le;)$=He($),X--;for(;0<le-X;)B=He(B),le--;for(;X--;){if($===B||B!==null&&$===B.alternate){He=$;break t}$=He($),B=He(B)}He=null}else He=null;ie!==null&&RT(he,Z,ie,He,!1),Oe!==null&&Vt!==null&&RT(he,Vt,Oe,He,!0)}}e:{if(Z=W?Bt(W):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var _t=H_;else if(B_(Z))if(q_)_t=VR;else{_t=MR;var Ve=OR}else ie=Z.nodeName,!ie||ie.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Io(W.elementType)&&(_t=H_):_t=PR;if(_t&&(_t=_t(r,W))){F_(he,_t,o,se);break e}Ve&&Ve(r,Z,W),r==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&Zl(Z,"number",Z.value)}switch(Ve=W?Bt(W):window,r){case"focusin":(B_(Ve)||Ve.contentEditable==="true")&&(ko=Ve,_m=W,hu=null);break;case"focusout":hu=_m=ko=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,J_(he,o,se);break;case"selectionchange":if(LR)break;case"keydown":case"keyup":J_(he,o,se)}var rt;if(bt)e:{switch(r){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Vo?js(r,o)&&(ft="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ft="onCompositionStart");ft&&(Ri&&o.locale!=="ko"&&(Vo||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Vo&&(rt=iu()):(bi=se,ru="value"in bi?bi.value:bi.textContent,Vo=!0)),Ve=ef(W,ft),0<Ve.length&&(ft=new wi(ft,r,null,o,se),he.push({event:ft,listeners:Ve}),rt?ft.data=rt:(rt=Po(o),rt!==null&&(ft.data=rt)))),(rt=Ur?IR(r,o):DR(r,o))&&(ft=ef(W,"onBeforeInput"),0<ft.length&&(Ve=new wi("onBeforeInput","beforeinput",null,o,se),he.push({event:Ve,listeners:ft}),Ve.data=rt)),EC(he,r,W,o,se)}AT(he,i)})}function ku(r,i,o){return{instance:r,listener:i,currentTarget:o}}function ef(r,i){for(var o=i+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ni(r,o),f!=null&&u.unshift(ku(r,f,m)),f=ni(r,i),f!=null&&u.push(ku(r,f,m))),r.tag===3)return u;r=r.return}return[]}function AC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function RT(r,i,o,u,f){for(var m=i._reactName,v=[];o!==null&&o!==u;){var C=o,k=C.alternate,W=C.stateNode;if(C=C.tag,k!==null&&k===u)break;C!==5&&C!==26&&C!==27||W===null||(k=W,f?(W=ni(o,m),W!=null&&v.unshift(ku(o,W,k))):f||(W=ni(o,m),W!=null&&v.push(ku(o,W,k)))),o=o.return}v.length!==0&&r.push({event:i,listeners:v})}var wC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function CT(r){return(typeof r=="string"?r:""+r).replace(wC,`
`).replace(RC,"")}function IT(r,i){return i=CT(i),CT(r)===i}function Pt(r,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||sr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&sr(r,""+u);break;case"className":dn(r,"class",u);break;case"tabIndex":dn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(r,o,u);break;case"style":tu(r,u,m);break;case"data":if(i!=="object"){dn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Do(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Pt(r,i,"name",f.name,f,null),Pt(r,i,"formEncType",f.formEncType,f,null),Pt(r,i,"formMethod",f.formMethod,f,null),Pt(r,i,"formTarget",f.formTarget,f,null)):(Pt(r,i,"encType",f.encType,f,null),Pt(r,i,"method",f.method,f,null),Pt(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Do(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ti);break;case"onScroll":u!=null&&ut("scroll",r);break;case"onScrollEnd":u!=null&&ut("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Do(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ut("beforetoggle",r),ut("toggle",r),en(r,"popover",u);break;case"xlinkActuate":xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":en(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=eh.get(o)||o,en(r,o,u))}}function qp(r,i,o,u,f,m){switch(o){case"style":tu(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=o}}break;case"children":typeof u=="string"?sr(r,u):(typeof u=="number"||typeof u=="bigint")&&sr(r,""+u);break;case"onScroll":u!=null&&ut("scroll",r);break;case"onScrollEnd":u!=null&&ut("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=r[Se]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):en(r,o,u)}}}function kn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",r),ut("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var v=o[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Pt(r,i,m,v,o,null)}}f&&Pt(r,i,"srcSet",o.srcSet,o,null),u&&Pt(r,i,"src",o.src,o,null);return;case"input":ut("invalid",r);var C=m=v=f=null,k=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":f=se;break;case"type":v=se;break;case"checked":k=se;break;case"defaultChecked":W=se;break;case"value":m=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:Pt(r,i,u,se,o,null)}}Wc(r,m,C,k,W,v,f,!1);return;case"select":ut("invalid",r),u=v=m=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":v=C;break;case"multiple":u=C;default:Pt(r,i,f,C,o,null)}i=m,o=v,r.multiple=!!u,i!=null?Aa(r,!!u,i,!1):o!=null&&Aa(r,!!u,o,!0);return;case"textarea":ut("invalid",r),m=f=u=null;for(v in o)if(o.hasOwnProperty(v)&&(C=o[v],C!=null))switch(v){case"value":u=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Pt(r,i,v,C,o,null)}wa(r,u,f,m);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Pt(r,i,k,u,o,null)}return;case"dialog":ut("beforetoggle",r),ut("toggle",r),ut("cancel",r),ut("close",r);break;case"iframe":case"object":ut("load",r);break;case"video":case"audio":for(u=0;u<Vu.length;u++)ut(Vu[u],r);break;case"image":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"embed":case"source":case"link":ut("error",r),ut("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Pt(r,i,W,u,o,null)}return;default:if(Io(i)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&qp(r,i,se,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&Pt(r,i,C,u,o,null))}function CC(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,C=null,k=null,W=null,se=null;for(ie in o){var he=o[ie];if(o.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":k=he;default:u.hasOwnProperty(ie)||Pt(r,i,ie,null,u,he)}}for(var Z in u){var ie=u[Z];if(he=o[Z],u.hasOwnProperty(Z)&&(ie!=null||he!=null))switch(Z){case"type":m=ie;break;case"name":f=ie;break;case"checked":W=ie;break;case"defaultChecked":se=ie;break;case"value":v=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,i));break;default:ie!==he&&Pt(r,i,Z,ie,u,he)}}Co(r,v,C,k,W,se,m,f);return;case"select":ie=v=C=Z=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":ie=k;default:u.hasOwnProperty(m)||Pt(r,i,m,null,u,k)}for(f in u)if(m=u[f],k=o[f],u.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":Z=m;break;case"defaultValue":C=m;break;case"multiple":v=m;default:m!==k&&Pt(r,i,f,m,u,k)}i=C,o=v,u=ie,Z!=null?Aa(r,!!o,Z,!1):!!u!=!!o&&(i!=null?Aa(r,!!o,i,!0):Aa(r,!!o,o?[]:"",!1));return;case"textarea":ie=Z=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Pt(r,i,C,null,u,f)}for(v in u)if(f=u[v],m=o[v],u.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":Z=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&Pt(r,i,v,f,u,m)}Jc(r,Z,ie);return;case"option":for(var Oe in o)if(Z=o[Oe],o.hasOwnProperty(Oe)&&Z!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:Pt(r,i,Oe,null,u,Z)}for(k in u)if(Z=u[k],ie=o[k],u.hasOwnProperty(k)&&Z!==ie&&(Z!=null||ie!=null))switch(k){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Pt(r,i,k,Z,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in o)Z=o[He],o.hasOwnProperty(He)&&Z!=null&&!u.hasOwnProperty(He)&&Pt(r,i,He,null,u,Z);for(W in u)if(Z=u[W],ie=o[W],u.hasOwnProperty(W)&&Z!==ie&&(Z!=null||ie!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Pt(r,i,W,Z,u,ie)}return;default:if(Io(i)){for(var Vt in o)Z=o[Vt],o.hasOwnProperty(Vt)&&Z!==void 0&&!u.hasOwnProperty(Vt)&&qp(r,i,Vt,void 0,u,Z);for(se in u)Z=u[se],ie=o[se],!u.hasOwnProperty(se)||Z===ie||Z===void 0&&ie===void 0||qp(r,i,se,Z,u,ie);return}}for(var $ in o)Z=o[$],o.hasOwnProperty($)&&Z!=null&&!u.hasOwnProperty($)&&Pt(r,i,$,null,u,Z);for(he in u)Z=u[he],ie=o[he],!u.hasOwnProperty(he)||Z===ie||Z==null&&ie==null||Pt(r,i,he,Z,u,ie)}function DT(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,v=f.initiatorType,C=f.duration;if(m&&C&&DT(v)){for(v=0,C=f.responseEnd,u+=1;u<o.length;u++){var k=o[u],W=k.startTime;if(W>C)break;var se=k.transferSize,he=k.initiatorType;se&&DT(he)&&(k=k.responseEnd,v+=se*(k<C?1:(C-W)/(k-W)))}if(--u,i+=8*(m+v)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Gp=null,$p=null;function tf(r){return r.nodeType===9?r:r.ownerDocument}function NT(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xT(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Kp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yp=null;function DC(){var r=window.event;return r&&r.type==="popstate"?r===Yp?!1:(Yp=r,!0):(Yp=null,!1)}var OT=typeof setTimeout=="function"?setTimeout:void 0,NC=typeof clearTimeout=="function"?clearTimeout:void 0,MT=typeof Promise=="function"?Promise:void 0,xC=typeof queueMicrotask=="function"?queueMicrotask:typeof MT<"u"?function(r){return MT.resolve(null).then(r).catch(OC)}:OT;function OC(r){setTimeout(function(){throw r})}function Ya(r){return r==="head"}function PT(r,i){var o=i,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(f),ul(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Lu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Lu(o);for(var m=o.firstChild;m;){var v=m.nextSibling,C=m.nodeName;m[Nt]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=v}}else o==="body"&&Lu(r.ownerDocument.body);o=f}while(o);ul(i)}function VT(r,i){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Qp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Qp(o),qt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function MC(r,i,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Nt])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Gr(r.nextSibling),r===null)break}return null}function PC(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Gr(r.nextSibling),r===null))return null;return r}function kT(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Gr(r.nextSibling),r===null))return null;return r}function Xp(r){return r.data==="$?"||r.data==="$~"}function Wp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function VC(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Gr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Jp=null;function LT(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Gr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function UT(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function jT(r,i,o){switch(i=tf(o),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Lu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);qt(r)}var $r=new Map,zT=new Set;function nf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var sa=fe.d;fe.d={f:kC,r:LC,D:UC,C:jC,L:zC,m:BC,X:HC,S:FC,M:qC};function kC(){var r=sa.f(),i=Kh();return r||i}function LC(r){var i=tt(r);i!==null&&i.tag===5&&i.type==="form"?rE(i):sa.r(r)}var sl=typeof document>"u"?null:document;function BT(r,i,o){var u=sl;if(u&&typeof i=="string"&&i){var f=ar(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),zT.has(f)||(zT.add(f),r={rel:r,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),kn(i,"link",r),Ft(i),u.head.appendChild(i)))}}function UC(r){sa.D(r),BT("dns-prefetch",r,null)}function jC(r,i){sa.C(r,i),BT("preconnect",r,i)}function zC(r,i,o){sa.L(r,i,o);var u=sl;if(u&&r&&i){var f='link[rel="preload"][as="'+ar(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+ar(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+ar(o.imageSizes)+'"]')):f+='[href="'+ar(r)+'"]';var m=f;switch(i){case"style":m=ol(r);break;case"script":m=ll(r)}$r.has(m)||(r=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),$r.set(m,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(Uu(m))||i==="script"&&u.querySelector(ju(m))||(i=u.createElement("link"),kn(i,"link",r),Ft(i),u.head.appendChild(i)))}}function BC(r,i){sa.m(r,i);var o=sl;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ar(u)+'"][href="'+ar(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ll(r)}if(!$r.has(m)&&(r=E({rel:"modulepreload",href:r},i),$r.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ju(m)))return}u=o.createElement("link"),kn(u,"link",r),Ft(u),o.head.appendChild(u)}}}function FC(r,i,o){sa.S(r,i,o);var u=sl;if(u&&r){var f=Dn(u).hoistableStyles,m=ol(r);i=i||"default";var v=f.get(m);if(!v){var C={loading:0,preload:null};if(v=u.querySelector(Uu(m)))C.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":i},o),(o=$r.get(m))&&Zp(r,o);var k=v=u.createElement("link");Ft(k),kn(k,"link",r),k._p=new Promise(function(W,se){k.onload=W,k.onerror=se}),k.addEventListener("load",function(){C.loading|=1}),k.addEventListener("error",function(){C.loading|=2}),C.loading|=4,rf(v,i,u)}v={type:"stylesheet",instance:v,count:1,state:C},f.set(m,v)}}}function HC(r,i){sa.X(r,i);var o=sl;if(o&&r){var u=Dn(o).hoistableScripts,f=ll(r),m=u.get(f);m||(m=o.querySelector(ju(f)),m||(r=E({src:r,async:!0},i),(i=$r.get(f))&&eg(r,i),m=o.createElement("script"),Ft(m),kn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function qC(r,i){sa.M(r,i);var o=sl;if(o&&r){var u=Dn(o).hoistableScripts,f=ll(r),m=u.get(f);m||(m=o.querySelector(ju(f)),m||(r=E({src:r,async:!0,type:"module"},i),(i=$r.get(f))&&eg(r,i),m=o.createElement("script"),Ft(m),kn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function FT(r,i,o,u){var f=(f=Te.current)?nf(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ol(o.href),o=Dn(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ol(o.href);var m=Dn(f).hoistableStyles,v=m.get(r);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,v),(m=f.querySelector(Uu(r)))&&!m._p&&(v.instance=m,v.state.loading=5),$r.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$r.set(r,o),m||GC(f,r,o,v.state))),i&&u===null)throw Error(a(528,""));return v}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ll(o),o=Dn(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ol(r){return'href="'+ar(r)+'"'}function Uu(r){return'link[rel="stylesheet"]['+r+"]"}function HT(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function GC(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),kn(i,"link",o),Ft(i),r.head.appendChild(i))}function ll(r){return'[src="'+ar(r)+'"]'}function ju(r){return"script[async]"+r}function qT(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+ar(o.href)+'"]');if(u)return i.instance=u,Ft(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ft(u),kn(u,"style",f),rf(u,o.precedence,r),i.instance=u;case"stylesheet":f=ol(o.href);var m=r.querySelector(Uu(f));if(m)return i.state.loading|=4,i.instance=m,Ft(m),m;u=HT(o),(f=$r.get(f))&&Zp(u,f),m=(r.ownerDocument||r).createElement("link"),Ft(m);var v=m;return v._p=new Promise(function(C,k){v.onload=C,v.onerror=k}),kn(m,"link",u),i.state.loading|=4,rf(m,o.precedence,r),i.instance=m;case"script":return m=ll(o.src),(f=r.querySelector(ju(m)))?(i.instance=f,Ft(f),f):(u=o,(f=$r.get(m))&&(u=E({},o),eg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ft(f),kn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,rf(u,o.precedence,r));return i.instance}function rf(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,v=0;v<u.length;v++){var C=u[v];if(C.dataset.precedence===i)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Zp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function eg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var af=null;function GT(r,i,o){if(af===null){var u=new Map,f=af=new Map;f.set(o,u)}else f=af,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Nt]||m[Ee]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=r+v;var C=u.get(v);C?C.push(m):u.set(v,[m])}}return u}function $T(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function $C(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function KT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function KC(r,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ol(u.href),m=i.querySelector(Uu(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=sf.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,Ft(m);return}m=i.ownerDocument||i,u=HT(u),(f=$r.get(f))&&Zp(u,f),m=m.createElement("link"),Ft(m);var v=m;v._p=new Promise(function(C,k){v.onload=C,v.onerror=k}),kn(m,"link",u),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=sf.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var tg=0;function YC(r,i){return r.stylesheets&&r.count===0&&lf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&lf(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&tg===0&&(tg=62500*IC());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&lf(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>tg?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var of=null;function lf(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,of=new Map,i.forEach(QC,r),of=null,sf.call(r))}function QC(r,i){if(!(i.state.loading&4)){var o=of.get(r);if(o)var u=o.get(null);else{o=new Map,of.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}f=i.instance,v=f.getAttribute("data-precedence"),m=o.get(v)||u,m===u&&o.set(null,f),o.set(v,f),this.count++,u=sf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var zu={$$typeof:K,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function XC(r,i,o,u,f,m,v,C,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function YT(r,i,o,u,f,m,v,C,k,W,se,he){return r=new XC(r,i,o,v,k,W,se,he,C),i=1,m===!0&&(i|=24),m=Er(3,null,null,i),r.current=m,m.stateNode=r,i=Pm(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},Um(m),r}function QT(r){return r?(r=jo,r):jo}function XT(r,i,o,u,f,m){f=QT(f),u.context===null?u.context=f:u.pendingContext=f,u=La(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Ua(r,u,i),o!==null&&(hr(o,r,i),_u(o,r,i))}function WT(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function ng(r,i){WT(r,i),(r=r.alternate)&&WT(r,i)}function JT(r){if(r.tag===13||r.tag===31){var i=Fs(r,67108864);i!==null&&hr(i,r,67108864),ng(r,67108864)}}function ZT(r){if(r.tag===13||r.tag===31){var i=wr();i=J(i);var o=Fs(r,i);o!==null&&hr(o,r,i),ng(r,i)}}var uf=!0;function WC(r,i,o,u){var f=H.T;H.T=null;var m=fe.p;try{fe.p=2,rg(r,i,o,u)}finally{fe.p=m,H.T=f}}function JC(r,i,o,u){var f=H.T;H.T=null;var m=fe.p;try{fe.p=8,rg(r,i,o,u)}finally{fe.p=m,H.T=f}}function rg(r,i,o,u){if(uf){var f=ig(u);if(f===null)Hp(r,i,u,cf,o),tb(r,u);else if(eI(f,r,i,o,u))u.stopPropagation();else if(tb(r,u),i&4&&-1<ZC.indexOf(r)){for(;f!==null;){var m=tt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Vr(m.pendingLanes);if(v!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;v;){var k=1<<31-Xt(v);C.entanglements[1]|=k,v&=~k}Ni(m),(St&6)===0&&(Gh=Ye()+500,Pu(0))}}break;case 31:case 13:C=Fs(m,2),C!==null&&hr(C,m,2),Kh(),ng(m,2)}if(m=ig(u),m===null&&Hp(r,i,u,cf,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Hp(r,i,u,null,o)}}function ig(r){return r=kr(r),ag(r)}var cf=null;function ag(r){if(cf=null,r=zt(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=d(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return cf=r,null}function eb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case nr:return 2;case Qn:return 8;case an:case bn:return 32;case Is:return 268435456;default:return 32}default:return 32}}var sg=!1,Qa=null,Xa=null,Wa=null,Bu=new Map,Fu=new Map,Ja=[],ZC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(r,i){switch(r){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Bu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(i.pointerId)}}function Hu(r,i,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=tt(i),i!==null&&JT(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function eI(r,i,o,u,f){switch(i){case"focusin":return Qa=Hu(Qa,r,i,o,u,f),!0;case"dragenter":return Xa=Hu(Xa,r,i,o,u,f),!0;case"mouseover":return Wa=Hu(Wa,r,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return Bu.set(m,Hu(Bu.get(m)||null,r,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Fu.set(m,Hu(Fu.get(m)||null,r,i,o,u,f)),!0}return!1}function nb(r){var i=zt(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,Ie(r.priority,function(){ZT(o)});return}}else if(i===31){if(i=d(o),i!==null){r.blockedOn=i,Ie(r.priority,function(){ZT(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hf(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=ig(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);nu=u,o.target.dispatchEvent(u),nu=null}else return i=tt(o),i!==null&&JT(i),r.blockedOn=o,!1;i.shift()}return!0}function rb(r,i,o){hf(r)&&o.delete(i)}function tI(){sg=!1,Qa!==null&&hf(Qa)&&(Qa=null),Xa!==null&&hf(Xa)&&(Xa=null),Wa!==null&&hf(Wa)&&(Wa=null),Bu.forEach(rb),Fu.forEach(rb)}function ff(r,i){r.blockedOn===i&&(r.blockedOn=null,sg||(sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,tI)))}var df=null;function ib(r){df!==r&&(df=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){df===r&&(df=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(ag(u||o)===null)continue;break}var m=tt(o);m!==null&&(r.splice(i,3),i-=3,ip(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ul(r){function i(k){return ff(k,r)}Qa!==null&&ff(Qa,r),Xa!==null&&ff(Xa,r),Wa!==null&&ff(Wa,r),Bu.forEach(i),Fu.forEach(i);for(var o=0;o<Ja.length;o++){var u=Ja[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ja.length&&(o=Ja[0],o.blockedOn===null);)nb(o),o.blockedOn===null&&Ja.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],v=f[Se]||null;if(typeof m=="function")v||ib(o);else if(v){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Se]||null)C=v.formAction;else if(ag(f)!==null)continue}else C=v.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),ib(o)}}}function ab(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function og(r){this._internalRoot=r}mf.prototype.render=og.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=wr();XT(o,u,r,i,null,null)},mf.prototype.unmount=og.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;XT(r.current,2,null,r,null,null),Kh(),i[Ne]=null}};function mf(r){this._internalRoot=r}mf.prototype.unstable_scheduleHydration=function(r){if(r){var i=ve();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Ja.length&&i!==0&&i<Ja[o].priority;o++);Ja.splice(o,0,r),o===0&&nb(r)}};var sb=e.version;if(sb!=="19.2.4")throw Error(a(527,sb,"19.2.4"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(i),r=r!==null?_(r):null,r=r===null?null:r.stateNode,r};var nI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{mr=pf.inject(nI),Ut=pf}catch{}}return Gu.createRoot=function(r,i){if(!s(r))throw Error(a(299));var o=!1,u="",f=dE,m=mE,v=pE;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=YT(r,1,!1,null,null,o,u,null,f,m,v,ab),r[Ne]=i.current,Fp(r),new og(i)},Gu.hydrateRoot=function(r,i,o){if(!s(r))throw Error(a(299));var u=!1,f="",m=dE,v=mE,C=pE,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),i=YT(r,1,!0,i,o??null,u,f,k,m,v,C,ab),i.context=QT(null),o=i.current,u=wr(),u=J(u),f=La(u),f.callback=null,Ua(o,f,u),o=u,i.current.lanes=o,yi(i,o),Ni(i),r[Ne]=i.current,Fp(r),new mf(i)},Gu.version="19.2.4",Gu}var gb;function pI(){if(gb)return hg.exports;gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hg.exports=mI(),hg.exports}var gI=pI();const yI=HS(gI);var pg={exports:{}},gg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function _I(){if(yb)return gg;yb=1;var n=xd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,a=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return gg.useSyncExternalStoreWithSelector=function(p,g,_,E,b){var R=s(null);if(R.current===null){var L={hasValue:!1,value:null};R.current=L}else L=R.current;R=c(function(){function j(ae){if(!Y){if(Y=!0,F=ae,ae=E(ae),b!==void 0&&L.hasValue){var te=L.value;if(b(te,ae))return K=te}return K=ae}if(te=K,t(F,ae))return te;var S=E(ae);return b!==void 0&&b(te,S)?(F=ae,te):(F=ae,K=S)}var Y=!1,F,K,ee=_===void 0?null:_;return[function(){return j(g())},ee===null?void 0:function(){return j(ee())}]},[g,_,E,b]);var z=a(p,R[0],R[1]);return l(function(){L.hasValue=!0,L.value=z},[z]),d(z),z},gg}var _b;function vI(){return _b||(_b=1,pg.exports=_I()),pg.exports}var EI=vI();function TI(n){n()}function bI(){let n=null,e=null;return{clear(){n=null,e=null},notify(){TI(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=n;for(;a;)t.push(a),a=a.next;return t},subscribe(t){let a=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!a||n===null||(a=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var vb={notify(){},get:()=>[]};function SI(n,e){let t,a=vb,s=0,l=!1;function c(z){_();const j=a.subscribe(z);let Y=!1;return()=>{Y||(Y=!0,j(),E())}}function d(){a.notify()}function p(){L.onStateChange&&L.onStateChange()}function g(){return l}function _(){s++,t||(t=n.subscribe(p),a=bI())}function E(){s--,t&&s===0&&(t(),t=void 0,a.clear(),a=vb)}function b(){l||(l=!0,_())}function R(){l&&(l=!1,E())}const L={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:R,getListeners:()=>a};return L}var AI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wI=AI(),RI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CI=RI(),II=()=>wI||CI?P.useLayoutEffect:P.useEffect,DI=II(),yg=Symbol.for("react-redux-context"),_g=typeof globalThis<"u"?globalThis:{};function NI(){if(!P.createContext)return{};const n=_g[yg]??(_g[yg]=new Map);let e=n.get(P.createContext);return e||(e=P.createContext(null),n.set(P.createContext,e)),e}var ys=NI();function xI(n){const{children:e,context:t,serverState:a,store:s}=n,l=P.useMemo(()=>{const p=SI(s);return{store:s,subscription:p,getServerState:a?()=>a:void 0}},[s,a]),c=P.useMemo(()=>s.getState(),[s]);DI(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==s.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const d=t||ys;return P.createElement(d.Provider,{value:l},e)}var OI=xI;function Cy(n=ys){return function(){return P.useContext(n)}}var $S=Cy();function KS(n=ys){const e=n===ys?$S:Cy(n),t=()=>{const{store:a}=e();return a};return Object.assign(t,{withTypes:()=>t}),t}var MI=KS();function PI(n=ys){const e=n===ys?MI:KS(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var VI=PI(),kI=(n,e)=>n===e;function LI(n=ys){const e=n===ys?$S:Cy(n),t=(a,s={})=>{const{equalityFn:l=kI}=typeof s=="function"?{equalityFn:s}:s,c=e(),{store:d,subscription:p,getServerState:g}=c;P.useRef(!0);const _=P.useCallback({[a.name](b){return a(b)}}[a.name],[a]),E=EI.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,g||d.getState,_,l);return P.useDebugValue(E),E};return Object.assign(t,{withTypes:()=>t}),t}var UI=LI();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YS=n=>{throw TypeError(n)},jI=(n,e,t)=>e.has(n)||YS("Cannot "+t),vg=(n,e,t)=>(jI(n,e,"read from private field"),t?t.call(n):e.get(n)),zI=(n,e,t)=>e.has(n)?YS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Eb="popstate";function BI(n={}){function e(s,l){let{pathname:c="/",search:d="",hash:p=""}=va(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),mc("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Ui(l))}function a(s,l){nn(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return HI(e,t,a,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substring(2,10)}function Tb(n,e){return{usr:n.state,key:n.key,idx:e}}function mc(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:t,key:e&&e.key||a||FI()}}function Ui({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function HI(n,e,t,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,c=s.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let j=_(),Y=j==null?null:j-g;g=j,p&&p({action:d,location:z.location,delta:Y})}function b(j,Y){d="PUSH";let F=mc(z.location,j,Y);t&&t(F,j),g=_()+1;let K=Tb(F,g),ee=z.createHref(F);try{c.pushState(K,"",ee)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;s.location.assign(ee)}l&&p&&p({action:d,location:z.location,delta:1})}function R(j,Y){d="REPLACE";let F=mc(z.location,j,Y);t&&t(F,j),g=_();let K=Tb(F,g),ee=z.createHref(F);c.replaceState(K,"",ee),l&&p&&p({action:d,location:z.location,delta:0})}function L(j){return QS(j)}let z={get action(){return d},get location(){return n(s,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Eb,E),p=j,()=>{s.removeEventListener(Eb,E),p=null}},createHref(j){return e(s,j)},createURL:L,encodeLocation(j){let Y=L(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:R,go(j){return c.go(j)}};return z}function QS(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ui(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var Xu,bb=class{constructor(n){if(zI(this,Xu,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(vg(this,Xu).has(n))return vg(this,Xu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){vg(this,Xu).set(n,e)}};Xu=new WeakMap;var qI=new Set(["lazy","caseSensitive","path","id","index","children"]);function GI(n){return qI.has(n)}var $I=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function KI(n){return $I.has(n)}function YI(n){return n.index===!0}function pc(n,e,t=[],a={},s=!1){return n.map((l,c)=>{let d=[...t,String(c)],p=typeof l.id=="string"?l.id:d.join("-");if(at(l.index!==!0||!l.children,"Cannot specify children on an index route"),at(s||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),YI(l)){let g={...l,id:p};return a[p]=Sb(g,e(g)),g}else{let g={...l,id:p,children:void 0};return a[p]=Sb(g,e(g)),l.children&&(g.children=pc(l.children,e,d,a,s)),g}})}function Sb(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function ns(n,e,t="/"){return Wu(n,e,t,!1)}function Wu(n,e,t,a){let s=typeof e=="string"?va(e):e,l=Xr(s.pathname||"/",t);if(l==null)return null;let c=XS(n);XI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=oD(l);d=aD(c[p],g,a)}return d}function QI(n,e){let{route:t,pathname:a,params:s}=n;return{id:t.id,pathname:a,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function XS(n,e=[],t=[],a="",s=!1){let l=(c,d,p=s,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&p)return;at(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let E=Mi([a,_.relativePath]),b=t.concat(_);c.children&&c.children.length>0&&(at(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),XS(c.children,e,b,E,p)),!(c.path==null&&!c.index)&&e.push({path:E,score:rD(E,c.index),routesMeta:b})};return n.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of WS(c.path))l(c,d,!0,g)}),e}function WS(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let c=WS(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function XI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iD(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var WI=/^:[\w-]+$/,JI=3,ZI=2,eD=1,tD=10,nD=-2,Ab=n=>n==="*";function rD(n,e){let t=n.split("/"),a=t.length;return t.some(Ab)&&(a+=nD),e&&(a+=ZI),t.filter(s=>!Ab(s)).reduce((s,l)=>s+(WI.test(l)?JI:l===""?eD:tD),a)}function iD(n,e){return n.length===e.length&&n.slice(0,-1).every((a,s)=>a===e[s])?n[n.length-1]-e[e.length-1]:0}function aD(n,e,t=!1){let{routesMeta:a}=n,s={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=ed({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!E&&g&&t&&!a[a.length-1].route.index&&(E=ed({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Mi([l,E.pathname]),pathnameBase:cD(Mi([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Mi([l,E.pathnameBase]))}return c}function ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=sD(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((g,{paramName:_,isOptional:E},b)=>{if(_==="*"){let L=d[b]||"";c=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const R=d[b];return E&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function sD(n,e=!1,t=!0){nn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function oD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function lD({basename:n,pathname:e}){return e==="/"?n:Mi([n,e])}var JS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iy=n=>JS.test(n);function uD(n,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof n=="string"?va(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=wb(t.substring(1),"/"):l=wb(t,e)):l=e,{pathname:l,search:hD(a),hash:fD(s)}}function wb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Eg(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Od(n){let e=ZS(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Md(n,e,t,a=!1){let s;typeof n=="string"?s=va(n):(s={...n},at(!s.pathname||!s.pathname.includes("?"),Eg("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Eg("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Eg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;s.pathname=b.join("/")}d=E>=0?e[E]:"/"}let p=uD(s,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Mi=n=>n.join("/").replace(/\/\/+/g,"/"),cD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,fD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Dc=class{constructor(n,e,t,a=!1){this.status=n,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function gc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Nc(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tA(n,e){let t=n;if(typeof t!="string"||!JS.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,s=!1;if(eA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Xr(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:s=!0}catch{nn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:t}}var os=Symbol("Uninstrumented");function dD(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(l){let c=Object.keys(t);for(let d of c)l[d]&&t[d].push(l[d])}}));let a={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=El(t.lazy,e.lazy,()=>{});s&&(a.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(l=>{let c=s[l],d=t[`lazy.${l}`];if(typeof c=="function"&&d.length>0){let p=El(d,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[l]:p}))}})}return["loader","action"].forEach(s=>{let l=e[s];if(typeof l=="function"&&t[s].length>0){let c=l[os]??l,d=El(t[s],c,(...p)=>Rb(p[0]));d&&(s==="loader"&&c.hydrate===!0&&(d.hydrate=!0),d[os]=c,a[s]=d)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(a.middleware=e.middleware.map(s=>{let l=s[os]??s,c=El(t.middleware,l,(...d)=>Rb(d[0]));return c?(c[os]=l,c):s})),a}function mD(n,e){let t={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(s){let l=Object.keys(s);for(let c of l)s[c]&&t[c].push(s[c])}})),t.navigate.length>0){let a=n.navigate[os]??n.navigate,s=El(t.navigate,a,(...l)=>{let[c,d]=l;return{to:typeof c=="number"||typeof c=="string"?c:c?Ui(c):".",...Cb(n,d??{})}});s&&(s[os]=a,n.navigate=s)}if(t.fetch.length>0){let a=n.fetch[os]??n.fetch,s=El(t.fetch,a,(...l)=>{let[c,,d,p]=l;return{href:d??".",fetcherKey:c,...Cb(n,p??{})}});s&&(s[os]=a,n.fetch=s)}return n}function El(n,e,t){return n.length===0?null:async(...a)=>{let s=await nA(n,t(...a),()=>e(...a),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function nA(n,e,t,a){let s=n[a],l;if(s){let c,d=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=nA(n,e,t,a-1),l=await c,at(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await s(d,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await d(),await c}else try{l={type:"success",value:await t()}}catch(c){l={type:"error",value:c}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Rb(n){let{request:e,context:t,params:a,unstable_pattern:s}=n;return{request:pD(e),params:{...a},unstable_pattern:s,context:gD(t)}}function Cb(n,e){return{currentUrl:Ui(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function pD(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function gD(n){if(_D(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var yD=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _D(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===yD}var rA=["POST","PUT","PATCH","DELETE"],vD=new Set(rA),ED=["GET",...rA],TD=new Set(ED),iA=new Set([301,302,303,307,308]),bD=new Set([307,308]),Tg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$u={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),aA="remix-router-transitions",sA=Symbol("ResetLoaderData");function wD(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";at(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=n.hydrationRouteProperties||[],s=n.mapRouteProperties||AD,l=s;if(n.unstable_instrumentations){let V=n.unstable_instrumentations;l=q=>({...s(q),...dD(V.map(J=>J.route).filter(Boolean),q)})}let c={},d=pc(n.routes,l,void 0,c),p,g=n.basename||"/";g.startsWith("/")||(g=`/${g}`);let _=n.dataStrategy||ND,E={...n.future},b=null,R=new Set,L=null,z=null,j=null,Y=n.hydrationData!=null,F=ns(d,n.history.location,g),K=!1,ee=null,ae;if(F==null&&!n.patchRoutesOnNavigation){let V=Kr(404,{pathname:n.history.location.pathname}),{matches:q,route:J}=gf(d);ae=!0,F=q,ee={[J.id]:V}}else if(F&&!n.hydrationData&&Bi(F,d,n.history.location.pathname).active&&(F=null),F)if(F.some(V=>V.route.lazy))ae=!1;else if(!F.some(V=>Dy(V.route)))ae=!0;else{let V=n.hydrationData?n.hydrationData.loaderData:null,q=n.hydrationData?n.hydrationData.errors:null;if(q){let J=F.findIndex(me=>q[me.route.id]!==void 0);ae=F.slice(0,J+1).every(me=>!qg(me.route,V,q))}else ae=F.every(J=>!qg(J.route,V,q))}else{ae=!1,F=[];let V=Bi(null,d,n.history.location.pathname);V.active&&V.matches&&(K=!0,F=V.matches)}let te,S={historyAction:n.history.action,location:n.history.location,matches:F,initialized:ae,navigation:Tg,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},w="POP",I=null,O=!1,x,M=!1,D=new Map,_e=null,Ce=!1,H=!1,fe=new Set,pe=new Map,Pe=0,Me=-1,U=new Map,G=new Set,oe=new Map,ce=new Map,ge=new Set,Te=new Map,Ue,Ke=null;function ot(){if(b=n.history.listen(({action:V,location:q,delta:J})=>{if(Ue){Ue(),Ue=void 0;return}nn(Te.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=gi({currentLocation:S.location,nextLocation:q,historyAction:V});if(me&&J!=null){let ve=new Promise(Ie=>{Ue=Ie});n.history.go(J*-1),Wn(me,{state:"blocked",location:q,proceed(){Wn(me,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ve.then(()=>n.history.go(J))},reset(){let Ie=new Map(S.blockers);Ie.set(me,$u),Et({blockers:Ie})}}),I==null||I.resolve(),I=null;return}return ye(V,q)}),t){YD(e,D);let V=()=>QD(e,D);e.addEventListener("pagehide",V),_e=()=>e.removeEventListener("pagehide",V)}return S.initialized||ye("POP",S.location,{initialHydration:!0}),te}function Yt(){b&&b(),_e&&_e(),R.clear(),x&&x.abort(),S.fetchers.forEach((V,q)=>Ta(q)),S.blockers.forEach((V,q)=>Ns(q))}function In(V){return R.add(V),()=>R.delete(V)}function Et(V,q={}){V.matches&&(V.matches=V.matches.map(ve=>{let Ie=c[ve.route.id],xe=ve.route;return xe.element!==Ie.element||xe.errorElement!==Ie.errorElement||xe.hydrateFallbackElement!==Ie.hydrateFallbackElement?{...ve,route:Ie}:ve})),S={...S,...V};let J=[],me=[];S.fetchers.forEach((ve,Ie)=>{ve.state==="idle"&&(ge.has(Ie)?J.push(Ie):me.push(Ie))}),ge.forEach(ve=>{!S.fetchers.has(ve)&&!pe.has(ve)&&J.push(ve)}),[...R].forEach(ve=>ve(S,{deletedFetchers:J,newErrors:V.errors??null,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),J.forEach(ve=>Ta(ve)),me.forEach(ve=>S.fetchers.delete(ve))}function Tn(V,q,{flushSync:J}={}){var qe,ke;let me=S.actionData!=null&&S.navigation.formMethod!=null&&Gn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((qe=V.state)==null?void 0:qe._isRedirect)!==!0,ve;q.actionData?Object.keys(q.actionData).length>0?ve=q.actionData:ve=null:me?ve=S.actionData:ve=null;let Ie=q.loaderData?Lb(S.loaderData,q.loaderData,q.matches||[],q.errors):S.loaderData,xe=S.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((Qe,it)=>xe.set(it,$u)));let Ee=Ce?!1:Ro(V,q.matches||S.matches),Se=O===!0||S.navigation.formMethod!=null&&Gn(S.navigation.formMethod)&&((ke=V.state)==null?void 0:ke._isRedirect)!==!0;p&&(d=p,p=void 0),Ce||w==="POP"||(w==="PUSH"?n.history.push(V,V.state):w==="REPLACE"&&n.history.replace(V,V.state));let Ne;if(w==="POP"){let Qe=D.get(S.location.pathname);Qe&&Qe.has(V.pathname)?Ne={currentLocation:S.location,nextLocation:V}:D.has(V.pathname)&&(Ne={currentLocation:V,nextLocation:S.location})}else if(M){let Qe=D.get(S.location.pathname);Qe?Qe.add(V.pathname):(Qe=new Set([V.pathname]),D.set(S.location.pathname,Qe)),Ne={currentLocation:S.location,nextLocation:V}}Et({...q,actionData:ve,loaderData:Ie,historyAction:w,location:V,initialized:!0,navigation:Tg,revalidation:"idle",restoreScrollPosition:Ee,preventScrollReset:Se,blockers:xe},{viewTransitionOpts:Ne,flushSync:J===!0}),w="POP",O=!1,M=!1,Ce=!1,H=!1,I==null||I.resolve(),I=null,Ke==null||Ke.resolve(),Ke=null}async function Qt(V,q){if(I==null||I.resolve(),I=null,typeof V=="number"){I||(I=Bb());let it=I.promise;return n.history.go(V),it}let J=Hg(S.location,S.matches,g,V,q==null?void 0:q.fromRouteId,q==null?void 0:q.relative),{path:me,submission:ve,error:Ie}=Ib(!1,J,q),xe=S.location,Ee=mc(S.location,me,q&&q.state);Ee={...Ee,...n.history.encodeLocation(Ee)};let Se=q&&q.replace!=null?q.replace:void 0,Ne="PUSH";Se===!0?Ne="REPLACE":Se===!1||ve!=null&&Gn(ve.formMethod)&&ve.formAction===S.location.pathname+S.location.search&&(Ne="REPLACE");let qe=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,ke=(q&&q.flushSync)===!0,Qe=gi({currentLocation:xe,nextLocation:Ee,historyAction:Ne});if(Qe){Wn(Qe,{state:"blocked",location:Ee,proceed(){Wn(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Qt(V,q)},reset(){let it=new Map(S.blockers);it.set(Qe,$u),Et({blockers:it})}});return}await ye(Ne,Ee,{submission:ve,pendingError:Ie,preventScrollReset:qe,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:ke,callSiteDefaultShouldRevalidate:q&&q.unstable_defaultShouldRevalidate})}function ne(){Ke||(Ke=Bb()),Qn(),Et({revalidation:"loading"});let V=Ke.promise;return S.navigation.state==="submitting"?V:S.navigation.state==="idle"?(ye(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),V):(ye(w||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:M===!0}),V)}async function ye(V,q,J){x&&x.abort(),x=null,w=V,Ce=(J&&J.startUninterruptedRevalidation)===!0,gr(S.location,S.matches),O=(J&&J.preventScrollReset)===!0,M=(J&&J.enableViewTransition)===!0;let me=p||d,ve=J&&J.overrideNavigation,Ie=J!=null&&J.initialHydration&&S.matches&&S.matches.length>0&&!K?S.matches:ns(me,q,g),xe=(J&&J.flushSync)===!0;if(Ie&&S.initialized&&!H&&UD(S.location,q)&&!(J&&J.submission&&Gn(J.submission.formMethod))){Tn(q,{matches:Ie},{flushSync:xe});return}let Ee=Bi(Ie,me,q.pathname);if(Ee.active&&Ee.matches&&(Ie=Ee.matches),!Ie){let{error:qt,notFoundMatches:zt,route:tt}=Wt(q.pathname);Tn(q,{matches:zt,loaderData:{},errors:{[tt.id]:qt}},{flushSync:xe});return}x=new AbortController;let Se=ml(n.history,q,x.signal,J&&J.submission),Ne=n.getContext?await n.getContext():new bb,qe;if(J&&J.pendingError)qe=[rs(Ie).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Gn(J.submission.formMethod)){let qt=await Le(Se,q,J.submission,Ie,Ne,Ee.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:xe});if(qt.shortCircuited)return;if(qt.pendingActionResult){let[zt,tt]=qt.pendingActionResult;if(Rr(tt)&&gc(tt.error)&&tt.error.status===404){x=null,Tn(q,{matches:qt.matches,loaderData:{},errors:{[zt]:tt.error}});return}}Ie=qt.matches||Ie,qe=qt.pendingActionResult,ve=bg(q,J.submission),xe=!1,Ee.active=!1,Se=ml(n.history,Se.url,Se.signal)}let{shortCircuited:ke,matches:Qe,loaderData:it,errors:Nt}=await we(Se,q,Ie,Ne,Ee.active,ve,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,xe,qe,J&&J.callSiteDefaultShouldRevalidate);ke||(x=null,Tn(q,{matches:Qe||Ie,...Ub(qe),loaderData:it,errors:Nt}))}async function Le(V,q,J,me,ve,Ie,xe,Ee={}){Qn();let Se=$D(q,J);if(Et({navigation:Se},{flushSync:Ee.flushSync===!0}),Ie){let ke=await Jn(me,q.pathname,V.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){if(ke.partialMatches.length===0){let{matches:it,route:Nt}=gf(d);return{matches:it,pendingActionResult:[Nt.id,{type:"error",error:ke.error}]}}let Qe=rs(ke.partialMatches).route.id;return{matches:ke.partialMatches,pendingActionResult:[Qe,{type:"error",error:ke.error}]}}else if(ke.matches)me=ke.matches;else{let{notFoundMatches:Qe,error:it,route:Nt}=Wt(q.pathname);return{matches:Qe,pendingActionResult:[Nt.id,{type:"error",error:it}]}}}let Ne,qe=Nf(me,q);if(!qe.route.action&&!qe.route.lazy)Ne={type:"error",error:Kr(405,{method:V.method,pathname:q.pathname,routeId:qe.route.id})};else{let ke=Sl(l,c,V,me,qe,xe?[]:a,ve),Qe=await Dt(V,ke,ve,null);if(Ne=Qe[qe.route.id],!Ne){for(let it of me)if(Qe[it.route.id]){Ne=Qe[it.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(ao(Ne)){let ke;return Ee&&Ee.replace!=null?ke=Ee.replace:ke=Pb(Ne.response.headers.get("Location"),new URL(V.url),g,n.history)===S.location.pathname+S.location.search,await Ye(V,Ne,!0,{submission:J,replace:ke}),{shortCircuited:!0}}if(Rr(Ne)){let ke=rs(me,qe.route.id);return(Ee&&Ee.replace)!==!0&&(w="PUSH"),{matches:me,pendingActionResult:[ke.route.id,Ne,qe.route.id]}}return{matches:me,pendingActionResult:[qe.route.id,Ne]}}async function we(V,q,J,me,ve,Ie,xe,Ee,Se,Ne,qe,ke,Qe){let it=Ie||bg(q,xe),Nt=xe||Ee||zb(it),qt=!Ce&&!Ne;if(ve){if(qt){let en=Ae(ke);Et({navigation:it,...en!==void 0?{actionData:en}:{}},{flushSync:qe})}let st=await Jn(J,q.pathname,V.signal);if(st.type==="aborted")return{shortCircuited:!0};if(st.type==="error"){if(st.partialMatches.length===0){let{matches:dn,route:xt}=gf(d);return{matches:dn,loaderData:{},errors:{[xt.id]:st.error}}}let en=rs(st.partialMatches).route.id;return{matches:st.partialMatches,loaderData:{},errors:{[en]:st.error}}}else if(st.matches)J=st.matches;else{let{error:en,notFoundMatches:dn,route:xt}=Wt(q.pathname);return{matches:dn,loaderData:{},errors:{[xt.id]:en}}}}let zt=p||d,{dsMatches:tt,revalidatingFetchers:Bt}=Db(V,me,l,c,n.history,S,J,Nt,q,Ne?[]:a,Ne===!0,H,fe,ge,oe,G,zt,g,n.patchRoutesOnNavigation!=null,ke,Qe);if(Me=++Pe,!n.dataStrategy&&!tt.some(st=>st.shouldLoad)&&!tt.some(st=>st.route.middleware&&st.route.middleware.length>0)&&Bt.length===0){let st=Xt();return Tn(q,{matches:J,loaderData:{},errors:ke&&Rr(ke[1])?{[ke[0]]:ke[1].error}:null,...Ub(ke),...st?{fetchers:new Map(S.fetchers)}:{}},{flushSync:qe}),{shortCircuited:!0}}if(qt){let st={};if(!ve){st.navigation=it;let en=Ae(ke);en!==void 0&&(st.actionData=en)}Bt.length>0&&(st.fetchers=Fe(Bt)),Et(st,{flushSync:qe})}Bt.forEach(st=>{Ut(st.key),st.controller&&pe.set(st.key,st.controller)});let Dn=()=>Bt.forEach(st=>Ut(st.key));x&&x.signal.addEventListener("abort",Dn);let{loaderResults:Ft,fetcherResults:rr}=await nr(tt,Bt,V,me);if(V.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Dn),Bt.forEach(st=>pe.delete(st.key));let Bn=yf(Ft);if(Bn)return await Ye(V,Bn.result,!0,{replace:Se}),{shortCircuited:!0};if(Bn=yf(rr),Bn)return G.add(Bn.key),await Ye(V,Bn.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:ir,errors:Fn}=kb(S,J,Ft,ke,Bt,rr);Ne&&S.errors&&(Fn={...S.errors,...Fn});let yr=Xt(),_i=Ds(Me),vi=yr||_i||Bt.length>0;return{matches:J,loaderData:ir,errors:Fn,...vi?{fetchers:new Map(S.fetchers)}:{}}}function Ae(V){if(V&&!Rr(V[1]))return{[V[0]]:V[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Fe(V){return V.forEach(q=>{let J=S.fetchers.get(q.key),me=Ku(void 0,J?J.data:void 0);S.fetchers.set(q.key,me)}),new Map(S.fetchers)}async function Lt(V,q,J,me){Ut(V);let ve=(me&&me.flushSync)===!0,Ie=p||d,xe=Hg(S.location,S.matches,g,J,q,me==null?void 0:me.relative),Ee=ns(Ie,xe,g),Se=Bi(Ee,Ie,xe);if(Se.active&&Se.matches&&(Ee=Se.matches),!Ee){bn(V,q,Kr(404,{pathname:xe}),{flushSync:ve});return}let{path:Ne,submission:qe,error:ke}=Ib(!0,xe,me);if(ke){bn(V,q,ke,{flushSync:ve});return}let Qe=n.getContext?await n.getContext():new bb,it=(me&&me.preventScrollReset)===!0;if(qe&&Gn(qe.formMethod)){await Rt(V,q,Ne,Ee,Qe,Se.active,ve,it,qe,me&&me.unstable_defaultShouldRevalidate);return}oe.set(V,{routeId:q,path:Ne}),await je(V,q,Ne,Ee,Qe,Se.active,ve,it,qe)}async function Rt(V,q,J,me,ve,Ie,xe,Ee,Se,Ne){Qn(),oe.delete(V);let qe=S.fetchers.get(V);an(V,KD(Se,qe),{flushSync:xe});let ke=new AbortController,Qe=ml(n.history,J,ke.signal,Se);if(Ie){let nt=await Jn(me,new URL(Qe.url).pathname,Qe.signal,V);if(nt.type==="aborted")return;if(nt.type==="error"){bn(V,q,nt.error,{flushSync:xe});return}else if(nt.matches)me=nt.matches;else{bn(V,q,Kr(404,{pathname:J}),{flushSync:xe});return}}let it=Nf(me,J);if(!it.route.action&&!it.route.lazy){let nt=Kr(405,{method:Se.formMethod,pathname:J,routeId:q});bn(V,q,nt,{flushSync:xe});return}pe.set(V,ke);let Nt=Pe,qt=Sl(l,c,Qe,me,it,a,ve),zt=await Dt(Qe,qt,ve,V),tt=zt[it.route.id];if(!tt){for(let nt of qt)if(zt[nt.route.id]){tt=zt[nt.route.id];break}}if(Qe.signal.aborted){pe.get(V)===ke&&pe.delete(V);return}if(ge.has(V)){if(ao(tt)||Rr(tt)){an(V,oa(void 0));return}}else{if(ao(tt))if(pe.delete(V),Me>Nt){an(V,oa(void 0));return}else return G.add(V),an(V,Ku(Se)),Ye(Qe,tt,!1,{fetcherSubmission:Se,preventScrollReset:Ee});if(Rr(tt)){bn(V,q,tt.error);return}}let Bt=S.navigation.location||S.location,Dn=ml(n.history,Bt,ke.signal),Ft=p||d,rr=S.navigation.state!=="idle"?ns(Ft,S.navigation.location,g):S.matches;at(rr,"Didn't find any matches after fetcher action");let Bn=++Pe;U.set(V,Bn);let ir=Ku(Se,tt.data);S.fetchers.set(V,ir);let{dsMatches:Fn,revalidatingFetchers:yr}=Db(Dn,ve,l,c,n.history,S,rr,Se,Bt,a,!1,H,fe,ge,oe,G,Ft,g,n.patchRoutesOnNavigation!=null,[it.route.id,tt],Ne);yr.filter(nt=>nt.key!==V).forEach(nt=>{let _r=nt.key,Sa=S.fetchers.get(_r),Tt=Ku(void 0,Sa?Sa.data:void 0);S.fetchers.set(_r,Tt),Ut(_r),nt.controller&&pe.set(_r,nt.controller)}),Et({fetchers:new Map(S.fetchers)});let _i=()=>yr.forEach(nt=>Ut(nt.key));ke.signal.addEventListener("abort",_i);let{loaderResults:vi,fetcherResults:st}=await nr(Fn,yr,Dn,ve);if(ke.signal.aborted)return;if(ke.signal.removeEventListener("abort",_i),U.delete(V),pe.delete(V),yr.forEach(nt=>pe.delete(nt.key)),S.fetchers.has(V)){let nt=oa(tt.data);S.fetchers.set(V,nt)}let en=yf(vi);if(en)return Ye(Dn,en.result,!1,{preventScrollReset:Ee});if(en=yf(st),en)return G.add(en.key),Ye(Dn,en.result,!1,{preventScrollReset:Ee});let{loaderData:dn,errors:xt}=kb(S,rr,vi,void 0,yr,st);Ds(Bn),S.navigation.state==="loading"&&Bn>Me?(at(w,"Expected pending action"),x&&x.abort(),Tn(S.navigation.location,{matches:rr,loaderData:dn,errors:xt,fetchers:new Map(S.fetchers)})):(Et({errors:xt,loaderData:Lb(S.loaderData,dn,rr,xt),fetchers:new Map(S.fetchers)}),H=!1)}async function je(V,q,J,me,ve,Ie,xe,Ee,Se){let Ne=S.fetchers.get(V);an(V,Ku(Se,Ne?Ne.data:void 0),{flushSync:xe});let qe=new AbortController,ke=ml(n.history,J,qe.signal);if(Ie){let tt=await Jn(me,new URL(ke.url).pathname,ke.signal,V);if(tt.type==="aborted")return;if(tt.type==="error"){bn(V,q,tt.error,{flushSync:xe});return}else if(tt.matches)me=tt.matches;else{bn(V,q,Kr(404,{pathname:J}),{flushSync:xe});return}}let Qe=Nf(me,J);pe.set(V,qe);let it=Pe,Nt=Sl(l,c,ke,me,Qe,a,ve),zt=(await Dt(ke,Nt,ve,V))[Qe.route.id];if(pe.get(V)===qe&&pe.delete(V),!ke.signal.aborted){if(ge.has(V)){an(V,oa(void 0));return}if(ao(zt))if(Me>it){an(V,oa(void 0));return}else{G.add(V),await Ye(ke,zt,!1,{preventScrollReset:Ee});return}if(Rr(zt)){bn(V,q,zt.error);return}an(V,oa(zt.data))}}async function Ye(V,q,J,{submission:me,fetcherSubmission:ve,preventScrollReset:Ie,replace:xe}={}){J||(I==null||I.resolve(),I=null),q.response.headers.has("X-Remix-Revalidate")&&(H=!0);let Ee=q.response.headers.get("Location");at(Ee,"Expected a Location header on the redirect Response"),Ee=Pb(Ee,new URL(V.url),g,n.history);let Se=mc(S.location,Ee,{_isRedirect:!0});if(t){let Nt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(Iy(Ee)){const qt=QS(Ee,!0);Nt=qt.origin!==e.location.origin||Xr(qt.pathname,g)==null}if(Nt){xe?e.location.replace(Ee):e.location.assign(Ee);return}}x=null;let Ne=xe===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:qe,formAction:ke,formEncType:Qe}=S.navigation;!me&&!ve&&qe&&ke&&Qe&&(me=zb(S.navigation));let it=me||ve;if(bD.has(q.response.status)&&it&&Gn(it.formMethod))await ye(Ne,Se,{submission:{...it,formAction:Ee},preventScrollReset:Ie||O,enableViewTransition:J?M:void 0});else{let Nt=bg(Se,me);await ye(Ne,Se,{overrideNavigation:Nt,fetcherSubmission:ve,preventScrollReset:Ie||O,enableViewTransition:J?M:void 0})}}async function Dt(V,q,J,me){var xe;let ve,Ie={};try{ve=await OD(_,V,q,me,J,!1)}catch(Ee){return q.filter(Se=>Se.shouldLoad).forEach(Se=>{Ie[Se.route.id]={type:"error",error:Ee}}),Ie}if(V.signal.aborted)return Ie;if(!Gn(V.method))for(let Ee of q){if(((xe=ve[Ee.route.id])==null?void 0:xe.type)==="error")break;!ve.hasOwnProperty(Ee.route.id)&&!S.loaderData.hasOwnProperty(Ee.route.id)&&(!S.errors||!S.errors.hasOwnProperty(Ee.route.id))&&Ee.shouldCallHandler()&&(ve[Ee.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ee.route.id}`)})}for(let[Ee,Se]of Object.entries(ve))if(FD(Se)){let Ne=Se.result;Ie[Ee]={type:"redirect",response:kD(Ne,V,Ee,q,g)}}else Ie[Ee]=await VD(Se);return Ie}async function nr(V,q,J,me){let ve=Dt(J,V,me,null),Ie=Promise.all(q.map(async Se=>{if(Se.matches&&Se.match&&Se.request&&Se.controller){let qe=(await Dt(Se.request,Se.matches,me,Se.key))[Se.match.route.id];return{[Se.key]:qe}}else return Promise.resolve({[Se.key]:{type:"error",error:Kr(404,{pathname:Se.path})}})})),xe=await ve,Ee=(await Ie).reduce((Se,Ne)=>Object.assign(Se,Ne),{});return{loaderResults:xe,fetcherResults:Ee}}function Qn(){H=!0,oe.forEach((V,q)=>{pe.has(q)&&fe.add(q),Ut(q)})}function an(V,q,J={}){S.fetchers.set(V,q),Et({fetchers:new Map(S.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function bn(V,q,J,me={}){let ve=rs(S.matches,q);Ta(V),Et({errors:{[ve.route.id]:J},fetchers:new Map(S.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Is(V){return ce.set(V,(ce.get(V)||0)+1),ge.has(V)&&ge.delete(V),S.fetchers.get(V)||SD}function wo(V,q){Ut(V,q==null?void 0:q.reason),an(V,oa(null))}function Ta(V){let q=S.fetchers.get(V);pe.has(V)&&!(q&&q.state==="loading"&&U.has(V))&&Ut(V),oe.delete(V),U.delete(V),G.delete(V),ge.delete(V),fe.delete(V),S.fetchers.delete(V)}function mr(V){let q=(ce.get(V)||0)-1;q<=0?(ce.delete(V),ge.add(V)):ce.set(V,q),Et({fetchers:new Map(S.fetchers)})}function Ut(V,q){let J=pe.get(V);J&&(J.abort(q),pe.delete(V))}function Xn(V){for(let q of V){let J=Is(q),me=oa(J.data);S.fetchers.set(q,me)}}function Xt(){let V=[],q=!1;for(let J of G){let me=S.fetchers.get(J);at(me,`Expected fetcher: ${J}`),me.state==="loading"&&(G.delete(J),V.push(J),q=!0)}return Xn(V),q}function Ds(V){let q=[];for(let[J,me]of U)if(me<V){let ve=S.fetchers.get(J);at(ve,`Expected fetcher: ${J}`),ve.state==="loading"&&(Ut(J),U.delete(J),q.push(J))}return Xn(q),q.length>0}function ba(V,q){let J=S.blockers.get(V)||$u;return Te.get(V)!==q&&Te.set(V,q),J}function Ns(V){S.blockers.delete(V),Te.delete(V)}function Wn(V,q){let J=S.blockers.get(V)||$u;at(J.state==="unblocked"&&q.state==="blocked"||J.state==="blocked"&&q.state==="blocked"||J.state==="blocked"&&q.state==="proceeding"||J.state==="blocked"&&q.state==="unblocked"||J.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${q.state}`);let me=new Map(S.blockers);me.set(V,q),Et({blockers:me})}function gi({currentLocation:V,nextLocation:q,historyAction:J}){if(Te.size===0)return;Te.size>1&&nn(!1,"A router only supports one blocker at a time");let me=Array.from(Te.entries()),[ve,Ie]=me[me.length-1],xe=S.blockers.get(ve);if(!(xe&&xe.state==="proceeding")&&Ie({currentLocation:V,nextLocation:q,historyAction:J}))return ve}function Wt(V){let q=Kr(404,{pathname:V}),J=p||d,{matches:me,route:ve}=gf(J);return{notFoundMatches:me,route:ve,error:q}}function Vr(V,q,J){if(L=V,j=q,z=J||null,!Y&&S.navigation===Tg){Y=!0;let me=Ro(S.location,S.matches);me!=null&&Et({restoreScrollPosition:me})}return()=>{L=null,j=null,z=null}}function pr(V,q){return z&&z(V,q.map(me=>QI(me,S.loaderData)))||V.key}function gr(V,q){if(L&&j){let J=pr(V,q);L[J]=j()}}function Ro(V,q){if(L){let J=pr(V,q),me=L[J];if(typeof me=="number")return me}return null}function Bi(V,q,J){if(n.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Wu(q,J,g,!0)}}else return{active:!0,matches:Wu(q,J,g,!0)||[]};return{active:!1,matches:null}}async function Jn(V,q,J,me){if(!n.patchRoutesOnNavigation)return{type:"success",matches:V};let ve=V;for(;;){let Ie=p==null,xe=p||d,Ee=c;try{await n.patchRoutesOnNavigation({signal:J,path:q,matches:ve,fetcherKey:me,patch:(qe,ke)=>{J.aborted||Nb(qe,ke,xe,Ee,l,!1)}})}catch(qe){return{type:"error",error:qe,partialMatches:ve}}finally{Ie&&!J.aborted&&(d=[...d])}if(J.aborted)return{type:"aborted"};let Se=ns(xe,q,g),Ne=null;if(Se){if(Object.keys(Se[0].params).length===0)return{type:"success",matches:Se};if(Ne=Wu(xe,q,g,!0),!(Ne&&ve.length<Ne.length&&yi(ve,Ne.slice(0,ve.length))))return{type:"success",matches:Se}}if(Ne||(Ne=Wu(xe,q,g,!0)),!Ne||yi(ve,Ne))return{type:"success",matches:null};ve=Ne}}function yi(V,q){return V.length===q.length&&V.every((J,me)=>J.route.id===q[me].route.id)}function Jl(V){c={},p=pc(V,l,void 0,c)}function Fi(V,q,J=!1){let me=p==null;Nb(V,q,p||d,c,l,J),me&&(d=[...d],Et({}))}return te={get basename(){return g},get future(){return E},get state(){return S},get routes(){return d},get window(){return e},initialize:ot,subscribe:In,enableScrollRestoration:Vr,navigate:Qt,fetch:Lt,revalidate:ne,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:Is,resetFetcher:wo,deleteFetcher:mr,dispose:Yt,getBlocker:ba,deleteBlocker:Ns,patchRoutes:Fi,_internalFetchControllers:pe,_internalSetRoutes:Jl,_internalSetStateDoNotUseOrYouWillBreakYourApp(V){Et(V)}},n.unstable_instrumentations&&(te=mD(te,n.unstable_instrumentations.map(V=>V.router).filter(Boolean))),te}function RD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Hg(n,e,t,a,s,l){let c,d;if(s){c=[];for(let g of e)if(c.push(g),g.route.id===s){d=g;break}}else c=e,d=e[e.length-1];let p=Md(a||".",Od(c),Xr(n.pathname,t)||n.pathname,l==="path");if(a==null&&(p.search=n.search,p.hash=n.hash),(a==null||a===""||a===".")&&d){let g=xy(p.search);if(d.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(p.search),E=_.getAll("index");_.delete("index"),E.filter(R=>R).forEach(R=>_.append("index",R));let b=_.toString();p.search=b?`?${b}`:""}}return t!=="/"&&(p.pathname=lD({basename:t,pathname:p.pathname})),Ui(p)}function Ib(n,e,t){if(!t||!RD(t))return{path:e};if(t.formMethod&&!GD(t.formMethod))return{path:e,error:Kr(405,{method:t.formMethod})};let a=()=>({path:e,error:Kr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=fA(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Gn(l))return a();let E=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[R,L])=>`${b}${R}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:E}}}else if(t.formEncType==="application/json"){if(!Gn(l))return a();try{let E=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:E,text:void 0}}}catch{return a()}}}at(typeof FormData=="function","FormData is not available in this environment");let d,p;if(t.formData)d=$g(t.formData),p=t.formData;else if(t.body instanceof FormData)d=$g(t.body),p=t.body;else if(t.body instanceof URLSearchParams)d=t.body,p=Vb(d);else if(t.body==null)d=new URLSearchParams,p=new FormData;else try{d=new URLSearchParams(t.body),p=Vb(d)}catch{return a()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Gn(g.formMethod))return{path:e,submission:g};let _=va(e);return n&&_.search&&xy(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Ui(_),submission:g}}function Db(n,e,t,a,s,l,c,d,p,g,_,E,b,R,L,z,j,Y,F,K,ee){var Ce;let ae=K?Rr(K[1])?K[1].error:K[1].data:void 0,te=s.createURL(l.location),S=s.createURL(p),w;if(_&&l.errors){let H=Object.keys(l.errors)[0];w=c.findIndex(fe=>fe.route.id===H)}else if(K&&Rr(K[1])){let H=K[0];w=c.findIndex(fe=>fe.route.id===H)-1}let I=K?K[1].statusCode:void 0,O=I&&I>=400,x={currentUrl:te,currentParams:((Ce=l.matches[0])==null?void 0:Ce.params)||{},nextUrl:S,nextParams:c[0].params,...d,actionResult:ae,actionStatus:I},M=Nc(c),D=c.map((H,fe)=>{let{route:pe}=H,Pe=null;if(w!=null&&fe>w?Pe=!1:pe.lazy?Pe=!0:Dy(pe)?_?Pe=qg(pe,l.loaderData,l.errors):CD(l.loaderData,l.matches[fe],H)&&(Pe=!0):Pe=!1,Pe!==null)return Gg(t,a,n,M,H,g,e,Pe);let Me=!1;typeof ee=="boolean"?Me=ee:O?Me=!1:(E||te.pathname+te.search===S.pathname+S.search||te.search!==S.search||ID(l.matches[fe],H))&&(Me=!0);let U={...x,defaultShouldRevalidate:Me},G=ic(H,U);return Gg(t,a,n,M,H,g,e,G,U,ee)}),_e=[];return L.forEach((H,fe)=>{if(_||!c.some(ge=>ge.route.id===H.routeId)||R.has(fe))return;let pe=l.fetchers.get(fe),Pe=pe&&pe.state!=="idle"&&pe.data===void 0,Me=ns(j,H.path,Y);if(!Me){if(F&&Pe)return;_e.push({key:fe,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(z.has(fe))return;let U=Nf(Me,H.path),G=new AbortController,oe=ml(s,H.path,G.signal),ce=null;if(b.has(fe))b.delete(fe),ce=Sl(t,a,oe,Me,U,g,e);else if(Pe)E&&(ce=Sl(t,a,oe,Me,U,g,e));else{let ge;typeof ee=="boolean"?ge=ee:O?ge=!1:ge=E;let Te={...x,defaultShouldRevalidate:ge};ic(U,Te)&&(ce=Sl(t,a,oe,Me,U,g,e,Te))}ce&&_e.push({key:fe,routeId:H.routeId,path:H.path,matches:ce,match:U,request:oe,controller:G})}),{dsMatches:D,revalidatingFetchers:_e}}function Dy(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function qg(n,e,t){if(n.lazy)return!0;if(!Dy(n))return!1;let a=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!a&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!a&&!s}function CD(n,e,t){let a=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return a||s}function ID(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ic(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function Nb(n,e,t,a,s,l){let c;if(n){let g=a[n];at(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],p=[];if(e.forEach(g=>{let _=c.find(E=>oA(g,E));_?p.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=pc(d,s,[n||"_","patch",String((c==null?void 0:c.length)||"0")],a);c.push(...g)}if(l&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:_,newRoute:E}=p[g],b=_,[R]=pc([E],s,[],{},!0);Object.assign(b,{element:R.element?R.element:b.element,errorElement:R.errorElement?R.errorElement:b.errorElement,hydrateFallbackElement:R.hydrateFallbackElement?R.hydrateFallbackElement:b.hydrateFallbackElement})}}function oA(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,a)=>{var s;return(s=e.children)==null?void 0:s.some(l=>oA(t,l))}):!1}var xb=new WeakMap,lA=({key:n,route:e,manifest:t,mapRouteProperties:a})=>{let s=t[e.id];if(at(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[n];if(!l)return;let c=xb.get(s);c||(c={},xb.set(s,c));let d=c[n];if(d)return d;let p=(async()=>{let g=GI(n),E=s[n]!==void 0&&n!=="hasErrorBoundary";if(g)nn(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(E)nn(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let b=await l();b!=null&&(Object.assign(s,{[n]:b}),Object.assign(s,a(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(b=>b===void 0)&&(s.lazy=void 0))})();return c[n]=p,p},Ob=new WeakMap;function DD(n,e,t,a,s){let l=t[n.id];if(at(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=Ob.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let E=(async()=>{at(typeof n.lazy=="function","No lazy route function found");let b=await n.lazy(),R={};for(let L in b){let z=b[L];if(z===void 0)continue;let j=KI(L),F=l[L]!==void 0&&L!=="hasErrorBoundary";j?nn(!j,"Route property "+L+" is not a supported property to be returned from a lazy route function. This property will be ignored."):F?nn(!F,`Route "${l.id}" has a static property "${L}" defined but its lazy function is also returning a value for this property. The lazy route property "${L}" will be ignored.`):R[L]=z}Object.assign(l,R),Object.assign(l,{...a(l),lazy:void 0})})();return Ob.set(l,E),E.catch(()=>{}),{lazyRoutePromise:E,lazyHandlerPromise:E}}let c=Object.keys(n.lazy),d=[],p;for(let _ of c){if(s&&s.includes(_))continue;let E=lA({key:_,route:n,manifest:t,mapRouteProperties:a});E&&(d.push(E),_===e&&(p=E))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g==null||g.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function Mb(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,l)=>{t[e[l].route.id]=s}),t}async function ND(n){return n.matches.some(e=>e.route.middleware)?uA(n,()=>Mb(n)):Mb(n)}function uA(n,e){return xD(n,e,a=>{if(qD(a))throw a;return a},zD,t);function t(a,s,l){if(l)return Promise.resolve(Object.assign(l.value,{[s]:{type:"error",result:a}}));{let{matches:c}=n,d=Math.min(Math.max(c.findIndex(g=>g.route.id===s),0),Math.max(c.findIndex(g=>g.shouldCallHandler()),0)),p=rs(c,c[d].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function xD(n,e,t,a,s){let{matches:l,request:c,params:d,context:p,unstable_pattern:g}=n,_=l.flatMap(b=>b.route.middleware?b.route.middleware.map(R=>[b.route.id,R]):[]);return await cA({request:c,params:d,context:p,unstable_pattern:g},_,e,t,a,s)}async function cA(n,e,t,a,s,l,c=0){let{request:d}=n;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let p=e[c];if(!p)return await t();let[g,_]=p,E,b=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");try{return E={value:await cA(n,e,t,a,s,l,c+1)},E.value}catch(R){return E={value:await l(R,g,E)},E.value}};try{let R=await _(n,b),L=R!=null?a(R):void 0;return s(L)?L:E?L??E.value:(E={value:await b()},E.value)}catch(R){return await l(R,g,E)}}function hA(n,e,t,a,s){let l=lA({key:"middleware",route:a.route,manifest:e,mapRouteProperties:n}),c=DD(a.route,Gn(t.method)?"action":"loader",e,n,s);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Gg(n,e,t,a,s,l,c,d,p=null,g){let _=!1,E=hA(n,e,t,s,l);return{...s,_lazyPromises:E,shouldLoad:d,shouldRevalidateArgs:p,shouldCallHandler(b){return _=!0,p?typeof g=="boolean"?ic(s,{...p,defaultShouldRevalidate:g}):typeof b=="boolean"?ic(s,{...p,defaultShouldRevalidate:b}):ic(s,p):d},resolve(b){let{lazy:R,loader:L,middleware:z}=s.route,j=_||d||b&&!Gn(t.method)&&(R||L),Y=z&&z.length>0&&!L&&!R;return j&&(Gn(t.method)||!Y)?MD({request:t,unstable_pattern:a,match:s,lazyHandlerPromise:E==null?void 0:E.handler,lazyRoutePromise:E==null?void 0:E.route,handlerOverride:b,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Sl(n,e,t,a,s,l,c,d=null){return a.map(p=>p.route.id!==s.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:hA(n,e,t,p,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Gg(n,e,t,Nc(a),p,l,c,!0,d))}async function OD(n,e,t,a,s,l){t.some(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware})&&await Promise.all(t.map(g=>{var _;return(_=g._lazyPromises)==null?void 0:_.middleware}));let c={request:e,unstable_pattern:Nc(t),params:t[0].params,context:s,matches:t},p=await n({...c,fetcherKey:a,runClientMiddleware:g=>{let _=c;return uA(_,()=>g({..._,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>{var _,E;return[(_=g._lazyPromises)==null?void 0:_.handler,(E=g._lazyPromises)==null?void 0:E.route]}))}catch{}return p}async function MD({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:s,handlerOverride:l,scopedContext:c}){let d,p,g=Gn(n.method),_=g?"action":"loader",E=b=>{let R,L=new Promise((Y,F)=>R=F);p=()=>R(),n.signal.addEventListener("abort",p);let z=Y=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${t.route.id}]`)):b({request:n,unstable_pattern:e,params:t.params,context:c},...Y!==void 0?[Y]:[]),j=(async()=>{try{return{type:"data",result:await(l?l(F=>z(F)):z())}}catch(Y){return{type:"error",result:Y}}})();return Promise.race([j,L])};try{let b=g?t.route.action:t.route.loader;if(a||s)if(b){let R,[L]=await Promise.all([E(b).catch(z=>{R=z}),a,s]);if(R!==void 0)throw R;d=L}else{await a;let R=g?t.route.action:t.route.loader;if(R)[d]=await Promise.all([E(R),s]);else if(_==="action"){let L=new URL(n.url),z=L.pathname+L.search;throw Kr(405,{method:n.method,pathname:z,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)d=await E(b);else{let R=new URL(n.url),L=R.pathname+R.search;throw Kr(404,{pathname:L})}}catch(b){return{type:"error",result:b}}finally{p&&n.signal.removeEventListener("abort",p)}return d}async function PD(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function VD(n){var a,s,l,c,d;let{result:e,type:t}=n;if(Ny(e)){let p;try{p=await PD(e)}catch(g){return{type:"error",error:g}}return t==="error"?{type:"error",error:new Dc(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return t==="error"?jb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:jD(e),statusCode:gc(e)?e.status:void 0,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:gc(e)?e.status:void 0}:jb(e)?{type:"data",data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kD(n,e,t,a,s){let l=n.headers.get("Location");if(at(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Iy(l)){let c=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=Hg(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function Pb(n,e,t,a){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Iy(n)){let l=n,c=l.startsWith("//")?new URL(e.protocol+l):new URL(l);if(s.includes(c.protocol))throw new Error("Invalid redirect location");let d=Xr(c.pathname,t)!=null;if(c.origin===e.origin&&d)return c.pathname+c.search+c.hash}try{let l=a.createURL(n);if(s.includes(l.protocol))throw new Error("Invalid redirect location")}catch{}return n}function ml(n,e,t,a){let s=n.createURL(fA(e)).toString(),l={signal:t};if(a&&Gn(a.formMethod)){let{formMethod:c,formEncType:d}=a;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=$g(a.formData):l.body=a.formData}return new Request(s,l)}function $g(n){let e=new URLSearchParams;for(let[t,a]of n.entries())e.append(t,typeof a=="string"?a:a.name);return e}function Vb(n){let e=new FormData;for(let[t,a]of n.entries())e.append(t,a);return e}function LD(n,e,t,a=!1,s=!1){let l={},c=null,d,p=!1,g={},_=t&&Rr(t[1])?t[1].error:void 0;return n.forEach(E=>{if(!(E.route.id in e))return;let b=E.route.id,R=e[b];if(at(!ao(R),"Cannot handle redirect results in processLoaderData"),Rr(R)){let L=R.error;if(_!==void 0&&(L=_,_=void 0),c=c||{},s)c[b]=L;else{let z=rs(n,b);c[z.route.id]==null&&(c[z.route.id]=L)}a||(l[b]=sA),p||(p=!0,d=gc(R.error)?R.error.status:500),R.headers&&(g[b]=R.headers)}else l[b]=R.data,R.statusCode&&R.statusCode!==200&&!p&&(d=R.statusCode),R.headers&&(g[b]=R.headers)}),_!==void 0&&t&&(c={[t[0]]:_},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function kb(n,e,t,a,s,l){let{loaderData:c,errors:d}=LD(e,t,a);return s.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:_,controller:E}=p;if(E&&E.signal.aborted)return;let b=l[g];if(at(b,"Did not find corresponding fetcher result"),Rr(b)){let R=rs(n.matches,_==null?void 0:_.route.id);d&&d[R.route.id]||(d={...d,[R.route.id]:b.error}),n.fetchers.delete(g)}else if(ao(b))at(!1,"Unhandled fetcher revalidation redirect");else{let R=oa(b.data);n.fetchers.set(g,R)}}),{loaderData:c,errors:d}}function Lb(n,e,t,a){let s=Object.entries(e).filter(([,l])=>l!==sA).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),a&&a.hasOwnProperty(c))break}return s}function Ub(n){return n?Rr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function rs(n,e){return(e?n.slice(0,n.findIndex(a=>a.route.id===e)+1):[...n]).reverse().find(a=>a.route.hasErrorBoundary===!0)||n[0]}function gf(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kr(n,{pathname:e,routeId:t,method:a,type:s,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Dc(n||500,c,new Error(d),!0)}function yf(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[a,s]=e[t];if(ao(s))return{key:a,result:s}}}function fA(n){let e=typeof n=="string"?va(n):n;return Ui({...e,hash:""})}function UD(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function jD(n){var e,t;return new Dc(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function zD(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&BD(t))}function BD(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function FD(n){return Ny(n.result)&&iA.has(n.result.status)}function Rr(n){return n.type==="error"}function ao(n){return(n&&n.type)==="redirect"}function jb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Ny(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function HD(n){return iA.has(n)}function qD(n){return Ny(n)&&HD(n.status)&&n.headers.has("Location")}function GD(n){return TD.has(n.toUpperCase())}function Gn(n){return vD.has(n.toUpperCase())}function xy(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Nf(n,e){let t=typeof e=="string"?va(e).search:e.search;if(n[n.length-1].route.index&&xy(t||""))return n[n.length-1];let a=ZS(n);return a[a.length-1]}function zb(n){let{formMethod:e,formAction:t,formEncType:a,text:s,formData:l,json:c}=n;if(!(!e||!t||!a)){if(s!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function bg(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $D(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ku(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function KD(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function oa(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function YD(n,e){try{let t=n.sessionStorage.getItem(aA);if(t){let a=JSON.parse(t);for(let[s,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function QD(n,e){if(e.size>0){let t={};for(let[a,s]of e)t[a]=[...s];try{n.sessionStorage.setItem(aA,JSON.stringify(t))}catch(a){nn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Bb(){let n,e,t=new Promise((a,s)=>{n=async l=>{a(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var vo=P.createContext(null);vo.displayName="DataRouter";var xc=P.createContext(null);xc.displayName="DataRouterState";var dA=P.createContext(!1);function XD(){return P.useContext(dA)}var Oy=P.createContext({isTransitioning:!1});Oy.displayName="ViewTransition";var mA=P.createContext(new Map);mA.displayName="Fetchers";var WD=P.createContext(null);WD.displayName="Await";var Mr=P.createContext(null);Mr.displayName="Navigation";var Pd=P.createContext(null);Pd.displayName="Location";var Jr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var My=P.createContext(null);My.displayName="RouteError";var pA="REACT_ROUTER_ERROR",JD="REDIRECT",ZD="ROUTE_ERROR_RESPONSE";function eN(n){if(n.startsWith(`${pA}:${JD}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function tN(n){if(n.startsWith(`${pA}:${ZD}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Dc(e.status,e.statusText,e.data)}catch{}}function nN(n,{relative:e}={}){at(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=P.useContext(Mr),{hash:s,pathname:l,search:c}=Oc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Mi([t,l])),a.createHref({pathname:d,search:c,hash:s})}function Fl(){return P.useContext(Pd)!=null}function Zr(){return at(Fl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Pd).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(n){P.useContext(Mr).static||P.useLayoutEffect(n)}function Eo(){let{isDataRoute:n}=P.useContext(Jr);return n?yN():rN()}function rN(){at(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(vo),{basename:e,navigator:t}=P.useContext(Mr),{matches:a}=P.useContext(Jr),{pathname:s}=Zr(),l=JSON.stringify(Od(a)),c=P.useRef(!1);return yA(()=>{c.current=!0}),P.useCallback((p,g={})=>{if(nn(c.current,gA),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Md(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Mi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,s,n])}var iN=P.createContext(null);function aN(n){let e=P.useContext(Jr).outlet;return P.useMemo(()=>e&&P.createElement(iN.Provider,{value:n},e),[e,n])}function Vd(){let{matches:n}=P.useContext(Jr),e=n[n.length-1];return e?e.params:{}}function Oc(n,{relative:e}={}){let{matches:t}=P.useContext(Jr),{pathname:a}=Zr(),s=JSON.stringify(Od(t));return P.useMemo(()=>Md(n,JSON.parse(s),a,e==="path"),[n,s,a,e])}function sN(n,e,t,a,s){at(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Mr),{matches:c}=P.useContext(Jr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let F=E&&E.path||"";vA(g,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Zr(),R;R=b;let L=R.pathname||"/",z=L;if(_!=="/"){let F=_.replace(/^\//,"").split("/");z="/"+L.replace(/^\//,"").split("/").slice(F.length).join("/")}let j=ns(n,{pathname:z});return nn(E||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),nn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),hN(j&&j.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:Mi([_,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:Mi([_,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,t,a,s)}function oN(){let n=gN(),e=gc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,c)}var lN=P.createElement(oN,null),_A=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=tN(n.digest);t&&(n=t)}let e=n!==void 0?P.createElement(Jr.Provider,{value:this.props.routeContext},P.createElement(My.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?P.createElement(uN,{error:n},e):e}};_A.contextType=dA;var Sg=new WeakMap;function uN({children:n,error:e}){let{basename:t}=P.useContext(Mr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=eN(e.digest);if(a){let s=Sg.get(e);if(s)throw s;let l=tA(a.location,t);if(eA&&!Sg.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw Sg.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function cN({routeContext:n,match:e,children:t}){let a=P.useContext(vo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Jr.Provider,{value:n},t)}function hN(n,e=[],t=null,a=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t==null?void 0:t.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&(c==null?void 0:c[E.route.id])!==void 0);at(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,p=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=_),E.route.id){let{loaderData:b,errors:R}=t,L=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||L){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&a?(_,E)=>{var b,R;a(_,{location:t.location,params:((R=(b=t.matches)==null?void 0:b[0])==null?void 0:R.params)??{},unstable_pattern:Nc(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,b)=>{let R,L=!1,z=null,j=null;t&&(R=c&&E.route.id?c[E.route.id]:void 0,z=E.route.errorElement||lN,d&&(p<0&&b===0?(vA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,j=null):p===b&&(L=!0,j=E.route.hydrateFallbackElement||null)));let Y=e.concat(l.slice(0,b+1)),F=()=>{let K;return R?K=z:L?K=j:E.route.Component?K=P.createElement(E.route.Component,null):E.route.element?K=E.route.element:K=_,P.createElement(cN,{match:E,routeContext:{outlet:_,matches:Y,isDataRoute:t!=null},children:K})};return t&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?P.createElement(_A,{location:t.location,revalidation:t.revalidation,component:z,error:R,children:F(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:g}):F()},null)}function Py(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fN(n){let e=P.useContext(vo);return at(e,Py(n)),e}function dN(n){let e=P.useContext(xc);return at(e,Py(n)),e}function mN(n){let e=P.useContext(Jr);return at(e,Py(n)),e}function Vy(n){let e=mN(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pN(){return Vy("useRouteId")}function gN(){var a;let n=P.useContext(My),e=dN("useRouteError"),t=Vy("useRouteError");return n!==void 0?n:(a=e.errors)==null?void 0:a[t]}function yN(){let{router:n}=fN("useNavigate"),e=Vy("useNavigate"),t=P.useRef(!1);return yA(()=>{t.current=!0}),P.useCallback(async(s,l={})=>{nn(t.current,gA),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var Fb={};function vA(n,e,t){!e&&!Fb[n]&&(Fb[n]=!0,nn(!1,t))}var Hb={};function qb(n,e){!n&&!Hb[e]&&(Hb[e]=!0,console.warn(e))}var _N="useOptimistic",Gb=cI[_N],vN=()=>{};function EN(n){return Gb?Gb(n):[n,vN]}function TN(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&nn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&nn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&nn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var bN=["HydrateFallback","hydrateFallbackElement"],SN=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function AN({router:n,flushSync:e,onError:t,unstable_useTransitions:a}){a=XD()||a;let[l,c]=P.useState(n.state),[d,p]=EN(l),[g,_]=P.useState(),[E,b]=P.useState({isTransitioning:!1}),[R,L]=P.useState(),[z,j]=P.useState(),[Y,F]=P.useState(),K=P.useRef(new Map),ee=P.useCallback((w,{deletedFetchers:I,newErrors:O,flushSync:x,viewTransitionOpts:M})=>{O&&t&&Object.values(O).forEach(_e=>{var Ce;return t(_e,{location:w.location,params:((Ce=w.matches[0])==null?void 0:Ce.params)??{},unstable_pattern:Nc(w.matches)})}),w.fetchers.forEach((_e,Ce)=>{_e.data!==void 0&&K.current.set(Ce,_e.data)}),I.forEach(_e=>K.current.delete(_e)),qb(x===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(qb(M==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!D){e&&x?e(()=>c(w)):a===!1?c(w):P.startTransition(()=>{a===!0&&p(_e=>$b(_e,w)),c(w)});return}if(e&&x){e(()=>{z&&(R==null||R.resolve(),z.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let _e=n.window.document.startViewTransition(()=>{e(()=>c(w))});_e.finished.finally(()=>{e(()=>{L(void 0),j(void 0),_(void 0),b({isTransitioning:!1})})}),e(()=>j(_e));return}z?(R==null||R.resolve(),z.skipTransition(),F({state:w,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(_(w),b({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,e,z,R,a,p,t]);P.useLayoutEffect(()=>n.subscribe(ee),[n,ee]),P.useEffect(()=>{E.isTransitioning&&!E.flushSync&&L(new SN)},[E]),P.useEffect(()=>{if(R&&g&&n.window){let w=g,I=R.promise,O=n.window.document.startViewTransition(async()=>{a===!1?c(w):P.startTransition(()=>{a===!0&&p(x=>$b(x,w)),c(w)}),await I});O.finished.finally(()=>{L(void 0),j(void 0),_(void 0),b({isTransitioning:!1})}),j(O)}},[g,R,n.window,a,p]),P.useEffect(()=>{R&&g&&d.location.key===g.location.key&&R.resolve()},[R,z,d.location,g]),P.useEffect(()=>{!E.isTransitioning&&Y&&(_(Y.state),b({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}),F(void 0))},[E.isTransitioning,Y]);let ae=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,I,O)=>n.navigate(w,{state:I,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(w,I,O)=>n.navigate(w,{replace:!0,state:I,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),te=n.basename||"/",S=P.useMemo(()=>({router:n,navigator:ae,static:!1,basename:te,onError:t}),[n,ae,te,t]);return P.createElement(P.Fragment,null,P.createElement(vo.Provider,{value:S},P.createElement(xc.Provider,{value:d},P.createElement(mA.Provider,{value:K.current},P.createElement(Oy.Provider,{value:E},P.createElement(CN,{basename:te,location:d.location,navigationType:d.historyAction,navigator:ae,unstable_useTransitions:a},P.createElement(wN,{routes:n.routes,future:n.future,state:d,onError:t})))))),null)}function $b(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var wN=P.memo(RN);function RN({routes:n,future:e,state:t,onError:a}){return sN(n,void 0,t,a,e)}function cs({to:n,replace:e,state:t,relative:a}){at(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(Mr);nn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(Jr),{pathname:c}=Zr(),d=Eo(),p=Md(n,Od(l),c,a==="path"),g=JSON.stringify(p);return P.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:a})},[d,g,a,e,t]),null}function EA(n){return aN(n.context)}function CN({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){at(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=va(t));let{pathname:g="/",search:_="",hash:E="",state:b=null,key:R="default"}=t,L=P.useMemo(()=>{let z=Xr(g,d);return z==null?null:{location:{pathname:z,search:_,hash:E,state:b,key:R},navigationType:a}},[d,g,_,E,b,R,a]);return nn(L!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:P.createElement(Mr.Provider,{value:p},P.createElement(Pd.Provider,{children:e,value:L}))}var xf="get",Of="application/x-www-form-urlencoded";function kd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function IN(n){return kd(n)&&n.tagName.toLowerCase()==="button"}function DN(n){return kd(n)&&n.tagName.toLowerCase()==="form"}function NN(n){return kd(n)&&n.tagName.toLowerCase()==="input"}function xN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ON(n,e){return n.button===0&&(!e||e==="_self")&&!xN(n)}function Kg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let a=n[t];return e.concat(Array.isArray(a)?a.map(s=>[t,s]):[[t,a]])},[]))}function MN(n,e){let t=Kg(n);return e&&e.forEach((a,s)=>{t.has(s)||e.getAll(s).forEach(l=>{t.append(s,l)})}),t}var _f=null;function PN(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var VN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ag(n){return n!=null&&!VN.has(n)?(nn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):n}function kN(n,e){let t,a,s,l,c;if(DN(n)){let d=n.getAttribute("action");a=d?Xr(d,e):null,t=n.getAttribute("method")||xf,s=Ag(n.getAttribute("enctype"))||Of,l=new FormData(n)}else if(IN(n)||NN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(a=p?Xr(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||xf,s=Ag(n.getAttribute("formenctype"))||Ag(d.getAttribute("enctype"))||Of,l=new FormData(d,n),!PN()){let{name:g,type:_,value:E}=n;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,E)}}else{if(kd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xf,a=null,s=Of,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function LN(n,e,t,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:e&&Xr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function UN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function zN(n,e,t){let a=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await UN(l,t);return c.links?c.links():[]}return[]}));return qN(a.flat(1).filter(jN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Kb(n,e,t,a,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var E;let _=a.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function BN(n,e,{includeHydrateFallback:t}={}){return FN(n.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function FN(n){return[...new Set(n)]}function HN(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function qN(n,e){let t=new Set;return new Set(e),n.reduce((a,s)=>{let l=JSON.stringify(HN(s));return t.has(l)||(t.add(l),a.push({key:l,link:s})),a},[])}function TA(){let n=P.useContext(vo);return ky(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GN(){let n=P.useContext(xc);return ky(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ly=P.createContext(void 0);Ly.displayName="FrameworkContext";function bA(){let n=P.useContext(Ly);return ky(n,"You must render this element inside a <HydratedRouter> element"),n}function $N(n,e){let t=P.useContext(Ly),[a,s]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,b=P.useRef(null);P.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=Y=>{Y.forEach(F=>{c(F.isIntersecting)})},j=new IntersectionObserver(z,{threshold:.5});return b.current&&j.observe(b.current),()=>{j.disconnect()}}},[n]),P.useEffect(()=>{if(a){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[a]);let R=()=>{s(!0)},L=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Yu(d,R),onBlur:Yu(p,L),onMouseEnter:Yu(g,R),onMouseLeave:Yu(_,L),onTouchStart:Yu(E,R)}]:[!1,b,{}]}function Yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KN({page:n,...e}){let{router:t}=TA(),a=P.useMemo(()=>ns(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?P.createElement(QN,{page:n,matches:a,...e}):null}function YN(n){let{manifest:e,routeModules:t}=bA(),[a,s]=P.useState([]);return P.useEffect(()=>{let l=!1;return zN(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),a}function QN({page:n,matches:e,...t}){let a=Zr(),{future:s,manifest:l,routeModules:c}=bA(),{basename:d}=TA(),{loaderData:p,matches:g}=GN(),_=P.useMemo(()=>Kb(n,e,g,l,a,"data"),[n,e,g,l,a]),E=P.useMemo(()=>Kb(n,e,g,l,a,"assets"),[n,e,g,l,a]),b=P.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let z=new Set,j=!1;if(e.forEach(F=>{var ee;let K=l.routes[F.route.id];!K||!K.hasLoader||(!_.some(ae=>ae.route.id===F.route.id)&&F.route.id in p&&((ee=c[F.route.id])!=null&&ee.shouldRevalidate)||K.hasClientLoader?j=!0:z.add(F.route.id))}),z.size===0)return[];let Y=LN(n,d,s.unstable_trailingSlashAwareDataRequests,"data");return j&&z.size>0&&Y.searchParams.set("_routes",e.filter(F=>z.has(F.route.id)).map(F=>F.route.id).join(",")),[Y.pathname+Y.search]},[d,s.unstable_trailingSlashAwareDataRequests,p,a,l,_,e,n,c]),R=P.useMemo(()=>BN(E,l),[E,l]),L=YN(E);return P.createElement(P.Fragment,null,b.map(z=>P.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),R.map(z=>P.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),L.map(({key:z,link:j})=>P.createElement("link",{key:z,nonce:t.nonce,...j,crossOrigin:j.crossOrigin??t.crossOrigin})))}function XN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WN&&(window.__reactRouterVersion="7.13.0")}catch{}function JN(n,e){return wD({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:BI({window:e==null?void 0:e.window}),hydrationData:ZN(),routes:n,mapRouteProperties:TN,hydrationRouteProperties:bN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function ZN(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:ex(n.errors)}),n}function ex(n){if(!n)return null;let e=Object.entries(n),t={};for(let[a,s]of e)if(s&&s.__type==="RouteErrorResponse")t[a]=new Dc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let l=new Error(s.message);l.stack="",t[a]=l}}else t[a]=s;return t}var SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AA=P.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...R},L){let{basename:z,unstable_useTransitions:j}=P.useContext(Mr),Y=typeof g=="string"&&SA.test(g),F=tA(g,z);g=F.to;let K=nN(g,{relative:s}),[ee,ae,te]=$N(a,R),S=ix(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:s,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:j});function w(O){e&&e(O),O.defaultPrevented||S(O)}let I=P.createElement("a",{...R,...te,href:F.absoluteURL||K,onClick:F.isExternal||l?e:w,ref:XN(L,ae),target:p,"data-discover":!Y&&t==="render"?"true":void 0});return ee&&!Y?P.createElement(P.Fragment,null,I,P.createElement(KN,{page:K})):I});AA.displayName="Link";var tx=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},_){let E=Oc(c,{relative:g.relative}),b=Zr(),R=P.useContext(xc),{navigator:L,basename:z}=P.useContext(Mr),j=R!=null&&cx(E)&&d===!0,Y=L.encodeLocation?L.encodeLocation(E).pathname:E.pathname,F=b.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(F=F.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&z&&(K=Xr(K,z)||K);const ee=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ae=F===Y||!s&&F.startsWith(Y)&&F.charAt(ee)==="/",te=K!=null&&(K===Y||!s&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),S={isActive:ae,isPending:te,isTransitioning:j},w=ae?e:void 0,I;typeof a=="function"?I=a(S):I=[a,ae?"active":null,te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(S):l;return P.createElement(AA,{...g,"aria-current":w,className:I,ref:_,style:O,to:c,viewTransition:d},typeof p=="function"?p(S):p)});tx.displayName="NavLink";var nx=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:l,method:c=xf,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b,...R},L)=>{let{unstable_useTransitions:z}=P.useContext(Mr),j=lx(),Y=ux(d,{relative:g}),F=c.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&SA.test(d),ee=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let te=ae.nativeEvent.submitter,S=(te==null?void 0:te.getAttribute("formmethod"))||c,w=()=>j(te||ae.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:s,state:l,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:b});z&&t!==!1?P.startTransition(()=>w()):w()};return P.createElement("form",{ref:L,method:F,action:Y,onSubmit:a?p:ee,...R,"data-discover":!K&&n==="render"?"true":void 0})});nx.displayName="Form";function rx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wA(n){let e=P.useContext(vo);return at(e,rx(n)),e}function ix(n,{target:e,replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=Eo(),_=Zr(),E=Oc(n,{relative:l});return P.useCallback(b=>{if(ON(b,e)){b.preventDefault();let R=t!==void 0?t:Ui(_)===Ui(E),L=()=>g(n,{replace:R,state:a,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?P.startTransition(()=>L()):L()}},[_,g,E,t,a,e,n,s,l,c,d,p])}function ax(n){nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Kg(n)),t=P.useRef(!1),a=Zr(),s=P.useMemo(()=>MN(a.search,t.current?null:e.current),[a.search]),l=Eo(),c=P.useCallback((d,p)=>{const g=Kg(typeof d=="function"?d(new URLSearchParams(s)):d);t.current=!0,l("?"+g,p)},[l,s]);return[s,c]}var sx=0,ox=()=>`__${String(++sx)}__`;function lx(){let{router:n}=wA("useSubmit"),{basename:e}=P.useContext(Mr),t=pN(),a=n.fetch,s=n.navigate;return P.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:_,body:E}=kN(l,e);if(c.navigate===!1){let b=c.fetcherKey||ox();await a(b,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,t])}function ux(n,{relative:e}={}){let{basename:t}=P.useContext(Mr),a=P.useContext(Jr);at(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...Oc(n||".",{relative:e})},c=Zr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Mi([t,l.pathname])),Ui(l)}function cx(n,{relative:e}={}){let t=P.useContext(Oy);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=wA("useViewTransitionState"),s=Oc(n,{relative:e});if(!t.isTransitioning)return!1;let l=Xr(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=Xr(t.nextLocation.pathname,a)||t.nextLocation.pathname;return ed(s.pathname,c)!=null||ed(s.pathname,l)!=null}var hx=GS();function fx(n){return P.createElement(AN,{flushSync:hx.flushSync,...n})}const dx=P.createContext(void 0),ei=()=>VI(),ct=UI.withTypes(),mx=({children:n})=>{const e=ct(t=>t.auth.loading);return A.jsx(dx.Provider,{value:{isLoading:e},children:n})},px=()=>{};var Yb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let s=n.charCodeAt(a);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},gx=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const s=n[t++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},CA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(b=64)),a.push(t[_],t[E],t[b],t[R])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||E==null)throw new yx;const b=l<<2|d>>4;if(a.push(b),g!==64){const R=d<<4&240|g>>2;if(a.push(R),E!==64){const L=g<<6&192|E;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _x=function(n){const e=RA(n);return CA.encodeByteArray(e,!0)},td=function(n){return _x(n).replace(/\./g,"")},IA=function(n){try{return CA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=()=>vx().__FIREBASE_DEFAULTS__,Tx=()=>{if(typeof process>"u"||typeof Yb>"u")return;const n=Yb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IA(n[1]);return e&&JSON.parse(e)},Ld=()=>{try{return px()||Ex()||Tx()||bx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DA=n=>{var e,t;return(t=(e=Ld())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},Sx=n=>{const e=DA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},NA=()=>{var n;return(n=Ld())==null?void 0:n.config},xA=n=>{var e;return(e=Ld())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[td(JSON.stringify(t)),td(JSON.stringify(c)),""].join(".")}const ac={};function Rx(){const n={prod:[],emulator:[]};for(const e of Object.keys(ac))ac[e]?n.emulator.push(e):n.prod.push(e);return n}function Cx(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Qb=!1;function MA(n,e){if(typeof window>"u"||typeof document>"u"||!Hl(window.location.host)||ac[n]===e||ac[n]||Qb)return;ac[n]=e;function t(b){return`__firebase__banner__${b}`}const a="__firebase__banner",l=Rx().prod.length>0;function c(){const b=document.getElementById(a);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Qb=!0,c()},b}function _(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=Cx(a),R=t("text"),L=document.getElementById(R)||document.createElement("span"),z=t("learnmore"),j=document.getElementById(z)||document.createElement("a"),Y=t("preprendIcon"),F=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;d(K),_(j,z);const ee=g();p(F,Y),K.append(F,L,j,ee),document.body.appendChild(K)}l?(L.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ix(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function Dx(){var e;const n=(e=Ld())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ox(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Mx(){const n=Yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Px(){return!Dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vx(){try{return typeof indexedDB=="object"}catch{return!1}}function kx(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="FirebaseError";class Ea extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=Lx,Object.setPrototypeOf(this,Ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?Ux(l,a):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Ea(s,d,a)}}function Ux(n,e){return n.replace(jx,(t,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const jx=/\{\$([^}]+)}/g;function zx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fo(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const s of t){if(!a.includes(s))return!1;const l=n[s],c=e[s];if(Xb(l)&&Xb(c)){if(!fo(l,c))return!1}else if(l!==c)return!1}for(const s of a)if(!t.includes(s))return!1;return!0}function Xb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Bx(n,e){const t=new Fx(n,e);return t.subscribe.bind(t)}class Fx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let s;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");Hx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:a},s.next===void 0&&(s.next=wg),s.error===void 0&&(s.error=wg),s.complete===void 0&&(s.complete=wg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n){return n&&n._delegate?n._delegate:n}class mo{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new Ax;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($x(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(s)}return s}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(a)??new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const s of a)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Gx(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gx(n){return n===io?void 0:n}function $x(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(dt||(dt={}));const Yx={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Qx=dt.INFO,Xx={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},Wx=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),s=Xx[e];if(s)console[s](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uy{constructor(e){this.name=e,this._logLevel=Qx,this._logHandler=Wx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const Jx=(n,e)=>e.some(t=>n instanceof t);let Wb,Jb;function Zx(){return Wb||(Wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e2(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PA=new WeakMap,Yg=new WeakMap,VA=new WeakMap,Rg=new WeakMap,jy=new WeakMap;function t2(n){const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(hs(n.result)),s()},c=()=>{a(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&PA.set(t,n)}).catch(()=>{}),jy.set(e,n),e}function n2(n){if(Yg.has(n))return;const e=new Promise((t,a)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Yg.set(n,e)}let Qg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function r2(n){Qg=n(Qg)}function i2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(Cg(this),e,...t);return VA.set(a,e.sort?e.sort():[e]),hs(a)}:e2().includes(n)?function(...e){return n.apply(Cg(this),e),hs(PA.get(this))}:function(...e){return hs(n.apply(Cg(this),e))}}function a2(n){return typeof n=="function"?i2(n):(n instanceof IDBTransaction&&n2(n),Jx(n,Zx())?new Proxy(n,Qg):n)}function hs(n){if(n instanceof IDBRequest)return t2(n);if(Rg.has(n))return Rg.get(n);const e=a2(n);return e!==n&&(Rg.set(n,e),jy.set(e,n)),e}const Cg=n=>jy.get(n);function s2(n,e,{blocked:t,upgrade:a,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=hs(c);return a&&c.addEventListener("upgradeneeded",p=>{a(hs(c.result),p.oldVersion,p.newVersion,hs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const o2=["get","getKey","getAll","getAllKeys","count"],l2=["put","add","delete","clear"],Ig=new Map;function Zb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,s=l2.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(s||o2.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return Ig.set(e,l),l}r2(n=>({...n,get:(e,t,a)=>Zb(e,t)||n.get(e,t,a),has:(e,t)=>!!Zb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c2(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function c2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",e0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Uy("@firebase/app"),h2="@firebase/app-compat",f2="@firebase/analytics-compat",d2="@firebase/analytics",m2="@firebase/app-check-compat",p2="@firebase/app-check",g2="@firebase/auth",y2="@firebase/auth-compat",_2="@firebase/database",v2="@firebase/data-connect",E2="@firebase/database-compat",T2="@firebase/functions",b2="@firebase/functions-compat",S2="@firebase/installations",A2="@firebase/installations-compat",w2="@firebase/messaging",R2="@firebase/messaging-compat",C2="@firebase/performance",I2="@firebase/performance-compat",D2="@firebase/remote-config",N2="@firebase/remote-config-compat",x2="@firebase/storage",O2="@firebase/storage-compat",M2="@firebase/firestore",P2="@firebase/ai",V2="@firebase/firestore-compat",k2="firebase",L2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="[DEFAULT]",U2={[Xg]:"fire-core",[h2]:"fire-core-compat",[d2]:"fire-analytics",[f2]:"fire-analytics-compat",[p2]:"fire-app-check",[m2]:"fire-app-check-compat",[g2]:"fire-auth",[y2]:"fire-auth-compat",[_2]:"fire-rtdb",[v2]:"fire-data-connect",[E2]:"fire-rtdb-compat",[T2]:"fire-fn",[b2]:"fire-fn-compat",[S2]:"fire-iid",[A2]:"fire-iid-compat",[w2]:"fire-fcm",[R2]:"fire-fcm-compat",[C2]:"fire-perf",[I2]:"fire-perf-compat",[D2]:"fire-rc",[N2]:"fire-rc-compat",[x2]:"fire-gcs",[O2]:"fire-gcs-compat",[M2]:"fire-fst",[V2]:"fire-fst-compat",[P2]:"fire-vertex","fire-js":"fire-js",[k2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,j2=new Map,Jg=new Map;function t0(n,e){try{n.container.addComponent(e)}catch(t){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nl(n){const e=n.name;if(Jg.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,n);for(const t of nd.values())t0(t,n);for(const t of j2.values())t0(t,n);return!0}function zy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ui(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new Mc("app","Firebase",z2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=L2;function kA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a={name:Wg,automaticDataCollectionEnabled:!0,...e},s=a.name;if(typeof s!="string"||!s)throw fs.create("bad-app-name",{appName:String(s)});if(t||(t=NA()),!t)throw fs.create("no-options");const l=nd.get(s);if(l){if(fo(t,l.options)&&fo(a,l.config))return l;throw fs.create("duplicate-app",{appName:s})}const c=new Kx(s);for(const p of Jg.values())c.addComponent(p);const d=new B2(t,a,c);return nd.set(s,d),d}function LA(n=Wg){const e=nd.get(n);if(!e&&n===Wg&&NA())return kA();if(!e)throw fs.create("no-app",{appName:n});return e}function ds(n,e,t){let a=U2[n]??n;t&&(a+=`-${t}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${a}" with version "${e}":`];s&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(c.join(" "));return}Nl(new mo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",H2=1,yc="firebase-heartbeat-store";let Dg=null;function UA(){return Dg||(Dg=s2(F2,H2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),Dg}async function q2(n){try{const t=(await UA()).transaction(yc),a=await t.objectStore(yc).get(jA(n));return await t.done,a}catch(e){if(e instanceof Ea)ma.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ma.warn(t.message)}}}async function n0(n,e){try{const a=(await UA()).transaction(yc,"readwrite");await a.objectStore(yc).put(e,jA(n)),await a.done}catch(t){if(t instanceof Ea)ma.warn(t.message);else{const a=fs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ma.warn(a.message)}}}function jA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1024,$2=30;class K2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q2(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=r0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>$2){const c=X2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ma.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r0(),{heartbeatsToSend:a,unsentEntries:s}=Y2(this._heartbeatsCache.heartbeats),l=td(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ma.warn(t),""}}}function r0(){return new Date().toISOString().substring(0,10)}function Y2(n,e=G2){const t=[];let a=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),i0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),i0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class Q2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vx()?kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await q2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function X2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n){Nl(new mo("platform-logger",e=>new u2(e),"PRIVATE")),Nl(new mo("heartbeat",e=>new K2(e),"PRIVATE")),ds(Xg,e0,n),ds(Xg,e0,"esm2020"),ds("fire-js","")}W2("");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,zA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function I(){}I.prototype=w.prototype,S.F=w.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(O,x,M){for(var D=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)D[_e-2]=arguments[_e];return w.prototype[x].apply(O,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,w,I){I||(I=0);const O=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)O[x]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(x=0;x<16;++x)O[x]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=S.g[0],I=S.g[1],x=S.g[2];let M=S.g[3],D;D=w+(M^I&(x^M))+O[0]+3614090360&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(x^w&(I^x))+O[1]+3905402710&4294967295,M=w+(D<<12&4294967295|D>>>20),D=x+(I^M&(w^I))+O[2]+606105819&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(w^x&(M^w))+O[3]+3250441966&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(M^I&(x^M))+O[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(x^w&(I^x))+O[5]+1200080426&4294967295,M=w+(D<<12&4294967295|D>>>20),D=x+(I^M&(w^I))+O[6]+2821735955&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(w^x&(M^w))+O[7]+4249261313&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(M^I&(x^M))+O[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(x^w&(I^x))+O[9]+2336552879&4294967295,M=w+(D<<12&4294967295|D>>>20),D=x+(I^M&(w^I))+O[10]+4294925233&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(w^x&(M^w))+O[11]+2304563134&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(M^I&(x^M))+O[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=M+(x^w&(I^x))+O[13]+4254626195&4294967295,M=w+(D<<12&4294967295|D>>>20),D=x+(I^M&(w^I))+O[14]+2792965006&4294967295,x=M+(D<<17&4294967295|D>>>15),D=I+(w^x&(M^w))+O[15]+1236535329&4294967295,I=x+(D<<22&4294967295|D>>>10),D=w+(x^M&(I^x))+O[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(w^I))+O[6]+3225465664&4294967295,M=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(M^w))+O[11]+643717713&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(x^M))+O[0]+3921069994&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(x^M&(I^x))+O[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(w^I))+O[10]+38016083&4294967295,M=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(M^w))+O[15]+3634488961&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(x^M))+O[4]+3889429448&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(x^M&(I^x))+O[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(w^I))+O[14]+3275163606&4294967295,M=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(M^w))+O[3]+4107603335&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(x^M))+O[8]+1163531501&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(x^M&(I^x))+O[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=M+(I^x&(w^I))+O[2]+4243563512&4294967295,M=w+(D<<9&4294967295|D>>>23),D=x+(w^I&(M^w))+O[7]+1735328473&4294967295,x=M+(D<<14&4294967295|D>>>18),D=I+(M^w&(x^M))+O[12]+2368359562&4294967295,I=x+(D<<20&4294967295|D>>>12),D=w+(I^x^M)+O[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^x)+O[8]+2272392833&4294967295,M=w+(D<<11&4294967295|D>>>21),D=x+(M^w^I)+O[11]+1839030562&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^w)+O[14]+4259657740&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(I^x^M)+O[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^x)+O[4]+1272893353&4294967295,M=w+(D<<11&4294967295|D>>>21),D=x+(M^w^I)+O[7]+4139469664&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^w)+O[10]+3200236656&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(I^x^M)+O[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^x)+O[0]+3936430074&4294967295,M=w+(D<<11&4294967295|D>>>21),D=x+(M^w^I)+O[3]+3572445317&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^w)+O[6]+76029189&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(I^x^M)+O[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=M+(w^I^x)+O[12]+3873151461&4294967295,M=w+(D<<11&4294967295|D>>>21),D=x+(M^w^I)+O[15]+530742520&4294967295,x=M+(D<<16&4294967295|D>>>16),D=I+(x^M^w)+O[2]+3299628645&4294967295,I=x+(D<<23&4294967295|D>>>9),D=w+(x^(I|~M))+O[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~x))+O[7]+1126891415&4294967295,M=w+(D<<10&4294967295|D>>>22),D=x+(w^(M|~I))+O[14]+2878612391&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~w))+O[5]+4237533241&4294967295,I=x+(D<<21&4294967295|D>>>11),D=w+(x^(I|~M))+O[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~x))+O[3]+2399980690&4294967295,M=w+(D<<10&4294967295|D>>>22),D=x+(w^(M|~I))+O[10]+4293915773&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~w))+O[1]+2240044497&4294967295,I=x+(D<<21&4294967295|D>>>11),D=w+(x^(I|~M))+O[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~x))+O[15]+4264355552&4294967295,M=w+(D<<10&4294967295|D>>>22),D=x+(w^(M|~I))+O[6]+2734768916&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~w))+O[13]+1309151649&4294967295,I=x+(D<<21&4294967295|D>>>11),D=w+(x^(I|~M))+O[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=M+(I^(w|~x))+O[11]+3174756917&4294967295,M=w+(D<<10&4294967295|D>>>22),D=x+(w^(M|~I))+O[2]+718787259&4294967295,x=M+(D<<15&4294967295|D>>>17),D=I+(M^(x|~w))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+M&4294967295}a.prototype.v=function(S,w){w===void 0&&(w=S.length);const I=w-this.blockSize,O=this.C;let x=this.h,M=0;for(;M<w;){if(x==0)for(;M<=I;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<w;)if(O[x++]=S.charCodeAt(M++),x==this.blockSize){s(this,O),x=0;break}}else for(;M<w;)if(O[x++]=S[M++],x==this.blockSize){s(this,O),x=0;break}}this.h=x,this.o+=w},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;w=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=w&255,w/=256;for(this.v(S),S=Array(16),w=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)S[w++]=this.g[I]>>>O&255;return S};function l(S,w){var I=d;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=w(S)}function c(S,w){this.h=w;const I=[];let O=!0;for(let x=S.length-1;x>=0;x--){const M=S[x]|0;O&&M==w||(I[x]=M,O=!1)}this.g=I}var d={};function p(S){return-128<=S&&S<128?l(S,function(w){return new c([w|0],w<0?-1:0)}):new c([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return j(g(-S));const w=[];let I=1;for(let O=0;S>=I;O++)w[O]=S/I|0,I*=4294967296;return new c(w,0)}function _(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return j(_(S.substring(1),w));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let O=E;for(let M=0;M<S.length;M+=8){var x=Math.min(8,S.length-M);const D=parseInt(S.substring(M,M+x),w);x<8?(x=g(Math.pow(w,x)),O=O.j(x).add(g(D))):(O=O.j(I),O=O.add(g(D)))}return O}var E=p(0),b=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-j(this).m();let S=0,w=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);S+=(O>=0?O:4294967296+O)*w,w*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(z(this))return"-"+j(this).toString(S);const w=g(Math.pow(S,6));var I=this;let O="";for(;;){const x=ee(I,w).g;I=Y(I,x.j(w));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=x,L(I))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(let w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function z(S){return S.h==-1}n.l=function(S){return S=Y(this,S),z(S)?-1:L(S)?0:1};function j(S){const w=S.g.length,I=[];for(let O=0;O<w;O++)I[O]=~S.g[O];return new c(I,~S.h).add(b)}n.abs=function(){return z(this)?j(this):this},n.add=function(S){const w=Math.max(this.g.length,S.g.length),I=[];let O=0;for(let x=0;x<=w;x++){let M=O+(this.i(x)&65535)+(S.i(x)&65535),D=(M>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);O=D>>>16,M&=65535,D&=65535,I[x]=D<<16|M}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Y(S,w){return S.add(j(w))}n.j=function(S){if(L(this)||L(S))return E;if(z(this))return z(S)?j(this).j(j(S)):j(j(this).j(S));if(z(S))return j(this.j(j(S)));if(this.l(R)<0&&S.l(R)<0)return g(this.m()*S.m());const w=this.g.length+S.g.length,I=[];for(var O=0;O<2*w;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let x=0;x<S.g.length;x++){const M=this.i(O)>>>16,D=this.i(O)&65535,_e=S.i(x)>>>16,Ce=S.i(x)&65535;I[2*O+2*x]+=D*Ce,F(I,2*O+2*x),I[2*O+2*x+1]+=M*Ce,F(I,2*O+2*x+1),I[2*O+2*x+1]+=D*_e,F(I,2*O+2*x+1),I[2*O+2*x+2]+=M*_e,F(I,2*O+2*x+2)}for(S=0;S<w;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=w;S<2*w;S++)I[S]=0;return new c(I,0)};function F(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function K(S,w){this.g=S,this.h=w}function ee(S,w){if(L(w))throw Error("division by zero");if(L(S))return new K(E,E);if(z(S))return w=ee(j(S),w),new K(j(w.g),j(w.h));if(z(w))return w=ee(S,j(w)),new K(j(w.g),w.h);if(S.g.length>30){if(z(S)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,O=w;O.l(S)<=0;)I=ae(I),O=ae(O);var x=te(I,1),M=te(O,1);for(O=te(O,2),I=te(I,2);!L(O);){var D=M.add(O);D.l(S)<=0&&(x=x.add(I),M=D),O=te(O,1),I=te(I,1)}return w=Y(S,x.j(w)),new K(x,w)}for(x=E;S.l(w)>=0;){for(I=Math.max(1,Math.floor(S.m()/w.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=g(I),D=M.j(w);z(D)||D.l(S)>0;)I-=O,M=g(I),D=M.j(w);L(M)&&(M=b),x=x.add(M),S=Y(S,D)}return new K(x,S)}n.B=function(S){return ee(this,S).h},n.and=function(S){const w=Math.max(this.g.length,S.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)&S.i(O);return new c(I,this.h&S.h)},n.or=function(S){const w=Math.max(this.g.length,S.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)|S.i(O);return new c(I,this.h|S.h)},n.xor=function(S){const w=Math.max(this.g.length,S.g.length),I=[];for(let O=0;O<w;O++)I[O]=this.i(O)^S.i(O);return new c(I,this.h^S.h)};function ae(S){const w=S.g.length+1,I=[];for(let O=0;O<w;O++)I[O]=S.i(O)<<1|S.i(O-1)>>>31;return new c(I,S.h)}function te(S,w){const I=w>>5;w%=32;const O=S.g.length-I,x=[];for(let M=0;M<O;M++)x[M]=w>0?S.i(M+I)>>>w|S.i(M+I+1)<<32-w:S.i(M+I);return new c(x,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,zA=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ms=c}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BA,Ju,FA,Mf,Zg,HA,qA,GA;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=t(this);function s(h,y){if(y)e:{var T=a;h=h.split(".");for(var N=0;N<h.length-1;N++){var Q=h[N];if(!(Q in T))break e;T=T[Q]}h=h[h.length-1],N=T[h],y=y(N),y!=N&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(y){var T=[],N;for(N in y)Object.prototype.hasOwnProperty.call(y,N)&&T.push([N,y[N]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(N,Q,re){for(var be=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)be[Ze-2]=arguments[Ze];return y.prototype[Q].apply(N,be)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const T=Array(y);for(let N=0;N<y;N++)T[N]=h[N];return T}return[]}function L(h,y){for(let N=1;N<arguments.length;N++){const Q=arguments[N];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=h.length||0;const re=Q.length||0;h.length=T+re;for(let be=0;be<re;be++)h[T+be]=Q[be]}else h.push(Q)}}class z{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=S;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class F{constructor(){this.h=this.g=null}add(y,T){const N=K.get();N.set(y,T),this.h?this.h.next=N:this.g=N,this.h=N}}var K=new z(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,te=!1,S=new F,w=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(I)}};function I(){for(var h;h=Y();){try{h.h.call(h.g)}catch(T){j(T)}var y=K;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}te=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function _e(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(_e,x),_e.prototype.init=function(h,y){const T=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function fe(h,y,T,N,Q){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!N,this.ha=Q,this.key=++H,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,y,T){for(const N in h)y.call(T,h[N],N,h)}function Me(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function U(h){const y={};for(const T in h)y[T]=h[T];return y}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,y){let T,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(T in N)h[T]=N[T];for(let re=0;re<G.length;re++)T=G[re],Object.prototype.hasOwnProperty.call(N,T)&&(h[T]=N[T])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,y,T,N,Q){const re=h.toString();h=this.g[re],h||(h=this.g[re]=[],this.h++);const be=Te(h,y,N,Q);return be>-1?(y=h[be],T||(y.fa=!1)):(y=new fe(y,this.src,re,!!N,Q),y.fa=T,h.push(y)),y};function ge(h,y){const T=y.type;if(T in h.g){var N=h.g[T],Q=Array.prototype.indexOf.call(N,y,void 0),re;(re=Q>=0)&&Array.prototype.splice.call(N,Q,1),re&&(pe(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Te(h,y,T,N){for(let Q=0;Q<h.length;++Q){const re=h[Q];if(!re.da&&re.listener==y&&re.capture==!!T&&re.ha==N)return Q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ke={};function ot(h,y,T,N,Q){if(Array.isArray(y)){for(let re=0;re<y.length;re++)ot(h,y[re],T,N,Q);return null}return T=we(T),h&&h[Ce]?h.J(y,T,d(N)?!!N.capture:!1,Q):Yt(h,y,T,!1,N,Q)}function Yt(h,y,T,N,Q,re){if(!y)throw Error("Invalid event type");const be=d(Q)?!!Q.capture:!!Q;let Ze=ye(h);if(Ze||(h[Ue]=Ze=new ce(h)),T=Ze.add(y,T,N,be,re),T.proxy)return T;if(N=In(),T.proxy=N,N.src=h,N.listener=T,h.addEventListener)M||(Q=be),Q===void 0&&(Q=!1),h.addEventListener(y.toString(),N,Q);else if(h.attachEvent)h.attachEvent(Qt(y.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function In(){function h(T){return y.call(h.src,h.listener,T)}const y=ne;return h}function Et(h,y,T,N,Q){if(Array.isArray(y))for(var re=0;re<y.length;re++)Et(h,y[re],T,N,Q);else N=d(N)?!!N.capture:!!N,T=we(T),h&&h[Ce]?(h=h.i,re=String(y).toString(),re in h.g&&(y=h.g[re],T=Te(y,T,N,Q),T>-1&&(pe(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[re],h.h--)))):h&&(h=ye(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Te(y,T,N,Q)),(T=h>-1?y[h]:null)&&Tn(T))}function Tn(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ce])ge(y.i,h);else{var T=h.type,N=h.proxy;y.removeEventListener?y.removeEventListener(T,N,h.capture):y.detachEvent?y.detachEvent(Qt(T),N):y.addListener&&y.removeListener&&y.removeListener(N),(T=ye(y))?(ge(T,h),T.h==0&&(T.src=null,y[Ue]=null)):pe(h)}}}function Qt(h){return h in Ke?Ke[h]:Ke[h]="on"+h}function ne(h,y){if(h.da)h=!0;else{y=new _e(y,this);const T=h.listener,N=h.ha||h.src;h.fa&&Tn(h),h=T.call(N,y)}return h}function ye(h){return h=h[Ue],h instanceof ce?h:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function we(h){return typeof h=="function"?h:(h[Le]||(h[Le]=function(y){return h.handleEvent(y)}),h[Le])}function Ae(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}E(Ae,O),Ae.prototype[Ce]=!0,Ae.prototype.removeEventListener=function(h,y,T,N){Et(this,h,y,T,N)};function Fe(h,y){var T,N=h.G;if(N)for(T=[];N;N=N.G)T.push(N);if(h=h.M,N=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var Q=y;y=new x(N,h),oe(y,Q)}Q=!0;let re,be;if(T)for(be=T.length-1;be>=0;be--)re=y.g=T[be],Q=Lt(re,N,!0,y)&&Q;if(re=y.g=h,Q=Lt(re,N,!0,y)&&Q,Q=Lt(re,N,!1,y)&&Q,T)for(be=0;be<T.length;be++)re=y.g=T[be],Q=Lt(re,N,!1,y)&&Q}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let N=0;N<T.length;N++)pe(T[N]);delete h.g[y],h.h--}}this.G=null},Ae.prototype.J=function(h,y,T,N){return this.i.add(String(h),y,!1,T,N)},Ae.prototype.K=function(h,y,T,N){return this.i.add(String(h),y,!0,T,N)};function Lt(h,y,T,N){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let Q=!0;for(let re=0;re<y.length;++re){const be=y[re];if(be&&!be.da&&be.capture==T){const Ze=be.listener,un=be.ha||be.src;be.fa&&ge(h.i,be),Q=Ze.call(un,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function Rt(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function je(h){h.g=Rt(()=>{h.g=null,h.i&&(h.i=!1,je(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ye extends O{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(h){O.call(this),this.h=h,this.g={}}E(Dt,O);var nr=[];function Qn(h){Pe(h.g,function(y,T){this.g.hasOwnProperty(T)&&Tn(y)},h),h.g={}}Dt.prototype.N=function(){Dt.Z.N.call(this),Qn(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=c.JSON.stringify,bn=c.JSON.parse,Is=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function wo(){}function Ta(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){x.call(this,"d")}E(Ut,x);function Xn(){x.call(this,"c")}E(Xn,x);var Xt={},Ds=null;function ba(){return Ds=Ds||new Ae}Xt.Ia="serverreachability";function Ns(h){x.call(this,Xt.Ia,h)}E(Ns,x);function Wn(h){const y=ba();Fe(y,new Ns(y))}Xt.STAT_EVENT="statevent";function gi(h,y){x.call(this,Xt.STAT_EVENT,h),this.stat=y}E(gi,x);function Wt(h){const y=ba();Fe(y,new gi(y,h))}Xt.Ja="timingevent";function Vr(h,y){x.call(this,Xt.Ja,h),this.size=y}E(Vr,x);function pr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function Ro(h,y,T,N,Q,re){h.info(function(){if(h.g)if(re){var be="",Ze=re.split("&");for(let bt=0;bt<Ze.length;bt++){var un=Ze[bt].split("=");if(un.length>1){const Jt=un[0];un=un[1];const Ur=Jt.split("_");be=Ur.length>=2&&Ur[1]=="type"?be+(Jt+"="+un+"&"):be+(Jt+"=redacted&")}}}else be=null;else be=re;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+y+`
`+T+`
`+be})}function Bi(h,y,T,N,Q,re,be){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+y+`
`+T+`
`+re+" "+be})}function Jn(h,y,T,N){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Jl(h,T)+(N?" "+N:"")})}function yi(h,y){h.info(function(){return"TIMEOUT: "+y})}gr.prototype.info=function(){};function Jl(h,y){if(!h.g)return y;if(!y)return null;try{const re=JSON.parse(y);if(re){for(h=0;h<re.length;h++)if(Array.isArray(re[h])){var T=re[h];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var Q=N[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let be=1;be<N.length;be++)N[be]=""}}}}return an(re)}catch{return y}}var Fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},V={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},q;function J(){}E(J,wo),J.prototype.g=function(){return new XMLHttpRequest},q=new J;function me(h){return encodeURIComponent(String(h))}function ve(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function Ie(h,y,T,N){this.j=h,this.i=y,this.l=T,this.S=N||1,this.V=new Dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var Ee={},Se={};function Ne(h,y,T){h.M=1,h.A=xs(xt(y)),h.u=T,h.R=!0,qe(h,null)}function qe(h,y){h.F=Date.now(),Nt(h),h.B=xt(h.A);var T=h.B,N=h.S;Array.isArray(N)||(N=[String(N)]),Io(T.i,"t",N),h.C=0,T=h.j.L,h.h=new xe,h.g=lh(h.j,T?y:null,!h.u),h.P>0&&(h.O=new Ye(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,N=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(nr[0]=Q.toString()),Q=nr);for(let re=0;re<Q.length;re++){const be=ot(T,Q[re],N||y.handleEvent,!1,y.h||y);if(!be)break;y.g[be.key]=be}y=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Wn(),Ro(h.i,h.v,h.B,h.l,h.S,h.u)}Ie.prototype.ba=function(h){h=h.target;const y=this.O;y&&ri(h)==3?y.j():this.Y(h)},Ie.prototype.Y=function(h){try{if(h==this.g)e:{const Ze=ri(this.g),un=this.g.ya(),bt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||On(this.g)))){this.K||Ze!=4||un==7||(un==8||bt<=0?Wn(3):Wn(2)),zt(this);var y=this.g.ca();this.X=y;var T=ke(this);if(this.o=y==200,Bi(this.i,this.v,this.B,this.l,this.S,Ze,y),this.o){if(this.U&&!this.L){t:{if(this.g){var N,Q=this.g;if((N=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(N)){var re=N;break t}}re=null}if(h=re)Jn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dn(this,h);else{this.o=!1,this.m=3,Wt(12),Bt(this),tt(this);break e}}if(this.R){h=!0;let Jt;for(;!this.K&&this.C<T.length;)if(Jt=it(this,T),Jt==Se){Ze==4&&(this.m=4,Wt(14),h=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Ee){this.m=4,Wt(15),Jn(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Jn(this.i,this.l,Jt,null),Dn(this,Jt);if(Qe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||T.length!=0||this.h.h||(this.m=1,Wt(16),h=!1),this.o=this.o&&h,!h)Jn(this.i,this.l,T,"[Invalid Chunked Response]"),Bt(this),tt(this);else if(T.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ou(be),be.P=!0,Wt(11))}}else Jn(this.i,this.l,T,null),Dn(this,T);Ze==4&&Bt(this),this.o&&!this.K&&(Ze==4?ih(this.j,this):(this.o=!1,Nt(this)))}else qi(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),Bt(this),tt(this)}}}catch{}finally{}};function ke(h){if(!Qe(h))return h.g.la();const y=On(h.g);if(y==="")return"";let T="";const N=y.length,Q=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Bt(h),tt(h),"";h.h.i=new c.TextDecoder}for(let re=0;re<N;re++)h.h.h=!0,T+=h.h.i.decode(y[re],{stream:!(Q&&re==N-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Qe(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function it(h,y){var T=h.C,N=y.indexOf(`
`,T);return N==-1?Se:(T=Number(y.substring(T,N)),isNaN(T)?Ee:(N+=1,N+T>y.length?Se:(y=y.slice(N,N+T),h.C=N+T,y)))}Ie.prototype.cancel=function(){this.K=!0,Bt(this)};function Nt(h){h.T=Date.now()+h.H,qt(h,h.H)}function qt(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pr(g(h.aa,h),y)}function zt(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ie.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(yi(this.i,this.B),this.M!=2&&(Wn(),Wt(17)),Bt(this),this.m=2,tt(this)):qt(this,this.T-h)};function tt(h){h.j.I==0||h.K||ih(h.j,h)}function Bt(h){zt(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Qn(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Dn(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Fn(T.h,h))){if(!h.L&&Fn(T.h,h)&&T.I==3){try{var N=T.Ba.g.parse(y)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Mo(T),Na(T);else break e;Us(T),Wt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=pr(g(T.Va,T),6e3));ir(T.h)<=1&&T.ta&&(T.ta=void 0)}else wi(T,11)}else if((h.L||T.g==h)&&Mo(T),!D(y))for(Q=T.Ba.g.parse(y),y=0;y<Q.length;y++){let bt=Q[y];const Jt=bt[0];if(!(Jt<=T.K))if(T.K=Jt,bt=bt[1],T.I==2)if(bt[0]=="c"){T.M=bt[1],T.ba=bt[2];const Ur=bt[3];Ur!=null&&(T.ka=Ur,T.j.info("VER="+T.ka));const Ri=bt[4];Ri!=null&&(T.za=Ri,T.j.info("SVER="+T.za));const ii=bt[5];ii!=null&&typeof ii=="number"&&ii>0&&(N=1.5*ii,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const ai=h.g;if(ai){const js=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var re=N.h;re.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(yr(re,re.h),re.h=null))}if(N.G){const Po=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(N.wa=Po,Tt(N.J,N.G,Po))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var be=h;if(N.na=oh(N,N.L?N.ba:null,N.W),be.L){_i(N.h,be);var Ze=be,un=N.O;un&&(Ze.H=un),Ze.D&&(zt(Ze),Nt(Ze)),N.g=be}else nh(N);T.i.length>0&&Ai(T)}else bt[0]!="stop"&&bt[0]!="close"||wi(T,7);else T.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?wi(T,7):au(T):bt[0]!="noop"&&T.l&&T.l.qa(bt),T.A=0)}}Wn(4)}catch{}}var Ft=class{constructor(h,y){this.g=h,this.map=y}};function rr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ir(h){return h.h?1:h.g?h.g.size:0}function Fn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function yr(h,y){h.g?h.g.add(y):h.h=y}function _i(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}rr.prototype.cancel=function(){if(this.i=vi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vi(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return R(h.i)}var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function en(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const N=h[T].indexOf("=");let Q,re=null;N>=0?(Q=h[T].substring(0,N),re=h[T].substring(N+1)):Q=h[T],y(Q,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof dn?(this.l=h.l,nt(this,h.j),this.o=h.o,this.g=h.g,_r(this,h.u),this.h=h.h,Sa(this,eh(h.i)),this.m=h.m):h&&(y=String(h).match(st))?(this.l=!1,nt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),_r(this,y[4]),this.h=Ei(y[5]||"",!0),Sa(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new wa(null,this.l))}dn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Os(y,Co,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Os(y,Co,!0),"@"),h.push(me(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Os(T,T.charAt(0)=="/"?Zl:Wc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Os(T,Jc)),h.join("")},dn.prototype.resolve=function(h){const y=xt(this);let T=!!h.j;T?nt(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var N=h.h;if(T)_r(y,h.u);else if(T=!!h.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var Q=y.h.lastIndexOf("/");Q!=-1&&(N=y.h.slice(0,Q+1)+N)}if(Q=N,Q==".."||Q==".")N="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){N=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const re=[];for(let be=0;be<Q.length;){const Ze=Q[be++];Ze=="."?N&&be==Q.length&&re.push(""):Ze==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),N&&be==Q.length&&re.push("")):(re.push(Ze),N=!0)}N=re.join("/")}else N=Q}return T?y.h=N:T=h.i.toString()!=="",T?Sa(y,eh(h.i)):T=!!h.m,T&&(y.m=h.m),y};function xt(h){return new dn(h)}function nt(h,y,T){h.j=T?Ei(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function _r(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Sa(h,y,T){y instanceof wa?(h.i=y,Do(h.i,h.l)):(T||(y=Os(y,Aa)),h.i=new wa(y,h.l))}function Tt(h,y,T){h.i.set(y,T)}function xs(h){return Tt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ei(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Os(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,ar),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ar(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Co=/[#\/\?@]/g,Wc=/[#\?:]/g,Zl=/[#\?]/g,Aa=/[#\?@]/g,Jc=/#/g;function wa(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function sr(h){h.g||(h.g=new Map,h.h=0,h.i&&en(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=wa.prototype,n.add=function(h,y){sr(this),this.i=null,h=Ra(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Zc(h,y){sr(h),y=Ra(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function eu(h,y){return sr(h),y=Ra(h,y),h.g.has(y)}n.forEach=function(h,y){sr(this),this.g.forEach(function(T,N){T.forEach(function(Q){h.call(y,Q,N,this)},this)},this)};function tu(h,y){sr(h);let T=[];if(typeof y=="string")eu(h,y)&&(T=T.concat(h.g.get(Ra(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}n.set=function(h,y){return sr(this),this.i=null,h=Ra(this,h),eu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=tu(this,h),h.length>0?String(h[0]):y):y};function Io(h,y,T){Zc(h,y),T.length>0&&(h.i=null,h.g.set(Ra(h,y),R(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let N=0;N<y.length;N++){var T=y[N];const Q=me(T);T=tu(this,T);for(let re=0;re<T.length;re++){let be=Q;T[re]!==""&&(be+="="+me(T[re])),h.push(be)}}return this.i=h.join("&")};function eh(h){const y=new wa;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ra(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Do(h,y){y&&!h.j&&(sr(h),h.i=null,h.g.forEach(function(T,N){const Q=N.toLowerCase();N!=Q&&(Zc(this,N),Io(this,Q,T))},h)),h.j=y}function ti(h,y){const T=new gr;if(c.Image){const N=new Image;N.onload=_(kr,T,"TestLoadImage: loaded",!0,y,N),N.onerror=_(kr,T,"TestLoadImage: error",!1,y,N),N.onabort=_(kr,T,"TestLoadImage: abort",!1,y,N),N.ontimeout=_(kr,T,"TestLoadImage: timeout",!1,y,N),c.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else y(!1)}function nu(h,y){const T=new gr,N=new AbortController,Q=setTimeout(()=>{N.abort(),kr(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:N.signal}).then(re=>{clearTimeout(Q),re.ok?kr(T,"TestPingServer: ok",!0,y):kr(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),kr(T,"TestPingServer: error",!1,y)})}function kr(h,y,T,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(T)}catch{}}function Ca(){this.g=new Is}function Ti(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ti,wo),Ti.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(h,y){Ae.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ms,Ae),n=Ms.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ni(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ia(this):ni(this),this.readyState==3&&No(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ia(this))},n.Na=function(h){this.g&&(this.response=h,Ia(this))},n.ga=function(){this.g&&Ia(this)};function Ia(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Lr(h){let y="";return Pe(h,function(T,N){y+=N,y+=":",y+=T,y+=`\r
`}),y}function Ps(h,y,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=Lr(T),typeof h=="string"?T!=null&&me(T):Tt(h,y,T))}function Ot(h){Ae.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ot,Ae);var bi=/^https?$/i,ru=["POST","PUT"];n=Ot.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():q.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(re){Vs(this,re);return}if(h=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)T.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())T.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ru,y,void 0)>=0)||N||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,be]of T)this.g.setRequestHeader(re,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(re){Vs(this,re)}};function Vs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,iu(h),Hi(h)}function iu(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Fe(this,"complete"),Fe(this,"abort"),Hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},n.Xa=function(){ks(this)};function ks(h){if(h.h&&typeof l<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Fe(h,"readystatechange"),ri(h)==4){h.h=!1;try{const re=h.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var N;if(N=re===0){let be=String(h.D).match(st)[1]||null;!be&&c.self&&c.self.location&&(be=c.self.location.protocol.slice(0,-1)),N=!bi.test(be?be.toLowerCase():"")}T=N}if(T)Fe(h,"complete"),Fe(h,"success");else{h.o=6;try{var Q=ri(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",iu(h)}}finally{Hi(h)}}}}function Hi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||Fe(h,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}n.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),bn(y)}};function On(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(h){const y={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(D(h[N]))continue;var T=ve(h[N]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=y[Q]||[];y[Q]=re,re.push(T)}Me(y,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Da(h){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new rr(h&&h.concurrentRequestLimit),this.Ba=new Ca,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Da.prototype,n.ka=8,n.I=1,n.connect=function(h,y,T,N){Wt(0),this.W=h,this.H=y||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=oh(this,null,this.W),Ai(this)};function au(h){if(xo(h),h.I==3){var y=h.V++,T=xt(h.J);if(Tt(T,"SID",h.M),Tt(T,"RID",y),Tt(T,"TYPE","terminate"),Ls(h,T),y=new Ie(h,h.j,y),y.M=2,y.A=xs(xt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=lh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Nt(y)}sh(h)}function Na(h){h.g&&(ou(h),h.g.cancel(),h.g=null)}function xo(h){Na(h),h.v&&(c.clearTimeout(h.v),h.v=null),Mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ai(h){if(!Bn(h.h)&&!h.m){h.m=!0;var y=h.Ea;ae||w(),te||(ae(),te=!0),S.add(y,h),h.D=0}}function Oo(h,y){return ir(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pr(g(h.Ea,h,y),ah(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Ie(this,this.j,h);let re=this.o;if(this.U&&(re?(re=U(re),oe(re,this.U)):re=this.U),this.u!==null||this.R||(Q.J=re,re=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(y+=N,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=th(this,Q,y),T=xt(this.J),Tt(T,"RID",h),Tt(T,"CVER",22),this.G&&Tt(T,"X-HTTP-Session-Id",this.G),Ls(this,T),re&&(this.R?y="headers="+me(Lr(re))+"&"+y:this.u&&Ps(T,this.u,re)),yr(this.h,Q),this.Ra&&Tt(T,"TYPE","init"),this.S?(Tt(T,"$req",y),Tt(T,"SID","null"),Q.U=!0,Ne(Q,T,null)):Ne(Q,T,y),this.I=2}}else this.I==3&&(h?su(this,h):this.i.length==0||Bn(this.h)||su(this))};function su(h,y){var T;y?T=y.l:T=h.V++;const N=xt(h.J);Tt(N,"SID",h.M),Tt(N,"RID",T),Tt(N,"AID",h.K),Ls(h,N),h.u&&h.o&&Ps(N,h.u,h.o),T=new Ie(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=th(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yr(h.h,T),Ne(T,N,y)}function Ls(h,y){h.H&&Pe(h.H,function(T,N){Tt(y,N,T)}),h.l&&Pe({},function(T,N){Tt(y,N,T)})}function th(h,y,T){T=Math.min(h.i.length,T);const N=h.l?g(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Ze=-1;for(;;){const un=["count="+T];Ze==-1?T>0?(Ze=Q[0].g,un.push("ofs="+Ze)):Ze=0:un.push("ofs="+Ze);let bt=!0;for(let Jt=0;Jt<T;Jt++){var re=Q[Jt].g;const Ur=Q[Jt].map;if(re-=Ze,re<0)Ze=Math.max(0,Q[Jt].g-100),bt=!1;else try{re="req"+re+"_"||"";try{var be=Ur instanceof Map?Ur:Object.entries(Ur);for(const[Ri,ii]of be){let ai=ii;d(ii)&&(ai=an(ii)),un.push(re+Ri+"="+encodeURIComponent(ai))}}catch(Ri){throw un.push(re+"type="+encodeURIComponent("_badmap")),Ri}}catch{N&&N(Ur)}}if(bt){be=un.join("&");break e}}be=void 0}return h=h.i.splice(0,T),y.G=h,be}function nh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;ae||w(),te||(ae(),te=!0),S.add(y,h),h.A=0}}function Us(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pr(g(h.Da,h),ah(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pr(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),Na(this),rh(this))};function ou(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rh(h){h.g=new Ie(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=xt(h.na);Tt(y,"RID","rpc"),Tt(y,"SID",h.M),Tt(y,"AID",h.K),Tt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Tt(y,"TO",h.ia),Tt(y,"TYPE","xmlhttp"),Ls(h,y),h.u&&h.o&&Ps(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=xs(xt(y)),T.u=null,T.R=!0,qe(T,h)}n.Va=function(){this.C!=null&&(this.C=null,Na(this),Us(this),Wt(19))};function Mo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ih(h,y){var T=null;if(h.g==y){Mo(h),ou(h),h.g=null;var N=2}else if(Fn(h.h,y))T=y.G,_i(h.h,y),N=1;else return;if(h.I!=0){if(y.o)if(N==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var Q=h.D;N=ba(),Fe(N,new Vr(N,T)),Ai(h)}else nh(h);else if(Q=y.m,Q==3||Q==0&&y.X>0||!(N==1&&Oo(h,y)||N==2&&Us(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),Q){case 1:wi(h,5);break;case 4:wi(h,10);break;case 3:wi(h,6);break;default:wi(h,2)}}}function ah(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function wi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),N=h.Ua;const Q=!N;N=new dn(N||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nt(N,"https"),xs(N),Q?ti(N.toString(),T):nu(N.toString(),T)}else Wt(2);h.I=0,h.l&&h.l.pa(y),sh(h),xo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function sh(h){if(h.I=0,h.ja=[],h.l){const y=vi(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function oh(h,y,T){var N=T instanceof dn?xt(T):new dn(T);if(N.g!="")y&&(N.g=y+"."+N.g),_r(N,N.u);else{var Q=c.location;N=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;const re=new dn(null);N&&nt(re,N),y&&(re.g=y),Q&&_r(re,Q),T&&(re.h=T),N=re}return T=h.G,y=h.wa,T&&y&&Tt(N,T,y),Tt(N,"VER",h.ka),Ls(h,N),N}function lh(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ot(new Ti({ab:T})):new Ot(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}n=uh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function xa(){}xa.prototype.g=function(h,y){return new Zn(h,y)};function Zn(h,y){Ae.call(this),this.g=new Da(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Gi(this)}E(Zn,Ae),Zn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){au(this.g)},Zn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=an(h),h=T);y.i.push(new Ft(y.Ya++,h)),y.I==3&&Ai(y)},Zn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,Zn.Z.N.call(this)};function ch(h){Ut.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(ch,Ut);function hh(){Xn.call(this),this.status=1}E(hh,Xn);function Gi(h){this.g=h}E(Gi,uh),Gi.prototype.ra=function(){Fe(this.g,"a")},Gi.prototype.qa=function(h){Fe(this.g,new ch(h))},Gi.prototype.pa=function(h){Fe(this.g,new hh)},Gi.prototype.oa=function(){Fe(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,GA=function(){return new xa},qA=function(){return ba()},HA=Xt,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Mf=Fi,V.COMPLETE="complete",FA=V,Ta.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Ju=Ta,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,BA=Ot}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="12.8.0";function J2(n){Gl=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=new Uy("@firebase/firestore");function pl(){return po.logLevel}function De(n,...e){if(po.logLevel<=dt.DEBUG){const t=e.map(By);po.debug(`Firestore (${Gl}): ${n}`,...t)}}function pa(n,...e){if(po.logLevel<=dt.ERROR){const t=e.map(By);po.error(`Firestore (${Gl}): ${n}`,...t)}}function xl(n,...e){if(po.logLevel<=dt.WARN){const t=e.map(By);po.warn(`Firestore (${Gl}): ${n}`,...t)}}function By(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,$A(n,a,t)}function $A(n,e,t){let a=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw pa(a),new Error(a)}function wt(n,e,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,n||$A(e,s,a)}function Je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ea{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($n.UNAUTHENTICATED)))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wt(this.o===void 0,42304);let a=this.i;const s=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fa,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fa)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(wt(typeof a.accessToken=="string",31837,{l:a}),new KA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class nO{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rO{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t($n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wt(this.o===void 0,3512);const a=l=>{l.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,De("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const s=l=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new s0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=aO(40);for(let l=0;l<s.length;++l)a.length<20&&s[l]<t&&(a+=e.charAt(s[l]%62))}return a}}function mt(n,e){return n<e?-1:n>e?1:0}function ey(n,e){const t=Math.min(n.length,e.length);for(let a=0;a<t;a++){const s=n.charAt(a),l=e.charAt(a);if(s!==l)return Ng(s)===Ng(l)?mt(s,l):Ng(s)?1:-1}return mt(n.length,e.length)}const sO=55296,oO=57343;function Ng(n){const e=n.charCodeAt(0);return e>=sO&&e<=oO}function Ol(n,e,t){return n.length===e.length&&n.every(((a,s)=>t(a,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="__name__";class xi{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ge(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let s=0;s<a;s++){const l=xi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return mt(e.length,t.length)}static compareSegments(e,t){const a=xi.isNumericId(e),s=xi.isNumericId(t);return a&&!s?-1:!a&&s?1:a&&s?xi.extractNumericId(e).compare(xi.extractNumericId(t)):ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class Ht extends xi{construct(e,t,a){return new Ht(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Re(ue.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((s=>s.length>0)))}return new Ht(t)}static emptyPath(){return new Ht([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends xi{construct(e,t,a){return new jn(e,t,a)}static isValidIdentifier(e){return lO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new jn([o0])}static fromServerFormat(e){const t=[];let a="",s=0;const l=()=>{if(a.length===0)throw new Re(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Re(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Re(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(a+=d,s++):(l(),s++)}if(l(),c)throw new Re(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Ht.fromString(e))}static fromName(e){return new Be(Ht.fromString(e).popFirst(5))}static empty(){return new Be(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n,e,t){if(!t)throw new Re(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uO(n,e,t,a){if(e===!0&&a===!0)throw new Re(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l0(n){if(!Be.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u0(n){if(Be.isDocumentKey(n))throw new Re(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ud(n);throw new Re(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n,e){const t={typeString:n};return e&&(t.value=e),t}function Vc(n,e){if(!QA(n))throw new Re(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const s=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const c=n[a];if(s&&typeof c!==s){t=`JSON field '${a}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new Re(ue.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-62135596800,h0=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*h0);return new Kt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<c0)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-c0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:En("string",Kt._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Kt(0,0))}static max(){return new Xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function cO(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(a===1e9?new Kt(t+1,0):new Kt(t,a));return new _s(s,Be.empty(),e)}function hO(n){return new _s(n.readTime,n.key,_c)}class _s{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new _s(Xe.min(),Be.empty(),_c)}static max(){return new _s(Xe.max(),Be.empty(),_c)}}function fO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:mt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==dO)throw n;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de(((a,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):de.reject(t)}static resolve(e){return new de(((t,a)=>{t(e)}))}static reject(e){return new de(((t,a)=>{a(e)}))}static waitFor(e){return new de(((t,a)=>{let s=0,l=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&t()}),(p=>a(p)))})),c=!0,l===s&&t()}))}static or(e){let t=de.resolve(!1);for(const a of e)t=t.next((s=>s?de.resolve(s):a()));return t}static forEach(e,t){const a=[];return e.forEach(((s,l)=>{a.push(t.call(this,s,l))})),this.waitFor(a)}static mapArray(e,t){return new de(((a,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((_=>{c[g]=_,++d,d===l&&a(c)}),(_=>s(_)))}}))}static doWhile(e,t){return new de(((a,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):a()};l()}))}}function pO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Kl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function zd(n){return n==null}function rd(n){return n===0&&1/n==-1/0}function gO(n){return typeof n=="number"&&Number.isInteger(n)&&!rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="";function yO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=f0(e)),e=_O(n.get(t),e);return f0(e)}function _O(n,e){let t=e;const a=n.length;for(let s=0;s<a;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case XA:t+="";break;default:t+=l}}return t}function f0(n){return n+XA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return t+a.left.size;s<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,t,a,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,a,s,l){this.key=e,this.value=t,this.color=a??Un.RED,this.left=s??Un.EMPTY,this.right=l??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,s,l){return new Un(e??this.key,t??this.value,a??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let s=this;const l=a(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,a),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,a,s,l){return this}insert(e,t,a){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m0(this.data.getIterator())}getIteratorFrom(e){return new m0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class m0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new Ir([])}unionWith(e){let t=new wn(jn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ol(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JA("Invalid base64 string: "+l):l}})(e);return new zn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(wt(!!n,39018),typeof n=="string"){let e=0;const t=vO.exec(n);if(wt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fn(n.seconds),nanos:fn(n.nanos)}}function fn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Es(n){return typeof n=="string"?zn.fromBase64String(n):zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="server_timestamp",ew="__type__",tw="__previous_value__",nw="__local_write_time__";function qy(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[ew])==null?void 0:a.stringValue)===ZA}function Bd(n){const e=n.mapValue.fields[tw];return qy(e)?Bd(e):e}function vc(n){const e=vs(n.mapValue.fields[nw].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,a,s,l,c,d,p,g,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=E}}const id="(default)";class Ec{constructor(e,t){this.projectId=e,this.database=t||id}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}function TO(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Re(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__type__",bO="__max__",Tf={mapValue:{}},iw="__vector__",ad="value";function Ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qy(n)?4:AO(n)?9007199254740991:SO(n)?10:11:Ge(28295,{value:n})}function ji(n,e){if(n===e)return!0;const t=Ts(n);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vc(n).isEqual(vc(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=vs(s.timestampValue),d=vs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return Es(s.bytesValue).isEqual(Es(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return fn(s.geoPointValue.latitude)===fn(l.geoPointValue.latitude)&&fn(s.geoPointValue.longitude)===fn(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return fn(s.integerValue)===fn(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=fn(s.doubleValue),d=fn(l.doubleValue);return c===d?rd(c)===rd(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Ol(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(d0(c)!==d0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ji(c[p],d[p])))return!1;return!0})(n,e);default:return Ge(52216,{left:n})}}function Tc(n,e){return(n.values||[]).find((t=>ji(t,e)))!==void 0}function Ml(n,e){if(n===e)return 0;const t=Ts(n),a=Ts(e);if(t!==a)return mt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return mt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=fn(l.integerValue||l.doubleValue),p=fn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return p0(n.timestampValue,e.timestampValue);case 4:return p0(vc(n),vc(e));case 5:return ey(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Es(l),p=Es(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=mt(d[g],p[g]);if(_!==0)return _}return mt(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=mt(fn(l.latitude),fn(c.latitude));return d!==0?d:mt(fn(l.longitude),fn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return g0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var b,R,L,z;const d=l.fields||{},p=c.fields||{},g=(b=d[ad])==null?void 0:b.arrayValue,_=(R=p[ad])==null?void 0:R.arrayValue,E=mt(((L=g==null?void 0:g.values)==null?void 0:L.length)||0,((z=_==null?void 0:_.values)==null?void 0:z.length)||0);return E!==0?E:g0(g,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Tf.mapValue&&c===Tf.mapValue)return 0;if(l===Tf.mapValue)return 1;if(c===Tf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const b=ey(p[E],_[E]);if(b!==0)return b;const R=Ml(d[p[E]],g[_[E]]);if(R!==0)return R}return mt(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function p0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return mt(n,e);const t=vs(n),a=vs(e),s=mt(t.seconds,a.seconds);return s!==0?s:mt(t.nanos,a.nanos)}function g0(n,e){const t=n.values||[],a=e.values||[];for(let s=0;s<t.length&&s<a.length;++s){const l=Ml(t[s],a[s]);if(l)return l}return mt(t.length,a.length)}function Pl(n){return ty(n)}function ty(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const a=vs(t);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Es(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let a="[",s=!0;for(const l of t.values||[])s?s=!1:a+=",",a+=ty(l);return a+"]"})(n.arrayValue):"mapValue"in n?(function(t){const a=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of a)l?l=!1:s+=",",s+=`${c}:${ty(t.fields[c])}`;return s+"}"})(n.mapValue):Ge(61005,{value:n})}function Pf(n){switch(Ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(n);return e?16+Pf(e):16;case 5:return 2*n.stringValue.length;case 6:return Es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((s,l)=>s+Pf(l)),0)})(n.arrayValue);case 10:case 11:return(function(a){let s=0;return ws(a.fields,((l,c)=>{s+=l.length+Pf(c)})),s})(n.mapValue);default:throw Ge(13486,{value:n})}}function y0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ny(n){return!!n&&"integerValue"in n}function Gy(n){return!!n&&"arrayValue"in n}function _0(n){return!!n&&"nullValue"in n}function v0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vf(n){return!!n&&"mapValue"in n}function SO(n){var t,a;return((a=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[rw])==null?void 0:a.stringValue)===iw}function sc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ws(n.mapValue.fields,((t,a)=>e.mapValue.fields[t]=sc(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sc(n.arrayValue.values[t]);return e}return{...n}}function AO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(t)}setAll(e){let t=jn.emptyPath(),a={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,a,s),a={},s=[],t=d.popLast()}c?a[d.lastSegment()]=sc(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,a,s)}delete(e){const t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=t.mapValue.fields[e.get(a)];Vf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,a){ws(t,((s,l)=>e[s]=l));for(const s of a)delete e[s]}clone(){return new dr(sc(this.value))}}function aw(n){const e=[];return ws(n.fields,((t,a)=>{const s=new jn([t]);if(Vf(a)){const l=aw(a.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,a,s,l,c,d){this.key=e,this.documentType=t,this.version=a,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Kn(e,0,Xe.min(),Xe.min(),Xe.min(),dr.empty(),0)}static newFoundDocument(e,t,a,s){return new Kn(e,1,t,Xe.min(),a,s,0)}static newNoDocument(e,t){return new Kn(e,2,t,Xe.min(),Xe.min(),dr.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Xe.min(),Xe.min(),dr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this.position=e,this.inclusive=t}}function E0(n,e,t){let a=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?a=Be.comparator(Be.fromName(c.referenceValue),t.key):a=Ml(c,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function T0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function wO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{}class vn extends sw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new CO(e,t,a):t==="array-contains"?new NO(e,a):t==="in"?new xO(e,a):t==="not-in"?new OO(e,a):t==="array-contains-any"?new MO(e,a):new vn(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new IO(e,a):new DO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ml(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(Ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends sw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mi(e,t)}matches(e){return ow(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ow(n){return n.op==="and"}function lw(n){return RO(n)&&ow(n)}function RO(n){for(const e of n.filters)if(e instanceof mi)return!1;return!0}function ry(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+Pl(n.value);if(lw(n))return n.filters.map((e=>ry(e))).join(",");{const e=n.filters.map((t=>ry(t))).join(",");return`${n.op}(${e})`}}function uw(n,e){return n instanceof vn?(function(a,s){return s instanceof vn&&a.op===s.op&&a.field.isEqual(s.field)&&ji(a.value,s.value)})(n,e):n instanceof mi?(function(a,s){return s instanceof mi&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce(((l,c,d)=>l&&uw(c,s.filters[d])),!0):!1})(n,e):void Ge(19439)}function cw(n){return n instanceof vn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Pl(t.value)}`})(n):n instanceof mi?(function(t){return t.op.toString()+" {"+t.getFilters().map(cw).join(" ,")+"}"})(n):"Filter"}class CO extends vn{constructor(e,t,a){super(e,t,a),this.key=Be.fromName(a.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class IO extends vn{constructor(e,t){super(e,"in",t),this.keys=hw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class DO extends vn{constructor(e,t){super(e,"not-in",t),this.keys=hw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hw(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((a=>Be.fromName(a.referenceValue)))}class NO extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gy(t)&&Tc(t.arrayValue,this.value)}}class xO extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}}class OO extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tc(this.value.arrayValue,t)}}class MO extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>Tc(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t=null,a=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function b0(n,e=null,t=[],a=[],s=null,l=null,c=null){return new PO(n,e,t,a,s,l,c)}function $y(n){const e=Je(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>ry(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),zd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Pl(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Pl(a))).join(",")),e.Te=t}return e.Te}function Ky(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T0(n.startAt,e.startAt)&&T0(n.endAt,e.endAt)}function iy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t=null,a=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VO(n,e,t,a,s,l,c,d){return new kc(n,e,t,a,s,l,c,d)}function Fd(n){return new kc(n)}function S0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kO(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function fw(n){return n.collectionGroup!==null}function oc(n){const e=Je(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new wn(jn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new od(l,a))})),t.has(jn.keyField().canonicalString())||e.Ie.push(new od(jn.keyField(),a))}return e.Ie}function Pi(n){const e=Je(n);return e.Ee||(e.Ee=LO(e,oc(n))),e.Ee}function LO(n,e){if(n.limitType==="F")return b0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new od(s.field,l)}));const t=n.endAt?new sd(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new sd(n.startAt.position,n.startAt.inclusive):null;return b0(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function ay(n,e){const t=n.filters.concat([e]);return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sy(n,e,t){return new kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hd(n,e){return Ky(Pi(n),Pi(e))&&n.limitType===e.limitType}function dw(n){return`${$y(Pi(n))}|lt:${n.limitType}`}function gl(n){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((s=>cw(s))).join(", ")}]`),zd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((s=>Pl(s))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((s=>Pl(s))).join(",")),`Target(${a})`})(Pi(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&(function(a,s){const l=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Be.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(n,e)&&(function(a,s){for(const l of oc(a))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(a,s){for(const l of a.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(a,s){return!(a.startAt&&!(function(c,d,p){const g=E0(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,oc(a),s)||a.endAt&&!(function(c,d,p){const g=E0(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,oc(a),s))})(n,e)}function UO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mw(n){return(e,t)=>{let a=!1;for(const s of oc(n)){const l=jO(s,e,t);if(l!==0)return l;a=a||s.field.isKeyField()}return 0}}function jO(n,e,t){const a=n.field.isKeyField()?Be.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Ml(p,g):Ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[s,l]of a)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[t]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((t,a)=>{for(const[s,l]of a)e(s,l)}))}isEmpty(){return WA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new rn(Be.comparator);function ga(){return zO}const pw=new rn(Be.comparator);function Zu(...n){let e=pw;for(const t of n)e=e.insert(t.key,t);return e}function gw(n){let e=pw;return n.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function so(){return lc()}function yw(){return lc()}function lc(){return new To((n=>n.toString()),((n,e)=>n.isEqual(e)))}const BO=new rn(Be.comparator),FO=new wn(Be.comparator);function pt(...n){let e=FO;for(const t of n)e=e.add(t);return e}const HO=new wn(mt);function qO(){return HO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function _w(n){return{integerValue:""+n}}function GO(n,e){return gO(e)?_w(e):Yy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function $O(n,e,t){return n instanceof ld?(function(s,l){const c={fields:{[ew]:{stringValue:ZA},[nw]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&qy(l)&&(l=Bd(l)),l&&(c.fields[tw]=l),{mapValue:c}})(t,e):n instanceof bc?Ew(n,e):n instanceof Sc?Tw(n,e):(function(s,l){const c=vw(s,l),d=A0(c)+A0(s.Ae);return ny(c)&&ny(s.Ae)?_w(d):Yy(s.serializer,d)})(n,e)}function KO(n,e,t){return n instanceof bc?Ew(n,e):n instanceof Sc?Tw(n,e):t}function vw(n,e){return n instanceof ud?(function(a){return ny(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class ld extends Gd{}class bc extends Gd{constructor(e){super(),this.elements=e}}function Ew(n,e){const t=bw(e);for(const a of n.elements)t.some((s=>ji(s,a)))||t.push(a);return{arrayValue:{values:t}}}class Sc extends Gd{constructor(e){super(),this.elements=e}}function Tw(n,e){let t=bw(e);for(const a of n.elements)t=t.filter((s=>!ji(s,a)));return{arrayValue:{values:t}}}class ud extends Gd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function A0(n){return fn(n.integerValue||n.doubleValue)}function bw(n){return Gy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function YO(n,e){return n.field.isEqual(e.field)&&(function(a,s){return a instanceof bc&&s instanceof bc||a instanceof Sc&&s instanceof Sc?Ol(a.elements,s.elements,ji):a instanceof ud&&s instanceof ud?ji(a.Ae,s.Ae):a instanceof ld&&s instanceof ld})(n.transform,e.transform)}class QO{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $d{}function Sw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qy(n.key,Or.none()):new Lc(n.key,n.data,Or.none());{const t=n.data,a=dr.empty();let s=new wn(jn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?a.delete(l):a.set(l,c),s=s.add(l)}return new Rs(n.key,a,new Ir(s.toArray()),Or.none())}}function XO(n,e,t){n instanceof Lc?(function(s,l,c){const d=s.value.clone(),p=R0(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Rs?(function(s,l,c){if(!kf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=R0(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Aw(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function uc(n,e,t,a){return n instanceof Lc?(function(l,c,d,p){if(!kf(l.precondition,c))return d;const g=l.value.clone(),_=C0(l.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,a):n instanceof Rs?(function(l,c,d,p){if(!kf(l.precondition,c))return d;const g=C0(l.fieldTransforms,p,c),_=c.data;return _.setAll(Aw(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,a):(function(l,c,d){return kf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function WO(n,e){let t=null;for(const a of n.fieldTransforms){const s=e.data.field(a.field),l=vw(a.transform,s||null);l!=null&&(t===null&&(t=dr.empty()),t.set(a.field,l))}return t||null}function w0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&Ol(a,s,((l,c)=>YO(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Lc extends $d{constructor(e,t,a,s=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends $d{constructor(e,t,a,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}})),e}function R0(n,e,t){const a=new Map;wt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);a.set(l.field,KO(c,d,t[s]))}return a}function C0(n,e,t){const a=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);a.set(s.field,$O(l,c,e))}return a}class Qy extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JO extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,a,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&XO(l,e,a[s])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=uc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=uc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=yw();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=Sw(c,d);p!==null&&a.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Xe.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Ol(this.mutations,e.mutations,((t,a)=>w0(t,a)))&&Ol(this.baseMutations,e.baseMutations,((t,a)=>w0(t,a)))}}class Xy{constructor(e,t,a,s){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=s}static from(e,t,a){wt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let s=(function(){return BO})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,a[c].version);return new Xy(e,t,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,yt;function nM(n){switch(n){case ue.OK:return Ge(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function ww(n){if(n===void 0)return pa("GRPC error has no .code"),ue.UNKNOWN;switch(n){case _n.OK:return ue.OK;case _n.CANCELLED:return ue.CANCELLED;case _n.UNKNOWN:return ue.UNKNOWN;case _n.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case _n.INTERNAL:return ue.INTERNAL;case _n.UNAVAILABLE:return ue.UNAVAILABLE;case _n.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case _n.NOT_FOUND:return ue.NOT_FOUND;case _n.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case _n.ABORTED:return ue.ABORTED;case _n.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case _n.DATA_LOSS:return ue.DATA_LOSS;default:return Ge(39323,{code:n})}}(yt=_n||(_n={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new ms([4294967295,4294967295],0);function I0(n){const e=rM().encode(n),t=new zA;return t.update(e),new Uint8Array(t.digest())}function D0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ms([t,a],0),new ms([s,l],0)]}class Wy{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new ec(`Invalid padding: ${t}`);if(a<0)throw new ec(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new ec(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ms.fromNumber(this.ge)}ye(e,t,a){let s=e.add(t.multiply(ms.fromNumber(a)));return s.compare(iM)===1&&(s=new ms([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=I0(e),[a,s]=D0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);if(!this.we(c))return!1}return!0}static create(e,t,a){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wy(l,s,t);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=I0(e),[a,s]=D0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(a,s,l);this.be(c)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,a,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const s=new Map;return s.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Kd(Xe.min(),s,new rn(mt),ga(),pt())}}class Uc{constructor(e,t,a,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Uc(a,t,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,a,s){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=s}}class Rw{constructor(e,t){this.targetId=e,this.Ce=t}}class Cw{constructor(e,t,a=zn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=s}}class N0{constructor(){this.ve=0,this.Fe=x0(),this.Me=zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pt(),t=pt(),a=pt();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:a=a.add(s);break;default:Ge(38017,{changeType:l})}})),new Uc(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=x0()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class aM{constructor(e){this.Ge=e,this.ze=new Map,this.je=ga(),this.He=bf(),this.Je=bf(),this.Ze=new rn(mt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,a=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(iy(l))if(a===0){const c=new Be(l.path);this.et(t,c,Kn.newNoDocument(c,Xe.min()))}else wt(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=Es(a).toUint8Array()}catch(p){if(p instanceof JA)return xl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Wy(c,s,l)}catch(p){return xl(p instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let s=0;return a.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&iy(d.target)){const p=new Be(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Kn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let a=pt();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new Kd(e,t,this.Ze,this.je,a);return this.je=ga(),this.He=bf(),this.Je=bf(),this.Ze=new rn(mt),s}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new N0,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new wn(mt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new wn(mt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||De("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bf(){return new rn(Be.comparator)}function x0(){return new rn(Be.comparator)}const sM={asc:"ASCENDING",desc:"DESCENDING"},oM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lM={and:"AND",or:"OR"};class uM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oy(n,e){return n.useProto3Json||zd(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cM(n,e){return cd(n,e.toTimestamp())}function Vi(n){return wt(!!n,49232),Xe.fromTimestamp((function(t){const a=vs(t);return new Kt(a.seconds,a.nanos)})(n))}function Jy(n,e){return ly(n,e).canonicalString()}function ly(n,e){const t=(function(s){return new Ht(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Dw(n){const e=Ht.fromString(n);return wt(Pw(e),10190,{key:e.toString()}),e}function uy(n,e){return Jy(n.databaseId,e.path)}function xg(n,e){const t=Dw(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(xw(t))}function Nw(n,e){return Jy(n.databaseId,e)}function hM(n){const e=Dw(n);return e.length===4?Ht.emptyPath():xw(e)}function cy(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xw(n){return wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function O0(n,e,t){return{name:uy(n,e),fields:t.value.mapValue.fields}}function fM(n,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ge(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(wt(_===void 0||typeof _=="string",58123),zn.fromBase64String(_||"")):(wt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),zn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?ue.UNKNOWN:ww(g.code);return new Re(_,g.message||"")})(c);t=new Cw(a,s,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=xg(n,a.document.name),l=Vi(a.document.updateTime),c=a.document.createTime?Vi(a.document.createTime):Xe.min(),d=new dr({mapValue:{fields:a.document.fields}}),p=Kn.newFoundDocument(s,l,c,d),g=a.targetIds||[],_=a.removedTargetIds||[];t=new Lf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=xg(n,a.document),l=a.readTime?Vi(a.readTime):Xe.min(),c=Kn.newNoDocument(s,l),d=a.removedTargetIds||[];t=new Lf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=xg(n,a.document),l=a.removedTargetIds||[];t=new Lf([],l,s,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:l}=a,c=new tM(s,l),d=a.targetId;t=new Rw(d,c)}}return t}function dM(n,e){let t;if(e instanceof Lc)t={update:O0(n,e.key,e.value)};else if(e instanceof Qy)t={delete:uy(n,e.key)};else if(e instanceof Rs)t={update:O0(n,e.key,e.data),updateMask:bM(e.fieldMask)};else{if(!(e instanceof JO))return Ge(16599,{dt:e.type});t={verify:uy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof ld)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ud)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ge(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:cM(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ge(27497)})(n,e.precondition)),t}function mM(n,e){return n&&n.length>0?(wt(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Vi(s.updateTime):Vi(l);return c.isEqual(Xe.min())&&(c=Vi(l)),new QO(c,s.transformResults||[])})(t,e)))):[]}function pM(n,e){return{documents:[Nw(n,e.path)]}}function gM(n,e){const t={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Nw(n,s);const l=(function(g){if(g.length!==0)return Mw(mi.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(b){return{field:yl(b.field),direction:vM(b.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=oy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function yM(n){let e=hM(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let s=null;if(a>0){wt(a===1,65062);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const b=Ow(E);return b instanceof mi&&lw(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((b=>(function(L){return new od(_l(L.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(b)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let b;return b=typeof E=="object"?E.value:E,zd(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(E){const b=!!E.before,R=E.values||[];return new sd(R,b)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const b=!E.before,R=E.values||[];return new sd(R,b)})(t.endAt)),VO(e,s,c,l,d,"F",p,g)}function _M(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ow(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=_l(t.unaryFilter.field);return vn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=_l(t.unaryFilter.field);return vn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_l(t.unaryFilter.field);return vn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_l(t.unaryFilter.field);return vn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return vn.create(_l(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mi.create(t.compositeFilter.filters.map((a=>Ow(a))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(n):Ge(30097,{filter:n})}function vM(n){return sM[n]}function EM(n){return oM[n]}function TM(n){return lM[n]}function yl(n){return{fieldPath:n.canonicalString()}}function _l(n){return jn.fromServerFormat(n.fieldPath)}function Mw(n){return n instanceof vn?(function(t){if(t.op==="=="){if(v0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NAN"}};if(_0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NAN"}};if(_0(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(t.field),op:EM(t.op),value:t.value}}})(n):n instanceof mi?(function(t){const a=t.getFilters().map((s=>Mw(s)));return a.length===1?a[0]:{compositeFilter:{op:TM(t.op),filters:a}}})(n):Ge(54877,{filter:n})}function bM(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Pw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Vw(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,a,s,l=Xe.min(),c=Xe.min(),d=zn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.yt=e}}function AM(n){const e=yM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.Sn=new RM}addToCollectionParentIndex(e,t){return this.Sn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(_s.min())}updateCollectionGroup(e,t,a){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class RM{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t]||new wn(Ht.comparator),l=!s.has(a);return this.index[t]=s.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t];return s&&s.has(a)}getEntries(e){return(this.index[e]||new wn(Ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kw=41943040;class fr{static withCacheSize(e){return new fr(e,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr.DEFAULT_COLLECTION_PERCENTILE=10,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fr.DEFAULT=new fr(kw,fr.DEFAULT_COLLECTION_PERCENTILE,fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fr.DISABLED=new fr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Vl(0)}static ar(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",CM=1048576;function V0([n,e],[t,a]){const s=mt(n,t);return s===0?mt(e,a):s}class IM{constructor(e){this.Pr=e,this.buffer=new wn(V0),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();V0(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DM{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){De(P0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Kl(t)?De(P0,"Ignoring IndexedDB error during garbage collection: ",t):await $l(t)}await this.Ar(3e5)}))}}class NM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return de.resolve(jd.ce);const a=new IM(t);return this.Vr.forEachTarget(e,(s=>a.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>a.Er(s))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(M0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,s,l,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s)))).next((E=>(a=E,d=Date.now(),this.removeTargets(e,a,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((E=>(g=Date.now(),pl()<=dt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E}))))}}function xM(n,e){return new NM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.changes=new To((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?de.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t,a,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(a=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(a!==null&&uc(a.mutation,s,Ir.empty(),Kt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,pt()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=pt()){const s=so();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,a).next((l=>{let c=Zu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=so();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,pt())))}populateOverlays(e,t,a){const s=[];return a.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,a,s){let l=ga();const c=lc(),d=(function(){return lc()})();return t.forEach(((p,g)=>{const _=a.get(g.key);s.has(g.key)&&(_===void 0||_.mutation instanceof Rs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),uc(_.mutation,g,_.mutation.getFieldMask(),Kt.now())):c.set(g.key,Ir.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new MM(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const a=lc();let s=new rn(((c,d)=>c-d)),l=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let _=a.get(p)||Ir.empty();_=d.applyToLocalView(g,_),a.set(p,_);const E=(s.get(d.batchId)||pt()).add(p);s=s.insert(d.batchId,E)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=yw();_.forEach((b=>{if(!l.has(b)){const R=Sw(t.get(b),a.get(b));R!==null&&E.set(b,R),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return de.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,s){return kO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,s):this.getDocumentsMatchingCollectionQuery(e,t,a,s)}getNextDocuments(e,t,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,s-l.size):de.resolve(so());let d=_c,p=l;return c.next((g=>de.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?de.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{p=p.insert(_,b)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,pt()))).next((_=>({batchId:d,changes:gw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next((a=>{let s=Zu();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,s){const l=t.collectionGroup;let c=Zu();return this.indexManager.getCollectionParents(e,l).next((d=>de.forEach(d,(p=>{const g=(function(E,b){return new kc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next((_=>{_.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,s)))).next((c=>{l.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Kn.newInvalidDocument(_)))}));let d=Zu();return c.forEach(((p,g)=>{const _=l.get(p);_!==void 0&&uc(_.mutation,g,Ir.empty(),Kt.now()),qd(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return de.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Vi(s.createTime)}})(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:AM(s.bundledQuery),readTime:Vi(s.readTime)}})(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.overlays=new rn(Be.comparator),this.Lr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const a=so();return de.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&a.set(s,l)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((s,l)=>{this.bt(e,t,l)})),de.resolve()}removeOverlaysForBatchId(e,t,a){const s=this.Lr.get(a);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(a)),de.resolve()}getOverlaysForCollection(e,t,a){const s=so(),l=t.length+1,c=new Be(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&s.set(p.getKey(),p)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,a,s){let l=new rn(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let _=l.get(g.largestBatchId);_===null&&(_=so(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=so(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=s)););return de.resolve(d)}bt(e,t,a){const s=this.overlays.get(a.key);if(s!==null){const c=this.Lr.get(s.largestBatchId).delete(a.key);this.Lr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new eM(t,a));let l=this.Lr.get(t);l===void 0&&(l=pt(),this.Lr.set(t,l)),this.Lr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.kr=new wn(xn.Kr),this.qr=new wn(xn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new xn(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new xn(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new Be(new Ht([])),a=new xn(t,e),s=new xn(t,e+1),l=[];return this.qr.forEachInRange([a,s],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Be(new Ht([])),a=new xn(t,e),s=new xn(t,e+1);let l=pt();return this.qr.forEachInRange([a,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new xn(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class xn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Be.comparator(e.key,t.key)||mt(e.Hr,t.Hr)}static Ur(e,t){return mt(e.Hr,t.Hr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new wn(xn.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,s){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ZO(l,t,a,s);this.mutationQueue.push(c);for(const d of s)this.Jr=this.Jr.add(new xn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,s=this.Xr(a),l=s<0?0:s;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Hy:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new xn(t,0),s=new xn(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([a,s],(c=>{const d=this.Zr(c.Hr);l.push(d)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new wn(mt);return t.forEach((s=>{const l=new xn(s,0),c=new xn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{a=a.add(d.Hr)}))})),de.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,s=a.length+1;let l=a;Be.isDocumentKey(l)||(l=l.child(""));const c=new xn(new Be(l),0);let d=new wn(mt);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Hr)),!0)}),c),de.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((a=>{const s=this.Zr(a);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){wt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return de.forEach(t.mutations,(s=>{const l=new xn(s.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new xn(t,0),s=this.Jr.firstAfterOrEqual(a);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.ti=e,this.docs=(function(){return new rn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,s=this.docs.get(a),l=s?s.size:0,c=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return de.resolve(a?a.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let a=ga();return t.forEach((s=>{const l=this.docs.get(s);a=a.insert(s,l?l.document.mutableCopy():Kn.newInvalidDocument(s))})),de.resolve(a)}getDocumentsMatchingQuery(e,t,a,s){let l=ga();const c=t.path,d=new Be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||fO(hO(_),a)<=0||(s.has(_.key)||qd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,t,a,s){Ge(9500)}ni(e,t){return de.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new zM(this)}getSize(e){return de.resolve(this.size)}}class zM extends OM{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(a)})),de.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.persistence=e,this.ri=new To((t=>$y(t)),Ky),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ii=0,this.si=new Zy,this.targetCount=0,this.oi=Vl._r()}forEachTarget(e,t){return this.ri.forEach(((a,s)=>t(s))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),de.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Vl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.lr(t),de.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,a){let s=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),de.waitFor(l).next((()=>s))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return de.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),de.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return de.resolve(a)}containsKey(e,t){return de.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this._i={},this.overlays={},this.ai=new jd(0),this.ui=!1,this.ui=!0,this.ci=new LM,this.referenceDelegate=e(this),this.li=new BM(this),this.indexManager=new wM,this.remoteDocumentCache=(function(s){return new jM(s)})((a=>this.referenceDelegate.hi(a))),this.serializer=new SM(t),this.Pi=new VM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new UM(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){De("MemoryPersistence","Starting transaction:",e);const s=new FM(this.ai.next());return this.referenceDelegate.Ti(),a(s).next((l=>this.referenceDelegate.Ii(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ei(e,t){return de.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class FM extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class e_{constructor(e){this.persistence=e,this.Ri=new Zy,this.Ai=null}static Vi(e){return new e_(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),de.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),de.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.di.add(l.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(a=>{const s=Be.fromPath(a);return this.mi(e,s).next((l=>{l||t.removeEntry(s,Xe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return de.or([()=>de.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class hd{constructor(e,t){this.persistence=e,this.fi=new To((a=>yO(a.path)),((a,s)=>a.isEqual(s))),this.garbageCollector=xM(this,t)}static Vi(e,t){return new hd(e,t)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((s=>a+s))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return de.forEach(this.fi,((a,s)=>this.wr(e,a,s).next((l=>l?de.resolve():t(s)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(a++,l.removeEntry(c,Xe.min()))})))).next((()=>l.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),de.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),de.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pf(e.data.value)),t}wr(e,t,a){return de.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return de.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t,a,s){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=s}static Es(e,t){let a=pt(),s=pt();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new t_(e,t.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Px()?8:pO(Yn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,s){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,s,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new HM;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,a,s){return a.documentReadCount<this.Vs?(pl()<=dt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",gl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(pl()<=dt.DEBUG&&De("QueryEngine","Query:",gl(t),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ds*s?(pl()<=dt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",gl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(t))):de.resolve())}gs(e,t){if(S0(t))return de.resolve(null);let a=Pi(t);return this.indexManager.getIndexType(e,a).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=sy(t,null,"F"),a=Pi(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=pt(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.bs(t,d);return this.Ss(t,g,c,p.readTime)?this.gs(e,sy(t,null,"F")):this.Ds(e,g,t,p)}))))})))))}ps(e,t,a,s){return S0(t)||s.isEqual(Xe.min())?de.resolve(null):this.fs.getDocuments(e,a).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,a,s)?de.resolve(null):(pl()<=dt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gl(t)),this.Ds(e,c,t,cO(s,_c)).next((d=>d)))}))}bs(e,t){let a=new wn(mw(e));return t.forEach(((s,l)=>{qd(e,l)&&(a=a.add(l))})),a}Ss(e,t,a,s){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ys(e,t,a){return pl()<=dt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",gl(t)),this.fs.getDocumentsMatchingQuery(e,t,_s.min(),a)}Ds(e,t,a,s){return this.fs.getDocumentsMatchingQuery(e,a,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LocalStore",GM=3e8;class $M{constructor(e,t,a,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new rn(mt),this.Fs=new To((l=>$y(l)),Ky),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function KM(n,e,t,a){return new $M(n,e,t,a)}async function Uw(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let s;return t.mutationQueue.getAllMutationBatches(a).next((l=>(s=l,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=pt();for(const g of s){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(a,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function YM(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const s=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const E=g.batch,b=E.keys();let R=de.resolve();return b.forEach((L=>{R=R.next((()=>_.getEntry(p,L))).next((z=>{const j=g.docVersions.get(L);wt(j!==null,48541),z.version.compareTo(j)<0&&(E.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(t,a,e,l).next((()=>l.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=pt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,s)))}))}function jw(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function QM(n,e){const t=Je(n),a=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const d=[];e.targetChanges.forEach(((_,E)=>{const b=s.get(E);if(!b)return;d.push(t.li.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.li.addMatchingKeys(l,_.addedDocuments,E))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(zn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,a)),s=s.insert(E,R),(function(z,j,Y){return z.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=GM?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(b,R,_)&&d.push(t.li.updateTargetData(l,R))}));let p=ga(),g=pt();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(XM(l,c,e.documentUpdates).next((_=>{p=_.Bs,g=_.Ls}))),!a.isEqual(Xe.min())){const _=t.li.getLastRemoteSnapshotVersion(l).next((E=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(_)}return de.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.vs=s,l)))}function XM(n,e,t){let a=pt(),s=pt();return t.forEach((l=>a=a.add(l))),e.getEntries(n,a).next((l=>{let c=ga();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Xe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):De(n_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:s}}))}function WM(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hy),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function JM(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let s;return t.li.getTargetData(a,e).next((l=>l?(s=l,de.resolve(s)):t.li.allocateTargetId(a).next((c=>(s=new ls(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,s).next((()=>s)))))))})).then((a=>{const s=t.vs.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function hy(n,e,t){const a=Je(n),s=a.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Kl(c))throw c;De(n_,`Failed to update sequence numbers for target ${e}: ${c}`)}a.vs=a.vs.remove(e),a.Fs.delete(s.target)}function k0(n,e,t){const a=Je(n);let s=Xe.min(),l=pt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=Je(p),b=E.Fs.get(_);return b!==void 0?de.resolve(E.vs.get(b)):E.li.getTargetData(g,_)})(a,c,Pi(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(c,e,t?s:Xe.min(),t?l:pt()))).next((d=>(ZM(a,UO(e),d),{documents:d,ks:l})))))}function ZM(n,e,t){let a=n.Ms.get(e)||Xe.min();t.forEach(((s,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),n.Ms.set(e,a)}class L0{constructor(){this.activeTargetIds=qO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eP{constructor(){this.vo=new L0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new L0,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="ConnectivityMonitor";class j0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){De(U0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){De(U0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function fy(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",nP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${s}`,this.$o=this.databaseId.database===id?`project_id=${a}`:`project_id=${a}&database_id=${s}`}Wo(e,t,a,s,l){const c=fy(),d=this.Qo(e,t.toUriEncodedString());De(Og,`Sending RPC '${e}' ${c}:`,d,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,s,l);const{host:g}=new URL(d),_=Hl(g);return this.zo(e,d,p,a,_).then((E=>(De(Og,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw xl(Og,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",a),E}))}jo(e,t,a,s,l,c){return this.Wo(e,t,a,s,l)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),a&&a.headers.forEach(((s,l)=>e[l]=s))}Qo(e,t){const a=nP[e];let s=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection",Qu=(n,e,t)=>{n.listen(e,(a=>{try{t(a)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Al extends rP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Al.c_){const e=qA();Qu(e,HA.STAT_EVENT,(t=>{t.stat===Zg.PROXY?De(qn,"STAT_EVENT: detected buffering proxy"):t.stat===Zg.NOPROXY&&De(qn,"STAT_EVENT: detected no buffering proxy")})),Al.c_=!0}}zo(e,t,a,s,l){const c=fy();return new Promise(((d,p)=>{const g=new BA;g.setWithCredentials(!0),g.listenOnce(FA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Mf.NO_ERROR:const E=g.getResponseJson();De(qn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Mf.TIMEOUT:De(qn,`RPC '${e}' ${c} timed out`),p(new Re(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const b=g.getStatus();if(De(qn,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R==null?void 0:R.error;if(L&&L.status&&L.message){const z=(function(Y){const F=Y.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(F)>=0?F:ue.UNKNOWN})(L.status);p(new Re(z,L.message))}else p(new Re(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Re(ue.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{De(qn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(s);De(qn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",_,a,15)}))}T_(e,t,a){const s=fy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,a),d.encodeInitMessageHeaders=!0;const g=l.join("");De(qn,`Creating RPC '${e}' stream ${s}: ${g}`,d);const _=c.createWebChannel(g,d);this.I_(_);let E=!1,b=!1;const R=new iP({Ho:L=>{b?De(qn,`Not sending because RPC '${e}' stream ${s} is closed:`,L):(E||(De(qn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),De(qn,`RPC '${e}' stream ${s} sending:`,L),_.send(L))},Jo:()=>_.close()});return Qu(_,Ju.EventType.OPEN,(()=>{b||(De(qn,`RPC '${e}' stream ${s} transport opened.`),R.i_())})),Qu(_,Ju.EventType.CLOSE,(()=>{b||(b=!0,De(qn,`RPC '${e}' stream ${s} transport closed`),R.o_(),this.E_(_))})),Qu(_,Ju.EventType.ERROR,(L=>{b||(b=!0,xl(qn,`RPC '${e}' stream ${s} transport errored. Name:`,L.name,"Message:",L.message),R.o_(new Re(ue.UNAVAILABLE,"The operation could not be completed")))})),Qu(_,Ju.EventType.MESSAGE,(L=>{var z;if(!b){const j=L.data[0];wt(!!j,16349);const Y=j,F=(Y==null?void 0:Y.error)||((z=Y[0])==null?void 0:z.error);if(F){De(qn,`RPC '${e}' stream ${s} received error:`,F);const K=F.status;let ee=(function(S){const w=_n[S];if(w!==void 0)return ww(w)})(K),ae=F.message;ee===void 0&&(ee=ue.INTERNAL,ae="Unknown error status: "+K+" with message "+F.message),b=!0,R.o_(new Re(ee,ae)),_.close()}else De(qn,`RPC '${e}' stream ${s} received:`,j),R.__(j)}})),Al.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){return new Al(n)}function Mg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n){return new uM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al.c_=!1;class zw{constructor(e,t,a=1e3,s=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=s,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-a);s>0&&De("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="PersistentStream";class Bw{constructor(e,t,a,s,l,c,d,p){this.Ci=e,this.b_=a,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(pa(t.toString()),pa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,s])=>{this.D_===t&&this.G_(a,s)}),(a=>{e((()=>{const s=new Re(ue.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(s)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{a((()=>this.z_(s)))})),this.stream.onMessage((s=>{a((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(z0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(De(z0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sP extends Bw{constructor(e,t,a,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=fM(this.serializer,e),a=(function(l){if(!("targetChange"in l))return Xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Xe.min():c.readTime?Vi(c.readTime):Xe.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=cy(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=iy(p)?{documents:pM(l,p)}:{query:gM(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Iw(l,c.resumeToken);const g=oy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Xe.min())>0){d.readTime=cd(l,c.snapshotVersion.toTimestamp());const g=oy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=_M(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=cy(this.serializer),t.removeTarget=e,this.K_(t)}}class oP extends Bw{constructor(e,t,a,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,s,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=mM(e.writeResults,e.commitTime),a=Vi(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=cy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>dM(this.serializer,a)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{}class uP extends lP{constructor(e,t,a,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,ly(t,a),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ue.UNKNOWN,l.toString())}))}jo(e,t,a,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,ly(t,a),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Re(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cP(n,e,t,a){return new uP(n,e,t,a)}class hP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pa(t),this.aa=!1):De("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class fP{constructor(e,t,a,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{a.enqueueAndForget((async()=>{bo(this)&&(De(go,"Restarting streams for network reachability change."),await(async function(p){const g=Je(p);g.Ea.add(4),await jc(g),g.Va.set("Unknown"),g.Ea.delete(4),await Qd(g)})(this))}))})),this.Va=new hP(a,s)}}async function Qd(n){if(bo(n))for(const e of n.Ra)await e(!0)}async function jc(n){for(const e of n.Ra)await e(!1)}function Fw(n,e){const t=Je(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),s_(t)?a_(t):Yl(t).O_()&&i_(t,e))}function r_(n,e){const t=Je(n),a=Yl(t);t.Ia.delete(e),a.O_()&&Hw(t,e),t.Ia.size===0&&(a.O_()?a.L_():bo(t)&&t.Va.set("Unknown"))}function i_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yl(n).Z_(e)}function Hw(n,e){n.da.$e(e),Yl(n).X_(e)}function a_(n){n.da=new aM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Yl(n).start(),n.Va.ua()}function s_(n){return bo(n)&&!Yl(n).x_()&&n.Ia.size>0}function bo(n){return Je(n).Ea.size===0}function qw(n){n.da=void 0}async function dP(n){n.Va.set("Online")}async function mP(n){n.Ia.forEach(((e,t)=>{i_(n,e)}))}async function pP(n,e){qw(n),s_(n)?(n.Va.ha(e),a_(n)):n.Va.set("Unknown")}async function gP(n,e,t){if(n.Va.set("Online"),e instanceof Cw&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.da.removeTarget(d))})(n,e)}catch(a){De(go,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fd(n,a)}else if(e instanceof Lf?n.da.Xe(e):e instanceof Rw?n.da.st(e):n.da.tt(e),!t.isEqual(Xe.min()))try{const a=await jw(n.localStore);t.compareTo(a)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(zn.EMPTY_BYTE_STRING,_.snapshotVersion)),Hw(l,p);const E=new ls(_.target,p,g,_.sequenceNumber);i_(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(a){De(go,"Failed to raise snapshot:",a),await fd(n,a)}}async function fd(n,e,t){if(!Kl(e))throw e;n.Ea.add(1),await jc(n),n.Va.set("Offline"),t||(t=()=>jw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{De(go,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Qd(n)}))}function Gw(n,e){return e().catch((t=>fd(n,t,e)))}async function Xd(n){const e=Je(n),t=bs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hy;for(;yP(e);)try{const s=await WM(e.localStore,a);if(s===null){e.Ta.length===0&&t.L_();break}a=s.batchId,_P(e,s)}catch(s){await fd(e,s)}$w(e)&&Kw(e)}function yP(n){return bo(n)&&n.Ta.length<10}function _P(n,e){n.Ta.push(e);const t=bs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function $w(n){return bo(n)&&!bs(n).x_()&&n.Ta.length>0}function Kw(n){bs(n).start()}async function vP(n){bs(n).ra()}async function EP(n){const e=bs(n);for(const t of n.Ta)e.ea(t.mutations)}async function TP(n,e,t){const a=n.Ta.shift(),s=Xy.from(a,e,t);await Gw(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Xd(n)}async function bP(n,e){e&&bs(n).Y_&&await(async function(a,s){if((function(c){return nM(c)&&c!==ue.ABORTED})(s.code)){const l=a.Ta.shift();bs(a).B_(),await Gw(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Xd(a)}})(n,e),$w(n)&&Kw(n)}async function B0(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),De(go,"RemoteStore received new credentials");const a=bo(t);t.Ea.add(3),await jc(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Qd(t)}async function SP(n,e){const t=Je(n);e?(t.Ea.delete(2),await Qd(t)):e||(t.Ea.add(2),await jc(t),t.Va.set("Unknown"))}function Yl(n){return n.ma||(n.ma=(function(t,a,s){const l=Je(t);return l.sa(),new sP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:dP.bind(null,n),Yo:mP.bind(null,n),t_:pP.bind(null,n),J_:gP.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),s_(n)?a_(n):n.Va.set("Unknown")):(await n.ma.stop(),qw(n))}))),n.ma}function bs(n){return n.fa||(n.fa=(function(t,a,s){const l=Je(t);return l.sa(),new oP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vP.bind(null,n),t_:bP.bind(null,n),ta:EP.bind(null,n),na:TP.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Xd(n)):(await n.fa.stop(),n.Ta.length>0&&(De(go,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,t,a,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=s,this.removalCallback=l,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,s,l){const c=Date.now()+a,d=new o_(e,t,c,s,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(n,e){if(pa("AsyncQueue",`${e}: ${n}`),Kl(n))return new Re(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Be.comparator(t.key,a.key):(t,a)=>Be.comparator(t.key,a.key),this.keyedMap=Zu(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new wl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.ga=new rn(Be.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class kl{constructor(e,t,a,s,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,s,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new kl(e,t,wl.emptySet(t),c,a,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==a[s].type||!t[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class wP{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const s=Je(t),l=s.queries;s.queries=H0(),l.forEach(((c,d)=>{for(const p of d.ba)p.onError(a)}))})(this,new Re(ue.ABORTED,"Firestore shutting down"))}}function H0(){return new To((n=>dw(n)),Hd)}async function u_(n,e){const t=Je(n);let a=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.Da()&&(a=2):(l=new AP,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=l_(c,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&h_(t)}async function c_(n,e){const t=Je(n),a=e.query;let s=3;const l=t.queries.get(a);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?s=e.Da()?0:1:!l.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function RP(n,e){const t=Je(n);let a=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(s)&&(a=!0);c.wa=s}}a&&h_(t)}function CP(n,e,t){const a=Je(n),s=a.queries.get(e);if(s)for(const l of s.ba)l.onError(t);a.queries.delete(e)}function h_(n){n.Ca.forEach((e=>{e.next()}))}var dy,q0;(q0=dy||(dy={})).Ma="default",q0.Cache="cache";class f_{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new kl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.key=e}}class Qw{constructor(e){this.key=e}}class IP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pt(),this.mutatedKeys=pt(),this.eu=mw(e),this.tu=new wl(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new F0,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((_,E)=>{const b=s.get(_),R=qd(this.query,E)?E:null,L=!!b&&this.mutatedKeys.has(b.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;b&&R?b.data.isEqual(R.data)?L!==z&&(a.track({type:3,doc:R}),j=!0):this.su(b,R)||(a.track({type:2,doc:R}),j=!0,(p&&this.eu(R,p)>0||g&&this.eu(R,g)<0)&&(d=!0)):!b&&R?(a.track({type:0,doc:R}),j=!0):b&&!R&&(a.track({type:1,doc:b}),j=!0,(p||g)&&(d=!0)),j&&(R?(c=c.add(R),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),a.track({type:1,doc:_})}return{tu:c,iu:a,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(R,L){const z=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:j})}};return z(R)-z(L)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(a),s=s??!1;const d=t&&!s?this._u():[],p=this.Ya.size===0&&this.current&&!s?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new kl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new Qw(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new Yw(a))})),t}cu(e){this.Za=e.ks,this.Ya=pt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const d_="SyncEngine";class DP{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class NP{constructor(e){this.key=e,this.hu=!1}}class xP{constructor(e,t,a,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new To((d=>dw(d)),Hd),this.Iu=new Map,this.Eu=new Set,this.Ru=new rn(Be.comparator),this.Au=new Map,this.Vu=new Zy,this.du={},this.mu=new Map,this.fu=Vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OP(n,e,t=!0){const a=t1(n);let s;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await Xw(a,e,t,!0),s}async function MP(n,e){const t=t1(n);await Xw(t,e,!0,!1)}async function Xw(n,e,t,a){const s=await JM(n.localStore,Pi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await PP(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Fw(n.remoteStore,s),d}async function PP(n,e,t,a,s){n.pu=(E,b,R)=>(async function(z,j,Y,F){let K=j.view.ru(Y);K.Ss&&(K=await k0(z.localStore,j.query,!1).then((({documents:S})=>j.view.ru(S,K))));const ee=F&&F.targetChanges.get(j.targetId),ae=F&&F.targetMismatches.get(j.targetId)!=null,te=j.view.applyChanges(K,z.isPrimaryClient,ee,ae);return $0(z,j.targetId,te.au),te.snapshot})(n,E,b,R);const l=await k0(n.localStore,e,!0),c=new IP(e,l.ks),d=c.ru(l.documents),p=Uc.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,p);$0(n,t,g.au);const _=new DP(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function VP(n,e,t){const a=Je(n),s=a.Tu.get(e),l=a.Iu.get(s.targetId);if(l.length>1)return a.Iu.set(s.targetId,l.filter((c=>!Hd(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await hy(a.localStore,s.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(s.targetId),t&&r_(a.remoteStore,s.targetId),my(a,s.targetId)})).catch($l)):(my(a,s.targetId),await hy(a.localStore,s.targetId,!0))}async function kP(n,e){const t=Je(n),a=t.Tu.get(e),s=t.Iu.get(a.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),r_(t.remoteStore,a.targetId))}async function LP(n,e,t){const a=qP(n);try{const s=await(function(c,d){const p=Je(c),g=Kt.now(),_=d.reduce(((R,L)=>R.add(L.key)),pt());let E,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let L=ga(),z=pt();return p.xs.getEntries(R,_).next((j=>{L=j,L.forEach(((Y,F)=>{F.isValidDocument()||(z=z.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,L))).next((j=>{E=j;const Y=[];for(const F of d){const K=WO(F,E.get(F.key).overlayedDocument);K!=null&&Y.push(new Rs(F.key,K,aw(K.value.mapValue),Or.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,Y,d)})).next((j=>{b=j;const Y=j.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(R,j.batchId,Y)}))})).then((()=>({batchId:b.batchId,changes:gw(E)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new rn(mt)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(a,s.batchId,t),await zc(a,s.changes),await Xd(a.remoteStore)}catch(s){const l=l_(s,"Failed to persist write");t.reject(l)}}async function Ww(n,e){const t=Je(n);try{const a=await QM(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Au.get(l);c&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?wt(c.hu,14607):s.removedDocuments.size>0&&(wt(c.hu,42227),c.hu=!1))})),await zc(t,a,e)}catch(a){await $l(a)}}function G0(n,e,t){const a=Je(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const s=[];a.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=Je(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,E)=>{for(const b of E.ba)b.va(d)&&(g=!0)})),g&&h_(p)})(a.eventManager,e),s.length&&a.Pu.J_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function UP(n,e,t){const a=Je(n);a.sharedClientState.updateQueryState(e,"rejected",t);const s=a.Au.get(e),l=s&&s.key;if(l){let c=new rn(Be.comparator);c=c.insert(l,Kn.newNoDocument(l,Xe.min()));const d=pt().add(l),p=new Kd(Xe.min(),new Map,new rn(mt),c,d);await Ww(a,p),a.Ru=a.Ru.remove(l),a.Au.delete(e),m_(a)}else await hy(a.localStore,e,!1).then((()=>my(a,e,t))).catch($l)}async function jP(n,e){const t=Je(n),a=e.batch.batchId;try{const s=await YM(t.localStore,e);Zw(t,a,null),Jw(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await zc(t,s)}catch(s){await $l(s)}}async function zP(n,e,t){const a=Je(n);try{const s=await(function(c,d){const p=Je(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(wt(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(a.localStore,e);Zw(a,e,t),Jw(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await zc(a,s)}catch(s){await $l(s)}}function Jw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Zw(n,e,t){const a=Je(n);let s=a.du[a.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),a.du[a.currentUser.toKey()]=s}}function my(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Iu.get(e))n.Tu.delete(a),t&&n.Pu.yu(a,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((a=>{n.Vu.containsKey(a)||e1(n,a)}))}function e1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(r_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),m_(n))}function $0(n,e,t){for(const a of t)a instanceof Yw?(n.Vu.addReference(a.key,e),BP(n,a)):a instanceof Qw?(De(d_,"Document no longer in limbo: "+a.key),n.Vu.removeReference(a.key,e),n.Vu.containsKey(a.key)||e1(n,a.key)):Ge(19791,{wu:a})}function BP(n,e){const t=e.key,a=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(a)||(De(d_,"New document in limbo: "+t),n.Eu.add(a),m_(n))}function m_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Be(Ht.fromString(e)),a=n.fu.next();n.Au.set(a,new NP(t)),n.Ru=n.Ru.insert(t,a),Fw(n.remoteStore,new ls(Pi(Fd(t.path)),a,"TargetPurposeLimboResolution",jd.ce))}}async function zc(n,e,t){const a=Je(n),s=[],l=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((d,p)=>{c.push(a.pu(p,e,t).then((g=>{var _;if((g||t)&&a.isPrimaryClient){const E=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:_.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){s.push(g);const E=t_.Es(p.targetId,g);l.push(E)}})))})),await Promise.all(c),a.Pu.J_(s),await(async function(p,g){const _=Je(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>de.forEach(g,(b=>de.forEach(b.Ts,(R=>_.persistence.referenceDelegate.addReference(E,b.targetId,R))).next((()=>de.forEach(b.Is,(R=>_.persistence.referenceDelegate.removeReference(E,b.targetId,R)))))))))}catch(E){if(!Kl(E))throw E;De(n_,"Failed to update sequence numbers: "+E)}for(const E of g){const b=E.targetId;if(!E.fromCache){const R=_.vs.get(b),L=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(L);_.vs=_.vs.insert(b,z)}}})(a.localStore,l))}async function FP(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){De(d_,"User change. New user:",e.toKey());const a=await Uw(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new Re(ue.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await zc(t,a.Ns)}}function HP(n,e){const t=Je(n),a=t.Au.get(e);if(a&&a.hu)return pt().add(a.key);{let s=pt();const l=t.Iu.get(e);if(!l)return s;for(const c of l){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function t1(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UP.bind(null,e),e.Pu.J_=RP.bind(null,e.eventManager),e.Pu.yu=CP.bind(null,e.eventManager),e}function qP(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zP.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return KM(this.persistence,new qM,e.initialUser,this.serializer)}Cu(e){return new Lw(e_.Vi,this.serializer)}Du(e){return new eP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class GP extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wt(this.persistence.referenceDelegate instanceof hd,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new DM(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fr.withCacheSize(this.cacheSizeBytes):fr.DEFAULT;return new Lw((a=>hd.Vi(a,t)),this.serializer)}}class py{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>G0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=FP.bind(null,this.syncEngine),await SP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wP})()}createDatastore(e){const t=Yd(e.databaseInfo.databaseId),a=aP(e.databaseInfo);return cP(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,s,l,c,d){return new fP(a,s,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>G0(this.syncEngine,t,0)),(function(){return j0.v()?new j0:new tP})())}createSyncEngine(e,t){return(function(s,l,c,d,p,g,_){const E=new xP(s,l,c,d,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const l=Je(s);De(go,"RemoteStore shutting down."),l.Ea.add(5),await jc(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class $P{constructor(e,t,a,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=s,this.user=$n.UNAUTHENTICATED,this.clientId=Fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{De(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(De(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=l_(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Pg(n,e){n.asyncQueue.verifyOperationInProgress(),De(Ss,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener((async s=>{a.isEqual(s)||(await Uw(e.localStore,s),a=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function K0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await KP(n);De(Ss,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((a=>B0(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,s)=>B0(e.remoteStore,s))),n._onlineComponents=e}async function KP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){De(Ss,"Using user provided OfflineComponentProvider");try{await Pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;xl("Error using user provided cache. Falling back to memory cache: "+t),await Pg(n,new dd)}}else De(Ss,"Using default OfflineComponentProvider"),await Pg(n,new GP(void 0));return n._offlineComponents}async function n1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(De(Ss,"Using user provided OnlineComponentProvider"),await K0(n,n._uninitializedComponentsProvider._online)):(De(Ss,"Using default OnlineComponentProvider"),await K0(n,new py))),n._onlineComponents}function YP(n){return n1(n).then((e=>e.syncEngine))}async function md(n){const e=await n1(n),t=e.eventManager;return t.onListen=OP.bind(null,e.syncEngine),t.onUnlisten=VP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kP.bind(null,e.syncEngine),t}function QP(n,e,t,a){const s=new p_(a),l=new f_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>u_(await md(n),l))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>c_(await md(n),l)))}}function XP(n,e,t={}){const a=new fa;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new p_({next:b=>{_.Nu(),c.enqueueAndForget((()=>c_(l,E)));const R=b.docs.has(d);!R&&b.fromCache?g.reject(new Re(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&p&&p.source==="server"?g.reject(new Re(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new f_(Fd(d.path),_,{includeMetadataChanges:!0,Ka:!0});return u_(l,E)})(await md(n),n.asyncQueue,e,t,a))),a.promise}function WP(n,e,t={}){const a=new fa;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const _=new p_({next:b=>{_.Nu(),c.enqueueAndForget((()=>c_(l,E))),b.fromCache&&p.source==="server"?g.reject(new Re(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),E=new f_(d,_,{includeMetadataChanges:!0,Ka:!0});return u_(l,E)})(await md(n),n.asyncQueue,e,t,a))),a.promise}function JP(n,e){const t=new fa;return n.asyncQueue.enqueueAndForget((async()=>LP(await YP(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="ComponentProvider",Y0=new Map;function eV(n,e,t,a,s){return new EO(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,r1(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firestore.googleapis.com",Q0=!0;class X0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i1,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CM)throw new Re(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Re(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Re(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Re(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,s){return a.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,t,a,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Z2;switch(a.type){case"firstParty":return new rO(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Re(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=Y0.get(t);a&&(De(ZP,"Removing Datastore"),Y0.delete(t),a.terminate())})(this),Promise.resolve()}}function tV(n,e,t,a={}){var g;n=xr(n,Wd);const s=Hl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(OA(`https://${d}`),MA("Firestore",!0)),l.host!==i1&&l.host!==d&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:a};if(!fo(p,c)&&(n._setSettings(p),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=$n.MOCK_USER;else{_=wx(a.mockUserToken,(g=n._app)==null?void 0:g.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Re(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $n(b)}n._authCredentials=new eO(new KA(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class ln{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Vc(t,ln._jsonSchema))return new ln(e,a||null,new Be(Ht.fromString(t.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:En("string",ln._jsonSchemaVersion),referencePath:En("string")};class ps extends So{constructor(e,t,a){super(e,t,Fd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Be(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Bc(n,e,...t){if(n=Rn(n),YA("collection","path",e),n instanceof Wd){const a=Ht.fromString(e,...t);return u0(a),new ps(n,null,a)}{if(!(n instanceof ln||n instanceof ps))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Ht.fromString(e,...t));return u0(a),new ps(n.firestore,null,a)}}function Wr(n,e,...t){if(n=Rn(n),arguments.length===1&&(e=Fy.newId()),YA("doc","path",e),n instanceof Wd){const a=Ht.fromString(e,...t);return l0(a),new ln(n,null,new Be(a))}{if(!(n instanceof ln||n instanceof ps))throw new Re(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(Ht.fromString(e,...t));return l0(a),new ln(n.firestore,n instanceof ps?n.converter:null,new Be(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zw(this,"async_queue_retry"),this._c=()=>{const a=Mg();a&&De(W0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=Mg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Mg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Kl(e))throw e;De(W0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,pa("INTERNAL UNHANDLED ERROR: ",Z0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=o_.createAndSchedule(this,e,t,a,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Ge(47125,{Pc:Z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Z0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class As extends Wd{constructor(e,t,a,s){super(e,t,a,s),this.type="firestore",this._queue=new J0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function nV(n,e){const t=typeof n=="object"?n:LA(),a=typeof n=="string"?n:id,s=zy(t,"firestore").getImmediate({identifier:a});if(!s._initialized){const l=Sx("firestore");l&&tV(s,...l)}return s}function Fc(n){if(n._terminated)throw new Re(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rV(n),n._firestoreClient}function rV(n){var a,s,l,c;const e=n._freezeSettings(),t=eV(n._databaseId,((a=n._app)==null?void 0:a.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new $P(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(zn.fromBase64String(e))}catch(t){throw new Re(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yr(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:En("string",Yr._jsonSchemaVersion),bytes:En("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:En("string",ki._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fi(e.vectorValues);throw new Re(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:En("string",fi._jsonSchemaVersion),vectorValues:En("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=/^__.*__$/;class aV{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lc(e,this.data,t,this.fieldTransforms)}}class a1{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function s1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:n})}}class y_{constructor(e,t,a,s,l,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=s,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new y_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(s1(this.dataSource)&&iV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class sV{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Yd(e)}createContext(e,t,a,s=!1){return new y_({dataSource:e,methodName:t,targetDoc:a,path:jn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zd(n){const e=n._freezeSettings(),t=Yd(n._databaseId);return new sV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function o1(n,e,t,a,s,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,s);__("Data must be an object, but it was:",c,a);const d=c1(a,c);let p,g;if(l.merge)p=new Ir(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const b=Ll(e,E,t);if(!c.contains(b))throw new Re(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);d1(_,b)||_.push(b)}p=new Ir(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new aV(new dr(d),p,g)}class em extends g_{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}function l1(n,e,t,a){const s=n.createContext(1,e,t);__("Data must be an object, but it was:",s,a);const l=[],c=dr.empty();ws(a,((p,g)=>{const _=f1(e,p,t);g=Rn(g);const E=s.childContextForFieldPath(_);if(g instanceof em)l.push(_);else{const b=Hc(g,E);b!=null&&(l.push(_),c.set(_,b))}}));const d=new Ir(l);return new a1(c,d,s.fieldTransforms)}function u1(n,e,t,a,s,l){const c=n.createContext(1,e,t),d=[Ll(e,a,t)],p=[s];if(l.length%2!=0)throw new Re(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Ll(e,l[b])),p.push(l[b+1]);const g=[],_=dr.empty();for(let b=d.length-1;b>=0;--b)if(!d1(g,d[b])){const R=d[b];let L=p[b];L=Rn(L);const z=c.childContextForFieldPath(R);if(L instanceof em)g.push(R);else{const j=Hc(L,z);j!=null&&(g.push(R),_.set(R,j))}}const E=new Ir(g);return new a1(_,E,c.fieldTransforms)}function oV(n,e,t,a=!1){return Hc(t,n.createContext(a?4:3,e))}function Hc(n,e){if(h1(n=Rn(n)))return __("Unsupported field value:",e,n),c1(n,e);if(n instanceof g_)return(function(a,s){if(!s1(s.dataSource))throw s.createError(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,s){const l=[];let c=0;for(const d of a){let p=Hc(d,s.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(a,s){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return GO(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Kt.fromDate(a);return{timestampValue:cd(s.serializer,l)}}if(a instanceof Kt){const l=new Kt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:cd(s.serializer,l)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yr)return{bytesValue:Iw(s.serializer,a._byteString)};if(a instanceof ln){const l=s.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw s.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jy(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof fi)return(function(c,d){const p=c instanceof fi?c.toArray():c;return{mapValue:{fields:{[rw]:{stringValue:iw},[ad]:{arrayValue:{values:p.map((_=>{if(typeof _!="number")throw d.createError("VectorValues must only contain numeric values.");return Yy(d.serializer,_)}))}}}}}})(a,s);if(Vw(a))return a._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ud(a)}`)})(n,e)}function c1(n,e){const t={};return WA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(n,((a,s)=>{const l=Hc(s,e.childContextForField(a));l!=null&&(t[a]=l)})),{mapValue:{fields:t}}}function h1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Kt||n instanceof ki||n instanceof Yr||n instanceof ln||n instanceof g_||n instanceof fi||Vw(n))}function __(n,e,t){if(!h1(t)||!QA(t)){const a=Ud(t);throw a==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+a)}}function Ll(n,e,t){if((e=Rn(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return f1(n,e);throw pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const lV=new RegExp("[~\\*/\\[\\]]");function f1(n,e,t){if(e.search(lV)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pd(n,e,t,a,s){const l=a&&!a.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${s}`),p+=")"),new Re(ue.INVALID_ARGUMENT,d+n+p)}function d1(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return ws(e,((s,l)=>{a[s]=this.convertValue(l,t)})),a}convertVectorValue(e){var a,s,l;const t=(l=(s=(a=e.fields)==null?void 0:a[ad].arrayValue)==null?void 0:s.values)==null?void 0:l.map((c=>fn(c.doubleValue)));return new fi(t)}convertGeoPoint(e){return new ki(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Bd(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const t=vs(e);return new Kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Ht.fromString(e);wt(Pw(a),9688,{name:e});const s=new Ec(a.get(1),a.get(3)),l=new Be(a.popFirst(5));return s.isEqual(t)||pa(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends uV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}const eS="@firebase/firestore",tS="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n){return(function(t,a){if(typeof t!="object"||t===null)return!1;const s=t;for(const l of a)if(l in s&&typeof s[l]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t,a,s,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Ll("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cV extends m1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E_{}class hV extends E_{}function qc(n,e,...t){let a=[];e instanceof E_&&a.push(e),a=a.concat(t),(function(l){const c=l.filter((p=>p instanceof b_)).length,d=l.filter((p=>p instanceof tm)).length;if(c>1||c>0&&d>0)throw new Re(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const s of a)n=s._apply(n);return n}class tm extends hV{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new tm(e,t,a)}_apply(e){const t=this._parse(e);return g1(e._query,t),new So(e.firestore,e.converter,ay(e._query,t))}_parse(e){const t=Zd(e.firestore);return(function(l,c,d,p,g,_,E){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){iS(E,_);const L=[];for(const z of E)L.push(rS(p,l,z));b={arrayValue:{values:L}}}else b=rS(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||iS(E,_),b=oV(d,c,E,_==="in"||_==="not-in");return vn.create(g,_,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function T_(n,e,t){const a=e,s=Ll("where",n);return tm._create(s,a,t)}class b_ extends E_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new b_(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)g1(c,p),c=ay(c,p)})(e._query,t),new So(e.firestore,e.converter,ay(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rS(n,e,t){if(typeof(t=Rn(t))=="string"){if(t==="")throw new Re(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&t.indexOf("/")!==-1)throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Ht.fromString(t));if(!Be.isDocumentKey(a))throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return y0(n,new Be(a))}if(t instanceof ln)return y0(n,t._key);throw new Re(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(t)}.`)}function iS(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g1(n,e){const t=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Re(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function y1(n,e,t){let a;return a=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,a}class tc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lo extends m1{constructor(e,t,a,s,l,c){super(e,t,a,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Ll("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=lo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:En("string",lo._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class Uf extends lo{data(e={}){return super.data(e)}}class uo{constructor(e,t,a,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new tc(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new Uf(this._firestore,this._userDataWriter,a.key,a,new tc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new Uf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new tc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Uf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new tc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:fV(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:En("string",uo._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zd(e)}set(e,t,a){this._verifyNotCommitted();const s=Vg(e,this._firestore),l=y1(s.converter,t,a),c=o1(this._dataReader,"WriteBatch.set",s._key,l,s.converter!==null,a);return this._mutations.push(c.toMutation(s._key,Or.none())),this}update(e,t,a,...s){this._verifyNotCommitted();const l=Vg(e,this._firestore);let c;return c=typeof(t=Rn(t))=="string"||t instanceof Jd?u1(this._dataReader,"WriteBatch.update",l._key,t,a,s):l1(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vg(e,this._firestore);return this._mutations=this._mutations.concat(new Qy(t._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vg(n,e){if((n=Rn(n)).firestore!==e)throw new Re(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){n=xr(n,ln);const e=xr(n.firestore,As),t=Fc(e);return XP(t,n._key).then((a=>_1(e,n,a)))}function $c(n){n=xr(n,So);const e=xr(n.firestore,As),t=Fc(e),a=new v_(e);return p1(n._query),WP(t,n._query).then((s=>new uo(e,a,n,s)))}function mV(n,e,t){n=xr(n,ln);const a=xr(n.firestore,As),s=y1(n.converter,e,t),l=Zd(a);return S_(a,[o1(l,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Or.none())])}function nm(n,e,t,...a){n=xr(n,ln);const s=xr(n.firestore,As),l=Zd(s);let c;return c=typeof(e=Rn(e))=="string"||e instanceof Jd?u1(l,"updateDoc",n._key,e,t,a):l1(l,"updateDoc",n._key,e),S_(s,[c.toMutation(n._key,Or.exists(!0))])}function pV(n,...e){var g,_,E;n=Rn(n);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||nS(e[a])||(t=e[a++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(nS(e[a])){const b=e[a];e[a]=(g=b.next)==null?void 0:g.bind(b),e[a+1]=(_=b.error)==null?void 0:_.bind(b),e[a+2]=(E=b.complete)==null?void 0:E.bind(b)}let l,c,d;if(n instanceof ln)c=xr(n.firestore,As),d=Fd(n._key.path),l={next:b=>{e[a]&&e[a](_1(c,n,b))},error:e[a+1],complete:e[a+2]};else{const b=xr(n,So);c=xr(b.firestore,As),d=b._query;const R=new v_(c);l={next:L=>{e[a]&&e[a](new uo(c,R,b,L))},error:e[a+1],complete:e[a+2]},p1(n._query)}const p=Fc(c);return QP(p,d,s,l)}function S_(n,e){const t=Fc(n);return JP(t,e)}function _1(n,e,t){const a=t.docs.get(e._key),s=new v_(n);return new lo(n,s,e._key,a,new tc(t.hasPendingWrites,t.fromCache),e.converter)}function v1(n){return n=xr(n,As),Fc(n),new dV(n,(e=>S_(n,e)))}(function(e,t=!0){J2(ql),Nl(new mo("firestore",((a,{instanceIdentifier:s,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new As(new tO(a.getProvider("auth-internal")),new iO(c,a.getProvider("app-check-internal")),TO(c,s),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ds(eS,tS,e),ds(eS,tS,"esm2020")})();var gV="firebase",yV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(gV,yV,"app");function E1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _V=E1,T1=new Mc("auth","Firebase",E1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Uy("@firebase/auth");function vV(n,...e){gd.logLevel<=dt.WARN&&gd.warn(`Auth (${ql}): ${n}`,...e)}function jf(n,...e){gd.logLevel<=dt.ERROR&&gd.error(`Auth (${ql}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,...e){throw w_(n,...e)}function di(n,...e){return w_(n,...e)}function A_(n,e,t){const a={..._V(),[e]:t};return new Mc("auth","Firebase",a).create(e,{appName:n.name})}function co(n){return A_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EV(n,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&zi(n,"argument-error"),A_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w_(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return T1.create(n,...e)}function $e(n,e,...t){if(!n)throw w_(e,...t)}function ca(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jf(e),new Error(e)}function ya(n,e){n||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function TV(){return aS()==="http:"||aS()==="https:"}function aS(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TV()||xx()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ya(t>e,"Short delay should be less than long delay!"),this.isMobile=Ix()||Ox()}get(){return bV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n,e){ya(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RV=new Kc(3e4,6e4);function C_(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ql(n,e,t,a,s={}){return S1(n,s,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=Pc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return Nx()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Hl(n.emulatorConfig.host)&&(g.credentials="include"),b1.fetch()(await A1(n,n.config.apiHost,t,d),g)})}async function S1(n,e,t){n._canInitEmulator=!1;const a={...AV,...e};try{const s=new IV(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Af(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Af(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Af(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Af(n,"user-disabled",c);const _=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw A_(n,_,g);zi(n,_)}}catch(s){if(s instanceof Ea)throw s;zi(n,"network-request-failed",{message:String(s)})}}async function CV(n,e,t,a,s={}){const l=await Ql(n,e,t,a,s);return"mfaPendingCredential"in l&&zi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function A1(n,e,t,a){const s=`${e}${t}?${a}`,l=n,c=l.config.emulator?R_(n.config,s):`${n.config.apiScheme}://${s}`;return wV.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class IV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(di(this.auth,"network-request-failed")),RV.get())})}}function Af(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const s=di(n,e,a);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,e){return Ql(n,"POST","/v1/accounts:delete",e)}async function yd(n,e){return Ql(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NV(n,e=!1){const t=Rn(n),a=await t.getIdToken(e),s=I_(a);$e(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:a,authTime:cc(kg(s.auth_time)),issuedAtTime:cc(kg(s.iat)),expirationTime:cc(kg(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function kg(n){return Number(n)*1e3}function I_(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{const s=IA(t);return s?JSON.parse(s):(jf("Failed to decode base64 JWT payload"),null)}catch(s){return jf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sS(n){const e=I_(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Ea&&xV(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function xV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(n){var E;const e=n.auth,t=await n.getIdToken(),a=await Ac(n,yd(e,{idToken:t}));$e(a==null?void 0:a.users.length,e,"internal-error");const s=a.users[0];n._notifyReloadListener(s);const l=(E=s.providerUserInfo)!=null&&E.length?w1(s.providerUserInfo):[],c=PV(n.providerData,l),d=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new yy(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function MV(n){const e=Rn(n);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PV(n,e){return[...n.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function w1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(n,e){const t=await S1(n,{},async()=>{const a=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await A1(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return n.emulatorConfig&&Hl(n.emulatorConfig.host)&&(p.credentials="include"),b1.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function kV(n,e){return Ql(n,"POST","/v2/accounts:revokeToken",C_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=sS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:s,expiresIn:l}=await VV(e,t);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:s,expirationTime:l}=t,c=new Rl;return a&&($e(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),s&&($e(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&($e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:t,stsTokenManager:a,...s}){this.providerId="firebase",this.proactiveRefresh=new OV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NV(this,e)}reload(){return MV(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await _d(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(co(this.auth));const e=await this.getIdToken();return await Ac(this,DV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:R,providerData:L,stsTokenManager:z}=t;$e(E&&z,e,"internal-error");const j=Rl.fromJSON(this.name,z);$e(typeof E=="string",e,"internal-error"),es(a,e.name),es(s,e.name),$e(typeof b=="boolean",e,"internal-error"),$e(typeof R=="boolean",e,"internal-error"),es(l,e.name),es(c,e.name),es(d,e.name),es(p,e.name),es(g,e.name),es(_,e.name);const Y=new hi({uid:E,auth:e,email:s,emailVerified:b,displayName:a,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(Y.providerData=L.map(F=>({...F}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,t,a=!1){const s=new Rl;s.updateFromServerResponse(t);const l=new hi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await _d(l),l}static async _fromGetAccountInfoResponse(e,t,a){const s=t.users[0];$e(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?w1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),d=new Rl;d.updateFromIdToken(a);const p=new hi({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new yy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Map;function ha(n){ya(n instanceof Function,"Expected a class definition");let e=oS.get(n);return e?(ya(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,oS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}R1.type="NONE";const lS=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e,t){return`firebase:${n}:${e}:${t}`}class Cl{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=zf(this.userKey,s.apiKey,l),this.fullPersistenceKey=zf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yd(this.auth,{idToken:e}).catch(()=>{});return t?hi._fromGetAccountInfoResponse(this.auth,t,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Cl(ha(lS),e,a);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||ha(lS);const c=zf(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const b=await yd(e,{idToken:_}).catch(()=>{});if(!b)break;E=await hi._fromGetAccountInfoResponse(e,b,_)}else E=hi._fromJSON(e,_);g!==l&&(d=E),l=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Cl(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Cl(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||D1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function C1(n=Yn()){return/firefox\//i.test(n)}function I1(n=Yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D1(n=Yn()){return/crios\//i.test(n)}function N1(n=Yn()){return/iemobile/i.test(n)}function x1(n=Yn()){return/android/i.test(n)}function O1(n=Yn()){return/blackberry/i.test(n)}function M1(n=Yn()){return/webos/i.test(n)}function D_(n=Yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LV(n=Yn()){var e;return D_(n)&&!!((e=window.navigator)!=null&&e.standalone)}function UV(){return Mx()&&document.documentMode===10}function P1(n=Yn()){return D_(n)||x1(n)||M1(n)||O1(n)||/windows phone/i.test(n)||N1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n,e=[]){let t;switch(n){case"Browser":t=uS(Yn());break;case"Worker":t=`${uS(Yn())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ql}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=t,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(n,e={}){return Ql(n,"GET","/v2/passwordPolicy",C_(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=6;class FV{constructor(e){var a;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??BV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t,a,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cS(this),this.idTokenSubscription=new cS(this),this.beforeStateQueue=new jV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ha(t)),this._initializationPromise=this.queue(async()=>{var a,s,l;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yd(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ui(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(co(this));const t=e?Rn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zV(this),t=new FV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await kV(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ha(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[ha(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&vV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function rm(n){return Rn(n)}class cS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bx(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qV(n){N_=n}function GV(n){return N_.loadJS(n)}function $V(){return N_.gapiScript}function KV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(n,e){const t=zy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(fo(l,e??{}))return s;zi(s,"already-initialized")}return t.initialize({options:e})}function QV(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(ha);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function XV(n,e,t){const a=rm(n);$e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,l=k1(e),{host:c,port:d}=WV(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){$e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),$e(fo(g,a.config.emulator)&&fo(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,Hl(c)?(OA(`${l}//${c}${p}`),MA("Auth",!0)):JV()}function k1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function WV(n){const e=k1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:hS(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:hS(c)}}}function hS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function JV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,t){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e){return CV(n,"POST","/v1/accounts:signInWithIdp",C_(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="http://localhost";class yo extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s,...l}=t;if(!a||!s)return null;const c=new yo(a,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Il(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Il(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Il(e,t)}buildRequest(){const e={requestUri:ZV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends x_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Yc{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return ua.credential(t,a)}catch{return null}}}ua.GOOGLE_SIGN_IN_METHOD="google.com";ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Yc{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Yc{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ss.credential(t,a)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,s=!1){const l=await hi._fromIdTokenResponse(e,a,s),c=fS(a);return new Ul({user:l,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const s=fS(a);return new Ul({user:e,providerId:s,_tokenResponse:a,operationType:t})}}function fS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends Ea{constructor(e,t,a,s){super(t.code,t.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,s){return new vd(e,t,a,s)}}function U1(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(n,l,e,a):l})}async function e4(n,e,t=!1){const a=await Ac(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ul._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e,t=!1){const{auth:a}=n;if(ui(a.app))return Promise.reject(co(a));const s="reauthenticate";try{const l=await Ac(n,U1(a,s,e,n),t);$e(l.idToken,a,"internal-error");const c=I_(l.idToken);$e(c,a,"internal-error");const{sub:d}=c;return $e(n.uid===d,a,"user-mismatch"),Ul._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zi(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(n,e,t=!1){if(ui(n.app))return Promise.reject(co(n));const a="signIn",s=await U1(n,a,e),l=await Ul._fromIdTokenResponse(n,a,s);return t||await n._updateCurrentUser(l.user),l}function r4(n,e,t,a){return Rn(n).onIdTokenChanged(e,t,a)}function i4(n,e,t){return Rn(n).beforeAuthStateChanged(e,t)}function a4(n,e,t,a){return Rn(n).onAuthStateChanged(e,t,a)}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=1e3,o4=10;class z1 extends j1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),s=this.localCache[t];a!==s&&e(t,s,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);UV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,o4):s()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const l4=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends j1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B1.type="SESSION";const F1=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const a=new im(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await u4(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=O_("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:s,onMessage(E){const b=E;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function h4(n){Li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function f4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function m4(){return H1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebaseLocalStorageDb",p4=1,Td="firebaseLocalStorage",G1="fbase_key";class Qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function am(n,e){return n.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function g4(){const n=indexedDB.deleteDatabase(q1);return new Qc(n).toPromise()}function _y(){const n=indexedDB.open(q1,p4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(Td,{keyPath:G1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(Td)?e(a):(a.close(),await g4(),e(await _y()))})})}async function dS(n,e,t){const a=am(n,!0).put({[G1]:e,value:t});return new Qc(a).toPromise()}async function y4(n,e){const t=am(n,!1).get(e),a=await new Qc(t).toPromise();return a===void 0?null:a.value}function mS(n,e){const t=am(n,!0).delete(e);return new Qc(t).toPromise()}const _4=800,v4=3;class $1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>v4)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(m4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,a;if(this.activeServiceWorker=await f4(),!this.activeServiceWorker)return;this.sender=new c4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await dS(e,Ed,"1"),await mS(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>dS(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>y4(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=am(s,!1).getAll();return new Qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$1.type="LOCAL";const E4=$1;new Kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n,e){return e?ha(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends L1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function T4(n){return n4(n.auth,new M_(n),n.bypassAuthState)}function b4(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),t4(t,new M_(n),n.bypassAuthState)}async function S4(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),e4(t,new M_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,a,s,l=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T4;case"linkViaPopup":case"linkViaRedirect":return S4;case"reauthViaPopup":case"reauthViaRedirect":return b4;default:zi(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Kc(2e3,1e4);async function w4(n,e,t){if(ui(n.app))return Promise.reject(di(n,"operation-not-supported-in-this-environment"));const a=rm(n);EV(n,e,x_);const s=K1(a,t);return new oo(a,"signInViaPopup",e,s).executeNotNull()}class oo extends Y1{constructor(e,t,a,s,l){super(e,t,s,l),this.provider=a,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=O_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if((a=(t=this.authWindow)==null?void 0:t.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A4.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="pendingRedirect",Bf=new Map;class C4 extends Y1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const a=await I4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I4(n,e){const t=x4(e),a=N4(n);if(!await a._isAvailable())return!1;const s=await a._get(t)==="true";return await a._remove(t),s}function D4(n,e){Bf.set(n._key(),e)}function N4(n){return ha(n._redirectPersistence)}function x4(n){return zf(R4,n.config.apiKey,n.name)}async function O4(n,e,t=!1){if(ui(n.app))return Promise.reject(co(n));const a=rm(n),s=K1(a,e),c=await new C4(a,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=600*1e3;class P4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!Q1(e)){const s=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";t.onError(di(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M4&&this.cachedEventUids.clear(),this.cachedEventUids.has(pS(e))}saveEventToCache(e){this.cachedEventUids.add(pS(e)),this.lastProcessedEventTime=Date.now()}}function pS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Q1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(n,e={}){return Ql(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U4=/^https?/;async function j4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await k4(n);for(const t of e)try{if(z4(t))return}catch{}zi(n,"unauthorized-domain")}function z4(n){const e=gy(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!U4.test(t))return!1;if(L4.test(n))return a===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Kc(3e4,6e4);function gS(){const n=Li().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function F4(n){return new Promise((e,t)=>{var s,l,c;function a(){gS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gS(),t(di(n,"network-request-failed"))},timeout:B4.get()})}if((l=(s=Li().gapi)==null?void 0:s.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=Li().gapi)!=null&&c.load)a();else{const d=KV("iframefcb");return Li()[d]=()=>{gapi.load?a():t(di(n,"network-request-failed"))},GV(`${$V()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ff=null,e})}let Ff=null;function H4(n){return Ff=Ff||F4(n),Ff}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Kc(5e3,15e3),G4="__/auth/iframe",$4="emulator/auth/iframe",K4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q4(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?R_(e,$4):`https://${n.config.authDomain}/${G4}`,a={apiKey:e.apiKey,appName:n.name,v:ql},s=Y4.get(n.config.apiHost);s&&(a.eid=s);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Pc(a).slice(1)}`}async function X4(n){const e=await H4(n),t=Li().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:Q4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K4,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const c=di(n,"network-request-failed"),d=Li().setTimeout(()=>{l(c)},q4.get());function p(){Li().clearTimeout(d),s(a)}a.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J4=500,Z4=600,ek="_blank",tk="http://localhost";class yS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nk(n,e,t,a=J4,s=Z4){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...W4,width:a.toString(),height:s.toString(),top:l,left:c},g=Yn().toLowerCase();t&&(d=D1(g)?ek:t),C1(g)&&(e=e||tk,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[R,L])=>`${b}${R}=${L},`,"");if(LV(g)&&d!=="_self")return rk(e||"",d),new yS(null);const E=window.open(e||"",d,_);$e(E,n,"popup-blocked");try{E.focus()}catch{}return new yS(E)}function rk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="__/auth/handler",ak="emulator/auth/handler",sk=encodeURIComponent("fac");async function _S(n,e,t,a,s,l){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:ql,eventId:s};if(e instanceof x_){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",zx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Yc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),g=p?`#${sk}=${encodeURIComponent(p)}`:"";return`${ok(n)}?${Pc(d).slice(1)}${g}`}function ok({config:n}){return n.emulator?R_(n,ak):`https://${n.authDomain}/${ik}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="webStorageSupport";class lk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=O4,this._overrideRedirectResult=D4}async _openPopup(e,t,a,s){var c;ya((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await _S(e,t,a,gy(),s);return nk(e,l,O_())}async _openRedirect(e,t,a,s){await this._originValidation(e);const l=await _S(e,t,a,gy(),s);return h4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(ya(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await X4(e),a=new P4(e);return t.register("authEvent",s=>($e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lg,{type:Lg},s=>{var c;const l=(c=s==null?void 0:s[0])==null?void 0:c[Lg];l!==void 0&&t(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P1()||I1()||D_()}}const uk=lk;var vS="@firebase/auth",ES="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fk(n){Nl(new mo("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(n)},g=new HV(a,s,l,p);return QV(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Nl(new mo("auth-internal",e=>{const t=rm(e.getProvider("auth").getImmediate());return(a=>new ck(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(vS,ES,hk(n)),ds(vS,ES,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=300,mk=xA("authIdTokenMaxAge")||dk;let TS=null;const pk=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>mk)return;const s=t==null?void 0:t.token;TS!==s&&(TS=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gk(n=LA()){const e=zy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=YV(n,{popupRedirectResolver:uk,persistence:[E4,l4,F1]}),a=xA("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=pk(l.toString());i4(t,c,()=>c(t.currentUser)),r4(t,d=>c(d))}}const s=DA("auth");return s&&XV(t,`http://${s}`),t}function yk(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}qV({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=s=>{const l=di("internal-error");l.customData=s,t(l)},a.type="text/javascript",a.charset="UTF-8",yk().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fk("Browser");const _k={BASE_URL:"/GIG_Roster/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"chris.sm.kang542@gmail.com",VITE_FIREBASE_API_KEY:"AIzaSyBrABPwgyh2eahhQZEqjh7vXgNLxtSoOcY",VITE_FIREBASE_APP_ID:"1:770561557903:web:fbcc85b6e9be1e06b2f7fa",VITE_FIREBASE_AUTH_DOMAIN:"gig-roster.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"770561557903",VITE_FIREBASE_PROJECT_ID:"gig-roster",VITE_FIREBASE_STORAGE_BUCKET:"gig-roster.firebasestorage.app"};function cl(n){const e=_k[n];if(!e)throw new Error(`Missing environment variable: ${n}. Did you forget to create a .env.local?`);return e}const vk={apiKey:cl("VITE_FIREBASE_API_KEY"),authDomain:cl("VITE_FIREBASE_AUTH_DOMAIN"),projectId:cl("VITE_FIREBASE_PROJECT_ID"),storageBucket:cl("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:cl("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:cl("VITE_FIREBASE_APP_ID")},X1=kA(vk),jl=gk(X1),Ek=new ua,Cn=nV(X1),W1=P.createContext(void 0),Tk=({children:n})=>{const[e,t]=P.useState(()=>{const c=localStorage.getItem("app-theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),a=P.useCallback(c=>{document.documentElement.setAttribute("data-theme",c),localStorage.setItem("app-theme",c)},[]);P.useEffect(()=>{a(e)},[e,a]);const s=P.useCallback(c=>{t(c),a(c);const d=jl.currentUser;if(d){const p=Wr(Cn,"users",d.uid);nm(p,{preferredTheme:c}).catch(g=>console.error("Error updating preferred theme in Firebase:",g))}},[a]),l=P.useCallback(()=>{t(c=>c==="light"?"dark":"light")},[t]);return P.useEffect(()=>jl.onAuthStateChanged(async d=>{if(d){const p=Wr(Cn,"users",d.uid),g=await Gc(p);if(g.exists()&&g.data().preferredTheme){const _=g.data().preferredTheme;t(_),a(_)}}}),[a]),A.jsx(W1.Provider,{value:{theme:e,toggleTheme:l,setTheme:s},children:n})},bk="_spinner_5jyct_1",Sk="_spinnerContainer_5jyct_19",bS={spinner:bk,spinnerContainer:Sk},Xl=({container:n=!0})=>{const e=A.jsx("div",{className:bS.spinner});return n?A.jsx("div",{className:bS.spinnerContainer,children:e}):e},Ak="_loadingContainer_1n1m5_1",wk={loadingContainer:Ak},zl=()=>A.jsx("div",{className:wk.loadingContainer,children:A.jsx(Xl,{container:!1})}),Rk=()=>{const n=ct(a=>a.auth.firebaseUser),e=ct(a=>a.auth.userData);return ct(a=>a.auth.loading)?A.jsx(zl,{}):n?e?e.isApproved?A.jsx(cs,{to:"/app/dashboard",replace:!0}):A.jsx(cs,{to:"/guest",replace:!0}):A.jsx(zl,{}):A.jsx(cs,{to:"/login",replace:!0})};function Ln(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Ck=typeof Symbol=="function"&&Symbol.observable||"@@observable",SS=Ck,Ug=()=>Math.random().toString(36).substring(7).split("").join("."),Ik={INIT:`@@redux/INIT${Ug()}`,REPLACE:`@@redux/REPLACE${Ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ug()}`},bd=Ik;function P_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function J1(n,e,t){if(typeof n!="function")throw new Error(Ln(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ln(1));return t(J1)(n,e)}let a=n,s=e,l=new Map,c=l,d=0,p=!1;function g(){c===l&&(c=new Map,l.forEach((j,Y)=>{c.set(Y,j)}))}function _(){if(p)throw new Error(Ln(3));return s}function E(j){if(typeof j!="function")throw new Error(Ln(4));if(p)throw new Error(Ln(5));let Y=!0;g();const F=d++;return c.set(F,j),function(){if(Y){if(p)throw new Error(Ln(6));Y=!1,g(),c.delete(F),l=null}}}function b(j){if(!P_(j))throw new Error(Ln(7));if(typeof j.type>"u")throw new Error(Ln(8));if(typeof j.type!="string")throw new Error(Ln(17));if(p)throw new Error(Ln(9));try{p=!0,s=a(s,j)}finally{p=!1}return(l=c).forEach(F=>{F()}),j}function R(j){if(typeof j!="function")throw new Error(Ln(10));a=j,b({type:bd.REPLACE})}function L(){const j=E;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(Ln(11));function F(){const ee=Y;ee.next&&ee.next(_())}return F(),{unsubscribe:j(F)}},[SS](){return this}}}return b({type:bd.INIT}),{dispatch:b,subscribe:E,getState:_,replaceReducer:R,[SS]:L}}function Dk(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:bd.INIT})>"u")throw new Error(Ln(12));if(typeof t(void 0,{type:bd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function Nk(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const a=Object.keys(t);let s;try{Dk(t)}catch(l){s=l}return function(c={},d){if(s)throw s;let p=!1;const g={};for(let _=0;_<a.length;_++){const E=a[_],b=t[E],R=c[E],L=b(R,d);if(typeof L>"u")throw d&&d.type,new Error(Ln(14));g[E]=L,p=p||L!==R}return p=p||a.length!==Object.keys(c).length,p?g:c}}function Sd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...a)=>e(t(...a)))}function xk(...n){return e=>(t,a)=>{const s=e(t,a);let l=()=>{throw new Error(Ln(15))};const c={getState:s.getState,dispatch:(p,...g)=>l(p,...g)},d=n.map(p=>p(c));return l=Sd(...d)(s.dispatch),{...s,dispatch:l}}}function Ok(n){return P_(n)&&"type"in n&&typeof n.type=="string"}var Z1=Symbol.for("immer-nothing"),AS=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function ci(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Dr=Object,Bl=Dr.getPrototypeOf,Ad="constructor",sm="prototype",vy="configurable",wd="enumerable",Hf="writable",wc="value",_a=n=>!!n&&!!n[tr];function pi(n){var e;return n?eR(n)||lm(n)||!!n[AS]||!!((e=n[Ad])!=null&&e[AS])||um(n)||cm(n):!1}var Mk=Dr[sm][Ad].toString(),wS=new WeakMap;function eR(n){if(!n||!V_(n))return!1;const e=Bl(n);if(e===null||e===Dr[sm])return!0;const t=Dr.hasOwnProperty.call(e,Ad)&&e[Ad];if(t===Object)return!0;if(!vl(t))return!1;let a=wS.get(t);return a===void 0&&(a=Function.toString.call(t),wS.set(t,a)),a===Mk}function om(n,e,t=!0){Xc(n)===0?(t?Reflect.ownKeys(n):Dr.keys(n)).forEach(s=>{e(s,n[s],n)}):n.forEach((a,s)=>e(s,a,n))}function Xc(n){const e=n[tr];return e?e.type_:lm(n)?1:um(n)?2:cm(n)?3:0}var RS=(n,e,t=Xc(n))=>t===2?n.has(e):Dr[sm].hasOwnProperty.call(n,e),Ey=(n,e,t=Xc(n))=>t===2?n.get(e):n[e],Rd=(n,e,t,a=Xc(n))=>{a===2?n.set(e,t):a===3?n.add(t):n[e]=t};function Pk(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var lm=Array.isArray,um=n=>n instanceof Map,cm=n=>n instanceof Set,V_=n=>typeof n=="object",vl=n=>typeof n=="function",jg=n=>typeof n=="boolean";function Vk(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var la=n=>n.copy_||n.base_,k_=n=>n.modified_?n.copy_:n.base_;function Ty(n,e){if(um(n))return new Map(n);if(cm(n))return new Set(n);if(lm(n))return Array[sm].slice.call(n);const t=eR(n);if(e===!0||e==="class_only"&&!t){const a=Dr.getOwnPropertyDescriptors(n);delete a[tr];let s=Reflect.ownKeys(a);for(let l=0;l<s.length;l++){const c=s[l],d=a[c];d[Hf]===!1&&(d[Hf]=!0,d[vy]=!0),(d.get||d.set)&&(a[c]={[vy]:!0,[Hf]:!0,[wd]:d[wd],[wc]:n[c]})}return Dr.create(Bl(n),a)}else{const a=Bl(n);if(a!==null&&t)return{...n};const s=Dr.create(a);return Dr.assign(s,n)}}function L_(n,e=!1){return hm(n)||_a(n)||!pi(n)||(Xc(n)>1&&Dr.defineProperties(n,{set:wf,add:wf,clear:wf,delete:wf}),Dr.freeze(n),e&&om(n,(t,a)=>{L_(a,!0)},!1)),n}function kk(){ci(2)}var wf={[wc]:kk};function hm(n){return n===null||!V_(n)?!0:Dr.isFrozen(n)}var Cd="MapSet",by="Patches",CS="ArrayMethods",tR={};function _o(n){const e=tR[n];return e||ci(0,n),e}var IS=n=>!!tR[n],Rc,nR=()=>Rc,Lk=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IS(Cd)?_o(Cd):void 0,arrayMethodsPlugin_:IS(CS)?_o(CS):void 0});function DS(n,e){e&&(n.patchPlugin_=_o(by),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Sy(n){Ay(n),n.drafts_.forEach(Uk),n.drafts_=null}function Ay(n){n===Rc&&(Rc=n.parent_)}var NS=n=>Rc=Lk(Rc,n);function Uk(n){const e=n[tr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xS(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[tr].modified_&&(Sy(e),ci(4)),pi(n)&&(n=OS(e,n));const{patchPlugin_:s}=e;s&&s.generateReplacementPatches_(t[tr].base_,n,e)}else n=OS(e,t);return jk(e,n,!0),Sy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Z1?n:void 0}function OS(n,e){if(hm(e))return e;const t=e[tr];if(!t)return Id(e,n.handledSet_,n);if(!fm(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:a}=t;if(a)for(;a.length>0;)a.pop()(n);aR(t,n)}return t.copy_}function jk(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&L_(e,t)}function rR(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var fm=(n,e)=>n.scope_===e,zk=[];function iR(n,e,t,a){const s=la(n),l=n.type_;if(a!==void 0&&Ey(s,a,l)===e){Rd(s,a,t,l);return}if(!n.draftLocations_){const d=n.draftLocations_=new Map;om(s,(p,g)=>{if(_a(g)){const _=d.get(g)||[];_.push(p),d.set(g,_)}})}const c=n.draftLocations_.get(e)??zk;for(const d of c)Rd(s,d,t,l)}function Bk(n,e,t){n.callbacks_.push(function(s){var d;const l=e;if(!l||!fm(l,s))return;(d=s.mapSetPlugin_)==null||d.fixSetContents(l);const c=k_(l);iR(n,l.draft_??l,c,t),aR(l,s)})}function aR(n,e){var a;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((a=n.assigned_)==null?void 0:a.size)??0)>0)){const{patchPlugin_:s}=e;if(s){const l=s.getPath(n);l&&s.generatePatches_(n,l,e)}rR(n)}}function Fk(n,e,t){const{scope_:a}=n;if(_a(t)){const s=t[tr];fm(s,a)&&s.callbacks_.push(function(){qf(n);const c=k_(s);iR(n,t,c,e)})}else pi(t)&&n.callbacks_.push(function(){const l=la(n);n.type_===3?l.has(t)&&Id(t,a.handledSet_,a):Ey(l,e,n.type_)===t&&a.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Id(Ey(n.copy_,e,n.type_),a.handledSet_,a)})}function Id(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||_a(n)||e.has(n)||!pi(n)||hm(n)||(e.add(n),om(n,(a,s)=>{if(_a(s)){const l=s[tr];if(fm(l,t)){const c=k_(l);Rd(n,a,c,n.type_),rR(l)}}else pi(s)&&Id(s,e,t)})),n}function Hk(n,e){const t=lm(n),a={type_:t?1:0,scope_:e?e.scope_:nR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,l=Dd;t&&(s=[a],l=Cc);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return a.draft_=d,a.revoke_=c,[d,a]}var Dd={get(n,e){if(e===tr)return n;let t=n.scope_.arrayMethodsPlugin_;const a=n.type_===1&&typeof e=="string";if(a&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const s=la(n);if(!RS(s,e,n.type_))return qk(n,s,e);const l=s[e];if(n.finalized_||!pi(l)||a&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&Vk(e))return l;if(l===zg(n.base_,e)){qf(n);const c=n.type_===1?+e:e,d=Ry(n.scope_,l,n,c);return n.copy_[c]=d}return l},has(n,e){return e in la(n)},ownKeys(n){return Reflect.ownKeys(la(n))},set(n,e,t){const a=sR(la(n),e);if(a!=null&&a.set)return a.set.call(n.draft_,t),!0;if(!n.modified_){const s=zg(la(n),e),l=s==null?void 0:s[tr];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(Pk(t,s)&&(t!==void 0||RS(n.base_,e,n.type_)))return!0;qf(n),wy(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),Fk(n,e,t)),!0},deleteProperty(n,e){return qf(n),zg(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),wy(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=la(n),a=Reflect.getOwnPropertyDescriptor(t,e);return a&&{[Hf]:!0,[vy]:n.type_!==1||e!=="length",[wd]:a[wd],[wc]:t[e]}},defineProperty(){ci(11)},getPrototypeOf(n){return Bl(n.base_)},setPrototypeOf(){ci(12)}},Cc={};for(let n in Dd){let e=Dd[n];Cc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}Cc.deleteProperty=function(n,e){return Cc.set.call(this,n,e,void 0)};Cc.set=function(n,e,t){return Dd.set.call(this,n[0],e,t,n[0])};function zg(n,e){const t=n[tr];return(t?la(t):n)[e]}function qk(n,e,t){var s;const a=sR(e,t);return a?wc in a?a[wc]:(s=a.get)==null?void 0:s.call(n.draft_):void 0}function sR(n,e){if(!(e in n))return;let t=Bl(n);for(;t;){const a=Object.getOwnPropertyDescriptor(t,e);if(a)return a;t=Bl(t)}}function wy(n){n.modified_||(n.modified_=!0,n.parent_&&wy(n.parent_))}function qf(n){n.copy_||(n.assigned_=new Map,n.copy_=Ty(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Gk=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,a)=>{if(vl(e)&&!vl(t)){const l=t;t=e;const c=this;return function(p=l,...g){return c.produce(p,_=>t.call(this,_,...g))}}vl(t)||ci(6),a!==void 0&&!vl(a)&&ci(7);let s;if(pi(e)){const l=NS(this),c=Ry(l,e,void 0);let d=!0;try{s=t(c),d=!1}finally{d?Sy(l):Ay(l)}return DS(l,a),xS(s,l)}else if(!e||!V_(e)){if(s=t(e),s===void 0&&(s=e),s===Z1&&(s=void 0),this.autoFreeze_&&L_(s,!0),a){const l=[],c=[];_o(by).generateReplacementPatches_(e,s,{patches_:l,inversePatches_:c}),a(l,c)}return s}else ci(1,e)},this.produceWithPatches=(e,t)=>{if(vl(e))return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let a,s;return[this.produce(e,t,(c,d)=>{a=c,s=d}),a,s]},jg(n==null?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),jg(n==null?void 0:n.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),jg(n==null?void 0:n.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){pi(n)||ci(8),_a(n)&&(n=$k(n));const e=NS(this),t=Ry(e,n,void 0);return t[tr].isManual_=!0,Ay(e),t}finishDraft(n,e){const t=n&&n[tr];(!t||!t.isManual_)&&ci(9);const{scope_:a}=t;return DS(a,e),xS(void 0,a)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const a=_o(by).applyPatches_;return _a(n)?a(n,e):this.produce(n,s=>a(s,e))}};function Ry(n,e,t,a){const[s,l]=um(e)?_o(Cd).proxyMap_(e,t):cm(e)?_o(Cd).proxySet_(e,t):Hk(e,t);return((t==null?void 0:t.scope_)??nR()).drafts_.push(s),l.callbacks_=(t==null?void 0:t.callbacks_)??[],l.key_=a,t&&a!==void 0?Bk(t,l,a):l.callbacks_.push(function(p){var _;(_=p.mapSetPlugin_)==null||_.fixSetContents(l);const{patchPlugin_:g}=p;l.modified_&&g&&g.generatePatches_(l,[],p)}),s}function $k(n){return _a(n)||ci(10,n),oR(n)}function oR(n){if(!pi(n)||hm(n))return n;const e=n[tr];let t,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ty(n,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else t=Ty(n,!0);return om(t,(s,l)=>{Rd(t,s,oR(l))},a),e&&(e.finalized_=!1),t}var Kk=new Gk,lR=Kk.produce;function uR(n){return({dispatch:t,getState:a})=>s=>l=>typeof l=="function"?l(t,a,n):s(l)}var Yk=uR(),Qk=uR,Xk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sd:Sd.apply(null,arguments)},Wk=n=>n&&typeof n.match=="function";function hc(n,e){function t(...a){if(e){let s=e(...a);if(!s)throw new Error(da(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:a[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=a=>Ok(a)&&a.type===n,t}var cR=class nc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,nc.prototype)}static get[Symbol.species](){return nc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new nc(...e[0].concat(this)):new nc(...e.concat(this))}};function MS(n){return pi(n)?lR(n,()=>{}):n}function Rf(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Jk(n){return typeof n=="boolean"}var Zk=()=>function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let c=new cR;return t&&(Jk(t)?c.push(Yk):c.push(Qk(t.extraArgument))),c},eL="RTK_autoBatch",PS=n=>e=>{setTimeout(e,n)},tL=(n={type:"raf"})=>e=>(...t)=>{const a=e(...t);let s=!0,l=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PS(10):n.type==="callback"?n.queueNotification:PS(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},a,{subscribe(_){const E=()=>s&&_(),b=a.subscribe(E);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){var E;try{return s=!((E=_==null?void 0:_.meta)!=null&&E[eL]),l=!s,l&&(c||(c=!0,p(g))),a.dispatch(_)}finally{s=!0}}})},nL=n=>function(t){const{autoBatch:a=!0}=t??{};let s=new cR(n);return a&&s.push(tL(typeof a=="object"?a:void 0)),s};function rL(n){const e=Zk(),{reducer:t=void 0,middleware:a,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(P_(t))d=Nk(t);else throw new Error(da(1));let p;typeof a=="function"?p=a(e):p=e();let g=Sd;s&&(g=Xk({trace:!1,...typeof s=="object"&&s}));const _=xk(...p),E=nL(_);let b=typeof c=="function"?c(E):E();const R=g(...b);return J1(d,l,R)}function hR(n){const e={},t=[];let a;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(da(28));if(d in e)throw new Error(da(29));return e[d]=c,s},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),s},addMatcher(l,c){return t.push({matcher:l,reducer:c}),s},addDefaultCase(l){return a=l,s}};return n(s),[e,t,a]}function iL(n){return typeof n=="function"}function aL(n,e){let[t,a,s]=hR(e),l;if(iL(n))l=()=>MS(n());else{const d=MS(n);l=()=>d}function c(d=l(),p){let g=[t[p.type],...a.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[s]),g.reduce((_,E)=>{if(E)if(_a(_)){const R=E(_,p);return R===void 0?_:R}else{if(pi(_))return lR(_,b=>E(b,p));{const b=E(_,p);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return c.getInitialState=l,c}var sL=(n,e)=>Wk(n)?n.match(e):n(e);function oL(...n){return e=>n.some(t=>sL(t,e))}var lL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uL=(n=21)=>{let e="",t=n;for(;t--;)e+=lL[Math.random()*64|0];return e},cL=["name","message","stack","code"],Bg=class{constructor(n,e){lg(this,"_type");this.payload=n,this.meta=e}},VS=class{constructor(n,e){lg(this,"_type");this.payload=n,this.meta=e}},hL=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of cL)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},kS="External signal was aborted",Pr=(()=>{function n(e,t,a){const s=hc(e+"/fulfilled",(p,g,_,E)=>({payload:p,meta:{...E||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=hc(e+"/pending",(p,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:p,requestStatus:"pending"}})),c=hc(e+"/rejected",(p,g,_,E,b)=>({payload:E,error:(a&&a.serializeError||hL)(p||"Rejected"),meta:{...b||{},arg:_,requestId:g,rejectedWithValue:!!E,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function d(p,{signal:g}={}){return(_,E,b)=>{const R=a!=null&&a.idGenerator?a.idGenerator(p):uL(),L=new AbortController;let z,j;function Y(K){j=K,L.abort()}g&&(g.aborted?Y(kS):g.addEventListener("abort",()=>Y(kS),{once:!0}));const F=(async function(){var ae,te;let K;try{let S=(ae=a==null?void 0:a.condition)==null?void 0:ae.call(a,p,{getState:E,extra:b});if(dL(S)&&(S=await S),S===!1||L.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const w=new Promise((I,O)=>{z=()=>{O({name:"AbortError",message:j||"Aborted"})},L.signal.addEventListener("abort",z,{once:!0})});_(l(R,p,(te=a==null?void 0:a.getPendingMeta)==null?void 0:te.call(a,{requestId:R,arg:p},{getState:E,extra:b}))),K=await Promise.race([w,Promise.resolve(t(p,{dispatch:_,getState:E,extra:b,requestId:R,signal:L.signal,abort:Y,rejectWithValue:(I,O)=>new Bg(I,O),fulfillWithValue:(I,O)=>new VS(I,O)})).then(I=>{if(I instanceof Bg)throw I;return I instanceof VS?s(I.payload,R,p,I.meta):s(I,R,p)})])}catch(S){K=S instanceof Bg?c(null,R,p,S.payload,S.meta):c(S,R,p)}finally{z&&L.signal.removeEventListener("abort",z)}return a&&!a.dispatchConditionRejection&&c.match(K)&&K.meta.condition||_(K),K})();return Object.assign(F,{abort:Y,requestId:R,arg:p,unwrap(){return F.then(fL)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:s,settled:oL(c,s),typePrefix:e})}return n.withTypes=()=>n,n})();function fL(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function dL(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var mL=Symbol.for("rtk-slice-createasyncthunk");function pL(n,e){return`${n}/${e}`}function gL({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[mL];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(da(11));const d=(typeof s.reducers=="function"?s.reducers(_L()):s.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(ee,ae){const te=typeof ee=="string"?ee:ee.type;if(!te)throw new Error(da(12));if(te in g.sliceCaseReducersByType)throw new Error(da(13));return g.sliceCaseReducersByType[te]=ae,_},addMatcher(ee,ae){return g.sliceMatchers.push({matcher:ee,reducer:ae}),_},exposeAction(ee,ae){return g.actionCreators[ee]=ae,_},exposeCaseReducer(ee,ae){return g.sliceCaseReducersByName[ee]=ae,_}};p.forEach(ee=>{const ae=d[ee],te={reducerName:ee,type:pL(l,ee),createNotation:typeof s.reducers=="function"};EL(ae)?bL(te,ae,_,e):vL(te,ae,_)});function E(){const[ee={},ae=[],te=void 0]=typeof s.extraReducers=="function"?hR(s.extraReducers):[s.extraReducers],S={...ee,...g.sliceCaseReducersByType};return aL(s.initialState,w=>{for(let I in S)w.addCase(I,S[I]);for(let I of g.sliceMatchers)w.addMatcher(I.matcher,I.reducer);for(let I of ae)w.addMatcher(I.matcher,I.reducer);te&&w.addDefaultCase(te)})}const b=ee=>ee,R=new Map,L=new WeakMap;let z;function j(ee,ae){return z||(z=E()),z(ee,ae)}function Y(){return z||(z=E()),z.getInitialState()}function F(ee,ae=!1){function te(w){let I=w[ee];return typeof I>"u"&&ae&&(I=Rf(L,te,Y)),I}function S(w=b){const I=Rf(R,ae,()=>new WeakMap);return Rf(I,w,()=>{const O={};for(const[x,M]of Object.entries(s.selectors??{}))O[x]=yL(M,w,()=>Rf(L,w,Y),ae);return O})}return{reducerPath:ee,getSelectors:S,get selectors(){return S(te)},selectSlice:te}}const K={name:l,reducer:j,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:Y,...F(c),injectInto(ee,{reducerPath:ae,...te}={}){const S=ae??c;return ee.inject({reducerPath:S,reducer:j},te),{...K,...F(S,!0)}}};return K}}function yL(n,e,t,a){function s(l,...c){let d=e(l);return typeof d>"u"&&a&&(d=t()),n(d,...c)}return s.unwrapped=n,s}var Ao=gL();function _L(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function vL({type:n,reducerName:e,createNotation:t},a,s){let l,c;if("reducer"in a){if(t&&!TL(a))throw new Error(da(17));l=a.reducer,c=a.prepare}else l=a;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?hc(n,c):hc(n))}function EL(n){return n._reducerDefinitionType==="asyncThunk"}function TL(n){return n._reducerDefinitionType==="reducerWithPrepare"}function bL({type:n,reducerName:e},t,a,s){if(!s)throw new Error(da(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:p,settled:g,options:_}=t,E=s(n,l,_);a.exposeAction(e,E),c&&a.addCase(E.fulfilled,c),d&&a.addCase(E.pending,d),p&&a.addCase(E.rejected,p),g&&a.addMatcher(E.settled,g),a.exposeCaseReducer(e,{fulfilled:c||Cf,pending:d||Cf,rejected:p||Cf,settled:g||Cf})}function Cf(){}function da(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const SL={positions:[],loading:!1,error:null,fetched:!1},gs=Pr("positions/fetchPositions",async(n,{rejectWithValue:e})=>{try{const t=Wr(Cn,"metadata","positions"),a=await Gc(t);if(a.exists()){const s=a.data();return Array.isArray(s.list)?s.list:[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch positions")}}),fR=Pr("positions/updatePositions",async(n,{rejectWithValue:e})=>{try{const t=Wr(Cn,"metadata","positions");return await nm(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update positions")}}),AL=Ao({name:"positions",initialState:SL,reducers:{},extraReducers:n=>{n.addCase(gs.pending,e=>{e.loading=!0,e.error=null}).addCase(gs.fulfilled,(e,t)=>{e.positions=t.payload,e.loading=!1,e.fetched=!0}).addCase(gs.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(fR.fulfilled,(e,t)=>{e.positions=t.payload})}}),wL=AL.reducer,RL={teams:[],loading:!1,error:null,fetched:!1},ho=Pr("teams/fetchTeams",async(n,{rejectWithValue:e})=>{try{const t=Wr(Cn,"metadata","teams"),a=await Gc(t);if(a.exists()){const s=a.data();return Array.isArray(s.list)?s.list.map(c=>({...c,maxConflict:c.maxConflict||1})):[]}return[]}catch(t){return e(t instanceof Error?t.message:"Failed to fetch teams")}}),Gf=Pr("teams/updateTeams",async(n,{rejectWithValue:e})=>{try{const t=Wr(Cn,"metadata","teams");return await nm(t,{list:n}),n}catch(t){return e(t instanceof Error?t.message:"Failed to update teams")}}),dR=Ao({name:"teams",initialState:RL,reducers:{clearError:n=>{n.error=null}},extraReducers:n=>{n.addCase(ho.pending,e=>{e.loading=!0,e.error=null}).addCase(ho.fulfilled,(e,t)=>{e.teams=t.payload,e.loading=!1,e.fetched=!0}).addCase(ho.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Gf.pending,e=>{e.error=null}).addCase(Gf.fulfilled,(e,t)=>{e.teams=t.payload}).addCase(Gf.rejected,(e,t)=>{e.error=t.payload})}}),{clearError:l6}=dR.actions,CL=dR.reducer,IL=()=>{const n=ei(),{firebaseUser:e,userData:t,loading:a}=ct(p=>p.auth),{fetched:s,loading:l}=ct(p=>p.teams),{fetched:c,loading:d}=ct(p=>p.positions);return P.useEffect(()=>{e&&(t!=null&&t.isApproved)&&(!s&&!l&&n(ho()),!c&&!d&&n(gs()))},[n,e,t,s,l,c,d]),a||t!=null&&t.isApproved&&(!s||!c)?A.jsx(zl,{}):e?t?t.isApproved?A.jsx(EA,{}):A.jsx(cs,{to:"/guest",replace:!0}):A.jsx(zl,{}):A.jsx(cs,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=(...n)=>n.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=n=>{const e=NL(n);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...d},p)=>P.createElement("svg",{ref:p,...xL,width:e,height:e,stroke:n,strokeWidth:a?Number(t)*24/Number(e):t,className:mR("lucide",s),...!l&&!OL(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>P.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=(n,e)=>{const t=P.forwardRef(({className:a,...s},l)=>P.createElement(ML,{ref:l,iconNode:e,className:mR(`lucide-${DL(LS(n))}`,`lucide-${n}`,a),...s}));return t.displayName=LS(n),t};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pR=Cs("chevron-up",PL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],kL=Cs("copy",VL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],gR=Cs("corner-down-right",LL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jL=Cs("moon",UL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],BL=Cs("panel-left-close",zL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],HL=Cs("panel-left-open",FL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],GL=Cs("sun",qL);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KL=Cs("x",$L),YL=()=>{try{const n=localStorage.getItem("hidden-users");return n?JSON.parse(n):{}}catch{return{}}},QL={isMobileSidebarOpen:!1,isDesktopSidebarExpanded:!0,expandedTeams:[],hiddenUsers:YL(),lastVisitedPaths:{}},yR=Ao({name:"ui",initialState:QL,reducers:{setMobileSidebarOpen:(n,e)=>{n.isMobileSidebarOpen=e.payload},setDesktopSidebarExpanded:(n,e)=>{n.isDesktopSidebarExpanded=e.payload},setLastVisitedPath:(n,e)=>{const{tabId:t,path:a}=e.payload;n.lastVisitedPaths[t]=a},toggleTeamExpansion:(n,e)=>{const t=e.payload,a=n.expandedTeams.indexOf(t);a>=0?n.expandedTeams.splice(a,1):n.expandedTeams.push(t)},toggleUserVisibility:(n,e)=>{const{teamName:t,positionName:a,userEmail:s}=e.payload;n.hiddenUsers[t]||(n.hiddenUsers[t]={}),n.hiddenUsers[t][a]||(n.hiddenUsers[t][a]=[]);const l=n.hiddenUsers[t][a],c=l.indexOf(s);c>=0?l.splice(c,1):l.push(s),localStorage.setItem("hidden-users",JSON.stringify(n.hiddenUsers))}}}),{setMobileSidebarOpen:rc,setDesktopSidebarExpanded:XL,setLastVisitedPath:WL,toggleTeamExpansion:JL,toggleUserVisibility:ZL}=yR.actions,eU=yR.reducer,tU=()=>{const n=P.useContext(W1);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},nU="_themeToggleButton_yikav_1",rU={themeToggleButton:nU},dm=({showText:n,className:e})=>{const{theme:t,toggleTheme:a}=tU();return A.jsxs("button",{className:`${rU.themeToggleButton} ${e||""}`,onClick:a,"aria-label":"Toggle theme",children:[t==="dark"?A.jsx(GL,{size:20}):A.jsx(jL,{size:20}),n&&A.jsx("span",{children:"Toggle theme"})]})},iU="_mobileHeader_rrb9m_1",aU="_mobileHeaderPill_rrb9m_16",sU="_mobileHeaderPillDisabled_rrb9m_28",oU="_mobileHeaderPillActive_rrb9m_32",lU="_mobileHeaderText_rrb9m_43",uU="_mobileHeaderChevron_rrb9m_51",cU="_rotate_rrb9m_56",to={mobileHeader:iU,mobileHeaderPill:aU,mobileHeaderPillDisabled:sU,mobileHeaderPillActive:oU,mobileHeaderText:lU,mobileHeaderChevron:uU,rotate:cU},hU=({title:n,hasSideNav:e=!0})=>{const t=ei(),{isMobileSidebarOpen:a}=ct(l=>l.ui),s=()=>{e&&t(rc(!a))};return A.jsxs("header",{className:to.mobileHeader,children:[A.jsxs("div",{className:`${to.mobileHeaderPill} ${a?to.mobileHeaderPillActive:""} ${e?"":to.mobileHeaderPillDisabled}`,onClick:s,children:[A.jsx("span",{className:to.mobileHeaderText,children:n}),e&&A.jsx(pR,{className:`${to.mobileHeaderChevron} ${a?to.rotate:""}`})]}),A.jsx(dm,{})]})};var tn=(n=>(n.DASHBOARD="dashboard",n.ROSTER="roster",n.SETTINGS="settings",n))(tn||{}),Tl=(n=>(n.PROFILE="Profile",n.USER_MANAGEMENT="Users",n.POSITIONS="Positions",n.TEAMS="Teams",n))(Tl||{});const U_=[{id:"dashboard",label:"Dashboard",icon:""},{id:"roster",label:"Roster",icon:""},{id:"settings",label:"Settings",icon:""}],US=[{id:"Profile",label:"My Profile",icon:""},{id:"Users",label:"User Management",icon:"",adminOnly:!0},{id:"Teams",label:"Team Management",icon:"",adminOnly:!0},{id:"Positions",label:"Position Setup",icon:"",adminOnly:!0}],fU="_bottomNavContainer_1o01e_1",dU="_bottomNav_1o01e_1",mU="_bottomNavBtn_1o01e_19",pU="_bottomNavBtnActive_1o01e_42",If={bottomNavContainer:fU,bottomNav:dU,bottomNavBtn:mU,bottomNavBtnActive:pU},gU=()=>{const n=Eo(),e=Zr(),{lastVisitedPaths:t}=ct(l=>l.ui),a=e.pathname.includes("/settings")?tn.SETTINGS:e.pathname.includes("/dashboard")?tn.DASHBOARD:tn.ROSTER,s=l=>{if(a===l){l===tn.DASHBOARD&&n("/app/dashboard");return}const c=t[l];n(c||`/app/${l}`)};return A.jsx("nav",{className:If.bottomNavContainer,children:A.jsx("div",{className:If.bottomNav,children:U_.map(l=>A.jsxs("button",{className:`${If.bottomNavBtn} ${a===l.id?If.bottomNavBtnActive:""}`,onClick:()=>s(l.id),children:[A.jsx("span",{children:l.icon}),A.jsx("span",{children:l.label})]},l.id))})})},yU="_sideNav_wbcy2_1",_U="_menuOpen_wbcy2_21",vU="_sidebarContent_wbcy2_27",EU="_tabletSidebarHeader_wbcy2_34",TU="_sideMenuList_wbcy2_38",bU="_sidenavMenuSubheading_wbcy2_43",SU="_sideNavItem_wbcy2_67",AU="_sideNavItemActive_wbcy2_95",wU="_sideEmoji_wbcy2_102",RU="_loading_wbcy2_109",CU="_sidebarToggleButton_wbcy2_116",IU="_sidebarFooter_wbcy2_117",DU="_sidebarCollapsed_wbcy2_173",NU="_adminOnlySectionWrapper_wbcy2_194",At={sideNav:yU,menuOpen:_U,sidebarContent:vU,tabletSidebarHeader:EU,sideMenuList:TU,sidenavMenuSubheading:bU,sideNavItem:SU,sideNavItemActive:AU,sideEmoji:wU,loading:RU,sidebarToggleButton:CU,sidebarFooter:IU,sidebarCollapsed:DU,adminOnlySectionWrapper:NU},xU=()=>{var ae;const n=Eo(),e=Zr(),t=Vd(),a=ei(),{userData:s}=ct(te=>te.auth),{isDesktopSidebarExpanded:l,isMobileSidebarOpen:c,expandedTeams:d}=ct(te=>te.ui),{teams:p,fetched:g,loading:_}=ct(te=>te.teams),{fetched:E}=ct(te=>te.positions),b=e.pathname.includes("/settings")?tn.SETTINGS:e.pathname.includes("/dashboard")?tn.DASHBOARD:tn.ROSTER,{teamName:R,positionName:L,section:z}=t,j=L||z;P.useEffect(()=>{g||a(ho()),E||a(gs())},[a,g,E]);const Y=P.useCallback(te=>{n(te)},[n]),F=te=>{a(JL(te))},K=()=>{const te=U_.find(w=>w.id===b),S=te?te.label:"GIG ROSTER";return R&&j?`${R}  ${j}`:R||(j?`${S}  ${j}`:S)},ee=[At.sideNav,c?At.menuOpen:"",l?"":At.sidebarCollapsed].filter(Boolean).join(" ");return A.jsxs("aside",{className:ee,children:[A.jsxs("div",{className:At.sidebarContent,children:[A.jsxs("div",{className:At.tabletSidebarHeader,children:[l&&A.jsx("h3",{children:K()}),A.jsx("button",{className:At.sidebarToggleButton,onClick:()=>a(XL(!l)),"aria-label":l?"Collapse sidebar":"Expand sidebar",children:l?A.jsx(BL,{size:20}):A.jsx(HL,{size:20})})]}),A.jsxs("nav",{className:At.sideMenuList,children:[b===tn.ROSTER&&_&&A.jsx("div",{className:`${At.sideNavItem} ${At.loading}`,children:"Loading teams..."}),b===tn.ROSTER?(ae=s==null?void 0:s.teams)==null?void 0:ae.map(te=>{var O,x;const S=p.find(M=>M.name===te);if(!S)return null;const w=s.teams.length===1,I=w||d.includes(S.name);return A.jsxs("div",{children:[!w&&A.jsxs("div",{className:`${At.sidenavMenuSubheading} ${At.sidenavMenuSubheadingClickable}`,style:{cursor:"pointer"},onClick:()=>F(S.name),children:[A.jsxs("div",{children:[S.emoji," ",l&&S.name]}),A.jsx("span",{className:At.expandIcon,children:I?"":""})]}),I&&A.jsxs("div",{className:At.sideNavSubItems,children:[(x=(O=S.positions)==null?void 0:O.filter(M=>!M.parentId))==null?void 0:x.map(M=>{const D=j===M.name&&R===S.name;return A.jsxs("button",{className:`${At.sideNavItem} ${At.sideNavItemSub} ${D?At.sideNavItemActive:""}`,onClick:()=>{Y(`/app/roster/${S.name}/${M.name}`),a(rc(!1))},style:{borderLeft:D?`4px solid ${M.colour}`:"4px solid transparent",backgroundColor:D?`${M.colour}15`:"transparent",color:D?M.colour:""},children:[A.jsx("span",{className:At.sideEmoji,children:M.emoji})," ",l&&M.name]},M.name)}),A.jsxs("button",{className:`${At.sideNavItem} ${At.sideNavItemSub} ${j==="Absence"&&R===S.name?At.sideNavItemActive:""}`,onClick:()=>{Y(`/app/roster/${S.name}/Absence`),a(rc(!1))},style:{borderLeft:j==="Absence"&&R===S.name?"4px solid var(--color-error)":"4px solid transparent",backgroundColor:j==="Absence"&&R===S.name?"var(--background-toggle-off-transparent)":"transparent"},children:[A.jsx("span",{className:At.sideEmoji,children:""})," ",l&&"Absence"]})]})]},S.name)}):US.filter(te=>!te.adminOnly).map(te=>A.jsxs("button",{className:`${At.sideNavItem} ${j===te.id?At.sideNavItemActive:""}`,onClick:()=>{Y(`/app/settings/${te.id}`),a(rc(!1))},children:[A.jsx("span",{className:At.sideEmoji,children:te.icon})," ",l&&te.label]},te.id))]})]}),(s==null?void 0:s.isAdmin)&&b===tn.SETTINGS&&A.jsxs("div",{className:At.adminOnlySectionWrapper,children:[A.jsx("div",{className:At.sidenavMenuSubheading,children:l&&A.jsx("h4",{children:"Admin Only"})}),US.filter(te=>te.adminOnly).map(te=>A.jsxs("button",{className:`${At.sideNavItem} ${j===te.id?At.sideNavItemActive:""}`,onClick:()=>{Y(`/app/settings/${te.id}`),a(rc(!1))},children:[A.jsx("span",{className:At.sideEmoji,children:te.icon})," ",l&&te.label]},te.id))]}),A.jsx("div",{className:At.sidebarFooter,children:A.jsx(dm,{showText:l})})]})},OU="_layoutWrapper_1iqp0_1",MU="_innerWrapper_1iqp0_13",PU="_mainContent_1iqp0_21",hl={layoutWrapper:OU,innerWrapper:MU,mainContent:PU},VU=()=>{const n=ei(),e=Eo(),t=Zr(),a=Vd(),{userData:s}=ct(j=>j.auth),{teams:l}=ct(j=>j.teams),{isMobileSidebarOpen:c,isDesktopSidebarExpanded:d,lastVisitedPaths:p}=ct(j=>j.ui),g=t.pathname.includes("/settings")?tn.SETTINGS:t.pathname.includes("/dashboard")?tn.DASHBOARD:tn.ROSTER,{teamName:_,positionName:E,section:b}=a,R=E||b||null,L=g!==tn.DASHBOARD;P.useEffect(()=>{const j=g===tn.ROSTER&&!_,Y=g===tn.SETTINGS&&!R;if(t.pathname.startsWith("/app/")&&!j&&!Y&&g!==tn.DASHBOARD){const F=t.pathname+t.search;n(WL({tabId:g,path:F}))}},[t.pathname,t.search,g,_,R,n]),P.useEffect(()=>{var K,ee;const j=t.pathname==="/app"||t.pathname==="/app/",Y=g===tn.ROSTER&&!_,F=g===tn.SETTINGS&&!R;if(j)e(p[tn.DASHBOARD]||"/app/dashboard",{replace:!0});else if(Y){const ae=p[tn.ROSTER];if(ae)e(ae,{replace:!0});else if((K=s==null?void 0:s.teams)!=null&&K[0]&&l.length>0){const te=l.find(S=>S.name===s.teams[0]);(ee=te==null?void 0:te.positions)!=null&&ee[0]&&e(`/app/roster/${te.name}/${te.positions[0].name}`,{replace:!0})}}else if(F){const ae=p[tn.SETTINGS];e(ae||`/app/settings/${Tl.PROFILE}`,{replace:!0})}},[g,_,R,s,l,e,t.pathname,t.search,p]);const z=()=>{const j=U_.find(F=>F.id===g),Y=j?j.label:"GIG ROSTER";return _&&R?`${_}  ${R}`:_||(R?`${Y}  ${R}`:Y)};return A.jsxs("div",{className:`${hl.layoutWrapper} ${c?hl.menuOpen:""} ${d?hl.sidebarExpanded:hl.sidebarCollapsed}`,children:[L&&A.jsx(xU,{}),A.jsxs("div",{className:hl.innerWrapper,children:[A.jsx(hU,{title:z(),hasSideNav:L}),A.jsx("main",{className:hl.mainContent,children:A.jsx(EA,{})}),A.jsx(gU,{})]})]})},kU="_rosterSaveFooter_xkueo_1",LU="_saveFooterContent_xkueo_23",UU="_changesLabel_xkueo_32",jU="_saveFooterActions_xkueo_37",zU="_saveBtn_xkueo_42",BU="_cancelBtn_xkueo_57",FU="_sidebarCollapsed_xkueo_77",HU="_noSidebar_xkueo_81",ts={rosterSaveFooter:kU,saveFooterContent:LU,changesLabel:UU,saveFooterActions:jU,saveBtn:zU,cancelBtn:BU,sidebarCollapsed:FU,noSidebar:HU},Wl=({label:n="You have unsaved changes",onSave:e,onCancel:t,isSaving:a,saveText:s="Save",discardText:l="Discard",hasSideNav:c=!0})=>{const{isDesktopSidebarExpanded:d}=ct(g=>g.ui),p=[ts.rosterSaveFooter,c?"":ts.noSidebar,!d&&c?ts.sidebarCollapsed:""].filter(Boolean).join(" ");return A.jsx("div",{className:p,children:A.jsxs("div",{className:ts.saveFooterContent,children:[A.jsx("span",{className:ts.changesLabel,children:n}),A.jsxs("div",{className:ts.saveFooterActions,children:[A.jsx("button",{className:ts.cancelBtn,onClick:t,disabled:a,children:l}),A.jsx("button",{className:ts.saveBtn,onClick:e,disabled:a,children:a?"Saving...":s})]})]})})},_R=n=>{const e=[];return Object.entries(n).forEach(([t,a])=>{a.forEach(s=>{e.push(`${t}|${s}`)})}),e},vR=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${a}`},Dl=()=>new Intl.DateTimeFormat("en-CA",{timeZone:"Pacific/Auckland",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date),qU={entries:{},dirtyEntries:{},loading:!1,saving:!1,error:null},fc=Pr("roster/fetchEntries",async(n,{rejectWithValue:e})=>{try{const t=qc(Bc(Cn,"roster")),a=await $c(t),s={};return a.docs.forEach(l=>{const c=l.data(),d=c.updatedAt,p={...c,updatedAt:d&&typeof d=="object"&&"toMillis"in d?d.toMillis():d};s[l.id]={...p,id:l.id}}),s}catch(t){return e(t instanceof Error?t.message:"Failed to fetch roster entries")}}),dc=Pr("roster/saveChanges",async(n,{rejectWithValue:e})=>{try{const t=v1(Cn),a=Date.now(),s={};return Object.values(n).forEach(l=>{const c=Wr(Cn,"roster",l.id),d={...l,updatedAt:a};t.set(c,d),s[l.id]=d}),await t.commit(),s}catch(t){return e(t instanceof Error?t.message:"Failed to save roster changes")}}),ER=Ao({name:"roster",initialState:qU,reducers:{clearError:n=>{n.error=null},updateLocalAssignment(n,e){const{date:t,teamName:a,userIdentifier:s,positionGroupNames:l,maxConflict:c}=e.payload,d=n.dirtyEntries[t]||n.entries[t];let p;d?p=JSON.parse(JSON.stringify(d)):p={id:t,date:t,teams:{},absence:{}},p.teams[a]||(p.teams[a]={});const g=p.teams[a][s]||[],_=l.findIndex(L=>g.includes(L)),E=_>=0?l[_]:null;let b=null;E===null?b=l[0]:_<l.length-1?b=l[_+1]:b=null;const R=g.filter(L=>!l.includes(L));if(b)if(R.length<c)R.push(b);else{n.error=`User already has ${c} assignment(s) in this team.`;return}R.length===0?delete p.teams[a][s]:p.teams[a][s]=R,n.dirtyEntries[t]=p},updateLocalEventName(n,e){const{date:t,eventName:a}=e.payload,s=n.dirtyEntries[t]||n.entries[t];let l;s?l=JSON.parse(JSON.stringify(s)):l={id:t,date:t,teams:{},absence:{}},l.eventName=a,n.dirtyEntries[t]=l},resetRosterEdits(n){n.dirtyEntries={},n.error=null},updateLocalAbsence(n,e){var p;const{date:t,userIdentifier:a,reason:s,isAbsent:l}=e.payload,c=n.dirtyEntries[t]||n.entries[t];let d;c?d=JSON.parse(JSON.stringify(c)):d={id:t,date:t,teams:{},absence:{}},l?d.absence[a]={reason:s??((p=d.absence[a])==null?void 0:p.reason)??""}:delete d.absence[a],n.dirtyEntries[t]=d}},extraReducers:n=>{n.addCase(fc.pending,e=>{e.loading=!0,e.error=null}).addCase(fc.fulfilled,(e,t)=>{e.entries=t.payload,e.loading=!1}).addCase(fc.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(dc.pending,e=>{e.saving=!0,e.error=null}).addCase(dc.fulfilled,(e,t)=>{e.entries={...e.entries,...t.payload},e.dirtyEntries={},e.saving=!1}).addCase(dc.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{clearError:u6,updateLocalAssignment:GU,updateLocalEventName:$U,resetRosterEdits:TR,updateLocalAbsence:jS}=ER.actions,KU=ER.reducer,$f=(n,e,t)=>{const a=[],s=new Date;s.setHours(0,0,0,0);const l=s.getFullYear(),c=e||l,d=t||l,p={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},g=n.map(R=>p[R]);let _;c===l?_=new Date(s):_=new Date(c,0,1),_.setHours(0,0,0,0);const E=new Date(d,11,31);E.setHours(23,59,59,999);const b=new Date(_);for(;b.getTime()<=E.getTime();)g.includes(b.getDay())&&a.push(new Date(b)),b.setDate(b.getDate()+1);return a.sort((R,L)=>R.getTime()-L.getTime()),a.map(R=>vR(R))},YU=(n,e,t=5)=>{const a=[],s=new Date(e);s.setHours(0,0,0,0);const l={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},c=n.map(p=>l[p]),d=new Date(s);for(;a.length<t;){d.setDate(d.getDate()-1),c.includes(d.getDay())&&a.push(new Date(d));const p=new Date(s);if(p.setFullYear(p.getFullYear()-1),d<p)break}return a.map(p=>vR(p)).sort()},QU={users:[],allTeamUsers:[],currentTeamData:null,rosterDates:[],loadingUsers:!1,loadingTeam:!1,loadingAllTeamUsers:!1,error:null},Kf=Pr("rosterView/fetchAllTeamUsers",async(n,{rejectWithValue:e})=>{if(!n)return[];try{const t=Bc(Cn,"users"),a=qc(t,T_("teams","array-contains",n)),s=await $c(a),l=[];return s.forEach(c=>{l.push(c.data())}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return console.error("Error fetching team users:",t),e("Failed to load team users.")}}),Yf=Pr("rosterView/fetchUsers",async({teamName:n,positionName:e},{rejectWithValue:t,getState:a})=>{if(!n||!e)return[];try{const c=a().positions.positions.filter(R=>R.parentId===e),p=[e,...c.map(R=>R.name)].map(R=>`${n}|${R}`),g=Bc(Cn,"users"),_=qc(g,T_("indexedAssignments","array-contains-any",p)),E=await $c(_),b=[];return E.forEach(R=>{b.push(R.data())}),b.sort((R,L)=>(R.name||"").localeCompare(L.name||""))}catch(s){return console.error("Error fetching users:",s),t("Failed to load users.")}}),Qf=Pr("rosterView/fetchTeamData",async(n,{rejectWithValue:e})=>{if(!n)return null;try{const t=Wr(Cn,"metadata","teams"),a=await Gc(t);if(a.exists()){const s=a.data();return(Array.isArray(s.list)?s.list.map(d=>({...d,preferredDays:d.preferredDays||[],positions:d.positions||[]})):[]).find(d=>d.name===n)||null}return null}catch(t){return console.error("Error fetching team data:",t),e("Failed to load team data.")}}),bR=Ao({name:"rosterView",initialState:QU,reducers:{loadPreviousDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const e=YU(n.currentTeamData.preferredDays,n.rosterDates[0]);n.rosterDates=[...e,...n.rosterDates]}},resetToUpcomingDates(n){var e;(e=n.currentTeamData)!=null&&e.preferredDays&&(n.rosterDates=$f(n.currentTeamData.preferredDays))},loadNextYearDates(n){if(n.currentTeamData&&n.rosterDates.length>0){const t=new Date(n.rosterDates[n.rosterDates.length-1]).getFullYear()+1,a=$f(n.currentTeamData.preferredDays,t,t);n.rosterDates=[...n.rosterDates,...a]}}},extraReducers:n=>{n.addCase(Yf.pending,e=>{e.loadingUsers=!0,e.users=[],e.error=null}).addCase(Yf.fulfilled,(e,t)=>{e.users=t.payload,e.loadingUsers=!1}).addCase(Yf.rejected,(e,t)=>{e.error=t.payload,e.loadingUsers=!1}).addCase(Kf.pending,e=>{e.loadingAllTeamUsers=!0,e.allTeamUsers=[]}).addCase(Kf.fulfilled,(e,t)=>{e.allTeamUsers=t.payload,e.loadingAllTeamUsers=!1}).addCase(Kf.rejected,(e,t)=>{e.error=t.payload,e.loadingAllTeamUsers=!1}).addCase(Qf.pending,e=>{e.loadingTeam=!0,e.currentTeamData=null,e.rosterDates=[],e.error=null}).addCase(Qf.fulfilled,(e,t)=>{var a;e.currentTeamData=t.payload,(a=t.payload)!=null&&a.preferredDays&&(e.rosterDates=$f(t.payload.preferredDays)),e.loadingTeam=!1}).addCase(Qf.rejected,(e,t)=>{e.error=t.payload,e.loadingTeam=!1})}}),{loadPreviousDates:XU,resetToUpcomingDates:WU,loadNextYearDates:JU}=bR.actions,ZU=bR.reducer,ej="_dashboardContainer_otgys_1",tj="_dashboardHeader_otgys_10",nj="_dashboardHeaderActions_otgys_24",rj="_clearPastBtn_otgys_32",ij="_eventNameContainer_otgys_48",aj="_dashboardEventNameInput_otgys_55",sj="_dashboardEventNameInputHasEvent_otgys_79",oj="_carouselOuterWrapper_otgys_90",lj="_eventsCarouselTrack_otgys_98",uj="_eventCardWrapper_otgys_112",cj="_peek_otgys_123",hj="_active_otgys_129",fj="_eventCardDate_otgys_135",dj="_dashboardTodayBadge_otgys_147",mj="_teamCardsContainer_otgys_158",pj="_teamEventCard_otgys_166",gj="_dashboardThemeToggle_otgys_174",yj="_teamEventHeader_otgys_178",_j="_teamCardEmoji_otgys_197",vj="_teamCardName_otgys_201",Ej="_copyRosterBtn_otgys_205",Tj="_teamEventDetails_otgys_226",bj="_posAssignmentRow_otgys_232",Sj="_posEmojiLabel_otgys_238",Aj="_assignedNames_otgys_244",wj="_unassigned_otgys_250",Rj="_carouselPagination_otgys_258",Cj="_dashboardEmpty_otgys_267",kt={dashboardContainer:ej,dashboardHeader:tj,dashboardHeaderActions:nj,clearPastBtn:rj,eventNameContainer:ij,dashboardEventNameInput:aj,dashboardEventNameInputHasEvent:sj,carouselOuterWrapper:oj,eventsCarouselTrack:lj,eventCardWrapper:uj,peek:cj,active:hj,eventCardDate:fj,dashboardTodayBadge:dj,teamCardsContainer:mj,teamEventCard:pj,dashboardThemeToggle:gj,teamEventHeader:yj,teamCardEmoji:_j,teamCardName:vj,copyRosterBtn:Ej,teamEventDetails:Tj,posAssignmentRow:bj,posEmojiLabel:Sj,assignedNames:Aj,unassigned:wj,carouselPagination:Rj,dashboardEmpty:Cj},Ij=()=>{const n=ei(),[e,t]=ax(),a=e.get("date"),{userData:s}=ct(G=>G.auth),{teams:l}=ct(G=>G.teams),{entries:c,dirtyEntries:d,loading:p,saving:g}=ct(G=>G.roster),{positions:_}=ct(G=>G.positions),[E,b]=P.useState([]),[R,L]=P.useState(!1),[z,j]=P.useState(0),[Y,F]=P.useState(0),[K,ee]=P.useState(!1),ae=P.useRef(null),te=P.useRef(!1),S=Object.keys(d).length>0;P.useEffect(()=>{n(fc())},[n]),P.useEffect(()=>{const G=ae.current;if(!G)return;const oe=new ResizeObserver(ce=>{for(const ge of ce){const Te=ge.contentRect.width;Te>0&&F(Te)}});return oe.observe(G),()=>oe.disconnect()},[p,R]);const w=P.useMemo(()=>{const G=Dl();if(!(s!=null&&s.teams)||l.length===0)return[];const oe=l.filter(Te=>s.teams.includes(Te.name)),ce=new Set;oe.forEach(Te=>{$f(Te.preferredDays).forEach(Ke=>ce.add(Ke))});const ge=Array.from(ce).sort();return a&&a<G?[a]:ge.filter(Te=>{const Ue=Te;if(a===Ue)return!0;const Ke=c[Ue]||d[Ue];return Ke?oe.some(ot=>{var In;const Yt=((In=Ke.teams)==null?void 0:In[ot.name])||{};return Object.values(Yt).some(Et=>Et.length>0)}):!1})},[s,l,c,d,a]);P.useEffect(()=>{if(w.length===0||!ae.current||p||Y===0)return;const G=ae.current,oe=(ce,ge)=>{const Te=G.offsetWidth||Y;Te!==0&&(G.style.scrollSnapType="none",G.scrollTo({left:Te*ce,behavior:ge?"smooth":"auto"}),setTimeout(()=>{G&&(G.style.scrollSnapType="x mandatory"),ee(!0)},50),j(ce),te.current=!0)};if(a){const ce=w.findIndex(ge=>ge===a);if(ce>=0){const ge=Math.round(G.scrollLeft/(G.offsetWidth||Y||1));!te.current||ge!==ce?requestAnimationFrame(()=>{oe(ce,te.current)}):ee(!0)}else ee(!0)}else G.scrollLeft!==0?oe(0,!0):ee(!0),te.current=!0},[a,w,p,Y]);const I=()=>{t({},{replace:!0})};P.useEffect(()=>{(async()=>{if(!(!(s!=null&&s.teams)||s.teams.length===0)){L(!0);try{const oe=Bc(Cn,"users"),ce=qc(oe,T_("teams","array-contains-any",s.teams)),ge=await $c(ce),Te=[];ge.forEach(Ue=>Te.push(Ue.data())),b(Te)}catch(oe){console.error("Error fetching users for dashboard:",oe)}finally{L(!1)}}})()},[s==null?void 0:s.teams]);const O=P.useCallback(G=>{if(!G||!(s!=null&&s.teams)||l.length===0)return null;const oe=G,ce=d[oe]||c[oe],Ue=l.filter(Ke=>s.teams.includes(Ke.name)).map(Ke=>{var Tn;const ot=((Tn=ce==null?void 0:ce.teams)==null?void 0:Tn[Ke.name])||{},Yt=[],In=Ke.positions.map(Qt=>Qt.name);let Et=0;return In.forEach(Qt=>{const ne=_.find(we=>we.name===Qt),ye=[];Object.entries(ot).forEach(([we,Ae])=>{if(Ae.includes(Qt)){const Fe=E.find(Lt=>Lt.email===we);Fe?ye.push(Fe):ye.push({email:we,name:we}),Et++}});const Le=[...ye].sort((we,Ae)=>ne!=null&&ne.sortByGender&&we.gender!==Ae.gender?we.gender==="Male"?-1:Ae.gender==="Male"?1:(we.gender||"").localeCompare(Ae.gender||""):(we.name||"").localeCompare(Ae.name||""));Yt.push({posName:Qt,emoji:(ne==null?void 0:ne.emoji)||"",names:Le.map(we=>we.name||we.email||"Unknown")})}),{teamName:Ke.name,teamEmoji:Ke.emoji,positions:Yt,hasAssignments:Et>0}}).filter(Ke=>Ke.hasAssignments);return Ue.length>0?Ue:null},[c,d,s,l,_,E]),x=(G,oe,ce,ge)=>{let Ke=`${new Date(G).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric",timeZone:"UTC"})} - ${ce} ${oe}
`;ge.forEach(ot=>{const Yt=ot.names.length>0?ot.names.join(", "):"-";Ke+=`${ot.emoji}: ${Yt}
`}),navigator.clipboard.writeText(Ke).then(()=>{})},M=()=>{if(!ae.current)return;const G=ae.current,oe=G.offsetWidth,ce=Math.round(G.scrollLeft/oe);if(ce!==z&&w[ce]){j(ce);const ge=w[ce];if(a!==ge){const Te=Dl();ce===0&&Te===ge?t({},{replace:!0}):t({date:ge},{replace:!0})}}},D=(G,oe)=>{n($U({date:G,eventName:oe}))},_e=()=>{n(dc(d))},Ce=()=>{n(TR())};if(p||R)return A.jsx(Xl,{});if(w.length===0)return A.jsxs("div",{className:kt.dashboardEmpty,children:[A.jsx("h2",{children:"No upcoming events found"}),A.jsx("p",{children:"You are not rostered for any upcoming team events."})]});const H=w[z],fe=Dl(),pe=H&&H<fe,Pe=pe?"Previous Event":"Upcoming Events",Me=G=>new Date(G).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric",timeZone:"UTC"}),U=(G,oe=!1)=>{const ce=O(G);return ce?A.jsx("div",{className:kt.teamCardsContainer,children:ce.map(ge=>A.jsxs("div",{className:kt.teamEventCard,children:[A.jsxs("div",{className:kt.teamEventHeader,children:[A.jsxs("h3",{children:[A.jsx("span",{className:kt.teamCardEmoji,children:ge.teamEmoji}),A.jsx("span",{className:kt.teamCardName,children:ge.teamName})]}),!oe&&A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[A.jsx(dm,{className:kt.dashboardThemeToggle}),A.jsxs("button",{className:kt.copyRosterBtn,onClick:()=>x(G,ge.teamName,ge.teamEmoji,ge.positions),title:"Copy to clipboard",children:[A.jsx(kL,{size:16})," Copy"]})]})]}),A.jsx("div",{className:kt.teamEventDetails,children:ge.positions.map(Te=>A.jsxs("div",{className:kt.posAssignmentRow,children:[A.jsx("span",{className:kt.posEmojiLabel,title:Te.posName,children:Te.emoji}),A.jsx("span",{className:`${kt.assignedNames} ${Te.names.length===0?kt.unassigned:""}`,children:Te.names.length>0?Te.names.join(", "):"Unassigned"})]},Te.posName))})]},ge.teamName))}):null};return A.jsxs("div",{className:kt.dashboardContainer,children:[A.jsxs("div",{className:kt.dashboardHeader,children:[A.jsx("h1",{children:Pe}),A.jsx("div",{className:kt.dashboardHeaderActions,children:pe&&A.jsx("button",{className:kt.clearPastBtn,onClick:I,children:"Reset to upcoming"})})]}),A.jsx("div",{className:kt.carouselOuterWrapper,style:{opacity:K?1:0,transition:"opacity 0.3s ease-in-out"},children:A.jsx("div",{className:kt.eventsCarouselTrack,ref:ae,onScroll:M,children:w.map((G,oe)=>{const ce=G,ge=d[ce]||c[ce],Te=(ge==null?void 0:ge.eventName)||"";return A.jsxs("div",{className:`${kt.eventCardWrapper} ${oe===z?kt.active:kt.peek}`,children:[A.jsx("div",{className:kt.eventNameContainer,children:A.jsx("input",{type:"text",className:`${kt.dashboardEventNameInput} ${Te?kt.dashboardEventNameInputHasEvent:""}`,placeholder:"Event name (e.g. Easter Sunday)",value:Te,onChange:Ue=>D(G,Ue.target.value),disabled:oe!==z})}),A.jsxs("div",{className:kt.eventCardDate,children:[Me(G),G===fe&&A.jsx("span",{className:kt.dashboardTodayBadge,children:"TODAY"})]}),U(G,oe!==z)]},G)})})}),A.jsxs("div",{className:kt.carouselPagination,children:[z+1," / ",w.length]}),S&&A.jsx(Wl,{label:"Unsaved event labels",saveText:"Save Changes",onSave:_e,onCancel:Ce,isSaving:g,hasSideNav:!1})]})},Dj="_button_1huns_1",Nj="_primary_1huns_26",xj="_secondary_1huns_31",Oj="_icon_1huns_42",Mj="_small_1huns_48",Df={button:Dj,primary:Nj,secondary:xj,delete:"_delete_1huns_36",icon:Oj,small:Mj},Oi=({variant:n="primary",size:e="medium",isIcon:t=!1,className:a="",children:s,...l})=>{const c=[Df.button,Df[n],e==="small"?Df.small:"",t?Df.icon:"",a].filter(Boolean).join(" ");return A.jsx("button",{className:c,...l,children:s})},Pj="_pillGroup_ti99d_1",Vj="_pillGroupNowrap_ti99d_9",kj="_pill_ti99d_1",Lj="_pillActive_ti99d_35",Uj="_pillDisabled_ti99d_40",jj="_pillText_ti99d_61",bl={pillGroup:Pj,pillGroupNowrap:Vj,pill:kj,pillActive:Lj,pillDisabled:Uj,pillText:jj},us=({children:n,nowrap:e})=>A.jsx("div",{className:`${bl.pillGroup} ${e?bl.pillGroupNowrap:""}`,children:n}),Nr=({colour:n,isDropdown:e,isActive:t,isDisabled:a,minWidth:s,onClick:l,children:c})=>{const[d,p]=P.useState(!1);return n&&n.startsWith("var(--color-")&&(n=getComputedStyle(document.documentElement).getPropertyValue(n.slice(4,-1)).trim()),A.jsxs("div",{className:`${bl.pill} ${bl.pillText} ${t?bl.pillActive:""} ${a?bl.pillDisabled:""}`,style:{"--pill-colour":n||"var(--color-link)","--pill-subtle-hover-color":`${n}15`,minWidth:s?`${s}px`:"fit-content"},onClick:g=>{a||(p(_=>!_),l&&l(g))},children:[c,e&&A.jsx(pR,{style:{rotate:d?"90deg":"0"}})]})},zj={firebaseUser:null,userData:null,loading:!0,error:null},Xf=Pr("auth/initializeUserData",async(n,{rejectWithValue:e})=>{try{const t=Wr(Cn,"users",n),a=await Gc(t);if(!a.exists()){const s="chris.sm.kang542@gmail.com",l=jl.currentUser,c=(l==null?void 0:l.email)===s,d={name:(l==null?void 0:l.displayName)||null,email:(l==null?void 0:l.email)||null,isApproved:c,isAdmin:c,isActive:!0,teams:[],teamPositions:{},indexedAssignments:[],gender:""};return await mV(t,d),d}return a.data()}catch(t){return e(t instanceof Error?t.message:"Unknown error")}}),Wf=Pr("auth/updateUserProfile",async({uid:n,data:e},{rejectWithValue:t})=>{try{const a=Wr(Cn,"users",n),s={...e};return s.teamPositions&&(s.indexedAssignments=_R(s.teamPositions)),await nm(a,s),s}catch(a){return t(a instanceof Error?a.message:"Failed to update profile")}}),SR=Ao({name:"auth",initialState:zj,reducers:{setUser:(n,e)=>{n.firebaseUser=e.payload},setUserData:(n,e)=>{n.userData=e.payload},setLoading:(n,e)=>{n.loading=e.payload},logout:n=>{n.firebaseUser=null,n.userData=null,n.loading=!1}},extraReducers:n=>{n.addCase(Xf.pending,e=>{e.loading=!0,e.error=null}).addCase(Xf.fulfilled,(e,t)=>{e.userData=t.payload,e.loading=!1}).addCase(Xf.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Wf.pending,e=>{e.error=null}).addCase(Wf.fulfilled,(e,t)=>{e.userData&&(e.userData={...e.userData,...t.payload})}).addCase(Wf.rejected,(e,t)=>{e.error=t.payload})}}),{setUser:Bj,setUserData:Fj,setLoading:c6,logout:Hj}=SR.actions,qj=SR.reducer,Gj="_profileCard_1v6ck_1",$j="_profileReadonly_1v6ck_19",Kj="_teamPositionsSection_1v6ck_37",Yj="_sectionLabel_1v6ck_43",Qj="_teamPositionGroup_1v6ck_53",Xj="_teamPositionHeader_1v6ck_57",Wj="_actionContainer_1v6ck_67",no={profileCard:Gj,profileReadonly:$j,teamPositionsSection:Kj,sectionLabel:Yj,teamPositionGroup:Qj,teamPositionHeader:Xj,actionContainer:Wj},AR=({className:n})=>{const e=ei(),{userData:t,firebaseUser:a}=ct(w=>w.auth),{teams:s,fetched:l}=ct(w=>w.teams),{fetched:c}=ct(w=>w.positions),[d,p]=P.useState((t==null?void 0:t.name)||""),[g,_]=P.useState((t==null?void 0:t.gender)||""),[E,b]=P.useState((t==null?void 0:t.isActive)??!0),[R,L]=P.useState((t==null?void 0:t.teams)||[]),[z,j]=P.useState((t==null?void 0:t.teamPositions)||{}),[Y,F]=P.useState("idle");P.useEffect(()=>{l||e(ho()),c||e(gs())},[e,l,c]);const K=P.useMemo(()=>{if(!t)return!1;const w={name:d,gender:g,isActive:E,teams:R,teamPositions:z},I={name:t.name||"",gender:t.gender||"",isActive:t.isActive??!0,teams:t.teams||[],teamPositions:t.teamPositions||{}};return JSON.stringify(w)!==JSON.stringify(I)},[d,g,E,R,z,t]),ee=async()=>{if(a){F("saving");try{const w={name:d,gender:g,isActive:E,teams:R,teamPositions:z};await e(Wf({uid:a.uid,data:w})).unwrap(),F("success"),setTimeout(()=>F("idle"),2e3)}catch(w){console.error(w),F("idle")}}},ae=()=>{t&&(p(t.name||""),_(t.gender||""),b(t.isActive??!0),L(t.teams||[]),j(t.teamPositions||{}))},te=w=>{L(I=>{const O=I.includes(w),x=O?I.filter(M=>M!==w):[...I,w];return j(M=>{const D={...M};return O?delete D[w]:D[w]||(D[w]=[]),D}),x})},S=(w,I)=>{j(O=>{const x=O[w]||[],M=x.includes(I)?x.filter(D=>D!==I):[...x,I];return{...O,[w]:M}})};return t?A.jsxs("section",{className:`${no.profileCard} ${n||""}`,children:[A.jsx("div",{className:no.profileReadonly,children:A.jsxs("p",{children:[A.jsx("strong",{children:"Email:"})," ",t.email]})}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Name"}),A.jsx(us,{children:A.jsx("input",{type:"text",value:d,onChange:w=>p(w.target.value),className:"form-input form-input-width-auto"})})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Gender"}),A.jsx(us,{children:[{value:"Male",colour:"var(--color-male)"},{value:"Female",colour:"var(--color-female)"}].map(w=>A.jsx(Nr,{colour:w.colour,onClick:()=>_(w.value),isActive:g===w.value,children:w.value},w.value))})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"My Teams"}),A.jsx(us,{children:s.map(w=>{const I=R.includes(w.name);return A.jsxs(Nr,{onClick:()=>te(w.name),isActive:I,children:[A.jsx("span",{children:w.emoji})," ",w.name]},w.name)})})]}),R.length>0&&A.jsxs("div",{className:no.teamPositionsSection,children:[A.jsx("label",{className:no.sectionLabel,children:"Positions per Team"}),R.map(w=>{var O,x;const I=s.find(M=>M.name===w);return I?A.jsxs("div",{className:no.teamPositionGroup,children:[A.jsxs("div",{className:no.teamPositionHeader,children:[I.emoji," ",I.name]}),A.jsx(us,{children:(x=(O=I.positions)==null?void 0:O.filter(M=>!M.parentId))==null?void 0:x.map(M=>{var _e;const D=(_e=z[w])==null?void 0:_e.includes(M.name);return A.jsxs(Nr,{onClick:()=>S(w,M.name),isActive:D,colour:M.colour,children:[A.jsx("span",{children:M.emoji})," ",M.name]},M.name)})})]},w):null})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Availability Status"}),A.jsx(Nr,{colour:E?"var(--color-success-dark)":"var(--color-warning-dark)",onClick:()=>b(!E),isActive:!0,children:E?"ACTIVE & AVAILABLE":"INACTIVE / AWAY"}),A.jsx("p",{className:"form-field-hint",children:"Turn off if you want to be hidden from the roster."})]}),A.jsx("div",{className:no.actionContainer,children:A.jsx(Oi,{variant:"delete",onClick:()=>jl.signOut(),children:"Logout"})}),K&&A.jsx(Wl,{label:"Unsaved profile changes",saveText:"Update Profile",onSave:ee,onCancel:ae,isSaving:Y==="saving"})]}):A.jsx("div",{children:"Loading profile..."})},Jj="_guestContainer_1m4dd_1",Zj="_profileCardOverride_1m4dd_14",e3="_guestHeader_1m4dd_21",t3="_brandTitle_1m4dd_28",n3="_guestThemeToggleContainer_1m4dd_32",r3="_pendingLabel_1m4dd_38",fl={guestContainer:Jj,profileCardOverride:Zj,guestHeader:e3,brandTitle:t3,guestThemeToggleContainer:n3,pendingLabel:r3},i3=()=>{const{userData:n,firebaseUser:e,loading:t}=ct(a=>a.auth);return t?A.jsx(zl,{}):e?n?n.isApproved?A.jsx(cs,{to:"/app",replace:!0}):A.jsxs("div",{className:fl.guestContainer,children:[A.jsxs("header",{className:fl.guestHeader,children:[A.jsx("h2",{className:fl.brandTitle,children:"God is Good"}),A.jsx("p",{className:fl.pendingLabel,children:"PENDING ADMIN APPROVAL"}),A.jsx("div",{className:fl.guestThemeToggleContainer,children:A.jsx(dm,{})})]}),A.jsx(AR,{className:fl.profileCardOverride})]}):A.jsx(zl,{}):A.jsx(cs,{to:"/login",replace:!0})},a3="_loginContainer_12x6v_1",s3="_loginHeader_12x6v_12",o3="_brandTitle_12x6v_16",l3="_brandSubtitle_12x6v_24",u3="_loginButtonContainer_12x6v_33",c3="_loginButton_12x6v_33",h3="_google_12x6v_57",ro={loginContainer:a3,loginHeader:s3,brandTitle:o3,brandSubtitle:l3,loginButtonContainer:u3,loginButton:c3,google:h3},f3=()=>{const{firebaseUser:n,loading:e}=ct(a=>a.auth),t=()=>w4(jl,Ek);return e?null:n?A.jsx(cs,{to:"/",replace:!0}):A.jsxs("div",{className:ro.loginContainer,children:[A.jsxs("header",{className:ro.loginHeader,children:[A.jsx("h1",{className:ro.brandTitle,children:"God is Good"}),A.jsx("p",{className:ro.brandSubtitle,children:"Worship Team Roster"})]}),A.jsx("div",{className:ro.loginButtonContainer,children:A.jsxs("button",{onClick:t,className:`${ro.loginButton} ${ro.google}`,children:[A.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",height:"18",alt:"Google"}),"Login with Google"]})})]})},d3=()=>{const n=ei(),e=Eo(),{teamName:t,positionName:a}=Vd(),{users:s,allTeamUsers:l,rosterDates:c,currentTeamData:d,loadingUsers:p,loadingTeam:g,loadingAllTeamUsers:_,error:E}=ct(ne=>ne.rosterView),{entries:b,dirtyEntries:R,saving:L,error:z}=ct(ne=>ne.roster),{teams:j}=ct(ne=>ne.teams),{positions:Y}=ct(ne=>ne.positions),{hiddenUsers:F}=ct(ne=>ne.ui),[K,ee]=P.useState(null),[ae,te]=P.useState(null),S=Object.keys(R).length>0,w=P.useMemo(()=>Y.find(ne=>ne.name===a),[Y,a]),I=P.useMemo(()=>d?d.positions.filter(ne=>ne.name!==a):[],[d,a]),O=P.useMemo(()=>{var ne;return!t||!a?[]:((ne=F[t])==null?void 0:ne[a])||[]},[F,t,a]),x=P.useMemo(()=>{const ne=s.filter(ye=>ye.email&&!O.includes(ye.email)&&ye.isActive);return w!=null&&w.sortByGender?ne.sort((ye,Le)=>ye.gender===Le.gender?(ye.name||"").localeCompare(Le.name||""):ye.gender==="Male"?-1:Le.gender==="Male"?1:(ye.gender||"").localeCompare(Le.gender||"")):ne},[s,w,O]),M=P.useMemo(()=>{if(!(w!=null&&w.sortByGender)||x.length===0)return-1;const ne=x.findIndex(ye=>ye.gender==="Female");return ne>0&&ne<x.length?ne:-1},[w,x]),D=ne=>{!t||!a||n(ZL({teamName:t,positionName:a,userEmail:ne}))},_e=()=>{n(XU())},Ce=()=>{n(WU())},H=()=>{n(JU())},fe=ne=>{pe(ne)&&e(`/app/dashboard?date=${ne}`)},pe=P.useCallback(ne=>{const ye=ne.split("T")[0],Le=R[ye]||b[ye];return Le?Object.values(Le.teams).some(we=>Object.values(we).some(Ae=>Ae.length>0)):!1},[b,R]),Pe=P.useCallback(ne=>{if(!ae||!t)return[];const ye=ne.split("T")[0],Le=R[ye]||b[ye];return!Le||!Le.teams[t]?[]:Object.entries(Le.teams[t]).filter(([,we])=>we.includes(ae)).map(([we])=>{const Ae=l.find(Fe=>Fe.email===we);return(Ae==null?void 0:Ae.name)||we})},[ae,t,R,b,l]);P.useEffect(()=>{n(fc())},[n]),P.useEffect(()=>{a&&t&&a!=="Absence"&&n(Yf({teamName:t,positionName:a}))},[a,t,n]),P.useEffect(()=>{t&&(n(Qf(t)),n(Kf(t)))},[t,n]);const Me=P.useCallback((ne,ye)=>{const Le=ne,we=R[Le]||b[Le];return!!(we&&we.absence&&we.absence[ye])},[R,b]),U=P.useCallback((ne,ye)=>{var Ae,Fe;const Le=ne,we=R[Le]||b[Le];return((Fe=(Ae=we==null?void 0:we.absence)==null?void 0:Ae[ye])==null?void 0:Fe.reason)||""},[R,b]),G=P.useCallback((ne,ye)=>{if(!t||!a||a==="Absence")return!1;if(Me(ne,ye))return!0;const Le=ne,we=R[Le]||b[Le],Ae=j.find(Dt=>Dt.name===t),Fe=(Ae==null?void 0:Ae.maxConflict)||1;if(!we||!we.teams[t]||!we.teams[t][ye])return!1;const Lt=we.teams[t][ye],Rt=Y.filter(Dt=>Dt.parentId===a),je=[a,...Rt.map(Dt=>Dt.name)];return Lt.some(Dt=>je.includes(Dt))?!1:Lt.length>=Fe},[t,a,Me,R,b,j,Y]),oe=P.useCallback((ne,ye,Le,we)=>{if(!t||!a||a==="Absence"||G(ne,ye)){ee({row:Le,col:we,table:"roster"});return}ee({row:Le,col:we,table:"roster"});const Ae=j.find(je=>je.name===t),Fe=(Ae==null?void 0:Ae.maxConflict)||1,Lt=Y.filter(je=>je.parentId===a),Rt=[a,...Lt.map(je=>je.name)];n(GU({date:ne,teamName:t,userIdentifier:ye,positionGroupNames:Rt,maxConflict:Fe}))},[n,t,a,G,j,Y]),ce=P.useCallback((ne,ye,Le,we)=>{ee({row:Le,col:we,table:"absence"});const Ae=Me(ne,ye);n(jS({date:ne,userIdentifier:ye,isAbsent:!Ae}))},[n,Me]),ge=P.useCallback((ne,ye,Le)=>{n(jS({date:ne,userIdentifier:ye,reason:Le,isAbsent:!0}))},[n]),Te=P.useCallback(()=>{n(dc(R))},[n,R]),Ue=P.useCallback(()=>{n(TR()),ee(null)},[n]),Ke=(ne,ye)=>{var Lt;const Le=ne,we=R[Le]||b[Le];if(!we||!t)return"";const Ae=((Lt=we.teams[t])==null?void 0:Lt[ye])||[],Fe=[];return Object.entries(we.teams).forEach(([Rt,je])=>{Rt!==t&&je[ye]&&Fe.push({team:Rt,positions:je[ye]})}),Ae.length===0&&Fe.length===0?"":A.jsxs("div",{className:"assigned-positions",children:[Ae.map(Rt=>{const je=Y.find(Ye=>Ye.name===Rt);return A.jsx("span",{title:`${t}: ${Rt}`,className:"pos-emoji",children:(je==null?void 0:je.emoji)||""},Rt)}),Fe.map(Rt=>Rt.positions.map(je=>{const Ye=Y.find(Dt=>Dt.name===je);return A.jsx("span",{title:`${Rt.team}: ${je}`,className:"pos-emoji other-team-emoji",children:(Ye==null?void 0:Ye.emoji)||""},`${Rt.team}-${je}`)}))]})};P.useEffect(()=>{const ne=ye=>{const Le=ye.target;if(Le.tagName==="INPUT"||Le.tagName==="TEXTAREA"||!K)return;const{row:we,col:Ae,table:Fe}=K,Lt=c,Rt=Fe==="roster"?x:l;switch(ye.key){case"ArrowUp":ye.preventDefault(),we>0&&ee({row:we-1,col:Ae,table:Fe});break;case"ArrowDown":ye.preventDefault(),we<Lt.length-1&&ee({row:we+1,col:Ae,table:Fe});break;case"ArrowLeft":ye.preventDefault(),Ae>0&&ee({row:we,col:Ae-1,table:Fe});break;case"ArrowRight":ye.preventDefault(),Ae<Rt.length-1&&ee({row:we,col:Ae+1,table:Fe});break;case"Tab":ye.preventDefault(),ye.shiftKey?we>0&&ee({row:we-1,col:Ae,table:Fe}):we<Lt.length-1&&ee({row:we+1,col:Ae,table:Fe});break;case" ":{ye.preventDefault();const je=c[we],Ye=Rt[Ae];Ye!=null&&Ye.email&&(Fe==="roster"?oe(je,Ye.email,we,Ae):ce(je,Ye.email,we,Ae));break}case"Enter":S&&(ye.preventDefault(),Te());break;case"Escape":S&&(ye.preventDefault(),Ue());break}};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[K,c,x,l,S,oe,ce,Te,Ue]);const ot=P.useMemo(()=>{const ne=Dl();return c.length===0?!1:c[0]<ne},[c]),Yt=P.useMemo(()=>{const ne=Dl();return c.find(ye=>ye.split("T")[0]>=ne)},[c]),In=P.useMemo(()=>{if(!Yt||!t||!a)return[];const ne=Yt.split("T")[0],ye=R[ne]||b[ne];if(!ye||!ye.teams[t])return[];const Le=Y.filter(Ae=>Ae.parentId===a),we=[a,...Le.map(Ae=>Ae.name)];return Object.entries(ye.teams[t]).filter(([,Ae])=>Ae.some(Fe=>we.includes(Fe))).map(([Ae])=>Ae)},[Yt,t,a,R,b,Y]),Et=P.useCallback(ne=>{const ye=Dl(),Le=ne.split("T")[0];return Le<ye?"past-date":Le===ye?"today-date":"future-date"},[]);if(p||g||_)return A.jsx(Xl,{});const Tn=E||z;if(Tn)return A.jsxs("div",{className:"roster-table-error",children:["Error: ",Tn]});const Qt=a==="Absence";return!Qt&&x.length===0?A.jsxs("div",{className:"roster-table-loading",children:[!Qt&&O.length>0&&A.jsxs("div",{className:"hidden-members-bar",children:[A.jsx("span",{className:"hidden-members-label",children:"Hidden Members:"}),A.jsx("div",{className:"hidden-members-list",children:O.map(ne=>{const ye=s.find(Le=>Le.email===ne);return A.jsxs("button",{className:"unhide-pill",onClick:()=>D(ne),title:"Click to unhide",children:[(ye==null?void 0:ye.name)||ne," ",A.jsx("span",{children:"+"})]},ne)})})]}),"No users found for this position."]}):A.jsxs("div",{className:"roster-table-wrapper",children:[!Qt&&O.length>0&&A.jsxs("div",{className:"hidden-members-bar",children:[A.jsx("span",{className:"hidden-members-label",children:"Hidden Members:"}),A.jsx("div",{className:"hidden-members-list",children:O.map(ne=>{const ye=s.find(Le=>Le.email===ne);return A.jsxs("button",{className:"unhide-pill",onClick:()=>D(ne),title:"Click to unhide",children:[(ye==null?void 0:ye.name)||ne," ",A.jsx("span",{children:"+"})]},ne)})})]}),Qt?A.jsxs("div",{className:"roster-section absence-section",children:[A.jsx("div",{className:"roster-table-container",children:A.jsxs("table",{className:"roster-table absence-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"roster-table-header-cell sticky-col sticky-header",children:A.jsxs("div",{className:"date-header-content",children:["Date",A.jsxs("div",{className:"date-header-actions",children:[A.jsx("button",{className:"load-prev-btn",onClick:_e,title:"Load 5 previous dates",children:""}),ot&&A.jsx("button",{className:"load-prev-btn reset-dates-btn",onClick:Ce,title:"Hide previous dates",children:""})]})]})}),l.map(ne=>A.jsx("th",{className:`roster-table-header-cell sticky-header ${ne.email&&In.includes(ne.email)?"highlighted-header":""}`,children:ne.name},ne.email)),A.jsx("th",{className:"gender-divider-cell sticky-header"}),A.jsx("th",{className:"roster-table-header-cell sticky-header sticky-right peek-header",children:A.jsxs("select",{className:"peek-selector",value:ae||"",onChange:ne=>te(ne.target.value||null),children:[A.jsx("option",{value:"",children:"Peek Position..."}),I.map(ne=>A.jsxs("option",{value:ne.name,children:[ne.emoji," ",ne.name]},ne.name))]})})]})}),A.jsx("tbody",{children:c.map((ne,ye)=>{const Le=ne.split("T")[0],we=R[Le]||b[Le],Ae=we==null?void 0:we.eventName,Fe=Et(ne),Lt=Fe==="today-date",Rt=pe(ne);return A.jsxs("tr",{className:`${Fe} ${Rt?"":"no-data"} ${Ae?"special-event-row":""} ${ne===Yt?"closest-next-date-row":""}`,children:[A.jsx("td",{className:`date-cell sticky-col ${Rt?"clickable":""}`,onClick:()=>fe(ne),title:Ae,children:A.jsxs("div",{className:"date-cell-content",children:[Ae&&A.jsx("span",{className:"special-event-dot"}),new Date(ne.replace(/-/g,"/")).toLocaleDateString(),Lt&&A.jsx("span",{className:"roster-today-dot",title:"Today"})]})}),l.map((je,Ye)=>{const Dt=(K==null?void 0:K.row)===ye&&(K==null?void 0:K.col)===Ye&&(K==null?void 0:K.table)==="absence",nr=je.email?Me(ne,je.email):!1,Qn=je.email?U(ne,je.email):"",an=ne===Yt&&je.email&&In.includes(je.email);return A.jsx("td",{className:`roster-cell clickable absence-roster-cell ${Dt?"focused":""} ${nr?"absent-cell":""} ${an?"highlighted-cell":""}`,onClick:()=>{je.email&&ce(ne,je.email,ye,Ye)},tabIndex:0,onFocus:()=>ee({row:ye,col:Ye,table:"absence"}),title:Qn,children:nr?A.jsxs("div",{className:"absence-input-container",children:[A.jsx("input",{type:"text",className:"absence-reason-input",value:Qn,placeholder:"Reason...",maxLength:20,autoFocus:Dt,onClick:bn=>bn.stopPropagation(),onChange:bn=>{je.email&&ge(ne,je.email,bn.target.value)}}),A.jsx("button",{className:"remove-absence-btn",onClick:bn=>{bn.stopPropagation(),je.email&&ce(ne,je.email,ye,Ye)},title:"Mark as present",children:""})]}):""},je.email)}),A.jsx("td",{className:"gender-divider-cell"}),A.jsx("td",{className:"roster-cell peek-cell sticky-right",children:Pe(ne).join(", ")||""})]},ne)})})]})}),A.jsx("div",{className:"load-more-footer",children:A.jsx("button",{className:"load-next-year-btn",onClick:H,children:"Load Next Year "})})]}):A.jsxs("div",{className:"roster-section",children:[A.jsx("div",{className:"roster-table-container",children:A.jsxs("table",{className:"roster-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"roster-table-header-cell sticky-col sticky-header",children:A.jsxs("div",{className:"date-header-content",children:["Date",A.jsxs("div",{className:"date-header-actions",children:[A.jsx("button",{className:"load-prev-btn",onClick:_e,title:"Load 5 previous dates",children:""}),ot&&A.jsx("button",{className:"load-prev-btn reset-dates-btn",onClick:Ce,title:"Hide previous dates",children:""})]})]})}),x.map((ne,ye)=>A.jsxs(P.Fragment,{children:[M===ye&&A.jsx("th",{className:"gender-divider-cell sticky-header"}),A.jsxs("th",{className:`roster-table-header-cell sticky-header clickable-header ${ne.email&&In.includes(ne.email)?"highlighted-header":""}`,onClick:()=>ne.email&&D(ne.email),title:"Click to hide member",children:[ne.name,(w==null?void 0:w.sortByGender)&&A.jsxs("span",{className:"gender-label",children:["(",ne.gender==="Male"?"M":ne.gender==="Female"?"F":"?",")"]})]})]},ne.email)),A.jsx("th",{className:"gender-divider-cell sticky-header"}),A.jsx("th",{className:"roster-table-header-cell sticky-header sticky-right peek-header",children:A.jsxs("select",{className:"peek-selector",value:ae||"",onChange:ne=>te(ne.target.value||null),children:[A.jsx("option",{value:"",children:"Peek Position..."}),I.map(ne=>A.jsxs("option",{value:ne.name,children:[ne.emoji," ",ne.name]},ne.name))]})})]})}),A.jsx("tbody",{children:c.map((ne,ye)=>{const Le=ne.split("T")[0],we=R[Le]||b[Le],Ae=we==null?void 0:we.eventName,Fe=Et(ne),Lt=Fe==="today-date",Rt=pe(ne);return A.jsxs("tr",{className:`${Fe} ${Rt?"":"no-data"} ${Ae?"special-event-row":""} ${ne===Yt?"closest-next-date-row":""}`,children:[A.jsx("td",{className:`date-cell sticky-col ${Rt?"clickable":""}`,onClick:()=>fe(ne),title:Ae,children:A.jsxs("div",{className:"date-cell-content",children:[Ae&&A.jsx("span",{className:"special-event-dot"}),Lt&&A.jsx("span",{className:"roster-today-dot",title:"Today"}),new Date(ne.replace(/-/g,"/")).toLocaleDateString()]})}),x.map((je,Ye)=>{const Dt=(K==null?void 0:K.row)===ye&&(K==null?void 0:K.col)===Ye&&(K==null?void 0:K.table)==="roster",nr=je.email?G(ne,je.email):!1,Qn=je.email?Me(ne,je.email):!1,an=ne===Yt&&je.email&&In.includes(je.email);return A.jsxs(P.Fragment,{children:[M===Ye&&A.jsx("td",{className:"gender-divider-cell"}),A.jsx("td",{className:`roster-cell ${nr?"disabled":"clickable"} ${Dt?"focused":""} ${Qn?"absent-strike":""} ${an?"highlighted-cell":""}`,onClick:()=>{je.email&&!nr&&oe(ne,je.email,ye,Ye)},tabIndex:0,onFocus:()=>ee({row:ye,col:Ye,table:"roster"}),children:je.email&&(Qn?A.jsx("span",{title:U(ne,je.email),children:""}):Ke(ne,je.email))})]},je.email)}),A.jsx("td",{className:"gender-divider-cell"}),A.jsx("td",{className:"roster-cell peek-cell sticky-right",children:Pe(ne).join(", ")||""})]},ne)})})]})}),A.jsx("div",{className:"load-more-footer",children:A.jsx("button",{className:"load-next-year-btn",onClick:H,children:"Load Next Year "})})]}),S&&A.jsx(Wl,{onSave:Te,onCancel:Ue,isSaving:L,saveText:"Save Roster"})]})},m3="_rosterPage_z6eme_1",p3={rosterPage:m3},g3=()=>A.jsx("div",{className:p3.rosterPage,children:A.jsx(d3,{})}),y3="_formInput_1pqph_16",_3="_formSelect_1pqph_51",v3="_colorInput_1pqph_84",Nd={formInput:y3,formSelect:_3,colorInput:v3},E3="_appTableContainer_yvkdj_1",T3="_appTable_yvkdj_1",b3="_colorPickerGroup_yvkdj_44",S3="_stickyCol_yvkdj_55",Ic={appTableContainer:E3,appTable:T3,colorPickerGroup:b3,stickyCol:S3},A3=({text:n,textAlign:e="left",width:t,minWidth:a,isSticky:s=!1})=>A.jsx("th",{className:s?Ic.stickyCol:void 0,style:{textAlign:e,width:t?`${t}px`:"auto",minWidth:a?`${a}px`:"auto"},children:n}),An=({isSticky:n=!1,textAlign:e="left",className:t,children:a})=>A.jsx("td",{style:{textAlign:e},className:`${t||""} ${n?Ic.stickyCol:""}
`,children:a}),Qr=({name:n,value:e,placeholder:t,type:a="text",isSticky:s,isReadOnly:l=!1,isChild:c=!1,onChange:d})=>A.jsxs(An,{isSticky:s,children:[c&&A.jsx(gR,{}),A.jsx("input",{name:n,className:Nd.formInput,type:a,placeholder:t,value:e,onChange:d,readOnly:l})]}),zS=({name:n,value:e,placeholder:t,onChange:a})=>A.jsxs(An,{className:Ic.colorPickerGroup,children:[A.jsx("input",{name:n,type:"color",className:Nd.colorInput,value:e||"#FFFFFF",onChange:a}),A.jsx("input",{name:n,className:Nd.formInput,value:e,placeholder:t,onChange:a})]}),j_=({headers:n,children:e})=>A.jsx("div",{className:Ic.appTableContainer,children:A.jsxs("table",{className:Ic.appTable,children:[A.jsx("thead",{children:A.jsx("tr",{children:n.map((t,a)=>A.jsx(A3,{...t},a))})}),A.jsx("tbody",{children:e})]})}),w3="_settingsContainer_1c9s2_1",R3="_managementWrapper_1c9s2_13",mm={settingsContainer:w3,managementWrapper:R3},Fg={name:"",emoji:"",colour:"",parentId:void 0,sortByGender:!1},C3=()=>{const n=ei(),{positions:e,fetched:t,loading:a}=ct(F=>F.positions),[s,l]=P.useState(e),[c,d]=P.useState(Fg),[p,g]=P.useState("idle"),_=P.useMemo(()=>JSON.stringify(s)!==JSON.stringify(e),[s,e]);P.useEffect(()=>{t||n(gs())},[n,t]),P.useEffect(()=>{l(e)},[e]);const E=(F,K,ee)=>{const ae=[...s];ae[F]={...ae[F],[K]:ee},l(ae)},b=(F,K)=>{const ee=[...s],ae=ee[F],te=ae.parentId,S=w=>{const I=ee[w];if(!I)return{block:[],startIndex:-1,endIndex:-1};const O=[],x=[I],M=new Set;let D=w,_e=w,Ce=0;for(;Ce<x.length;){const fe=x[Ce++];M.has(fe.name)||(M.add(fe.name),O.push(fe),ee.forEach((pe,Pe)=>{pe.parentId===fe.name&&!M.has(pe.name)&&(x.push(pe),D=Math.min(D,Pe),_e=Math.max(_e,Pe))}))}return{block:O,startIndex:D,endIndex:_e}};if(te){const w=ee.filter(Ce=>Ce.parentId===te),O=w.findIndex(Ce=>Ce.name===ae.name)+(K==="up"?-1:1);if(O<0||O>=w.length)return;const x=w[O],M=ee.indexOf(ae),D=ee.indexOf(x);if(M===-1||D===-1)return;const _e=[...ee];_e[M]=x,_e[D]=ae,l(_e)}else{const w=S(F),{block:I,startIndex:O,endIndex:x}=w;if(!I||I.length===0)return;if(K==="up"){if(O===0)return;let M=O-1;for(;M>=0&&ee[M].parentId;)M--;if(M<0)return;const D=S(M),{block:_e,startIndex:Ce}=D;if(!_e||_e.length===0)return;const H=[...ee.slice(0,Ce),...I,..._e,...ee.slice(x+1)].filter(Boolean);l(H)}else{if(x===ee.length-1)return;let M=x+1;for(;M<ee.length&&ee[M].parentId;)M++;if(M>=ee.length)return;const D=S(M),{block:_e,startIndex:Ce}=D;if(!_e||_e.length===0)return;const H=[...ee.slice(0,O),..._e,...I,...ee.slice(Ce+_e.length)].filter(Boolean);l(H)}}},R=()=>{if(!c.name.trim()||!c.emoji.trim())return alert("Please provide both an emoji and a name.");l([...s,c]),d(Fg)},L=F=>{if(window.confirm("Delete this position? This will remove it from the global list, and any associated child positions.")){const K=s[F];let ee=s.filter((ae,te)=>te!==F);K.parentId||(ee=ee.filter(ae=>ae.parentId!==K.name)),l(ee)}},z=async()=>{g("saving");try{const F=s.map(K=>({...K,parentId:K.parentId===void 0?void 0:K.parentId}));await n(fR(F)).unwrap(),g("success"),setTimeout(()=>g("idle"),2e3)}catch(F){console.error("Save Error:",F),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),g("idle")}},j=F=>{l(K=>{const ee={...Fg,parentId:F},ae=K.findIndex(w=>w.name===F);if(ae===-1)return[...K,ee];let te=ae;for(;te+1<K.length&&K[te+1].parentId===F;)te++;return[...K.slice(0,te+1),ee,...K.slice(te+1)]})},Y=()=>{l(e)};return a?A.jsx(Xl,{}):A.jsxs("div",{className:mm.managementWrapper,children:[A.jsxs(j_,{headers:[{text:"Name",minWidth:80,textAlign:"center",isSticky:!0},{text:"Order",minWidth:50},{text:"Emoji",width:30},{text:"Colour",minWidth:100},{text:"Sort by Gender",width:100,textAlign:"center"},{text:"Add Child",width:80,textAlign:"center"},{text:"Delete",width:60,textAlign:"center"}],children:[s.map((F,K)=>A.jsxs("tr",{children:[A.jsx(Qr,{name:`name-${K}`,value:F.name,onChange:ee=>E(K,"name",ee.target.value),isSticky:!0}),A.jsx(An,{textAlign:"center",children:F.parentId?A.jsx(gR,{}):A.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[A.jsx(Oi,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>b(K,"up"),disabled:K===0,children:""}),A.jsx(Oi,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>b(K,"down"),disabled:K===s.length-1,children:""})]})}),A.jsx(Qr,{name:`emoji-${K}`,value:F.emoji,onChange:ee=>E(K,"emoji",ee.target.value)}),A.jsx(zS,{name:`colour-${K}`,value:F.colour,onChange:ee=>E(K,"colour",ee.target.value)}),A.jsx(An,{textAlign:"center",children:A.jsx(Nr,{colour:F.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:F.sortByGender,onClick:()=>E(K,"sortByGender",!F.sortByGender),children:F.sortByGender?"YES":"NO"})}),A.jsx(An,{textAlign:"center",children:!F.parentId&&A.jsx(Oi,{variant:"secondary",size:"small",onClick:()=>j(F.name),title:"Add Child Position",children:"+"})}),A.jsx(An,{textAlign:"center",children:A.jsx(Oi,{variant:"delete",size:"small",onClick:()=>L(K),children:""})})]},`${F.emoji}-${K}`)),A.jsxs("tr",{className:"pos-row-new",children:[A.jsx(Qr,{name:"new-name",value:c.name,placeholder:"Position Name",onChange:F=>d({...c,name:F.target.value}),isSticky:!0}),A.jsx("td",{className:"",children:""}),A.jsx(Qr,{name:"new-emoji",value:c.emoji,placeholder:"",onChange:F=>d({...c,emoji:F.target.value})}),A.jsx(zS,{name:"new-colour",value:c.colour,placeholder:"#FFFFFF",onChange:F=>d({...c,colour:F.target.value})}),A.jsx(An,{textAlign:"center",children:A.jsx(Nr,{colour:c.sortByGender?"var(--color-success-dark)":"var(--color-text-dim)",isActive:c.sortByGender,onClick:()=>d({...c,sortByGender:!c.sortByGender}),children:c.sortByGender?"YES":"NO"})}),A.jsx(An,{textAlign:"center",children:A.jsx(Oi,{onClick:R,disabled:!c.name.trim()||!c.emoji.trim(),children:"Add"})})]})]}),_&&A.jsx(Wl,{label:"Unsaved position changes",saveText:"Save Positions",onSave:z,onCancel:Y,isSaving:p==="saving"})]})},I3="_modalOverlay_ah937_1",D3="_modalContent_ah937_16",N3="_modalHeader_ah937_34",x3="_closeButton_ah937_48",O3="_modalBody_ah937_64",M3="_modalFooter_ah937_70",dl={modalOverlay:I3,modalContent:D3,modalHeader:N3,closeButton:x3,modalBody:O3,modalFooter:M3},wR=({isOpen:n,onClose:e,title:t,children:a,footer:s})=>(P.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[n]),n?A.jsx("div",{className:dl.modalOverlay,onClick:e,children:A.jsxs("div",{className:dl.modalContent,onClick:l=>l.stopPropagation(),children:[A.jsxs("div",{className:dl.modalHeader,children:[A.jsx("h2",{children:t}),A.jsx("button",{className:dl.closeButton,onClick:e,"aria-label":"Close",children:A.jsx(KL,{size:24})})]}),A.jsx("div",{className:dl.modalBody,children:a}),s&&A.jsx("div",{className:dl.modalFooter,children:s})]})}):null),P3="_settingsSection_1k4no_1",V3="_sectionLabel_1k4no_7",k3="_subSectionGroup_1k4no_17",L3="_subSectionHeader_1k4no_21",U3="_formGroup_1k4no_31",j3="_summaryButton_1k4no_35",z3="_summaryPrimary_1k4no_57",B3="_summarySecondary_1k4no_62",Cr={settingsSection:P3,sectionLabel:V3,subSectionGroup:k3,subSectionHeader:L3,formGroup:U3,summaryButton:j3,summaryPrimary:z3,summarySecondary:B3},F3=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],RR=({isOpen:n,onClose:e,team:t,availablePositions:a,onTogglePosition:s,onToggleDay:l})=>{var c;return A.jsxs(wR,{isOpen:n,onClose:e,title:`Edit Team: ${t.name}`,children:[A.jsxs("div",{className:Cr.formGroup,children:[A.jsx("label",{className:Cr.sectionLabel,children:"Allowed Positions"}),A.jsx(us,{children:(c=a==null?void 0:a.filter(d=>!d.parentId))==null?void 0:c.map(d=>{var g;const p=(g=t.positions)==null?void 0:g.some(_=>_.name===d.name);return A.jsxs(Nr,{colour:d.colour,isActive:p,onClick:()=>s(d),children:[d.emoji," ",d.name]},d.name)})})]}),A.jsxs("div",{className:Cr.settingsSection,children:[A.jsx("label",{className:Cr.sectionLabel,children:"Preferred Days"}),A.jsx(us,{children:F3.map(d=>{var g;const p=(g=t.preferredDays)==null?void 0:g.includes(d);return A.jsx(Nr,{isActive:p,onClick:()=>l(d),children:d},d)})})]})]})},z_=({primaryText:n,secondaryText:e,onClick:t})=>A.jsxs("button",{className:Cr.summaryButton,onClick:t,children:[A.jsx("span",{className:Cr.summaryPrimary,children:n}),e&&A.jsx("span",{className:Cr.summarySecondary,children:e})]}),H3=({team:n,teamIndex:e,availablePositions:t,onUpdate:a,onMove:s,onDelete:l,onTogglePosition:c,onToggleDay:d,isFirst:p,isLast:g})=>{var L;const[_,E]=P.useState(!1),b=()=>!n.positions||n.positions.length===0?"No positions":n.positions.map(z=>z.emoji).join(" "),R=()=>!n.preferredDays||n.preferredDays.length===0?"No days":n.preferredDays.map(z=>z.substring(0,3)).join(", ");return A.jsxs(A.Fragment,{children:[A.jsxs("tr",{children:[A.jsx(Qr,{name:`team-name-${e}`,value:n.name,onChange:z=>a(e,"name",z.target.value),isSticky:!0}),A.jsx(An,{children:A.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[A.jsx(Oi,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(e,"up"),disabled:p,children:""}),A.jsx(Oi,{variant:"secondary",size:"small",isIcon:!0,onClick:()=>s(e,"down"),disabled:g,children:""})]})}),A.jsx(Qr,{name:`team-emoji-${e}`,value:n.emoji,onChange:z=>a(e,"emoji",z.target.value)}),A.jsx(Qr,{name:`team-maxConflict-${e}`,value:((L=n.maxConflict)==null?void 0:L.toString())||"1",type:"number",onChange:z=>a(e,"maxConflict",parseInt(z.target.value)||1)}),A.jsx(An,{children:A.jsx(z_,{primaryText:b(),secondaryText:R(),onClick:()=>E(!0)})}),A.jsx(An,{children:A.jsx(Oi,{variant:"delete",size:"small",isIcon:!0,onClick:()=>l(e),children:""})})]}),A.jsx(RR,{isOpen:_,onClose:()=>E(!1),team:n,availablePositions:t,onTogglePosition:z=>c(e,z),onToggleDay:z=>d(e,z)})]})},BS={name:"",emoji:"",positions:[],preferredDays:[],maxConflict:1},q3=()=>{var M;const n=ei(),{teams:e,fetched:t,loading:a}=ct(D=>D.teams),{positions:s,fetched:l,loading:c}=ct(D=>D.positions),[d,p]=P.useState(e),[g,_]=P.useState(BS),[E,b]=P.useState("idle"),[R,L]=P.useState(!1),z=P.useMemo(()=>JSON.stringify(d)!==JSON.stringify(e),[d,e]);P.useEffect(()=>{t||n(ho()),l||n(gs())},[n,t,l]),P.useEffect(()=>{p(e)},[e]);const j=(D,_e,Ce)=>{const H=[...d];H[D]={...H[D],[_e]:Ce},p(H)},Y=(D,_e)=>{const Ce=[...d],H=_e==="up"?D-1:D+1;if(H<0||H>=Ce.length)return;const fe=Ce[D];Ce[D]=Ce[H],Ce[H]=fe,p(Ce)},F=(D,_e)=>{const Ce=d.map((H,fe)=>{if(fe!==D)return H;const pe=H.positions||[],Pe=pe.find(Me=>Me.name===_e.name)?pe.filter(Me=>Me.name!==_e.name):[...pe,_e];return{...H,positions:Pe}});p(Ce)},K=(D,_e)=>{const Ce=d.map((H,fe)=>{if(fe!==D)return H;const pe=H.preferredDays||[],Pe=pe.includes(_e)?pe.filter(Me=>Me!==_e):[...pe,_e];return{...H,preferredDays:Pe}});p(Ce)},ee=D=>{const _e=g.positions||[],Ce=_e.some(H=>H.name===D.name)?_e.filter(H=>H.name!==D.name):[..._e,D];_({...g,positions:Ce})},ae=D=>{const _e=g.preferredDays||[],Ce=_e.includes(D)?_e.filter(H=>H!==D):[..._e,D];_({...g,preferredDays:Ce})},te=()=>{if(!g.name.trim()||!g.emoji.trim())return alert("Please provide both an emoji and a name for the team.");p([...d,g]),_(BS)},S=D=>{window.confirm("Are you sure you want to delete this team?")&&p(d.filter((_e,Ce)=>Ce!==D))},w=async()=>{b("saving");try{await n(Gf(d)).unwrap(),b("success"),setTimeout(()=>b("idle"),2e3)}catch(D){console.error("Save Error:",D),alert("Check Firestore Rules: You may lack permission to write to 'metadata'."),b("idle")}},I=()=>{p(e)};if(a||c)return A.jsx(Xl,{});const O=()=>!g.positions||g.positions.length===0?"No positions":g.positions.map(D=>D.emoji).join(" "),x=()=>!g.preferredDays||g.preferredDays.length===0?"No days":g.preferredDays.map(D=>D.substring(0,3)).join(", ");return A.jsxs("div",{className:mm.managementWrapper,children:[A.jsxs(j_,{headers:[{text:"Name",minWidth:100,isSticky:!0},{text:"Order",minWidth:50,textAlign:"center"},{text:"Emoji",width:30},{text:"Conflicts",width:60,textAlign:"center"},{text:"Config",minWidth:150},{text:"",width:50}],children:[d.map((D,_e)=>A.jsx(H3,{team:D,teamIndex:_e,availablePositions:s,onUpdate:j,onMove:Y,onDelete:S,onTogglePosition:F,onToggleDay:K,isFirst:_e===0,isLast:_e===d.length-1},`${D.emoji}-${_e}`)),A.jsxs("tr",{className:"team-row-new",children:[A.jsx(Qr,{name:"new-team-name",value:g.name,placeholder:"Team Name",onChange:D=>_({...g,name:D.target.value}),isSticky:!0}),A.jsx(An,{children:""}),A.jsx(Qr,{name:"new-team-emoji",value:g.emoji,placeholder:"",onChange:D=>_({...g,emoji:D.target.value})}),A.jsx(Qr,{name:"new-team-maxConflict",value:((M=g.maxConflict)==null?void 0:M.toString())||"1",type:"number",onChange:D=>_({...g,maxConflict:parseInt(D.target.value)||1})}),A.jsx(An,{children:A.jsx(z_,{primaryText:O(),secondaryText:x(),onClick:()=>L(!0)})}),A.jsx(An,{children:A.jsx(Oi,{onClick:te,disabled:!g.name.trim()||!g.emoji.trim(),children:"+"})})]})]}),A.jsx(RR,{isOpen:R,onClose:()=>L(!1),team:g,availablePositions:s,onTogglePosition:ee,onToggleDay:ae}),z&&A.jsx(Wl,{label:"Unsaved team changes",saveText:"Save All Team Changes",onSave:w,onCancel:I,isSaving:E==="saving"})]})},G3={allUsers:[],originalUsers:[],loading:!1,saving:!1,error:null},Jf=Pr("userManagement/fetchAllUsers",async(n,{rejectWithValue:e})=>{try{const t=Bc(Cn,"users"),a=qc(t),s=await $c(a),l=[];return s.forEach(c=>{l.push({...c.data(),id:c.id})}),l.sort((c,d)=>(c.name||"").localeCompare(d.name||""))}catch(t){return e(t instanceof Error?t.message:"Failed to fetch all users")}}),Zf=Pr("userManagement/saveAllChanges",async(n,{rejectWithValue:e})=>{try{const t=v1(Cn);n.forEach(a=>{const{id:s,...l}=a;l.teamPositions&&(l.indexedAssignments=_R(l.teamPositions)),t.update(Wr(Cn,"users",s),l)}),await t.commit();return}catch(t){return e(t instanceof Error?t.message:"Failed to save changes")}}),CR=Ao({name:"userManagement",initialState:G3,reducers:{updateUserField(n,e){const{id:t,field:a,value:s}=e.payload,l=n.allUsers.find(c=>c.id===t);l&&(l[a]=s)},toggleUserTeam(n,e){const{userId:t,teamName:a}=e.payload,s=n.allUsers.find(l=>l.id===t);if(s){const l=s.teams||[],c=l.includes(a)?l.filter(d=>d!==a):[...l,a];s.teams=c,s.teamPositions||(s.teamPositions={}),c.includes(a)?s.teamPositions[a]||(s.teamPositions[a]=[]):delete s.teamPositions[a]}},toggleUserTeamPosition(n,e){const{userId:t,teamName:a,posName:s}=e.payload,l=n.allUsers.find(c=>c.id===t);if(l){l.teamPositions||(l.teamPositions={}),l.teamPositions[a]||(l.teamPositions[a]=[]);const c=l.teamPositions[a],d=c.includes(s)?c.filter(p=>p!==s):[...c,s];l.teamPositions[a]=d}},resetUserChanges(n){n.allUsers=JSON.parse(JSON.stringify(n.originalUsers))}},extraReducers:n=>{n.addCase(Jf.pending,e=>{e.loading=!0,e.error=null}).addCase(Jf.fulfilled,(e,t)=>{e.allUsers=t.payload,e.originalUsers=JSON.parse(JSON.stringify(t.payload)),e.loading=!1}).addCase(Jf.rejected,(e,t)=>{e.error=t.payload,e.loading=!1}).addCase(Zf.pending,e=>{e.saving=!0,e.error=null}).addCase(Zf.fulfilled,e=>{e.saving=!1,e.originalUsers=JSON.parse(JSON.stringify(e.allUsers))}).addCase(Zf.rejected,(e,t)=>{e.error=t.payload,e.saving=!1})}}),{updateUserField:$3,toggleUserTeam:K3,toggleUserTeamPosition:Y3,resetUserChanges:Q3}=CR.actions,X3=CR.reducer,W3=({isOpen:n,onClose:e,user:t,availableTeams:a})=>{const s=ei(),l=d=>{s(K3({userId:t.id,teamName:d}))},c=(d,p)=>{s(Y3({userId:t.id,teamName:d,posName:p}))};return A.jsxs(wR,{isOpen:n,onClose:e,title:`Edit Assignments: ${t.name}`,children:[A.jsxs("div",{className:Cr.formGroup,children:[A.jsx("label",{className:Cr.sectionLabel,children:"Teams"}),A.jsx(us,{children:a.map(d=>{var g;const p=(g=t.teams)==null?void 0:g.includes(d.name);return A.jsxs(Nr,{onClick:()=>l(d.name),isActive:p,children:[A.jsx("span",{children:d.emoji})," ",d.name]},d.name)})})]}),t.teams&&t.teams.length>0&&A.jsxs("div",{className:Cr.settingsSection,children:[A.jsx("label",{className:Cr.sectionLabel,children:"Positions per Team"}),t.teams.map(d=>{var g,_;const p=a.find(E=>E.name===d);return p?A.jsxs("div",{className:Cr.subSectionGroup,children:[A.jsxs("div",{className:Cr.subSectionHeader,children:[p.emoji," ",p.name]}),A.jsx(us,{children:(_=(g=p.positions)==null?void 0:g.filter(E=>!E.parentId))==null?void 0:_.map(E=>{var R,L;const b=(L=(R=t.teamPositions)==null?void 0:R[d])==null?void 0:L.includes(E.name);return A.jsxs(Nr,{onClick:()=>c(d,E.name),isActive:b,colour:E.colour,children:[A.jsx("span",{children:E.emoji})," ",E.name]},E.name)})})]},d):null})]})]})},J3=({user:n,availableTeams:e,adminEmail:t})=>{const a=ei(),[s,l]=P.useState(!1),c=(g,_)=>{a($3({id:n.id,field:g,value:_}))},d=()=>!n.teams||n.teams.length===0?"No teams":n.teams.map(g=>{const _=e.find(E=>E.name===g);return(_==null?void 0:_.emoji)||""}).join(" "),p=()=>n.teamPositions?Object.values(n.teamPositions).reduce((g,_)=>g+_.length,0):0;return A.jsxs(A.Fragment,{children:[A.jsxs("tr",{children:[A.jsx(Qr,{name:`name-${n.id}`,value:n.name||"",onChange:g=>c("name",g.target.value),isSticky:!0}),A.jsx(Qr,{name:`email-${n.id}`,value:n.email||"",isReadOnly:!0}),A.jsx(An,{children:A.jsxs("select",{name:`gender-${n.id}`,className:Nd.formSelect,value:n.gender,onChange:g=>c("gender",g.target.value),children:[A.jsx("option",{value:"",children:"-"}),A.jsx("option",{value:"Male",children:"Male"}),A.jsx("option",{value:"Female",children:"Female"})]})}),A.jsx(An,{children:A.jsx(z_,{primaryText:d(),secondaryText:`(${p()} pos)`,onClick:()=>l(!0)})}),A.jsx(An,{children:A.jsx(Nr,{colour:n.isActive?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>c("isActive",!n.isActive),isActive:!0,children:n.isActive?"YES":"NO"})}),A.jsx(An,{children:A.jsx(Nr,{colour:n.isApproved?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>c("isApproved",!n.isApproved),isActive:!0,children:n.isApproved?"YES":"NO"})}),A.jsx(An,{children:A.jsx(Nr,{colour:n.isAdmin?"var(--color-success-dark)":"var(--color-warning-dark)",minWidth:35,onClick:()=>c("isAdmin",!n.isAdmin),isActive:!0,isDisabled:n.email===t,children:n.isAdmin?"YES":"NO"})})]},n.id),A.jsx(W3,{isOpen:s,onClose:()=>l(!1),user:n,availableTeams:e})]})},Z3=()=>{const n=ei(),{allUsers:e,originalUsers:t,loading:a,saving:s,error:l}=ct(_=>_.userManagement),c=ct(_=>_.teams.teams),d=P.useMemo(()=>JSON.stringify(e)!==JSON.stringify(t),[e,t]);P.useEffect(()=>{n(Jf())},[n]);const p=()=>{n(Zf(e))},g=()=>{n(Q3())};return a?A.jsx(Xl,{}):l?A.jsxs("div",{children:["Error: ",l]}):A.jsxs("div",{className:mm.managementWrapper,children:[A.jsx(j_,{headers:[{text:"Name",minWidth:70,isSticky:!0},{text:"Email",minWidth:170},{text:"Gender",minWidth:90},{text:"Assignments",minWidth:150},{text:"Active",minWidth:95,textAlign:"center"},{text:"Approved",minWidth:95,textAlign:"center"},{text:"Admin",minWidth:95,textAlign:"center"}],children:e.map(_=>A.jsx(J3,{user:_,availableTeams:c,adminEmail:"chris.sm.kang542@gmail.com"},_.id))}),d&&A.jsx(Wl,{label:"Unsaved user changes",saveText:"Save All User Changes",onSave:p,onCancel:g,isSaving:s})]})},e6=()=>{const{userData:n}=ct(t=>t.auth),{section:e}=Vd();return n?A.jsxs("div",{className:mm.settingsContainer,children:[e===Tl.PROFILE&&A.jsx(AR,{}),e===Tl.USER_MANAGEMENT&&(n.isAdmin?A.jsx(Z3,{}):A.jsx("p",{children:"Access Denied"})),e===Tl.TEAMS&&(n.isAdmin?A.jsx(q3,{}):A.jsx("p",{children:"Access Denied"})),e===Tl.POSITIONS&&(n.isAdmin?A.jsx(C3,{}):A.jsx("p",{children:"Access Denied"}))]}):null},t6=[{path:"/",element:A.jsx(Rk,{})},{path:"/login",element:A.jsx(f3,{})},{path:"/guest",element:A.jsx(i3,{})},{path:"/app",element:A.jsx(IL,{}),children:[{path:"",element:A.jsx(VU,{}),children:[{path:"dashboard",element:A.jsx(Ij,{})},{path:"roster/:teamName?/:positionName?",element:A.jsx(g3,{})},{path:"settings/:section?",element:A.jsx(e6,{})}]}]}];let FS=!1;const n6=n=>{if(!FS){FS=!0;let e;a4(jl,t=>{if(t){n.dispatch(Bj(t)),n.dispatch(Xf(t.uid));const a=Wr(Cn,"users",t.uid);e=pV(a,s=>{if(s.exists()){const l=s.data();n.dispatch(Fj(l))}})}else n.dispatch(Hj()),e&&e()})}return e=>t=>e(t)},r6=rL({reducer:{auth:qj,positions:wL,roster:KU,rosterView:ZU,teams:CL,ui:eU,userManagement:X3},middleware:n=>n({serializableCheck:{ignoredActions:["auth/setUser","roster/fetchEntries/fulfilled","roster/saveChanges/fulfilled"],ignoredPaths:["auth.firebaseUser","roster.entries","roster.dirtyEntries","rosterView.users","rosterView.allTeamUsers"]}}).concat(n6)}),i6=JN(t6);yI.createRoot(document.getElementById("root")).render(A.jsx(qS.StrictMode,{children:A.jsx(OI,{store:r6,children:A.jsx(mx,{children:A.jsx(Tk,{children:A.jsx(fx,{router:i6})})})})}));
